(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ih(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dg={exports:{}},Cd={},ey={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),$w=Symbol.for("react.portal"),Uw=Symbol.for("react.fragment"),Ww=Symbol.for("react.strict_mode"),Vw=Symbol.for("react.profiler"),Hw=Symbol.for("react.provider"),Iw=Symbol.for("react.context"),qw=Symbol.for("react.forward_ref"),Gw=Symbol.for("react.suspense"),Yw=Symbol.for("react.memo"),Kw=Symbol.for("react.lazy"),jp=Symbol.iterator;function Zw(e){return e===null||typeof e!="object"?null:(e=jp&&e[jp]||e["@@iterator"],typeof e=="function"?e:null)}var ty={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ry=Object.assign,ny={};function $s(e,t,r){this.props=e,this.context=t,this.refs=ny,this.updater=r||ty}$s.prototype.isReactComponent={};$s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oy(){}oy.prototype=$s.prototype;function qh(e,t,r){this.props=e,this.context=t,this.refs=ny,this.updater=r||ty}var Gh=qh.prototype=new oy;Gh.constructor=qh;ry(Gh,$s.prototype);Gh.isPureReactComponent=!0;var Tp=Array.isArray,iy=Object.prototype.hasOwnProperty,Yh={current:null},sy={key:!0,ref:!0,__self:!0,__source:!0};function ay(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)iy.call(t,n)&&!sy.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:nl,type:e,key:o,ref:a,props:i,_owner:Yh.current}}function Xw(e,t){return{$$typeof:nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kh(e){return typeof e=="object"&&e!==null&&e.$$typeof===nl}function Qw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ep=/\/+/g;function pu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qw(""+e.key):t.toString(36)}function Dl(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case nl:case $w:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+pu(a,0):n,Tp(i)?(r="",e!=null&&(r=e.replace(Ep,"$&/")+"/"),Dl(i,t,r,"",function(d){return d})):i!=null&&(Kh(i)&&(i=Xw(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ep,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Tp(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+pu(o,l);a+=Dl(o,t,r,c,i)}else if(c=Zw(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+pu(o,l++),a+=Dl(o,t,r,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function kl(e,t,r){if(e==null)return e;var n=[],i=0;return Dl(e,n,"","",function(o){return t.call(r,o,i++)}),n}function Jw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nr={current:null},ec={transition:null},Lw={ReactCurrentDispatcher:nr,ReactCurrentBatchConfig:ec,ReactCurrentOwner:Yh};function ly(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:kl,forEach:function(e,t,r){kl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kl(e,function(){t++}),t},toArray:function(e){return kl(e,function(t){return t})||[]},only:function(e){if(!Kh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};We.Component=$s;We.Fragment=Uw;We.Profiler=Vw;We.PureComponent=qh;We.StrictMode=Ww;We.Suspense=Gw;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lw;We.act=ly;We.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ry({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Yh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)iy.call(t,c)&&!sy.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:nl,type:e.type,key:i,ref:o,props:n,_owner:a}};We.createContext=function(e){return e={$$typeof:Iw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hw,_context:e},e.Consumer=e};We.createElement=ay;We.createFactory=function(e){var t=ay.bind(null,e);return t.type=e,t};We.createRef=function(){return{current:null}};We.forwardRef=function(e){return{$$typeof:qw,render:e}};We.isValidElement=Kh;We.lazy=function(e){return{$$typeof:Kw,_payload:{_status:-1,_result:e},_init:Jw}};We.memo=function(e,t){return{$$typeof:Yw,type:e,compare:t===void 0?null:t}};We.startTransition=function(e){var t=ec.transition;ec.transition={};try{e()}finally{ec.transition=t}};We.unstable_act=ly;We.useCallback=function(e,t){return nr.current.useCallback(e,t)};We.useContext=function(e){return nr.current.useContext(e)};We.useDebugValue=function(){};We.useDeferredValue=function(e){return nr.current.useDeferredValue(e)};We.useEffect=function(e,t){return nr.current.useEffect(e,t)};We.useId=function(){return nr.current.useId()};We.useImperativeHandle=function(e,t,r){return nr.current.useImperativeHandle(e,t,r)};We.useInsertionEffect=function(e,t){return nr.current.useInsertionEffect(e,t)};We.useLayoutEffect=function(e,t){return nr.current.useLayoutEffect(e,t)};We.useMemo=function(e,t){return nr.current.useMemo(e,t)};We.useReducer=function(e,t,r){return nr.current.useReducer(e,t,r)};We.useRef=function(e){return nr.current.useRef(e)};We.useState=function(e){return nr.current.useState(e)};We.useSyncExternalStore=function(e,t,r){return nr.current.useSyncExternalStore(e,t,r)};We.useTransition=function(){return nr.current.useTransition()};We.version="18.3.1";ey.exports=We;var T=ey.exports;const pn=Ih(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw=T,ev=Symbol.for("react.element"),tv=Symbol.for("react.fragment"),rv=Object.prototype.hasOwnProperty,nv=Dw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ov={key:!0,ref:!0,__self:!0,__source:!0};function cy(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)rv.call(t,n)&&!ov.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:ev,type:e,key:o,ref:a,props:i,_owner:nv.current}}Cd.Fragment=tv;Cd.jsx=cy;Cd.jsxs=cy;Dg.exports=Cd;var s=Dg.exports,dy={exports:{}},wr={},uy={exports:{}},fy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,ee){var de=Q.length;Q.push(ee);e:for(;0<de;){var ue=de-1>>>1,ae=Q[ue];if(0<i(ae,ee))Q[ue]=ee,Q[de]=ae,de=ue;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ee=Q[0],de=Q.pop();if(de!==ee){Q[0]=de;e:for(var ue=0,ae=Q.length,he=ae>>>1;ue<he;){var z=2*(ue+1)-1,Te=Q[z],be=z+1,xe=Q[be];if(0>i(Te,de))be<ae&&0>i(xe,Te)?(Q[ue]=xe,Q[be]=de,ue=be):(Q[ue]=Te,Q[z]=de,ue=z);else if(be<ae&&0>i(xe,de))Q[ue]=xe,Q[be]=de,ue=be;else break e}}return ee}function i(Q,ee){var de=Q.sortIndex-ee.sortIndex;return de!==0?de:Q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],d=[],b=1,y=null,m=3,u=!1,g=!1,N=!1,W=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Q){for(var ee=r(d);ee!==null;){if(ee.callback===null)n(d);else if(ee.startTime<=Q)n(d),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=r(d)}}function F(Q){if(N=!1,j(Q),!g)if(r(c)!==null)g=!0,Y(C);else{var ee=r(d);ee!==null&&re(F,ee.startTime-Q)}}function C(Q,ee){g=!1,N&&(N=!1,v(M),M=-1),u=!0;var de=m;try{for(j(ee),y=r(c);y!==null&&(!(y.expirationTime>ee)||Q&&!q());){var ue=y.callback;if(typeof ue=="function"){y.callback=null,m=y.priorityLevel;var ae=ue(y.expirationTime<=ee);ee=e.unstable_now(),typeof ae=="function"?y.callback=ae:y===r(c)&&n(c),j(ee)}else n(c);y=r(c)}if(y!==null)var he=!0;else{var z=r(d);z!==null&&re(F,z.startTime-ee),he=!1}return he}finally{y=null,m=de,u=!1}}var B=!1,R=null,M=-1,Z=5,$=-1;function q(){return!(e.unstable_now()-$<Z)}function X(){if(R!==null){var Q=e.unstable_now();$=Q;var ee=!0;try{ee=R(!0,Q)}finally{ee?A():(B=!1,R=null)}}else B=!1}var A;if(typeof w=="function")A=function(){w(X)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=X,A=function(){V.postMessage(null)}}else A=function(){W(X,0)};function Y(Q){R=Q,B||(B=!0,A())}function re(Q,ee){M=W(function(){Q(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){g||u||(g=!0,Y(C))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var de=m;m=ee;try{return Q()}finally{m=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,ee){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=m;m=Q;try{return ee()}finally{m=de}},e.unstable_scheduleCallback=function(Q,ee,de){var ue=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ue+de:ue):de=ue,Q){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=de+ae,Q={id:b++,callback:ee,priorityLevel:Q,startTime:de,expirationTime:ae,sortIndex:-1},de>ue?(Q.sortIndex=de,t(d,Q),r(c)===null&&Q===r(d)&&(N?(v(M),M=-1):N=!0,re(F,de-ue))):(Q.sortIndex=ae,t(c,Q),g||u||(g=!0,Y(C))),Q},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(Q){var ee=m;return function(){var de=m;m=ee;try{return Q.apply(this,arguments)}finally{m=de}}}})(fy);uy.exports=fy;var iv=uy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=T,br=iv;function ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hy=new Set,_a={};function Ai(e,t){Ss(e,t),Ss(e+"Capture",t)}function Ss(e,t){for(_a[e]=t,e=0;e<t.length;e++)hy.add(t[e])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vf=Object.prototype.hasOwnProperty,av=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_p={},Cp={};function lv(e){return vf.call(Cp,e)?!0:vf.call(_p,e)?!1:av.test(e)?Cp[e]=!0:(_p[e]=!0,!1)}function cv(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dv(e,t,r,n){if(t===null||typeof t>"u"||cv(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function or(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mt[t]=new or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new or(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zh=/[\-:]([a-z])/g;function Xh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zh,Xh);Mt[t]=new or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zh,Xh);Mt[t]=new or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zh,Xh);Mt[t]=new or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new or(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new or(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qh(e,t,r,n){var i=Mt.hasOwnProperty(t)?Mt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dv(t,r,i,n)&&(r=null),n||i===null?lv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ro=sv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jl=Symbol.for("react.element"),Ji=Symbol.for("react.portal"),Li=Symbol.for("react.fragment"),Jh=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),py=Symbol.for("react.provider"),my=Symbol.for("react.context"),Lh=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),jf=Symbol.for("react.suspense_list"),Dh=Symbol.for("react.memo"),yo=Symbol.for("react.lazy"),gy=Symbol.for("react.offscreen"),Np=Symbol.iterator;function Ys(e){return e===null||typeof e!="object"?null:(e=Np&&e[Np]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Object.assign,mu;function ia(e){if(mu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mu=t&&t[1]||""}return`
`+mu+e}var gu=!1;function yu(e,t){if(!e||gu)return"";gu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{gu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ia(e):""}function uv(e){switch(e.tag){case 5:return ia(e.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return e=yu(e.type,!1),e;case 11:return e=yu(e.type.render,!1),e;case 1:return e=yu(e.type,!0),e;default:return""}}function Tf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Li:return"Fragment";case Ji:return"Portal";case Sf:return"Profiler";case Jh:return"StrictMode";case kf:return"Suspense";case jf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case my:return(e.displayName||"Context")+".Consumer";case py:return(e._context.displayName||"Context")+".Provider";case Lh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dh:return t=e.displayName||null,t!==null?t:Tf(e.type)||"Memo";case yo:t=e._payload,e=e._init;try{return Tf(e(t))}catch{}}return null}function fv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tf(t);case 8:return t===Jh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Uo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hv(e){var t=yy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tl(e){e._valueTracker||(e._valueTracker=hv(e))}function xy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=yy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Uc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ef(e,t){var r=t.checked;return ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ap(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Uo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function by(e,t){t=t.checked,t!=null&&Qh(e,"checked",t,!1)}function _f(e,t){by(e,t);var r=Uo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Cf(e,t.type,Uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Cf(e,t,r){(t!=="number"||Uc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sa=Array.isArray;function hs(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Uo(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ye(91));return ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ye(92));if(sa(r)){if(1<r.length)throw Error(ye(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Uo(r)}}function wy(e,t){var r=Uo(t.value),n=Uo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Fp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Af(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var El,Sy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=El.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ca(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pv=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(e){pv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ya[t]=ya[e]})});function ky(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ya.hasOwnProperty(e)&&ya[e]?(""+t).trim():t+"px"}function jy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ky(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var mv=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bf(e,t){if(t){if(mv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ye(62))}}function Rf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=null;function e0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zf=null,ps=null,ms=null;function zp(e){if(e=sl(e)){if(typeof zf!="function")throw Error(ye(280));var t=e.stateNode;t&&(t=Fd(t),zf(e.stateNode,e.type,t))}}function Ty(e){ps?ms?ms.push(e):ms=[e]:ps=e}function Ey(){if(ps){var e=ps,t=ms;if(ms=ps=null,zp(e),t)for(e=0;e<t.length;e++)zp(t[e])}}function _y(e,t){return e(t)}function Cy(){}var xu=!1;function Ny(e,t,r){if(xu)return e(t,r);xu=!0;try{return _y(e,t,r)}finally{xu=!1,(ps!==null||ms!==null)&&(Cy(),Ey())}}function Na(e,t){var r=e.stateNode;if(r===null)return null;var n=Fd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ye(231,t,typeof r));return r}var Pf=!1;if(Xn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Pf=!1}function gv(e,t,r,n,i,o,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(b){this.onError(b)}}var xa=!1,Wc=null,Vc=!1,Mf=null,yv={onError:function(e){xa=!0,Wc=e}};function xv(e,t,r,n,i,o,a,l,c){xa=!1,Wc=null,gv.apply(yv,arguments)}function bv(e,t,r,n,i,o,a,l,c){if(xv.apply(this,arguments),xa){if(xa){var d=Wc;xa=!1,Wc=null}else throw Error(ye(198));Vc||(Vc=!0,Mf=d)}}function Bi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ay(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pp(e){if(Bi(e)!==e)throw Error(ye(188))}function wv(e){var t=e.alternate;if(!t){if(t=Bi(e),t===null)throw Error(ye(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Pp(i),e;if(o===n)return Pp(i),t;o=o.sibling}throw Error(ye(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a)throw Error(ye(189))}}if(r.alternate!==n)throw Error(ye(190))}if(r.tag!==3)throw Error(ye(188));return r.stateNode.current===r?e:t}function By(e){return e=wv(e),e!==null?Ry(e):null}function Ry(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ry(e);if(t!==null)return t;e=e.sibling}return null}var Fy=br.unstable_scheduleCallback,Mp=br.unstable_cancelCallback,vv=br.unstable_shouldYield,Sv=br.unstable_requestPaint,pt=br.unstable_now,kv=br.unstable_getCurrentPriorityLevel,t0=br.unstable_ImmediatePriority,zy=br.unstable_UserBlockingPriority,Hc=br.unstable_NormalPriority,jv=br.unstable_LowPriority,Py=br.unstable_IdlePriority,Nd=null,mn=null;function Tv(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Nd,e,void 0,(e.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:Cv,Ev=Math.log,_v=Math.LN2;function Cv(e){return e>>>=0,e===0?32:31-(Ev(e)/_v|0)|0}var _l=64,Cl=4194304;function aa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ic(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=aa(l):(o&=a,o!==0&&(n=aa(o)))}else a=r&~i,a!==0?n=aa(a):o!==0&&(n=aa(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Xr(t),i=1<<r,n|=e[r],t&=~i;return n}function Nv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Av(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Xr(o),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=Nv(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Of(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function My(){var e=_l;return _l<<=1,!(_l&4194240)&&(_l=64),e}function bu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ol(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xr(t),e[t]=r}function Bv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Xr(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function r0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Xr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ze=0;function Oy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $y,n0,Uy,Wy,Vy,$f=!1,Nl=[],No=null,Ao=null,Bo=null,Aa=new Map,Ba=new Map,ko=[],Rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Op(e,t){switch(e){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":Aa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(t.pointerId)}}function Zs(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=sl(t),t!==null&&n0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Fv(e,t,r,n,i){switch(t){case"focusin":return No=Zs(No,e,t,r,n,i),!0;case"dragenter":return Ao=Zs(Ao,e,t,r,n,i),!0;case"mouseover":return Bo=Zs(Bo,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Aa.set(o,Zs(Aa.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Ba.set(o,Zs(Ba.get(o)||null,e,t,r,n,i)),!0}return!1}function Hy(e){var t=oi(e.target);if(t!==null){var r=Bi(t);if(r!==null){if(t=r.tag,t===13){if(t=Ay(r),t!==null){e.blockedOn=t,Vy(e.priority,function(){Uy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Uf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ff=n,r.target.dispatchEvent(n),Ff=null}else return t=sl(r),t!==null&&n0(t),e.blockedOn=r,!1;t.shift()}return!0}function $p(e,t,r){tc(e)&&r.delete(t)}function zv(){$f=!1,No!==null&&tc(No)&&(No=null),Ao!==null&&tc(Ao)&&(Ao=null),Bo!==null&&tc(Bo)&&(Bo=null),Aa.forEach($p),Ba.forEach($p)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,$f||($f=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,zv)))}function Ra(e){function t(i){return Xs(i,e)}if(0<Nl.length){Xs(Nl[0],e);for(var r=1;r<Nl.length;r++){var n=Nl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(No!==null&&Xs(No,e),Ao!==null&&Xs(Ao,e),Bo!==null&&Xs(Bo,e),Aa.forEach(t),Ba.forEach(t),r=0;r<ko.length;r++)n=ko[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ko.length&&(r=ko[0],r.blockedOn===null);)Hy(r),r.blockedOn===null&&ko.shift()}var gs=ro.ReactCurrentBatchConfig,qc=!0;function Pv(e,t,r,n){var i=Ze,o=gs.transition;gs.transition=null;try{Ze=1,o0(e,t,r,n)}finally{Ze=i,gs.transition=o}}function Mv(e,t,r,n){var i=Ze,o=gs.transition;gs.transition=null;try{Ze=4,o0(e,t,r,n)}finally{Ze=i,gs.transition=o}}function o0(e,t,r,n){if(qc){var i=Uf(e,t,r,n);if(i===null)Nu(e,t,n,Gc,r),Op(e,n);else if(Fv(i,e,t,r,n))n.stopPropagation();else if(Op(e,n),t&4&&-1<Rv.indexOf(e)){for(;i!==null;){var o=sl(i);if(o!==null&&$y(o),o=Uf(e,t,r,n),o===null&&Nu(e,t,n,Gc,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Nu(e,t,n,null,r)}}var Gc=null;function Uf(e,t,r,n){if(Gc=null,e=e0(n),e=oi(e),e!==null)if(t=Bi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ay(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gc=e,null}function Iy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kv()){case t0:return 1;case zy:return 4;case Hc:case jv:return 16;case Py:return 536870912;default:return 16}default:return 16}}var Eo=null,i0=null,rc=null;function qy(){if(rc)return rc;var e,t=i0,r=t.length,n,i="value"in Eo?Eo.value:Eo.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return rc=i.slice(e,1<n?1-n:void 0)}function nc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Al(){return!0}function Up(){return!1}function vr(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Al:Up,this.isPropagationStopped=Up,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Al)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Al)},persist:function(){},isPersistent:Al}),t}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s0=vr(Us),il=ct({},Us,{view:0,detail:0}),Ov=vr(il),wu,vu,Qs,Ad=ct({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(wu=e.screenX-Qs.screenX,vu=e.screenY-Qs.screenY):vu=wu=0,Qs=e),wu)},movementY:function(e){return"movementY"in e?e.movementY:vu}}),Wp=vr(Ad),$v=ct({},Ad,{dataTransfer:0}),Uv=vr($v),Wv=ct({},il,{relatedTarget:0}),Su=vr(Wv),Vv=ct({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),Hv=vr(Vv),Iv=ct({},Us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qv=vr(Iv),Gv=ct({},Us,{data:0}),Vp=vr(Gv),Yv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zv[e])?!!t[e]:!1}function a0(){return Xv}var Qv=ct({},il,{key:function(e){if(e.key){var t=Yv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a0,charCode:function(e){return e.type==="keypress"?nc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jv=vr(Qv),Lv=ct({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hp=vr(Lv),Dv=ct({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a0}),e5=vr(Dv),t5=ct({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),r5=vr(t5),n5=ct({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),o5=vr(n5),i5=[9,13,27,32],l0=Xn&&"CompositionEvent"in window,ba=null;Xn&&"documentMode"in document&&(ba=document.documentMode);var s5=Xn&&"TextEvent"in window&&!ba,Gy=Xn&&(!l0||ba&&8<ba&&11>=ba),Ip=String.fromCharCode(32),qp=!1;function Yy(e,t){switch(e){case"keyup":return i5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function a5(e,t){switch(e){case"compositionend":return Ky(t);case"keypress":return t.which!==32?null:(qp=!0,Ip);case"textInput":return e=t.data,e===Ip&&qp?null:e;default:return null}}function l5(e,t){if(Di)return e==="compositionend"||!l0&&Yy(e,t)?(e=qy(),rc=i0=Eo=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gy&&t.locale!=="ko"?null:t.data;default:return null}}var c5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!c5[e.type]:t==="textarea"}function Zy(e,t,r,n){Ty(n),t=Yc(t,"onChange"),0<t.length&&(r=new s0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wa=null,Fa=null;function d5(e){i1(e,0)}function Bd(e){var t=rs(e);if(xy(t))return e}function u5(e,t){if(e==="change")return t}var Xy=!1;if(Xn){var ku;if(Xn){var ju="oninput"in document;if(!ju){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),ju=typeof Yp.oninput=="function"}ku=ju}else ku=!1;Xy=ku&&(!document.documentMode||9<document.documentMode)}function Kp(){wa&&(wa.detachEvent("onpropertychange",Qy),Fa=wa=null)}function Qy(e){if(e.propertyName==="value"&&Bd(Fa)){var t=[];Zy(t,Fa,e,e0(e)),Ny(d5,t)}}function f5(e,t,r){e==="focusin"?(Kp(),wa=t,Fa=r,wa.attachEvent("onpropertychange",Qy)):e==="focusout"&&Kp()}function h5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bd(Fa)}function p5(e,t){if(e==="click")return Bd(t)}function m5(e,t){if(e==="input"||e==="change")return Bd(t)}function g5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:g5;function za(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!vf.call(t,i)||!Lr(e[i],t[i]))return!1}return!0}function Zp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xp(e,t){var r=Zp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zp(r)}}function Jy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ly(){for(var e=window,t=Uc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Uc(e.document)}return t}function c0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function y5(e){var t=Ly(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Jy(r.ownerDocument.documentElement,r)){if(n!==null&&c0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=Xp(r,o);var a=Xp(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var x5=Xn&&"documentMode"in document&&11>=document.documentMode,es=null,Wf=null,va=null,Vf=!1;function Qp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vf||es==null||es!==Uc(n)||(n=es,"selectionStart"in n&&c0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),va&&za(va,n)||(va=n,n=Yc(Wf,"onSelect"),0<n.length&&(t=new s0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=es)))}function Bl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ts={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},Tu={},Dy={};Xn&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function Rd(e){if(Tu[e])return Tu[e];if(!ts[e])return e;var t=ts[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Dy)return Tu[e]=t[r];return e}var e1=Rd("animationend"),t1=Rd("animationiteration"),r1=Rd("animationstart"),n1=Rd("transitionend"),o1=new Map,Jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(e,t){o1.set(e,t),Ai(t,[e])}for(var Eu=0;Eu<Jp.length;Eu++){var _u=Jp[Eu],b5=_u.toLowerCase(),w5=_u[0].toUpperCase()+_u.slice(1);qo(b5,"on"+w5)}qo(e1,"onAnimationEnd");qo(t1,"onAnimationIteration");qo(r1,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(n1,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v5=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function Lp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bv(n,t,void 0,e),e.currentTarget=null}function i1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&i.isPropagationStopped())break e;Lp(i,l,d),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&i.isPropagationStopped())break e;Lp(i,l,d),o=c}}}if(Vc)throw e=Mf,Vc=!1,Mf=null,e}function tt(e,t){var r=t[Yf];r===void 0&&(r=t[Yf]=new Set);var n=e+"__bubble";r.has(n)||(s1(t,e,2,!1),r.add(n))}function Cu(e,t,r){var n=0;t&&(n|=4),s1(r,e,n,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function Pa(e){if(!e[Rl]){e[Rl]=!0,hy.forEach(function(r){r!=="selectionchange"&&(v5.has(r)||Cu(r,!1,e),Cu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,Cu("selectionchange",!1,t))}}function s1(e,t,r,n){switch(Iy(t)){case 1:var i=Pv;break;case 4:i=Mv;break;default:i=o0}r=i.bind(null,t,r,e),i=void 0,!Pf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Nu(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=oi(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}Ny(function(){var d=o,b=e0(r),y=[];e:{var m=o1.get(e);if(m!==void 0){var u=s0,g=e;switch(e){case"keypress":if(nc(r)===0)break e;case"keydown":case"keyup":u=Jv;break;case"focusin":g="focus",u=Su;break;case"focusout":g="blur",u=Su;break;case"beforeblur":case"afterblur":u=Su;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=Wp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=Uv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=e5;break;case e1:case t1:case r1:u=Hv;break;case n1:u=r5;break;case"scroll":u=Ov;break;case"wheel":u=o5;break;case"copy":case"cut":case"paste":u=qv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Hp}var N=(t&4)!==0,W=!N&&e==="scroll",v=N?m!==null?m+"Capture":null:m;N=[];for(var w=d,j;w!==null;){j=w;var F=j.stateNode;if(j.tag===5&&F!==null&&(j=F,v!==null&&(F=Na(w,v),F!=null&&N.push(Ma(w,F,j)))),W)break;w=w.return}0<N.length&&(m=new u(m,g,null,r,b),y.push({event:m,listeners:N}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",u=e==="mouseout"||e==="pointerout",m&&r!==Ff&&(g=r.relatedTarget||r.fromElement)&&(oi(g)||g[Qn]))break e;if((u||m)&&(m=b.window===b?b:(m=b.ownerDocument)?m.defaultView||m.parentWindow:window,u?(g=r.relatedTarget||r.toElement,u=d,g=g?oi(g):null,g!==null&&(W=Bi(g),g!==W||g.tag!==5&&g.tag!==6)&&(g=null)):(u=null,g=d),u!==g)){if(N=Wp,F="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(N=Hp,F="onPointerLeave",v="onPointerEnter",w="pointer"),W=u==null?m:rs(u),j=g==null?m:rs(g),m=new N(F,w+"leave",u,r,b),m.target=W,m.relatedTarget=j,F=null,oi(b)===d&&(N=new N(v,w+"enter",g,r,b),N.target=j,N.relatedTarget=W,F=N),W=F,u&&g)t:{for(N=u,v=g,w=0,j=N;j;j=Pi(j))w++;for(j=0,F=v;F;F=Pi(F))j++;for(;0<w-j;)N=Pi(N),w--;for(;0<j-w;)v=Pi(v),j--;for(;w--;){if(N===v||v!==null&&N===v.alternate)break t;N=Pi(N),v=Pi(v)}N=null}else N=null;u!==null&&Dp(y,m,u,N,!1),g!==null&&W!==null&&Dp(y,W,g,N,!0)}}e:{if(m=d?rs(d):window,u=m.nodeName&&m.nodeName.toLowerCase(),u==="select"||u==="input"&&m.type==="file")var C=u5;else if(Gp(m))if(Xy)C=m5;else{C=h5;var B=f5}else(u=m.nodeName)&&u.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=p5);if(C&&(C=C(e,d))){Zy(y,C,r,b);break e}B&&B(e,m,d),e==="focusout"&&(B=m._wrapperState)&&B.controlled&&m.type==="number"&&Cf(m,"number",m.value)}switch(B=d?rs(d):window,e){case"focusin":(Gp(B)||B.contentEditable==="true")&&(es=B,Wf=d,va=null);break;case"focusout":va=Wf=es=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Qp(y,r,b);break;case"selectionchange":if(x5)break;case"keydown":case"keyup":Qp(y,r,b)}var R;if(l0)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Di?Yy(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(Gy&&r.locale!=="ko"&&(Di||M!=="onCompositionStart"?M==="onCompositionEnd"&&Di&&(R=qy()):(Eo=b,i0="value"in Eo?Eo.value:Eo.textContent,Di=!0)),B=Yc(d,M),0<B.length&&(M=new Vp(M,e,null,r,b),y.push({event:M,listeners:B}),R?M.data=R:(R=Ky(r),R!==null&&(M.data=R)))),(R=s5?a5(e,r):l5(e,r))&&(d=Yc(d,"onBeforeInput"),0<d.length&&(b=new Vp("onBeforeInput","beforeinput",null,r,b),y.push({event:b,listeners:d}),b.data=R))}i1(y,t)})}function Ma(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yc(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Na(e,r),o!=null&&n.unshift(Ma(e,o,i)),o=Na(e,t),o!=null&&n.push(Ma(e,o,i))),e=e.return}return n}function Pi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dp(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=Na(r,o),c!=null&&a.unshift(Ma(r,c,l))):i||(c=Na(r,o),c!=null&&a.push(Ma(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var S5=/\r\n?/g,k5=/\u0000|\uFFFD/g;function em(e){return(typeof e=="string"?e:""+e).replace(S5,`
`).replace(k5,"")}function Fl(e,t,r){if(t=em(t),em(e)!==t&&r)throw Error(ye(425))}function Kc(){}var Hf=null,If=null;function qf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,j5=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,T5=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(e){return tm.resolve(null).then(e).catch(E5)}:Gf;function E5(e){setTimeout(function(){throw e})}function Au(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ra(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ra(t)}function Ro(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),un="__reactFiber$"+Ws,Oa="__reactProps$"+Ws,Qn="__reactContainer$"+Ws,Yf="__reactEvents$"+Ws,_5="__reactListeners$"+Ws,C5="__reactHandles$"+Ws;function oi(e){var t=e[un];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qn]||r[un]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rm(e);e!==null;){if(r=e[un])return r;e=rm(e)}return t}e=r,r=e.parentNode}return null}function sl(e){return e=e[un]||e[Qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ye(33))}function Fd(e){return e[Oa]||null}var Kf=[],ns=-1;function Go(e){return{current:e}}function rt(e){0>ns||(e.current=Kf[ns],Kf[ns]=null,ns--)}function et(e,t){ns++,Kf[ns]=e.current,e.current=t}var Wo={},Yt=Go(Wo),dr=Go(!1),xi=Wo;function ks(e,t){var r=e.type.contextTypes;if(!r)return Wo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ur(e){return e=e.childContextTypes,e!=null}function Zc(){rt(dr),rt(Yt)}function nm(e,t,r){if(Yt.current!==Wo)throw Error(ye(168));et(Yt,t),et(dr,r)}function a1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ye(108,fv(e)||"Unknown",i));return ct({},r,n)}function Xc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wo,xi=Yt.current,et(Yt,e),et(dr,dr.current),!0}function om(e,t,r){var n=e.stateNode;if(!n)throw Error(ye(169));r?(e=a1(e,t,xi),n.__reactInternalMemoizedMergedChildContext=e,rt(dr),rt(Yt),et(Yt,e)):rt(dr),et(dr,r)}var Mn=null,zd=!1,Bu=!1;function l1(e){Mn===null?Mn=[e]:Mn.push(e)}function N5(e){zd=!0,l1(e)}function Yo(){if(!Bu&&Mn!==null){Bu=!0;var e=0,t=Ze;try{var r=Mn;for(Ze=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Mn=null,zd=!1}catch(i){throw Mn!==null&&(Mn=Mn.slice(e+1)),Fy(t0,Yo),i}finally{Ze=t,Bu=!1}}return null}var os=[],is=0,Qc=null,Jc=0,jr=[],Tr=0,bi=null,Wn=1,Vn="";function Qo(e,t){os[is++]=Jc,os[is++]=Qc,Qc=e,Jc=t}function c1(e,t,r){jr[Tr++]=Wn,jr[Tr++]=Vn,jr[Tr++]=bi,bi=e;var n=Wn;e=Vn;var i=32-Xr(n)-1;n&=~(1<<i),r+=1;var o=32-Xr(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Wn=1<<32-Xr(t)+i|r<<i|n,Vn=o+e}else Wn=1<<o|r<<i|n,Vn=e}function d0(e){e.return!==null&&(Qo(e,1),c1(e,1,0))}function u0(e){for(;e===Qc;)Qc=os[--is],os[is]=null,Jc=os[--is],os[is]=null;for(;e===bi;)bi=jr[--Tr],jr[Tr]=null,Vn=jr[--Tr],jr[Tr]=null,Wn=jr[--Tr],jr[Tr]=null}var xr=null,gr=null,it=!1,Kr=null;function d1(e,t){var r=_r(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function im(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xr=e,gr=Ro(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xr=e,gr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bi!==null?{id:Wn,overflow:Vn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_r(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xr=e,gr=null,!0):!1;default:return!1}}function Zf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xf(e){if(it){var t=gr;if(t){var r=t;if(!im(e,t)){if(Zf(e))throw Error(ye(418));t=Ro(r.nextSibling);var n=xr;t&&im(e,t)?d1(n,r):(e.flags=e.flags&-4097|2,it=!1,xr=e)}}else{if(Zf(e))throw Error(ye(418));e.flags=e.flags&-4097|2,it=!1,xr=e}}}function sm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xr=e}function zl(e){if(e!==xr)return!1;if(!it)return sm(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qf(e.type,e.memoizedProps)),t&&(t=gr)){if(Zf(e))throw u1(),Error(ye(418));for(;t;)d1(e,t),t=Ro(t.nextSibling)}if(sm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){gr=Ro(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}gr=null}}else gr=xr?Ro(e.stateNode.nextSibling):null;return!0}function u1(){for(var e=gr;e;)e=Ro(e.nextSibling)}function js(){gr=xr=null,it=!1}function f0(e){Kr===null?Kr=[e]:Kr.push(e)}var A5=ro.ReactCurrentBatchConfig;function Js(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ye(309));var n=r.stateNode}if(!n)throw Error(ye(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ye(284));if(!r._owner)throw Error(ye(290,e))}return e}function Pl(e,t){throw e=Object.prototype.toString.call(t),Error(ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function am(e){var t=e._init;return t(e._payload)}function f1(e){function t(v,w){if(e){var j=v.deletions;j===null?(v.deletions=[w],v.flags|=16):j.push(w)}}function r(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function n(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Mo(v,w),v.index=0,v.sibling=null,v}function o(v,w,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<w?(v.flags|=2,w):j):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,w,j,F){return w===null||w.tag!==6?(w=$u(j,v.mode,F),w.return=v,w):(w=i(w,j),w.return=v,w)}function c(v,w,j,F){var C=j.type;return C===Li?b(v,w,j.props.children,F,j.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yo&&am(C)===w.type)?(F=i(w,j.props),F.ref=Js(v,w,j),F.return=v,F):(F=dc(j.type,j.key,j.props,null,v.mode,F),F.ref=Js(v,w,j),F.return=v,F)}function d(v,w,j,F){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=Uu(j,v.mode,F),w.return=v,w):(w=i(w,j.children||[]),w.return=v,w)}function b(v,w,j,F,C){return w===null||w.tag!==7?(w=fi(j,v.mode,F,C),w.return=v,w):(w=i(w,j),w.return=v,w)}function y(v,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return w=$u(""+w,v.mode,j),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case jl:return j=dc(w.type,w.key,w.props,null,v.mode,j),j.ref=Js(v,null,w),j.return=v,j;case Ji:return w=Uu(w,v.mode,j),w.return=v,w;case yo:var F=w._init;return y(v,F(w._payload),j)}if(sa(w)||Ys(w))return w=fi(w,v.mode,j,null),w.return=v,w;Pl(v,w)}return null}function m(v,w,j,F){var C=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return C!==null?null:l(v,w,""+j,F);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case jl:return j.key===C?c(v,w,j,F):null;case Ji:return j.key===C?d(v,w,j,F):null;case yo:return C=j._init,m(v,w,C(j._payload),F)}if(sa(j)||Ys(j))return C!==null?null:b(v,w,j,F,null);Pl(v,j)}return null}function u(v,w,j,F,C){if(typeof F=="string"&&F!==""||typeof F=="number")return v=v.get(j)||null,l(w,v,""+F,C);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case jl:return v=v.get(F.key===null?j:F.key)||null,c(w,v,F,C);case Ji:return v=v.get(F.key===null?j:F.key)||null,d(w,v,F,C);case yo:var B=F._init;return u(v,w,j,B(F._payload),C)}if(sa(F)||Ys(F))return v=v.get(j)||null,b(w,v,F,C,null);Pl(w,F)}return null}function g(v,w,j,F){for(var C=null,B=null,R=w,M=w=0,Z=null;R!==null&&M<j.length;M++){R.index>M?(Z=R,R=null):Z=R.sibling;var $=m(v,R,j[M],F);if($===null){R===null&&(R=Z);break}e&&R&&$.alternate===null&&t(v,R),w=o($,w,M),B===null?C=$:B.sibling=$,B=$,R=Z}if(M===j.length)return r(v,R),it&&Qo(v,M),C;if(R===null){for(;M<j.length;M++)R=y(v,j[M],F),R!==null&&(w=o(R,w,M),B===null?C=R:B.sibling=R,B=R);return it&&Qo(v,M),C}for(R=n(v,R);M<j.length;M++)Z=u(R,v,M,j[M],F),Z!==null&&(e&&Z.alternate!==null&&R.delete(Z.key===null?M:Z.key),w=o(Z,w,M),B===null?C=Z:B.sibling=Z,B=Z);return e&&R.forEach(function(q){return t(v,q)}),it&&Qo(v,M),C}function N(v,w,j,F){var C=Ys(j);if(typeof C!="function")throw Error(ye(150));if(j=C.call(j),j==null)throw Error(ye(151));for(var B=C=null,R=w,M=w=0,Z=null,$=j.next();R!==null&&!$.done;M++,$=j.next()){R.index>M?(Z=R,R=null):Z=R.sibling;var q=m(v,R,$.value,F);if(q===null){R===null&&(R=Z);break}e&&R&&q.alternate===null&&t(v,R),w=o(q,w,M),B===null?C=q:B.sibling=q,B=q,R=Z}if($.done)return r(v,R),it&&Qo(v,M),C;if(R===null){for(;!$.done;M++,$=j.next())$=y(v,$.value,F),$!==null&&(w=o($,w,M),B===null?C=$:B.sibling=$,B=$);return it&&Qo(v,M),C}for(R=n(v,R);!$.done;M++,$=j.next())$=u(R,v,M,$.value,F),$!==null&&(e&&$.alternate!==null&&R.delete($.key===null?M:$.key),w=o($,w,M),B===null?C=$:B.sibling=$,B=$);return e&&R.forEach(function(X){return t(v,X)}),it&&Qo(v,M),C}function W(v,w,j,F){if(typeof j=="object"&&j!==null&&j.type===Li&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case jl:e:{for(var C=j.key,B=w;B!==null;){if(B.key===C){if(C=j.type,C===Li){if(B.tag===7){r(v,B.sibling),w=i(B,j.props.children),w.return=v,v=w;break e}}else if(B.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yo&&am(C)===B.type){r(v,B.sibling),w=i(B,j.props),w.ref=Js(v,B,j),w.return=v,v=w;break e}r(v,B);break}else t(v,B);B=B.sibling}j.type===Li?(w=fi(j.props.children,v.mode,F,j.key),w.return=v,v=w):(F=dc(j.type,j.key,j.props,null,v.mode,F),F.ref=Js(v,w,j),F.return=v,v=F)}return a(v);case Ji:e:{for(B=j.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){r(v,w.sibling),w=i(w,j.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else t(v,w);w=w.sibling}w=Uu(j,v.mode,F),w.return=v,v=w}return a(v);case yo:return B=j._init,W(v,w,B(j._payload),F)}if(sa(j))return g(v,w,j,F);if(Ys(j))return N(v,w,j,F);Pl(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,w!==null&&w.tag===6?(r(v,w.sibling),w=i(w,j),w.return=v,v=w):(r(v,w),w=$u(j,v.mode,F),w.return=v,v=w),a(v)):r(v,w)}return W}var Ts=f1(!0),h1=f1(!1),Lc=Go(null),Dc=null,ss=null,h0=null;function p0(){h0=ss=Dc=null}function m0(e){var t=Lc.current;rt(Lc),e._currentValue=t}function Qf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ys(e,t){Dc=e,h0=ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lr=!0),e.firstContext=null)}function Ar(e){var t=e._currentValue;if(h0!==e)if(e={context:e,memoizedValue:t,next:null},ss===null){if(Dc===null)throw Error(ye(308));ss=e,Dc.dependencies={lanes:0,firstContext:e}}else ss=ss.next=e;return t}var ii=null;function g0(e){ii===null?ii=[e]:ii.push(e)}function p1(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,g0(t)):(r.next=i.next,i.next=r),t.interleaved=r,Jn(e,n)}function Jn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xo=!1;function y0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,qe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Jn(e,r)}return i=n.interleaved,i===null?(t.next=t,g0(n)):(t.next=i.next,i.next=t),n.interleaved=t,Jn(e,r)}function oc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,r0(e,r)}}function lm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ed(e,t,r,n){var i=e.updateQueue;xo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?o=d:a.next=d,a=c;var b=e.alternate;b!==null&&(b=b.updateQueue,l=b.lastBaseUpdate,l!==a&&(l===null?b.firstBaseUpdate=d:l.next=d,b.lastBaseUpdate=c))}if(o!==null){var y=i.baseState;a=0,b=d=c=null,l=o;do{var m=l.lane,u=l.eventTime;if((n&m)===m){b!==null&&(b=b.next={eventTime:u,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,N=l;switch(m=t,u=r,N.tag){case 1:if(g=N.payload,typeof g=="function"){y=g.call(u,y,m);break e}y=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=N.payload,m=typeof g=="function"?g.call(u,y,m):g,m==null)break e;y=ct({},y,m);break e;case 2:xo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else u={eventTime:u,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},b===null?(d=b=u,c=y):b=b.next=u,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(b===null&&(c=y),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=b,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);vi|=a,e.lanes=a,e.memoizedState=y}}function cm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ye(191,i));i.call(n)}}}var al={},gn=Go(al),$a=Go(al),Ua=Go(al);function si(e){if(e===al)throw Error(ye(174));return e}function x0(e,t){switch(et(Ua,t),et($a,e),et(gn,al),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Af(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Af(t,e)}rt(gn),et(gn,t)}function Es(){rt(gn),rt($a),rt(Ua)}function g1(e){si(Ua.current);var t=si(gn.current),r=Af(t,e.type);t!==r&&(et($a,e),et(gn,r))}function b0(e){$a.current===e&&(rt(gn),rt($a))}var st=Go(0);function td(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ru=[];function w0(){for(var e=0;e<Ru.length;e++)Ru[e]._workInProgressVersionPrimary=null;Ru.length=0}var ic=ro.ReactCurrentDispatcher,Fu=ro.ReactCurrentBatchConfig,wi=0,at=null,bt=null,Et=null,rd=!1,Sa=!1,Wa=0,B5=0;function Ot(){throw Error(ye(321))}function v0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lr(e[r],t[r]))return!1;return!0}function S0(e,t,r,n,i,o){if(wi=o,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ic.current=e===null||e.memoizedState===null?P5:M5,e=r(n,i),Sa){o=0;do{if(Sa=!1,Wa=0,25<=o)throw Error(ye(301));o+=1,Et=bt=null,t.updateQueue=null,ic.current=O5,e=r(n,i)}while(Sa)}if(ic.current=nd,t=bt!==null&&bt.next!==null,wi=0,Et=bt=at=null,rd=!1,t)throw Error(ye(300));return e}function k0(){var e=Wa!==0;return Wa=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?at.memoizedState=Et=e:Et=Et.next=e,Et}function Br(){if(bt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=Et===null?at.memoizedState:Et.next;if(t!==null)Et=t,bt=e;else{if(e===null)throw Error(ye(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Et===null?at.memoizedState=Et=e:Et=Et.next=e}return Et}function Va(e,t){return typeof t=="function"?t(e):t}function zu(e){var t=Br(),r=t.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=e;var n=bt,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var l=a=null,c=null,d=o;do{var b=d.lane;if((wi&b)===b)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var y={lane:b,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=y,a=n):c=c.next=y,at.lanes|=b,vi|=b}d=d.next}while(d!==null&&d!==o);c===null?a=n:c.next=l,Lr(n,t.memoizedState)||(lr=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,at.lanes|=o,vi|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pu(e){var t=Br(),r=t.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Lr(o,t.memoizedState)||(lr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function y1(){}function x1(e,t){var r=at,n=Br(),i=t(),o=!Lr(n.memoizedState,i);if(o&&(n.memoizedState=i,lr=!0),n=n.queue,j0(v1.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Et!==null&&Et.memoizedState.tag&1){if(r.flags|=2048,Ha(9,w1.bind(null,r,n,i,t),void 0,null),Ct===null)throw Error(ye(349));wi&30||b1(r,t,i)}return i}function b1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function w1(e,t,r,n){t.value=r,t.getSnapshot=n,S1(t)&&k1(e)}function v1(e,t,r){return r(function(){S1(t)&&k1(e)})}function S1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lr(e,r)}catch{return!0}}function k1(e){var t=Jn(e,1);t!==null&&Qr(t,e,1,-1)}function dm(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t.queue=e,e=e.dispatch=z5.bind(null,at,e),[t.memoizedState,e]}function Ha(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function j1(){return Br().memoizedState}function sc(e,t,r,n){var i=ln();at.flags|=e,i.memoizedState=Ha(1|t,r,void 0,n===void 0?null:n)}function Pd(e,t,r,n){var i=Br();n=n===void 0?null:n;var o=void 0;if(bt!==null){var a=bt.memoizedState;if(o=a.destroy,n!==null&&v0(n,a.deps)){i.memoizedState=Ha(t,r,o,n);return}}at.flags|=e,i.memoizedState=Ha(1|t,r,o,n)}function um(e,t){return sc(8390656,8,e,t)}function j0(e,t){return Pd(2048,8,e,t)}function T1(e,t){return Pd(4,2,e,t)}function E1(e,t){return Pd(4,4,e,t)}function _1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function C1(e,t,r){return r=r!=null?r.concat([e]):null,Pd(4,4,_1.bind(null,t,e),r)}function T0(){}function N1(e,t){var r=Br();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&v0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function A1(e,t){var r=Br();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&v0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function B1(e,t,r){return wi&21?(Lr(r,t)||(r=My(),at.lanes|=r,vi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lr=!0),e.memoizedState=r)}function R5(e,t){var r=Ze;Ze=r!==0&&4>r?r:4,e(!0);var n=Fu.transition;Fu.transition={};try{e(!1),t()}finally{Ze=r,Fu.transition=n}}function R1(){return Br().memoizedState}function F5(e,t,r){var n=Po(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},F1(e))z1(t,r);else if(r=p1(e,t,r,n),r!==null){var i=rr();Qr(r,e,n,i),P1(r,t,n)}}function z5(e,t,r){var n=Po(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(F1(e))z1(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(i.hasEagerState=!0,i.eagerState=l,Lr(l,a)){var c=t.interleaved;c===null?(i.next=i,g0(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=p1(e,t,i,n),r!==null&&(i=rr(),Qr(r,e,n,i),P1(r,t,n))}}function F1(e){var t=e.alternate;return e===at||t!==null&&t===at}function z1(e,t){Sa=rd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function P1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,r0(e,r)}}var nd={readContext:Ar,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},P5={readContext:Ar,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Ar,useEffect:um,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,sc(4194308,4,_1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return sc(4194308,4,e,t)},useInsertionEffect:function(e,t){return sc(4,2,e,t)},useMemo:function(e,t){var r=ln();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ln();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=F5.bind(null,at,e),[n.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:dm,useDebugValue:T0,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=dm(!1),t=e[0];return e=R5.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=at,i=ln();if(it){if(r===void 0)throw Error(ye(407));r=r()}else{if(r=t(),Ct===null)throw Error(ye(349));wi&30||b1(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,um(v1.bind(null,n,o,e),[e]),n.flags|=2048,Ha(9,w1.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=ln(),t=Ct.identifierPrefix;if(it){var r=Vn,n=Wn;r=(n&~(1<<32-Xr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=B5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},M5={readContext:Ar,useCallback:N1,useContext:Ar,useEffect:j0,useImperativeHandle:C1,useInsertionEffect:T1,useLayoutEffect:E1,useMemo:A1,useReducer:zu,useRef:j1,useState:function(){return zu(Va)},useDebugValue:T0,useDeferredValue:function(e){var t=Br();return B1(t,bt.memoizedState,e)},useTransition:function(){var e=zu(Va)[0],t=Br().memoizedState;return[e,t]},useMutableSource:y1,useSyncExternalStore:x1,useId:R1,unstable_isNewReconciler:!1},O5={readContext:Ar,useCallback:N1,useContext:Ar,useEffect:j0,useImperativeHandle:C1,useInsertionEffect:T1,useLayoutEffect:E1,useMemo:A1,useReducer:Pu,useRef:j1,useState:function(){return Pu(Va)},useDebugValue:T0,useDeferredValue:function(e){var t=Br();return bt===null?t.memoizedState=e:B1(t,bt.memoizedState,e)},useTransition:function(){var e=Pu(Va)[0],t=Br().memoizedState;return[e,t]},useMutableSource:y1,useSyncExternalStore:x1,useId:R1,unstable_isNewReconciler:!1};function Ir(e,t){if(e&&e.defaultProps){t=ct({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Jf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ct({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Md={isMounted:function(e){return(e=e._reactInternals)?Bi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rr(),i=Po(e),o=Yn(n,i);o.payload=t,r!=null&&(o.callback=r),t=Fo(e,o,i),t!==null&&(Qr(t,e,i,n),oc(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rr(),i=Po(e),o=Yn(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Fo(e,o,i),t!==null&&(Qr(t,e,i,n),oc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rr(),n=Po(e),i=Yn(r,n);i.tag=2,t!=null&&(i.callback=t),t=Fo(e,i,n),t!==null&&(Qr(t,e,n,r),oc(t,e,n))}};function fm(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!za(r,n)||!za(i,o):!0}function M1(e,t,r){var n=!1,i=Wo,o=t.contextType;return typeof o=="object"&&o!==null?o=Ar(o):(i=ur(t)?xi:Yt.current,n=t.contextTypes,o=(n=n!=null)?ks(e,i):Wo),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Md,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function hm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Md.enqueueReplaceState(t,t.state,null)}function Lf(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},y0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ar(o):(o=ur(t)?xi:Yt.current,i.context=ks(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Jf(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Md.enqueueReplaceState(i,i.state,null),ed(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _s(e,t){try{var r="",n=t;do r+=uv(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Mu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Df(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $5=typeof WeakMap=="function"?WeakMap:Map;function O1(e,t,r){r=Yn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){id||(id=!0,ch=n),Df(e,t)},r}function $1(e,t,r){r=Yn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Df(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Df(e,t),typeof n!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function pm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $5;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=L5.bind(null,e,t,r),t.then(e,e))}function mm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gm(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yn(-1,1),t.tag=2,Fo(r,t,1))),r.lanes|=1),e)}var U5=ro.ReactCurrentOwner,lr=!1;function er(e,t,r,n){t.child=e===null?h1(t,null,r,n):Ts(t,e.child,r,n)}function ym(e,t,r,n,i){r=r.render;var o=t.ref;return ys(t,i),n=S0(e,t,r,n,o,i),r=k0(),e!==null&&!lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ln(e,t,i)):(it&&r&&d0(t),t.flags|=1,er(e,t,n,i),t.child)}function xm(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!F0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,U1(e,t,o,n,i)):(e=dc(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:za,r(a,n)&&e.ref===t.ref)return Ln(e,t,i)}return t.flags|=1,e=Mo(o,n),e.ref=t.ref,e.return=t,t.child=e}function U1(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(za(o,n)&&e.ref===t.ref)if(lr=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(lr=!0);else return t.lanes=e.lanes,Ln(e,t,i)}return eh(e,t,r,n,i)}function W1(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(ls,pr),pr|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(ls,pr),pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,et(ls,pr),pr|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,et(ls,pr),pr|=n;return er(e,t,i,r),t.child}function V1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function eh(e,t,r,n,i){var o=ur(r)?xi:Yt.current;return o=ks(t,o),ys(t,i),r=S0(e,t,r,n,o,i),n=k0(),e!==null&&!lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ln(e,t,i)):(it&&n&&d0(t),t.flags|=1,er(e,t,r,i),t.child)}function bm(e,t,r,n,i){if(ur(r)){var o=!0;Xc(t)}else o=!1;if(ys(t,i),t.stateNode===null)ac(e,t),M1(t,r,n),Lf(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ar(d):(d=ur(r)?xi:Yt.current,d=ks(t,d));var b=r.getDerivedStateFromProps,y=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function";y||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==d)&&hm(t,a,n,d),xo=!1;var m=t.memoizedState;a.state=m,ed(t,n,a,i),c=t.memoizedState,l!==n||m!==c||dr.current||xo?(typeof b=="function"&&(Jf(t,r,b,n),c=t.memoizedState),(l=xo||fm(t,r,l,n,m,c,d))?(y||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=d,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,m1(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ir(t.type,l),a.props=d,y=t.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ar(c):(c=ur(r)?xi:Yt.current,c=ks(t,c));var u=r.getDerivedStateFromProps;(b=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==y||m!==c)&&hm(t,a,n,c),xo=!1,m=t.memoizedState,a.state=m,ed(t,n,a,i);var g=t.memoizedState;l!==y||m!==g||dr.current||xo?(typeof u=="function"&&(Jf(t,r,u,n),g=t.memoizedState),(d=xo||fm(t,r,d,n,m,g,c)||!1)?(b||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return th(e,t,r,n,o,i)}function th(e,t,r,n,i,o){V1(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&om(t,r,!1),Ln(e,t,o);n=t.stateNode,U5.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ts(t,e.child,null,o),t.child=Ts(t,null,l,o)):er(e,t,l,o),t.memoizedState=n.state,i&&om(t,r,!0),t.child}function H1(e){var t=e.stateNode;t.pendingContext?nm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nm(e,t.context,!1),x0(e,t.containerInfo)}function wm(e,t,r,n,i){return js(),f0(i),t.flags|=256,er(e,t,r,n),t.child}var rh={dehydrated:null,treeContext:null,retryLane:0};function nh(e){return{baseLanes:e,cachePool:null,transitions:null}}function I1(e,t,r){var n=t.pendingProps,i=st.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),et(st,i&1),e===null)return Xf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ud(a,n,0,null),e=fi(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=nh(r),t.memoizedState=rh,e):E0(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return W5(e,t,a,n,l,i,r);if(o){o=n.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Mo(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Mo(l,o):(o=fi(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?nh(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=rh,n}return o=e.child,e=o.sibling,n=Mo(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function E0(e,t){return t=Ud({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ml(e,t,r,n){return n!==null&&f0(n),Ts(t,e.child,null,r),e=E0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function W5(e,t,r,n,i,o,a){if(r)return t.flags&256?(t.flags&=-257,n=Mu(Error(ye(422))),Ml(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Ud({mode:"visible",children:n.children},i,0,null),o=fi(o,i,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ts(t,e.child,null,a),t.child.memoizedState=nh(a),t.memoizedState=rh,o);if(!(t.mode&1))return Ml(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(ye(419)),n=Mu(o,n,void 0),Ml(e,t,a,n)}if(l=(a&e.childLanes)!==0,lr||l){if(n=Ct,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Jn(e,i),Qr(n,e,i,-1))}return R0(),n=Mu(Error(ye(421))),Ml(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=D5.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,gr=Ro(i.nextSibling),xr=t,it=!0,Kr=null,e!==null&&(jr[Tr++]=Wn,jr[Tr++]=Vn,jr[Tr++]=bi,Wn=e.id,Vn=e.overflow,bi=t),t=E0(t,n.children),t.flags|=4096,t)}function vm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Qf(e.return,t,r)}function Ou(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function q1(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(er(e,t,n.children,r),n=st.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vm(e,r,t);else if(e.tag===19)vm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(et(st,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&td(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ou(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&td(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ou(t,!0,r,null,o);break;case"together":Ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ac(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ln(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ye(153));if(t.child!==null){for(e=t.child,r=Mo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function V5(e,t,r){switch(t.tag){case 3:H1(t),js();break;case 5:g1(t);break;case 1:ur(t.type)&&Xc(t);break;case 4:x0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;et(Lc,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(et(st,st.current&1),t.flags|=128,null):r&t.child.childLanes?I1(e,t,r):(et(st,st.current&1),e=Ln(e,t,r),e!==null?e.sibling:null);et(st,st.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return q1(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(st,st.current),n)break;return null;case 22:case 23:return t.lanes=0,W1(e,t,r)}return Ln(e,t,r)}var G1,oh,Y1,K1;G1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};oh=function(){};Y1=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,si(gn.current);var o=null;switch(r){case"input":i=Ef(e,i),n=Ef(e,n),o=[];break;case"select":i=ct({},i,{value:void 0}),n=ct({},n,{value:void 0}),o=[];break;case"textarea":i=Nf(e,i),n=Nf(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Kc)}Bf(r,n);var a;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(_a.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(_a.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&tt("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};K1=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ls(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function H5(e,t,r){var n=t.pendingProps;switch(u0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return ur(t.type)&&Zc(),$t(t),null;case 3:return n=t.stateNode,Es(),rt(dr),rt(Yt),w0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kr!==null&&(fh(Kr),Kr=null))),oh(e,t),$t(t),null;case 5:b0(t);var i=si(Ua.current);if(r=t.type,e!==null&&t.stateNode!=null)Y1(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ye(166));return $t(t),null}if(e=si(gn.current),zl(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[un]=t,n[Oa]=o,e=(t.mode&1)!==0,r){case"dialog":tt("cancel",n),tt("close",n);break;case"iframe":case"object":case"embed":tt("load",n);break;case"video":case"audio":for(i=0;i<la.length;i++)tt(la[i],n);break;case"source":tt("error",n);break;case"img":case"image":case"link":tt("error",n),tt("load",n);break;case"details":tt("toggle",n);break;case"input":Ap(n,o),tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},tt("invalid",n);break;case"textarea":Rp(n,o),tt("invalid",n)}Bf(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Fl(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Fl(n.textContent,l,e),i=["children",""+l]):_a.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&tt("scroll",n)}switch(r){case"input":Tl(n),Bp(n,o,!0);break;case"textarea":Tl(n),Fp(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Kc)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[un]=t,e[Oa]=n,G1(e,t,!1,!1),t.stateNode=e;e:{switch(a=Rf(r,n),r){case"dialog":tt("cancel",e),tt("close",e),i=n;break;case"iframe":case"object":case"embed":tt("load",e),i=n;break;case"video":case"audio":for(i=0;i<la.length;i++)tt(la[i],e);i=n;break;case"source":tt("error",e),i=n;break;case"img":case"image":case"link":tt("error",e),tt("load",e),i=n;break;case"details":tt("toggle",e),i=n;break;case"input":Ap(e,n),i=Ef(e,n),tt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ct({},n,{value:void 0}),tt("invalid",e);break;case"textarea":Rp(e,n),i=Nf(e,n),tt("invalid",e);break;default:i=n}Bf(r,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?jy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Sy(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ca(e,c):typeof c=="number"&&Ca(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_a.hasOwnProperty(o)?c!=null&&o==="onScroll"&&tt("scroll",e):c!=null&&Qh(e,o,c,a))}switch(r){case"input":Tl(e),Bp(e,n,!1);break;case"textarea":Tl(e),Fp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Uo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?hs(e,!!n.multiple,o,!1):n.defaultValue!=null&&hs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Kc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)K1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ye(166));if(r=si(Ua.current),si(gn.current),zl(t)){if(n=t.stateNode,r=t.memoizedProps,n[un]=t,(o=n.nodeValue!==r)&&(e=xr,e!==null))switch(e.tag){case 3:Fl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fl(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[un]=t,t.stateNode=n}return $t(t),null;case 13:if(rt(st),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&gr!==null&&t.mode&1&&!(t.flags&128))u1(),js(),t.flags|=98560,o=!1;else if(o=zl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ye(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ye(317));o[un]=t}else js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),o=!1}else Kr!==null&&(fh(Kr),Kr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?St===0&&(St=3):R0())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return Es(),oh(e,t),e===null&&Pa(t.stateNode.containerInfo),$t(t),null;case 10:return m0(t.type._context),$t(t),null;case 17:return ur(t.type)&&Zc(),$t(t),null;case 19:if(rt(st),o=t.memoizedState,o===null)return $t(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Ls(o,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=td(e),a!==null){for(t.flags|=128,Ls(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return et(st,st.current&1|2),t.child}e=e.sibling}o.tail!==null&&pt()>Cs&&(t.flags|=128,n=!0,Ls(o,!1),t.lanes=4194304)}else{if(!n)if(e=td(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ls(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!it)return $t(t),null}else 2*pt()-o.renderingStartTime>Cs&&r!==1073741824&&(t.flags|=128,n=!0,Ls(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=pt(),t.sibling=null,r=st.current,et(st,n?r&1|2:r&1),t):($t(t),null);case 22:case 23:return B0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pr&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(ye(156,t.tag))}function I5(e,t){switch(u0(t),t.tag){case 1:return ur(t.type)&&Zc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Es(),rt(dr),rt(Yt),w0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return b0(t),null;case 13:if(rt(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ye(340));js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rt(st),null;case 4:return Es(),null;case 10:return m0(t.type._context),null;case 22:case 23:return B0(),null;case 24:return null;default:return null}}var Ol=!1,qt=!1,q5=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function as(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dt(e,t,n)}else r.current=null}function ih(e,t,r){try{r()}catch(n){dt(e,t,n)}}var Sm=!1;function G5(e,t){if(Hf=qc,e=Ly(),c0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,d=0,b=0,y=e,m=null;t:for(;;){for(var u;y!==r||i!==0&&y.nodeType!==3||(l=a+i),y!==o||n!==0&&y.nodeType!==3||(c=a+n),y.nodeType===3&&(a+=y.nodeValue.length),(u=y.firstChild)!==null;)m=y,y=u;for(;;){if(y===e)break t;if(m===r&&++d===i&&(l=a),m===o&&++b===n&&(c=a),(u=y.nextSibling)!==null)break;y=m,m=y.parentNode}y=u}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(If={focusedElem:e,selectionRange:r},qc=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var N=g.memoizedProps,W=g.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?N:Ir(t.type,N),W);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(F){dt(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return g=Sm,Sm=!1,g}function ka(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ih(t,r,o)}i=i.next}while(i!==n)}}function Od(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function sh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Z1(e){var t=e.alternate;t!==null&&(e.alternate=null,Z1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[Oa],delete t[Yf],delete t[_5],delete t[C5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function X1(e){return e.tag===5||e.tag===3||e.tag===4}function km(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||X1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ah(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Kc));else if(n!==4&&(e=e.child,e!==null))for(ah(e,t,r),e=e.sibling;e!==null;)ah(e,t,r),e=e.sibling}function lh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(lh(e,t,r),e=e.sibling;e!==null;)lh(e,t,r),e=e.sibling}var Bt=null,Gr=!1;function co(e,t,r){for(r=r.child;r!==null;)Q1(e,t,r),r=r.sibling}function Q1(e,t,r){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Nd,r)}catch{}switch(r.tag){case 5:qt||as(r,t);case 6:var n=Bt,i=Gr;Bt=null,co(e,t,r),Bt=n,Gr=i,Bt!==null&&(Gr?(e=Bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bt.removeChild(r.stateNode));break;case 18:Bt!==null&&(Gr?(e=Bt,r=r.stateNode,e.nodeType===8?Au(e.parentNode,r):e.nodeType===1&&Au(e,r),Ra(e)):Au(Bt,r.stateNode));break;case 4:n=Bt,i=Gr,Bt=r.stateNode.containerInfo,Gr=!0,co(e,t,r),Bt=n,Gr=i;break;case 0:case 11:case 14:case 15:if(!qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&ih(r,t,a),i=i.next}while(i!==n)}co(e,t,r);break;case 1:if(!qt&&(as(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){dt(r,t,l)}co(e,t,r);break;case 21:co(e,t,r);break;case 22:r.mode&1?(qt=(n=qt)||r.memoizedState!==null,co(e,t,r),qt=n):co(e,t,r);break;default:co(e,t,r)}}function jm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new q5),t.forEach(function(n){var i=eS.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function $r(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Bt=l.stateNode,Gr=!1;break e;case 3:Bt=l.stateNode.containerInfo,Gr=!0;break e;case 4:Bt=l.stateNode.containerInfo,Gr=!0;break e}l=l.return}if(Bt===null)throw Error(ye(160));Q1(o,a,i),Bt=null,Gr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){dt(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)J1(t,e),t=t.sibling}function J1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($r(t,e),en(e),n&4){try{ka(3,e,e.return),Od(3,e)}catch(N){dt(e,e.return,N)}try{ka(5,e,e.return)}catch(N){dt(e,e.return,N)}}break;case 1:$r(t,e),en(e),n&512&&r!==null&&as(r,r.return);break;case 5:if($r(t,e),en(e),n&512&&r!==null&&as(r,r.return),e.flags&32){var i=e.stateNode;try{Ca(i,"")}catch(N){dt(e,e.return,N)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&by(i,o),Rf(l,a);var d=Rf(l,o);for(a=0;a<c.length;a+=2){var b=c[a],y=c[a+1];b==="style"?jy(i,y):b==="dangerouslySetInnerHTML"?Sy(i,y):b==="children"?Ca(i,y):Qh(i,b,y,d)}switch(l){case"input":_f(i,o);break;case"textarea":wy(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var u=o.value;u!=null?hs(i,!!o.multiple,u,!1):m!==!!o.multiple&&(o.defaultValue!=null?hs(i,!!o.multiple,o.defaultValue,!0):hs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Oa]=o}catch(N){dt(e,e.return,N)}}break;case 6:if($r(t,e),en(e),n&4){if(e.stateNode===null)throw Error(ye(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(N){dt(e,e.return,N)}}break;case 3:if($r(t,e),en(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ra(t.containerInfo)}catch(N){dt(e,e.return,N)}break;case 4:$r(t,e),en(e);break;case 13:$r(t,e),en(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(N0=pt())),n&4&&jm(e);break;case 22:if(b=r!==null&&r.memoizedState!==null,e.mode&1?(qt=(d=qt)||b,$r(t,e),qt=d):$r(t,e),en(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!b&&e.mode&1)for(Ee=e,b=e.child;b!==null;){for(y=Ee=b;Ee!==null;){switch(m=Ee,u=m.child,m.tag){case 0:case 11:case 14:case 15:ka(4,m,m.return);break;case 1:as(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(N){dt(n,r,N)}}break;case 5:as(m,m.return);break;case 22:if(m.memoizedState!==null){Em(y);continue}}u!==null?(u.return=m,Ee=u):Em(y)}b=b.sibling}e:for(b=null,y=e;;){if(y.tag===5){if(b===null){b=y;try{i=y.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=y.stateNode,c=y.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ky("display",a))}catch(N){dt(e,e.return,N)}}}else if(y.tag===6){if(b===null)try{y.stateNode.nodeValue=d?"":y.memoizedProps}catch(N){dt(e,e.return,N)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;b===y&&(b=null),y=y.return}b===y&&(b=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:$r(t,e),en(e),n&4&&jm(e);break;case 21:break;default:$r(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(X1(r)){var n=r;break e}r=r.return}throw Error(ye(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ca(i,""),n.flags&=-33);var o=km(e);lh(e,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=km(e);ah(e,l,a);break;default:throw Error(ye(161))}}catch(c){dt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Y5(e,t,r){Ee=e,L1(e)}function L1(e,t,r){for(var n=(e.mode&1)!==0;Ee!==null;){var i=Ee,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Ol;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||qt;l=Ol;var d=qt;if(Ol=a,(qt=c)&&!d)for(Ee=i;Ee!==null;)a=Ee,c=a.child,a.tag===22&&a.memoizedState!==null?_m(i):c!==null?(c.return=a,Ee=c):_m(i);for(;o!==null;)Ee=o,L1(o),o=o.sibling;Ee=i,Ol=l,qt=d}Tm(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ee=o):Tm(e)}}function Tm(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qt||Od(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!qt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ir(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&cm(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cm(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var b=d.memoizedState;if(b!==null){var y=b.dehydrated;y!==null&&Ra(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}qt||t.flags&512&&sh(t)}catch(m){dt(t,t.return,m)}}if(t===e){Ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function Em(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function _m(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Od(4,t)}catch(c){dt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){dt(t,i,c)}}var o=t.return;try{sh(t)}catch(c){dt(t,o,c)}break;case 5:var a=t.return;try{sh(t)}catch(c){dt(t,a,c)}}}catch(c){dt(t,t.return,c)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var K5=Math.ceil,od=ro.ReactCurrentDispatcher,_0=ro.ReactCurrentOwner,Nr=ro.ReactCurrentBatchConfig,qe=0,Ct=null,yt=null,zt=0,pr=0,ls=Go(0),St=0,Ia=null,vi=0,$d=0,C0=0,ja=null,sr=null,N0=0,Cs=1/0,Fn=null,id=!1,ch=null,zo=null,$l=!1,_o=null,sd=0,Ta=0,dh=null,lc=-1,cc=0;function rr(){return qe&6?pt():lc!==-1?lc:lc=pt()}function Po(e){return e.mode&1?qe&2&&zt!==0?zt&-zt:A5.transition!==null?(cc===0&&(cc=My()),cc):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:Iy(e.type)),e):1}function Qr(e,t,r,n){if(50<Ta)throw Ta=0,dh=null,Error(ye(185));ol(e,r,n),(!(qe&2)||e!==Ct)&&(e===Ct&&(!(qe&2)&&($d|=r),St===4&&jo(e,zt)),fr(e,n),r===1&&qe===0&&!(t.mode&1)&&(Cs=pt()+500,zd&&Yo()))}function fr(e,t){var r=e.callbackNode;Av(e,t);var n=Ic(e,e===Ct?zt:0);if(n===0)r!==null&&Mp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Mp(r),t===1)e.tag===0?N5(Cm.bind(null,e)):l1(Cm.bind(null,e)),T5(function(){!(qe&6)&&Yo()}),r=null;else{switch(Oy(n)){case 1:r=t0;break;case 4:r=zy;break;case 16:r=Hc;break;case 536870912:r=Py;break;default:r=Hc}r=sx(r,D1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function D1(e,t){if(lc=-1,cc=0,qe&6)throw Error(ye(327));var r=e.callbackNode;if(xs()&&e.callbackNode!==r)return null;var n=Ic(e,e===Ct?zt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ad(e,n);else{t=n;var i=qe;qe|=2;var o=tx();(Ct!==e||zt!==t)&&(Fn=null,Cs=pt()+500,ui(e,t));do try{Q5();break}catch(l){ex(e,l)}while(1);p0(),od.current=o,qe=i,yt!==null?t=0:(Ct=null,zt=0,t=St)}if(t!==0){if(t===2&&(i=Of(e),i!==0&&(n=i,t=uh(e,i))),t===1)throw r=Ia,ui(e,0),jo(e,n),fr(e,pt()),r;if(t===6)jo(e,n);else{if(i=e.current.alternate,!(n&30)&&!Z5(i)&&(t=ad(e,n),t===2&&(o=Of(e),o!==0&&(n=o,t=uh(e,o))),t===1))throw r=Ia,ui(e,0),jo(e,n),fr(e,pt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ye(345));case 2:Jo(e,sr,Fn);break;case 3:if(jo(e,n),(n&130023424)===n&&(t=N0+500-pt(),10<t)){if(Ic(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){rr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gf(Jo.bind(null,e,sr,Fn),t);break}Jo(e,sr,Fn);break;case 4:if(jo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Xr(n);o=1<<a,a=t[a],a>i&&(i=a),n&=~o}if(n=i,n=pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*K5(n/1960))-n,10<n){e.timeoutHandle=Gf(Jo.bind(null,e,sr,Fn),n);break}Jo(e,sr,Fn);break;case 5:Jo(e,sr,Fn);break;default:throw Error(ye(329))}}}return fr(e,pt()),e.callbackNode===r?D1.bind(null,e):null}function uh(e,t){var r=ja;return e.current.memoizedState.isDehydrated&&(ui(e,t).flags|=256),e=ad(e,t),e!==2&&(t=sr,sr=r,t!==null&&fh(t)),e}function fh(e){sr===null?sr=e:sr.push.apply(sr,e)}function Z5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Lr(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jo(e,t){for(t&=~C0,t&=~$d,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xr(t),n=1<<r;e[r]=-1,t&=~n}}function Cm(e){if(qe&6)throw Error(ye(327));xs();var t=Ic(e,0);if(!(t&1))return fr(e,pt()),null;var r=ad(e,t);if(e.tag!==0&&r===2){var n=Of(e);n!==0&&(t=n,r=uh(e,n))}if(r===1)throw r=Ia,ui(e,0),jo(e,t),fr(e,pt()),r;if(r===6)throw Error(ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jo(e,sr,Fn),fr(e,pt()),null}function A0(e,t){var r=qe;qe|=1;try{return e(t)}finally{qe=r,qe===0&&(Cs=pt()+500,zd&&Yo())}}function Si(e){_o!==null&&_o.tag===0&&!(qe&6)&&xs();var t=qe;qe|=1;var r=Nr.transition,n=Ze;try{if(Nr.transition=null,Ze=1,e)return e()}finally{Ze=n,Nr.transition=r,qe=t,!(qe&6)&&Yo()}}function B0(){pr=ls.current,rt(ls)}function ui(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,j5(r)),yt!==null)for(r=yt.return;r!==null;){var n=r;switch(u0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zc();break;case 3:Es(),rt(dr),rt(Yt),w0();break;case 5:b0(n);break;case 4:Es();break;case 13:rt(st);break;case 19:rt(st);break;case 10:m0(n.type._context);break;case 22:case 23:B0()}r=r.return}if(Ct=e,yt=e=Mo(e.current,null),zt=pr=t,St=0,Ia=null,C0=$d=vi=0,sr=ja=null,ii!==null){for(t=0;t<ii.length;t++)if(r=ii[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}ii=null}return e}function ex(e,t){do{var r=yt;try{if(p0(),ic.current=nd,rd){for(var n=at.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rd=!1}if(wi=0,Et=bt=at=null,Sa=!1,Wa=0,_0.current=null,r===null||r.return===null){St=1,Ia=t,yt=null;break}e:{var o=e,a=r.return,l=r,c=t;if(t=zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,b=l,y=b.tag;if(!(b.mode&1)&&(y===0||y===11||y===15)){var m=b.alternate;m?(b.updateQueue=m.updateQueue,b.memoizedState=m.memoizedState,b.lanes=m.lanes):(b.updateQueue=null,b.memoizedState=null)}var u=mm(a);if(u!==null){u.flags&=-257,gm(u,a,l,o,t),u.mode&1&&pm(o,d,t),t=u,c=d;var g=t.updateQueue;if(g===null){var N=new Set;N.add(c),t.updateQueue=N}else g.add(c);break e}else{if(!(t&1)){pm(o,d,t),R0();break e}c=Error(ye(426))}}else if(it&&l.mode&1){var W=mm(a);if(W!==null){!(W.flags&65536)&&(W.flags|=256),gm(W,a,l,o,t),f0(_s(c,l));break e}}o=c=_s(c,l),St!==4&&(St=2),ja===null?ja=[o]:ja.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=O1(o,c,t);lm(o,v);break e;case 1:l=c;var w=o.type,j=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(zo===null||!zo.has(j)))){o.flags|=65536,t&=-t,o.lanes|=t;var F=$1(o,l,t);lm(o,F);break e}}o=o.return}while(o!==null)}nx(r)}catch(C){t=C,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(1)}function tx(){var e=od.current;return od.current=nd,e===null?nd:e}function R0(){(St===0||St===3||St===2)&&(St=4),Ct===null||!(vi&268435455)&&!($d&268435455)||jo(Ct,zt)}function ad(e,t){var r=qe;qe|=2;var n=tx();(Ct!==e||zt!==t)&&(Fn=null,ui(e,t));do try{X5();break}catch(i){ex(e,i)}while(1);if(p0(),qe=r,od.current=n,yt!==null)throw Error(ye(261));return Ct=null,zt=0,St}function X5(){for(;yt!==null;)rx(yt)}function Q5(){for(;yt!==null&&!vv();)rx(yt)}function rx(e){var t=ix(e.alternate,e,pr);e.memoizedProps=e.pendingProps,t===null?nx(e):yt=t,_0.current=null}function nx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=I5(r,t),r!==null){r.flags&=32767,yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,yt=null;return}}else if(r=H5(r,t,pr),r!==null){yt=r;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);St===0&&(St=5)}function Jo(e,t,r){var n=Ze,i=Nr.transition;try{Nr.transition=null,Ze=1,J5(e,t,r,n)}finally{Nr.transition=i,Ze=n}return null}function J5(e,t,r,n){do xs();while(_o!==null);if(qe&6)throw Error(ye(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ye(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Bv(e,o),e===Ct&&(yt=Ct=null,zt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$l||($l=!0,sx(Hc,function(){return xs(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Nr.transition,Nr.transition=null;var a=Ze;Ze=1;var l=qe;qe|=4,_0.current=null,G5(e,r),J1(r,e),y5(If),qc=!!Hf,If=Hf=null,e.current=r,Y5(r),Sv(),qe=l,Ze=a,Nr.transition=o}else e.current=r;if($l&&($l=!1,_o=e,sd=i),o=e.pendingLanes,o===0&&(zo=null),Tv(r.stateNode),fr(e,pt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(id)throw id=!1,e=ch,ch=null,e;return sd&1&&e.tag!==0&&xs(),o=e.pendingLanes,o&1?e===dh?Ta++:(Ta=0,dh=e):Ta=0,Yo(),null}function xs(){if(_o!==null){var e=Oy(sd),t=Nr.transition,r=Ze;try{if(Nr.transition=null,Ze=16>e?16:e,_o===null)var n=!1;else{if(e=_o,_o=null,sd=0,qe&6)throw Error(ye(331));var i=qe;for(qe|=4,Ee=e.current;Ee!==null;){var o=Ee,a=o.child;if(Ee.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ee=d;Ee!==null;){var b=Ee;switch(b.tag){case 0:case 11:case 15:ka(8,b,o)}var y=b.child;if(y!==null)y.return=b,Ee=y;else for(;Ee!==null;){b=Ee;var m=b.sibling,u=b.return;if(Z1(b),b===d){Ee=null;break}if(m!==null){m.return=u,Ee=m;break}Ee=u}}}var g=o.alternate;if(g!==null){var N=g.child;if(N!==null){g.child=null;do{var W=N.sibling;N.sibling=null,N=W}while(N!==null)}}Ee=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ee=a;else e:for(;Ee!==null;){if(o=Ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ka(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Ee=v;break e}Ee=o.return}}var w=e.current;for(Ee=w;Ee!==null;){a=Ee;var j=a.child;if(a.subtreeFlags&2064&&j!==null)j.return=a,Ee=j;else e:for(a=w;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Od(9,l)}}catch(C){dt(l,l.return,C)}if(l===a){Ee=null;break e}var F=l.sibling;if(F!==null){F.return=l.return,Ee=F;break e}Ee=l.return}}if(qe=i,Yo(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Nd,e)}catch{}n=!0}return n}finally{Ze=r,Nr.transition=t}}return!1}function Nm(e,t,r){t=_s(r,t),t=O1(e,t,1),e=Fo(e,t,1),t=rr(),e!==null&&(ol(e,1,t),fr(e,t))}function dt(e,t,r){if(e.tag===3)Nm(e,e,r);else for(;t!==null;){if(t.tag===3){Nm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zo===null||!zo.has(n))){e=_s(r,e),e=$1(t,e,1),t=Fo(t,e,1),e=rr(),t!==null&&(ol(t,1,e),fr(t,e));break}}t=t.return}}function L5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rr(),e.pingedLanes|=e.suspendedLanes&r,Ct===e&&(zt&r)===r&&(St===4||St===3&&(zt&130023424)===zt&&500>pt()-N0?ui(e,0):C0|=r),fr(e,t)}function ox(e,t){t===0&&(e.mode&1?(t=Cl,Cl<<=1,!(Cl&130023424)&&(Cl=4194304)):t=1);var r=rr();e=Jn(e,t),e!==null&&(ol(e,t,r),fr(e,r))}function D5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ox(e,r)}function eS(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ye(314))}n!==null&&n.delete(t),ox(e,r)}var ix;ix=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||dr.current)lr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return lr=!1,V5(e,t,r);lr=!!(e.flags&131072)}else lr=!1,it&&t.flags&1048576&&c1(t,Jc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ac(e,t),e=t.pendingProps;var i=ks(t,Yt.current);ys(t,r),i=S0(null,t,n,e,i,r);var o=k0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ur(n)?(o=!0,Xc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y0(t),i.updater=Md,t.stateNode=i,i._reactInternals=t,Lf(t,n,e,r),t=th(null,t,n,!0,o,r)):(t.tag=0,it&&o&&d0(t),er(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ac(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=rS(n),e=Ir(n,e),i){case 0:t=eh(null,t,n,e,r);break e;case 1:t=bm(null,t,n,e,r);break e;case 11:t=ym(null,t,n,e,r);break e;case 14:t=xm(null,t,n,Ir(n.type,e),r);break e}throw Error(ye(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ir(n,i),eh(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ir(n,i),bm(e,t,n,i,r);case 3:e:{if(H1(t),e===null)throw Error(ye(387));n=t.pendingProps,o=t.memoizedState,i=o.element,m1(e,t),ed(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=_s(Error(ye(423)),t),t=wm(e,t,n,r,i);break e}else if(n!==i){i=_s(Error(ye(424)),t),t=wm(e,t,n,r,i);break e}else for(gr=Ro(t.stateNode.containerInfo.firstChild),xr=t,it=!0,Kr=null,r=h1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(js(),n===i){t=Ln(e,t,r);break e}er(e,t,n,r)}t=t.child}return t;case 5:return g1(t),e===null&&Xf(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,qf(n,i)?a=null:o!==null&&qf(n,o)&&(t.flags|=32),V1(e,t),er(e,t,a,r),t.child;case 6:return e===null&&Xf(t),null;case 13:return I1(e,t,r);case 4:return x0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ts(t,null,n,r):er(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ir(n,i),ym(e,t,n,i,r);case 7:return er(e,t,t.pendingProps,r),t.child;case 8:return er(e,t,t.pendingProps.children,r),t.child;case 12:return er(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,et(Lc,n._currentValue),n._currentValue=a,o!==null)if(Lr(o.value,a)){if(o.children===i.children&&!dr.current){t=Ln(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Yn(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var b=d.pending;b===null?c.next=c:(c.next=b.next,b.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Qf(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ye(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Qf(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}er(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ys(t,r),i=Ar(i),n=n(i),t.flags|=1,er(e,t,n,r),t.child;case 14:return n=t.type,i=Ir(n,t.pendingProps),i=Ir(n.type,i),xm(e,t,n,i,r);case 15:return U1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ir(n,i),ac(e,t),t.tag=1,ur(n)?(e=!0,Xc(t)):e=!1,ys(t,r),M1(t,n,i),Lf(t,n,i,r),th(null,t,n,!0,e,r);case 19:return q1(e,t,r);case 22:return W1(e,t,r)}throw Error(ye(156,t.tag))};function sx(e,t){return Fy(e,t)}function tS(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(e,t,r,n){return new tS(e,t,r,n)}function F0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rS(e){if(typeof e=="function")return F0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lh)return 11;if(e===Dh)return 14}return 2}function Mo(e,t){var r=e.alternate;return r===null?(r=_r(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function dc(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")F0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Li:return fi(r.children,i,o,t);case Jh:a=8,i|=8;break;case Sf:return e=_r(12,r,t,i|2),e.elementType=Sf,e.lanes=o,e;case kf:return e=_r(13,r,t,i),e.elementType=kf,e.lanes=o,e;case jf:return e=_r(19,r,t,i),e.elementType=jf,e.lanes=o,e;case gy:return Ud(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case py:a=10;break e;case my:a=9;break e;case Lh:a=11;break e;case Dh:a=14;break e;case yo:a=16,n=null;break e}throw Error(ye(130,e==null?e:typeof e,""))}return t=_r(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function fi(e,t,r,n){return e=_r(7,e,n,t),e.lanes=r,e}function Ud(e,t,r,n){return e=_r(22,e,n,t),e.elementType=gy,e.lanes=r,e.stateNode={isHidden:!1},e}function $u(e,t,r){return e=_r(6,e,null,t),e.lanes=r,e}function Uu(e,t,r){return t=_r(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nS(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bu(0),this.expirationTimes=bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bu(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function z0(e,t,r,n,i,o,a,l,c){return e=new nS(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=_r(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},y0(o),e}function oS(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ji,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ax(e){if(!e)return Wo;e=e._reactInternals;e:{if(Bi(e)!==e||e.tag!==1)throw Error(ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ur(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ye(171))}if(e.tag===1){var r=e.type;if(ur(r))return a1(e,r,t)}return t}function lx(e,t,r,n,i,o,a,l,c){return e=z0(r,n,!0,e,i,o,a,l,c),e.context=ax(null),r=e.current,n=rr(),i=Po(r),o=Yn(n,i),o.callback=t??null,Fo(r,o,i),e.current.lanes=i,ol(e,i,n),fr(e,n),e}function Wd(e,t,r,n){var i=t.current,o=rr(),a=Po(i);return r=ax(r),t.context===null?t.context=r:t.pendingContext=r,t=Yn(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fo(i,t,a),e!==null&&(Qr(e,i,a,o),oc(e,i,a)),a}function ld(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Am(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function P0(e,t){Am(e,t),(e=e.alternate)&&Am(e,t)}function iS(){return null}var cx=typeof reportError=="function"?reportError:function(e){console.error(e)};function M0(e){this._internalRoot=e}Vd.prototype.render=M0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ye(409));Wd(e,t,null,null)};Vd.prototype.unmount=M0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Si(function(){Wd(null,e,null,null)}),t[Qn]=null}};function Vd(e){this._internalRoot=e}Vd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ko.length&&t!==0&&t<ko[r].priority;r++);ko.splice(r,0,e),r===0&&Hy(e)}};function O0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bm(){}function sS(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var d=ld(a);o.call(d)}}var a=lx(t,n,e,0,null,!1,!1,"",Bm);return e._reactRootContainer=a,e[Qn]=a.current,Pa(e.nodeType===8?e.parentNode:e),Si(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=ld(c);l.call(d)}}var c=z0(e,0,!1,null,null,!1,!1,"",Bm);return e._reactRootContainer=c,e[Qn]=c.current,Pa(e.nodeType===8?e.parentNode:e),Si(function(){Wd(t,c,r,n)}),c}function Id(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var c=ld(a);l.call(c)}}Wd(t,a,e,i)}else a=sS(r,t,e,i,n);return ld(a)}$y=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=aa(t.pendingLanes);r!==0&&(r0(t,r|1),fr(t,pt()),!(qe&6)&&(Cs=pt()+500,Yo()))}break;case 13:Si(function(){var n=Jn(e,1);if(n!==null){var i=rr();Qr(n,e,1,i)}}),P0(e,1)}};n0=function(e){if(e.tag===13){var t=Jn(e,134217728);if(t!==null){var r=rr();Qr(t,e,134217728,r)}P0(e,134217728)}};Uy=function(e){if(e.tag===13){var t=Po(e),r=Jn(e,t);if(r!==null){var n=rr();Qr(r,e,t,n)}P0(e,t)}};Wy=function(){return Ze};Vy=function(e,t){var r=Ze;try{return Ze=e,t()}finally{Ze=r}};zf=function(e,t,r){switch(t){case"input":if(_f(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Fd(n);if(!i)throw Error(ye(90));xy(n),_f(n,i)}}}break;case"textarea":wy(e,r);break;case"select":t=r.value,t!=null&&hs(e,!!r.multiple,t,!1)}};_y=A0;Cy=Si;var aS={usingClientEntryPoint:!1,Events:[sl,rs,Fd,Ty,Ey,A0]},Ds={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lS={bundleType:Ds.bundleType,version:Ds.version,rendererPackageName:Ds.rendererPackageName,rendererConfig:Ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=By(e),e===null?null:e.stateNode},findFiberByHostInstance:Ds.findFiberByHostInstance||iS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Nd=Ul.inject(lS),mn=Ul}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aS;wr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O0(t))throw Error(ye(200));return oS(e,t,null,r)};wr.createRoot=function(e,t){if(!O0(e))throw Error(ye(299));var r=!1,n="",i=cx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=z0(e,1,!1,null,null,r,!1,n,i),e[Qn]=t.current,Pa(e.nodeType===8?e.parentNode:e),new M0(t)};wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ye(188)):(e=Object.keys(e).join(","),Error(ye(268,e)));return e=By(t),e=e===null?null:e.stateNode,e};wr.flushSync=function(e){return Si(e)};wr.hydrate=function(e,t,r){if(!Hd(t))throw Error(ye(200));return Id(null,e,t,!0,r)};wr.hydrateRoot=function(e,t,r){if(!O0(e))throw Error(ye(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=cx;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=lx(t,null,e,1,r??null,i,!1,o,a),e[Qn]=t.current,Pa(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Vd(t)};wr.render=function(e,t,r){if(!Hd(t))throw Error(ye(200));return Id(null,e,t,!1,r)};wr.unmountComponentAtNode=function(e){if(!Hd(e))throw Error(ye(40));return e._reactRootContainer?(Si(function(){Id(null,null,e,!1,function(){e._reactRootContainer=null,e[Qn]=null})}),!0):!1};wr.unstable_batchedUpdates=A0;wr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hd(r))throw Error(ye(200));if(e==null||e._reactInternals===void 0)throw Error(ye(38));return Id(e,t,r,!1,n)};wr.version="18.3.1-next-f1338f8080-20240426";function dx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dx)}catch(e){console.error(e)}}dx(),dy.exports=wr;var cS=dy.exports,ux,Rm=cS;ux=Rm.createRoot,Rm.hydrateRoot;const dS="modulepreload",uS=function(e,t){return new URL(e,t).href},Fm={},$0=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=uS(o,n),o in Fm)return;Fm[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!n)for(let b=i.length-1;b>=0;b--){const y=i[b];if(y.href===o&&(!a||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":dS,a||(d.as="script",d.crossOrigin=""),d.href=o,document.head.appendChild(d),a)return new Promise((b,y)=>{d.addEventListener("load",b),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};var zm="popstate";function fS(e={}){function t(n,i){let{pathname:o,search:a,hash:l}=n.location;return hh("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:qa(i)}return pS(t,r,null,e)}function lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hS(){return Math.random().toString(36).substring(2,10)}function Pm(e,t){return{usr:e.state,key:e.key,idx:t}}function hh(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vs(t):t,state:r,key:t&&t.key||n||hS()}}function qa({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function pS(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,l="POP",c=null,d=b();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function b(){return(a.state||{idx:null}).idx}function y(){l="POP";let W=b(),v=W==null?null:W-d;d=W,c&&c({action:l,location:N.location,delta:v})}function m(W,v){l="PUSH";let w=hh(N.location,W,v);r&&r(w,W),d=b()+1;let j=Pm(w,d),F=N.createHref(w);try{a.pushState(j,"",F)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(F)}o&&c&&c({action:l,location:N.location,delta:1})}function u(W,v){l="REPLACE";let w=hh(N.location,W,v);r&&r(w,W),d=b();let j=Pm(w,d),F=N.createHref(w);a.replaceState(j,"",F),o&&c&&c({action:l,location:N.location,delta:0})}function g(W){return mS(W)}let N={get action(){return l},get location(){return e(i,a)},listen(W){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(zm,y),c=W,()=>{i.removeEventListener(zm,y),c=null}},createHref(W){return t(i,W)},createURL:g,encodeLocation(W){let v=g(W);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:u,go(W){return a.go(W)}};return N}function mS(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),lt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:qa(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function fx(e,t,r="/"){return gS(e,t,r,!1)}function gS(e,t,r,n){let i=typeof t=="string"?Vs(t):t,o=Dn(i.pathname||"/",r);if(o==null)return null;let a=hx(e);yS(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=CS(o);l=ES(a[c],d,n)}return l}function hx(e,t=[],r=[],n=""){let i=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(lt(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let d=Kn([n,c.relativePath]),b=r.concat(c);o.children&&o.children.length>0&&(lt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),hx(o.children,t,b,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:jS(d,o.index),routesMeta:b})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of px(o.path))i(o,a,c)}),t}function px(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=px(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function yS(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:TS(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var xS=/^:[\w-]+$/,bS=3,wS=2,vS=1,SS=10,kS=-2,Mm=e=>e==="*";function jS(e,t){let r=e.split("/"),n=r.length;return r.some(Mm)&&(n+=kS),t&&(n+=wS),r.filter(i=>!Mm(i)).reduce((i,o)=>i+(xS.test(o)?bS:o===""?vS:SS),n)}function TS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function ES(e,t,r=!1){let{routesMeta:n}=e,i={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,b=o==="/"?t:t.slice(o.length)||"/",y=cd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},b),m=c.route;if(!y&&d&&r&&!n[n.length-1].route.index&&(y=cd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},b)),!y)return null;Object.assign(i,y.params),a.push({params:i,pathname:Kn([o,y.pathname]),pathnameBase:RS(Kn([o,y.pathnameBase])),route:m}),y.pathnameBase!=="/"&&(o=Kn([o,y.pathnameBase]))}return a}function cd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_S(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,{paramName:b,isOptional:y},m)=>{if(b==="*"){let g=l[m]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const u=l[m];return y&&!u?d[b]=void 0:d[b]=(u||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:e}}function _S(e,t=!1,r=!0){xn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function CS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Dn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function NS(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Vs(e):e;return{pathname:r?r.startsWith("/")?r:AS(r,t):t,search:FS(n),hash:zS(i)}}function AS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Wu(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BS(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function mx(e){let t=BS(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function gx(e,t,r,n=!1){let i;typeof e=="string"?i=Vs(e):(i={...e},lt(!i.pathname||!i.pathname.includes("?"),Wu("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),Wu("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),Wu("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=r;else{let y=t.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),y-=1;i.pathname=m.join("/")}l=y>=0?t[y]:"/"}let c=NS(i,l),d=a&&a!=="/"&&a.endsWith("/"),b=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||b)&&(c.pathname+="/"),c}var Kn=e=>e.join("/").replace(/\/\/+/g,"/"),RS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var yx=["POST","PUT","PATCH","DELETE"];new Set(yx);var MS=["GET",...yx];new Set(MS);var Hs=T.createContext(null);Hs.displayName="DataRouter";var qd=T.createContext(null);qd.displayName="DataRouterState";T.createContext(!1);var xx=T.createContext({isTransitioning:!1});xx.displayName="ViewTransition";var OS=T.createContext(new Map);OS.displayName="Fetchers";var $S=T.createContext(null);$S.displayName="Await";var bn=T.createContext(null);bn.displayName="Navigation";var ll=T.createContext(null);ll.displayName="Location";var no=T.createContext({outlet:null,matches:[],isDataRoute:!1});no.displayName="Route";var U0=T.createContext(null);U0.displayName="RouteError";function US(e,{relative:t}={}){lt(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=T.useContext(bn),{hash:i,pathname:o,search:a}=dl(e,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Kn([r,o])),n.createHref({pathname:l,search:a,hash:i})}function cl(){return T.useContext(ll)!=null}function Ri(){return lt(cl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(ll).location}var bx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wx(e){T.useContext(bn).static||T.useLayoutEffect(e)}function W0(){let{isDataRoute:e}=T.useContext(no);return e?LS():WS()}function WS(){lt(cl(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Hs),{basename:t,navigator:r}=T.useContext(bn),{matches:n}=T.useContext(no),{pathname:i}=Ri(),o=JSON.stringify(mx(n)),a=T.useRef(!1);return wx(()=>{a.current=!0}),T.useCallback((c,d={})=>{if(xn(a.current,bx),!a.current)return;if(typeof c=="number"){r.go(c);return}let b=gx(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Kn([t,b.pathname])),(d.replace?r.replace:r.push)(b,d.state,d)},[t,r,o,i,e])}T.createContext(null);function dl(e,{relative:t}={}){let{matches:r}=T.useContext(no),{pathname:n}=Ri(),i=JSON.stringify(mx(r));return T.useMemo(()=>gx(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function VS(e,t){return vx(e,t)}function vx(e,t,r,n){var v;lt(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(bn),{matches:o}=T.useContext(no),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",b=a&&a.route;{let w=b&&b.path||"";Sx(c,!b||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let y=Ri(),m;if(t){let w=typeof t=="string"?Vs(t):t;lt(d==="/"||((v=w.pathname)==null?void 0:v.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),m=w}else m=y;let u=m.pathname||"/",g=u;if(d!=="/"){let w=d.replace(/^\//,"").split("/");g="/"+u.replace(/^\//,"").split("/").slice(w.length).join("/")}let N=fx(e,{pathname:g});xn(b||N!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),xn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=YS(N&&N.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Kn([d,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Kn([d,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&W?T.createElement(ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},W):W}function HS(){let e=JS(),t=PS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:o},"ErrorBoundary")," or"," ",T.createElement("code",{style:o},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:i},r):null,a)}var IS=T.createElement(HS,null),qS=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(no.Provider,{value:this.props.routeContext},T.createElement(U0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GS({routeContext:e,match:t,children:r}){let n=T.useContext(Hs);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(no.Provider,{value:e},r)}function YS(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let c=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);lt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(r)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:b,errors:y}=r,m=d.route.loader&&!b.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,b)=>{let y,m=!1,u=null,g=null;r&&(y=o&&d.route.id?o[d.route.id]:void 0,u=d.route.errorElement||IS,a&&(l<0&&b===0?(Sx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,g=null):l===b&&(m=!0,g=d.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,b+1)),W=()=>{let v;return y?v=u:m?v=g:d.route.Component?v=T.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,T.createElement(GS,{match:d,routeContext:{outlet:c,matches:N,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||b===0)?T.createElement(qS,{location:r.location,revalidation:r.revalidation,component:u,error:y,children:W(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):W()},null)}function V0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KS(e){let t=T.useContext(Hs);return lt(t,V0(e)),t}function ZS(e){let t=T.useContext(qd);return lt(t,V0(e)),t}function XS(e){let t=T.useContext(no);return lt(t,V0(e)),t}function H0(e){let t=XS(e),r=t.matches[t.matches.length-1];return lt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function QS(){return H0("useRouteId")}function JS(){var n;let e=T.useContext(U0),t=ZS("useRouteError"),r=H0("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function LS(){let{router:e}=KS("useNavigate"),t=H0("useNavigate"),r=T.useRef(!1);return wx(()=>{r.current=!0}),T.useCallback(async(i,o={})=>{xn(r.current,bx),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Om={};function Sx(e,t,r){!t&&!Om[e]&&(Om[e]=!0,xn(!1,r))}T.memo(DS);function DS({routes:e,future:t,state:r}){return vx(e,void 0,r,t)}function ph(e){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ek({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){lt(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof r=="string"&&(r=Vs(r));let{pathname:c="/",search:d="",hash:b="",state:y=null,key:m="default"}=r,u=T.useMemo(()=>{let g=Dn(c,a);return g==null?null:{location:{pathname:g,search:d,hash:b,state:y,key:m},navigationType:n}},[a,c,d,b,y,m,n]);return xn(u!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${b}" because it does not start with the basename, so the <Router> won't render anything.`),u==null?null:T.createElement(bn.Provider,{value:l},T.createElement(ll.Provider,{children:t,value:u}))}function tk({children:e,location:t}){return VS(mh(e),t)}function mh(e,t=[]){let r=[];return T.Children.forEach(e,(n,i)=>{if(!T.isValidElement(n))return;let o=[...t,i];if(n.type===T.Fragment){r.push.apply(r,mh(n.props.children,o));return}lt(n.type===ph,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=mh(n.props.children,o)),r.push(a)}),r}var uc="get",fc="application/x-www-form-urlencoded";function Gd(e){return e!=null&&typeof e.tagName=="string"}function rk(e){return Gd(e)&&e.tagName.toLowerCase()==="button"}function nk(e){return Gd(e)&&e.tagName.toLowerCase()==="form"}function ok(e){return Gd(e)&&e.tagName.toLowerCase()==="input"}function ik(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sk(e,t){return e.button===0&&(!t||t==="_self")&&!ik(e)}var Wl=null;function ak(){if(Wl===null)try{new FormData(document.createElement("form"),0),Wl=!1}catch{Wl=!0}return Wl}var lk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vu(e){return e!=null&&!lk.has(e)?(xn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fc}"`),null):e}function ck(e,t){let r,n,i,o,a;if(nk(e)){let l=e.getAttribute("action");n=l?Dn(l,t):null,r=e.getAttribute("method")||uc,i=Vu(e.getAttribute("enctype"))||fc,o=new FormData(e)}else if(rk(e)||ok(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Dn(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||uc,i=Vu(e.getAttribute("formenctype"))||Vu(l.getAttribute("enctype"))||fc,o=new FormData(l,e),!ak()){let{name:d,type:b,value:y}=e;if(b==="image"){let m=d?`${d}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else d&&o.append(d,y)}}else{if(Gd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=uc,n=null,i=fc,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function I0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dk(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Dn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function uk(e,t){if(e.id in t)return t[e.id];try{let r=await $0(()=>import(e.module),[],import.meta.url);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fk(e){return e!=null&&typeof e.page=="string"}function hk(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function pk(e,t,r){let n=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await uk(o,r);return a.links?a.links():[]}return[]}));return xk(n.flat(1).filter(hk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function $m(e,t,r,n,i,o){let a=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var b;return r[d].pathname!==c.pathname||((b=r[d].route.path)==null?void 0:b.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,d)=>a(c,d)||l(c,d)):o==="data"?t.filter((c,d)=>{var y;let b=n.routes[c.route.id];if(!b||!b.hasLoader)return!1;if(a(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=r[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function mk(e,t,{includeHydrateFallback:r}={}){return gk(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function gk(e){return[...new Set(e)]}function yk(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function xk(e,t){let r=new Set,n=new Set(t);return e.reduce((i,o)=>{if(t&&!fk(o)&&o.as==="script"&&o.href&&n.has(o.href))return i;let l=JSON.stringify(yk(o));return r.has(l)||(r.add(l),i.push({key:l,link:o})),i},[])}function kx(){let e=T.useContext(Hs);return I0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function bk(){let e=T.useContext(qd);return I0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var q0=T.createContext(void 0);q0.displayName="FrameworkContext";function jx(){let e=T.useContext(q0);return I0(e,"You must render this element inside a <HydratedRouter> element"),e}function wk(e,t){let r=T.useContext(q0),[n,i]=T.useState(!1),[o,a]=T.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:b,onTouchStart:y}=t,m=T.useRef(null);T.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let N=v=>{v.forEach(w=>{a(w.isIntersecting)})},W=new IntersectionObserver(N,{threshold:.5});return m.current&&W.observe(m.current),()=>{W.disconnect()}}},[e]),T.useEffect(()=>{if(n){let N=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(N)}}},[n]);let u=()=>{i(!0)},g=()=>{i(!1),a(!1)};return r?e!=="intent"?[o,m,{}]:[o,m,{onFocus:ea(l,u),onBlur:ea(c,g),onMouseEnter:ea(d,u),onMouseLeave:ea(b,g),onTouchStart:ea(y,u)}]:[!1,m,{}]}function ea(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function vk({page:e,...t}){let{router:r}=kx(),n=T.useMemo(()=>fx(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?T.createElement(kk,{page:e,matches:n,...t}):null}function Sk(e){let{manifest:t,routeModules:r}=jx(),[n,i]=T.useState([]);return T.useEffect(()=>{let o=!1;return pk(e,t,r).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,r]),n}function kk({page:e,matches:t,...r}){let n=Ri(),{manifest:i,routeModules:o}=jx(),{basename:a}=kx(),{loaderData:l,matches:c}=bk(),d=T.useMemo(()=>$m(e,t,c,i,n,"data"),[e,t,c,i,n]),b=T.useMemo(()=>$m(e,t,c,i,n,"assets"),[e,t,c,i,n]),y=T.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,N=!1;if(t.forEach(v=>{var j;let w=i.routes[v.route.id];!w||!w.hasLoader||(!d.some(F=>F.route.id===v.route.id)&&v.route.id in l&&((j=o[v.route.id])!=null&&j.shouldRevalidate)||w.hasClientLoader?N=!0:g.add(v.route.id))}),g.size===0)return[];let W=dk(e,a,"data");return N&&g.size>0&&W.searchParams.set("_routes",t.filter(v=>g.has(v.route.id)).map(v=>v.route.id).join(",")),[W.pathname+W.search]},[a,l,n,i,d,t,e,o]),m=T.useMemo(()=>mk(b,i),[b,i]),u=Sk(b);return T.createElement(T.Fragment,null,y.map(g=>T.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),m.map(g=>T.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),u.map(({key:g,link:N})=>T.createElement("link",{key:g,...N})))}function jk(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Tx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tx&&(window.__reactRouterVersion="7.7.0")}catch{}function Tk({basename:e,children:t,window:r}){let n=T.useRef();n.current==null&&(n.current=fS({window:r,v5Compat:!0}));let i=n.current,[o,a]=T.useState({action:i.action,location:i.location}),l=T.useCallback(c=>{T.startTransition(()=>a(c))},[a]);return T.useLayoutEffect(()=>i.listen(l),[i,l]),T.createElement(ek,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var Ex=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_x=T.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:a,state:l,target:c,to:d,preventScrollReset:b,viewTransition:y,...m},u){let{basename:g}=T.useContext(bn),N=typeof d=="string"&&Ex.test(d),W,v=!1;if(typeof d=="string"&&N&&(W=d,Tx))try{let Z=new URL(window.location.href),$=d.startsWith("//")?new URL(Z.protocol+d):new URL(d),q=Dn($.pathname,g);$.origin===Z.origin&&q!=null?d=q+$.search+$.hash:v=!0}catch{xn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=US(d,{relative:i}),[j,F,C]=wk(n,m),B=Nk(d,{replace:a,state:l,target:c,preventScrollReset:b,relative:i,viewTransition:y});function R(Z){t&&t(Z),Z.defaultPrevented||B(Z)}let M=T.createElement("a",{...m,...C,href:W||w,onClick:v||o?t:R,ref:jk(u,F),target:c,"data-discover":!N&&r==="render"?"true":void 0});return j&&!N?T.createElement(T.Fragment,null,M,T.createElement(vk,{page:w})):M});_x.displayName="Link";var Ek=T.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:a,viewTransition:l,children:c,...d},b){let y=dl(a,{relative:d.relative}),m=Ri(),u=T.useContext(qd),{navigator:g,basename:N}=T.useContext(bn),W=u!=null&&zk(y)&&l===!0,v=g.encodeLocation?g.encodeLocation(y).pathname:y.pathname,w=m.pathname,j=u&&u.navigation&&u.navigation.location?u.navigation.location.pathname:null;r||(w=w.toLowerCase(),j=j?j.toLowerCase():null,v=v.toLowerCase()),j&&N&&(j=Dn(j,N)||j);const F=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let C=w===v||!i&&w.startsWith(v)&&w.charAt(F)==="/",B=j!=null&&(j===v||!i&&j.startsWith(v)&&j.charAt(v.length)==="/"),R={isActive:C,isPending:B,isTransitioning:W},M=C?t:void 0,Z;typeof n=="function"?Z=n(R):Z=[n,C?"active":null,B?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(R):o;return T.createElement(_x,{...d,"aria-current":M,className:Z,ref:b,style:$,to:a,viewTransition:l},typeof c=="function"?c(R):c)});Ek.displayName="NavLink";var _k=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:o,method:a=uc,action:l,onSubmit:c,relative:d,preventScrollReset:b,viewTransition:y,...m},u)=>{let g=Rk(),N=Fk(l,{relative:d}),W=a.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&Ex.test(l),w=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let F=j.nativeEvent.submitter,C=(F==null?void 0:F.getAttribute("formmethod"))||a;g(F||j.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:i,state:o,relative:d,preventScrollReset:b,viewTransition:y})};return T.createElement("form",{ref:u,method:W,action:N,onSubmit:n?c:w,...m,"data-discover":!v&&e==="render"?"true":void 0})});_k.displayName="Form";function Ck(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cx(e){let t=T.useContext(Hs);return lt(t,Ck(e)),t}function Nk(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:a}={}){let l=W0(),c=Ri(),d=dl(e,{relative:o});return T.useCallback(b=>{if(sk(b,t)){b.preventDefault();let y=r!==void 0?r:qa(c)===qa(d);l(e,{replace:y,state:n,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,n,t,e,i,o,a])}var Ak=0,Bk=()=>`__${String(++Ak)}__`;function Rk(){let{router:e}=Cx("useSubmit"),{basename:t}=T.useContext(bn),r=QS();return T.useCallback(async(n,i={})=>{let{action:o,method:a,encType:l,formData:c,body:d}=ck(n,t);if(i.navigate===!1){let b=i.fetcherKey||Bk();await e.fetch(b,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function Fk(e,{relative:t}={}){let{basename:r}=T.useContext(bn),n=T.useContext(no);lt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...dl(e||".",{relative:t})},a=Ri();if(e==null){o.search=a.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(b=>b==="")){l.delete("index"),c.filter(y=>y).forEach(y=>l.append("index",y));let b=l.toString();o.search=b?`?${b}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Kn([r,o.pathname])),qa(o)}function zk(e,t={}){let r=T.useContext(xx);lt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Cx("useViewTransitionState"),i=dl(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=Dn(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Dn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return cd(i.pathname,a)!=null||cd(i.pathname,o)!=null}var Nx={},ul={};ul.byteLength=Ok;ul.toByteArray=Uk;ul.fromByteArray=Hk;var fn=[],Sr=[],Pk=typeof Uint8Array<"u"?Uint8Array:Array,Hu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Mi=0,Mk=Hu.length;Mi<Mk;++Mi)fn[Mi]=Hu[Mi],Sr[Hu.charCodeAt(Mi)]=Mi;Sr["-".charCodeAt(0)]=62;Sr["_".charCodeAt(0)]=63;function Ax(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function Ok(e){var t=Ax(e),r=t[0],n=t[1];return(r+n)*3/4-n}function $k(e,t,r){return(t+r)*3/4-r}function Uk(e){var t,r=Ax(e),n=r[0],i=r[1],o=new Pk($k(e,n,i)),a=0,l=i>0?n-4:n,c;for(c=0;c<l;c+=4)t=Sr[e.charCodeAt(c)]<<18|Sr[e.charCodeAt(c+1)]<<12|Sr[e.charCodeAt(c+2)]<<6|Sr[e.charCodeAt(c+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=Sr[e.charCodeAt(c)]<<2|Sr[e.charCodeAt(c+1)]>>4,o[a++]=t&255),i===1&&(t=Sr[e.charCodeAt(c)]<<10|Sr[e.charCodeAt(c+1)]<<4|Sr[e.charCodeAt(c+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function Wk(e){return fn[e>>18&63]+fn[e>>12&63]+fn[e>>6&63]+fn[e&63]}function Vk(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(Wk(n));return i.join("")}function Hk(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,l=r-n;a<l;a+=o)i.push(Vk(e,a,a+o>l?l:a+o));return n===1?(t=e[r-1],i.push(fn[t>>2]+fn[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(fn[t>>10]+fn[t>>4&63]+fn[t<<2&63]+"=")),i.join("")}var fl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */fl.read=function(e,t,r,n,i){var o,a,l=i*8-n-1,c=(1<<l)-1,d=c>>1,b=-7,y=r?i-1:0,m=r?-1:1,u=e[t+y];for(y+=m,o=u&(1<<-b)-1,u>>=-b,b+=l;b>0;o=o*256+e[t+y],y+=m,b-=8);for(a=o&(1<<-b)-1,o>>=-b,b+=n;b>0;a=a*256+e[t+y],y+=m,b-=8);if(o===0)o=1-d;else{if(o===c)return a?NaN:(u?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-d}return(u?-1:1)*a*Math.pow(2,o-n)};fl.write=function(e,t,r,n,i,o){var a,l,c,d=o*8-i-1,b=(1<<d)-1,y=b>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=n?0:o-1,g=n?1:-1,N=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=b):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+y>=1?t+=m/c:t+=m*Math.pow(2,1-y),t*c>=2&&(a++,c/=2),a+y>=b?(l=0,a=b):a+y>=1?(l=(t*c-1)*Math.pow(2,i),a=a+y):(l=t*Math.pow(2,y-1)*Math.pow(2,i),a=0));i>=8;e[r+u]=l&255,u+=g,l/=256,i-=8);for(a=a<<i|l,d+=i;d>0;e[r+u]=a&255,u+=g,a/=256,d-=8);e[r+u-g]|=N*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=ul,r=fl,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=w,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const S=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(S,p),S.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(S){if(S>i)throw new RangeError('The value "'+S+'" is invalid for option "size"');const p=new Uint8Array(S);return Object.setPrototypeOf(p,l.prototype),p}function l(S,p,x){if(typeof S=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(S)}return c(S,p,x)}l.poolSize=8192;function c(S,p,x){if(typeof S=="string")return m(S,p);if(ArrayBuffer.isView(S))return g(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(oe(S,ArrayBuffer)||S&&oe(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(oe(S,SharedArrayBuffer)||S&&oe(S.buffer,SharedArrayBuffer)))return N(S,p,x);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const G=S.valueOf&&S.valueOf();if(G!=null&&G!==S)return l.from(G,p,x);const te=W(S);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return l.from(S[Symbol.toPrimitive]("string"),p,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}l.from=function(S,p,x){return c(S,p,x)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function b(S,p,x){return d(S),S<=0?a(S):p!==void 0?typeof x=="string"?a(S).fill(p,x):a(S).fill(p):a(S)}l.alloc=function(S,p,x){return b(S,p,x)};function y(S){return d(S),a(S<0?0:v(S)|0)}l.allocUnsafe=function(S){return y(S)},l.allocUnsafeSlow=function(S){return y(S)};function m(S,p){if((typeof p!="string"||p==="")&&(p="utf8"),!l.isEncoding(p))throw new TypeError("Unknown encoding: "+p);const x=j(S,p)|0;let G=a(x);const te=G.write(S,p);return te!==x&&(G=G.slice(0,te)),G}function u(S){const p=S.length<0?0:v(S.length)|0,x=a(p);for(let G=0;G<p;G+=1)x[G]=S[G]&255;return x}function g(S){if(oe(S,Uint8Array)){const p=new Uint8Array(S);return N(p.buffer,p.byteOffset,p.byteLength)}return u(S)}function N(S,p,x){if(p<0||S.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<p+(x||0))throw new RangeError('"length" is outside of buffer bounds');let G;return p===void 0&&x===void 0?G=new Uint8Array(S):x===void 0?G=new Uint8Array(S,p):G=new Uint8Array(S,p,x),Object.setPrototypeOf(G,l.prototype),G}function W(S){if(l.isBuffer(S)){const p=v(S.length)|0,x=a(p);return x.length===0||S.copy(x,0,0,p),x}if(S.length!==void 0)return typeof S.length!="number"||pe(S.length)?a(0):u(S);if(S.type==="Buffer"&&Array.isArray(S.data))return u(S.data)}function v(S){if(S>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return S|0}function w(S){return+S!=S&&(S=0),l.alloc(+S)}l.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==l.prototype},l.compare=function(p,x){if(oe(p,Uint8Array)&&(p=l.from(p,p.offset,p.byteLength)),oe(x,Uint8Array)&&(x=l.from(x,x.offset,x.byteLength)),!l.isBuffer(p)||!l.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===x)return 0;let G=p.length,te=x.length;for(let le=0,ce=Math.min(G,te);le<ce;++le)if(p[le]!==x[le]){G=p[le],te=x[le];break}return G<te?-1:te<G?1:0},l.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(p,x){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return l.alloc(0);let G;if(x===void 0)for(x=0,G=0;G<p.length;++G)x+=p[G].length;const te=l.allocUnsafe(x);let le=0;for(G=0;G<p.length;++G){let ce=p[G];if(oe(ce,Uint8Array))le+ce.length>te.length?(l.isBuffer(ce)||(ce=l.from(ce)),ce.copy(te,le)):Uint8Array.prototype.set.call(te,ce,le);else if(l.isBuffer(ce))ce.copy(te,le);else throw new TypeError('"list" argument must be an Array of Buffers');le+=ce.length}return te};function j(S,p){if(l.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||oe(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const x=S.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&x===0)return 0;let te=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return h(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return P(S).length;default:if(te)return G?-1:h(S).length;p=(""+p).toLowerCase(),te=!0}}l.byteLength=j;function F(S,p,x){let G=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,p>>>=0,x<=p))return"";for(S||(S="utf8");;)switch(S){case"hex":return ee(this,p,x);case"utf8":case"utf-8":return O(this,p,x);case"ascii":return re(this,p,x);case"latin1":case"binary":return Q(this,p,x);case"base64":return A(this,p,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,p,x);default:if(G)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),G=!0}}l.prototype._isBuffer=!0;function C(S,p,x){const G=S[p];S[p]=S[x],S[x]=G}l.prototype.swap16=function(){const p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<p;x+=2)C(this,x,x+1);return this},l.prototype.swap32=function(){const p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<p;x+=4)C(this,x,x+3),C(this,x+1,x+2);return this},l.prototype.swap64=function(){const p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<p;x+=8)C(this,x,x+7),C(this,x+1,x+6),C(this,x+2,x+5),C(this,x+3,x+4);return this},l.prototype.toString=function(){const p=this.length;return p===0?"":arguments.length===0?O(this,0,p):F.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(p){if(!l.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:l.compare(this,p)===0},l.prototype.inspect=function(){let p="";const x=e.INSPECT_MAX_BYTES;return p=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(p+=" ... "),"<Buffer "+p+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(p,x,G,te,le){if(oe(p,Uint8Array)&&(p=l.from(p,p.offset,p.byteLength)),!l.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(x===void 0&&(x=0),G===void 0&&(G=p?p.length:0),te===void 0&&(te=0),le===void 0&&(le=this.length),x<0||G>p.length||te<0||le>this.length)throw new RangeError("out of range index");if(te>=le&&x>=G)return 0;if(te>=le)return-1;if(x>=G)return 1;if(x>>>=0,G>>>=0,te>>>=0,le>>>=0,this===p)return 0;let ce=le-te,_e=G-x;const ze=Math.min(ce,_e),Re=this.slice(te,le),Ne=p.slice(x,G);for(let $e=0;$e<ze;++$e)if(Re[$e]!==Ne[$e]){ce=Re[$e],_e=Ne[$e];break}return ce<_e?-1:_e<ce?1:0};function B(S,p,x,G,te){if(S.length===0)return-1;if(typeof x=="string"?(G=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,pe(x)&&(x=te?0:S.length-1),x<0&&(x=S.length+x),x>=S.length){if(te)return-1;x=S.length-1}else if(x<0)if(te)x=0;else return-1;if(typeof p=="string"&&(p=l.from(p,G)),l.isBuffer(p))return p.length===0?-1:R(S,p,x,G,te);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(S,p,x):Uint8Array.prototype.lastIndexOf.call(S,p,x):R(S,[p],x,G,te);throw new TypeError("val must be string, number or Buffer")}function R(S,p,x,G,te){let le=1,ce=S.length,_e=p.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(S.length<2||p.length<2)return-1;le=2,ce/=2,_e/=2,x/=2}function ze(Ne,$e){return le===1?Ne[$e]:Ne.readUInt16BE($e*le)}let Re;if(te){let Ne=-1;for(Re=x;Re<ce;Re++)if(ze(S,Re)===ze(p,Ne===-1?0:Re-Ne)){if(Ne===-1&&(Ne=Re),Re-Ne+1===_e)return Ne*le}else Ne!==-1&&(Re-=Re-Ne),Ne=-1}else for(x+_e>ce&&(x=ce-_e),Re=x;Re>=0;Re--){let Ne=!0;for(let $e=0;$e<_e;$e++)if(ze(S,Re+$e)!==ze(p,$e)){Ne=!1;break}if(Ne)return Re}return-1}l.prototype.includes=function(p,x,G){return this.indexOf(p,x,G)!==-1},l.prototype.indexOf=function(p,x,G){return B(this,p,x,G,!0)},l.prototype.lastIndexOf=function(p,x,G){return B(this,p,x,G,!1)};function M(S,p,x,G){x=Number(x)||0;const te=S.length-x;G?(G=Number(G),G>te&&(G=te)):G=te;const le=p.length;G>le/2&&(G=le/2);let ce;for(ce=0;ce<G;++ce){const _e=parseInt(p.substr(ce*2,2),16);if(pe(_e))return ce;S[x+ce]=_e}return ce}function Z(S,p,x,G){return _(h(p,S.length-x),S,x,G)}function $(S,p,x,G){return _(f(p),S,x,G)}function q(S,p,x,G){return _(P(p),S,x,G)}function X(S,p,x,G){return _(E(p,S.length-x),S,x,G)}l.prototype.write=function(p,x,G,te){if(x===void 0)te="utf8",G=this.length,x=0;else if(G===void 0&&typeof x=="string")te=x,G=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(G)?(G=G>>>0,te===void 0&&(te="utf8")):(te=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const le=this.length-x;if((G===void 0||G>le)&&(G=le),p.length>0&&(G<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");let ce=!1;for(;;)switch(te){case"hex":return M(this,p,x,G);case"utf8":case"utf-8":return Z(this,p,x,G);case"ascii":case"latin1":case"binary":return $(this,p,x,G);case"base64":return q(this,p,x,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,p,x,G);default:if(ce)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),ce=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(S,p,x){return p===0&&x===S.length?t.fromByteArray(S):t.fromByteArray(S.slice(p,x))}function O(S,p,x){x=Math.min(S.length,x);const G=[];let te=p;for(;te<x;){const le=S[te];let ce=null,_e=le>239?4:le>223?3:le>191?2:1;if(te+_e<=x){let ze,Re,Ne,$e;switch(_e){case 1:le<128&&(ce=le);break;case 2:ze=S[te+1],(ze&192)===128&&($e=(le&31)<<6|ze&63,$e>127&&(ce=$e));break;case 3:ze=S[te+1],Re=S[te+2],(ze&192)===128&&(Re&192)===128&&($e=(le&15)<<12|(ze&63)<<6|Re&63,$e>2047&&($e<55296||$e>57343)&&(ce=$e));break;case 4:ze=S[te+1],Re=S[te+2],Ne=S[te+3],(ze&192)===128&&(Re&192)===128&&(Ne&192)===128&&($e=(le&15)<<18|(ze&63)<<12|(Re&63)<<6|Ne&63,$e>65535&&$e<1114112&&(ce=$e))}}ce===null?(ce=65533,_e=1):ce>65535&&(ce-=65536,G.push(ce>>>10&1023|55296),ce=56320|ce&1023),G.push(ce),te+=_e}return Y(G)}const V=4096;function Y(S){const p=S.length;if(p<=V)return String.fromCharCode.apply(String,S);let x="",G=0;for(;G<p;)x+=String.fromCharCode.apply(String,S.slice(G,G+=V));return x}function re(S,p,x){let G="";x=Math.min(S.length,x);for(let te=p;te<x;++te)G+=String.fromCharCode(S[te]&127);return G}function Q(S,p,x){let G="";x=Math.min(S.length,x);for(let te=p;te<x;++te)G+=String.fromCharCode(S[te]);return G}function ee(S,p,x){const G=S.length;(!p||p<0)&&(p=0),(!x||x<0||x>G)&&(x=G);let te="";for(let le=p;le<x;++le)te+=ke[S[le]];return te}function de(S,p,x){const G=S.slice(p,x);let te="";for(let le=0;le<G.length-1;le+=2)te+=String.fromCharCode(G[le]+G[le+1]*256);return te}l.prototype.slice=function(p,x){const G=this.length;p=~~p,x=x===void 0?G:~~x,p<0?(p+=G,p<0&&(p=0)):p>G&&(p=G),x<0?(x+=G,x<0&&(x=0)):x>G&&(x=G),x<p&&(x=p);const te=this.subarray(p,x);return Object.setPrototypeOf(te,l.prototype),te};function ue(S,p,x){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+p>x)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(p,x,G){p=p>>>0,x=x>>>0,G||ue(p,x,this.length);let te=this[p],le=1,ce=0;for(;++ce<x&&(le*=256);)te+=this[p+ce]*le;return te},l.prototype.readUintBE=l.prototype.readUIntBE=function(p,x,G){p=p>>>0,x=x>>>0,G||ue(p,x,this.length);let te=this[p+--x],le=1;for(;x>0&&(le*=256);)te+=this[p+--x]*le;return te},l.prototype.readUint8=l.prototype.readUInt8=function(p,x){return p=p>>>0,x||ue(p,1,this.length),this[p]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(p,x){return p=p>>>0,x||ue(p,2,this.length),this[p]|this[p+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(p,x){return p=p>>>0,x||ue(p,2,this.length),this[p]<<8|this[p+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(p,x){return p=p>>>0,x||ue(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(p,x){return p=p>>>0,x||ue(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},l.prototype.readBigUInt64LE=ve(function(p){p=p>>>0,D(p,"offset");const x=this[p],G=this[p+7];(x===void 0||G===void 0)&&K(p,this.length-8);const te=x+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,le=this[++p]+this[++p]*2**8+this[++p]*2**16+G*2**24;return BigInt(te)+(BigInt(le)<<BigInt(32))}),l.prototype.readBigUInt64BE=ve(function(p){p=p>>>0,D(p,"offset");const x=this[p],G=this[p+7];(x===void 0||G===void 0)&&K(p,this.length-8);const te=x*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],le=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+G;return(BigInt(te)<<BigInt(32))+BigInt(le)}),l.prototype.readIntLE=function(p,x,G){p=p>>>0,x=x>>>0,G||ue(p,x,this.length);let te=this[p],le=1,ce=0;for(;++ce<x&&(le*=256);)te+=this[p+ce]*le;return le*=128,te>=le&&(te-=Math.pow(2,8*x)),te},l.prototype.readIntBE=function(p,x,G){p=p>>>0,x=x>>>0,G||ue(p,x,this.length);let te=x,le=1,ce=this[p+--te];for(;te>0&&(le*=256);)ce+=this[p+--te]*le;return le*=128,ce>=le&&(ce-=Math.pow(2,8*x)),ce},l.prototype.readInt8=function(p,x){return p=p>>>0,x||ue(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},l.prototype.readInt16LE=function(p,x){p=p>>>0,x||ue(p,2,this.length);const G=this[p]|this[p+1]<<8;return G&32768?G|4294901760:G},l.prototype.readInt16BE=function(p,x){p=p>>>0,x||ue(p,2,this.length);const G=this[p+1]|this[p]<<8;return G&32768?G|4294901760:G},l.prototype.readInt32LE=function(p,x){return p=p>>>0,x||ue(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},l.prototype.readInt32BE=function(p,x){return p=p>>>0,x||ue(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},l.prototype.readBigInt64LE=ve(function(p){p=p>>>0,D(p,"offset");const x=this[p],G=this[p+7];(x===void 0||G===void 0)&&K(p,this.length-8);const te=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(G<<24);return(BigInt(te)<<BigInt(32))+BigInt(x+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),l.prototype.readBigInt64BE=ve(function(p){p=p>>>0,D(p,"offset");const x=this[p],G=this[p+7];(x===void 0||G===void 0)&&K(p,this.length-8);const te=(x<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(te)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+G)}),l.prototype.readFloatLE=function(p,x){return p=p>>>0,x||ue(p,4,this.length),r.read(this,p,!0,23,4)},l.prototype.readFloatBE=function(p,x){return p=p>>>0,x||ue(p,4,this.length),r.read(this,p,!1,23,4)},l.prototype.readDoubleLE=function(p,x){return p=p>>>0,x||ue(p,8,this.length),r.read(this,p,!0,52,8)},l.prototype.readDoubleBE=function(p,x){return p=p>>>0,x||ue(p,8,this.length),r.read(this,p,!1,52,8)};function ae(S,p,x,G,te,le){if(!l.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>te||p<le)throw new RangeError('"value" argument is out of bounds');if(x+G>S.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(p,x,G,te){if(p=+p,x=x>>>0,G=G>>>0,!te){const _e=Math.pow(2,8*G)-1;ae(this,p,x,G,_e,0)}let le=1,ce=0;for(this[x]=p&255;++ce<G&&(le*=256);)this[x+ce]=p/le&255;return x+G},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(p,x,G,te){if(p=+p,x=x>>>0,G=G>>>0,!te){const _e=Math.pow(2,8*G)-1;ae(this,p,x,G,_e,0)}let le=G-1,ce=1;for(this[x+le]=p&255;--le>=0&&(ce*=256);)this[x+le]=p/ce&255;return x+G},l.prototype.writeUint8=l.prototype.writeUInt8=function(p,x,G){return p=+p,x=x>>>0,G||ae(this,p,x,1,255,0),this[x]=p&255,x+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(p,x,G){return p=+p,x=x>>>0,G||ae(this,p,x,2,65535,0),this[x]=p&255,this[x+1]=p>>>8,x+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(p,x,G){return p=+p,x=x>>>0,G||ae(this,p,x,2,65535,0),this[x]=p>>>8,this[x+1]=p&255,x+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(p,x,G){return p=+p,x=x>>>0,G||ae(this,p,x,4,4294967295,0),this[x+3]=p>>>24,this[x+2]=p>>>16,this[x+1]=p>>>8,this[x]=p&255,x+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(p,x,G){return p=+p,x=x>>>0,G||ae(this,p,x,4,4294967295,0),this[x]=p>>>24,this[x+1]=p>>>16,this[x+2]=p>>>8,this[x+3]=p&255,x+4};function he(S,p,x,G,te){J(p,G,te,S,x,7);let le=Number(p&BigInt(4294967295));S[x++]=le,le=le>>8,S[x++]=le,le=le>>8,S[x++]=le,le=le>>8,S[x++]=le;let ce=Number(p>>BigInt(32)&BigInt(4294967295));return S[x++]=ce,ce=ce>>8,S[x++]=ce,ce=ce>>8,S[x++]=ce,ce=ce>>8,S[x++]=ce,x}function z(S,p,x,G,te){J(p,G,te,S,x,7);let le=Number(p&BigInt(4294967295));S[x+7]=le,le=le>>8,S[x+6]=le,le=le>>8,S[x+5]=le,le=le>>8,S[x+4]=le;let ce=Number(p>>BigInt(32)&BigInt(4294967295));return S[x+3]=ce,ce=ce>>8,S[x+2]=ce,ce=ce>>8,S[x+1]=ce,ce=ce>>8,S[x]=ce,x+8}l.prototype.writeBigUInt64LE=ve(function(p,x=0){return he(this,p,x,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=ve(function(p,x=0){return z(this,p,x,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(p,x,G,te){if(p=+p,x=x>>>0,!te){const ze=Math.pow(2,8*G-1);ae(this,p,x,G,ze-1,-ze)}let le=0,ce=1,_e=0;for(this[x]=p&255;++le<G&&(ce*=256);)p<0&&_e===0&&this[x+le-1]!==0&&(_e=1),this[x+le]=(p/ce>>0)-_e&255;return x+G},l.prototype.writeIntBE=function(p,x,G,te){if(p=+p,x=x>>>0,!te){const ze=Math.pow(2,8*G-1);ae(this,p,x,G,ze-1,-ze)}let le=G-1,ce=1,_e=0;for(this[x+le]=p&255;--le>=0&&(ce*=256);)p<0&&_e===0&&this[x+le+1]!==0&&(_e=1),this[x+le]=(p/ce>>0)-_e&255;return x+G},l.prototype.writeInt8=function(p,x,G){return p=+p,x=x>>>0,G||ae(this,p,x,1,127,-128),p<0&&(p=255+p+1),this[x]=p&255,x+1},l.prototype.writeInt16LE=function(p,x,G){return p=+p,x=x>>>0,G||ae(this,p,x,2,32767,-32768),this[x]=p&255,this[x+1]=p>>>8,x+2},l.prototype.writeInt16BE=function(p,x,G){return p=+p,x=x>>>0,G||ae(this,p,x,2,32767,-32768),this[x]=p>>>8,this[x+1]=p&255,x+2},l.prototype.writeInt32LE=function(p,x,G){return p=+p,x=x>>>0,G||ae(this,p,x,4,2147483647,-2147483648),this[x]=p&255,this[x+1]=p>>>8,this[x+2]=p>>>16,this[x+3]=p>>>24,x+4},l.prototype.writeInt32BE=function(p,x,G){return p=+p,x=x>>>0,G||ae(this,p,x,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[x]=p>>>24,this[x+1]=p>>>16,this[x+2]=p>>>8,this[x+3]=p&255,x+4},l.prototype.writeBigInt64LE=ve(function(p,x=0){return he(this,p,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=ve(function(p,x=0){return z(this,p,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(S,p,x,G,te,le){if(x+G>S.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function be(S,p,x,G,te){return p=+p,x=x>>>0,te||Te(S,p,x,4),r.write(S,p,x,G,23,4),x+4}l.prototype.writeFloatLE=function(p,x,G){return be(this,p,x,!0,G)},l.prototype.writeFloatBE=function(p,x,G){return be(this,p,x,!1,G)};function xe(S,p,x,G,te){return p=+p,x=x>>>0,te||Te(S,p,x,8),r.write(S,p,x,G,52,8),x+8}l.prototype.writeDoubleLE=function(p,x,G){return xe(this,p,x,!0,G)},l.prototype.writeDoubleBE=function(p,x,G){return xe(this,p,x,!1,G)},l.prototype.copy=function(p,x,G,te){if(!l.isBuffer(p))throw new TypeError("argument should be a Buffer");if(G||(G=0),!te&&te!==0&&(te=this.length),x>=p.length&&(x=p.length),x||(x=0),te>0&&te<G&&(te=G),te===G||p.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),p.length-x<te-G&&(te=p.length-x+G);const le=te-G;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,G,te):Uint8Array.prototype.set.call(p,this.subarray(G,te),x),le},l.prototype.fill=function(p,x,G,te){if(typeof p=="string"){if(typeof x=="string"?(te=x,x=0,G=this.length):typeof G=="string"&&(te=G,G=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!l.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(p.length===1){const ce=p.charCodeAt(0);(te==="utf8"&&ce<128||te==="latin1")&&(p=ce)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(x<0||this.length<x||this.length<G)throw new RangeError("Out of range index");if(G<=x)return this;x=x>>>0,G=G===void 0?this.length:G>>>0,p||(p=0);let le;if(typeof p=="number")for(le=x;le<G;++le)this[le]=p;else{const ce=l.isBuffer(p)?p:l.from(p,te),_e=ce.length;if(_e===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(le=0;le<G-x;++le)this[le+x]=ce[le%_e]}return this};const me={};function ge(S,p,x){me[S]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:te,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(S,p){return`The "${S}" argument must be of type number. Received type ${typeof p}`},TypeError),ge("ERR_OUT_OF_RANGE",function(S,p,x){let G=`The value of "${S}" is out of range.`,te=x;return Number.isInteger(x)&&Math.abs(x)>2**32?te=U(String(x)):typeof x=="bigint"&&(te=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(te=U(te)),te+="n"),G+=` It must be ${p}. Received ${te}`,G},RangeError);function U(S){let p="",x=S.length;const G=S[0]==="-"?1:0;for(;x>=G+4;x-=3)p=`_${S.slice(x-3,x)}${p}`;return`${S.slice(0,x)}${p}`}function H(S,p,x){D(p,"offset"),(S[p]===void 0||S[p+x]===void 0)&&K(p,S.length-(x+1))}function J(S,p,x,G,te,le){if(S>x||S<p){const ce=typeof p=="bigint"?"n":"";let _e;throw le>3?p===0||p===BigInt(0)?_e=`>= 0${ce} and < 2${ce} ** ${(le+1)*8}${ce}`:_e=`>= -(2${ce} ** ${(le+1)*8-1}${ce}) and < 2 ** ${(le+1)*8-1}${ce}`:_e=`>= ${p}${ce} and <= ${x}${ce}`,new me.ERR_OUT_OF_RANGE("value",_e,S)}H(G,te,le)}function D(S,p){if(typeof S!="number")throw new me.ERR_INVALID_ARG_TYPE(p,"number",S)}function K(S,p,x){throw Math.floor(S)!==S?(D(S,x),new me.ERR_OUT_OF_RANGE(x||"offset","an integer",S)):p<0?new me.ERR_BUFFER_OUT_OF_BOUNDS:new me.ERR_OUT_OF_RANGE(x||"offset",`>= ${x?1:0} and <= ${p}`,S)}const L=/[^+/0-9A-Za-z-_]/g;function k(S){if(S=S.split("=")[0],S=S.trim().replace(L,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function h(S,p){p=p||1/0;let x;const G=S.length;let te=null;const le=[];for(let ce=0;ce<G;++ce){if(x=S.charCodeAt(ce),x>55295&&x<57344){if(!te){if(x>56319){(p-=3)>-1&&le.push(239,191,189);continue}else if(ce+1===G){(p-=3)>-1&&le.push(239,191,189);continue}te=x;continue}if(x<56320){(p-=3)>-1&&le.push(239,191,189),te=x;continue}x=(te-55296<<10|x-56320)+65536}else te&&(p-=3)>-1&&le.push(239,191,189);if(te=null,x<128){if((p-=1)<0)break;le.push(x)}else if(x<2048){if((p-=2)<0)break;le.push(x>>6|192,x&63|128)}else if(x<65536){if((p-=3)<0)break;le.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((p-=4)<0)break;le.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return le}function f(S){const p=[];for(let x=0;x<S.length;++x)p.push(S.charCodeAt(x)&255);return p}function E(S,p){let x,G,te;const le=[];for(let ce=0;ce<S.length&&!((p-=2)<0);++ce)x=S.charCodeAt(ce),G=x>>8,te=x%256,le.push(te),le.push(G);return le}function P(S){return t.toByteArray(k(S))}function _(S,p,x,G){let te;for(te=0;te<G&&!(te+x>=p.length||te>=S.length);++te)p[te+x]=S[te];return te}function oe(S,p){return S instanceof p||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===p.name}function pe(S){return S!==S}const ke=function(){const S="0123456789abcdef",p=new Array(256);for(let x=0;x<16;++x){const G=x*16;for(let te=0;te<16;++te)p[G+te]=S[x]+S[te]}return p}();function ve(S){return typeof BigInt>"u"?se:S}function se(){throw new Error("BigInt not supported")}})(Nx);var gh;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(gh||(gh={}));const dd="abcdefghijklmnopqrstuvwxyz234567",Ns=Object.create(null);for(let e=0;e<dd.length;e++)Ns[dd[e]]=e;Ns[0]=Ns.o;Ns[1]=Ns.i;function Ik(e){let t=0,r=0,n="";function i(o){return t<0?r|=o>>-t:r=o<<t&248,t>3?(t-=8,1):(t<4&&(n+=dd[r>>3],t+=5),0)}for(let o=0;o<e.length;)o+=i(e[o]);return n+(t<0?dd[r>>3]:"")}function qk(e){let t=0,r=0;const n=new Uint8Array(e.length*4/3|0);let i=0;function o(a){let l=Ns[a.toLowerCase()];if(l===void 0)throw new Error(`Invalid character: ${JSON.stringify(a)}`);l<<=3,r|=l>>>t,t+=5,t>=8&&(n[i++]=r,t-=8,t>0?r=l<<5-t&255:r=0)}for(const a of e)o(a);return n.slice(0,i)}const Gk=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function Yk(e){const t=new Uint8Array(e);let r=-1;for(let n=0;n<t.length;n++){const o=(t[n]^r)&255;r=Gk[o]^r>>>8}return(r^-1)>>>0}const Oi=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function G0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Kk(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Kt(e,...t){if(!G0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Um(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Zk(e,t){Kt(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Ga(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Iu(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function tn(e,t){return e<<32-t|e>>>t}const Bx=(()=>typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function")(),Xk=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function As(e){if(Kt(e),Bx)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=Xk[e[r]];return t}const Cn={_0:48,_9:57,A:65,F:70,a:97,f:102};function Wm(e){if(e>=Cn._0&&e<=Cn._9)return e-Cn._0;if(e>=Cn.A&&e<=Cn.F)return e-(Cn.A-10);if(e>=Cn.a&&e<=Cn.f)return e-(Cn.a-10)}function Rx(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Bx)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const a=Wm(e.charCodeAt(o)),l=Wm(e.charCodeAt(o+1));if(a===void 0||l===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=a*16+l}return n}function hl(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Fx(e){return typeof e=="string"&&(e=hl(e)),Kt(e),e}function mt(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];Kt(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}class Qk{}function Y0(e){const t=n=>e().update(Fx(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function zx(e=32){if(Oi&&typeof Oi.getRandomValues=="function")return Oi.getRandomValues(new Uint8Array(e));if(Oi&&typeof Oi.randomBytes=="function")return Uint8Array.from(Oi.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function Jk(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),l=Number(r&o),c=n?4:0,d=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+d,l,n)}function Lk(e,t,r){return e&t^~e&r}function Dk(e,t,r){return e&t^e&r^t&r}class Px extends Qk{constructor(t,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(t),this.view=Iu(this.buffer)}update(t){Um(this),t=Fx(t),Kt(t);const{view:r,buffer:n,blockLen:i}=this,o=t.length;for(let a=0;a<o;){const l=Math.min(i-this.pos,o-a);if(l===i){const c=Iu(t);for(;i<=o-a;a+=i)this.process(c,a);continue}n.set(t.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Um(this),Zk(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:a}=this;r[a++]=128,Ga(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let y=a;y<i;y++)r[y]=0;Jk(n,i-8,BigInt(this.length*8),o),this.process(n,0);const l=Iu(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,b=this.get();if(d>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<d;y++)l.setUint32(4*y,b[y],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:l}=this;return t.destroyed=a,t.finished=o,t.length=i,t.pos=l,i%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const uo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fo=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Ut=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Vl=BigInt(2**32-1),Vm=BigInt(32);function e4(e,t=!1){return t?{h:Number(e&Vl),l:Number(e>>Vm&Vl)}:{h:Number(e>>Vm&Vl)|0,l:Number(e&Vl)|0}}function t4(e,t=!1){const r=e.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l}=e4(e[o],t);[n[o],i[o]]=[a,l]}return[n,i]}const Hm=(e,t,r)=>e>>>r,Im=(e,t,r)=>e<<32-r|t>>>r,$i=(e,t,r)=>e>>>r|t<<32-r,Ui=(e,t,r)=>e<<32-r|t>>>r,Hl=(e,t,r)=>e<<64-r|t>>>r-32,Il=(e,t,r)=>e>>>r-32|t<<64-r;function Nn(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const r4=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),n4=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,o4=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),i4=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,s4=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),a4=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,l4=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ho=new Uint32Array(64);class Mx extends Px{constructor(t=32){super(64,t,8,!1),this.A=uo[0]|0,this.B=uo[1]|0,this.C=uo[2]|0,this.D=uo[3]|0,this.E=uo[4]|0,this.F=uo[5]|0,this.G=uo[6]|0,this.H=uo[7]|0}get(){const{A:t,B:r,C:n,D:i,E:o,F:a,G:l,H:c}=this;return[t,r,n,i,o,a,l,c]}set(t,r,n,i,o,a,l,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=l|0,this.H=c|0}process(t,r){for(let y=0;y<16;y++,r+=4)ho[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){const m=ho[y-15],u=ho[y-2],g=tn(m,7)^tn(m,18)^m>>>3,N=tn(u,17)^tn(u,19)^u>>>10;ho[y]=N+ho[y-7]+g+ho[y-16]|0}let{A:n,B:i,C:o,D:a,E:l,F:c,G:d,H:b}=this;for(let y=0;y<64;y++){const m=tn(l,6)^tn(l,11)^tn(l,25),u=b+m+Lk(l,c,d)+l4[y]+ho[y]|0,N=(tn(n,2)^tn(n,13)^tn(n,22))+Dk(n,i,o)|0;b=d,d=c,c=l,l=a+u|0,a=o,o=i,i=n,n=u+N|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,d=d+this.G|0,b=b+this.H|0,this.set(n,i,o,a,l,c,d,b)}roundClean(){Ga(ho)}destroy(){this.set(0,0,0,0,0,0,0,0),Ga(this.buffer)}}class c4 extends Mx{constructor(){super(28),this.A=fo[0]|0,this.B=fo[1]|0,this.C=fo[2]|0,this.D=fo[3]|0,this.E=fo[4]|0,this.F=fo[5]|0,this.G=fo[6]|0,this.H=fo[7]|0}}const Ox=(()=>t4(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),d4=(()=>Ox[0])(),u4=(()=>Ox[1])(),po=new Uint32Array(80),mo=new Uint32Array(80);class f4 extends Px{constructor(t=64){super(128,t,16,!1),this.Ah=Ut[0]|0,this.Al=Ut[1]|0,this.Bh=Ut[2]|0,this.Bl=Ut[3]|0,this.Ch=Ut[4]|0,this.Cl=Ut[5]|0,this.Dh=Ut[6]|0,this.Dl=Ut[7]|0,this.Eh=Ut[8]|0,this.El=Ut[9]|0,this.Fh=Ut[10]|0,this.Fl=Ut[11]|0,this.Gh=Ut[12]|0,this.Gl=Ut[13]|0,this.Hh=Ut[14]|0,this.Hl=Ut[15]|0}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:a,Dh:l,Dl:c,Eh:d,El:b,Fh:y,Fl:m,Gh:u,Gl:g,Hh:N,Hl:W}=this;return[t,r,n,i,o,a,l,c,d,b,y,m,u,g,N,W]}set(t,r,n,i,o,a,l,c,d,b,y,m,u,g,N,W){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=l|0,this.Dl=c|0,this.Eh=d|0,this.El=b|0,this.Fh=y|0,this.Fl=m|0,this.Gh=u|0,this.Gl=g|0,this.Hh=N|0,this.Hl=W|0}process(t,r){for(let j=0;j<16;j++,r+=4)po[j]=t.getUint32(r),mo[j]=t.getUint32(r+=4);for(let j=16;j<80;j++){const F=po[j-15]|0,C=mo[j-15]|0,B=$i(F,C,1)^$i(F,C,8)^Hm(F,C,7),R=Ui(F,C,1)^Ui(F,C,8)^Im(F,C,7),M=po[j-2]|0,Z=mo[j-2]|0,$=$i(M,Z,19)^Hl(M,Z,61)^Hm(M,Z,6),q=Ui(M,Z,19)^Il(M,Z,61)^Im(M,Z,6),X=o4(R,q,mo[j-7],mo[j-16]),A=i4(X,B,$,po[j-7],po[j-16]);po[j]=A|0,mo[j]=X|0}let{Ah:n,Al:i,Bh:o,Bl:a,Ch:l,Cl:c,Dh:d,Dl:b,Eh:y,El:m,Fh:u,Fl:g,Gh:N,Gl:W,Hh:v,Hl:w}=this;for(let j=0;j<80;j++){const F=$i(y,m,14)^$i(y,m,18)^Hl(y,m,41),C=Ui(y,m,14)^Ui(y,m,18)^Il(y,m,41),B=y&u^~y&N,R=m&g^~m&W,M=s4(w,C,R,u4[j],mo[j]),Z=a4(M,v,F,B,d4[j],po[j]),$=M|0,q=$i(n,i,28)^Hl(n,i,34)^Hl(n,i,39),X=Ui(n,i,28)^Il(n,i,34)^Il(n,i,39),A=n&o^n&l^o&l,O=i&a^i&c^a&c;v=N|0,w=W|0,N=u|0,W=g|0,u=y|0,g=m|0,{h:y,l:m}=Nn(d|0,b|0,Z|0,$|0),d=l|0,b=c|0,l=o|0,c=a|0,o=n|0,a=i|0;const V=r4($,X,O);n=n4(V,Z,q,A),i=V|0}({h:n,l:i}=Nn(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:a}=Nn(this.Bh|0,this.Bl|0,o|0,a|0),{h:l,l:c}=Nn(this.Ch|0,this.Cl|0,l|0,c|0),{h:d,l:b}=Nn(this.Dh|0,this.Dl|0,d|0,b|0),{h:y,l:m}=Nn(this.Eh|0,this.El|0,y|0,m|0),{h:u,l:g}=Nn(this.Fh|0,this.Fl|0,u|0,g|0),{h:N,l:W}=Nn(this.Gh|0,this.Gl|0,N|0,W|0),{h:v,l:w}=Nn(this.Hh|0,this.Hl|0,v|0,w|0),this.set(n,i,o,a,l,c,d,b,y,m,u,g,N,W,v,w)}roundClean(){Ga(po,mo)}destroy(){Ga(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const K0=Y0(()=>new Mx),h4=Y0(()=>new c4),p4=Y0(()=>new f4),m4=K0,g4=h4;function y4(e){return g4.create().update(new Uint8Array(e)).digest()}const ca="__principal__",x4=2,qm=4,b4="aaaaa-aa",w4=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},v4=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"");let Pe=class hc{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([qm]))}static managementCanister(){return this.fromText(b4)}static selfAuthenticating(t){const r=y4(t);return new this(new Uint8Array([...r,x4]))}static from(t){if(typeof t=="string")return hc.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new hc(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new hc(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(w4(t))}static fromText(t){let r=t;if(t.includes(ca)){const a=JSON.parse(t);ca in a&&(r=a[ca])}const n=r.toLowerCase().replace(/-/g,"");let i=qk(n);i=i.slice(4,i.length);const o=new this(i);if(o.toText()!==r)throw new Error(`Principal "${o.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return o}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===qm}toUint8Array(){return this._arr}toHex(){return v4(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,Yk(this._arr));const n=new Uint8Array(t),i=Uint8Array.from(this._arr),o=new Uint8Array([...n,...i]),l=Ik(o).match(/.{1,5}/g);if(!l)throw new Error;return l.join("-")}toString(){return this.toText()}toJSON(){return{[ca]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){const r=this.compareTo(t);return r=="gt"||r=="eq"}};const S4=Object.freeze(Object.defineProperty({__proto__:null,JSON_KEY_PRINCIPAL:ca,Principal:Pe},Symbol.toStringTag,{value:"Module"}));function Jr(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t.buffer}function ot(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const k4=new RegExp(/^[0-9a-fA-F]+$/);function Zn(e){if(!k4.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((r,n,i)=>(r[i/2|0]=(r[i/2|0]||"")+n,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function $x(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return r[i]-n[i];return 0}function pl(e,t){return $x(e,t)===0}function Ea(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Hn(e){return e instanceof Uint8Array?Ea(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Ea(new Uint8Array(e)):"buffer"in e?Hn(e.buffer):Ea(new Uint8Array(e))}class ut extends Error{constructor(t){super(t),this.message=t,this.name="AgentError",this.__proto__=ut.prototype,Object.setPrototypeOf(this,ut.prototype)}}function Ke(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t}class Is{constructor(t,r=(t==null?void 0:t.byteLength)||0){this._buffer=ki(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,r)}save(){return this._view}restore(t){this._view=t}get buffer(){return ki(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const r=this._view.subarray(0,t);return this._view=this._view.subarray(t),r.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const r=new Uint8Array(t),n=this._view.byteLength;this._view.byteOffset+this._view.byteLength+r.byteLength>=this._buffer.byteLength?this.alloc(r.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+r.byteLength),this._view.set(r,n)}get end(){return this._view.byteLength===0}alloc(t){const r=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),n=new Uint8Array(r,0,this._view.byteLength+t);n.set(this._view),this._buffer=r,this._view=n}}function qu(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function ki(e){return e instanceof Uint8Array?qu(e):e instanceof ArrayBuffer?e:Array.isArray(e)?qu(new Uint8Array(e)):"buffer"in e?ki(e.buffer):qu(new Uint8Array(e))}function j4(e){const r=new TextEncoder().encode(e);let n=0;for(const i of r)n=(n*223+i)%2**32;return n}function hn(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return j4(e)}function Ux(){throw new Error("unexpected end of buffer")}function ji(e,t){return e.byteLength<t&&Ux(),e.read(t)}function Ti(e){const t=e.readUint8();return t===void 0&&Ux(),t}function ft(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new Is(new ArrayBuffer(t),0);for(;;){const n=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([n]));break}else r.write(new Uint8Array([n|128]))}return r.buffer}function Tt(e){let t=BigInt(1),r=BigInt(0),n;do n=Ti(e),r+=BigInt(n&127).valueOf()*t,t*=BigInt(128);while(n>=128);return r}function kt(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new Is(new ArrayBuffer(r),0);for(;;){const o=i(e);if(e/=BigInt(128),t&&e===BigInt(0)&&o&64||!t&&e===BigInt(0)&&!(o&64)){n.write(new Uint8Array([o]));break}else n.write(new Uint8Array([o|128]))}function i(o){const a=o%BigInt(128);return Number(t?BigInt(128)-a-BigInt(1):a)}return n.buffer}function go(e){const t=new Uint8Array(e.buffer);let r=0;for(;r<t.byteLength;r++)if(t[r]<128){if(!(t[r]&64))return Tt(e);break}const n=new Uint8Array(ji(e,r+1));let i=BigInt(0);for(let o=n.byteLength-1;o>=0;o--)i=i*BigInt(128)+BigInt(128-(n[o]&127)-1);return-i-BigInt(1)}function T4(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return Wx(e,t)}function Wx(e,t){e=BigInt(e);const r=new Is(new ArrayBuffer(Math.min(1,t)),0);let n=0,i=BigInt(256),o=BigInt(0),a=Number(e%i);for(r.write(new Uint8Array([a]));++n<t;)e<0&&o===BigInt(0)&&a!==0&&(o=BigInt(1)),a=Number((e/i-o)%BigInt(256)),r.write(new Uint8Array([a])),i*=BigInt(256);return r.buffer}function Vx(e,t){let r=BigInt(Ti(e)),n=BigInt(1),i=0;for(;++i<t;){n*=BigInt(256);const o=BigInt(Ti(e));r=r+n*o}return r}function E4(e,t){let r=Vx(e,t);const n=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}function yh(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const pc="DIDL",Gm=400;function Ya(e,t,r){return e.map((n,i)=>r(n,t[i]))}class _4{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,r){const n=this._typs.length;this._idx.set(t.name,n),this._typs.push(r)}merge(t,r){const n=this._idx.get(t.name),i=this._idx.get(r);if(n===void 0)throw new Error("Missing type index for "+t);if(i===void 0)throw new Error("Missing type index for "+r);this._typs[n]=this._typs[i],this._typs.splice(i,1),this._idx.delete(r)}encode(){const t=ft(this._typs.length),r=Ke(...this._typs);return Ke(t,r)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return kt(this._idx.get(t)||0)}}class C4{visitType(t,r){throw new Error("Not implemented")}visitPrimitive(t,r){return this.visitType(t,r)}visitEmpty(t,r){return this.visitPrimitive(t,r)}visitBool(t,r){return this.visitPrimitive(t,r)}visitNull(t,r){return this.visitPrimitive(t,r)}visitReserved(t,r){return this.visitPrimitive(t,r)}visitText(t,r){return this.visitPrimitive(t,r)}visitNumber(t,r){return this.visitPrimitive(t,r)}visitInt(t,r){return this.visitNumber(t,r)}visitNat(t,r){return this.visitNumber(t,r)}visitFloat(t,r){return this.visitPrimitive(t,r)}visitFixedInt(t,r){return this.visitNumber(t,r)}visitFixedNat(t,r){return this.visitNumber(t,r)}visitPrincipal(t,r){return this.visitPrimitive(t,r)}visitConstruct(t,r){return this.visitType(t,r)}visitVec(t,r,n){return this.visitConstruct(t,n)}visitOpt(t,r,n){return this.visitConstruct(t,n)}visitRecord(t,r,n){return this.visitConstruct(t,n)}visitTuple(t,r,n){const i=r.map((o,a)=>[`_${a}_`,o]);return this.visitRecord(t,i,n)}visitVariant(t,r,n){return this.visitConstruct(t,n)}visitRec(t,r,n){return this.visitConstruct(r,n)}visitFunc(t,r){return this.visitConstruct(t,r)}visitService(t,r){return this.visitConstruct(t,r)}}class Yd{display(){return this.name}valueToString(t){return gt(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class Rr extends Yd{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class Ko extends Yd{checkType(t){if(t instanceof oo){const r=t.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class Hx extends Rr{accept(t,r){return t.visitEmpty(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return kt(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class Ix extends Yd{checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,r){throw t.visitType(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,r){let n=r.decodeValue(t,r);Object(n)!==n&&(n=Object(n));let i;return r instanceof oo?i=()=>r.getType():i=()=>r,Object.defineProperty(n,"type",{value:i,writable:!0,enumerable:!1,configurable:!0}),n}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class qx extends Rr{accept(t,r){return t.visitBool(this,r)}covariant(t){if(typeof t=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return kt(-2)}decodeValue(t,r){switch(this.checkType(r),Ti(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class ud extends Rr{accept(t,r){return t.visitNull(this,r)}covariant(t){if(t===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return kt(-1)}decodeValue(t,r){return this.checkType(r),null}get name(){return"null"}}class Bs extends Rr{accept(t,r){return t.visitReserved(this,r)}covariant(t){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return kt(-16)}decodeValue(t,r){return r.name!==this.name&&r.decodeValue(t,r),null}get name(){return"reserved"}}class Gx extends Rr{accept(t,r){return t.visitText(this,r)}covariant(t){if(typeof t=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){const r=new TextEncoder().encode(t),n=ft(r.byteLength);return Ke(n,r)}encodeType(){return kt(-15)}decodeValue(t,r){this.checkType(r);const n=Tt(t),i=ji(t,Number(n));return new TextDecoder("utf8",{fatal:!0}).decode(i)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class Yx extends Rr{accept(t,r){return t.visitInt(this,r)}covariant(t){if(typeof t=="bigint"||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){return kt(t)}encodeType(){return kt(-4)}decodeValue(t,r){return this.checkType(r),go(t)}get name(){return"int"}valueToString(t){return t.toString()}}class Kx extends Rr{accept(t,r){return t.visitNat(this,r)}covariant(t){if(typeof t=="bigint"&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){return ft(t)}encodeType(){return kt(-3)}decodeValue(t,r){return this.checkType(r),Tt(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class Z0 extends Rr{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){const r=new ArrayBuffer(this._bits/8),n=new DataView(r);return this._bits===32?n.setFloat32(0,t,!0):n.setFloat64(0,t,!0),r}encodeType(){const t=this._bits===32?-13:-14;return kt(t)}decodeValue(t,r){this.checkType(r);const n=ji(t,this._bits/8),i=new DataView(n);return this._bits===32?i.getFloat32(0,!0):i.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class Ei extends Rr{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){const r=yh(this._bits-1)*BigInt(-1),n=yh(this._bits-1)-BigInt(1);let i=!1;if(typeof t=="bigint")i=t>=r&&t<=n;else if(Number.isInteger(t)){const o=BigInt(t);i=o>=r&&o<=n}else i=!1;if(i)return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){return Wx(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return kt(-9-t)}decodeValue(t,r){this.checkType(r);const n=E4(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class Oo extends Rr{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedNat(this,r)}covariant(t){const r=yh(this._bits);let n=!1;if(typeof t=="bigint"&&t>=BigInt(0)?n=t<r:Number.isInteger(t)&&t>=0?n=BigInt(t)<r:n=!1,n)return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){return T4(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return kt(-5-t)}decodeValue(t,r){this.checkType(r);const n=Vx(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class Kd extends Ko{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof Oo&&t._bits===8&&(this._blobOptimization=!0)}accept(t,r){return t.visitVec(this,this._type,r)}covariant(t){const r=this._type instanceof Oo?this._type._bits:this._type instanceof Ei?this._type._bits:0;if(ArrayBuffer.isView(t)&&r==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((n,i)=>{try{return this._type.covariant(n)}catch(o){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){const r=ft(t.length);if(this._blobOptimization)return Ke(r,new Uint8Array(t));if(ArrayBuffer.isView(t))return Ke(r,new Uint8Array(t.buffer));const n=new Is(new ArrayBuffer(r.byteLength+t.length),0);n.write(r);for(const i of t){const o=this._type.encodeValue(i);n.write(new Uint8Array(o))}return n.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=kt(-19),n=this._type.encodeType(t);t.add(this,Ke(r,n))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof Kd))throw new Error("Not a vector type");const i=Number(Tt(t));if(this._type instanceof Oo){if(this._type._bits==8)return new Uint8Array(t.read(i));if(this._type._bits==16)return new Uint16Array(t.read(i*2));if(this._type._bits==32)return new Uint32Array(t.read(i*4));if(this._type._bits==64)return new BigUint64Array(t.read(i*8))}if(this._type instanceof Ei){if(this._type._bits==8)return new Int8Array(t.read(i));if(this._type._bits==16)return new Int16Array(t.read(i*2));if(this._type._bits==32)return new Int32Array(t.read(i*4));if(this._type._bits==64)return new BigInt64Array(t.read(i*8))}const o=[];for(let a=0;a<i;a++)o.push(this._type.decodeValue(t,n._type));return o}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(n=>this._type.valueToString(n)).join("; ")+"}"}}class _i extends Ko{constructor(t){super(),this._type=t}accept(t,r){return t.visitOpt(this,this._type,r)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(r){throw new Error(`Invalid ${this.display()} argument: ${gt(t)} 

-> ${r.message}`)}throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):Ke(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=kt(-18),n=this._type.encodeType(t);t.add(this,Ke(r,n))}decodeValue(t,r){if(r instanceof ud)return[];if(r instanceof Bs)return[];let n=r;if(r instanceof oo){const i=r.getType();if(typeof i>"u")throw new Error("type mismatch with uninitialized type");n=i}if(n instanceof _i)switch(Ti(t)){case 0:return[];case 1:{const i=t.save();try{return[this._type.decodeValue(t,n._type)]}catch{return t.restore(i),n._type.decodeValue(t,n._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof ud||this._type instanceof _i||this._type instanceof Bs)return n.decodeValue(t,n),[];{const i=t.save();try{return[this._type.decodeValue(t,r)]}catch{return t.restore(i),n.decodeValue(t,r),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}}class ml extends Ko{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>hn(r[0])-hn(n[0]))}accept(t,r){return t.visitRecord(this,this._fields,r)}tryAsTuple(){const t=[];for(let r=0;r<this._fields.length;r++){const[n,i]=this._fields[r];if(n!==`_${r}_`)return null;t.push(i)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([r,n])=>{if(!t.hasOwnProperty(r))throw new Error(`Record is missing key "${r}".`);try{return n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

field ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){const r=this._fields.map(([i])=>t[i]),n=Ya(this._fields,r,([,i],o)=>i.encodeValue(o));return Ke(...n)}_buildTypeTableImpl(t){this._fields.forEach(([o,a])=>a.buildTypeTable(t));const r=kt(-20),n=ft(this._fields.length),i=this._fields.map(([o,a])=>Ke(ft(hn(o)),a.encodeType(t)));t.add(this,Ke(r,n,Ke(...i)))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof ml))throw new Error("Not a record type");const i={};let o=0,a=0;for(;a<n._fields.length;){const[l,c]=n._fields[a];if(o>=this._fields.length){c.decodeValue(t,c),a++;continue}const[d,b]=this._fields[o],y=hn(this._fields[o][0]),m=hn(l);if(y===m)i[d]=b.decodeValue(t,c),o++,a++;else if(m>y)if(b instanceof _i||b instanceof Bs)i[d]=[],o++;else throw new Error("Cannot find required field "+d);else c.decodeValue(t,c),a++}for(const[l,c]of this._fields.slice(o))if(c instanceof _i||c instanceof Bs)i[l]=[];else throw new Error("Cannot find required field "+l);return i}get name(){return`record {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`record {${this._fields.map(([r,n])=>r+":"+n.display()).join("; ")}}`}valueToString(t){const r=this._fields.map(([i])=>t[i]);return`record {${Ya(this._fields,r,([i,o],a)=>i+"="+o.valueToString(a)).join("; ")}}`}}class Zd extends ml{constructor(t){const r={};t.forEach((n,i)=>r["_"+i+"_"]=n),super(r),this._components=t}accept(t,r){return t.visitTuple(this,this._components,r)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((r,n)=>{try{return r.covariant(t[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){const r=Ya(this._components,t,(n,i)=>n.encodeValue(i));return Ke(...r)}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof Zd))throw new Error("not a tuple type");if(n._components.length<this._components.length)throw new Error("tuple mismatch");const i=[];for(const[o,a]of n._components.entries())o>=this._components.length?a.decodeValue(t,a):i.push(this._components[o].decodeValue(t,a));return i}display(){return`record {${this._components.map(r=>r.display()).join("; ")}}`}valueToString(t){return`record {${Ya(this._components,t,(n,i)=>n.valueToString(i)).join("; ")}}`}}class Xd extends Ko{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>hn(r[0])-hn(n[0]))}accept(t,r){return t.visitVariant(this,this._fields,r)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([r,n])=>{try{return!t.hasOwnProperty(r)||n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

variant ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){for(let r=0;r<this._fields.length;r++){const[n,i]=this._fields[r];if(t.hasOwnProperty(n)){const o=ft(r),a=i.encodeValue(t[n]);return Ke(o,a)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,o])=>{o.buildTypeTable(t)});const r=kt(-21),n=ft(this._fields.length),i=this._fields.map(([o,a])=>Ke(ft(hn(o)),a.encodeType(t)));t.add(this,Ke(r,n,...i))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof Xd))throw new Error("Not a variant type");const i=Number(Tt(t));if(i>=n._fields.length)throw Error("Invalid variant index: "+i);const[o,a]=n._fields[i];for(const[l,c]of this._fields)if(hn(o)===hn(l)){const d=c.decodeValue(t,a);return{[l]:d}}throw new Error("Cannot find field hash "+o)}get name(){return`variant {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`variant {${this._fields.map(([r,n])=>r+(n.name==="null"?"":`:${n.display()}`)).join("; ")}}`}valueToString(t){for(const[r,n]of this._fields)if(t.hasOwnProperty(r)){const i=n.valueToString(t[r]);return i==="null"?`variant {${r}}`:`variant {${r}=${i}}`}throw new Error("Variant has no data: "+t)}}class oo extends Ko{constructor(){super(...arguments),this._id=oo._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}oo._counter=0;function X0(e){if(Ti(e)!==1)throw new Error("Cannot decode principal");const r=Number(Tt(e));return Pe.fromUint8Array(new Uint8Array(ji(e,r)))}class Zx extends Rr{accept(t,r){return t.visitPrincipal(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=ft(r.byteLength);return Ke(new Uint8Array([1]),n,r)}encodeType(){return kt(-24)}decodeValue(t,r){return this.checkType(r),X0(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class Q0 extends Ko{constructor(t,r,n=[]){super(),this.argTypes=t,this.retTypes=r,this.annotations=n}static argsToString(t,r){if(t.length!==r.length)throw new Error("arity mismatch");return"("+t.map((n,i)=>n.valueToString(r[i])).join(", ")+")"}accept(t,r){return t.visitFunc(this,r)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue([t,r]){const n=t.toUint8Array(),i=ft(n.byteLength),o=Ke(new Uint8Array([1]),i,n),a=new TextEncoder().encode(r),l=ft(a.byteLength);return Ke(new Uint8Array([1]),o,l,a)}_buildTypeTableImpl(t){this.argTypes.forEach(d=>d.buildTypeTable(t)),this.retTypes.forEach(d=>d.buildTypeTable(t));const r=kt(-22),n=ft(this.argTypes.length),i=Ke(...this.argTypes.map(d=>d.encodeType(t))),o=ft(this.retTypes.length),a=Ke(...this.retTypes.map(d=>d.encodeType(t))),l=ft(this.annotations.length),c=Ke(...this.annotations.map(d=>this.encodeAnnotation(d)));t.add(this,Ke(r,n,i,o,a,l,c))}decodeValue(t){if(Ti(t)!==1)throw new Error("Cannot decode function reference");const n=X0(t),i=Number(Tt(t)),o=ji(t,i),l=new TextDecoder("utf8",{fatal:!0}).decode(o);return[n,l]}get name(){const t=this.argTypes.map(i=>i.name).join(", "),r=this.retTypes.map(i=>i.name).join(", "),n=" "+this.annotations.join(" ");return`(${t}) -> (${r})${n}`}valueToString([t,r]){return`func "${t.toText()}".${r}`}display(){const t=this.argTypes.map(i=>i.display()).join(", "),r=this.retTypes.map(i=>i.display()).join(", "),n=" "+this.annotations.join(" ");return`(${t}) → (${r})${n}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class Xx extends Ko{constructor(t){super(),this._fields=Object.entries(t).sort((r,n)=>r[0]<n[0]?-1:r[0]>n[0]?1:0)}accept(t,r){return t.visitService(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${gt(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=ft(r.length);return Ke(new Uint8Array([1]),n,r)}_buildTypeTableImpl(t){this._fields.forEach(([o,a])=>a.buildTypeTable(t));const r=kt(-23),n=ft(this._fields.length),i=this._fields.map(([o,a])=>{const l=new TextEncoder().encode(o),c=ft(l.length);return Ke(c,l,a.encodeType(t))});t.add(this,Ke(r,n,...i))}decodeValue(t){return X0(t)}get name(){return`service {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}}function gt(e){const t=JSON.stringify(e,(r,n)=>typeof n=="bigint"?`BigInt(${n})`:n);return t&&t.length>Gm?t.substring(0,Gm-3)+"...":t}function xh(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const r=new _4;e.forEach(c=>c.buildTypeTable(r));const n=new TextEncoder().encode(pc),i=r.encode(),o=ft(t.length),a=Ke(...e.map(c=>c.encodeType(r))),l=Ke(...Ya(e,t,(c,d)=>{try{c.covariant(d)}catch(b){throw new Error(b.message+`

`)}return c.encodeValue(d)}));return Ke(n,i,o,a,l)}function Qx(e,t){const r=new Is(t);if(t.byteLength<pc.length)throw new Error("Message length smaller than magic number");const n=ji(r,pc.length),i=new TextDecoder().decode(n);if(i!==pc)throw new Error("Wrong magic number: "+JSON.stringify(i));function o(u){const g=[],N=Number(Tt(u));for(let w=0;w<N;w++){const j=Number(go(u));switch(j){case-18:case-19:{const F=Number(go(u));g.push([j,F]);break}case-20:case-21:{const F=[];let C=Number(Tt(u)),B;for(;C--;){const R=Number(Tt(u));if(R>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof B=="number"&&B>=R)throw new Error("field id collision or not sorted");B=R;const M=Number(go(u));F.push([R,M])}g.push([j,F]);break}case-22:{const F=[];let C=Number(Tt(u));for(;C--;)F.push(Number(go(u)));const B=[];let R=Number(Tt(u));for(;R--;)B.push(Number(go(u)));const M=[];let Z=Number(Tt(u));for(;Z--;)switch(Number(Tt(u))){case 1:{M.push("query");break}case 2:{M.push("oneway");break}case 3:{M.push("composite_query");break}default:throw new Error("unknown annotation")}g.push([j,[F,B,M]]);break}case-23:{let F=Number(Tt(u));const C=[];for(;F--;){const B=Number(Tt(u)),R=new TextDecoder().decode(ji(u,B)),M=go(u);C.push([R,M])}g.push([j,C]);break}default:throw new Error("Illegal op_code: "+j)}}const W=[],v=Number(Tt(u));for(let w=0;w<v;w++)W.push(Number(go(u)));return[g,W]}const[a,l]=o(r);if(l.length<e.length)throw new Error("Wrong number of return values");const c=a.map(u=>wb());function d(u){if(u<-24)throw new Error("future value not supported");if(u<0)switch(u){case-1:return eb;case-2:return Dx;case-3:return nb;case-4:return rb;case-5:return db;case-6:return ub;case-7:return fb;case-8:return hb;case-9:return sb;case-10:return ab;case-11:return lb;case-12:return cb;case-13:return ob;case-14:return ib;case-15:return tb;case-16:return Lx;case-17:return Jx;case-24:return pb;default:throw new Error("Illegal op_code: "+u)}if(u>=a.length)throw new Error("type index out of range");return c[u]}function b(u){switch(u[0]){case-19:{const g=d(u[1]);return gb(g)}case-18:{const g=d(u[1]);return yb(g)}case-20:{const g={};for(const[v,w]of u[1]){const j=`_${v}_`;g[j]=d(w)}const N=xb(g),W=N.tryAsTuple();return Array.isArray(W)?mb(...W):N}case-21:{const g={};for(const[N,W]of u[1]){const v=`_${N}_`;g[v]=d(W)}return bb(g)}case-22:{const[g,N,W]=u[1];return vb(g.map(v=>d(v)),N.map(v=>d(v)),W)}case-23:{const g={},N=u[1];for(const[W,v]of N){let w=d(v);if(w instanceof oo&&(w=w.getType()),!(w instanceof Q0))throw new Error("Illegal service definition: services can only contain functions");g[W]=w}return Sb(g)}default:throw new Error("Illegal op_code: "+u[0])}}a.forEach((u,g)=>{if(u[0]===-22){const N=b(u);c[g].fill(N)}}),a.forEach((u,g)=>{if(u[0]!==-22){const N=b(u);c[g].fill(N)}});const y=l.map(u=>d(u)),m=e.map((u,g)=>u.decodeValue(r,y[g]));for(let u=e.length;u<y.length;u++)y[u].decodeValue(r,y[u]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return m}const Jx=new Hx,Lx=new Bs,N4=new Ix,Dx=new qx,eb=new ud,tb=new Gx,rb=new Yx,nb=new Kx,ob=new Z0(32),ib=new Z0(64),sb=new Ei(8),ab=new Ei(16),lb=new Ei(32),cb=new Ei(64),db=new Oo(8),ub=new Oo(16),fb=new Oo(32),hb=new Oo(64),pb=new Zx;function mb(...e){return new Zd(e)}function gb(e){return new Kd(e)}function yb(e){return new _i(e)}function xb(e){return new ml(e)}function bb(e){return new Xd(e)}function wb(){return new oo}function vb(e,t,r=[]){return new Q0(e,t,r)}function Sb(e){return new Xx(e)}const A4=Object.freeze(Object.defineProperty({__proto__:null,Bool:Dx,BoolClass:qx,ConstructType:Ko,Empty:Jx,EmptyClass:Hx,FixedIntClass:Ei,FixedNatClass:Oo,Float32:ob,Float64:ib,FloatClass:Z0,Func:vb,FuncClass:Q0,Int:rb,Int16:ab,Int32:lb,Int64:cb,Int8:sb,IntClass:Yx,Nat:nb,Nat16:ub,Nat32:fb,Nat64:hb,Nat8:db,NatClass:Kx,Null:eb,NullClass:ud,Opt:yb,OptClass:_i,PrimitiveType:Rr,Principal:pb,PrincipalClass:Zx,Rec:wb,RecClass:oo,Record:xb,RecordClass:ml,Reserved:Lx,ReservedClass:Bs,Service:Sb,ServiceClass:Xx,Text:tb,TextClass:Gx,Tuple:mb,TupleClass:Zd,Type:Yd,Unknown:N4,UnknownClass:Ix,Variant:bb,VariantClass:Xd,Vec:gb,VecClass:Kd,Visitor:C4,decode:Qx,encode:xh},Symbol.toStringTag,{value:"Module"}));var kb={},gl={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=ul,r=fl,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=w,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var k=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(k,h),k.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(k){if(k>i)throw new RangeError('The value "'+k+'" is invalid for option "size"');var h=new Uint8Array(k);return Object.setPrototypeOf(h,l.prototype),h}function l(k,h,f){if(typeof k=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(k)}return c(k,h,f)}l.poolSize=8192;function c(k,h,f){if(typeof k=="string")return m(k,h);if(ArrayBuffer.isView(k))return g(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(D(k,ArrayBuffer)||k&&D(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(D(k,SharedArrayBuffer)||k&&D(k.buffer,SharedArrayBuffer)))return N(k,h,f);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var E=k.valueOf&&k.valueOf();if(E!=null&&E!==k)return l.from(E,h,f);var P=W(k);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return l.from(k[Symbol.toPrimitive]("string"),h,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}l.from=function(k,h,f){return c(k,h,f)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function b(k,h,f){return d(k),k<=0?a(k):h!==void 0?typeof f=="string"?a(k).fill(h,f):a(k).fill(h):a(k)}l.alloc=function(k,h,f){return b(k,h,f)};function y(k){return d(k),a(k<0?0:v(k)|0)}l.allocUnsafe=function(k){return y(k)},l.allocUnsafeSlow=function(k){return y(k)};function m(k,h){if((typeof h!="string"||h==="")&&(h="utf8"),!l.isEncoding(h))throw new TypeError("Unknown encoding: "+h);var f=j(k,h)|0,E=a(f),P=E.write(k,h);return P!==f&&(E=E.slice(0,P)),E}function u(k){for(var h=k.length<0?0:v(k.length)|0,f=a(h),E=0;E<h;E+=1)f[E]=k[E]&255;return f}function g(k){if(D(k,Uint8Array)){var h=new Uint8Array(k);return N(h.buffer,h.byteOffset,h.byteLength)}return u(k)}function N(k,h,f){if(h<0||k.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<h+(f||0))throw new RangeError('"length" is outside of buffer bounds');var E;return h===void 0&&f===void 0?E=new Uint8Array(k):f===void 0?E=new Uint8Array(k,h):E=new Uint8Array(k,h,f),Object.setPrototypeOf(E,l.prototype),E}function W(k){if(l.isBuffer(k)){var h=v(k.length)|0,f=a(h);return f.length===0||k.copy(f,0,0,h),f}if(k.length!==void 0)return typeof k.length!="number"||K(k.length)?a(0):u(k);if(k.type==="Buffer"&&Array.isArray(k.data))return u(k.data)}function v(k){if(k>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return k|0}function w(k){return+k!=k&&(k=0),l.alloc(+k)}l.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==l.prototype},l.compare=function(h,f){if(D(h,Uint8Array)&&(h=l.from(h,h.offset,h.byteLength)),D(f,Uint8Array)&&(f=l.from(f,f.offset,f.byteLength)),!l.isBuffer(h)||!l.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===f)return 0;for(var E=h.length,P=f.length,_=0,oe=Math.min(E,P);_<oe;++_)if(h[_]!==f[_]){E=h[_],P=f[_];break}return E<P?-1:P<E?1:0},l.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(h,f){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return l.alloc(0);var E;if(f===void 0)for(f=0,E=0;E<h.length;++E)f+=h[E].length;var P=l.allocUnsafe(f),_=0;for(E=0;E<h.length;++E){var oe=h[E];if(D(oe,Uint8Array))_+oe.length>P.length?l.from(oe).copy(P,_):Uint8Array.prototype.set.call(P,oe,_);else if(l.isBuffer(oe))oe.copy(P,_);else throw new TypeError('"list" argument must be an Array of Buffers');_+=oe.length}return P};function j(k,h){if(l.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||D(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);var f=k.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&f===0)return 0;for(var P=!1;;)switch(h){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return me(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return H(k).length;default:if(P)return E?-1:me(k).length;h=(""+h).toLowerCase(),P=!0}}l.byteLength=j;function F(k,h,f){var E=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,h>>>=0,f<=h))return"";for(k||(k="utf8");;)switch(k){case"hex":return ee(this,h,f);case"utf8":case"utf-8":return O(this,h,f);case"ascii":return re(this,h,f);case"latin1":case"binary":return Q(this,h,f);case"base64":return A(this,h,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,h,f);default:if(E)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),E=!0}}l.prototype._isBuffer=!0;function C(k,h,f){var E=k[h];k[h]=k[f],k[f]=E}l.prototype.swap16=function(){var h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var f=0;f<h;f+=2)C(this,f,f+1);return this},l.prototype.swap32=function(){var h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var f=0;f<h;f+=4)C(this,f,f+3),C(this,f+1,f+2);return this},l.prototype.swap64=function(){var h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var f=0;f<h;f+=8)C(this,f,f+7),C(this,f+1,f+6),C(this,f+2,f+5),C(this,f+3,f+4);return this},l.prototype.toString=function(){var h=this.length;return h===0?"":arguments.length===0?O(this,0,h):F.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(h){if(!l.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:l.compare(this,h)===0},l.prototype.inspect=function(){var h="",f=e.INSPECT_MAX_BYTES;return h=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(h+=" ... "),"<Buffer "+h+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(h,f,E,P,_){if(D(h,Uint8Array)&&(h=l.from(h,h.offset,h.byteLength)),!l.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(f===void 0&&(f=0),E===void 0&&(E=h?h.length:0),P===void 0&&(P=0),_===void 0&&(_=this.length),f<0||E>h.length||P<0||_>this.length)throw new RangeError("out of range index");if(P>=_&&f>=E)return 0;if(P>=_)return-1;if(f>=E)return 1;if(f>>>=0,E>>>=0,P>>>=0,_>>>=0,this===h)return 0;for(var oe=_-P,pe=E-f,ke=Math.min(oe,pe),ve=this.slice(P,_),se=h.slice(f,E),S=0;S<ke;++S)if(ve[S]!==se[S]){oe=ve[S],pe=se[S];break}return oe<pe?-1:pe<oe?1:0};function B(k,h,f,E,P){if(k.length===0)return-1;if(typeof f=="string"?(E=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,K(f)&&(f=P?0:k.length-1),f<0&&(f=k.length+f),f>=k.length){if(P)return-1;f=k.length-1}else if(f<0)if(P)f=0;else return-1;if(typeof h=="string"&&(h=l.from(h,E)),l.isBuffer(h))return h.length===0?-1:R(k,h,f,E,P);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(k,h,f):Uint8Array.prototype.lastIndexOf.call(k,h,f):R(k,[h],f,E,P);throw new TypeError("val must be string, number or Buffer")}function R(k,h,f,E,P){var _=1,oe=k.length,pe=h.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(k.length<2||h.length<2)return-1;_=2,oe/=2,pe/=2,f/=2}function ke(x,G){return _===1?x[G]:x.readUInt16BE(G*_)}var ve;if(P){var se=-1;for(ve=f;ve<oe;ve++)if(ke(k,ve)===ke(h,se===-1?0:ve-se)){if(se===-1&&(se=ve),ve-se+1===pe)return se*_}else se!==-1&&(ve-=ve-se),se=-1}else for(f+pe>oe&&(f=oe-pe),ve=f;ve>=0;ve--){for(var S=!0,p=0;p<pe;p++)if(ke(k,ve+p)!==ke(h,p)){S=!1;break}if(S)return ve}return-1}l.prototype.includes=function(h,f,E){return this.indexOf(h,f,E)!==-1},l.prototype.indexOf=function(h,f,E){return B(this,h,f,E,!0)},l.prototype.lastIndexOf=function(h,f,E){return B(this,h,f,E,!1)};function M(k,h,f,E){f=Number(f)||0;var P=k.length-f;E?(E=Number(E),E>P&&(E=P)):E=P;var _=h.length;E>_/2&&(E=_/2);for(var oe=0;oe<E;++oe){var pe=parseInt(h.substr(oe*2,2),16);if(K(pe))return oe;k[f+oe]=pe}return oe}function Z(k,h,f,E){return J(me(h,k.length-f),k,f,E)}function $(k,h,f,E){return J(ge(h),k,f,E)}function q(k,h,f,E){return J(H(h),k,f,E)}function X(k,h,f,E){return J(U(h,k.length-f),k,f,E)}l.prototype.write=function(h,f,E,P){if(f===void 0)P="utf8",E=this.length,f=0;else if(E===void 0&&typeof f=="string")P=f,E=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(E)?(E=E>>>0,P===void 0&&(P="utf8")):(P=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var _=this.length-f;if((E===void 0||E>_)&&(E=_),h.length>0&&(E<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");for(var oe=!1;;)switch(P){case"hex":return M(this,h,f,E);case"utf8":case"utf-8":return Z(this,h,f,E);case"ascii":case"latin1":case"binary":return $(this,h,f,E);case"base64":return q(this,h,f,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,h,f,E);default:if(oe)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),oe=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(k,h,f){return h===0&&f===k.length?t.fromByteArray(k):t.fromByteArray(k.slice(h,f))}function O(k,h,f){f=Math.min(k.length,f);for(var E=[],P=h;P<f;){var _=k[P],oe=null,pe=_>239?4:_>223?3:_>191?2:1;if(P+pe<=f){var ke,ve,se,S;switch(pe){case 1:_<128&&(oe=_);break;case 2:ke=k[P+1],(ke&192)===128&&(S=(_&31)<<6|ke&63,S>127&&(oe=S));break;case 3:ke=k[P+1],ve=k[P+2],(ke&192)===128&&(ve&192)===128&&(S=(_&15)<<12|(ke&63)<<6|ve&63,S>2047&&(S<55296||S>57343)&&(oe=S));break;case 4:ke=k[P+1],ve=k[P+2],se=k[P+3],(ke&192)===128&&(ve&192)===128&&(se&192)===128&&(S=(_&15)<<18|(ke&63)<<12|(ve&63)<<6|se&63,S>65535&&S<1114112&&(oe=S))}}oe===null?(oe=65533,pe=1):oe>65535&&(oe-=65536,E.push(oe>>>10&1023|55296),oe=56320|oe&1023),E.push(oe),P+=pe}return Y(E)}var V=4096;function Y(k){var h=k.length;if(h<=V)return String.fromCharCode.apply(String,k);for(var f="",E=0;E<h;)f+=String.fromCharCode.apply(String,k.slice(E,E+=V));return f}function re(k,h,f){var E="";f=Math.min(k.length,f);for(var P=h;P<f;++P)E+=String.fromCharCode(k[P]&127);return E}function Q(k,h,f){var E="";f=Math.min(k.length,f);for(var P=h;P<f;++P)E+=String.fromCharCode(k[P]);return E}function ee(k,h,f){var E=k.length;(!h||h<0)&&(h=0),(!f||f<0||f>E)&&(f=E);for(var P="",_=h;_<f;++_)P+=L[k[_]];return P}function de(k,h,f){for(var E=k.slice(h,f),P="",_=0;_<E.length-1;_+=2)P+=String.fromCharCode(E[_]+E[_+1]*256);return P}l.prototype.slice=function(h,f){var E=this.length;h=~~h,f=f===void 0?E:~~f,h<0?(h+=E,h<0&&(h=0)):h>E&&(h=E),f<0?(f+=E,f<0&&(f=0)):f>E&&(f=E),f<h&&(f=h);var P=this.subarray(h,f);return Object.setPrototypeOf(P,l.prototype),P};function ue(k,h,f){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+h>f)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(h,f,E){h=h>>>0,f=f>>>0,E||ue(h,f,this.length);for(var P=this[h],_=1,oe=0;++oe<f&&(_*=256);)P+=this[h+oe]*_;return P},l.prototype.readUintBE=l.prototype.readUIntBE=function(h,f,E){h=h>>>0,f=f>>>0,E||ue(h,f,this.length);for(var P=this[h+--f],_=1;f>0&&(_*=256);)P+=this[h+--f]*_;return P},l.prototype.readUint8=l.prototype.readUInt8=function(h,f){return h=h>>>0,f||ue(h,1,this.length),this[h]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(h,f){return h=h>>>0,f||ue(h,2,this.length),this[h]|this[h+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(h,f){return h=h>>>0,f||ue(h,2,this.length),this[h]<<8|this[h+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(h,f){return h=h>>>0,f||ue(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(h,f){return h=h>>>0,f||ue(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},l.prototype.readIntLE=function(h,f,E){h=h>>>0,f=f>>>0,E||ue(h,f,this.length);for(var P=this[h],_=1,oe=0;++oe<f&&(_*=256);)P+=this[h+oe]*_;return _*=128,P>=_&&(P-=Math.pow(2,8*f)),P},l.prototype.readIntBE=function(h,f,E){h=h>>>0,f=f>>>0,E||ue(h,f,this.length);for(var P=f,_=1,oe=this[h+--P];P>0&&(_*=256);)oe+=this[h+--P]*_;return _*=128,oe>=_&&(oe-=Math.pow(2,8*f)),oe},l.prototype.readInt8=function(h,f){return h=h>>>0,f||ue(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},l.prototype.readInt16LE=function(h,f){h=h>>>0,f||ue(h,2,this.length);var E=this[h]|this[h+1]<<8;return E&32768?E|4294901760:E},l.prototype.readInt16BE=function(h,f){h=h>>>0,f||ue(h,2,this.length);var E=this[h+1]|this[h]<<8;return E&32768?E|4294901760:E},l.prototype.readInt32LE=function(h,f){return h=h>>>0,f||ue(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},l.prototype.readInt32BE=function(h,f){return h=h>>>0,f||ue(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},l.prototype.readFloatLE=function(h,f){return h=h>>>0,f||ue(h,4,this.length),r.read(this,h,!0,23,4)},l.prototype.readFloatBE=function(h,f){return h=h>>>0,f||ue(h,4,this.length),r.read(this,h,!1,23,4)},l.prototype.readDoubleLE=function(h,f){return h=h>>>0,f||ue(h,8,this.length),r.read(this,h,!0,52,8)},l.prototype.readDoubleBE=function(h,f){return h=h>>>0,f||ue(h,8,this.length),r.read(this,h,!1,52,8)};function ae(k,h,f,E,P,_){if(!l.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>P||h<_)throw new RangeError('"value" argument is out of bounds');if(f+E>k.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(h,f,E,P){if(h=+h,f=f>>>0,E=E>>>0,!P){var _=Math.pow(2,8*E)-1;ae(this,h,f,E,_,0)}var oe=1,pe=0;for(this[f]=h&255;++pe<E&&(oe*=256);)this[f+pe]=h/oe&255;return f+E},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(h,f,E,P){if(h=+h,f=f>>>0,E=E>>>0,!P){var _=Math.pow(2,8*E)-1;ae(this,h,f,E,_,0)}var oe=E-1,pe=1;for(this[f+oe]=h&255;--oe>=0&&(pe*=256);)this[f+oe]=h/pe&255;return f+E},l.prototype.writeUint8=l.prototype.writeUInt8=function(h,f,E){return h=+h,f=f>>>0,E||ae(this,h,f,1,255,0),this[f]=h&255,f+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(h,f,E){return h=+h,f=f>>>0,E||ae(this,h,f,2,65535,0),this[f]=h&255,this[f+1]=h>>>8,f+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(h,f,E){return h=+h,f=f>>>0,E||ae(this,h,f,2,65535,0),this[f]=h>>>8,this[f+1]=h&255,f+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(h,f,E){return h=+h,f=f>>>0,E||ae(this,h,f,4,4294967295,0),this[f+3]=h>>>24,this[f+2]=h>>>16,this[f+1]=h>>>8,this[f]=h&255,f+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(h,f,E){return h=+h,f=f>>>0,E||ae(this,h,f,4,4294967295,0),this[f]=h>>>24,this[f+1]=h>>>16,this[f+2]=h>>>8,this[f+3]=h&255,f+4},l.prototype.writeIntLE=function(h,f,E,P){if(h=+h,f=f>>>0,!P){var _=Math.pow(2,8*E-1);ae(this,h,f,E,_-1,-_)}var oe=0,pe=1,ke=0;for(this[f]=h&255;++oe<E&&(pe*=256);)h<0&&ke===0&&this[f+oe-1]!==0&&(ke=1),this[f+oe]=(h/pe>>0)-ke&255;return f+E},l.prototype.writeIntBE=function(h,f,E,P){if(h=+h,f=f>>>0,!P){var _=Math.pow(2,8*E-1);ae(this,h,f,E,_-1,-_)}var oe=E-1,pe=1,ke=0;for(this[f+oe]=h&255;--oe>=0&&(pe*=256);)h<0&&ke===0&&this[f+oe+1]!==0&&(ke=1),this[f+oe]=(h/pe>>0)-ke&255;return f+E},l.prototype.writeInt8=function(h,f,E){return h=+h,f=f>>>0,E||ae(this,h,f,1,127,-128),h<0&&(h=255+h+1),this[f]=h&255,f+1},l.prototype.writeInt16LE=function(h,f,E){return h=+h,f=f>>>0,E||ae(this,h,f,2,32767,-32768),this[f]=h&255,this[f+1]=h>>>8,f+2},l.prototype.writeInt16BE=function(h,f,E){return h=+h,f=f>>>0,E||ae(this,h,f,2,32767,-32768),this[f]=h>>>8,this[f+1]=h&255,f+2},l.prototype.writeInt32LE=function(h,f,E){return h=+h,f=f>>>0,E||ae(this,h,f,4,2147483647,-2147483648),this[f]=h&255,this[f+1]=h>>>8,this[f+2]=h>>>16,this[f+3]=h>>>24,f+4},l.prototype.writeInt32BE=function(h,f,E){return h=+h,f=f>>>0,E||ae(this,h,f,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[f]=h>>>24,this[f+1]=h>>>16,this[f+2]=h>>>8,this[f+3]=h&255,f+4};function he(k,h,f,E,P,_){if(f+E>k.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function z(k,h,f,E,P){return h=+h,f=f>>>0,P||he(k,h,f,4),r.write(k,h,f,E,23,4),f+4}l.prototype.writeFloatLE=function(h,f,E){return z(this,h,f,!0,E)},l.prototype.writeFloatBE=function(h,f,E){return z(this,h,f,!1,E)};function Te(k,h,f,E,P){return h=+h,f=f>>>0,P||he(k,h,f,8),r.write(k,h,f,E,52,8),f+8}l.prototype.writeDoubleLE=function(h,f,E){return Te(this,h,f,!0,E)},l.prototype.writeDoubleBE=function(h,f,E){return Te(this,h,f,!1,E)},l.prototype.copy=function(h,f,E,P){if(!l.isBuffer(h))throw new TypeError("argument should be a Buffer");if(E||(E=0),!P&&P!==0&&(P=this.length),f>=h.length&&(f=h.length),f||(f=0),P>0&&P<E&&(P=E),P===E||h.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),h.length-f<P-E&&(P=h.length-f+E);var _=P-E;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,E,P):Uint8Array.prototype.set.call(h,this.subarray(E,P),f),_},l.prototype.fill=function(h,f,E,P){if(typeof h=="string"){if(typeof f=="string"?(P=f,f=0,E=this.length):typeof E=="string"&&(P=E,E=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!l.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(h.length===1){var _=h.charCodeAt(0);(P==="utf8"&&_<128||P==="latin1")&&(h=_)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(f<0||this.length<f||this.length<E)throw new RangeError("Out of range index");if(E<=f)return this;f=f>>>0,E=E===void 0?this.length:E>>>0,h||(h=0);var oe;if(typeof h=="number")for(oe=f;oe<E;++oe)this[oe]=h;else{var pe=l.isBuffer(h)?h:l.from(h,P),ke=pe.length;if(ke===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(oe=0;oe<E-f;++oe)this[oe+f]=pe[oe%ke]}return this};var be=/[^+/0-9A-Za-z-_]/g;function xe(k){if(k=k.split("=")[0],k=k.trim().replace(be,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function me(k,h){h=h||1/0;for(var f,E=k.length,P=null,_=[],oe=0;oe<E;++oe){if(f=k.charCodeAt(oe),f>55295&&f<57344){if(!P){if(f>56319){(h-=3)>-1&&_.push(239,191,189);continue}else if(oe+1===E){(h-=3)>-1&&_.push(239,191,189);continue}P=f;continue}if(f<56320){(h-=3)>-1&&_.push(239,191,189),P=f;continue}f=(P-55296<<10|f-56320)+65536}else P&&(h-=3)>-1&&_.push(239,191,189);if(P=null,f<128){if((h-=1)<0)break;_.push(f)}else if(f<2048){if((h-=2)<0)break;_.push(f>>6|192,f&63|128)}else if(f<65536){if((h-=3)<0)break;_.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((h-=4)<0)break;_.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return _}function ge(k){for(var h=[],f=0;f<k.length;++f)h.push(k.charCodeAt(f)&255);return h}function U(k,h){for(var f,E,P,_=[],oe=0;oe<k.length&&!((h-=2)<0);++oe)f=k.charCodeAt(oe),E=f>>8,P=f%256,_.push(P),_.push(E);return _}function H(k){return t.toByteArray(xe(k))}function J(k,h,f,E){for(var P=0;P<E&&!(P+f>=h.length||P>=k.length);++P)h[P+f]=k[P];return P}function D(k,h){return k instanceof h||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===h.name}function K(k){return k!==k}var L=function(){for(var k="0123456789abcdef",h=new Array(256),f=0;f<16;++f)for(var E=f*16,P=0;P<16;++P)h[E+P]=k[f]+k[P];return h}()})(gl);var jb={exports:{}};(function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,a="[BigNumber Error] ",l=a+"Number primitive has more than 15 significant digits: ",c=1e14,d=14,b=9007199254740991,y=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],m=1e7,u=1e9;function g(B){var R,M,Z,$=z.prototype={constructor:z,toString:null,valueOf:null},q=new z(1),X=20,A=4,O=-7,V=21,Y=-1e7,re=1e7,Q=!1,ee=1,de=0,ue={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},ae="0123456789abcdefghijklmnopqrstuvwxyz",he=!0;function z(U,H){var J,D,K,L,k,h,f,E,P=this;if(!(P instanceof z))return new z(U,H);if(H==null){if(U&&U._isBigNumber===!0){P.s=U.s,!U.c||U.e>re?P.c=P.e=null:U.e<Y?P.c=[P.e=0]:(P.e=U.e,P.c=U.c.slice());return}if((h=typeof U=="number")&&U*0==0){if(P.s=1/U<0?(U=-U,-1):1,U===~~U){for(L=0,k=U;k>=10;k/=10,L++);L>re?P.c=P.e=null:(P.e=L,P.c=[U]);return}E=String(U)}else{if(!n.test(E=String(U)))return Z(P,E,h);P.s=E.charCodeAt(0)==45?(E=E.slice(1),-1):1}(L=E.indexOf("."))>-1&&(E=E.replace(".","")),(k=E.search(/e/i))>0?(L<0&&(L=k),L+=+E.slice(k+1),E=E.substring(0,k)):L<0&&(L=E.length)}else{if(w(H,2,ae.length,"Base"),H==10&&he)return P=new z(U),me(P,X+P.e+1,A);if(E=String(U),h=typeof U=="number"){if(U*0!=0)return Z(P,E,h,H);if(P.s=1/U<0?(E=E.slice(1),-1):1,z.DEBUG&&E.replace(/^0\.0*|\./,"").length>15)throw Error(l+U)}else P.s=E.charCodeAt(0)===45?(E=E.slice(1),-1):1;for(J=ae.slice(0,H),L=k=0,f=E.length;k<f;k++)if(J.indexOf(D=E.charAt(k))<0){if(D=="."){if(k>L){L=f;continue}}else if(!K&&(E==E.toUpperCase()&&(E=E.toLowerCase())||E==E.toLowerCase()&&(E=E.toUpperCase()))){K=!0,k=-1,L=0;continue}return Z(P,String(U),h,H)}h=!1,E=M(E,H,10,P.s),(L=E.indexOf("."))>-1?E=E.replace(".",""):L=E.length}for(k=0;E.charCodeAt(k)===48;k++);for(f=E.length;E.charCodeAt(--f)===48;);if(E=E.slice(k,++f)){if(f-=k,h&&z.DEBUG&&f>15&&(U>b||U!==o(U)))throw Error(l+P.s*U);if((L=L-k-1)>re)P.c=P.e=null;else if(L<Y)P.c=[P.e=0];else{if(P.e=L,P.c=[],k=(L+1)%d,L<0&&(k+=d),k<f){for(k&&P.c.push(+E.slice(0,k)),f-=d;k<f;)P.c.push(+E.slice(k,k+=d));k=d-(E=E.slice(k)).length}else k-=f;for(;k--;E+="0");P.c.push(+E)}}else P.c=[P.e=0]}z.clone=g,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(U){var H,J;if(U!=null)if(typeof U=="object"){if(U.hasOwnProperty(H="DECIMAL_PLACES")&&(J=U[H],w(J,0,u,H),X=J),U.hasOwnProperty(H="ROUNDING_MODE")&&(J=U[H],w(J,0,8,H),A=J),U.hasOwnProperty(H="EXPONENTIAL_AT")&&(J=U[H],J&&J.pop?(w(J[0],-u,0,H),w(J[1],0,u,H),O=J[0],V=J[1]):(w(J,-u,u,H),O=-(V=J<0?-J:J))),U.hasOwnProperty(H="RANGE"))if(J=U[H],J&&J.pop)w(J[0],-u,-1,H),w(J[1],1,u,H),Y=J[0],re=J[1];else if(w(J,-u,u,H),J)Y=-(re=J<0?-J:J);else throw Error(a+H+" cannot be zero: "+J);if(U.hasOwnProperty(H="CRYPTO"))if(J=U[H],J===!!J)if(J)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Q=J;else throw Q=!J,Error(a+"crypto unavailable");else Q=J;else throw Error(a+H+" not true or false: "+J);if(U.hasOwnProperty(H="MODULO_MODE")&&(J=U[H],w(J,0,9,H),ee=J),U.hasOwnProperty(H="POW_PRECISION")&&(J=U[H],w(J,0,u,H),de=J),U.hasOwnProperty(H="FORMAT"))if(J=U[H],typeof J=="object")ue=J;else throw Error(a+H+" not an object: "+J);if(U.hasOwnProperty(H="ALPHABET"))if(J=U[H],typeof J=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(J))he=J.slice(0,10)=="0123456789",ae=J;else throw Error(a+H+" invalid: "+J)}else throw Error(a+"Object expected: "+U);return{DECIMAL_PLACES:X,ROUNDING_MODE:A,EXPONENTIAL_AT:[O,V],RANGE:[Y,re],CRYPTO:Q,MODULO_MODE:ee,POW_PRECISION:de,FORMAT:ue,ALPHABET:ae}},z.isBigNumber=function(U){if(!U||U._isBigNumber!==!0)return!1;if(!z.DEBUG)return!0;var H,J,D=U.c,K=U.e,L=U.s;e:if({}.toString.call(D)=="[object Array]"){if((L===1||L===-1)&&K>=-u&&K<=u&&K===o(K)){if(D[0]===0){if(K===0&&D.length===1)return!0;break e}if(H=(K+1)%d,H<1&&(H+=d),String(D[0]).length==H){for(H=0;H<D.length;H++)if(J=D[H],J<0||J>=c||J!==o(J))break e;if(J!==0)return!0}}}else if(D===null&&K===null&&(L===null||L===1||L===-1))return!0;throw Error(a+"Invalid BigNumber: "+U)},z.maximum=z.max=function(){return be(arguments,-1)},z.minimum=z.min=function(){return be(arguments,1)},z.random=function(){var U=9007199254740992,H=Math.random()*U&2097151?function(){return o(Math.random()*U)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(J){var D,K,L,k,h,f=0,E=[],P=new z(q);if(J==null?J=X:w(J,0,u),k=i(J/d),Q)if(crypto.getRandomValues){for(D=crypto.getRandomValues(new Uint32Array(k*=2));f<k;)h=D[f]*131072+(D[f+1]>>>11),h>=9e15?(K=crypto.getRandomValues(new Uint32Array(2)),D[f]=K[0],D[f+1]=K[1]):(E.push(h%1e14),f+=2);f=k/2}else if(crypto.randomBytes){for(D=crypto.randomBytes(k*=7);f<k;)h=(D[f]&31)*281474976710656+D[f+1]*1099511627776+D[f+2]*4294967296+D[f+3]*16777216+(D[f+4]<<16)+(D[f+5]<<8)+D[f+6],h>=9e15?crypto.randomBytes(7).copy(D,f):(E.push(h%1e14),f+=7);f=k/7}else throw Q=!1,Error(a+"crypto unavailable");if(!Q)for(;f<k;)h=H(),h<9e15&&(E[f++]=h%1e14);for(k=E[--f],J%=d,k&&J&&(h=y[d-J],E[f]=o(k/h)*h);E[f]===0;E.pop(),f--);if(f<0)E=[L=0];else{for(L=-1;E[0]===0;E.splice(0,1),L-=d);for(f=1,h=E[0];h>=10;h/=10,f++);f<d&&(L-=d-f)}return P.e=L,P.c=E,P}}(),z.sum=function(){for(var U=1,H=arguments,J=new z(H[0]);U<H.length;)J=J.plus(H[U++]);return J},M=function(){var U="0123456789";function H(J,D,K,L){for(var k,h=[0],f,E=0,P=J.length;E<P;){for(f=h.length;f--;h[f]*=D);for(h[0]+=L.indexOf(J.charAt(E++)),k=0;k<h.length;k++)h[k]>K-1&&(h[k+1]==null&&(h[k+1]=0),h[k+1]+=h[k]/K|0,h[k]%=K)}return h.reverse()}return function(J,D,K,L,k){var h,f,E,P,_,oe,pe,ke,ve=J.indexOf("."),se=X,S=A;for(ve>=0&&(P=de,de=0,J=J.replace(".",""),ke=new z(D),oe=ke.pow(J.length-ve),de=P,ke.c=H(C(W(oe.c),oe.e,"0"),10,K,U),ke.e=ke.c.length),pe=H(J,D,K,k?(h=ae,U):(h=U,ae)),E=P=pe.length;pe[--P]==0;pe.pop());if(!pe[0])return h.charAt(0);if(ve<0?--E:(oe.c=pe,oe.e=E,oe.s=L,oe=R(oe,ke,se,S,K),pe=oe.c,_=oe.r,E=oe.e),f=E+se+1,ve=pe[f],P=K/2,_=_||f<0||pe[f+1]!=null,_=S<4?(ve!=null||_)&&(S==0||S==(oe.s<0?3:2)):ve>P||ve==P&&(S==4||_||S==6&&pe[f-1]&1||S==(oe.s<0?8:7)),f<1||!pe[0])J=_?C(h.charAt(1),-se,h.charAt(0)):h.charAt(0);else{if(pe.length=f,_)for(--K;++pe[--f]>K;)pe[f]=0,f||(++E,pe=[1].concat(pe));for(P=pe.length;!pe[--P];);for(ve=0,J="";ve<=P;J+=h.charAt(pe[ve++]));J=C(J,E,h.charAt(0))}return J}}(),R=function(){function U(D,K,L){var k,h,f,E,P=0,_=D.length,oe=K%m,pe=K/m|0;for(D=D.slice();_--;)f=D[_]%m,E=D[_]/m|0,k=pe*f+E*oe,h=oe*f+k%m*m+P,P=(h/L|0)+(k/m|0)+pe*E,D[_]=h%L;return P&&(D=[P].concat(D)),D}function H(D,K,L,k){var h,f;if(L!=k)f=L>k?1:-1;else for(h=f=0;h<L;h++)if(D[h]!=K[h]){f=D[h]>K[h]?1:-1;break}return f}function J(D,K,L,k){for(var h=0;L--;)D[L]-=h,h=D[L]<K[L]?1:0,D[L]=h*k+D[L]-K[L];for(;!D[0]&&D.length>1;D.splice(0,1));}return function(D,K,L,k,h){var f,E,P,_,oe,pe,ke,ve,se,S,p,x,G,te,le,ce,_e,ze=D.s==K.s?1:-1,Re=D.c,Ne=K.c;if(!Re||!Re[0]||!Ne||!Ne[0])return new z(!D.s||!K.s||(Re?Ne&&Re[0]==Ne[0]:!Ne)?NaN:Re&&Re[0]==0||!Ne?ze*0:ze/0);for(ve=new z(ze),se=ve.c=[],E=D.e-K.e,ze=L+E+1,h||(h=c,E=N(D.e/d)-N(K.e/d),ze=ze/d|0),P=0;Ne[P]==(Re[P]||0);P++);if(Ne[P]>(Re[P]||0)&&E--,ze<0)se.push(1),_=!0;else{for(te=Re.length,ce=Ne.length,P=0,ze+=2,oe=o(h/(Ne[0]+1)),oe>1&&(Ne=U(Ne,oe,h),Re=U(Re,oe,h),ce=Ne.length,te=Re.length),G=ce,S=Re.slice(0,ce),p=S.length;p<ce;S[p++]=0);_e=Ne.slice(),_e=[0].concat(_e),le=Ne[0],Ne[1]>=h/2&&le++;do{if(oe=0,f=H(Ne,S,ce,p),f<0){if(x=S[0],ce!=p&&(x=x*h+(S[1]||0)),oe=o(x/le),oe>1)for(oe>=h&&(oe=h-1),pe=U(Ne,oe,h),ke=pe.length,p=S.length;H(pe,S,ke,p)==1;)oe--,J(pe,ce<ke?_e:Ne,ke,h),ke=pe.length,f=1;else oe==0&&(f=oe=1),pe=Ne.slice(),ke=pe.length;if(ke<p&&(pe=[0].concat(pe)),J(S,pe,p,h),p=S.length,f==-1)for(;H(Ne,S,ce,p)<1;)oe++,J(S,ce<p?_e:Ne,p,h),p=S.length}else f===0&&(oe++,S=[0]);se[P++]=oe,S[0]?S[p++]=Re[G]||0:(S=[Re[G]],p=1)}while((G++<te||S[0]!=null)&&ze--);_=S[0]!=null,se[0]||se.splice(0,1)}if(h==c){for(P=1,ze=se[0];ze>=10;ze/=10,P++);me(ve,L+(ve.e=P+E*d-1)+1,k,_)}else ve.e=E,ve.r=+_;return ve}}();function Te(U,H,J,D){var K,L,k,h,f;if(J==null?J=A:w(J,0,8),!U.c)return U.toString();if(K=U.c[0],k=U.e,H==null)f=W(U.c),f=D==1||D==2&&(k<=O||k>=V)?F(f,k):C(f,k,"0");else if(U=me(new z(U),H,J),L=U.e,f=W(U.c),h=f.length,D==1||D==2&&(H<=L||L<=O)){for(;h<H;f+="0",h++);f=F(f,L)}else if(H-=k+(D===2&&L>k),f=C(f,L,"0"),L+1>h){if(--H>0)for(f+=".";H--;f+="0");}else if(H+=L-h,H>0)for(L+1==h&&(f+=".");H--;f+="0");return U.s<0&&K?"-"+f:f}function be(U,H){for(var J,D,K=1,L=new z(U[0]);K<U.length;K++)D=new z(U[K]),(!D.s||(J=v(L,D))===H||J===0&&L.s===H)&&(L=D);return L}function xe(U,H,J){for(var D=1,K=H.length;!H[--K];H.pop());for(K=H[0];K>=10;K/=10,D++);return(J=D+J*d-1)>re?U.c=U.e=null:J<Y?U.c=[U.e=0]:(U.e=J,U.c=H),U}Z=function(){var U=/^(-?)0([xbo])(?=\w[\w.]*$)/i,H=/^([^.]+)\.$/,J=/^\.([^.]+)$/,D=/^-?(Infinity|NaN)$/,K=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(L,k,h,f){var E,P=h?k:k.replace(K,"");if(D.test(P))L.s=isNaN(P)?null:P<0?-1:1;else{if(!h&&(P=P.replace(U,function(_,oe,pe){return E=(pe=pe.toLowerCase())=="x"?16:pe=="b"?2:8,!f||f==E?oe:_}),f&&(E=f,P=P.replace(H,"$1").replace(J,"0.$1")),k!=P))return new z(P,E);if(z.DEBUG)throw Error(a+"Not a"+(f?" base "+f:"")+" number: "+k);L.s=null}L.c=L.e=null}}();function me(U,H,J,D){var K,L,k,h,f,E,P,_=U.c,oe=y;if(_){e:{for(K=1,h=_[0];h>=10;h/=10,K++);if(L=H-K,L<0)L+=d,k=H,f=_[E=0],P=o(f/oe[K-k-1]%10);else if(E=i((L+1)/d),E>=_.length)if(D){for(;_.length<=E;_.push(0));f=P=0,K=1,L%=d,k=L-d+1}else break e;else{for(f=h=_[E],K=1;h>=10;h/=10,K++);L%=d,k=L-d+K,P=k<0?0:o(f/oe[K-k-1]%10)}if(D=D||H<0||_[E+1]!=null||(k<0?f:f%oe[K-k-1]),D=J<4?(P||D)&&(J==0||J==(U.s<0?3:2)):P>5||P==5&&(J==4||D||J==6&&(L>0?k>0?f/oe[K-k]:0:_[E-1])%10&1||J==(U.s<0?8:7)),H<1||!_[0])return _.length=0,D?(H-=U.e+1,_[0]=oe[(d-H%d)%d],U.e=-H||0):_[0]=U.e=0,U;if(L==0?(_.length=E,h=1,E--):(_.length=E+1,h=oe[d-L],_[E]=k>0?o(f/oe[K-k]%oe[k])*h:0),D)for(;;)if(E==0){for(L=1,k=_[0];k>=10;k/=10,L++);for(k=_[0]+=h,h=1;k>=10;k/=10,h++);L!=h&&(U.e++,_[0]==c&&(_[0]=1));break}else{if(_[E]+=h,_[E]!=c)break;_[E--]=0,h=1}for(L=_.length;_[--L]===0;_.pop());}U.e>re?U.c=U.e=null:U.e<Y&&(U.c=[U.e=0])}return U}function ge(U){var H,J=U.e;return J===null?U.toString():(H=W(U.c),H=J<=O||J>=V?F(H,J):C(H,J,"0"),U.s<0?"-"+H:H)}return $.absoluteValue=$.abs=function(){var U=new z(this);return U.s<0&&(U.s=1),U},$.comparedTo=function(U,H){return v(this,new z(U,H))},$.decimalPlaces=$.dp=function(U,H){var J,D,K,L=this;if(U!=null)return w(U,0,u),H==null?H=A:w(H,0,8),me(new z(L),U+L.e+1,H);if(!(J=L.c))return null;if(D=((K=J.length-1)-N(this.e/d))*d,K=J[K])for(;K%10==0;K/=10,D--);return D<0&&(D=0),D},$.dividedBy=$.div=function(U,H){return R(this,new z(U,H),X,A)},$.dividedToIntegerBy=$.idiv=function(U,H){return R(this,new z(U,H),0,1)},$.exponentiatedBy=$.pow=function(U,H){var J,D,K,L,k,h,f,E,P,_=this;if(U=new z(U),U.c&&!U.isInteger())throw Error(a+"Exponent not an integer: "+ge(U));if(H!=null&&(H=new z(H)),h=U.e>14,!_.c||!_.c[0]||_.c[0]==1&&!_.e&&_.c.length==1||!U.c||!U.c[0])return P=new z(Math.pow(+ge(_),h?U.s*(2-j(U)):+ge(U))),H?P.mod(H):P;if(f=U.s<0,H){if(H.c?!H.c[0]:!H.s)return new z(NaN);D=!f&&_.isInteger()&&H.isInteger(),D&&(_=_.mod(H))}else{if(U.e>9&&(_.e>0||_.e<-1||(_.e==0?_.c[0]>1||h&&_.c[1]>=24e7:_.c[0]<8e13||h&&_.c[0]<=9999975e7)))return L=_.s<0&&j(U)?-0:0,_.e>-1&&(L=1/L),new z(f?1/L:L);de&&(L=i(de/d+2))}for(h?(J=new z(.5),f&&(U.s=1),E=j(U)):(K=Math.abs(+ge(U)),E=K%2),P=new z(q);;){if(E){if(P=P.times(_),!P.c)break;L?P.c.length>L&&(P.c.length=L):D&&(P=P.mod(H))}if(K){if(K=o(K/2),K===0)break;E=K%2}else if(U=U.times(J),me(U,U.e+1,1),U.e>14)E=j(U);else{if(K=+ge(U),K===0)break;E=K%2}_=_.times(_),L?_.c&&_.c.length>L&&(_.c.length=L):D&&(_=_.mod(H))}return D?P:(f&&(P=q.div(P)),H?P.mod(H):L?me(P,de,A,k):P)},$.integerValue=function(U){var H=new z(this);return U==null?U=A:w(U,0,8),me(H,H.e+1,U)},$.isEqualTo=$.eq=function(U,H){return v(this,new z(U,H))===0},$.isFinite=function(){return!!this.c},$.isGreaterThan=$.gt=function(U,H){return v(this,new z(U,H))>0},$.isGreaterThanOrEqualTo=$.gte=function(U,H){return(H=v(this,new z(U,H)))===1||H===0},$.isInteger=function(){return!!this.c&&N(this.e/d)>this.c.length-2},$.isLessThan=$.lt=function(U,H){return v(this,new z(U,H))<0},$.isLessThanOrEqualTo=$.lte=function(U,H){return(H=v(this,new z(U,H)))===-1||H===0},$.isNaN=function(){return!this.s},$.isNegative=function(){return this.s<0},$.isPositive=function(){return this.s>0},$.isZero=function(){return!!this.c&&this.c[0]==0},$.minus=function(U,H){var J,D,K,L,k=this,h=k.s;if(U=new z(U,H),H=U.s,!h||!H)return new z(NaN);if(h!=H)return U.s=-H,k.plus(U);var f=k.e/d,E=U.e/d,P=k.c,_=U.c;if(!f||!E){if(!P||!_)return P?(U.s=-H,U):new z(_?k:NaN);if(!P[0]||!_[0])return _[0]?(U.s=-H,U):new z(P[0]?k:A==3?-0:0)}if(f=N(f),E=N(E),P=P.slice(),h=f-E){for((L=h<0)?(h=-h,K=P):(E=f,K=_),K.reverse(),H=h;H--;K.push(0));K.reverse()}else for(D=(L=(h=P.length)<(H=_.length))?h:H,h=H=0;H<D;H++)if(P[H]!=_[H]){L=P[H]<_[H];break}if(L&&(K=P,P=_,_=K,U.s=-U.s),H=(D=_.length)-(J=P.length),H>0)for(;H--;P[J++]=0);for(H=c-1;D>h;){if(P[--D]<_[D]){for(J=D;J&&!P[--J];P[J]=H);--P[J],P[D]+=c}P[D]-=_[D]}for(;P[0]==0;P.splice(0,1),--E);return P[0]?xe(U,P,E):(U.s=A==3?-1:1,U.c=[U.e=0],U)},$.modulo=$.mod=function(U,H){var J,D,K=this;return U=new z(U,H),!K.c||!U.s||U.c&&!U.c[0]?new z(NaN):!U.c||K.c&&!K.c[0]?new z(K):(ee==9?(D=U.s,U.s=1,J=R(K,U,0,3),U.s=D,J.s*=D):J=R(K,U,0,ee),U=K.minus(J.times(U)),!U.c[0]&&ee==1&&(U.s=K.s),U)},$.multipliedBy=$.times=function(U,H){var J,D,K,L,k,h,f,E,P,_,oe,pe,ke,ve,se,S=this,p=S.c,x=(U=new z(U,H)).c;if(!p||!x||!p[0]||!x[0])return!S.s||!U.s||p&&!p[0]&&!x||x&&!x[0]&&!p?U.c=U.e=U.s=null:(U.s*=S.s,!p||!x?U.c=U.e=null:(U.c=[0],U.e=0)),U;for(D=N(S.e/d)+N(U.e/d),U.s*=S.s,f=p.length,_=x.length,f<_&&(ke=p,p=x,x=ke,K=f,f=_,_=K),K=f+_,ke=[];K--;ke.push(0));for(ve=c,se=m,K=_;--K>=0;){for(J=0,oe=x[K]%se,pe=x[K]/se|0,k=f,L=K+k;L>K;)E=p[--k]%se,P=p[k]/se|0,h=pe*E+P*oe,E=oe*E+h%se*se+ke[L]+J,J=(E/ve|0)+(h/se|0)+pe*P,ke[L--]=E%ve;ke[L]=J}return J?++D:ke.splice(0,1),xe(U,ke,D)},$.negated=function(){var U=new z(this);return U.s=-U.s||null,U},$.plus=function(U,H){var J,D=this,K=D.s;if(U=new z(U,H),H=U.s,!K||!H)return new z(NaN);if(K!=H)return U.s=-H,D.minus(U);var L=D.e/d,k=U.e/d,h=D.c,f=U.c;if(!L||!k){if(!h||!f)return new z(K/0);if(!h[0]||!f[0])return f[0]?U:new z(h[0]?D:K*0)}if(L=N(L),k=N(k),h=h.slice(),K=L-k){for(K>0?(k=L,J=f):(K=-K,J=h),J.reverse();K--;J.push(0));J.reverse()}for(K=h.length,H=f.length,K-H<0&&(J=f,f=h,h=J,H=K),K=0;H;)K=(h[--H]=h[H]+f[H]+K)/c|0,h[H]=c===h[H]?0:h[H]%c;return K&&(h=[K].concat(h),++k),xe(U,h,k)},$.precision=$.sd=function(U,H){var J,D,K,L=this;if(U!=null&&U!==!!U)return w(U,1,u),H==null?H=A:w(H,0,8),me(new z(L),U,H);if(!(J=L.c))return null;if(K=J.length-1,D=K*d+1,K=J[K]){for(;K%10==0;K/=10,D--);for(K=J[0];K>=10;K/=10,D++);}return U&&L.e+1>D&&(D=L.e+1),D},$.shiftedBy=function(U){return w(U,-b,b),this.times("1e"+U)},$.squareRoot=$.sqrt=function(){var U,H,J,D,K,L=this,k=L.c,h=L.s,f=L.e,E=X+4,P=new z("0.5");if(h!==1||!k||!k[0])return new z(!h||h<0&&(!k||k[0])?NaN:k?L:1/0);if(h=Math.sqrt(+ge(L)),h==0||h==1/0?(H=W(k),(H.length+f)%2==0&&(H+="0"),h=Math.sqrt(+H),f=N((f+1)/2)-(f<0||f%2),h==1/0?H="5e"+f:(H=h.toExponential(),H=H.slice(0,H.indexOf("e")+1)+f),J=new z(H)):J=new z(h+""),J.c[0]){for(f=J.e,h=f+E,h<3&&(h=0);;)if(K=J,J=P.times(K.plus(R(L,K,E,1))),W(K.c).slice(0,h)===(H=W(J.c)).slice(0,h))if(J.e<f&&--h,H=H.slice(h-3,h+1),H=="9999"||!D&&H=="4999"){if(!D&&(me(K,K.e+X+2,0),K.times(K).eq(L))){J=K;break}E+=4,h+=4,D=1}else{(!+H||!+H.slice(1)&&H.charAt(0)=="5")&&(me(J,J.e+X+2,1),U=!J.times(J).eq(L));break}}return me(J,J.e+X+1,A,U)},$.toExponential=function(U,H){return U!=null&&(w(U,0,u),U++),Te(this,U,H,1)},$.toFixed=function(U,H){return U!=null&&(w(U,0,u),U=U+this.e+1),Te(this,U,H)},$.toFormat=function(U,H,J){var D,K=this;if(J==null)U!=null&&H&&typeof H=="object"?(J=H,H=null):U&&typeof U=="object"?(J=U,U=H=null):J=ue;else if(typeof J!="object")throw Error(a+"Argument not an object: "+J);if(D=K.toFixed(U,H),K.c){var L,k=D.split("."),h=+J.groupSize,f=+J.secondaryGroupSize,E=J.groupSeparator||"",P=k[0],_=k[1],oe=K.s<0,pe=oe?P.slice(1):P,ke=pe.length;if(f&&(L=h,h=f,f=L,ke-=L),h>0&&ke>0){for(L=ke%h||h,P=pe.substr(0,L);L<ke;L+=h)P+=E+pe.substr(L,h);f>0&&(P+=E+pe.slice(L)),oe&&(P="-"+P)}D=_?P+(J.decimalSeparator||"")+((f=+J.fractionGroupSize)?_.replace(new RegExp("\\d{"+f+"}\\B","g"),"$&"+(J.fractionGroupSeparator||"")):_):P}return(J.prefix||"")+D+(J.suffix||"")},$.toFraction=function(U){var H,J,D,K,L,k,h,f,E,P,_,oe,pe=this,ke=pe.c;if(U!=null&&(h=new z(U),!h.isInteger()&&(h.c||h.s!==1)||h.lt(q)))throw Error(a+"Argument "+(h.isInteger()?"out of range: ":"not an integer: ")+ge(h));if(!ke)return new z(pe);for(H=new z(q),E=J=new z(q),D=f=new z(q),oe=W(ke),L=H.e=oe.length-pe.e-1,H.c[0]=y[(k=L%d)<0?d+k:k],U=!U||h.comparedTo(H)>0?L>0?H:E:h,k=re,re=1/0,h=new z(oe),f.c[0]=0;P=R(h,H,0,1),K=J.plus(P.times(D)),K.comparedTo(U)!=1;)J=D,D=K,E=f.plus(P.times(K=E)),f=K,H=h.minus(P.times(K=H)),h=K;return K=R(U.minus(J),D,0,1),f=f.plus(K.times(E)),J=J.plus(K.times(D)),f.s=E.s=pe.s,L=L*2,_=R(E,D,L,A).minus(pe).abs().comparedTo(R(f,J,L,A).minus(pe).abs())<1?[E,D]:[f,J],re=k,_},$.toNumber=function(){return+ge(this)},$.toPrecision=function(U,H){return U!=null&&w(U,1,u),Te(this,U,H,2)},$.toString=function(U){var H,J=this,D=J.s,K=J.e;return K===null?D?(H="Infinity",D<0&&(H="-"+H)):H="NaN":(U==null?H=K<=O||K>=V?F(W(J.c),K):C(W(J.c),K,"0"):U===10&&he?(J=me(new z(J),X+K+1,A),H=C(W(J.c),J.e,"0")):(w(U,2,ae.length,"Base"),H=M(C(W(J.c),K,"0"),10,U,D,!0)),D<0&&J.c[0]&&(H="-"+H)),H},$.valueOf=$.toJSON=function(){return ge(this)},$._isBigNumber=!0,B!=null&&z.set(B),z}function N(B){var R=B|0;return B>0||B===R?R:R-1}function W(B){for(var R,M,Z=1,$=B.length,q=B[0]+"";Z<$;){for(R=B[Z++]+"",M=d-R.length;M--;R="0"+R);q+=R}for($=q.length;q.charCodeAt(--$)===48;);return q.slice(0,$+1||1)}function v(B,R){var M,Z,$=B.c,q=R.c,X=B.s,A=R.s,O=B.e,V=R.e;if(!X||!A)return null;if(M=$&&!$[0],Z=q&&!q[0],M||Z)return M?Z?0:-A:X;if(X!=A)return X;if(M=X<0,Z=O==V,!$||!q)return Z?0:!$^M?1:-1;if(!Z)return O>V^M?1:-1;for(A=(O=$.length)<(V=q.length)?O:V,X=0;X<A;X++)if($[X]!=q[X])return $[X]>q[X]^M?1:-1;return O==V?0:O>V^M?1:-1}function w(B,R,M,Z){if(B<R||B>M||B!==o(B))throw Error(a+(Z||"Argument")+(typeof B=="number"?B<R||B>M?" out of range: ":" not an integer: ":" not a primitive number: ")+String(B))}function j(B){var R=B.c.length-1;return N(B.e/d)==R&&B.c[R]%2!=0}function F(B,R){return(B.length>1?B.charAt(0)+"."+B.slice(1):B)+(R<0?"e":"e+")+R}function C(B,R,M){var Z,$;if(R<0){for($=M+".";++R;$+=M);B=$+B}else if(Z=B.length,++R>Z){for($=M,R-=Z;--R;$+=M);B+=$}else R<Z&&(B=B.slice(0,R)+"."+B.slice(R));return B}r=g(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(yi)})(jb);var Qd=jb.exports,B4=function(t,r,n){var i=new t.Uint8Array(n),o=r.pushInt,a=r.pushInt32,l=r.pushInt32Neg,c=r.pushInt64,d=r.pushInt64Neg,b=r.pushFloat,y=r.pushFloatSingle,m=r.pushFloatDouble,u=r.pushTrue,g=r.pushFalse,N=r.pushUndefined,W=r.pushNull,v=r.pushInfinity,w=r.pushInfinityNeg,j=r.pushNaN,F=r.pushNaNNeg,C=r.pushArrayStart,B=r.pushArrayStartFixed,R=r.pushArrayStartFixed32,M=r.pushArrayStartFixed64,Z=r.pushObjectStart,$=r.pushObjectStartFixed,q=r.pushObjectStartFixed32,X=r.pushObjectStartFixed64,A=r.pushByteString,O=r.pushByteStringStart,V=r.pushUtf8String,Y=r.pushUtf8StringStart,re=r.pushSimpleUnassigned,Q=r.pushTagStart,ee=r.pushTagStart4,de=r.pushTagStart8,ue=r.pushTagUnassigned,ae=r.pushBreak,he=t.Math.pow,z=0,Te=0,be=0;function xe(ne){for(ne=ne|0,z=0,Te=ne;(z|0)<(Te|0)&&(be=hu[i[z]&255](i[z]|0)|0,!((be|0)>0)););return be|0}function me(ne){return ne=ne|0,((z|0)+(ne|0)|0)<(Te|0)?0:1}function ge(ne){return ne=ne|0,i[ne|0]<<8|i[ne+1|0]|0}function U(ne){return ne=ne|0,i[ne|0]<<24|i[ne+1|0]<<16|i[ne+2|0]<<8|i[ne+3|0]|0}function H(ne){return ne=ne|0,o(ne|0),z=z+1|0,0}function J(ne){return ne=ne|0,me(1)|0?1:(o(i[z+1|0]|0),z=z+2|0,0)}function D(ne){return ne=ne|0,me(2)|0?1:(o(ge(z+1|0)|0),z=z+3|0,0)}function K(ne){return ne=ne|0,me(4)|0?1:(a(ge(z+1|0)|0,ge(z+3|0)|0),z=z+5|0,0)}function L(ne){return ne=ne|0,me(8)|0?1:(c(ge(z+1|0)|0,ge(z+3|0)|0,ge(z+5|0)|0,ge(z+7|0)|0),z=z+9|0,0)}function k(ne){return ne=ne|0,o(-1-(ne-32|0)|0),z=z+1|0,0}function h(ne){return ne=ne|0,me(1)|0?1:(o(-1-(i[z+1|0]|0)|0),z=z+2|0,0)}function f(ne){ne=ne|0;var Ue=0;return me(2)|0?1:(Ue=ge(z+1|0)|0,o(-1-(Ue|0)|0),z=z+3|0,0)}function E(ne){return ne=ne|0,me(4)|0?1:(l(ge(z+1|0)|0,ge(z+3|0)|0),z=z+5|0,0)}function P(ne){return ne=ne|0,me(8)|0?1:(d(ge(z+1|0)|0,ge(z+3|0)|0,ge(z+5|0)|0,ge(z+7|0)|0),z=z+9|0,0)}function _(ne){ne=ne|0;var Ue=0,Ve=0,Oe=0;return Oe=ne-64|0,me(Oe|0)|0?1:(Ue=z+1|0,Ve=(z+1|0)+(Oe|0)|0,A(Ue|0,Ve|0),z=Ve|0,0)}function oe(ne){ne=ne|0;var Ue=0,Ve=0,Oe=0;return me(1)|0||(Oe=i[z+1|0]|0,Ue=z+2|0,Ve=(z+2|0)+(Oe|0)|0,me(Oe+1|0)|0)?1:(A(Ue|0,Ve|0),z=Ve|0,0)}function pe(ne){ne=ne|0;var Ue=0,Ve=0,Oe=0;return me(2)|0||(Oe=ge(z+1|0)|0,Ue=z+3|0,Ve=(z+3|0)+(Oe|0)|0,me(Oe+2|0)|0)?1:(A(Ue|0,Ve|0),z=Ve|0,0)}function ke(ne){ne=ne|0;var Ue=0,Ve=0,Oe=0;return me(4)|0||(Oe=U(z+1|0)|0,Ue=z+5|0,Ve=(z+5|0)+(Oe|0)|0,me(Oe+4|0)|0)?1:(A(Ue|0,Ve|0),z=Ve|0,0)}function ve(ne){return ne=ne|0,1}function se(ne){return ne=ne|0,O(),z=z+1|0,0}function S(ne){ne=ne|0;var Ue=0,Ve=0,Oe=0;return Oe=ne-96|0,me(Oe|0)|0?1:(Ue=z+1|0,Ve=(z+1|0)+(Oe|0)|0,V(Ue|0,Ve|0),z=Ve|0,0)}function p(ne){ne=ne|0;var Ue=0,Ve=0,Oe=0;return me(1)|0||(Oe=i[z+1|0]|0,Ue=z+2|0,Ve=(z+2|0)+(Oe|0)|0,me(Oe+1|0)|0)?1:(V(Ue|0,Ve|0),z=Ve|0,0)}function x(ne){ne=ne|0;var Ue=0,Ve=0,Oe=0;return me(2)|0||(Oe=ge(z+1|0)|0,Ue=z+3|0,Ve=(z+3|0)+(Oe|0)|0,me(Oe+2|0)|0)?1:(V(Ue|0,Ve|0),z=Ve|0,0)}function G(ne){ne=ne|0;var Ue=0,Ve=0,Oe=0;return me(4)|0||(Oe=U(z+1|0)|0,Ue=z+5|0,Ve=(z+5|0)+(Oe|0)|0,me(Oe+4|0)|0)?1:(V(Ue|0,Ve|0),z=Ve|0,0)}function te(ne){return ne=ne|0,1}function le(ne){return ne=ne|0,Y(),z=z+1|0,0}function ce(ne){return ne=ne|0,B(ne-128|0),z=z+1|0,0}function _e(ne){return ne=ne|0,me(1)|0?1:(B(i[z+1|0]|0),z=z+2|0,0)}function ze(ne){return ne=ne|0,me(2)|0?1:(B(ge(z+1|0)|0),z=z+3|0,0)}function Re(ne){return ne=ne|0,me(4)|0?1:(R(ge(z+1|0)|0,ge(z+3|0)|0),z=z+5|0,0)}function Ne(ne){return ne=ne|0,me(8)|0?1:(M(ge(z+1|0)|0,ge(z+3|0)|0,ge(z+5|0)|0,ge(z+7|0)|0),z=z+9|0,0)}function $e(ne){return ne=ne|0,C(),z=z+1|0,0}function Ge(ne){ne=ne|0;var Ue=0;return Ue=ne-160|0,me(Ue|0)|0?1:($(Ue|0),z=z+1|0,0)}function wn(ne){return ne=ne|0,me(1)|0?1:($(i[z+1|0]|0),z=z+2|0,0)}function zr(ne){return ne=ne|0,me(2)|0?1:($(ge(z+1|0)|0),z=z+3|0,0)}function vn(ne){return ne=ne|0,me(4)|0?1:(q(ge(z+1|0)|0,ge(z+3|0)|0),z=z+5|0,0)}function Sn(ne){return ne=ne|0,me(8)|0?1:(X(ge(z+1|0)|0,ge(z+3|0)|0,ge(z+5|0)|0,ge(z+7|0)|0),z=z+9|0,0)}function kn(ne){return ne=ne|0,Z(),z=z+1|0,0}function Nt(ne){return ne=ne|0,Q(ne-192|0|0),z=z+1|0,0}function Fi(ne){return ne=ne|0,Q(ne|0),z=z+1|0,0}function so(ne){return ne=ne|0,Q(ne|0),z=z+1|0,0}function jn(ne){return ne=ne|0,Q(ne|0),z=z+1|0,0}function ir(ne){return ne=ne|0,Q(ne|0),z=z+1|0,0}function Xe(ne){return ne=ne|0,Q(ne-192|0|0),z=z+1|0,0}function ao(ne){return ne=ne|0,Q(ne|0),z=z+1|0,0}function Tn(ne){return ne=ne|0,Q(ne|0),z=z+1|0,0}function Pr(ne){return ne=ne|0,Q(ne|0),z=z+1|0,0}function Mr(ne){return ne=ne|0,me(1)|0?1:(Q(i[z+1|0]|0),z=z+2|0,0)}function I(ne){return ne=ne|0,me(2)|0?1:(Q(ge(z+1|0)|0),z=z+3|0,0)}function je(ne){return ne=ne|0,me(4)|0?1:(ee(ge(z+1|0)|0,ge(z+3|0)|0),z=z+5|0,0)}function Me(ne){return ne=ne|0,me(8)|0?1:(de(ge(z+1|0)|0,ge(z+3|0)|0,ge(z+5|0)|0,ge(z+7|0)|0),z=z+9|0,0)}function Fe(ne){return ne=ne|0,re((ne|0)-224|0),z=z+1|0,0}function Ie(ne){return ne=ne|0,g(),z=z+1|0,0}function Or(ne){return ne=ne|0,u(),z=z+1|0,0}function lo(ne){return ne=ne|0,W(),z=z+1|0,0}function En(ne){return ne=ne|0,N(),z=z+1|0,0}function ie(ne){return ne=ne|0,me(1)|0?1:(re(i[z+1|0]|0),z=z+2|0,0)}function fe(ne){ne=ne|0;var Ue=0,Ve=0,Oe=1,zi=0,Xo=0,yp=0;return me(2)|0?1:(Ue=i[z+1|0]|0,Ve=i[z+2|0]|0,(Ue|0)&128&&(Oe=-1),zi=+(((Ue|0)&124)>>2),Xo=+(((Ue|0)&3)<<8|Ve),+zi==0?b(+(+Oe*5960464477539063e-23*+Xo)):+zi==31?+Oe==1?+Xo>0?j():v():+Xo>0?F():w():b(+(+Oe*he(2,+(+zi-25))*+(1024+Xo))),z=z+3|0,0)}function nt(ne){return ne=ne|0,me(4)|0?1:(y(i[z+1|0]|0,i[z+2|0]|0,i[z+3|0]|0,i[z+4|0]|0),z=z+5|0,0)}function _n(ne){return ne=ne|0,me(8)|0?1:(m(i[z+1|0]|0,i[z+2|0]|0,i[z+3|0]|0,i[z+4|0]|0,i[z+5|0]|0,i[z+6|0]|0,i[z+7|0]|0,i[z+8|0]|0),z=z+9|0,0)}function Ye(ne){return ne=ne|0,1}function fu(ne){return ne=ne|0,ae(),z=z+1|0,0}var hu=[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,J,D,K,L,Ye,Ye,Ye,Ye,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,h,f,E,P,Ye,Ye,Ye,Ye,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,oe,pe,ke,ve,Ye,Ye,Ye,se,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,p,x,G,te,Ye,Ye,Ye,le,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,_e,ze,Re,Ne,Ye,Ye,Ye,$e,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,wn,zr,vn,Sn,Ye,Ye,Ye,kn,Nt,Nt,Nt,Nt,Nt,Nt,Xe,Xe,Xe,Xe,Xe,Xe,Xe,Xe,Xe,Xe,Xe,Xe,Xe,Xe,Xe,Xe,Xe,Xe,Mr,I,je,Me,Ye,Ye,Ye,Ye,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Ie,Or,lo,En,ie,fe,nt,_n,Ye,Ye,Ye,fu];return{parse:xe}},Jd={},Xt={};const J0=Qd.BigNumber;Xt.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Xt.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Xt.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Xt.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Xt.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Xt.SHIFT32=Math.pow(2,32);Xt.SHIFT16=Math.pow(2,16);Xt.MAX_SAFE_HIGH=2097151;Xt.NEG_ONE=new J0(-1);Xt.TEN=new J0(10);Xt.TWO=new J0(2);Xt.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(e){const{Buffer:t}=gl,r=Qd.BigNumber,n=Xt,i=n.SHIFT32,o=n.SHIFT16,a=2097151;e.parseHalf=function(d){var b,y,m;return m=d[0]&128?-1:1,b=(d[0]&124)>>2,y=(d[0]&3)<<8|d[1],b?b===31?m*(y?0/0:1/0):m*Math.pow(2,b-25)*(1024+y):m*5960464477539063e-23*y};function l(c){return c<16?"0"+c.toString(16):c.toString(16)}e.arrayBufferToBignumber=function(c){const d=c.byteLength;let b="";for(let y=0;y<d;y++)b+=l(c[y]);return new r(b,16)},e.buildMap=c=>{const d=new Map,b=Object.keys(c),y=b.length;for(let m=0;m<y;m++)d.set(b[m],c[b[m]]);return d},e.buildInt32=(c,d)=>c*o+d,e.buildInt64=(c,d,b,y)=>{const m=e.buildInt32(c,d),u=e.buildInt32(b,y);return m>a?new r(m).times(i).plus(u):m*i+u},e.writeHalf=function(d,b){const y=t.allocUnsafe(4);y.writeFloatBE(b,0);const m=y.readUInt32BE(0);if(m&8191)return!1;var u=m>>16&32768;const g=m>>23&255,N=m&8388607;if(g>=113&&g<=142)u+=(g-112<<10)+(N>>13);else if(g>=103&&g<113){if(N&(1<<126-g)-1)return!1;u+=N+8388608>>126-g}else return!1;return d.writeUInt16BE(u,0),!0},e.keySorter=function(c,d){var b=c[0].byteLength,y=d[0].byteLength;return b>y?1:y>b?-1:c[0].compare(d[0])},e.isNegativeZero=c=>c===0&&1/c<0,e.nextPowerOf2=c=>{let d=0;if(c&&!(c&c-1))return c;for(;c!==0;)c>>=1,d+=1;return 1<<d}})(Jd);const L0=Xt,R4=L0.MT,ql=L0.SIMPLE,Gu=L0.SYMS;let F4=class bh{constructor(t){if(typeof t!="number")throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(t|0)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,R4.SIMPLE_FLOAT)}static isSimple(t){return t instanceof bh}static decode(t,r){switch(r==null&&(r=!0),t){case ql.FALSE:return!1;case ql.TRUE:return!0;case ql.NULL:return r?null:Gu.NULL;case ql.UNDEFINED:return r?void 0:Gu.UNDEFINED;case-1:if(!r)throw new Error("Invalid BREAK");return Gu.BREAK;default:return new bh(t)}}};var Tb=F4;let z4=class wh{constructor(t,r,n){if(this.tag=t,this.value=r,this.err=n,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var r,n;if(n=t!=null?t[this.tag]:void 0,typeof n!="function"&&(n=wh["_tag"+this.tag],typeof n!="function"))return this;try{return n.call(wh,this.value)}catch(i){return r=i,this.err=r,this}}};var Eb=z4;const _b=self.location?self.location.protocol+"//"+self.location.host:"",vh=self.URL;let P4=class{constructor(t="",r=_b){this.super=new vh(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function M4(e){if(typeof e=="string")return new vh(e).toString();if(!(e instanceof vh)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",a=e.hostname||"",l=e.search||(e.query?"?"+e.query:""),c=e.hash||"",d=e.pathname||"",b=e.path||d+l;return`${i}${t||r}${o||a+n}${b}${c}`}}var Cb={URLWithLegacySupport:P4,URLSearchParams:self.URLSearchParams,defaultBase:_b,format:M4};const{URLWithLegacySupport:Ym,format:O4}=Cb;var $4=(e,t={},r={},n)=>{let i=t.protocol?t.protocol.replace(":",""):"http";i=(r[i]||n||i)+":";let o;try{o=new Ym(e)}catch{o={}}const a=Object.assign({},t,{protocol:i||o.protocol,host:t.host||o.host});return new Ym(e,O4(a)).toString()};const{URLWithLegacySupport:U4,format:W4,URLSearchParams:V4,defaultBase:H4}=Cb,I4=$4;var Nb={URL:U4,URLSearchParams:V4,format:W4,relative:I4,defaultBase:H4};const{Buffer:Wi}=gl,Km=fl,q4=Qd.BigNumber,G4=B4,Jt=Jd,Qe=Xt,Y4=Tb,K4=Eb,{URL:Z4}=Nb;let Sh=class kh{constructor(t){t=t||{},!t.size||t.size<65536?t.size=65536:t.size=Jt.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=Wi.from(this._heap),this._reset(),this._knownTags=Object.assign({0:r=>new Date(r),1:r=>new Date(r*1e3),2:r=>Jt.arrayBufferToBignumber(r),3:r=>Qe.NEG_ONE.minus(Jt.arrayBufferToBignumber(r)),4:r=>Qe.TEN.pow(r[0]).times(r[1]),5:r=>Qe.TWO.pow(r[0]).times(r[1]),32:r=>new Z4(r),35:r=>new RegExp(r)},t.tags),this.parser=G4(yi,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case Qe.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case Qe.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case Qe.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case Qe.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case Qe.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case Qe.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length));break}this._currentParent&&this._currentParent.type===Qe.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,t.length===0&&this._closeParent())}_push(t,r){const n=this._currentParent;switch(n.values++,n.type){case Qe.PARENT.ARRAY:case Qe.PARENT.BYTE_STRING:case Qe.PARENT.UTF8_STRING:n.length>-1?this._ref[this._ref.length-n.length]=t:this._ref.push(t),this._dec();break;case Qe.PARENT.OBJECT:n.tmpKey!=null?(this._ref[n.tmpKey]=t,n.tmpKey=null,this._dec()):(n.tmpKey=t,typeof n.tmpKey!="string"&&(n.type=Qe.PARENT.MAP,n.ref=Jt.buildMap(n.ref)));break;case Qe.PARENT.MAP:n.tmpKey!=null?(this._ref.set(n.tmpKey,t),n.tmpKey=null,this._dec()):n.tmpKey=t;break;case Qe.PARENT.TAG:this._ref.push(t),r||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,r,n){this._parents[this._depth]={type:r,length:n,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Qe.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,r){const n=this._knownTags[t];return n?n(r):new K4(t,r)}createMap(t,r){return t}createObject(t,r){return t}createArray(t,r){return t}createByteString(t,r){return Wi.concat(t)}createByteStringFromHeap(t,r){return t===r?Wi.alloc(0):Wi.from(this._heap.slice(t,r))}createInt(t){return t}createInt32(t,r){return Jt.buildInt32(t,r)}createInt64(t,r,n,i){return Jt.buildInt64(t,r,n,i)}createFloat(t){return t}createFloatSingle(t,r,n,i){return Km.read([t,r,n,i],0,!1,23,4)}createFloatDouble(t,r,n,i,o,a,l,c){return Km.read([t,r,n,i,o,a,l,c],0,!1,52,8)}createInt32Neg(t,r){return-1-Jt.buildInt32(t,r)}createInt64Neg(t,r,n,i){const o=Jt.buildInt32(t,r),a=Jt.buildInt32(n,i);return o>Qe.MAX_SAFE_HIGH?Qe.NEG_ONE.minus(new q4(o).times(Qe.SHIFT32).plus(a)):-1-(o*Qe.SHIFT32+a)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,r){return t.join("")}createUtf8StringFromHeap(t,r){return t===r?"":this._buffer.toString("utf8",t,r)}createSimpleUnassigned(t){return new Y4(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,r){this._push(this.createInt32(t,r))}pushInt64(t,r,n,i){this._push(this.createInt64(t,r,n,i))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,r,n,i){this._push(this.createFloatSingle(t,r,n,i))}pushFloatDouble(t,r,n,i,o,a,l,c){this._push(this.createFloatDouble(t,r,n,i,o,a,l,c))}pushInt32Neg(t,r){this._push(this.createInt32Neg(t,r))}pushInt64Neg(t,r,n,i){this._push(this.createInt64Neg(t,r,n,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Qe.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,r){const n=Jt.buildInt32(t,r);this._createArrayStartFixed(n)}pushArrayStartFixed64(t,r,n,i){const o=Jt.buildInt64(t,r,n,i);this._createArrayStartFixed(o)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,r){const n=Jt.buildInt32(t,r);this._createObjectStartFixed(n)}pushObjectStartFixed64(t,r,n,i){const o=Jt.buildInt64(t,r,n,i);this._createObjectStartFixed(o)}pushByteStringStart(){this._parents[this._depth]={type:Qe.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,r){this._push(this.createByteStringFromHeap(t,r))}pushUtf8StringStart(){this._parents[this._depth]={type:Qe.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,r){this._push(this.createUtf8StringFromHeap(t,r))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:Qe.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,r){this.pushTagStart(Jt.buildInt32(t,r))}pushTagStart8(t,r,n,i){this.pushTagStart(Jt.buildInt64(t,r,n,i))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){if(t===0){this._push(this.createObject({}));return}this._createParent({},Qe.PARENT.OBJECT,t)}_createArrayStartFixed(t){if(t===0){this._push(this.createArray([]));return}this._createParent(new Array(t),Qe.PARENT.ARRAY,t)}_decode(t){if(t.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(t);const r=this.parser.parse(t.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(r>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,r){return typeof t=="string"&&(t=Wi.from(t,r||"hex")),new kh({size:t.length}).decodeFirst(t)}static decodeAll(t,r){return typeof t=="string"&&(t=Wi.from(t,r||"hex")),new kh({size:t.length}).decodeAll(t)}};Sh.decodeFirst=Sh.decode;var Ab=Sh;const{Buffer:Yu}=gl,X4=Ab,Q4=Jd;class D0 extends X4{createTag(t,r){return`${t}(${r})`}createInt(t){return super.createInt(t).toString()}createInt32(t,r){return super.createInt32(t,r).toString()}createInt64(t,r,n,i){return super.createInt64(t,r,n,i).toString()}createInt32Neg(t,r){return super.createInt32Neg(t,r).toString()}createInt64Neg(t,r,n,i){return super.createInt64Neg(t,r,n,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const r=super.createFloat(t);return Q4.isNegativeZero(t)?"-0_1":`${r}_1`}createFloatSingle(t,r,n,i){return`${super.createFloatSingle(t,r,n,i)}_2`}createFloatDouble(t,r,n,i,o,a,l,c){return`${super.createFloatDouble(t,r,n,i,o,a,l,c)}_3`}createByteString(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`h'${n}`}createByteStringFromHeap(t,r){return`h'${Yu.from(super.createByteStringFromHeap(t,r)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,r){const n=super.createArray(t,r);return r===-1?`[_ ${n.join(", ")}]`:`[${n.join(", ")}]`}createMap(t,r){const n=super.createMap(t),i=Array.from(n.keys()).reduce(Zm(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createObject(t,r){const n=super.createObject(t),i=Object.keys(n).reduce(Zm(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`"${n}"`}createUtf8StringFromHeap(t,r){return`"${Yu.from(super.createUtf8StringFromHeap(t,r)).toString("utf8")}"`}static diagnose(t,r){return typeof t=="string"&&(t=Yu.from(t,r||"hex")),new D0().decodeFirst(t)}}var J4=D0;function Zm(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}const{Buffer:cn}=gl,{URL:L4}=Nb,jh=Qd.BigNumber,Ku=Jd,jt=Xt,Ur=jt.MT,Gl=jt.NUMBYTES,Xm=jt.SHIFT32,Qm=jt.SYMS,Vi=jt.TAG,D4=jt.MT.SIMPLE_FLOAT<<5|jt.NUMBYTES.TWO,e6=jt.MT.SIMPLE_FLOAT<<5|jt.NUMBYTES.FOUR,t6=jt.MT.SIMPLE_FLOAT<<5|jt.NUMBYTES.EIGHT,r6=jt.MT.SIMPLE_FLOAT<<5|jt.SIMPLE.TRUE,n6=jt.MT.SIMPLE_FLOAT<<5|jt.SIMPLE.FALSE,o6=jt.MT.SIMPLE_FLOAT<<5|jt.SIMPLE.UNDEFINED,Jm=jt.MT.SIMPLE_FLOAT<<5|jt.SIMPLE.NULL,i6=new jh("0x20000000000000"),s6=cn.from("f97e00","hex"),a6=cn.from("f9fc00","hex"),l6=cn.from("f97c00","hex");function c6(e){return{}.toString.call(e).slice(8,-1)}class fd{constructor(t){t=t||{},this.streaming=typeof t.stream=="function",this.onData=t.stream,this.semanticTypes=[[L4,this._pushUrl],[jh,this._pushBigNumber]];const r=t.genTypes||[],n=r.length;for(let i=0;i<n;i++)this.addSemanticType(r[i][0],r[i][1]);this._reset()}addSemanticType(t,r){const n=this.semanticTypes.length;for(let i=0;i<n;i++)if(this.semanticTypes[i][0]===t){const a=this.semanticTypes[i][1];return this.semanticTypes[i][1]=r,a}return this.semanticTypes.push([t,r]),null}push(t){return t&&(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(t,r,n){return this.result[this.offset]=t,this.resultMethod[this.offset]=r,this.resultLength[this.offset]=n,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(s6)}_pushInfinity(t){const r=t<0?a6:l6;return this.push(r)}_pushFloat(t){const r=cn.allocUnsafe(2);if(Ku.writeHalf(r,t)&&Ku.parseHalf(r)===t)return this._pushUInt8(D4)&&this.push(r);const n=cn.allocUnsafe(4);return n.writeFloatBE(t,0),n.readFloatBE(0)===t?this._pushUInt8(e6)&&this.push(n):this._pushUInt8(t6)&&this._pushDoubleBE(t)}_pushInt(t,r,n){const i=r<<5;return t<24?this._pushUInt8(i|t):t<=255?this._pushUInt8(i|Gl.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(i|Gl.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(i|Gl.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|Gl.EIGHT)&&this._pushUInt32BE(Math.floor(t/Xm))&&this._pushUInt32BE(t%Xm):r===Ur.NEG_INT?this._pushFloat(n):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,Ur.NEG_INT,t):this._pushInt(t,Ur.POS_INT)}_pushNumber(t){switch(!1){case t===t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!==0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const r=cn.byteLength(t,"utf8");return this._pushInt(r,Ur.UTF8_STRING)&&this.pushWrite(t,5,r)}_pushBoolean(t){return this._pushUInt8(t?r6:n6)}_pushUndefined(t){return this._pushUInt8(o6)}_pushArray(t,r){const n=r.length;if(!t._pushInt(n,Ur.ARRAY))return!1;for(let i=0;i<n;i++)if(!t.pushAny(r[i]))return!1;return!0}_pushTag(t){return this._pushInt(t,Ur.TAG)}_pushDate(t,r){return t._pushTag(Vi.DATE_EPOCH)&&t.pushAny(Math.round(r/1e3))}_pushBuffer(t,r){return t._pushInt(r.length,Ur.BYTE_STRING)&&t.push(r)}_pushNoFilter(t,r){return t._pushBuffer(t,r.slice())}_pushRegexp(t,r){return t._pushTag(Vi.REGEXP)&&t.pushAny(r.source)}_pushSet(t,r){if(!t._pushInt(r.size,Ur.ARRAY))return!1;for(const n of r)if(!t.pushAny(n))return!1;return!0}_pushUrl(t,r){return t._pushTag(Vi.URI)&&t.pushAny(r.format())}_pushBigint(t){let r=Vi.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),r=Vi.NEG_BIGINT);let n=t.toString(16);n.length%2&&(n="0"+n);const i=cn.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,i)}_pushBigNumber(t,r){if(r.isNaN())return t._pushNaN();if(!r.isFinite())return t._pushInfinity(r.isNegative()?-1/0:1/0);if(r.isInteger())return t._pushBigint(r);if(!(t._pushTag(Vi.DECIMAL_FRAC)&&t._pushInt(2,Ur.ARRAY)))return!1;const n=r.decimalPlaces(),i=r.multipliedBy(new jh(10).pow(n));return t._pushIntNum(-n)?i.abs().isLessThan(i6)?t._pushIntNum(i.toNumber()):t._pushBigint(i):!1}_pushMap(t,r){return t._pushInt(r.size,Ur.MAP)?this._pushRawMap(r.size,Array.from(r)):!1}_pushObject(t){if(!t)return this._pushUInt8(Jm);for(var r=this.semanticTypes.length,n=0;n<r;n++)if(t instanceof this.semanticTypes[n][0])return this.semanticTypes[n][1].call(t,this,t);var i=t.encodeCBOR;if(typeof i=="function")return i.call(t,this);var o=Object.keys(t),a=o.length;return this._pushInt(a,Ur.MAP)?this._pushRawMap(a,o.map(l=>[l,t[l]])):!1}_pushRawMap(t,r){r=r.map(function(i){return i[0]=fd.encode(i[0]),i}).sort(Ku.keySorter);for(var n=0;n<t;n++)if(!this.push(r[n][0])||!this.pushAny(r[n][1]))return!1;return!0}write(t){return this.pushAny(t)}pushAny(t){var r=c6(t);switch(r){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,cn.isBuffer(t)?t:cn.from(t));case"Null":return this._pushUInt8(Jm);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"URL":return this._pushUrl(this,t);case"BigNumber":return this._pushBigNumber(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case Qm.NULL:return this._pushObject(null);case Qm.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(this.offset===0)return null;for(var t=this.result,r=this.resultLength,n=this.resultMethod,i=this.offset,o=0,a=0;a<i;a++)o+=r[a];var l=cn.allocUnsafe(o),c=0,d=0;for(a=0;a<i;a++){switch(d=r[a],n[a]){case 0:t[a].copy(l,c);break;case 1:l.writeUInt8(t[a],c,!0);break;case 2:l.writeUInt16BE(t[a],c,!0);break;case 3:l.writeUInt32BE(t[a],c,!0);break;case 4:l.writeDoubleBE(t[a],c,!0);break;case 5:l.write(t[a],c,d,"utf8");break;default:throw new Error("unkown method")}c+=d}var b=l;return this._reset(),b}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const r=new fd;if(!r.pushAny(t))throw new Error("Failed to encode input");return r.finalize()}}var d6=fd;(function(e){e.Diagnose=J4,e.Decoder=Ab,e.Encoder=d6,e.Simple=Tb,e.Tagged=Eb,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}})(kb);const Bb=Ih(kb);function Zr(e){return Ea(m4.create().update(new Uint8Array(e)).digest())}function mc(e){if(e instanceof Bb.Tagged)return mc(e.value);if(typeof e=="string")return Rb(e);if(typeof e=="number")return Zr(ft(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return Zr(e);if(Array.isArray(e)){const t=e.map(mc);return Zr(Jr(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return Zr(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return mc(e.toHash());if(typeof e=="object")return hd(e);if(typeof e=="bigint")return Zr(ft(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const Rb=e=>{const t=new TextEncoder().encode(e);return Zr(t)};function Ka(e){return hd(e)}function hd(e){const n=Object.entries(e).filter(([,a])=>a!==void 0).map(([a,l])=>{const c=Rb(a),d=mc(l);return[c,d]}).sort(([a],[l])=>$x(a,l)),i=Jr(...n.map(a=>Jr(...a)));return Zr(i)}var u6=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const f6=new TextEncoder().encode(`
ic-request`);class ep{getPrincipal(){return this._principal||(this._principal=Pe.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:r}=t,n=u6(t,["body"]),i=Ka(r);return Object.assign(Object.assign({},n),{body:{content:r,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(Jr(f6,i))}})}}class pd{getPrincipal(){return Pe.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var ar={},qs={},Le={};Object.defineProperty(Le,"__esModule",{value:!0});const h6=9007199254740992;function eo(e,...t){const r=new Uint8Array(e.byteLength+t.reduce((i,o)=>i+o.byteLength,0));r.set(new Uint8Array(e),0);let n=e.byteLength;for(const i of t)r.set(new Uint8Array(i),n),n+=i.byteLength;return r.buffer}function Dr(e,t,r){r=r.replace(/[^0-9a-fA-F]/g,"");const n=2**(t-24);r=r.slice(-n*2).padStart(n*2,"0");const i=[(e<<5)+t].concat(r.match(/../g).map(o=>parseInt(o,16)));return new Uint8Array(i).buffer}function Ld(e,t){if(t<24)return new Uint8Array([(e<<5)+t]).buffer;{const r=t<=255?24:t<=65535?25:t<=4294967295?26:27;return Dr(e,r,t.toString(16))}}function Fb(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|n&63):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|n&63):(r++,n=(n&1023)<<10|e.charCodeAt(r)&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63))}return eo(new Uint8Array(Ld(3,e.length)),new Uint8Array(t))}function p6(e,t){if(e==14277111)return eo(new Uint8Array([217,217,247]),t);if(e<24)return eo(new Uint8Array([192+e]),t);{const r=e<=255?24:e<=65535?25:e<=4294967295?26:27,n=2**(r-24),i=e.toString(16).slice(-n*2).padStart(n*2,"0"),o=[192+r].concat(i.match(/../g).map(a=>parseInt(a,16)));return new Uint8Array(o).buffer}}Le.tagged=p6;function yl(e){return new Uint8Array(e).buffer}Le.raw=yl;function tp(e){if(isNaN(e))throw new RangeError("Invalid number.");e=Math.min(Math.max(0,e),23);const t=[0+e];return new Uint8Array(t).buffer}Le.uSmall=tp;function zb(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),255),e=e.toString(16),Dr(0,24,e)}Le.u8=zb;function Pb(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),65535),e=e.toString(16),Dr(0,25,e)}Le.u16=Pb;function Mb(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),4294967295),e=e.toString(16),Dr(0,26,e)}Le.u32=Mb;function rp(e,t){if(typeof e=="string"&&t==16){if(e.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return Dr(0,27,e)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),h6),e=e.toString(16),Dr(0,27,e)}Le.u64=rp;function Ob(e){if(isNaN(e))throw new RangeError("Invalid number.");if(e===0)return tp(0);e=Math.min(Math.max(0,-e),24)-1;const t=[32+e];return new Uint8Array(t).buffer}Le.iSmall=Ob;function $b(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),255),e=e.toString(16),Dr(1,24,e)}Le.i8=$b;function Ub(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),65535),e=e.toString(16),Dr(1,25,e)}Le.i16=Ub;function Wb(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),4294967295),e=e.toString(16),Dr(1,26,e)}Le.i32=Wb;function Vb(e,t){if(typeof e=="string"&&t==16){if(e.startsWith("-")?e=e.slice(1):e="0",e.match(/[^0-9a-fA-F]/)||e.length>16)throw new RangeError("Invalid number.");let r=!1,n=e.split("").reduceRight((i,o)=>{if(r)return o+i;let a=parseInt(o,16)-1;return a>=0?(r=!0,a.toString(16)+i):"f"+i},"");return r?Dr(1,27,n):rp(0)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),9007199254740992),e=e.toString(16),Dr(1,27,e)}Le.i64=Vb;function m6(e){return e>=0?e<24?tp(e):e<=255?zb(e):e<=65535?Pb(e):e<=4294967295?Mb(e):rp(e):e>=-24?Ob(e):e>=-255?$b(e):e>=-65535?Ub(e):e>=-4294967295?Wb(e):Vb(e)}Le.number=m6;function g6(e){return eo(Ld(2,e.byteLength),e)}Le.bytes=g6;function y6(e){return Fb(e)}Le.string=y6;function x6(e){return eo(Ld(4,e.length),...e)}Le.array=x6;function b6(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let r=Array.from(e.entries());return t&&(r=r.sort(([n],[i])=>n.localeCompare(i))),eo(Ld(5,e.size),...r.map(([n,i])=>eo(Fb(n),i)))}Le.map=b6;function w6(e){const t=new Float32Array([e]);return eo(new Uint8Array([224+26]),new Uint8Array(t.buffer))}Le.singleFloat=w6;function v6(e){const t=new Float64Array([e]);return eo(new Uint8Array([224+27]),new Uint8Array(t.buffer))}Le.doubleFloat=v6;function S6(e){return e?Hb():Ib()}Le.bool=S6;function Hb(){return yl(new Uint8Array([224+21]))}Le.true_=Hb;function Ib(){return yl(new Uint8Array([224+20]))}Le.false_=Ib;function k6(){return yl(new Uint8Array([224+22]))}Le.null_=k6;function j6(){return yl(new Uint8Array([224+23]))}Le.undefined_=j6;var T6=yi&&yi.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(qs,"__esModule",{value:!0});const Wr=T6(Le),E6=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class qb{constructor(t,r=!1){this._serializer=t,this._stable=r,this.name="jsonDefault",this.priority=-100}match(t){return["undefined","boolean","number","string","object"].indexOf(typeof t)!=-1}encode(t){switch(typeof t){case"undefined":return Wr.undefined_();case"boolean":return Wr.bool(t);case"number":return Math.floor(t)===t?Wr.number(t):Wr.doubleFloat(t);case"string":return Wr.string(t);case"object":if(t===null)return Wr.null_();if(Array.isArray(t))return Wr.array(t.map(r=>this._serializer.serializeValue(r)));if(E6.find(r=>t instanceof r))return Wr.bytes(t.buffer);if(Object.getOwnPropertyNames(t).indexOf("toJSON")!==-1)return this.encode(t.toJSON());if(t instanceof Map){const r=new Map;for(const[n,i]of t.entries())r.set(n,this._serializer.serializeValue(i));return Wr.map(r,this._stable)}else{const r=new Map;for(const[n,i]of Object.entries(t))r.set(n,this._serializer.serializeValue(i));return Wr.map(r,this._stable)}default:throw new Error("Invalid value.")}}}qs.JsonDefaultCborEncoder=qb;class Gb{constructor(){this.name="cborEncoder",this.priority=-90}match(t){return typeof t=="object"&&typeof t.toCBOR=="function"}encode(t){return t.toCBOR()}}qs.ToCborEncoder=Gb;class Yb{constructor(){this._encoders=new Set}static withDefaultEncoders(t=!1){const r=new this;return r.addEncoder(new qb(r,t)),r.addEncoder(new Gb),r}removeEncoder(t){for(const r of this._encoders.values())r.name==t&&this._encoders.delete(r)}addEncoder(t){this._encoders.add(t)}getEncoderFor(t){let r=null;for(const n of this._encoders)(!r||n.priority>r.priority)&&n.match(t)&&(r=n);if(r===null)throw new Error("Could not find an encoder for value.");return r}serializeValue(t){return this.getEncoderFor(t).encode(t)}serialize(t){return this.serializeValue(t)}}qs.CborSerializer=Yb;class _6 extends Yb{serialize(t){return Wr.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(t))]))}}qs.SelfDescribeCborSerializer=_6;(function(e){function t(i){for(var o in i)e.hasOwnProperty(o)||(e[o]=i[o])}var r=yi&&yi.__importStar||function(i){if(i&&i.__esModule)return i;var o={};if(i!=null)for(var a in i)Object.hasOwnProperty.call(i,a)&&(o[a]=i[a]);return o.default=i,o};Object.defineProperty(e,"__esModule",{value:!0}),t(qs);const n=r(Le);e.value=n})(ar);class C6{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return ar.value.bytes(t.toUint8Array())}}class N6{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return ar.value.bytes(new Uint8Array(t))}}class A6{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?ar.value.tagged(2,ar.value.bytes(Zn(t.toString(16)))):ar.value.tagged(3,ar.value.bytes(Zn((BigInt("-1")*t).toString(16))))}}const Dd=ar.SelfDescribeCborSerializer.withDefaultEncoders(!0);Dd.addEncoder(new C6);Dd.addEncoder(new N6);Dd.addEncoder(new A6);var Th;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(Th||(Th={}));function Zu(e){return Dd.serialize(e)}function Lm(e){const t=e.byteLength;let r=BigInt(0);for(let n=0;n<t;n++)r=r*BigInt(256)+BigInt(e[n]);return r}class B6 extends Bb.Decoder{createByteString(t){return Jr(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}}function In(e){const t=new Uint8Array(e),r=new B6({size:t.byteLength,tags:{2:n=>Lm(n),3:n=>-Lm(n),[Th.Semantic]:n=>n}});try{return r.decodeFirst(t)}catch(n){throw new Error(`Failed to decode CBOR: ${n}, input: ${ot(t)}`)}}const Yl=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var Eh;(function(e){e.Call="call"})(Eh||(Eh={}));function _h(){const e=new ArrayBuffer(16),t=new DataView(e),r=Yl(),n=Yl(),i=Yl(),o=Yl();return t.setUint32(0,r),t.setUint32(4,n),t.setUint32(8,i),t.setUint32(12,o),e}const Dm=BigInt(1e6),R6=60*1e3;class Kl{constructor(t){if(t<90*1e3){const l=BigInt(Date.now()+t)*Dm/BigInt(1e9);this._value=l*BigInt(1e9);return}const o=BigInt(Math.floor(Date.now()+t-R6))*Dm/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=o}toCBOR(){return ar.value.u64(this._value.toString(16),16)}toHash(){return ft(this._value)}}function eg(e=_h){return async t=>{const r=t.request.headers;t.request.headers=r,t.endpoint==="call"&&(t.body.nonce=e())}}function da(e){const t=[];return e.forEach((r,n)=>{t.push([n,r])}),t}class Xu extends ut{constructor(t,r){super(t),this.response=r,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class F6 extends ut{constructor(t,r,n,i,o,a){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=o,this.ingressExpiry=a,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class z6 extends ut{constructor(t,r,n,i,o,a){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=o,this.ingressExpiry=a,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class P6 extends ut{constructor(t,r,n,i,o,a){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=o,this.ingressExpiry=a,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const np=BigInt(0),md=BigInt(1);function Za(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Kb(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?np:BigInt("0x"+e)}function yn(e){return Kb(As(e))}function Xa(e){return Kt(e),Kb(As(Uint8Array.from(e).reverse()))}function Rt(e,t){return Rx(e.toString(16).padStart(t*2,"0"))}function eu(e,t){return Rt(e,t).reverse()}function tr(e,t,r){let n;if(typeof t=="string")try{n=Rx(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(G0(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}const Qu=e=>typeof e=="bigint"&&np<=e;function Zb(e,t,r){return Qu(e)&&Qu(t)&&Qu(r)&&t<=e&&e<r}function ua(e,t,r,n){if(!Zb(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function bs(e){let t;for(t=0;e>np;e>>=md,t+=1);return t}function M6(e,t){return e>>BigInt(t)&md}const hi=e=>(md<<BigInt(e))-md;function O6(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function xl(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(i,o,a){const l=e[i];if(a&&l===void 0)return;const c=typeof l;if(c!==o||l===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${c}`)}Object.entries(t).forEach(([i,o])=>n(i,o,!1)),Object.entries(r).forEach(([i,o])=>n(i,o,!0))}const tg=()=>{throw new Error("not implemented")};function Qa(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const o=e(r,...n);return t.set(r,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cr=BigInt(0),Pt=BigInt(1),ai=BigInt(2),Xb=BigInt(3),Qb=BigInt(4),Jb=BigInt(5),$6=BigInt(7),Lb=BigInt(8),U6=BigInt(9),Db=BigInt(16);function ht(e,t){const r=e%t;return r>=cr?r:t+r}function rn(e,t,r){let n=e;for(;t-- >cr;)n*=n,n%=r;return n}function rg(e,t){if(e===cr)throw new Error("invert: expected non-zero number");if(t<=cr)throw new Error("invert: expected positive modulus, got "+t);let r=ht(e,t),n=t,i=cr,o=Pt;for(;r!==cr;){const l=n/r,c=n%r,d=i-o*l;n=r,r=c,i=o,o=d}if(n!==Pt)throw new Error("invert: does not exist");return ht(i,t)}function op(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function e2(e,t){const r=(e.ORDER+Pt)/Qb,n=e.pow(t,r);return op(e,n,t),n}function W6(e,t){const r=(e.ORDER-Jb)/Lb,n=e.mul(t,ai),i=e.pow(n,r),o=e.mul(t,i),a=e.mul(e.mul(o,ai),i),l=e.mul(o,e.sub(a,e.ONE));return op(e,l,t),l}function V6(e){const t=Zo(e),r=t2(e),n=r(t,t.neg(t.ONE)),i=r(t,n),o=r(t,t.neg(n)),a=(e+$6)/Db;return(l,c)=>{let d=l.pow(c,a),b=l.mul(d,n);const y=l.mul(d,i),m=l.mul(d,o),u=l.eql(l.sqr(b),c),g=l.eql(l.sqr(y),c);d=l.cmov(d,b,u),b=l.cmov(m,y,g);const N=l.eql(l.sqr(b),c),W=l.cmov(d,b,N);return op(l,W,c),W}}function t2(e){if(e<Xb)throw new Error("sqrt is not defined for small field");let t=e-Pt,r=0;for(;t%ai===cr;)t/=ai,r++;let n=ai;const i=Zo(e);for(;gd(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return e2;let o=i.pow(n,t);const a=(t+Pt)/ai;return function(c,d){if(c.is0(d))return d;if(gd(c,d)!==1)throw new Error("Cannot find square root");let b=r,y=c.mul(c.ONE,o),m=c.pow(d,t),u=c.pow(d,a);for(;!c.eql(m,c.ONE);){if(c.is0(m))return c.ZERO;let g=1,N=c.sqr(m);for(;!c.eql(N,c.ONE);)if(g++,N=c.sqr(N),g===b)throw new Error("Cannot find square root");const W=Pt<<BigInt(b-g-1),v=c.pow(y,W);b=g,y=c.sqr(v),m=c.mul(m,y),u=c.mul(u,v)}return u}}function H6(e){return e%Qb===Xb?e2:e%Lb===Jb?W6:e%Db===U6?V6(e):t2(e)}const I6=(e,t)=>(ht(e,t)&Pt)===Pt,q6=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function r2(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=q6.reduce((n,i)=>(n[i]="function",n),t);return xl(e,r),e}function gc(e,t,r){if(r<cr)throw new Error("invalid exponent, negatives unsupported");if(r===cr)return e.ONE;if(r===Pt)return t;let n=e.ONE,i=t;for(;r>cr;)r&Pt&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Pt;return n}function pi(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((a,l,c)=>e.is0(l)?a:(n[c]=a,e.mul(a,l)),e.ONE),o=e.inv(i);return t.reduceRight((a,l,c)=>e.is0(l)?a:(n[c]=e.mul(a,n[c]),e.mul(a,l)),o),n}function gd(e,t){const r=(e.ORDER-Pt)/ai,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!a)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function G6(e,t){t!==void 0&&Kk(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Zo(e,t,r=!1,n={}){if(e<=cr)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,o,a=!1,l;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const m=t;m.BITS&&(i=m.BITS),m.sqrt&&(o=m.sqrt),typeof m.isLE=="boolean"&&(r=m.isLE),typeof m.modOnDecode=="boolean"&&(a=m.modOnDecode),l=m.allowedLengths}else typeof t=="number"&&(i=t),n.sqrt&&(o=n.sqrt);const{nBitLength:c,nByteLength:d}=G6(e,i);if(d>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let b;const y=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:d,MASK:hi(c),ZERO:cr,ONE:Pt,allowedLengths:l,create:m=>ht(m,e),isValid:m=>{if(typeof m!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof m);return cr<=m&&m<e},is0:m=>m===cr,isValidNot0:m=>!y.is0(m)&&y.isValid(m),isOdd:m=>(m&Pt)===Pt,neg:m=>ht(-m,e),eql:(m,u)=>m===u,sqr:m=>ht(m*m,e),add:(m,u)=>ht(m+u,e),sub:(m,u)=>ht(m-u,e),mul:(m,u)=>ht(m*u,e),pow:(m,u)=>gc(y,m,u),div:(m,u)=>ht(m*rg(u,e),e),sqrN:m=>m*m,addN:(m,u)=>m+u,subN:(m,u)=>m-u,mulN:(m,u)=>m*u,inv:m=>rg(m,e),sqrt:o||(m=>(b||(b=H6(e)),b(y,m))),toBytes:m=>r?eu(m,d):Rt(m,d),fromBytes:(m,u=!0)=>{if(l){if(!l.includes(m.length)||m.length>d)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+m.length);const N=new Uint8Array(d);N.set(m,r?0:N.length-m.length),m=N}if(m.length!==d)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+m.length);let g=r?Xa(m):yn(m);if(a&&(g=ht(g,e)),!u&&!y.isValid(g))throw new Error("invalid field element: outside of range 0..ORDER");return g},invertBatch:m=>pi(y,m),cmov:(m,u,g)=>g?u:m});return Object.freeze(y)}function n2(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function o2(e){const t=n2(e);return t+Math.ceil(t/2)}function Y6(e,t,r=!1){const n=e.length,i=n2(t),o=o2(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const a=r?Xa(e):yn(e),l=ht(a,t-Pt)+Pt;return r?eu(l,i):Rt(l,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rs=BigInt(0),li=BigInt(1);function yd(e,t){const r=t.negate();return e?r:t}function qn(e,t){const r=pi(e.Fp,t.map(n=>n.Z));return t.map((n,i)=>e.fromAffine(n.toAffine(r[i])))}function i2(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ju(e,t){i2(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e,o=hi(e),a=BigInt(e);return{windows:r,windowSize:n,mask:o,maxNumber:i,shiftBy:a}}function ng(e,t,r){const{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r;let l=Number(e&i),c=e>>a;l>n&&(l-=o,c+=li);const d=t*n,b=d+Math.abs(l)-1,y=l===0,m=l<0,u=t%2!==0;return{nextN:c,offset:b,isZero:y,isNeg:m,isNegF:u,offsetF:d}}function K6(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function Z6(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const Lu=new WeakMap,s2=new WeakMap;function Du(e){return s2.get(e)||1}function og(e){if(e!==Rs)throw new Error("invalid wNAF")}class a2{constructor(t,r){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=r}_unsafeLadder(t,r,n=this.ZERO){let i=t;for(;r>Rs;)r&li&&(n=n.add(i)),i=i.double(),r>>=li;return n}precomputeWindow(t,r){const{windows:n,windowSize:i}=Ju(r,this.bits),o=[];let a=t,l=a;for(let c=0;c<n;c++){l=a,o.push(l);for(let d=1;d<i;d++)l=l.add(a),o.push(l);a=l.double()}return o}wNAF(t,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const a=Ju(t,this.bits);for(let l=0;l<a.windows;l++){const{nextN:c,offset:d,isZero:b,isNeg:y,isNegF:m,offsetF:u}=ng(n,l,a);n=c,b?o=o.add(yd(m,r[u])):i=i.add(yd(y,r[d]))}return og(n),{p:i,f:o}}wNAFUnsafe(t,r,n,i=this.ZERO){const o=Ju(t,this.bits);for(let a=0;a<o.windows&&n!==Rs;a++){const{nextN:l,offset:c,isZero:d,isNeg:b}=ng(n,a,o);if(n=l,!d){const y=r[c];i=i.add(b?y.negate():y)}}return og(n),i}getPrecomputes(t,r,n){let i=Lu.get(r);return i||(i=this.precomputeWindow(r,t),t!==1&&(typeof n=="function"&&(i=n(i)),Lu.set(r,i))),i}cached(t,r,n){const i=Du(t);return this.wNAF(i,this.getPrecomputes(i,t,n),r)}unsafe(t,r,n,i){const o=Du(t);return o===1?this._unsafeLadder(t,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),r,i)}createCache(t,r){i2(r,this.bits),s2.set(t,r),Lu.delete(t)}hasCache(t){return Du(t)!==1}}function X6(e,t,r,n){let i=t,o=e.ZERO,a=e.ZERO;for(;r>Rs||n>Rs;)r&li&&(o=o.add(i)),n&li&&(a=a.add(i)),i=i.double(),r>>=li,n>>=li;return{p1:o,p2:a}}function l2(e,t,r,n){K6(r,e),Z6(n,t);const i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,l=bs(BigInt(i));let c=1;l>12?c=l-3:l>4?c=l-2:l>0&&(c=2);const d=hi(c),b=new Array(Number(d)+1).fill(a),y=Math.floor((t.BITS-1)/c)*c;let m=a;for(let u=y;u>=0;u-=c){b.fill(a);for(let N=0;N<o;N++){const W=n[N],v=Number(W>>BigInt(u)&d);b[v]=b[v].add(r[N])}let g=a;for(let N=b.length-1,W=a;N>0;N--)W=W.add(b[N]),g=g.add(W);if(m=m.add(g),u!==0)for(let N=0;N<c;N++)m=m.double()}return m}function ig(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return r2(t),t}else return Zo(e)}function c2(e,t,r={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const l of["p","n","h"]){const c=t[l];if(!(typeof c=="bigint"&&c>Rs))throw new Error(`CURVE.${l} must be positive bigint`)}const n=ig(t.p,r.Fp),i=ig(t.n,r.Fn),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const l of a)if(!n.isValid(t[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}const Q6=yn;function bo(e,t){if(Ja(e),Ja(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function J6(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Ja(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function d2(e){if(!G0(e)&&typeof e!="string")throw new Error("DST must be Uint8Array or string");return typeof e=="string"?hl(e):e}function L6(e,t,r,n){Kt(e),Ja(r),t=d2(t),t.length>255&&(t=n(mt(hl("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:o}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");const l=mt(t,bo(t.length,1)),c=bo(0,o),d=bo(r,2),b=new Array(a),y=n(mt(c,e,d,bo(0,1),l));b[0]=n(mt(y,bo(1,1),l));for(let u=1;u<=a;u++){const g=[J6(y,b[u-1]),bo(u+1,1),l];b[u]=n(mt(...g))}return mt(...b).slice(0,r)}function D6(e,t,r,n,i){if(Kt(e),Ja(r),t=d2(t),t.length>255){const o=Math.ceil(2*n/8);t=i.create({dkLen:o}).update(hl("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(bo(r,2)).update(t).update(bo(t.length,1)).digest()}function ef(e,t,r){xl(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:n,k:i,m:o,hash:a,expand:l,DST:c}=r;if(!O6(r.hash))throw new Error("expected valid hash");Kt(e),Ja(t);const d=n.toString(2).length,b=Math.ceil((d+i)/8),y=t*o*b;let m;if(l==="xmd")m=L6(e,c,y,a);else if(l==="xof")m=D6(e,c,y,i,a);else if(l==="_internal_pass")m=e;else throw new Error('expand must be "xmd" or "xof"');const u=new Array(t);for(let g=0;g<t;g++){const N=new Array(o);for(let W=0;W<o;W++){const v=b*(W+g*o),w=m.subarray(v,v+b);N[W]=ht(Q6(w),n)}u[g]=N}return u}function u2(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[o,a,l,c]=r.map(y=>y.reduce((m,u)=>e.add(e.mul(m,n),u))),[d,b]=pi(e,[a,c],!0);return n=e.mul(o,d),i=e.mul(i,e.mul(l,b)),{x:n,y:i}}}const ej=hl("HashToScalar-");function sg(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function n(o){return e.fromAffine(t(o))}function i(o){const a=o.clearCofactor();return a.equals(e.ZERO)?e.ZERO:(a.assertValidity(),a)}return{defaults:r,hashToCurve(o,a){const l=Object.assign({},r,a),c=ef(o,2,l),d=n(c[0]),b=n(c[1]);return i(d.add(b))},encodeToCurve(o,a){const l=r.encodeDST?{DST:r.encodeDST}:{},c=Object.assign({},r,l,a),d=ef(o,1,c),b=n(d[0]);return i(b)},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(const a of o)if(typeof a!="bigint")throw new Error("expected array of bigints");return i(n(o))},hashToScalar(o,a){const l=e.Fn.ORDER,c=Object.assign({},r,{p:l,m:1,DST:ej},a);return ef(o,1,c)[0][0]}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ag=(e,t)=>(e+(e>=0?t:-t)/Bn)/t;function tj(e,t,r){const[[n,i],[o,a]]=t,l=ag(a*e,r),c=ag(-i*e,r);let d=e-l*n-c*o,b=-l*i-c*a;const y=d<ci,m=b<ci;y&&(d=-d),m&&(b=-b);const u=hi(Math.ceil(bs(r)/2))+Dt;if(d<ci||d>=u||b<ci||b>=u)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:y,k1:d,k2neg:m,k2:b}}const ci=BigInt(0),Dt=BigInt(1),Bn=BigInt(2),cs=BigInt(3),Ch=BigInt(4);function f2(e,t,r){function n(i){const o=e.sqr(i),a=e.mul(o,i);return e.add(e.add(a,e.mul(i,t)),r)}return n}function xd(e,t){const{BYTES:r}=e;let n;if(typeof t=="bigint")n=t;else{let i=tr("private key",t);try{n=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function rj(e,t={}){const{Fp:r,Fn:n}=c2("weierstrass",e,t),{h:i,n:o}=e;xl(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:a}=t;if(a&&(!r.is0(e.a)||typeof a.beta!="bigint"||!Array.isArray(a.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');function l(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(Z,$,q){const{x:X,y:A}=$.toAffine(),O=r.toBytes(X);if(Za("isCompressed",q),q){l();const V=!r.isOdd(A);return mt(nj(V),O)}else return mt(Uint8Array.of(4),O,r.toBytes(A))}function d(Z){Kt(Z);const $=r.BYTES,q=$+1,X=2*$+1,A=Z.length,O=Z[0],V=Z.subarray(1);if(A===q&&(O===2||O===3)){const Y=r.fromBytes(V);if(!r.isValid(Y))throw new Error("bad point: is not on curve, wrong x");const re=m(Y);let Q;try{Q=r.sqrt(re)}catch(ue){const ae=ue instanceof Error?": "+ue.message:"";throw new Error("bad point: is not on curve, sqrt error"+ae)}l();const ee=r.isOdd(Q);return(O&1)===1!==ee&&(Q=r.neg(Q)),{x:Y,y:Q}}else if(A===X&&O===4){const Y=r.fromBytes(V.subarray($*0,$*1)),re=r.fromBytes(V.subarray($*1,$*2));if(!u(Y,re))throw new Error("bad point: is not on curve");return{x:Y,y:re}}else throw new Error(`bad point: got length ${A}, expected compressed=${q} or uncompressed=${X}`)}const b=t.toBytes||c,y=t.fromBytes||d,m=f2(r,e.a,e.b);function u(Z,$){const q=r.sqr($),X=m(Z);return r.eql(q,X)}if(!u(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const g=r.mul(r.pow(e.a,cs),Ch),N=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(g,N)))throw new Error("bad curve params: a or b");function W(Z,$,q=!1){if(!r.isValid($)||q&&r.is0($))throw new Error(`bad point coordinate ${Z}`);return $}function v(Z){if(!(Z instanceof B))throw new Error("ProjectivePoint expected")}function w(Z){if(!a||!a.basises)throw new Error("no endo");return tj(Z,a.basises,n.ORDER)}const j=Qa((Z,$)=>{const{X:q,Y:X,Z:A}=Z;if(r.eql(A,r.ONE))return{x:q,y:X};const O=Z.is0();$==null&&($=O?r.ONE:r.inv(A));const V=r.mul(q,$),Y=r.mul(X,$),re=r.mul(A,$);if(O)return{x:r.ZERO,y:r.ZERO};if(!r.eql(re,r.ONE))throw new Error("invZ was invalid");return{x:V,y:Y}}),F=Qa(Z=>{if(Z.is0()){if(t.allowInfinityPoint&&!r.is0(Z.Y))return;throw new Error("bad point: ZERO")}const{x:$,y:q}=Z.toAffine();if(!r.isValid($)||!r.isValid(q))throw new Error("bad point: x or y not field elements");if(!u($,q))throw new Error("bad point: equation left != right");if(!Z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function C(Z,$,q,X,A){return q=new B(r.mul(q.X,Z),q.Y,q.Z),$=yd(X,$),q=yd(A,q),$.add(q)}class B{constructor($,q,X){this.X=W("x",$),this.Y=W("y",q,!0),this.Z=W("z",X),Object.freeze(this)}static fromAffine($){const{x:q,y:X}=$||{};if(!$||!r.isValid(q)||!r.isValid(X))throw new Error("invalid affine point");if($ instanceof B)throw new Error("projective point not allowed");return r.is0(q)&&r.is0(X)?B.ZERO:new B(q,X,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}static normalizeZ($){return qn(B,$)}static fromBytes($){return Kt($),B.fromHex($)}static fromHex($){const q=B.fromAffine(y(tr("pointHex",$)));return q.assertValidity(),q}static fromPrivateKey($){return B.BASE.multiply(xd(n,$))}static msm($,q){return l2(B,n,$,q)}_setWindowSize($){this.precompute($)}precompute($=8,q=!0){return M.createCache(this,$),q||this.multiply(cs),this}assertValidity(){F(this)}hasEvenY(){const{y:$}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd($)}equals($){v($);const{X:q,Y:X,Z:A}=this,{X:O,Y:V,Z:Y}=$,re=r.eql(r.mul(q,Y),r.mul(O,A)),Q=r.eql(r.mul(X,Y),r.mul(V,A));return re&&Q}negate(){return new B(this.X,r.neg(this.Y),this.Z)}double(){const{a:$,b:q}=e,X=r.mul(q,cs),{X:A,Y:O,Z:V}=this;let Y=r.ZERO,re=r.ZERO,Q=r.ZERO,ee=r.mul(A,A),de=r.mul(O,O),ue=r.mul(V,V),ae=r.mul(A,O);return ae=r.add(ae,ae),Q=r.mul(A,V),Q=r.add(Q,Q),Y=r.mul($,Q),re=r.mul(X,ue),re=r.add(Y,re),Y=r.sub(de,re),re=r.add(de,re),re=r.mul(Y,re),Y=r.mul(ae,Y),Q=r.mul(X,Q),ue=r.mul($,ue),ae=r.sub(ee,ue),ae=r.mul($,ae),ae=r.add(ae,Q),Q=r.add(ee,ee),ee=r.add(Q,ee),ee=r.add(ee,ue),ee=r.mul(ee,ae),re=r.add(re,ee),ue=r.mul(O,V),ue=r.add(ue,ue),ee=r.mul(ue,ae),Y=r.sub(Y,ee),Q=r.mul(ue,de),Q=r.add(Q,Q),Q=r.add(Q,Q),new B(Y,re,Q)}add($){v($);const{X:q,Y:X,Z:A}=this,{X:O,Y:V,Z:Y}=$;let re=r.ZERO,Q=r.ZERO,ee=r.ZERO;const de=e.a,ue=r.mul(e.b,cs);let ae=r.mul(q,O),he=r.mul(X,V),z=r.mul(A,Y),Te=r.add(q,X),be=r.add(O,V);Te=r.mul(Te,be),be=r.add(ae,he),Te=r.sub(Te,be),be=r.add(q,A);let xe=r.add(O,Y);return be=r.mul(be,xe),xe=r.add(ae,z),be=r.sub(be,xe),xe=r.add(X,A),re=r.add(V,Y),xe=r.mul(xe,re),re=r.add(he,z),xe=r.sub(xe,re),ee=r.mul(de,be),re=r.mul(ue,z),ee=r.add(re,ee),re=r.sub(he,ee),ee=r.add(he,ee),Q=r.mul(re,ee),he=r.add(ae,ae),he=r.add(he,ae),z=r.mul(de,z),be=r.mul(ue,be),he=r.add(he,z),z=r.sub(ae,z),z=r.mul(de,z),be=r.add(be,z),ae=r.mul(he,be),Q=r.add(Q,ae),ae=r.mul(xe,be),re=r.mul(Te,re),re=r.sub(re,ae),ae=r.mul(Te,he),ee=r.mul(xe,ee),ee=r.add(ee,ae),new B(re,Q,ee)}subtract($){return this.add($.negate())}is0(){return this.equals(B.ZERO)}multiply($){const{endo:q}=t;if(!n.isValidNot0($))throw new Error("invalid scalar: out of range");let X,A;const O=V=>M.cached(this,V,Y=>qn(B,Y));if(q){const{k1neg:V,k1:Y,k2neg:re,k2:Q}=w($),{p:ee,f:de}=O(Y),{p:ue,f:ae}=O(Q);A=de.add(ae),X=C(q.beta,ee,ue,V,re)}else{const{p:V,f:Y}=O($);X=V,A=Y}return qn(B,[X,A])[0]}multiplyUnsafe($){const{endo:q}=t,X=this;if(!n.isValid($))throw new Error("invalid scalar: out of range");if($===ci||X.is0())return B.ZERO;if($===Dt)return X;if(M.hasCache(this))return this.multiply($);if(q){const{k1neg:A,k1:O,k2neg:V,k2:Y}=w($),{p1:re,p2:Q}=X6(B,X,O,Y);return C(q.beta,re,Q,A,V)}else return M.unsafe(X,$)}multiplyAndAddUnsafe($,q,X){const A=this.multiplyUnsafe(q).add($.multiplyUnsafe(X));return A.is0()?void 0:A}toAffine($){return j(this,$)}isTorsionFree(){const{isTorsionFree:$}=t;return i===Dt?!0:$?$(B,this):M.unsafe(this,o).is0()}clearCofactor(){const{clearCofactor:$}=t;return i===Dt?this:$?$(B,this):this.multiplyUnsafe(i)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}toBytes($=!0){return Za("isCompressed",$),this.assertValidity(),b(B,this,$)}toRawBytes($=!0){return this.toBytes($)}toHex($=!0){return As(this.toBytes($))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}B.BASE=new B(e.Gx,e.Gy,r.ONE),B.ZERO=new B(r.ZERO,r.ONE,r.ZERO),B.Fp=r,B.Fn=n;const R=n.BITS,M=new a2(B,t.endo?Math.ceil(R/2):R);return B}function lg(e){const{CURVE:t,curveOpts:r}=ij(e),n=rj(t,r);return sj(e,n)}function nj(e){return Uint8Array.of(e?2:3)}function oj(e,t){const r=e.ORDER;let n=ci;for(let g=r-Dt;g%Bn===ci;g/=Bn)n+=Dt;const i=n,o=Bn<<i-Dt-Dt,a=o*Bn,l=(r-Dt)/a,c=(l-Dt)/Bn,d=a-Dt,b=o,y=e.pow(t,l),m=e.pow(t,(l+Dt)/Bn);let u=(g,N)=>{let W=y,v=e.pow(N,d),w=e.sqr(v);w=e.mul(w,N);let j=e.mul(g,w);j=e.pow(j,c),j=e.mul(j,v),v=e.mul(j,N),w=e.mul(j,g);let F=e.mul(w,v);j=e.pow(F,b);let C=e.eql(j,e.ONE);v=e.mul(w,m),j=e.mul(F,W),w=e.cmov(v,w,C),F=e.cmov(j,F,C);for(let B=i;B>Dt;B--){let R=B-Bn;R=Bn<<R-Dt;let M=e.pow(F,R);const Z=e.eql(M,e.ONE);v=e.mul(w,W),W=e.mul(W,W),M=e.mul(F,W),w=e.cmov(v,w,Z),F=e.cmov(M,F,Z)}return{isValid:C,value:w}};if(e.ORDER%Ch===cs){const g=(e.ORDER-cs)/Ch,N=e.sqrt(e.neg(t));u=(W,v)=>{let w=e.sqr(v);const j=e.mul(W,v);w=e.mul(w,j);let F=e.pow(w,g);F=e.mul(F,j);const C=e.mul(F,N),B=e.mul(e.sqr(F),v),R=e.eql(B,W);let M=e.cmov(C,F,R);return{isValid:R,value:M}}}return u}function h2(e,t){r2(e);const{A:r,B:n,Z:i}=t;if(!e.isValid(r)||!e.isValid(n)||!e.isValid(i))throw new Error("mapToCurveSimpleSWU: invalid opts");const o=oj(e,i);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return a=>{let l,c,d,b,y,m,u,g;l=e.sqr(a),l=e.mul(l,i),c=e.sqr(l),c=e.add(c,l),d=e.add(c,e.ONE),d=e.mul(d,n),b=e.cmov(i,e.neg(c),!e.eql(c,e.ZERO)),b=e.mul(b,r),c=e.sqr(d),m=e.sqr(b),y=e.mul(m,r),c=e.add(c,y),c=e.mul(c,d),m=e.mul(m,b),y=e.mul(m,n),c=e.add(c,y),u=e.mul(l,d);const{isValid:N,value:W}=o(c,m);g=e.mul(l,a),g=e.mul(g,W),u=e.cmov(u,d,N),g=e.cmov(g,W,N);const v=e.isOdd(a)===e.isOdd(g);g=e.cmov(e.neg(g),g,v);const w=pi(e,[b],!0)[0];return u=e.mul(u,w),{x:u,y:g}}}function ij(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp;let n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const i=Zo(t.n,{BITS:e.nBitLength,allowedLengths:n,modOnDecode:e.wrapPrivateKey}),o={Fp:r,Fn:i,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:o}}function sj(e,t){const{Fp:r,Fn:n}=t;function i(a){return Zb(a,Dt,n.ORDER)}const o=f2(r,e.a,e.b);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:a=>xd(n,a),weierstrassEquation:o,isWithinCurveOrder:i})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aj=BigInt(0),Zl=BigInt(1),cg=BigInt(2),ds=BigInt(3);function lj(e){const t=[];for(;e>Zl;e>>=Zl)(e&Zl)===aj?t.unshift(0):(e&ds)===ds?(t.unshift(-1),e+=Zl):t.unshift(1);return t}function tf(e){if(!Array.isArray(e)||e.length===0)throw new Error("expected non-empty array")}function cj(e,t,r,n){const{Fp2:i,Fp12:o}=e,{twistType:a,ateLoopSize:l,xNegative:c,postPrecompute:d}=n;let b;if(a==="multiplicative")b=(j,F,C,B,R,M)=>o.mul014(B,j,i.mul(F,R),i.mul(C,M));else if(a==="divisive")b=(j,F,C,B,R,M)=>o.mul034(B,i.mul(C,M),i.mul(F,R),j);else throw new Error("bls: unknown twist type");const y=i.div(i.ONE,i.mul(i.ONE,cg));function m(j,F,C,B){const R=i.sqr(C),M=i.sqr(B),Z=i.mulByB(i.mul(M,ds)),$=i.mul(Z,ds),q=i.sub(i.sub(i.sqr(i.add(C,B)),M),R),X=i.sub(Z,R),A=i.mul(i.sqr(F),ds),O=i.neg(q);return j.push([X,A,O]),F=i.mul(i.mul(i.mul(i.sub(R,$),F),C),y),C=i.sub(i.sqr(i.mul(i.add(R,$),y)),i.mul(i.sqr(Z),ds)),B=i.mul(R,q),{Rx:F,Ry:C,Rz:B}}function u(j,F,C,B,R,M){const Z=i.sub(C,i.mul(M,B)),$=i.sub(F,i.mul(R,B)),q=i.sub(i.mul(Z,R),i.mul($,M)),X=i.neg(Z),A=$;j.push([q,X,A]);const O=i.sqr($),V=i.mul(O,$),Y=i.mul(O,F),re=i.add(i.sub(V,i.mul(Y,cg)),i.mul(i.sqr(Z),B));return F=i.mul($,re),C=i.sub(i.mul(i.sub(Y,re),Z),i.mul(V,C)),B=i.mul(B,V),{Rx:F,Ry:C,Rz:B}}const g=lj(l),N=Qa(j=>{const F=j,{x:C,y:B}=F.toAffine(),R=C,M=B,Z=i.neg(B);let $=R,q=M,X=i.ONE;const A=[];for(const O of g){const V=[];({Rx:$,Ry:q,Rz:X}=m(V,$,q,X)),O&&({Rx:$,Ry:q,Rz:X}=u(V,$,q,X,R,O===-1?Z:M)),A.push(V)}if(d){const O=A[A.length-1];d($,q,X,R,M,u.bind(null,O))}return A});function W(j,F=!1){let C=o.ONE;if(j.length){const B=j[0][0].length;for(let R=0;R<B;R++){C=o.sqr(C);for(const[M,Z,$]of j)for(const[q,X,A]of M[R])C=b(q,X,A,C,Z,$)}}return c&&(C=o.conjugate(C)),F?o.finalExponentiate(C):C}function v(j,F=!0){const C=[];qn(t,j.map(({g1:B})=>B)),qn(r,j.map(({g2:B})=>B));for(const{g1:B,g2:R}of j){if(B.is0()||R.is0())throw new Error("pairing is not available for ZERO point");B.assertValidity(),R.assertValidity();const M=B.toAffine();C.push([N(R),M.x,M.y])}return W(C,F)}function w(j,F,C=!0){return v([{g1:j,g2:F}],C)}return{Fp12:o,millerLoopBatch:W,pairing:w,pairingBatch:v,calcPairingPrecomputes:N}}function dg(e,t,r,n,i){const{Fp12:o,pairingBatch:a}=e;function l(y){return y instanceof t.Point?y:t.Point.fromHex(y)}function c(y){return y instanceof r.Point?y:r.Point.fromHex(y)}function d(y){if(!(y instanceof r.Point))throw new Error(`expected valid message hashed to ${i?"G1":"G2"} curve`);return y}const b=i?(y,m)=>({g1:m,g2:y}):(y,m)=>({g1:y,g2:m});return{getPublicKey(y){const m=xd(t.Point.Fn,y);return t.Point.BASE.multiply(m)},sign(y,m,u){if(u!=null)throw new Error("sign() expects 2 arguments");const g=xd(t.Point.Fn,m);return d(y).assertValidity(),y.multiply(g)},verify(y,m,u,g){if(g!=null)throw new Error("verify() expects 3 arguments");y=c(y),u=l(u);const N=u.negate(),W=t.Point.BASE,v=d(m),w=y,j=a([b(N,v),b(W,w)]);return o.eql(j,o.ONE)},verifyBatch(y,m,u){if(tf(m),u.length!==m.length)throw new Error("amount of public keys and messages should be equal");const g=c(y),N=m,W=u.map(l),v=new Map;for(let F=0;F<W.length;F++){const C=W[F],B=N[F];let R=v.get(B);R===void 0&&(R=[],v.set(B,R)),R.push(C)}const w=[],j=t.Point.BASE;try{for(const[F,C]of v){const B=C.reduce((R,M)=>R.add(M));w.push(b(B,F))}return w.push(b(j.negate(),g)),o.eql(a(w),o.ONE)}catch{return!1}},aggregatePublicKeys(y){tf(y),y=y.map(u=>l(u));const m=y.reduce((u,g)=>u.add(g),t.Point.ZERO);return m.assertValidity(),m},aggregateSignatures(y){tf(y),y=y.map(u=>c(u));const m=y.reduce((u,g)=>u.add(g),r.Point.ZERO);return m.assertValidity(),m},hash(y,m){Kt(y);const u=m?{DST:m}:void 0;return r.hashToCurve(y,u)},Signature:n}}function dj(e){const{Fp:t,Fr:r,Fp2:n,Fp6:i,Fp12:o}=e.fields,a=lg(e.G1),l=Object.assign(a,sg(a.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),c=lg(e.G2),d=Object.assign(c,sg(c.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults})),b=cj(e.fields,l.Point,d.Point,{...e.params,postPrecompute:e.postPrecompute}),{millerLoopBatch:y,pairing:m,pairingBatch:u,calcPairingPrecomputes:g}=b,N=dg(b,l,d,e.G2.Signature,!1),W=dg(b,d,l,e.G1.ShortSignature,!0),v=e.randomBytes||zx,w=()=>{const Q=o2(r.ORDER);return Y6(v(Q),r.ORDER)},j={randomSecretKey:w,randomPrivateKey:w,calcPairingPrecomputes:g},{ShortSignature:F}=e.G1,{Signature:C}=e.G2;function B(Q,ee){return Q instanceof l.Point?Q:W.hash(tr("point",Q),ee==null?void 0:ee.DST)}function R(Q,ee){return Q instanceof d.Point?Q:N.hash(tr("point",Q),ee==null?void 0:ee.DST)}function M(Q){return N.getPublicKey(Q).toBytes(!0)}function Z(Q){return W.getPublicKey(Q).toBytes(!0)}function $(Q,ee,de){const ue=R(Q,de),ae=N.sign(ue,ee);return Q instanceof d.Point?ae:C.toBytes(ae)}function q(Q,ee,de){const ue=B(Q,de),ae=W.sign(ue,ee);return Q instanceof l.Point?ae:F.toBytes(ae)}function X(Q,ee,de,ue){const ae=R(ee,ue);return N.verify(Q,ae,de)}function A(Q,ee,de,ue){const ae=B(ee,ue);return W.verify(Q,ae,de)}function O(Q){const ee=N.aggregatePublicKeys(Q);return Q[0]instanceof l.Point?ee:ee.toBytes(!0)}function V(Q){const ee=N.aggregateSignatures(Q);return Q[0]instanceof d.Point?ee:C.toBytes(ee)}function Y(Q){const ee=W.aggregateSignatures(Q);return Q[0]instanceof l.Point?ee:F.toBytes(ee)}function re(Q,ee,de,ue){const ae=ee.map(he=>R(he,ue));return N.verifyBatch(Q,ae,de)}return l.Point.BASE.precompute(4),{longSignatures:N,shortSignatures:W,millerLoopBatch:y,pairing:m,pairingBatch:u,verifyBatch:re,fields:{Fr:r,Fp:t,Fp2:n,Fp6:i,Fp12:o},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:j,getPublicKey:M,getPublicKeyForShortSignatures:Z,sign:$,signShortSignature:q,verify:X,verifyShortSignature:A,aggregatePublicKeys:O,aggregateSignatures:V,aggregateShortSignatures:Y,G1:l,G2:d,Signature:C,ShortSignature:F}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ug=BigInt(0),us=BigInt(1),On=BigInt(2),fg=BigInt(3);function rf(e,t,r,n,i=1,o){const a=BigInt(o===void 0?n:o),l=r**BigInt(n),c=[];for(let d=0;d<i;d++){const b=BigInt(d+1),y=[];for(let m=0,u=us;m<n;m++){const g=(b*u-b)/a%l;y.push(e.pow(t,g)),u*=r}c.push(y)}return c}function uj(e,t,r){const n=t.pow(r,(e.ORDER-us)/fg),i=t.pow(r,(e.ORDER-us)/On);function o(m,u){const g=t.mul(t.frobeniusMap(m,1),n),N=t.mul(t.frobeniusMap(u,1),i);return[g,N]}const a=t.pow(r,(e.ORDER**On-us)/fg),l=t.pow(r,(e.ORDER**On-us)/On);if(!t.eql(l,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function c(m,u){return[t.mul(m,a),t.neg(u)]}const d=m=>(u,g)=>{const N=g.toAffine(),W=m(N.x,N.y);return u.fromAffine({x:W[0],y:W[1]})},b=d(o),y=d(c);return{psi:o,psi2:c,G2psi:b,G2psi2:y,PSI_X:n,PSI_Y:i,PSI2_X:a,PSI2_Y:l}}function fj(e){const{ORDER:t}=e,r=Zo(t),n=r.create(e.NONRESIDUE||BigInt(-1)),i=r.div(r.ONE,On),o=rf(r,n,r.ORDER,2)[0],a=({c0:A,c1:O},{c0:V,c1:Y})=>({c0:r.add(A,V),c1:r.add(O,Y)}),l=({c0:A,c1:O},{c0:V,c1:Y})=>({c0:r.sub(A,V),c1:r.sub(O,Y)}),c=({c0:A,c1:O},V)=>{if(typeof V=="bigint")return{c0:r.mul(A,V),c1:r.mul(O,V)};const{c0:Y,c1:re}=V;let Q=r.mul(A,Y),ee=r.mul(O,re);const de=r.sub(Q,ee),ue=r.sub(r.mul(r.add(A,O),r.add(Y,re)),r.add(Q,ee));return{c0:de,c1:ue}},d=({c0:A,c1:O})=>{const V=r.add(A,O),Y=r.sub(A,O),re=r.add(A,A);return{c0:r.mul(V,Y),c1:r.mul(re,O)}},b=A=>{if(A.length!==2)throw new Error("invalid tuple");const O=A.map(V=>r.create(V));return{c0:O[0],c1:O[1]}};function y(A,O){return typeof A=="bigint"&&ug<=A&&A<O}const m=t*t,u=b(e.FP2_NONRESIDUE),g={ORDER:m,isLE:r.isLE,NONRESIDUE:u,BITS:bs(m),BYTES:Math.ceil(bs(m)/8),MASK:hi(bs(m)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:A=>A,isValid:({c0:A,c1:O})=>y(A,m)&&y(O,m),is0:({c0:A,c1:O})=>r.is0(A)&&r.is0(O),isValidNot0:A=>!g.is0(A)&&g.isValid(A),eql:({c0:A,c1:O},{c0:V,c1:Y})=>r.eql(A,V)&&r.eql(O,Y),neg:({c0:A,c1:O})=>({c0:r.neg(A),c1:r.neg(O)}),pow:(A,O)=>gc(g,A,O),invertBatch:A=>pi(g,A),add:a,sub:l,mul:c,sqr:d,addN:a,subN:l,mulN:c,sqrN:d,div:(A,O)=>g.mul(A,typeof O=="bigint"?r.inv(r.create(O)):g.inv(O)),inv:({c0:A,c1:O})=>{const V=r.inv(r.create(A*A+O*O));return{c0:r.mul(V,r.create(A)),c1:r.mul(V,r.create(-O))}},sqrt:A=>{if(e.Fp2sqrt)return e.Fp2sqrt(A);const{c0:O,c1:V}=A;if(r.is0(V))return gd(r,O)===1?g.create({c0:r.sqrt(O),c1:r.ZERO}):g.create({c0:r.ZERO,c1:r.sqrt(r.div(O,n))});const Y=r.sqrt(r.sub(r.sqr(O),r.mul(r.sqr(V),n)));let re=r.mul(r.add(Y,O),i);gd(r,re)===-1&&(re=r.sub(re,Y));const ee=r.sqrt(re),de=g.create({c0:ee,c1:r.div(r.mul(V,i),ee)});if(!g.eql(g.sqr(de),A))throw new Error("Cannot find square root");const ue=de,ae=g.neg(ue),{re:he,im:z}=g.reim(ue),{re:Te,im:be}=g.reim(ae);return z>be||z===be&&he>Te?ue:ae},isOdd:A=>{const{re:O,im:V}=g.reim(A),Y=O%On,re=O===ug,Q=V%On;return BigInt(Y||re&&Q)==us},fromBytes(A){if(A.length!==g.BYTES)throw new Error("fromBytes invalid length="+A.length);return{c0:r.fromBytes(A.subarray(0,r.BYTES)),c1:r.fromBytes(A.subarray(r.BYTES))}},toBytes:({c0:A,c1:O})=>mt(r.toBytes(A),r.toBytes(O)),cmov:({c0:A,c1:O},{c0:V,c1:Y},re)=>({c0:r.cmov(A,V,re),c1:r.cmov(O,Y,re)}),reim:({c0:A,c1:O})=>({re:A,im:O}),mulByNonresidue:({c0:A,c1:O})=>g.mul({c0:A,c1:O},u),mulByB:e.Fp2mulByB,fromBigTuple:b,frobeniusMap:({c0:A,c1:O},V)=>({c0:A,c1:r.mul(O,o[V%2])})},N=({c0:A,c1:O,c2:V},{c0:Y,c1:re,c2:Q})=>({c0:g.add(A,Y),c1:g.add(O,re),c2:g.add(V,Q)}),W=({c0:A,c1:O,c2:V},{c0:Y,c1:re,c2:Q})=>({c0:g.sub(A,Y),c1:g.sub(O,re),c2:g.sub(V,Q)}),v=({c0:A,c1:O,c2:V},Y)=>{if(typeof Y=="bigint")return{c0:g.mul(A,Y),c1:g.mul(O,Y),c2:g.mul(V,Y)};const{c0:re,c1:Q,c2:ee}=Y,de=g.mul(A,re),ue=g.mul(O,Q),ae=g.mul(V,ee);return{c0:g.add(de,g.mulByNonresidue(g.sub(g.mul(g.add(O,V),g.add(Q,ee)),g.add(ue,ae)))),c1:g.add(g.sub(g.mul(g.add(A,O),g.add(re,Q)),g.add(de,ue)),g.mulByNonresidue(ae)),c2:g.sub(g.add(ue,g.mul(g.add(A,V),g.add(re,ee))),g.add(de,ae))}},w=({c0:A,c1:O,c2:V})=>{let Y=g.sqr(A),re=g.mul(g.mul(A,O),On),Q=g.mul(g.mul(O,V),On),ee=g.sqr(V);return{c0:g.add(g.mulByNonresidue(Q),Y),c1:g.add(g.mulByNonresidue(ee),re),c2:g.sub(g.sub(g.add(g.add(re,g.sqr(g.add(g.sub(A,O),V))),Q),Y),ee)}},[j,F]=rf(g,u,r.ORDER,6,2,3),C={ORDER:g.ORDER,isLE:g.isLE,BITS:3*g.BITS,BYTES:3*g.BYTES,MASK:hi(3*g.BITS),ZERO:{c0:g.ZERO,c1:g.ZERO,c2:g.ZERO},ONE:{c0:g.ONE,c1:g.ZERO,c2:g.ZERO},create:A=>A,isValid:({c0:A,c1:O,c2:V})=>g.isValid(A)&&g.isValid(O)&&g.isValid(V),is0:({c0:A,c1:O,c2:V})=>g.is0(A)&&g.is0(O)&&g.is0(V),isValidNot0:A=>!C.is0(A)&&C.isValid(A),neg:({c0:A,c1:O,c2:V})=>({c0:g.neg(A),c1:g.neg(O),c2:g.neg(V)}),eql:({c0:A,c1:O,c2:V},{c0:Y,c1:re,c2:Q})=>g.eql(A,Y)&&g.eql(O,re)&&g.eql(V,Q),sqrt:tg,div:(A,O)=>C.mul(A,typeof O=="bigint"?r.inv(r.create(O)):C.inv(O)),pow:(A,O)=>gc(C,A,O),invertBatch:A=>pi(C,A),add:N,sub:W,mul:v,sqr:w,addN:N,subN:W,mulN:v,sqrN:w,inv:({c0:A,c1:O,c2:V})=>{let Y=g.sub(g.sqr(A),g.mulByNonresidue(g.mul(V,O))),re=g.sub(g.mulByNonresidue(g.sqr(V)),g.mul(A,O)),Q=g.sub(g.sqr(O),g.mul(A,V)),ee=g.inv(g.add(g.mulByNonresidue(g.add(g.mul(V,re),g.mul(O,Q))),g.mul(A,Y)));return{c0:g.mul(ee,Y),c1:g.mul(ee,re),c2:g.mul(ee,Q)}},fromBytes:A=>{if(A.length!==C.BYTES)throw new Error("fromBytes invalid length="+A.length);return{c0:g.fromBytes(A.subarray(0,g.BYTES)),c1:g.fromBytes(A.subarray(g.BYTES,2*g.BYTES)),c2:g.fromBytes(A.subarray(2*g.BYTES))}},toBytes:({c0:A,c1:O,c2:V})=>mt(g.toBytes(A),g.toBytes(O),g.toBytes(V)),cmov:({c0:A,c1:O,c2:V},{c0:Y,c1:re,c2:Q},ee)=>({c0:g.cmov(A,Y,ee),c1:g.cmov(O,re,ee),c2:g.cmov(V,Q,ee)}),fromBigSix:A=>{if(!Array.isArray(A)||A.length!==6)throw new Error("invalid Fp6 usage");return{c0:g.fromBigTuple(A.slice(0,2)),c1:g.fromBigTuple(A.slice(2,4)),c2:g.fromBigTuple(A.slice(4,6))}},frobeniusMap:({c0:A,c1:O,c2:V},Y)=>({c0:g.frobeniusMap(A,Y),c1:g.mul(g.frobeniusMap(O,Y),j[Y%6]),c2:g.mul(g.frobeniusMap(V,Y),F[Y%6])}),mulByFp2:({c0:A,c1:O,c2:V},Y)=>({c0:g.mul(A,Y),c1:g.mul(O,Y),c2:g.mul(V,Y)}),mulByNonresidue:({c0:A,c1:O,c2:V})=>({c0:g.mulByNonresidue(V),c1:A,c2:O}),mul1:({c0:A,c1:O,c2:V},Y)=>({c0:g.mulByNonresidue(g.mul(V,Y)),c1:g.mul(A,Y),c2:g.mul(O,Y)}),mul01({c0:A,c1:O,c2:V},Y,re){let Q=g.mul(A,Y),ee=g.mul(O,re);return{c0:g.add(g.mulByNonresidue(g.sub(g.mul(g.add(O,V),re),ee)),Q),c1:g.sub(g.sub(g.mul(g.add(Y,re),g.add(A,O)),Q),ee),c2:g.add(g.sub(g.mul(g.add(A,V),Y),Q),ee)}}},B=rf(g,u,r.ORDER,12,1,6)[0],R=({c0:A,c1:O},{c0:V,c1:Y})=>({c0:C.add(A,V),c1:C.add(O,Y)}),M=({c0:A,c1:O},{c0:V,c1:Y})=>({c0:C.sub(A,V),c1:C.sub(O,Y)}),Z=({c0:A,c1:O},V)=>{if(typeof V=="bigint")return{c0:C.mul(A,V),c1:C.mul(O,V)};let{c0:Y,c1:re}=V,Q=C.mul(A,Y),ee=C.mul(O,re);return{c0:C.add(Q,C.mulByNonresidue(ee)),c1:C.sub(C.mul(C.add(A,O),C.add(Y,re)),C.add(Q,ee))}},$=({c0:A,c1:O})=>{let V=C.mul(A,O);return{c0:C.sub(C.sub(C.mul(C.add(C.mulByNonresidue(O),A),C.add(A,O)),V),C.mulByNonresidue(V)),c1:C.add(V,V)}};function q(A,O){const V=g.sqr(A),Y=g.sqr(O);return{first:g.add(g.mulByNonresidue(Y),V),second:g.sub(g.sub(g.sqr(g.add(A,O)),V),Y)}}const X={ORDER:g.ORDER,isLE:C.isLE,BITS:2*C.BITS,BYTES:2*C.BYTES,MASK:hi(2*C.BITS),ZERO:{c0:C.ZERO,c1:C.ZERO},ONE:{c0:C.ONE,c1:C.ZERO},create:A=>A,isValid:({c0:A,c1:O})=>C.isValid(A)&&C.isValid(O),is0:({c0:A,c1:O})=>C.is0(A)&&C.is0(O),isValidNot0:A=>!X.is0(A)&&X.isValid(A),neg:({c0:A,c1:O})=>({c0:C.neg(A),c1:C.neg(O)}),eql:({c0:A,c1:O},{c0:V,c1:Y})=>C.eql(A,V)&&C.eql(O,Y),sqrt:tg,inv:({c0:A,c1:O})=>{let V=C.inv(C.sub(C.sqr(A),C.mulByNonresidue(C.sqr(O))));return{c0:C.mul(A,V),c1:C.neg(C.mul(O,V))}},div:(A,O)=>X.mul(A,typeof O=="bigint"?r.inv(r.create(O)):X.inv(O)),pow:(A,O)=>gc(X,A,O),invertBatch:A=>pi(X,A),add:R,sub:M,mul:Z,sqr:$,addN:R,subN:M,mulN:Z,sqrN:$,fromBytes:A=>{if(A.length!==X.BYTES)throw new Error("fromBytes invalid length="+A.length);return{c0:C.fromBytes(A.subarray(0,C.BYTES)),c1:C.fromBytes(A.subarray(C.BYTES))}},toBytes:({c0:A,c1:O})=>mt(C.toBytes(A),C.toBytes(O)),cmov:({c0:A,c1:O},{c0:V,c1:Y},re)=>({c0:C.cmov(A,V,re),c1:C.cmov(O,Y,re)}),fromBigTwelve:A=>({c0:C.fromBigSix(A.slice(0,6)),c1:C.fromBigSix(A.slice(6,12))}),frobeniusMap(A,O){const{c0:V,c1:Y,c2:re}=C.frobeniusMap(A.c1,O),Q=B[O%12];return{c0:C.frobeniusMap(A.c0,O),c1:C.create({c0:g.mul(V,Q),c1:g.mul(Y,Q),c2:g.mul(re,Q)})}},mulByFp2:({c0:A,c1:O},V)=>({c0:C.mulByFp2(A,V),c1:C.mulByFp2(O,V)}),conjugate:({c0:A,c1:O})=>({c0:A,c1:C.neg(O)}),mul014:({c0:A,c1:O},V,Y,re)=>{let Q=C.mul01(A,V,Y),ee=C.mul1(O,re);return{c0:C.add(C.mulByNonresidue(ee),Q),c1:C.sub(C.sub(C.mul01(C.add(O,A),V,g.add(Y,re)),Q),ee)}},mul034:({c0:A,c1:O},V,Y,re)=>{const Q=C.create({c0:g.mul(A.c0,V),c1:g.mul(A.c1,V),c2:g.mul(A.c2,V)}),ee=C.mul01(O,Y,re),de=C.mul01(C.add(A,O),g.add(V,Y),re);return{c0:C.add(C.mulByNonresidue(ee),Q),c1:C.sub(de,C.add(Q,ee))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:r,Fp2:g,Fp6:C,Fp12:X,Fp4Square:q}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gt=BigInt(0),bd=BigInt(1),_t=BigInt(2),tu=BigInt(3),La=BigInt(4),wo=BigInt("0xd201000000010000"),hj=bs(wo),Ci={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:Gt,b:La,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},pj=Zo(Ci.n,{modOnDecode:!0}),{Fp:Be,Fp2:Ae,Fp6:Nh,Fp4Square:nf,Fp12:He}=fj({ORDER:Ci.p,FP2_NONRESIDUE:[bd,bd],Fp2mulByB:({c0:e,c1:t})=>{const r=Be.mul(e,La),n=Be.mul(t,La);return{c0:Be.sub(r,n),c1:Be.add(r,n)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:r,c1:n,c2:i}=e,{c0:o,c1:a,c2:l}=t,{first:c,second:d}=nf(r,a),{first:b,second:y}=nf(o,i),{first:m,second:u}=nf(n,l),g=Ae.mulByNonresidue(u);return{c0:Nh.create({c0:Ae.add(Ae.mul(Ae.sub(c,r),_t),c),c1:Ae.add(Ae.mul(Ae.sub(b,n),_t),b),c2:Ae.add(Ae.mul(Ae.sub(m,i),_t),m)}),c1:Nh.create({c0:Ae.add(Ae.mul(Ae.add(g,o),_t),g),c1:Ae.add(Ae.mul(Ae.add(d,a),_t),d),c2:Ae.add(Ae.mul(Ae.add(y,l),_t),y)})}},Fp12cyclotomicExp(e,t){let r=He.ONE;for(let n=hj-1;n>=0;n--)r=He._cyclotomicSquare(r),M6(t,n)&&(r=He.mul(r,e));return r},Fp12finalExponentiate:e=>{const t=wo,r=He.div(He.frobeniusMap(e,6),e),n=He.mul(He.frobeniusMap(r,2),r),i=He.conjugate(He._cyclotomicExp(n,t)),o=He.mul(He.conjugate(He._cyclotomicSquare(n)),i),a=He.conjugate(He._cyclotomicExp(o,t)),l=He.conjugate(He._cyclotomicExp(a,t)),c=He.mul(He.conjugate(He._cyclotomicExp(l,t)),He._cyclotomicSquare(i)),d=He.conjugate(He._cyclotomicExp(c,t)),b=He.frobeniusMap(He.mul(i,l),2),y=He.frobeniusMap(He.mul(a,n),3),m=He.frobeniusMap(He.mul(c,He.conjugate(n)),1),u=He.mul(He.mul(d,He.conjugate(o)),n);return He.mul(He.mul(He.mul(b,y),m),u)}}),{G2psi:hg,G2psi2:mj}=uj(Be,Ae,Ae.div(Ae.ONE,Ae.NONRESIDUE)),of=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Be.ORDER,m:2,k:128,expand:"xmd",hash:K0}),ip={p:Ae.ORDER,n:Ci.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Ae.ZERO,b:Ae.fromBigTuple([La,La]),Gx:Ae.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ae.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},ru=bl(Be.toBytes(Gt),{infinity:!0,compressed:!0});function nu(e){e=e.slice();const t=e[0]&224,r=!!(t>>7&1),n=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:n,sort:i,value:e}}function bl(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function gj(e,t,r){const{BYTES:n,ORDER:i}=Be,o=t.is0(),{x:a,y:l}=t.toAffine();if(r){if(o)return ru.slice();const c=!!(l*_t/i);return bl(Rt(a,n),{compressed:!0,sort:c})}else return o?mt(Uint8Array.of(64),new Uint8Array(2*n-1)):mt(Rt(a,n),Rt(l,n))}function sf(e){e.assertValidity();const{BYTES:t,ORDER:r}=Be,{x:n,y:i}=e.toAffine();if(e.is0())return ru.slice();const o=!!(i*_t/r);return bl(Rt(n,t),{compressed:!0,sort:o})}function yj(e){const{compressed:t,infinity:r,sort:n,value:i}=nu(e),{BYTES:o,ORDER:a}=Be;if(i.length===48&&t){const l=yn(i),c=Be.create(l&Be.MASK);if(r){if(c!==Gt)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:Gt,y:Gt}}const d=Be.add(Be.pow(c,tu),Be.create(Ci.b));let b=Be.sqrt(d);if(!b)throw new Error("invalid G1 point: compressed point");return b*_t/a!==BigInt(n)&&(b=Be.neg(b)),{x:Be.create(c),y:Be.create(b)}}else if(i.length===96&&!t){const l=yn(i.subarray(0,o)),c=yn(i.subarray(o));if(r){if(l!==Gt||c!==Gt)throw new Error("G1: non-empty point at infinity");return ou.G1.Point.ZERO.toAffine()}return{x:Be.create(l),y:Be.create(c)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function pg(e){const{infinity:t,sort:r,value:n}=nu(tr("signatureHex",e,48)),i=Be.ORDER,o=ou.G1.Point,a=yn(n);if(t)return o.ZERO;const l=Be.create(a&Be.MASK),c=Be.add(Be.pow(l,tu),Be.create(Ci.b));let d=Be.sqrt(c);if(!d)throw new Error("invalid G1 point: compressed");const b=BigInt(r);d*_t/i!==b&&(d=Be.neg(d));const y=o.fromAffine({x:l,y:d});return y.assertValidity(),y}function xj(e,t,r){const{BYTES:n,ORDER:i}=Be,o=t.is0(),{x:a,y:l}=t.toAffine();if(r){if(o)return mt(ru,Rt(Gt,n));const c=!!(l.c1===Gt?l.c0*_t/i:l.c1*_t/i);return mt(bl(Rt(a.c1,n),{compressed:!0,sort:c}),Rt(a.c0,n))}else{if(o)return mt(Uint8Array.of(64),new Uint8Array(4*n-1));const{re:c,im:d}=Ae.reim(a),{re:b,im:y}=Ae.reim(l);return mt(Rt(d,n),Rt(c,n),Rt(y,n),Rt(b,n))}}function af(e){e.assertValidity();const{BYTES:t}=Be;if(e.is0())return mt(ru,Rt(Gt,t));const{x:r,y:n}=e.toAffine(),{re:i,im:o}=Ae.reim(r),{re:a,im:l}=Ae.reim(n),d=!!((l>Gt?l*_t:a*_t)/Be.ORDER&bd),b=i;return mt(bl(Rt(o,t),{sort:d,compressed:!0}),Rt(b,t))}function bj(e){const{BYTES:t,ORDER:r}=Be,{compressed:n,infinity:i,sort:o,value:a}=nu(e);if(!n&&!i&&o||!n&&i&&o||o&&i&&n)throw new Error("invalid encoding flag: "+(e[0]&224));const l=(c,d,b)=>yn(c.slice(d,b));if(a.length===96&&n){if(i){if(a.reduce((g,N)=>g!==0?N+1:N,0)>0)throw new Error("invalid G2 point: compressed");return{x:Ae.ZERO,y:Ae.ZERO}}const c=l(a,0,t),d=l(a,t,2*t),b=Ae.create({c0:Be.create(d),c1:Be.create(c)}),y=Ae.add(Ae.pow(b,tu),ip.b);let m=Ae.sqrt(y);const u=m.c1===Gt?m.c0*_t/r:m.c1*_t/r?bd:Gt;return m=o&&u>0?m:Ae.neg(m),{x:b,y:m}}else if(a.length===192&&!n){if(i){if(a.reduce((m,u)=>m!==0?u+1:u,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Ae.ZERO,y:Ae.ZERO}}const c=l(a,0*t,1*t),d=l(a,1*t,2*t),b=l(a,2*t,3*t),y=l(a,3*t,4*t);return{x:Ae.fromBigTuple([d,c]),y:Ae.fromBigTuple([y,b])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function mg(e){const{ORDER:t}=Be,{infinity:r,sort:n,value:i}=nu(tr("signatureHex",e)),o=ou.G2.Point,a=i.length/2;if(a!==48&&a!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const l=yn(i.slice(0,a)),c=yn(i.slice(a));if(r)return o.ZERO;const d=Be.create(l&Be.MASK),b=Be.create(c),y=Ae.create({c0:b,c1:d}),m=Ae.add(Ae.pow(y,tu),ip.b);let u=Ae.sqrt(m);if(!u)throw new Error("Failed to find a square root");const{re:g,im:N}=Ae.reim(u),W=BigInt(n),v=N>Gt&&N*_t/t!==W,w=N===Gt&&g*_t/t!==W;(v||w)&&(u=Ae.neg(u));const j=o.fromAffine({x:y,y:u});return j.assertValidity(),j}const ou=dj({fields:{Fp:Be,Fp2:Ae,Fp6:Nh,Fp12:He,Fr:pj},G1:{...Ci,Fp:Be,htfDefaults:{...of,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new e(Be.mul(t.X,r),t.Y,t.Z);return t.multiplyUnsafe(wo).negate().multiplyUnsafe(wo).equals(n)},clearCofactor:(e,t)=>t.multiplyUnsafe(wo).add(t),mapToCurve:jj,fromBytes:yj,toBytes:gj,ShortSignature:{fromBytes(e){return Kt(e),pg(e)},fromHex(e){return pg(e)},toBytes(e){return sf(e)},toRawBytes(e){return sf(e)},toHex(e){return As(sf(e))}}},G2:{...ip,Fp:Ae,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...of},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:Tj,isTorsionFree:(e,t)=>t.multiplyUnsafe(wo).negate().equals(hg(e,t)),clearCofactor:(e,t)=>{const r=wo;let n=t.multiplyUnsafe(r).negate(),i=hg(e,t),o=t.double();return o=mj(e,o),o=o.subtract(i),i=n.add(i),i=i.multiplyUnsafe(r).negate(),o=o.add(i),o=o.subtract(n),o.subtract(t)},fromBytes:bj,toBytes:xj,Signature:{fromBytes(e){return Kt(e),mg(e)},fromHex(e){return mg(e)},toBytes(e){return af(e)},toRawBytes(e){return af(e)},toHex(e){return As(af(e))}}},params:{ateLoopSize:wo,r:Ci.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:of,hash:K0}),wj=u2(Ae,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>Ae.fromBigTuple(t.map(BigInt))))),vj=u2(Be,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),Sj=h2(Be,{A:Be.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Be.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Be.create(BigInt(11))}),kj=h2(Ae,{A:Ae.create({c0:Be.create(Gt),c1:Be.create(BigInt(240))}),B:Ae.create({c0:Be.create(BigInt(1012)),c1:Be.create(BigInt(1012))}),Z:Ae.create({c0:Be.create(BigInt(-2)),c1:Be.create(BigInt(-1))})});function jj(e){const{x:t,y:r}=Sj(Be.create(e[0]));return vj(t,r)}function Tj(e){const{x:t,y:r}=kj(Ae.fromBigTuple(e));return wj(t,r)}function Ej(e,t,r){const n=typeof e=="string"?e:ot(e),i=typeof t=="string"?t:ot(t),o=typeof r=="string"?r:ot(r);return ou.verifyShortSignature(i,o,n)}const p2=e=>Tt(new Is(e)),sp=e=>{const t=p2(e);return new Date(Number(t)/1e6)};var _j=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Cj=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},yc;class dn extends ut{constructor(t){super(`Invalid certificate: ${t}`)}}var mr;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(mr||(mr={}));function Nj(e,t){const r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]>n[i])return!0;return!1}class mi{constructor(t,r,n,i,o=5,a=!1){this._rootKey=r,this._canisterId=n,this._blsVerify=i,this._maxAgeInMinutes=o,yc.set(this,!1),_j(this,yc,a,"f"),this.cert=In(new Uint8Array(t))}static async create(t){const r=mi.createUnverified(t);return await r.verify(),r}static createUnverified(t){let r=t.blsVerify;return r||(r=Ej),new mi(t.certificate,t.rootKey,t.canisterId,r,t.maxAgeInMinutes,t.disableTimeVerification)}lookup(t){return Fs(t,this.cert.tree)}lookup_label(t){return this.lookup([t])}async verify(){const t=await xc(this.cert.tree),r=await this._checkDelegationAndGetKey(this.cert.delegation),n=this.cert.signature,i=Bj(r),o=Jr(fa("ic-state-root"),t);let a=!1;const l=Er(this.lookup(["time"]));if(!l)throw new dn("Certificate does not contain a time");if(!Cj(this,yc,"f")){const d=this._maxAgeInMinutes*60*1e3,b=Date.now(),y=b-d,m=b+3e5,u=sp(l);if(u.getTime()<y)throw new dn(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+u.toISOString()+" Current time: "+new Date(b).toISOString());if(u.getTime()>m)throw new dn("Certificate is signed more than 5 minutes in the future. Certificate time: "+u.toISOString()+" Current time: "+new Date(b).toISOString())}try{a=await this._blsVerify(new Uint8Array(i),new Uint8Array(n),new Uint8Array(o))}catch{a=!1}if(!a)throw new dn("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const r=await mi.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(r.cert.delegation)throw new dn("Delegation certificates cannot be nested");if(await r.verify(),this._canisterId.toString()!==r8&&!m2({canisterId:this._canisterId,subnetId:Pe.fromUint8Array(new Uint8Array(t.subnet_id)),tree:r.cert.tree}))throw new dn(`Canister ${this._canisterId} not in range of delegations for subnet 0x${ot(t.subnet_id)}`);const n=Er(r.lookup(["subnet",t.subnet_id,"public_key"]));if(!n)throw new Error(`Could not find subnet key for subnet 0x${ot(t.subnet_id)}`);return n}}yc=new WeakMap;const ta=Zn("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),Aj=96;function Bj(e){const t=ta.byteLength+Aj;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);const r=e.slice(0,ta.byteLength);if(!pl(r,ta))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${ta}, but get ${r}`);return e.slice(ta.byteLength)}function Er(e){if(e.status===wt.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function xc(e){switch(e[0]){case mr.Empty:return Zr(fa("ic-hashtree-empty"));case mr.Pruned:return e[1];case mr.Leaf:return Zr(Jr(fa("ic-hashtree-leaf"),e[1]));case mr.Labeled:return Zr(Jr(fa("ic-hashtree-labeled"),e[1],await xc(e[2])));case mr.Fork:return Zr(Jr(fa("ic-hashtree-fork"),await xc(e[1]),await xc(e[2])));default:throw new Error("unreachable")}}function fa(e){const t=new Uint8Array([e.length]),r=new TextEncoder().encode(e);return Jr(t,r)}var wt;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(wt||(wt={}));var $n;(function(e){e.Less="less",e.Greater="greater"})($n||($n={}));function Fs(e,t){if(e.length===0)switch(t[0]){case mr.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:wt.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:wt.Found,value:t[1].buffer}:{status:wt.Found,value:t[1]}}default:return{status:wt.Found,value:t}}const r=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],n=bc(r,t);switch(n.status){case wt.Found:return Fs(e.slice(1),n.value);case $n.Greater:case $n.Less:return{status:wt.Absent};default:return n}}function Ah(e){switch(e[0]){case mr.Empty:return[];case mr.Fork:return Ah(e[1]).concat(Ah(e[2]));default:return[e]}}function bc(e,t){switch(t[0]){case mr.Labeled:return Nj(e,t[1])?{status:$n.Greater}:pl(e,t[1])?{status:wt.Found,value:t[2]}:{status:$n.Less};case mr.Fork:const r=bc(e,t[1]);switch(r.status){case $n.Greater:{const n=bc(e,t[2]);return n.status===$n.Less?{status:wt.Absent}:n}case wt.Unknown:{let n=bc(e,t[2]);return n.status===$n.Less?{status:wt.Unknown}:n}default:return r}case mr.Pruned:return{status:wt.Unknown};default:return{status:wt.Absent}}}function m2(e){const{canisterId:t,subnetId:r,tree:n}=e,i=Fs(["subnet",r.toUint8Array(),"canister_ranges"],n);if(i.status!==wt.Found||!(i.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);return In(i.value).map(c=>[Pe.fromUint8Array(c[0]),Pe.fromUint8Array(c[1])]).some(c=>c[0].ltEq(t)&&c[1].gtEq(t))}class Rj{constructor(t,r,n){this.key=t,this.path=r,this.decodeStrategy=n}}const g2=async e=>{const{agent:t,paths:r}=e,n=Pe.from(e.canisterId),i=[...new Set(r)],o=i.map(c=>Bh(c,n)),a=new Map,l=i.map((c,d)=>(async()=>{var b;try{const y=await t.readState(n,{paths:[o[d]]});if(t.rootKey==null)throw new Error("Agent is missing root key");const m=await mi.create({certificate:y.certificate,rootKey:t.rootKey,canisterId:n,disableTimeVerification:!0}),u=(W,v)=>{if(v==="subnet"){if(t.rootKey==null)throw new Error("Agent is missing root key");const w=y2(y.certificate,n,t.rootKey);return{path:v,data:w}}else return{path:v,data:Er(W.lookup(Bh(v,n)))}},{path:g,data:N}=u(m,i[d]);if(!N)console.warn(`Expected to find result for path ${g}, but instead found nothing.`),typeof g=="string"?a.set(g,null):a.set(g.key,null);else switch(g){case"time":{a.set(g,sp(N));break}case"controllers":{a.set(g,zj(N));break}case"module_hash":{a.set(g,gg(N));break}case"subnet":{a.set(g,N);break}case"candid":{a.set(g,new TextDecoder().decode(N));break}default:if(typeof g!="string"&&"key"in g&&"path"in g)switch(g.decodeStrategy){case"raw":a.set(g.key,N);break;case"leb128":{a.set(g.key,p2(N));break}case"cbor":{a.set(g.key,x2(N));break}case"hex":{a.set(g.key,gg(N));break}case"utf-8":a.set(g.key,Fj(N))}}}catch(y){if(!((b=y==null?void 0:y.message)===null||b===void 0)&&b.includes("Invalid certificate"))throw new ut(y.message);typeof c!="string"&&"key"in c&&"path"in c?a.set(c.key,null):a.set(c,null),console.group(),console.warn(`Expected to find result for path ${c}, but instead found nothing.`),console.warn(y),console.groupEnd()}})());return await Promise.all(l),a},y2=(e,t,r)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");const n=In(new Uint8Array(e)),i=n.tree;let o=n.delegation,a;if(o&&o.subnet_id?a=Pe.fromUint8Array(new Uint8Array(o.subnet_id)):!o&&typeof r<"u"?(a=Pe.selfAuthenticating(new Uint8Array(r)),o={subnet_id:a.toUint8Array(),certificate:new ArrayBuffer(0)}):(a=Pe.selfAuthenticating(Pe.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),o={subnet_id:a.toUint8Array(),certificate:new ArrayBuffer(0)}),!m2({canisterId:t,subnetId:a,tree:i}))throw new Error("Canister not in range");const c=Fs(["subnet",o.subnet_id,"node"],i);if(c.status!==wt.Found)throw new Error("Node not found");if(c.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const d=Ah(c.value),b=new Map;return d.forEach(y=>{const m=Pe.from(new Uint8Array(y[1])).toText(),u=Fs(["public_key"],y[2]);if(u.status!==wt.Found)throw new Error("Public key not found");const g=u.value;if(g.byteLength!==44)throw new Error("Invalid public key length");b.set(m,g)}),{subnetId:Pe.fromUint8Array(new Uint8Array(o.subnet_id)).toText(),nodeKeys:b}},Bh=(e,t)=>{const r=new TextEncoder,n=o=>new DataView(r.encode(o).buffer).buffer,i=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[n("time")];case"controllers":return[n("canister"),i,n("controllers")];case"module_hash":return[n("canister"),i,n("module_hash")];case"subnet":return[n("subnet")];case"candid":return[n("canister"),i,n("metadata"),n("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const o=e.path,a=typeof o=="string"?n(o):o;return[n("canister"),i,n("metadata"),a]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},gg=e=>ot(e),x2=e=>In(e),Fj=e=>new TextDecoder().decode(e),zj=e=>x2(e).map(r=>Pe.fromUint8Array(new Uint8Array(r))),Pj=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:Rj,encodePath:Bh,fetchNodeKeys:y2,request:g2},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const on=BigInt(0),xt=BigInt(1),lf=BigInt(2),Mj=BigInt(8);function Oj(e,t,r,n){const i=e.sqr(r),o=e.sqr(n),a=e.add(e.mul(t.a,i),o),l=e.add(e.ONE,e.mul(t.d,e.mul(i,o)));return e.eql(a,l)}function $j(e,t={}){const{Fp:r,Fn:n}=c2("edwards",e,t),{h:i,n:o}=e;xl(t,{},{uvRatio:"function"});const a=lf<<BigInt(n.BYTES*8)-xt,l=N=>r.create(N),c=t.uvRatio||((N,W)=>{try{return{isValid:!0,value:r.sqrt(r.div(N,W))}}catch{return{isValid:!1,value:on}}});if(!Oj(r,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function d(N,W,v=!1){const w=v?xt:on;return ua("coordinate "+N,W,w,a),W}function b(N){if(!(N instanceof u))throw new Error("ExtendedPoint expected")}const y=Qa((N,W)=>{const{X:v,Y:w,Z:j}=N,F=N.is0();W==null&&(W=F?Mj:r.inv(j));const C=l(v*W),B=l(w*W),R=r.mul(j,W);if(F)return{x:on,y:xt};if(R!==xt)throw new Error("invZ was invalid");return{x:C,y:B}}),m=Qa(N=>{const{a:W,d:v}=e;if(N.is0())throw new Error("bad point: ZERO");const{X:w,Y:j,Z:F,T:C}=N,B=l(w*w),R=l(j*j),M=l(F*F),Z=l(M*M),$=l(B*W),q=l(M*l($+R)),X=l(Z+l(v*l(B*R)));if(q!==X)throw new Error("bad point: equation left != right (1)");const A=l(w*j),O=l(F*C);if(A!==O)throw new Error("bad point: equation left != right (2)");return!0});class u{constructor(W,v,w,j){this.X=d("x",W),this.Y=d("y",v),this.Z=d("z",w,!0),this.T=d("t",j),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(W){return qn(u,W)}static msm(W,v){return l2(u,n,W,v)}_setWindowSize(W){this.precompute(W)}static fromAffine(W){if(W instanceof u)throw new Error("extended point not allowed");const{x:v,y:w}=W||{};return d("x",v),d("y",w),new u(v,w,xt,l(v*w))}precompute(W=8,v=!0){return g.createCache(this,W),v||this.multiply(lf),this}assertValidity(){m(this)}equals(W){b(W);const{X:v,Y:w,Z:j}=this,{X:F,Y:C,Z:B}=W,R=l(v*B),M=l(F*j),Z=l(w*B),$=l(C*j);return R===M&&Z===$}is0(){return this.equals(u.ZERO)}negate(){return new u(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:W}=e,{X:v,Y:w,Z:j}=this,F=l(v*v),C=l(w*w),B=l(lf*l(j*j)),R=l(W*F),M=v+w,Z=l(l(M*M)-F-C),$=R+C,q=$-B,X=R-C,A=l(Z*q),O=l($*X),V=l(Z*X),Y=l(q*$);return new u(A,O,Y,V)}add(W){b(W);const{a:v,d:w}=e,{X:j,Y:F,Z:C,T:B}=this,{X:R,Y:M,Z,T:$}=W,q=l(j*R),X=l(F*M),A=l(B*w*$),O=l(C*Z),V=l((j+F)*(R+M)-q-X),Y=O-A,re=O+A,Q=l(X-v*q),ee=l(V*Y),de=l(re*Q),ue=l(V*Q),ae=l(Y*re);return new u(ee,de,ae,ue)}subtract(W){return this.add(W.negate())}multiply(W){const v=W;ua("scalar",v,xt,o);const{p:w,f:j}=g.cached(this,v,F=>qn(u,F));return qn(u,[w,j])[0]}multiplyUnsafe(W,v=u.ZERO){const w=W;return ua("scalar",w,on,o),w===on?u.ZERO:this.is0()||w===xt?this:g.unsafe(this,w,j=>qn(u,j),v)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return g.unsafe(this,o).is0()}toAffine(W){return y(this,W)}clearCofactor(){return i===xt?this:this.multiplyUnsafe(i)}static fromBytes(W,v=!1){return Kt(W),u.fromHex(W,v)}static fromHex(W,v=!1){const{d:w,a:j}=e,F=r.BYTES;W=tr("pointHex",W,F),Za("zip215",v);const C=W.slice(),B=W[F-1];C[F-1]=B&-129;const R=Xa(C),M=v?a:r.ORDER;ua("pointHex.y",R,on,M);const Z=l(R*R),$=l(Z-xt),q=l(w*Z-j);let{isValid:X,value:A}=c($,q);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const O=(A&xt)===xt,V=(B&128)!==0;if(!v&&A===on&&V)throw new Error("Point.fromHex: x=0 and x_0=1");return V!==O&&(A=l(-A)),u.fromAffine({x:A,y:R})}toBytes(){const{x:W,y:v}=this.toAffine(),w=eu(v,r.BYTES);return w[w.length-1]|=W&xt?128:0,w}toRawBytes(){return this.toBytes()}toHex(){return As(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}u.BASE=new u(e.Gx,e.Gy,xt,l(e.Gx*e.Gy)),u.ZERO=new u(on,xt,xt,on),u.Fp=r,u.Fn=n;const g=new a2(u,n.BYTES*8);return u}function Uj(e,t,r){if(typeof t!="function")throw new Error('"hash" function param is required');xl(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n}=r,{BASE:i,Fp:o,Fn:a}=e,l=a.ORDER,c=r.randomBytes||zx,d=r.adjustScalarBytes||(q=>q),b=r.domain||((q,X,A)=>{if(Za("phflag",A),X.length||A)throw new Error("Contexts/pre-hash are not supported");return q});function y(q){return a.create(q)}function m(q){return y(Xa(q))}function u(q){const X=o.BYTES;q=tr("private key",q,X);const A=tr("hashed private key",t(q),2*X),O=d(A.slice(0,X)),V=A.slice(X,2*X),Y=m(O);return{head:O,prefix:V,scalar:Y}}function g(q){const{head:X,prefix:A,scalar:O}=u(q),V=i.multiply(O),Y=V.toBytes();return{head:X,prefix:A,scalar:O,point:V,pointBytes:Y}}function N(q){return g(q).pointBytes}function W(q=Uint8Array.of(),...X){const A=mt(...X);return m(t(b(A,tr("context",q),!!n)))}function v(q,X,A={}){q=tr("message",q),n&&(q=n(q));const{prefix:O,scalar:V,pointBytes:Y}=g(X),re=W(A.context,O,q),Q=i.multiply(re).toBytes(),ee=W(A.context,Q,Y,q),de=y(re+ee*V);ua("signature.s",de,on,l);const ue=o.BYTES,ae=mt(Q,eu(de,ue));return tr("result",ae,ue*2)}const w={zip215:!0};function j(q,X,A,O=w){const{context:V,zip215:Y}=O,re=o.BYTES;q=tr("signature",q,2*re),X=tr("message",X),A=tr("publicKey",A,re),Y!==void 0&&Za("zip215",Y),n&&(X=n(X));const Q=Xa(q.slice(re,2*re));let ee,de,ue;try{ee=e.fromHex(A,Y),de=e.fromHex(q.slice(0,re),Y),ue=i.multiplyUnsafe(Q)}catch{return!1}if(!Y&&ee.isSmallOrder())return!1;const ae=W(V,de.toBytes(),ee.toBytes(),X);return de.add(ee.multiplyUnsafe(ae)).subtract(ue).clearCofactor().is0()}i.precompute(8);const F=o.BYTES,C={secret:F,public:F,signature:2*F,seed:F};function B(q=c(C.seed)){return q}const R={getExtendedPublicKey:g,randomSecretKey:B,isValidSecretKey:Z,isValidPublicKey:$,randomPrivateKey:B,toMontgomery(q){const{y:X}=e.fromBytes(q),A=F===32;if(!A&&F!==57)throw new Error("only defined for 25519 and 448");const O=A?o.div(xt+X,xt-X):o.div(X-xt,X+xt);return o.toBytes(O)},toMontgomeryPriv(q){Kt(q,F);const X=t(q.subarray(0,F));return d(X).subarray(0,F)},precompute(q=8,X=e.BASE){return X.precompute(q,!1)}};function M(q){const X=R.randomSecretKey(q);return{secretKey:X,publicKey:N(X)}}function Z(q){try{return!!a.fromBytes(q,!1)}catch{return!1}}function $(q,X){try{return!!e.fromBytes(q,X)}catch{return!1}}return Object.freeze({keygen:M,getPublicKey:N,sign:v,verify:j,utils:R,Point:e,info:{type:"edwards",lengths:C}})}function Wj(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=Zo(t.n,e.nBitLength,!0),i={Fp:r,Fn:n,uvRatio:e.uvRatio},o={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:i,hash:e.hash,eddsaOpts:o}}function Vj(e,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e})}function Hj(e){const{CURVE:t,curveOpts:r,hash:n,eddsaOpts:i}=Wj(e),o=$j(t,r),a=Uj(o,n,i);return Vj(e,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const Ij=BigInt(1),yg=BigInt(2);BigInt(3);const qj=BigInt(5),Gj=BigInt(8),iu={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Gj,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Yj(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=iu.p,l=e*e%o*e%o,c=rn(l,yg,o)*l%o,d=rn(c,Ij,o)*e%o,b=rn(d,qj,o)*d%o,y=rn(b,t,o)*b%o,m=rn(y,r,o)*y%o,u=rn(m,n,o)*m%o,g=rn(u,i,o)*u%o,N=rn(g,i,o)*u%o,W=rn(N,t,o)*b%o;return{pow_p_5_8:rn(W,yg,o)*e%o,b2:l}}function Kj(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const xg=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Zj(e,t){const r=iu.p,n=ht(t*t*t,r),i=ht(n*n*t,r),o=Yj(e*i).pow_p_5_8;let a=ht(e*n*o,r);const l=ht(t*a*a,r),c=a,d=ht(a*xg,r),b=l===e,y=l===ht(-e,r),m=l===ht(-e*xg,r);return b&&(a=c),(y||m)&&(a=d),I6(a,r)&&(a=ht(-a,r)),{isValid:b||y,value:a}}const Xj=(()=>Zo(iu.p,{isLE:!0}))(),Qj=(()=>({...iu,Fp:Xj,hash:p4,adjustScalarBytes:Kj,uvRatio:Zj}))(),qi=(()=>Hj(Qj))();var bg=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Lt=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ht,ha,b2,w2;class Jj{constructor(t={}){Ht.set(this,void 0),ha.set(this,void 0),this[b2]=this.entries.bind(this),this[w2]="ExpirableMap";const{source:r=[],expirationTime:n=10*60*1e3}=t,i=Date.now();bg(this,Ht,new Map([...r].map(([o,a])=>[o,{value:a,timestamp:i}])),"f"),bg(this,ha,n,"f")}prune(){const t=Date.now();for(const[r,n]of Lt(this,Ht,"f").entries())t-n.timestamp>Lt(this,ha,"f")&&Lt(this,Ht,"f").delete(r);return this}set(t,r){this.prune();const n={value:r,timestamp:Date.now()};return Lt(this,Ht,"f").set(t,n),this}get(t){const r=Lt(this,Ht,"f").get(t);if(r!==void 0){if(Date.now()-r.timestamp>Lt(this,ha,"f")){Lt(this,Ht,"f").delete(t);return}return r.value}}clear(){Lt(this,Ht,"f").clear()}entries(){const t=Lt(this,Ht,"f").entries();return function*(){for(const[n,i]of t)yield[n,i.value]}()}values(){const t=Lt(this,Ht,"f").values();return function*(){for(const n of t)yield n.value}()}keys(){return Lt(this,Ht,"f").keys()}forEach(t,r){for(const[n,i]of Lt(this,Ht,"f").entries())t.call(r,i.value,n,this)}has(t){return Lt(this,Ht,"f").has(t)}delete(t){return Lt(this,Ht,"f").delete(t)}get size(){return Lt(this,Ht,"f").size}}Ht=new WeakMap,ha=new WeakMap,b2=Symbol.iterator,w2=Symbol.toStringTag;const wg=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},vg=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},Rh=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},Lj=(e,t)=>{const r=Rh(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const wd=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function v2(e,t){const r=2+wg(e.byteLength+1),n=t.byteLength+r+e.byteLength;let i=0;const o=new Uint8Array(1+wg(n)+n);return o[i++]=48,i+=vg(o,i,n),o.set(t,i),i+=t.byteLength,o[i++]=3,i+=vg(o,i,e.byteLength+1),o[i++]=0,o.set(new Uint8Array(e),i),o}const S2=(e,t)=>{let r=0;const n=(l,c)=>{if(i[r++]!==l)throw new Error("Expected: "+c)},i=new Uint8Array(e);if(n(48,"sequence"),r+=Rh(i,r),!pl(i.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,n(3,"bit string");const o=Lj(i,r)-1;r+=Rh(i,r),n(0,"0 padding");const a=i.slice(r);if(o!==a.length)throw new Error(`DER payload mismatch: Expected length ${o} actual length ${a.length}`);return a};var Sg=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},kg=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},wc,vc;let k2=class pa{constructor(t){if(wc.set(this,void 0),vc.set(this,void 0),t.byteLength!==pa.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Sg(this,wc,t,"f"),Sg(this,vc,pa.derEncode(t),"f")}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new pa(t)}static fromDer(t){return new pa(this.derDecode(t))}static derEncode(t){return v2(t,wd).buffer}static derDecode(t){const r=S2(t,wd);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return kg(this,wc,"f")}get derKey(){return kg(this,vc,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};wc=new WeakMap,vc=new WeakMap;k2.RAW_KEY_LENGTH=32;class Dj{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(r=>r!==t)}notify(t,...r){this.observers.forEach(n=>n(t,...r))}}class e8 extends Dj{constructor(){super()}print(t,...r){this.notify({message:t,level:"info"},...r)}warn(t,...r){this.notify({message:t,level:"warn"},...r)}error(t,r,...n){this.notify({message:t,level:"error",error:r},...n)}}var nn=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Wt=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},sn,Sc,kc,jc,Tc,Ec,_c,Cc,Gi;const j2=.5,T2=1.5,E2=500,_2=6e4,C2=9e5,N2=10;class su{constructor(t=su.default){sn.set(this,void 0),Sc.set(this,void 0),kc.set(this,void 0),jc.set(this,void 0),Tc.set(this,void 0),Ec.set(this,void 0),_c.set(this,void 0),Cc.set(this,void 0),Gi.set(this,0);const{initialInterval:r=E2,randomizationFactor:n=j2,multiplier:i=T2,maxInterval:o=_2,maxElapsedTime:a=C2,maxIterations:l=N2,date:c=Date}=t;nn(this,sn,r,"f"),nn(this,Sc,n,"f"),nn(this,kc,i,"f"),nn(this,jc,o,"f"),nn(this,Cc,c,"f"),nn(this,Tc,c.now(),"f"),nn(this,Ec,a,"f"),nn(this,_c,l,"f")}get ellapsedTimeInMsec(){return Wt(this,Cc,"f").now()-Wt(this,Tc,"f")}get currentInterval(){return Wt(this,sn,"f")}get count(){return Wt(this,Gi,"f")}get randomValueFromInterval(){const t=Wt(this,Sc,"f")*Wt(this,sn,"f"),r=Wt(this,sn,"f")-t,n=Wt(this,sn,"f")+t;return Math.random()*(n-r)+r}incrementCurrentInterval(){var t;return nn(this,sn,Math.min(Wt(this,sn,"f")*Wt(this,kc,"f"),Wt(this,jc,"f")),"f"),nn(this,Gi,(t=Wt(this,Gi,"f"),t++,t),"f"),Wt(this,sn,"f")}next(){return this.ellapsedTimeInMsec>=Wt(this,Ec,"f")||Wt(this,Gi,"f")>=Wt(this,_c,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}sn=new WeakMap,Sc=new WeakMap,kc=new WeakMap,jc=new WeakMap,Tc=new WeakMap,Ec=new WeakMap,_c=new WeakMap,Cc=new WeakMap,Gi=new WeakMap;su.default={initialInterval:E2,randomizationFactor:j2,multiplier:T2,maxInterval:_2,maxElapsedTime:C2,maxIterations:N2,date:Date};var At=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},we=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},It,Lo,ws,an,zn,fs,ma,Yi,Vr,qr,Do,ei,ga,Ki,Zi,ti,ni,A2,Nc,Ac,ri,Pn;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(Pn||(Pn={}));const Xl=60*1e3,t8="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",r8="aaaaa-aa",n8="ic0.app",o8=".ic0.app",i8="icp0.io",s8=".icp0.io",a8="icp-api.io",l8=".icp-api.io";class cf extends ut{constructor(t){super(t),this.message=t}}class Ql extends ut{constructor(t){super(t),this.message=t}}function c8(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new cf("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new cf("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new cf("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function d8(e){let t;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?t=new URL(window.location.protocol+"//"+e):t=new URL(e);else{const r=["ic0.app","icp0.io","127.0.0.1","localhost"],n=[".github.dev",".gitpod.io"],i=typeof window<"u"?window.location:void 0,o=i==null?void 0:i.hostname;let a;o&&typeof o=="string"&&(n.some(l=>o.endsWith(l))?a=o:a=r.find(l=>o.endsWith(l))),i&&a?t=new URL(`${i.protocol}//${a}${i.port?":"+i.port:""}`):t=new URL("https://icp-api.io")}return t.toString()}class di{constructor(t={}){var r,n;It.add(this),Lo.set(this,null),ws.set(this,!1),an.set(this,void 0),zn.set(this,void 0),fs.set(this,void 0),ma.set(this,void 0),Yi.set(this,0),Vr.set(this,void 0),qr.set(this,void 0),Do.set(this,void 0),ei.set(this,void 0),this._isAgent=!0,this.config={},ga.set(this,0),this.log=new e8,Ki.set(this,[]),Zi.set(this,[]),ti.set(this,new Jj({expirationTime:5*60*1e3})),ni.set(this,!0),Ac.set(this,(a,l)=>{if(we(this,ni,"f")===!1)return a;if(!l)throw new dn("Invalid signature from replica signed query: no matching node key found.");const{status:c,signatures:d=[],requestId:b}=a,y=Hn(new TextEncoder().encode("\vic-response"));for(const m of d){const{timestamp:u,identity:g}=m,N=Pe.fromUint8Array(g).toText();let W;if(c==="replied"){const{reply:C}=a;W=hd({status:c,reply:C,timestamp:BigInt(u),request_id:b})}else if(c==="rejected"){const{reject_code:C,reject_message:B,error_code:R}=a;W=hd({status:c,reject_code:C,reject_message:B,error_code:R,timestamp:BigInt(u),request_id:b})}else throw new Error(`Unknown status: ${c}`);const v=Jr(y,Hn(new Uint8Array(W))),w=l==null?void 0:l.nodeKeys.get(N);if(!w)throw new dn("Invalid signature from replica signed query: no matching node key found.");const j=k2.fromDer(w).rawKey;if(qi.verify(m.signature,new Uint8Array(v),new Uint8Array(j)))return a;throw new dn(`Invalid signature from replica ${N} signed query.`)}return a}),this.config=t,At(this,zn,t.fetch||c8()||fetch.bind(global),"f"),At(this,fs,t.fetchOptions,"f"),At(this,ma,t.callOptions,"f"),At(this,ws,(r=t.shouldFetchRootKey)!==null&&r!==void 0?r:!1,"f"),t.rootKey?this.rootKey=t.rootKey:we(this,ws,"f")?this.rootKey=null:this.rootKey=Zn(t8);const i=d8(t.host);this.host=new URL(i),t.verifyQuerySignatures!==void 0&&At(this,ni,t.verifyQuerySignatures,"f"),At(this,qr,(n=t.retryTimes)!==null&&n!==void 0?n:3,"f");const o=()=>new su({maxIterations:we(this,qr,"f")});if(At(this,Do,t.backoffStrategy||o,"f"),this.host.hostname.endsWith(o8)?this.host.hostname=n8:this.host.hostname.endsWith(s8)?this.host.hostname=i8:this.host.hostname.endsWith(l8)&&(this.host.hostname=a8),t.credentials){const{name:a,password:l}=t.credentials;At(this,Vr,`${a}${l?":"+l:""}`,"f")}if(At(this,an,Promise.resolve(t.identity||new pd),"f"),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw new ut(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw new ut(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);At(this,ei,t.ingressExpiryInMinutes||5,"f"),this.addTransform("update",eg(_h)),t.useQueryNonces&&this.addTransform("query",eg(_h)),t.logToConsole&&this.log.subscribe(a=>{a.level==="error"?console.error(a.message):a.level==="warn"?console.warn(a.message):console.log(a.message)})}get waterMark(){return we(this,ga,"f")}static createSync(t={}){return new this(Object.assign({},t))}static async create(t={shouldFetchRootKey:!1}){const r=di.createSync(t),n=[r.syncTime()];return r.host.toString()!=="https://icp-api.io"&&t.shouldFetchRootKey&&n.push(r.fetchRootKey()),await Promise.all(n),r}static async from(t){var r;try{return"config"in t?await di.create(t.config):await di.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:(r=t._identity)!==null&&r!==void 0?r:void 0})}catch{throw new ut("Failed to create agent from provided agent")}}isLocal(){const t=this.host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,r,n=r.priority||0){if(t==="update"){const i=we(this,Zi,"f").findIndex(o=>(o.priority||0)<n);we(this,Zi,"f").splice(i>=0?i:we(this,Zi,"f").length,0,Object.assign(r,{priority:n}))}else if(t==="query"){const i=we(this,Ki,"f").findIndex(o=>(o.priority||0)<n);we(this,Ki,"f").splice(i>=0?i:we(this,Ki,"f").length,0,Object.assign(r,{priority:n}))}}async getPrincipal(){if(!we(this,an,"f"))throw new Ql("This identity has expired due this application's security policy. Please refresh your authentication.");return(await we(this,an,"f")).getPrincipal()}async call(t,r,n){var i,o;await we(this,It,"m",ri).call(this);const a=(i=r.callSync)!==null&&i!==void 0?i:!0,l=await(n!==void 0?await n:await we(this,an,"f"));if(!l)throw new Ql("This identity has expired due this application's security policy. Please refresh your authentication.");const c=Pe.from(t),d=r.effectiveCanisterId?Pe.from(r.effectiveCanisterId):c,b=l.getPrincipal()||Pe.anonymous();let y=new Kl(we(this,ei,"f")*Xl);Math.abs(we(this,Yi,"f"))>1e3*30&&(y=new Kl(we(this,ei,"f")*Xl+we(this,Yi,"f")));const m={request_type:Eh.Call,canister_id:c,method_name:r.methodName,arg:r.arg,sender:b,ingress_expiry:y};let u=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},we(this,Vr,"f")?{Authorization:"Basic "+btoa(we(this,Vr,"f"))}:{})},endpoint:"call",body:m}),g;r!=null&&r.nonce?g=N(r.nonce):u.body.nonce?g=N(u.body.nonce):g=void 0,m.nonce=g;function N(j){return new Uint8Array(j)}u=await l.transformRequest(u);const W=Zu(u.body),v=we(this,Do,"f").call(this),w=Ka(m);try{const j=()=>(this.log.print(`fetching "/api/v3/canister/${d.toText()}/call" with request:`,u),we(this,zn,"f").call(this,""+new URL(`/api/v3/canister/${d.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},we(this,ma,"f")),u.request),{body:W}))),F=()=>(this.log.print(`fetching "/api/v2/canister/${d.toText()}/call" with request:`,u),we(this,zn,"f").call(this,""+new URL(`/api/v2/canister/${d.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},we(this,ma,"f")),u.request),{body:W}))),B=await we(this,It,"m",Nc).call(this,{request:a?j:F,backoff:v,tries:0}),R=await B.arrayBuffer(),M=B.status===200&&R.byteLength>0?In(R):null;if(M&&"certificate"in M){const Z=await this.parseTimeFromResponse({certificate:M.certificate});At(this,ga,Z,"f")}return{requestId:w,response:{ok:B.ok,status:B.status,statusText:B.statusText,body:M,headers:da(B.headers)},requestDetails:m}}catch(j){if(j.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,Object.assign(Object.assign({},r),{callSync:!1}),n);const F=`Error while making call: ${(o=j.message)!==null&&o!==void 0?o:String(j)}`,C=new F6(F,j,ot(w),ot(u.body.sender_pubkey),ot(u.body.sender_sig),String(u.body.content.ingress_expiry._value));throw this.log.error(F,C),C}}async query(t,r,n){var i,o,a,l;await we(this,It,"m",ri).call(this);const c=we(this,Do,"f").call(this),d=r.effectiveCanisterId?Pe.from(r.effectiveCanisterId):Pe.from(t);this.log.print(`ecid ${d.toString()}`),this.log.print(`canisterId ${t.toString()}`);let b,y;const m=await(n!==void 0?n:we(this,an,"f"));if(!m)throw new Ql("This identity has expired due this application's security policy. Please refresh your authentication.");const u=Pe.from(t),g=(m==null?void 0:m.getPrincipal())||Pe.anonymous(),N={request_type:"query",canister_id:u,method_name:r.methodName,arg:r.arg,sender:g,ingress_expiry:new Kl(we(this,ei,"f")*Xl)},W=Ka(N);b=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},we(this,Vr,"f")?{Authorization:"Basic "+btoa(we(this,Vr,"f"))}:{})},endpoint:"read",body:N}),b=await(m==null?void 0:m.transformRequest(b));const v=Zu(b.body),w={canister:u.toText(),ecid:d,transformedRequest:b,body:v,requestId:W,backoff:c,tries:0},j=async()=>({requestDetails:N,query:await we(this,It,"m",A2).call(this,w)}),F=async()=>{if(!we(this,ni,"f"))return;const C=we(this,ti,"f").get(d.toString());return C||(await this.fetchSubnetKeys(d.toString()),we(this,ti,"f").get(d.toString()))};try{const[C,B]=await Promise.all([j(),F()]);y=C;const{requestDetails:R,query:M}=y,Z=Object.assign(Object.assign({},M),{requestDetails:R});if(this.log.print("Query response:",Z),!we(this,ni,"f"))return Z;try{return we(this,Ac,"f").call(this,Z,B)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),we(this,ti,"f").delete(t.toString()),await this.fetchSubnetKeys(d.toString());const q=we(this,ti,"f").get(t.toString());if(!q)throw new dn("Invalid signature from replica signed query: no matching node key found.");return we(this,Ac,"f").call(this,Z,q)}}catch(C){const B=`Error while making call: ${(i=C.message)!==null&&i!==void 0?i:String(C)}`,R=new z6(B,C,String(W),ot((o=b==null?void 0:b.body)===null||o===void 0?void 0:o.sender_pubkey),ot((a=b==null?void 0:b.body)===null||a===void 0?void 0:a.sender_sig),String((l=b==null?void 0:b.body)===null||l===void 0?void 0:l.content.ingress_expiry._value));throw this.log.error(B,R),R}}async createReadStateRequest(t,r){await we(this,It,"m",ri).call(this);const n=await(r!==void 0?await r:await we(this,an,"f"));if(!n)throw new Ql("This identity has expired due this application's security policy. Please refresh your authentication.");const i=(n==null?void 0:n.getPrincipal())||Pe.anonymous(),o=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},we(this,Vr,"f")?{Authorization:"Basic "+btoa(we(this,Vr,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:i,ingress_expiry:new Kl(we(this,ei,"f")*Xl)}});return n==null?void 0:n.transformRequest(o)}async readState(t,r,n,i){var o,a,l,c;function d(N){for(const W of N.paths){const[v,w]=W,j=Hn(new TextEncoder().encode("request_status"));if(pl(v,j))return w}}const b=d(r);await we(this,It,"m",ri).call(this);const y=typeof t=="string"?Pe.fromText(t):t,m=i??await this.createReadStateRequest(r,n),u=Zu(m.body);this.log.print(`fetching "/api/v2/canister/${y}/read_state" with request:`,m);const g=we(this,Do,"f").call(this);try{const N=await we(this,It,"m",Nc).call(this,{request:()=>we(this,zn,"f").call(this,""+new URL(`/api/v2/canister/${y.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},we(this,fs,"f")),m.request),{body:u})),backoff:g,tries:0});if(!N.ok)throw new Error(`Server returned an error:
  Code: ${N.status} (${N.statusText})
  Body: ${await N.text()}
`);const W=In(await N.arrayBuffer());this.log.print("Read state response:",W);const v=await this.parseTimeFromResponse(W);return v>0&&(this.log.print("Read state response time:",v),At(this,ga,v,"f")),W}catch(N){const W=`Caught exception while attempting to read state: ${(o=N.message)!==null&&o!==void 0?o:String(N)}`,v=new P6(W,N,String(b),ot((a=m==null?void 0:m.body)===null||a===void 0?void 0:a.sender_pubkey),ot((l=m==null?void 0:m.body)===null||l===void 0?void 0:l.sender_sig),String((c=m==null?void 0:m.body)===null||c===void 0?void 0:c.content.ingress_expiry._value));throw this.log.error(W,v),v}}async parseTimeFromResponse(t){let r;if(t.certificate){const n=In(t.certificate);if(n&&"tree"in n)r=n.tree;else throw new Error("Could not decode time from response");const i=Fs(["time"],r);if(i.status!==wt.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(i.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(i))throw new Error("Time was not found in the response or was not in its expected format.");const o=sp(Hn(i.value));return this.log.print("Time from response:",o),this.log.print("Time from response in milliseconds:",Number(o)),Number(o)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){await we(this,It,"m",ri).call(this);const r=await $0(()=>Promise.resolve().then(()=>Pj),void 0,import.meta.url),n=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const i=di.createSync({identity:new pd,host:this.host.toString(),fetch:we(this,zn,"f"),retryTimes:0}),a=(await r.request({canisterId:t??Pe.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:i,paths:["time"]})).get("time");a&&(At(this,Yi,Number(a)-Number(n),"f"),this.log.notify({message:`Syncing time: offset of ${we(this,Yi,"f")}`,level:"info"}))}catch(i){this.log.error("Caught exception while attempting to sync time",i)}}async status(){const t=we(this,Vr,"f")?{Authorization:"Basic "+btoa(we(this,Vr,"f"))}:{};this.log.print('fetching "/api/v2/status"');const r=we(this,Do,"f").call(this),n=await we(this,It,"m",Nc).call(this,{backoff:r,request:()=>we(this,zn,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:t},we(this,fs,"f"))),tries:0});return In(await n.arrayBuffer())}async fetchRootKey(){let t;return we(this,Lo,"f")?t=await we(this,Lo,"f"):(At(this,Lo,new Promise((r,n)=>{this.status().then(i=>{const o=i.root_key;this.rootKey=o,r(o)}).catch(n)}),"f"),t=await we(this,Lo,"f")),At(this,Lo,null,"f"),t}invalidateIdentity(){At(this,an,null,"f")}replaceIdentity(t){At(this,an,Promise.resolve(t),"f")}async fetchSubnetKeys(t){await we(this,It,"m",ri).call(this);const r=Pe.from(t),i=(await g2({canisterId:r,paths:["subnet"],agent:this})).get("subnet");if(i&&typeof i=="object"&&"nodeKeys"in i)return we(this,ti,"f").set(r.toText(),i),i}_transform(t){let r=Promise.resolve(t);if(t.endpoint==="call")for(const n of we(this,Zi,"f"))r=r.then(i=>n(i).then(o=>o||i));else for(const n of we(this,Ki,"f"))r=r.then(i=>n(i).then(o=>o||i));return r}}Lo=new WeakMap,ws=new WeakMap,an=new WeakMap,zn=new WeakMap,fs=new WeakMap,ma=new WeakMap,Yi=new WeakMap,Vr=new WeakMap,qr=new WeakMap,Do=new WeakMap,ei=new WeakMap,ga=new WeakMap,Ki=new WeakMap,Zi=new WeakMap,ti=new WeakMap,ni=new WeakMap,Ac=new WeakMap,It=new WeakSet,A2=async function e(t){var r,n;const{ecid:i,transformedRequest:o,body:a,requestId:l,backoff:c,tries:d}=t,b=d===0?0:c.next();if(this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:d,backoff:c,delay:b}),b===null)throw new ut(`Timestamp failed to pass the watermark after retrying the configured ${we(this,qr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);b>0&&await new Promise(g=>setTimeout(g,b));let y;try{this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,o);const g=await we(this,zn,"f").call(this,""+new URL(`/api/v2/canister/${i.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},we(this,fs,"f")),o.request),{body:a}));if(g.status===200){const N=In(await g.arrayBuffer());y=Object.assign(Object.assign({},N),{httpDetails:{ok:g.ok,status:g.status,statusText:g.statusText,headers:da(g.headers)},requestId:l})}else throw new Xu(`Gateway returned an error:
  Code: ${g.status} (${g.statusText})
  Body: ${await g.text()}
`,{ok:g.ok,status:g.status,statusText:g.statusText,headers:da(g.headers)})}catch(g){if(d<we(this,qr,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${g}
  Retrying query.`),await we(this,It,"m",e).call(this,Object.assign(Object.assign({},t),{tries:d+1}));throw g}const m=(n=(r=y.signatures)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.timestamp;if(!we(this,ni,"f"))return y;if(!m)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const u=Number(BigInt(m)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:u}),Number(this.waterMark)>u){const g=new ut("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",g,{timestamp:m,waterMark:this.waterMark}),d<we(this,qr,"f"))return await we(this,It,"m",e).call(this,Object.assign(Object.assign({},t),{tries:d+1}));throw new ut(`Timestamp failed to pass the watermark after retrying the configured ${we(this,qr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return y},Nc=async function e(t){const{request:r,backoff:n,tries:i}=t,o=i===0?0:n.next();if(o===null)throw new ut(`Timestamp failed to pass the watermark after retrying the configured ${we(this,qr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);o>0&&await new Promise(d=>setTimeout(d,o));let a;try{a=await r()}catch(d){if(we(this,qr,"f")>i)return this.log.warn(`Caught exception while attempting to make request:
  ${d}
  Retrying request.`),await we(this,It,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw d}if(a.ok)return a;const l=await a.clone().text(),c=`Server returned an error:
  Code: ${a.status} (${a.statusText})
  Body: ${l}
`;if(a.status===404&&a.url.includes("api/v3"))throw new Xu("v3 api not supported. Fall back to v2",{ok:a.ok,status:a.status,statusText:a.statusText,headers:da(a.headers)});if(i<we(this,qr,"f"))return await we(this,It,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw new Xu(c,{ok:a.ok,status:a.status,statusText:a.statusText,headers:da(a.headers)})},ri=async function(){if(!this.rootKey)if(this.rootKey===null&&we(this,ws,"f"))await this.fetchRootKey();else throw new ut(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${we(this,ws,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var jg;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(jg||(jg={}));function Tg(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const u8=5*60*1e3;function B2(){return g8(h8(f8(),1e3),m8(1e3,1.2),p8(u8))}function f8(){let e=!0;return async()=>e?(e=!1,!0):!1}function h8(e,t){return async(r,n,i)=>{if(await e(r,n,i))return new Promise(o=>setTimeout(o,t))}}function p8(e){const t=Date.now()+e;return async(r,n,i)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${ot(n)}
  Request status: ${i}
`)}}function m8(e,t){let r=e;return()=>new Promise(n=>setTimeout(()=>{r*=t,n()},r))}function g8(...e){return async(t,r,n)=>{for(const i of e)await i(t,r,n)}}async function R2(e,t,r,n=B2(),i,o){var a;const l=[new TextEncoder().encode("request_status"),r],c=i??await((a=e.createReadStateRequest)===null||a===void 0?void 0:a.call(e,{paths:[l]})),d=await e.readState(t,{paths:[l]},void 0,c);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const b=await mi.create({certificate:d.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:o}),y=Er(b.lookup([...l,new TextEncoder().encode("status")]));let m;switch(typeof y>"u"?m=Pn.Unknown:m=new TextDecoder().decode(y),m){case Pn.Replied:return{reply:Er(b.lookup([...l,"reply"])),certificate:b};case Pn.Received:case Pn.Unknown:case Pn.Processing:return await n(t,r,m),R2(e,t,r,n,c,o);case Pn.Rejected:{const u=new Uint8Array(Er(b.lookup([...l,"reject_code"])))[0],g=new TextDecoder().decode(Er(b.lookup([...l,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${ot(r)}
  Reject code: ${u}
  Reject text: ${g}
`)}case Pn.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${ot(r)}
`)}throw new Error("unreachable")}const y8=({IDL:e})=>{const t=e.Variant({mainnet:e.Null,testnet:e.Null}),r=e.Text,n=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),i=e.Nat64,o=i,a=e.Nat32,l=e.Record({start_height:a,end_height:e.Opt(a),network:t}),c=e.Vec(e.Nat8),d=e.Record({tip_height:a,block_headers:e.Vec(c)}),b=e.Record({network:t}),y=e.Nat64,m=e.Vec(y),u=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),g=e.Vec(e.Nat8),N=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),W=e.Record({height:e.Nat32,value:i,outpoint:N}),v=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:a,tip_block_hash:g,utxos:e.Vec(W)}),w=e.Record({transaction:e.Vec(e.Nat8),network:t}),j=e.Principal,F=e.Record({canister_id:j,num_requested_changes:e.Opt(e.Nat64)}),C=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),B=e.Vec(e.Nat8),R=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:B}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),M=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:C,details:R}),Z=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(M),total_num_changes:e.Nat64}),$=e.Record({canister_id:j}),q=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),X=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:q,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),A=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:X,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),O=e.Record({canister_id:j}),V=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(q),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),Y=e.Record({settings:e.Opt(V),sender_canister_version:e.Opt(e.Nat64)}),re=e.Record({canister_id:j}),Q=e.Record({canister_id:j}),ee=e.Record({canister_id:j,snapshot_id:B}),de=e.Record({canister_id:j}),ue=e.Variant({secp256k1:e.Null}),ae=e.Record({key_id:e.Record({name:e.Text,curve:ue}),canister_id:e.Opt(j),derivation_path:e.Vec(e.Vec(e.Nat8))}),he=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),z=e.Record({canister_id:j}),Te=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),be=e.Record({canister_log_records:e.Vec(Te)}),xe=e.Record({value:e.Text,name:e.Text}),me=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(xe)}),ge=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:me})],[me],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(xe)}),U=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),H=e.Record({hash:e.Vec(e.Nat8)}),J=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:U,chunk_hashes_list:e.Vec(H),target_canister:j,store_canister:e.Opt(j),sender_canister_version:e.Opt(e.Nat64)}),D=e.Vec(e.Nat8),K=e.Record({arg:e.Vec(e.Nat8),wasm_module:D,mode:U,canister_id:j,sender_canister_version:e.Opt(e.Nat64)}),L=e.Record({canister_id:j}),k=e.Record({id:B,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),h=e.Vec(k),f=e.Record({canister_id:j,sender_canister_version:e.Opt(e.Nat64),snapshot_id:B}),E=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),P=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),_=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(P)})),oe=e.Record({settings:e.Opt(V),specified_id:e.Opt(j),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),pe=e.Record({canister_id:j}),ke=e.Record({canister_id:j,amount:e.Nat}),ve=e.Vec(e.Nat8),se=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),S=e.Record({key_id:e.Record({algorithm:se,name:e.Text}),canister_id:e.Opt(j),derivation_path:e.Vec(e.Vec(e.Nat8))}),p=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),x=e.Record({key_id:e.Record({name:e.Text,curve:ue}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),G=e.Record({signature:e.Vec(e.Nat8)}),te=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),le=e.Record({aux:e.Opt(te),key_id:e.Record({algorithm:se,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),ce=e.Record({signature:e.Vec(e.Nat8)}),_e=e.Record({canister_id:j}),ze=e.Record({canister_id:j}),Re=e.Record({canister_id:j}),Ne=e.Vec(H),$e=e.Record({subnet_id:e.Principal}),Ge=e.Record({replica_version:e.Text}),wn=e.Record({replace_snapshot:e.Opt(B),canister_id:j}),zr=k,vn=e.Record({canister_id:j,sender_canister_version:e.Opt(e.Nat64)}),Sn=e.Record({canister_id:e.Principal,settings:V,sender_canister_version:e.Opt(e.Nat64)}),kn=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),Nt=H;return e.Service({bitcoin_get_balance:e.Func([n],[o],[]),bitcoin_get_block_headers:e.Func([l],[d],[]),bitcoin_get_current_fee_percentiles:e.Func([b],[m],[]),bitcoin_get_utxos:e.Func([u],[v],[]),bitcoin_send_transaction:e.Func([w],[],[]),canister_info:e.Func([F],[Z],[]),canister_status:e.Func([$],[A],[]),clear_chunk_store:e.Func([O],[],[]),create_canister:e.Func([Y],[re],[]),delete_canister:e.Func([Q],[],[]),delete_canister_snapshot:e.Func([ee],[],[]),deposit_cycles:e.Func([de],[],[]),ecdsa_public_key:e.Func([ae],[he],[]),fetch_canister_logs:e.Func([z],[be],["query"]),http_request:e.Func([ge],[me],[]),install_chunked_code:e.Func([J],[],[]),install_code:e.Func([K],[],[]),list_canister_snapshots:e.Func([L],[h],[]),load_canister_snapshot:e.Func([f],[],[]),node_metrics_history:e.Func([E],[_],[]),provisional_create_canister_with_cycles:e.Func([oe],[pe],[]),provisional_top_up_canister:e.Func([ke],[],[]),raw_rand:e.Func([],[ve],[]),schnorr_public_key:e.Func([S],[p],[]),sign_with_ecdsa:e.Func([x],[G],[]),sign_with_schnorr:e.Func([le],[ce],[]),start_canister:e.Func([_e],[],[]),stop_canister:e.Func([ze],[],[]),stored_chunks:e.Func([Re],[Ne],[]),subnet_info:e.Func([$e],[Ge],[]),take_canister_snapshot:e.Func([wn],[zr],[]),uninstall_code:e.Func([vn],[],[]),update_settings:e.Func([Sn],[],[]),upload_chunk:e.Func([kn],[Nt],[])})};class F2 extends ut{constructor(t,r,n,i){super(["Call failed:",`  Canister: ${t.toText()}`,`  Method: ${r} (${n})`,...Object.getOwnPropertyNames(i).map(o=>`  "${o}": ${JSON.stringify(i[o])}`)].join(`
`)),this.canisterId=t,this.methodName=r,this.type=n,this.props=i}}class x8 extends F2{constructor(t,r,n){var i;super(t,r,"query",{Status:n.status,Code:(i=gh[n.reject_code])!==null&&i!==void 0?i:`Unknown Code "${n.reject_code}"`,Message:n.reject_message}),this.result=n}}class Eg extends F2{constructor(t,r,n,i,o,a,l){super(t,r,"update",Object.assign({"Request ID":ot(n)},i.body?Object.assign(Object.assign({},l?{"Error code":l}:{}),{"Reject code":String(o),"Reject message":a}):{"HTTP status code":i.status.toString(),"HTTP status text":i.statusText})),this.requestId=n,this.response=i,this.reject_code=o,this.reject_message=a,this.error_code=l}}const kr=Symbol.for("ic-agent-metadata");class au{constructor(t){this[kr]=Object.freeze(t)}static agentOf(t){return t[kr].config.agent}static interfaceOf(t){return t[kr].service}static canisterIdOf(t){return Pe.from(t[kr].config.canisterId)}static async install(t,r){const n=t.mode===void 0?{install:null}:t.mode,i=t.arg?[...new Uint8Array(t.arg)]:[],o=[...new Uint8Array(t.module)],a=typeof r.canisterId=="string"?Pe.fromText(r.canisterId):r.canisterId;await _g(r).install_code({mode:n,arg:i,wasm_module:o,canister_id:a,sender_canister_version:[]})}static async createCanister(t,r){function n(o){return[{controllers:o.controllers?[o.controllers]:[],compute_allocation:o.compute_allocation?[o.compute_allocation]:[],freezing_threshold:o.freezing_threshold?[o.freezing_threshold]:[],memory_allocation:o.memory_allocation?[o.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:i}=await _g(t||{}).provisional_create_canister_with_cycles({amount:[],settings:n(r||{}),specified_id:[],sender_canister_version:[]});return i}static async createAndInstallCanister(t,r,n){const i=await this.createCanister(n);return await this.install(Object.assign({},r),Object.assign(Object.assign({},n),{canisterId:i})),this.createActor(t,Object.assign(Object.assign({},n),{canisterId:i}))}static createActorClass(t,r){const n=t({IDL:A4});class i extends au{constructor(a){if(!a.canisterId)throw new ut(`Canister ID is required, but received ${typeof a.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const l=typeof a.canisterId=="string"?Pe.fromText(a.canisterId):a.canisterId;super({config:Object.assign(Object.assign(Object.assign({},z2),a),{canisterId:l}),service:n});for(const[c,d]of n._fields)r!=null&&r.httpDetails&&d.annotations.push(Fh),r!=null&&r.certificate&&d.annotations.push(P2),this[c]=b8(this,c,d,a.blsVerify)}}return i}static createActor(t,r){if(!r.canisterId)throw new ut(`Canister ID is required, but received ${typeof r.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(r)}static createActorWithHttpDetails(t,r){return new(this.createActorClass(t,{httpDetails:!0}))(r)}static createActorWithExtendedDetails(t,r,n={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,n))(r)}}function Hi(e,t){const r=Qx(e,Nx.Buffer.from(t));switch(r.length){case 0:return;case 1:return r[0];default:return r}}const z2={pollingStrategyFactory:B2},Fh="http-details",P2="certificate";function b8(e,t,r,n){let i;r.annotations.includes("query")||r.annotations.includes("composite_query")?i=async(a,...l)=>{var c,d;a=Object.assign(Object.assign({},a),(d=(c=e[kr].config).queryTransform)===null||d===void 0?void 0:d.call(c,t,l,Object.assign(Object.assign({},e[kr].config),a)));const b=a.agent||e[kr].config.agent||Tg(),y=Pe.from(a.canisterId||e[kr].config.canisterId),m=xh(r.argTypes,l),u=await b.query(y,{methodName:t,arg:m,effectiveCanisterId:a.effectiveCanisterId}),g=Object.assign(Object.assign({},u.httpDetails),{requestDetails:u.requestDetails});switch(u.status){case"rejected":throw new x8(y,t,u);case"replied":return r.annotations.includes(Fh)?{httpDetails:g,result:Hi(r.retTypes,u.reply.arg)}:Hi(r.retTypes,u.reply.arg)}}:i=async(a,...l)=>{var c,d;a=Object.assign(Object.assign({},a),(d=(c=e[kr].config).callTransform)===null||d===void 0?void 0:d.call(c,t,l,Object.assign(Object.assign({},e[kr].config),a)));const b=a.agent||e[kr].config.agent||Tg(),{canisterId:y,effectiveCanisterId:m,pollingStrategyFactory:u}=Object.assign(Object.assign(Object.assign({},z2),e[kr].config),a),g=Pe.from(y),N=m!==void 0?Pe.from(m):g,W=xh(r.argTypes,l),{requestId:v,response:w,requestDetails:j}=await b.call(g,{methodName:t,arg:W,effectiveCanisterId:N});let F,C;if(w.body&&w.body.certificate){if(b.rootKey==null)throw new Error("Agent is missing root key");const Z=w.body.certificate;C=await mi.create({certificate:ki(Z),rootKey:b.rootKey,canisterId:Pe.from(y),blsVerify:n});const $=[new TextEncoder().encode("request_status"),v];switch(new TextDecoder().decode(Er(C.lookup([...$,"status"])))){case"replied":F=Er(C.lookup([...$,"reply"]));break;case"rejected":{const X=new Uint8Array(Er(C.lookup([...$,"reject_code"])))[0],A=new TextDecoder().decode(Er(C.lookup([...$,"reject_message"]))),O=Er(C.lookup([...$,"error_code"])),V=O?new TextDecoder().decode(O):void 0;throw new Eg(g,t,v,w,X,A,V)}}}else if(w.body&&"reject_message"in w.body){const{reject_code:Z,reject_message:$,error_code:q}=w.body;throw new Eg(g,t,v,w,Z,$,q)}if(w.status===202){const Z=u(),$=await R2(b,N,v,Z,n);C=$.certificate,F=$.reply}const B=r.annotations.includes(Fh),R=r.annotations.includes(P2),M=Object.assign(Object.assign({},w),{requestDetails:j});if(F!==void 0)return B&&R?{httpDetails:M,certificate:C,result:Hi(r.retTypes,F)}:R?{certificate:C,result:Hi(r.retTypes,F)}:B?{httpDetails:M,result:Hi(r.retTypes,F)}:Hi(r.retTypes,F);if(r.retTypes.length===0)return B?{httpDetails:w,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};const o=(...a)=>i({},...a);return o.withOptions=a=>(...l)=>i(a,...l),o}function _g(e){function t(r,n){if(e.effectiveCanisterId)return{effectiveCanisterId:Pe.from(e.effectiveCanisterId)};const i=n[0];let o=Pe.fromHex("");return i&&typeof i=="object"&&i.target_canister&&r==="install_chunked_code"&&(o=Pe.from(i.target_canister)),i&&typeof i=="object"&&i.canister_id&&(o=Pe.from(i.canister_id)),{effectiveCanisterId:o}}return au.createActor(y8,Object.assign(Object.assign(Object.assign({},e),{canisterId:Pe.fromHex("")}),{callTransform:t,queryTransform:t}))}var vd=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},vo=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Bc,Rc,Xi,Qi;function Cg(e){return e!==null&&typeof e=="object"}class Gn{constructor(t){if(Bc.set(this,void 0),Rc.set(this,void 0),t.byteLength!==Gn.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");vd(this,Bc,Hn(t),"f"),vd(this,Rc,Gn.derEncode(t),"f")}static from(t){if(typeof t=="string"){const r=Zn(t);return this.fromRaw(r)}else if(Cg(t)){const r=t;if(Cg(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){const n=r;return this.fromRaw(Hn(n.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new Gn(t)}static fromDer(t){return new Gn(this.derDecode(t))}static derEncode(t){const r=v2(t,wd).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(t){const r=S2(t,wd);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return Hn(r)}get rawKey(){return vo(this,Bc,"f")}get derKey(){return vo(this,Rc,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}Bc=new WeakMap,Rc=new WeakMap;Gn.RAW_KEY_LENGTH=32;class Co extends ep{constructor(t,r){super(),Xi.set(this,void 0),Qi.set(this,void 0),vd(this,Xi,Gn.from(t),"f"),vd(this,Qi,new Uint8Array(r),"f")}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=qi.utils.randomPrivateKey()),pl(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const r=new Uint8Array(32);for(let i=0;i<32;i++)r[i]=new Uint8Array(t)[i];const n=qi.getPublicKey(r);return Co.fromKeyPair(n,r)}static fromParsedJson(t){const[r,n]=t;return new Co(Gn.fromDer(Zn(r)),Zn(n))}static fromJSON(t){const r=JSON.parse(t);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,r){return new Co(Gn.fromRaw(t),r)}static fromSecretKey(t){const r=qi.getPublicKey(new Uint8Array(t));return Co.fromKeyPair(r,t)}toJSON(){return[ot(vo(this,Xi,"f").toDer()),ot(vo(this,Qi,"f"))]}getKeyPair(){return{secretKey:vo(this,Qi,"f"),publicKey:vo(this,Xi,"f")}}getPublicKey(){return vo(this,Xi,"f")}async sign(t){const r=new Uint8Array(t),n=Ea(qi.sign(r,vo(this,Qi,"f").slice(0,32)));return Object.defineProperty(n,"__signature__",{enumerable:!1,value:void 0}),n}static verify(t,r,n){const[i,o,a]=[t,r,n].map(l=>(typeof l=="string"&&(l=Zn(l)),l instanceof Uint8Array&&(l=Hn(l.buffer)),new Uint8Array(l)));return qi.verify(i,o,a)}}Xi=new WeakMap,Qi=new WeakMap;class ap extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,ap.prototype)}}function Ng(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new ap("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class Sd extends ep{constructor(t,r,n){super(),this._keyPair=t,this._derKey=r,this._subtleCrypto=n}static async generate(t){const{extractable:r=!1,keyUsages:n=["sign","verify"],subtleCrypto:i}=t??{},o=Ng(i),a=await o.generateKey({name:"ECDSA",namedCurve:"P-256"},r,n),l=await o.exportKey("spki",a.publicKey);return new this(a,l,o)}static async fromKeyPair(t,r){const n=Ng(r),i=await n.exportKey("spki",t.publicKey);return new Sd(t,i,n)}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return t},r}async sign(t){const r={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(r,this._keyPair.privateKey,t)}}var w8=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Ii=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Rn;class v8{constructor(t){Rn.set(this,void 0),w8(this,Rn,t,"f")}get rawKey(){return Ii(this,Rn,"f").rawKey}get derKey(){return Ii(this,Rn,"f").derKey}toDer(){return Ii(this,Rn,"f").toDer()}getPublicKey(){return Ii(this,Rn,"f")}getPrincipal(){if(!Ii(this,Rn,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return Pe.fromUint8Array(new Uint8Array(Ii(this,Rn,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}Rn=new WeakMap;var S8=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},k8=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},j8=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Fc;const T8=new TextEncoder().encode("ic-request-auth-delegation"),E8=new TextEncoder().encode(`
ic-request`);function df(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return Zn(e)}class lp{constructor(t,r,n){this.pubkey=t,this.expiration=r,this.targets=n}toCBOR(){return ar.value.map(Object.assign({pubkey:ar.value.bytes(this.pubkey),expiration:ar.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:ar.value.array(this.targets.map(t=>ar.value.bytes(ki(t.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:ot(this.pubkey)},this.targets&&{targets:this.targets.map(t=>t.toHex())})}}async function _8(e,t,r,n){const i=new lp(t.toDer(),BigInt(+r)*BigInt(1e6),n),o=new Uint8Array([...T8,...new Uint8Array(Ka(Object.assign({},i)))]),a=await e.sign(ki(o));return{delegation:i,signature:a}}class kd{constructor(t,r){this.delegations=t,this.publicKey=r}static async create(t,r,n=new Date(Date.now()+15*60*1e3),i={}){var o,a;const l=await _8(t,r,n,i.targets);return new kd([...((o=i.previous)===null||o===void 0?void 0:o.delegations)||[],l],((a=i.previous)===null||a===void 0?void 0:a.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:r,delegations:n}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(n))throw new Error("Invalid delegations.");const i=n.map(o=>{const{delegation:a,signature:l}=o,{pubkey:c,expiration:d,targets:b}=a;if(b!==void 0&&!Array.isArray(b))throw new Error("Invalid targets.");return{delegation:new lp(df(c),BigInt("0x"+d),b&&b.map(y=>{if(typeof y!="string")throw new Error("Invalid target.");return Pe.fromHex(y)})),signature:df(l)}});return new this(i,df(r))}static fromDelegations(t,r){return new this(t,r)}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:r,signature:n}=t,{targets:i}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:ot(r.pubkey)},i&&{targets:i.map(o=>o.toHex())}),signature:ot(n)}}),publicKey:ot(this.publicKey)}}}class Ag extends ep{constructor(t,r){super(),this._inner=t,this._delegation=r}static fromDelegation(t,r){return new this(t,r)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:r}=t,n=j8(t,["body"]),i=await Ka(r);return Object.assign(Object.assign({},n),{body:{content:r,sender_sig:await this.sign(ki(new Uint8Array([...E8,...new Uint8Array(i)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class jd extends v8{constructor(t,r){super(t),Fc.set(this,void 0),S8(this,Fc,r,"f")}get delegation(){return k8(this,Fc,"f")}static fromDelegation(t,r){return new jd(t,r)}}Fc=new WeakMap;function C8(e,t){for(const{delegation:i}of e.delegations)if(+new Date(Number(i.expiration/BigInt(1e6)))<=+Date.now())return!1;const r=[],n=t==null?void 0:t.scope;n&&(Array.isArray(n)?r.push(...n.map(i=>typeof i=="string"?Pe.fromText(i):i)):r.push(typeof n=="string"?Pe.fromText(n):n));for(const i of r){const o=i.toText();for(const{delegation:a}of e.delegations){if(a.targets===void 0)continue;let l=!0;for(const c of a.targets)if(c.toText()===o){l=!1;break}if(l)return!1}}return!0}var Bg;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(Bg||(Bg={}));const Rg=["mousedown","mousemove","keydown","touchstart","wheel"];class Fg{constructor(t={}){var r;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:n,idleTimeout:i=10*60*1e3}=t||{};this.callbacks=n?[n]:[],this.idleTimeout=i;const o=this._resetTimer.bind(this);window.addEventListener("load",o,!0),Rg.forEach(function(l){document.addEventListener(l,o,!0)});const a=(l,c)=>{let d;return(...b)=>{const y=this,m=function(){d=void 0,l.apply(y,b)};clearTimeout(d),d=window.setTimeout(m,c)}};if(t!=null&&t.captureScroll){const l=a(o,(r=t==null?void 0:t.scrollDebounce)!==null&&r!==void 0?r:100);window.addEventListener("scroll",l,!0)}o()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);Rg.forEach(function(r){document.removeEventListener(r,t,!0)}),this.callbacks.forEach(r=>r())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const N8=(e,t)=>t.some(r=>e instanceof r);let zg,Pg;function A8(){return zg||(zg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B8(){return Pg||(Pg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M2=new WeakMap,zh=new WeakMap,O2=new WeakMap,uf=new WeakMap,cp=new WeakMap;function R8(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{r($o(e.result)),i()},a=()=>{n(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&M2.set(r,e)}).catch(()=>{}),cp.set(t,e),t}function F8(e){if(zh.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{r(),i()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});zh.set(e,t)}let Ph={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return zh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||O2.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return $o(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function z8(e){Ph=e(Ph)}function P8(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(ff(this),t,...r);return O2.set(n,t.sort?t.sort():[t]),$o(n)}:B8().includes(e)?function(...t){return e.apply(ff(this),t),$o(M2.get(this))}:function(...t){return $o(e.apply(ff(this),t))}}function M8(e){return typeof e=="function"?P8(e):(e instanceof IDBTransaction&&F8(e),N8(e,A8())?new Proxy(e,Ph):e)}function $o(e){if(e instanceof IDBRequest)return R8(e);if(uf.has(e))return uf.get(e);const t=M8(e);return t!==e&&(uf.set(e,t),cp.set(t,e)),t}const ff=e=>cp.get(e);function O8(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),l=$o(a);return n&&a.addEventListener("upgradeneeded",c=>{n($o(a.result),c.oldVersion,c.newVersion,$o(a.transaction),c)}),r&&a.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const $8=["get","getKey","getAll","getAllKeys","count"],U8=["put","add","delete","clear"],hf=new Map;function Mg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hf.get(t))return hf.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=U8.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||$8.includes(r)))return;const o=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return hf.set(t,o),o}z8(e=>({...e,get:(t,r,n)=>Mg(t,r)||e.get(t,r,n),has:(t,r)=>!!Mg(t,r)||e.has(t,r)}));const $2="auth-client-db",U2="ic-keyval",W8=async(e=$2,t=U2,r)=>(W2&&(localStorage!=null&&localStorage.getItem(To))&&(localStorage.removeItem(To),localStorage.removeItem(So)),await O8(e,r,{upgrade:n=>{n.objectStoreNames.contains(t)&&n.clear(t),n.createObjectStore(t)}}));async function V8(e,t,r){return await e.get(t,r)}async function H8(e,t,r,n){return await e.put(t,n,r)}async function I8(e,t,r){return await e.delete(t,r)}class dp{constructor(t,r){this._db=t,this._storeName=r}static async create(t){const{dbName:r=$2,storeName:n=U2,version:i=K8}=t??{},o=await W8(r,n,i);return new dp(o,n)}async set(t,r){return await H8(this._db,this._storeName,t,r)}async get(t){var r;return(r=await V8(this._db,this._storeName,t))!==null&&r!==void 0?r:null}async remove(t){return await I8(this._db,this._storeName,t)}}var q8=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},G8=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},zc;const So="identity",To="delegation",Y8="iv",K8=1,W2=typeof window<"u";class Z8{constructor(t="ic-",r){this.prefix=t,this._localStorage=r}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,r){return this._getLocalStorage().setItem(this.prefix+t,r),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}class X8{constructor(t){zc.set(this,void 0),q8(this,zc,t??{},"f")}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}dp.create(G8(this,zc,"f")).then(r=>{this.initializedDb=r,t(r)})})}async get(t){return await(await this._db).get(t)}async set(t,r){await(await this._db).set(t,r)}async remove(t){await(await this._db).remove(t)}}zc=new WeakMap;const Q8="https://identity.internetcomputer.org",J8="#authorize",pf="ECDSA",mf="Ed25519",L8=500,D8="UserInterrupt";class Og{constructor(t,r,n,i,o,a,l,c){this._identity=t,this._key=r,this._chain=n,this._storage=i,this.idleManager=o,this._createOptions=a,this._idpWindow=l,this._eventHandler=c,this._registerDefaultIdleCallback()}static async create(t={}){var r,n,i;const o=(r=t.storage)!==null&&r!==void 0?r:new X8,a=(n=t.keyType)!==null&&n!==void 0?n:pf;let l=null;if(t.identity)l=t.identity;else{let y=await o.get(So);if(!y&&W2)try{const m=new Z8,u=await m.get(To),g=await m.get(So);u&&g&&a===pf&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await o.set(To,u),await o.set(So,g),y=u,await m.remove(To),await m.remove(So))}catch(m){console.error("error while attempting to recover localstorage: "+m)}if(y)try{typeof y=="object"?a===mf&&typeof y=="string"?l=await Co.fromJSON(y):l=await Sd.fromKeyPair(y):typeof y=="string"&&(l=Co.fromJSON(y))}catch{}}let c=new pd,d=null;if(l)try{const y=await o.get(To);if(typeof y=="object"&&y!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?c=t.identity:y&&(d=kd.fromJSON(y),C8(d)?"toDer"in l?c=jd.fromDelegation(l,d):c=Ag.fromDelegation(l,d):(await gf(o),l=null))}catch(y){console.error(y),await gf(o),l=null}let b;return!((i=t.idleOptions)===null||i===void 0)&&i.disableIdle?b=void 0:(d||t.identity)&&(b=Fg.create(t.idleOptions)),l||(a===mf?(l=await Co.generate(),await o.set(So,JSON.stringify(l.toJSON()))):(t.storage&&a===pf&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${mf}' as the key type, as it can serialize to a string`),l=await Sd.generate(),await o.set(So,l.getKeyPair()))),new this(c,l,d,o,b,t)}_registerDefaultIdleCallback(){var t,r;const n=(t=this._createOptions)===null||t===void 0?void 0:t.idleOptions;!(n!=null&&n.onIdle)&&!(n!=null&&n.disableDefaultIdleCallback)&&((r=this.idleManager)===null||r===void 0||r.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,r){var n,i;const o=t.delegations.map(d=>({delegation:new lp(d.delegation.pubkey,d.delegation.expiration,d.delegation.targets),signature:d.signature.buffer})),a=kd.fromDelegations(o,t.userPublicKey.buffer),l=this._key;if(!l)return;this._chain=a,"toDer"in l?this._identity=jd.fromDelegation(l,this._chain):this._identity=Ag.fromDelegation(l,this._chain),(n=this._idpWindow)===null||n===void 0||n.close();const c=(i=this._createOptions)===null||i===void 0?void 0:i.idleOptions;!this.idleManager&&!(c!=null&&c.disableIdle)&&(this.idleManager=Fg.create(c),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(To,JSON.stringify(this._chain.toJSON())),r==null||r(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(t){var r,n,i,o;const a=BigInt(8)*BigInt(36e11),l=new URL(((r=t==null?void 0:t.identityProvider)===null||r===void 0?void 0:r.toString())||Q8);l.hash=J8,(n=this._idpWindow)===null||n===void 0||n.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(l,Object.assign({maxTimeToLive:(i=t==null?void 0:t.maxTimeToLive)!==null&&i!==void 0?i:a},t)),window.addEventListener("message",this._eventHandler),this._idpWindow=(o=window.open(l.toString(),"idpWindow",t==null?void 0:t.windowOpenerFeatures))!==null&&o!==void 0?o:void 0;const c=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(D8,t==null?void 0:t.onError):setTimeout(c,L8))};c()}_getEventHandler(t,r){return async n=>{var i,o,a;if(n.origin!==t.origin)return;const l=n.data;switch(l.kind){case"authorize-ready":{const c=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((i=this._key)===null||i===void 0?void 0:i.getPublicKey().toDer()),maxTimeToLive:r==null?void 0:r.maxTimeToLive,allowPinAuthentication:r==null?void 0:r.allowPinAuthentication,derivationOrigin:(o=r==null?void 0:r.derivationOrigin)===null||o===void 0?void 0:o.toString()},r==null?void 0:r.customValues);(a=this._idpWindow)===null||a===void 0||a.postMessage(c,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(l,r==null?void 0:r.onSuccess)}catch(c){this._handleFailure(c.message,r==null?void 0:r.onError)}break;case"authorize-client-failure":this._handleFailure(l.text,r==null?void 0:r.onError);break}}}_handleFailure(t,r){var n;(n=this._idpWindow)===null||n===void 0||n.close(),r==null||r(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await gf(this._storage),this._identity=new pd,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function gf(e){await e.remove(So),await e.remove(To),await e.remove(Y8)}function e3(e){if(!e)return"";try{return new Date(Number(e)).toISOString()}catch{return""}}function Mh(e){if(e==null)return e;if(typeof e=="bigint")return e.toString();if(Array.isArray(e))return e.map(Mh);if(typeof e=="object"){const t={};for(const[r,n]of Object.entries(e))t[r]=Mh(n);return t}return e}function Pc(e){const t=Mh(e),r=["createdAt","updatedAt","lastLoginAt","timestamp"];function n(i,o){if(i==null)return i;if(o&&r.includes(o))return e3(i)||String(i);if(Array.isArray(i))return i.map(a=>n(a));if(typeof i=="object"){const a={};for(const[l,c]of Object.entries(i))a[l]=n(c,l);return a}return i}return n(t)}function $g(e){return Pc(e)}const t3=({IDL:e})=>{const t=e.Principal,r=e.Record({id:e.Text,relationship:e.Text,userId:t,name:e.Text,createdAt:e.Int,email:e.Text,isVerified:e.Bool,verifiedAt:e.Opt(e.Int)}),n=e.Variant({ok:r,err:e.Text}),i=e.Variant({Equitel:e.Null,PayPal:e.Null,Card:e.Null,BankTransfer:e.Null,Custom:e.Null,Mpesa:e.Null,AirtelMoney:e.Null}),o=e.Record({id:e.Text,provider:i,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,isActive:e.Bool,accountName:e.Text,isDefault:e.Bool,accountNumber:e.Opt(e.Text),phoneNumber:e.Opt(e.Text)}),a=e.Variant({ok:o,err:e.Text}),l=e.Variant({Inactive:e.Null,Active:e.Null,Suspended:e.Null,Deprecated:e.Null,Pending:e.Null}),c=e.Variant({WriteWallets:e.Null,ReadTransactions:e.Null,ReadProfile:e.Null,ReadContacts:e.Null,WriteContacts:e.Null,Notifications:e.Null,WriteProfile:e.Null,WriteTransactions:e.Null,ReadWallets:e.Null,ExternalAPIs:e.Null}),d=e.Variant({Productivity:e.Null,Health:e.Null,Social:e.Null,Custom:e.Null,Entertainment:e.Null,Gaming:e.Null,Education:e.Null,Finance:e.Null}),b=e.Record({id:e.Text,status:l,permissions:e.Vec(c),isInstalled:e.Bool,metadata:e.Opt(e.Text),icon:e.Opt(e.Text),name:e.Text,createdAt:e.Int,description:e.Text,author:e.Text,version:e.Text,isEnabled:e.Bool,updatedAt:e.Int,installCount:e.Nat,configSchema:e.Opt(e.Text),entryPoint:e.Text,category:d,rating:e.Float64}),y=e.Variant({ok:b,err:e.Text}),m=e.Record({id:e.Text,endpoint:e.Text,auth:e.Text,userId:t,createdAt:e.Int,isActive:e.Bool,deviceInfo:e.Opt(e.Text),p256dh:e.Text,lastUsed:e.Int}),u=e.Variant({ok:m,err:e.Text}),g=e.Record({id:e.Text,methodType:e.Text,value:e.Text,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,isActive:e.Bool,isVerified:e.Bool,verifiedAt:e.Opt(e.Int)}),N=e.Variant({ok:g,err:e.Text}),W=e.Record({id:e.Text,question:e.Text,userId:t,createdAt:e.Int,isActive:e.Bool,answerHash:e.Text}),v=e.Variant({ok:e.Vec(W),err:e.Text}),w=e.Variant({ok:e.Bool,err:e.Text}),j=e.Record({id:e.Text,expiresAt:e.Opt(e.Int),metadata:e.Opt(e.Text),userId:t,type:e.Text,gameId:e.Text,description:e.Text,claimedAt:e.Opt(e.Int),currency:e.Opt(e.Text),amount:e.Float64}),F=e.Variant({ok:j,err:e.Text}),C=e.Variant({ok:e.Float64,err:e.Text}),B=e.Variant({Failed:e.Null,Refunded:e.Null,Cancelled:e.Null,Processing:e.Null,Completed:e.Null,Pending:e.Null}),R=e.Record({id:e.Text,fee:e.Float64,status:B,completedAt:e.Opt(e.Int),provider:i,metadata:e.Opt(e.Text),userId:t,recipientPhone:e.Opt(e.Text),type:e.Text,reference:e.Opt(e.Text),currency:e.Text,timestamp:e.Int,amount:e.Float64,recipientName:e.Opt(e.Text)}),M=e.Variant({ok:R,err:e.Text}),Z=e.Variant({ok:e.Nat,err:e.Text}),$=e.Variant({Sonic:e.Null,Neutrinite:e.Null,InfinitySwap:e.Null,ICDex:e.Null,Custom:e.Null,ICPSwap:e.Null}),q=e.Variant({Swap:e.Null,Lending:e.Null,Custom:e.Null,Borrowing:e.Null,Governance:e.Null,Liquidity:e.Null,YieldFarming:e.Null,Staking:e.Null}),X=e.Record({id:e.Text,apy:e.Float64,protocol:$,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,productType:q,isActive:e.Bool,updatedAt:e.Int,tokenA:e.Text,tokenB:e.Opt(e.Text),rewards:e.Float64,amount:e.Float64}),A=e.Variant({ok:X,err:e.Text}),O=e.Variant({ok:e.Record({userId:e.Principal,instructions:e.Text}),err:e.Text}),V=e.Record({social:e.Bool,push:e.Bool,security:e.Bool,email:e.Bool,goals:e.Bool,transactions:e.Bool}),Y=e.Record({twoFactorEnabled:e.Bool,deviceTracking:e.Bool,loginNotifications:e.Bool}),re=e.Record({profileVisibility:e.Text,allowFriendRequests:e.Bool,transactionVisibility:e.Text}),Q=e.Record({theme:e.Text,notifications:V,security:Y,language:e.Text,privacy:re,currency:e.Text}),ee=e.Record({id:t,username:e.Text,displayName:e.Text,lastLoginAt:e.Opt(e.Int),createdAt:e.Int,isActive:e.Bool,email:e.Opt(e.Text),preferences:Q,recoverySetupCompleted:e.Bool,loginAttempts:e.Nat,updatedAt:e.Int,isLocked:e.Bool,avatar:e.Opt(e.Text)}),de=e.Variant({ok:ee,err:e.Text}),ue=e.Record({id:e.Text,lastUsedAt:e.Int,permissions:e.Vec(e.Text),userId:t,walletType:e.Text,isActive:e.Bool,connectedAt:e.Int,address:e.Opt(e.Text),principalId:e.Opt(e.Text)}),ae=e.Variant({ok:ue,err:e.Text}),he=e.Record({id:e.Text,endDate:e.Int,period:e.Text,userId:t,name:e.Text,isActive:e.Bool,spent:e.Float64,category:e.Text,amount:e.Float64,startDate:e.Int}),z=e.Variant({ok:he,err:e.Text}),Te=e.Record({id:e.Text,status:e.Text,fromAddress:e.Opt(e.Text),metadata:e.Opt(e.Text),userId:t,fees:e.Opt(e.Float64),type:e.Text,currency:e.Text,blockHeight:e.Opt(e.Nat),timestamp:e.Int,txHash:e.Opt(e.Text),toAddress:e.Opt(e.Text),amount:e.Float64,walletId:e.Text}),be=e.Variant({ok:Te,err:e.Text}),xe=e.Variant({CAT:e.Null,ICP:e.Null,MOD:e.Null,NTN:e.Null,GHOST:e.Null,NANAS:e.Null,BOOM:e.Null,CHAT:e.Null,ELNA:e.Null,CKPEPE:e.Null,FIAT:e.Null,FOMO:e.Null,GLDT:e.Null,MEME:e.Null,NICP:e.Null,CYCLES:e.Null,SNS1:e.Null,TRAX:e.Null,YUGE:e.Null,PANDA:e.Null,PARTY:e.Null,ckBTC:e.Null,ckETH:e.Null,WUMBO:e.Null,OPENCHAT:e.Null,DKUMA:e.Null,DOGMI:e.Null,DSCVR:e.Null,KINIC:e.Null,ALPACALB:e.Null,MOTOKO:e.Null,DRAGGINZ:e.Null,DAMONIC:e.Null,CLOWN:e.Null,SHRIMP:e.Null,SEERS:e.Null,SNEED:e.Null,SONIC:e.Null}),me=e.Record({id:e.Text,balance:e.Float64,metadata:e.Opt(e.Text),userId:t,name:e.Text,createdAt:e.Int,isExternal:e.Bool,walletType:xe,isActive:e.Bool,updatedAt:e.Int,currency:e.Text,address:e.Opt(e.Text),lastSyncAt:e.Opt(e.Int),externalWalletType:e.Opt(e.Text)}),ge=e.Variant({ok:me,err:e.Text}),U=e.Record({id:e.Text,title:e.Text,userId:t,createdAt:e.Int,description:e.Text,isActive:e.Bool,updatedAt:e.Int,isAchieved:e.Bool,targetAmount:e.Float64,currency:e.Text,targetDate:e.Opt(e.Int),category:e.Text,currentAmount:e.Float64}),H=e.Variant({ok:U,err:e.Text}),J=e.Variant({Investment:e.Null,Custom:e.Null,Business:e.Null,Travel:e.Null,Savings:e.Null,Charity:e.Null,Emergency:e.Null,Education:e.Null}),D=e.Record({id:e.Text,vaultType:J,members:e.Vec(e.Text),ownerId:t,metadata:e.Opt(e.Text),name:e.Text,createdAt:e.Int,description:e.Opt(e.Text),isActive:e.Bool,updatedAt:e.Int,targetAmount:e.Opt(e.Float64),currency:e.Text,isPublic:e.Bool,totalBalance:e.Float64,rules:e.Opt(e.Text)}),K=e.Variant({ok:D,err:e.Text}),L=e.Variant({System:e.Record({message:e.Text,priority:e.Text}),Transaction:e.Record({status:e.Text,currency:e.Text,amount:e.Float64}),Security:e.Record({action:e.Opt(e.Text),event:e.Text,severity:e.Text}),Social:e.Record({metadata:e.Opt(e.Text),userId:e.Text,event:e.Text}),Recovery:e.Record({status:e.Text,method:e.Text}),Payment:e.Record({status:e.Text,provider:e.Text,amount:e.Float64}),Vault:e.Record({action:e.Text,vaultId:e.Text,amount:e.Opt(e.Float64)})}),k=e.Record({id:e.Text,title:e.Text,actionUrl:e.Opt(e.Text),expiresAt:e.Opt(e.Int),metadata:e.Opt(e.Text),userId:t,notificationType:L,createdAt:e.Int,isArchived:e.Bool,isRead:e.Bool,message:e.Text,priority:e.Text,readAt:e.Opt(e.Int)}),h=e.Variant({ok:k,err:e.Text}),f=e.Variant({Paused:e.Null,Active:e.Null,Cancelled:e.Null,Completed:e.Null}),E=e.Variant({Prediction:e.Null,Quiz:e.Null,Tournament:e.Null,Trading:e.Null,Custom:e.Null,Lottery:e.Null,Challenge:e.Null}),P=e.Record({id:e.Text,startTime:e.Int,status:f,endTime:e.Opt(e.Int),metadata:e.Opt(e.Text),currentParticipants:e.Nat,name:e.Text,createdAt:e.Int,createdBy:t,description:e.Text,updatedAt:e.Int,currency:e.Text,gameType:E,maxParticipants:e.Opt(e.Nat),isPublic:e.Bool,entryFee:e.Opt(e.Float64),rules:e.Opt(e.Text),prizePool:e.Float64}),_=e.Variant({ok:P,err:e.Text}),oe=e.Record({id:e.Text,status:e.Text,metadata:e.Opt(e.Text),userId:t,type:e.Text,description:e.Text,currency:e.Text,timestamp:e.Int,category:e.Text,amount:e.Float64,walletId:e.Text}),pe=e.Variant({ok:oe,err:e.Text}),ke=e.Record({id:e.Text,lastMessageAt:e.Opt(e.Int),metadata:e.Opt(e.Text),name:e.Text,createdAt:e.Int,memberCount:e.Nat,description:e.Opt(e.Text),isActive:e.Bool,updatedAt:e.Int,vaultId:e.Text}),ve=e.Variant({ok:ke,err:e.Text}),se=e.Record({id:e.Text,balance:e.Float64,userId:t,name:e.Text,createdAt:e.Int,type:e.Text,isActive:e.Bool,updatedAt:e.Int,currency:e.Text}),S=e.Variant({ok:se,err:e.Text}),p=e.Record({id:e.Text,status:e.Text,metadata:e.Opt(e.Text),userId:t,type:e.Text,description:e.Text,vaultId:e.Text,currency:e.Text,timestamp:e.Int,amount:e.Float64}),x=e.Variant({ok:p,err:e.Text}),G=e.Record({id:e.Text,title:e.Text,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,type:e.Text,description:e.Text,actionable:e.Bool,confidence:e.Float64}),te=e.Variant({ok:e.Vec(G),err:e.Text}),le=e.Record({id:e.Text,title:e.Text,estimatedImpact:e.Float64,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,description:e.Text,isImplemented:e.Bool,category:e.Text,priority:e.Text}),ce=e.Variant({ok:e.Vec(le),err:e.Text}),_e=e.Variant({ok:e.Text,err:e.Text}),ze=e.Variant({ok:e.Record({implementedRecommendations:e.Nat,totalRecommendations:e.Nat,totalInsights:e.Nat,averageConfidence:e.Float64,totalMessages:e.Nat}),err:e.Text}),Re=e.Variant({Error:e.Null,System:e.Null,User:e.Null,Assistant:e.Null}),Ne=e.Record({id:e.Text,content:e.Text,metadata:e.Opt(e.Text),userId:t,type:Re,timestamp:e.Int}),$e=e.Variant({ok:e.Vec(Ne),err:e.Text}),Ge=e.Record({id:e.Text,status:e.Text,icon:e.Text,name:e.Text,createdAt:e.Int,description:e.Text,accountType:e.Text,paybillNumber:e.Text}),wn=e.Variant({ok:e.Vec(Ge),err:e.Text}),zr=e.Variant({ok:e.Vec(P),err:e.Text}),vn=e.Record({id:e.Text,blockNumber:e.Nat,from:t,timestamp:e.Int,amount:e.Nat,reason:e.Text}),Sn=e.Variant({ok:e.Record({activeWallets:e.Nat,monthlySpent:e.Float64,goalsProgress:e.Float64,totalBalance:e.Float64}),err:e.Text}),kn=e.Variant({ok:e.Record({totalValue:e.Float64,totalRewards:e.Float64,averageApy:e.Float64,activeProtocols:e.Vec(e.Text),totalPositions:e.Nat}),err:e.Text}),Nt=e.Variant({ok:e.Vec(X),err:e.Text}),Fi=e.Variant({ok:e.Record({totalVolume:e.Float64,averageApy:e.Float64,totalPositions:e.Nat,totalUsers:e.Nat}),err:e.Text}),so=e.Record({id:e.Text,fee:e.Float64,protocol:$,status:e.Text,metadata:e.Opt(e.Text),userId:t,type:e.Text,amountA:e.Float64,amountB:e.Opt(e.Float64),tokenA:e.Text,tokenB:e.Opt(e.Text),timestamp:e.Int,txHash:e.Opt(e.Text)}),jn=e.Variant({ok:e.Vec(so),err:e.Text}),ir=e.Variant({ok:e.Vec(e.Tuple(e.Text,e.Text)),err:e.Text}),Xe=e.Record({id:e.Text,status:e.Text,completedAt:e.Opt(e.Int),userId:t,createdAt:e.Int,kesAmount:e.Float64,updatedAt:e.Int,mpesaReceipt:e.Opt(e.Text),mpesaTransactionId:e.Opt(e.Text),conversionRate:e.Float64,phoneNumber:e.Text,usdtAmount:e.Float64}),ao=e.Variant({ok:e.Vec(Xe),err:e.Text}),Tn=e.Variant({ok:Xe,err:e.Text}),Pr=e.Record({cryptoWallets:e.Vec(me),externalConnections:e.Vec(ue),totalValueKES:e.Float64,totalValueUSD:e.Float64,userId:t,lastUpdated:e.Int,fiatWallets:e.Vec(se),defiPositions:e.Vec(X)}),Mr=e.Variant({ok:Pr,err:e.Text}),I=e.Record({id:e.Text,metadata:e.Opt(e.Text),userId:t,joinedAt:e.Int,rank:e.Opt(e.Nat),gameId:e.Text,isActive:e.Bool,score:e.Float64}),je=e.Variant({ok:e.Vec(I),err:e.Text}),Me=e.Record({id:e.Text,to:t,blockNumber:e.Nat,timestamp:e.Int,amount:e.Nat,reason:e.Text}),Fe=e.Record({timezone:e.Text,securityNotifications:e.Bool,transactionNotifications:e.Bool,systemNotifications:e.Bool,recoveryNotifications:e.Bool,userId:t,quietHours:e.Opt(e.Record({end:e.Text,start:e.Text})),push:e.Bool,paymentNotifications:e.Bool,email:e.Bool,updatedAt:e.Int,socialNotifications:e.Bool,vaultNotifications:e.Bool,inApp:e.Bool}),Ie=e.Variant({ok:Fe,err:e.Text}),Or=e.Record({id:e.Text,status:e.Text,completedAt:e.Opt(e.Int),accountReference:e.Text,userId:t,createdAt:e.Int,kesAmount:e.Float64,updatedAt:e.Int,mpesaReceipt:e.Opt(e.Text),mpesaTransactionId:e.Opt(e.Text),phoneNumber:e.Text,usdtAmount:e.Float64,billId:e.Text,paybillNumber:e.Text}),lo=e.Variant({ok:Or,err:e.Text}),En=e.Variant({ok:e.Vec(Or),err:e.Text}),ie=e.Record({id:e.Text,status:e.Text,localCurrency:e.Text,userId:t,createdAt:e.Int,usdAmount:e.Float64,exchangeRate:e.Float64,updatedAt:e.Int,localAmount:e.Float64,paymentType:e.Text,location:e.Opt(e.Text)}),fe=e.Variant({ok:ie,err:e.Text}),nt=e.Variant({ok:e.Record({topProvider:e.Opt(e.Text),successRate:e.Float64,totalFees:e.Float64,totalPayments:e.Nat,totalAmount:e.Float64}),err:e.Text}),_n=e.Variant({ok:e.Vec(R),err:e.Text}),Ye=e.Record({id:e.Text,status:e.Text,completedAt:e.Opt(e.Int),verificationCode:e.Opt(e.Text),expiresAt:e.Int,metadata:e.Opt(e.Text),userId:e.Opt(t),createdAt:e.Int,recoveryToken:e.Opt(e.Text),recoveryMethod:e.Text,identifier:e.Text,verifiedAt:e.Opt(e.Int)}),fu=e.Record({lastRewardTime:e.Int,isStaking:e.Bool,userId:t,stakingStartTime:e.Int,totalRewardsEarned:e.Nat,stakedAmount:e.Nat}),hu=e.Record({decimals:e.Nat8,burnAddress:t,circulatingSupply:e.Nat,isPaused:e.Bool,name:e.Text,createdAt:e.Int,totalSupply:e.Nat,updatedAt:e.Int,maxWalletLimit:e.Nat,maxTransactionLimit:e.Nat,treasuryAddress:t,symbol:e.Text}),ne=e.Record({balance:e.Nat,owner:t,lastUpdated:e.Int,lockedBalance:e.Nat,stakedBalance:e.Nat}),Ue=e.Record({id:e.Text,to:t,transactionHash:e.Text,blockNumber:e.Nat,from:t,timestamp:e.Int,amount:e.Nat}),Ve=e.Record({userName:e.Text,startedAt:e.Int,userId:t,isTyping:e.Bool}),Oe=e.Variant({ok:e.Vec(Ve),err:e.Text}),zi=e.Record({id:e.Text,action:e.Text,userId:e.Opt(t),timestamp:e.Int,details:e.Text,success:e.Bool,userAgent:e.Opt(e.Text),ipAddress:e.Opt(e.Text)}),Xo=e.Variant({ok:e.Vec(zi),err:e.Text}),yp=e.Variant({ok:e.Vec(he),err:e.Text}),aw=e.Record({id:e.Text,title:e.Text,metadata:e.Opt(e.Text),body:e.Text,userId:t,notificationType:e.Text,isRead:e.Bool,vaultId:e.Text,timestamp:e.Int}),lw=e.Variant({ok:e.Vec(aw),err:e.Text}),xp=e.Variant({ok:e.Vec(Te),err:e.Text}),cw=e.Variant({ok:e.Vec(me),err:e.Text}),dw=e.Variant({ok:e.Vec(ue),err:e.Text}),uw=e.Variant({ok:e.Vec(j),err:e.Text}),fw=e.Variant({ok:e.Vec(U),err:e.Text}),hw=e.Variant({ok:e.Vec(D),err:e.Text}),pw=e.Variant({ok:e.Vec(k),err:e.Text}),mw=e.Record({id:e.Text,service:e.Text,status:e.Text,deliveredAt:e.Opt(e.Int),expiresAt:e.Int,provider:e.Text,metadata:e.Opt(e.Text),code:e.Text,userId:e.Opt(t),createdAt:e.Int,recipient:e.Text,attempts:e.Nat,sentAt:e.Opt(e.Int),purpose:e.Text}),gw=e.Variant({ok:e.Vec(mw),err:e.Text}),yw=e.Variant({ok:e.Vec(o),err:e.Text}),xw=e.Variant({ok:e.Vec(g),err:e.Text}),bw=e.Variant({ok:e.Vec(ie),err:e.Text}),ww=e.Variant({ok:e.Vec(oe),err:e.Text}),vw=e.Variant({ok:e.Record({allAddresses:e.Vec(e.Text),principalId:e.Text,accountIdentifier:e.Text,cryptoAddresses:e.Vec(e.Tuple(e.Text,e.Text))}),err:e.Text}),Sw=e.Variant({ok:e.Vec(se),err:e.Text}),kw=e.Record({userName:e.Text,typingSince:e.Opt(e.Int),lastSeenAt:e.Int,userId:t,joinedAt:e.Int,role:e.Text,unreadCount:e.Nat,isMuted:e.Bool,isTyping:e.Bool}),jw=e.Variant({ok:e.Vec(kw),err:e.Text}),bp=e.Record({id:e.Text,permissions:e.Vec(e.Text),userId:t,joinedAt:e.Int,role:e.Text,isActive:e.Bool,contributionLimit:e.Opt(e.Float64),vaultId:e.Text,withdrawalLimit:e.Opt(e.Float64)}),Tw=e.Variant({ok:e.Record({members:e.Vec(bp),vault:D,transactions:e.Vec(p)}),err:e.Text}),Ew=e.Variant({Failed:e.Null,Read:e.Null,Sent:e.Null,Delivered:e.Null}),wp=e.Variant({System:e.Null,File:e.Null,Transaction:e.Null,Text:e.Null,Image:e.Null,Reaction:e.Null}),_w=e.Record({userId:t,timestamp:e.Int,reaction:e.Text}),vp=e.Record({id:e.Text,status:Ew,userName:e.Text,content:e.Text,metadata:e.Opt(e.Text),userId:t,messageType:wp,vaultId:e.Text,timestamp:e.Int,replyTo:e.Opt(e.Text),editedAt:e.Opt(e.Int),reactions:e.Vec(_w)}),Cw=e.Variant({ok:e.Vec(vp),err:e.Text}),Nw=e.Variant({ok:e.Record({recoveryRequestId:e.Text,message:e.Text,securityQuestions:e.Opt(e.Vec(e.Tuple(e.Text,e.Text)))}),err:e.Text}),Sp=e.Variant({ok:bp,err:e.Text}),kp=e.Variant({ok:I,err:e.Text}),Aw=e.Variant({ok:le,err:e.Text}),Bw=e.Record({kesAmount:e.Float64,conversionRate:e.Float64,phoneNumber:e.Text,usdtAmount:e.Float64}),Rw=e.Record({accountReference:e.Text,kesAmount:e.Float64,phoneNumber:e.Text,usdtAmount:e.Float64,billId:e.Text,paybillNumber:e.Text}),Fw=e.Variant({ok:so,err:e.Text}),zw=e.Variant({ok:Ne,err:e.Text}),Pw=e.Variant({ok:e.Record({expiresIn:e.Int,otpId:e.Text,message:e.Text}),err:e.Text}),Mw=e.Variant({ok:vp,err:e.Text}),Ow=e.Variant({ok:e.Record({verified:e.Bool,recipient:e.Text,purpose:e.Text}),err:e.Text});return e.Service({addEmergencyContact:e.Func([e.Text,e.Text,e.Text],[n],[]),addPaymentMethod:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Text,e.Bool],[a],[]),addPlugin:e.Func([b],[y],[]),addPushSubscription:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text)],[u],[]),addRecoveryMethod:e.Func([e.Text,e.Text,e.Opt(e.Text)],[N],[]),addSecurityQuestions:e.Func([e.Vec(e.Tuple(e.Text,e.Text))],[v],[]),allowance:e.Func([t,t],[e.Nat],["query"]),approve:e.Func([t,e.Nat],[w],[]),awardGameReward:e.Func([e.Text,t,e.Text,e.Float64,e.Opt(e.Text),e.Text],[F],[]),balanceOf:e.Func([t],[e.Nat],["query"]),burn:e.Func([e.Nat,e.Text],[w],[]),calculateDefiRewards:e.Func([e.Text],[C],[]),cancelPayment:e.Func([e.Text],[M],[]),claimGameReward:e.Func([e.Text],[F],[]),claimRewards:e.Func([],[Z],[]),closeDefiPosition:e.Func([e.Text],[A],[]),completeRecovery:e.Func([e.Text,e.Opt(e.Text)],[O],[]),completeRecoverySetup:e.Func([],[de],[]),connectExternalWallet:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Vec(e.Text)],[ae],[]),createBudget:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Int,e.Int],[z],[]),createCryptoTransaction:e.Func([e.Text,e.Text,e.Float64,e.Opt(e.Text),e.Opt(e.Text),e.Opt(e.Text),e.Float64],[be],[]),createCryptoWallet:e.Func([e.Text,e.Text,e.Bool,e.Opt(e.Text),e.Opt(e.Text)],[ge],[]),createDeFiPosition:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text),e.Float64,e.Float64],[A],[]),createDefiPosition:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text),e.Float64,e.Float64],[A],[]),createGoal:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Opt(e.Int),e.Text],[H],[]),createGroupVault:e.Func([e.Text,e.Opt(e.Text),e.Text,e.Text,e.Opt(e.Float64),e.Bool,e.Opt(e.Text)],[K],[]),createNotification:e.Func([e.Text,e.Text,e.Text,e.Text,e.Opt(e.Text),e.Opt(e.Int)],[h],[]),createSocialGame:e.Func([e.Text,e.Text,e.Text,e.Int,e.Opt(e.Int),e.Opt(e.Nat),e.Opt(e.Float64),e.Float64,e.Text,e.Opt(e.Text),e.Bool],[_],[]),createTransaction:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Text],[pe],[]),createUser:e.Func([e.Text,e.Text,e.Opt(e.Text)],[de],[]),createVaultChatRoom:e.Func([e.Text,e.Text,e.Opt(e.Text)],[ve],[]),createWallet:e.Func([e.Text,e.Text,e.Text],[S],[]),deleteNotification:e.Func([e.Text],[w],[]),depositToVault:e.Func([e.Text,e.Float64,e.Opt(e.Text)],[x],[]),endGame:e.Func([e.Text],[_],[]),generateAIInsights:e.Func([],[te],[]),generateAIRecommendations:e.Func([],[ce],[]),generateDepositAddress:e.Func([e.Text],[_e],[]),getAIAnalytics:e.Func([],[ze],[]),getAIConversationHistory:e.Func([],[$e],[]),getAvailableBills:e.Func([],[wn],[]),getAvailableGames:e.Func([],[zr],[]),getBurnHistory:e.Func([e.Nat,e.Nat],[e.Vec(vn)],["query"]),getDashboardStats:e.Func([],[Sn],["query"]),getDefiAnalytics:e.Func([],[kn],[]),getDefiPositionsByProductType:e.Func([e.Text],[Nt],[]),getDefiPositionsByProtocol:e.Func([e.Text],[Nt],[]),getDefiProtocolStats:e.Func([e.Text],[Fi],[]),getDefiTransactionsByProtocol:e.Func([e.Text],[jn],[]),getDepositAddress:e.Func([e.Text],[_e],[]),getDepositAddresses:e.Func([],[ir],[]),getDepositHistory:e.Func([],[ao],[]),getDepositTransactionById:e.Func([e.Text],[Tn],[]),getFullWalletPortfolio:e.Func([],[Mr],[]),getGameLeaderboard:e.Func([e.Text],[je],[]),getGamesByType:e.Func([e.Text],[zr],[]),getMintHistory:e.Func([e.Nat,e.Nat],[e.Vec(Me)],["query"]),getNotificationPreferences:e.Func([],[Ie],[]),getPaybillTransactionById:e.Func([e.Text],[lo],[]),getPaybillTransactionHistory:e.Func([],[En],[]),getPaymentById:e.Func([e.Text],[fe],[]),getPaymentStats:e.Func([],[nt],[]),getPaymentsByProvider:e.Func([e.Text],[_n],[]),getPrincipalId:e.Func([],[e.Text],["query"]),getRecoveryRequestStatus:e.Func([e.Text],[e.Opt(Ye)],["query"]),getStakingInfo:e.Func([t],[e.Opt(fu)],["query"]),getSystemStats:e.Func([],[e.Record({totalExternalConnections:e.Nat,totalWallets:e.Nat,totalCryptoWallets:e.Nat,totalRecoveryRequests:e.Nat,totalOTPRequests:e.Nat,totalCryptoTransactions:e.Nat,totalUsers:e.Nat,totalRecoveryMethods:e.Nat,totalTransactions:e.Nat,totalDeFiPositions:e.Nat})],["query"]),getTokenMetadata:e.Func([],[hu],["query"]),getTotalBalance:e.Func([t],[ne],["query"]),getTotalStaked:e.Func([],[e.Nat],["query"]),getTransferHistory:e.Func([e.Nat,e.Nat],[e.Vec(Ue)],["query"]),getTypingIndicators:e.Func([e.Text],[Oe],[]),getUSDTtoKESRate:e.Func([],[C],[]),getUnreadNotificationCount:e.Func([],[e.Nat],["query"]),getUser:e.Func([],[de],["query"]),getUserAIInsights:e.Func([],[te],[]),getUserAIRecommendations:e.Func([],[ce],[]),getUserAuditLogs:e.Func([],[Xo],[]),getUserBudgets:e.Func([],[yp],["query"]),getUserByEmail:e.Func([e.Text],[e.Opt(t)],["query"]),getUserByPhone:e.Func([e.Text],[e.Opt(t)],["query"]),getUserChatNotifications:e.Func([e.Nat,e.Nat],[lw],[]),getUserCryptoTransactions:e.Func([],[xp],[]),getUserCryptoWallets:e.Func([],[cw],["query"]),getUserDeFiPositions:e.Func([],[Nt],[]),getUserDefiPositions:e.Func([],[Nt],[]),getUserDefiTransactions:e.Func([],[jn],[]),getUserExternalConnections:e.Func([],[dw],[]),getUserGameRewards:e.Func([],[uw],[]),getUserGames:e.Func([],[zr],[]),getUserGoals:e.Func([],[fw],["query"]),getUserGroupVaults:e.Func([],[hw],[]),getUserLocalPaymentHistory:e.Func([],[_n],[]),getUserNotifications:e.Func([e.Nat,e.Nat],[pw],[]),getUserOTPRequests:e.Func([],[gw],[]),getUserPaymentMethods:e.Func([],[yw],[]),getUserRecoveryMethods:e.Func([],[xw],["query"]),getUserSimplePaymentHistory:e.Func([],[bw],[]),getUserTransactions:e.Func([],[ww],["query"]),getUserWalletAddresses:e.Func([],[vw],[]),getUserWallets:e.Func([],[Sw],["query"]),getVaultChatMembers:e.Func([e.Text],[jw],[]),getVaultDetails:e.Func([e.Text],[Tw],[]),getVaultMessages:e.Func([e.Text,e.Nat,e.Nat],[Cw],[]),getWallet:e.Func([e.Text],[S],[]),getWalletByAddress:e.Func([e.Text],[e.Opt(e.Text)],["query"]),getWalletTransactionHistory:e.Func([e.Text,e.Nat,e.Nat],[xp],[]),greet:e.Func([e.Text],[e.Text],["query"]),initiateLocalPayment:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Opt(e.Text)],[M],[]),initiateRecovery:e.Func([e.Text,e.Text],[Nw],[]),inviteToVault:e.Func([e.Text,t,e.Text],[Sp],[]),joinGame:e.Func([e.Text],[kp],[]),joinVault:e.Func([e.Text],[Sp],[]),joinVaultChat:e.Func([e.Text,e.Text],[w],[]),leaveVaultChat:e.Func([e.Text],[w],[]),linkRecoveredAccount:e.Func([e.Text,e.Principal],[de],[]),loginOrCreateUser:e.Func([],[de],[]),markAllNotificationsAsRead:e.Func([],[Z],[]),markMessagesAsRead:e.Func([e.Text,e.Vec(e.Text)],[w],[]),markNotificationAsRead:e.Func([e.Text],[h],[]),markRecommendationImplemented:e.Func([e.Text],[Aw],[]),mint:e.Func([t,e.Nat,e.Text],[w],[]),processDeposit:e.Func([Bw],[Tn],[]),processPaybillPayment:e.Func([Rw],[lo],[]),processPayment:e.Func([e.Text],[M],[]),processSimplePayment:e.Func([e.Text,e.Float64,e.Text,e.Float64,e.Float64,e.Opt(e.Text)],[fe],[]),recordDefiTransaction:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text),e.Float64,e.Opt(e.Float64),e.Float64,e.Opt(e.Text)],[Fw],[]),regenerateWalletAddress:e.Func([e.Text],[_e],[]),removePaymentMethod:e.Func([e.Text],[w],[]),removePushSubscription:e.Func([e.Text],[w],[]),respondToVaultInvitation:e.Func([e.Text,e.Text],[w],[]),sendAIMessage:e.Func([e.Text],[zw],[]),sendCrossCanisterNotification:e.Func([e.Text,e.Text],[_e],[]),sendCrypto:e.Func([e.Text,e.Text,e.Float64,e.Opt(e.Text)],[be],[]),sendOTP:e.Func([e.Text,e.Text,e.Text,e.Text],[Pw],[]),sendVaultMessage:e.Func([e.Text,e.Text,wp,e.Opt(e.Text)],[Mw],[]),sendVerificationCode:e.Func([e.Text,e.Text],[_e],[]),setPaused:e.Func([e.Bool],[w],[]),setStakingRewardRate:e.Func([e.Float64],[w],[]),setTransactionLimits:e.Func([e.Nat,e.Nat],[w],[]),setTreasuryAddress:e.Func([t],[w],[]),stake:e.Func([e.Nat],[w],[]),transfer:e.Func([t,e.Nat],[w],[]),transferBetweenWallets:e.Func([e.Text,e.Text,e.Float64,e.Opt(e.Text)],[be],[]),transferFrom:e.Func([t,t,e.Nat],[w],[]),unstake:e.Func([e.Nat],[w],[]),updateCryptoWalletBalance:e.Func([e.Text,e.Float64],[ge],[]),updateDefiPosition:e.Func([e.Text,e.Float64,e.Float64,e.Float64],[A],[]),updateGameScore:e.Func([e.Text,e.Float64],[kp],[]),updateGoalProgress:e.Func([e.Text,e.Float64],[H],[]),updateNotificationPreferences:e.Func([e.Bool,e.Bool,e.Bool,e.Bool,e.Bool,e.Bool,e.Bool,e.Bool,e.Bool,e.Bool,e.Opt(e.Record({end:e.Text,start:e.Text})),e.Text],[Ie],[]),updatePaymentMethod:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Text,e.Bool],[a],[]),updateTransactionStatus:e.Func([e.Text,e.Text,e.Opt(e.Text),e.Opt(e.Nat)],[be],[]),updateTypingStatus:e.Func([e.Text,e.Bool],[w],[]),updateUser:e.Func([e.Opt(e.Text),e.Opt(e.Text)],[de],[]),userExists:e.Func([],[e.Bool],[]),validateAddress:e.Func([e.Text,e.Text],[e.Bool],["query"]),verifyCode:e.Func([e.Text,e.Text,e.Text],[_e],[]),verifyOTP:e.Func([e.Text,e.Text],[Ow],[]),verifyRecovery:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Vec(e.Tuple(e.Text,e.Text)))],[_e],[]),verifyRecoveryMethod:e.Func([e.Text,e.Text,e.Text],[N],[]),withdrawFromVault:e.Func([e.Text,e.Float64,e.Opt(e.Text)],[x],[])})},Hr=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"),r3=()=>{if(!Hr)return console.log("BackendService: Using mainnet canister ID: tp4se-aiaaa-aaaau-abyha-cai"),"tp4se-aiaaa-aaaau-abyha-cai";const e="bkyz2-fmaaa-aaaaa-qaaaq-cai";return console.log("BackendService: Using canister ID from environment:",e),e},n3=()=>{if(!Hr)return"r3cxq-fiaaa-aaaau-abyja-cai";const e="be2us-64aaa-aaaaa-qaabq-cai";return console.log("BackendService: Using Internet Identity canister ID from environment:",e),e},Oh=r3(),$h=n3();console.log("Backend canister ID:",Oh);console.log("Internet Identity canister ID:",$h);class Da{constructor(){this.authClient=null,this.actor=null,this.isAuthenticated=!1,this.identity=null,this.principal=null}async init(){try{console.log("BackendService: Starting initialization..."),console.log("BackendService: Creating AuthClient..."),this.authClient=await Og.create(),console.log("BackendService: AuthClient created successfully");const t=await this.authClient.isAuthenticated();console.log("BackendService: User authentication status:",t),t&&(this.identity=this.authClient.getIdentity(),this.principal=this.identity.getPrincipal(),this.isAuthenticated=!0,console.log("BackendService: User already authenticated with principal:",this.principal.toString()));try{console.log("BackendService: Attempting to create actor..."),await this.createActor(),console.log("BackendService: Actor created successfully during initialization")}catch(r){console.warn("BackendService: Failed to create actor during initialization (dfx may not be running):",r)}return console.log("BackendService: Initialization completed successfully"),this.isAuthenticated}catch(t){return console.error("BackendService: Failed to initialize backend service:",t),!1}}async createActor(){try{console.log("BackendService: Creating actor with canister ID:",Oh),console.log("BackendService: Using identity:",this.identity?"authenticated":"anonymous"),console.log("BackendService: Host:",Hr?"http://localhost:4943":"https://ic0.app"),console.log("BackendService: isLocal value:",Hr);const t=new di({identity:this.identity,host:Hr?"http://localhost:4943":"https://ic0.app"});if(Hr){console.log("BackendService: Fetching root key for local development...");try{await t.fetchRootKey(),console.log("BackendService: Root key fetched successfully")}catch(r){console.warn("BackendService: Failed to fetch root key:",r)}}return this.actor=au.createActor(t3,{agent:t,canisterId:Oh}),console.log("BackendService: Actor created successfully"),this.actor}catch(t){throw console.error("BackendService: Failed to create actor:",t),t.message.includes("fetch")||t.message.includes("localhost:4943")||t.message.includes("Failed to fetch")?new Error("Cannot connect to dfx local network. Please ensure dfx is running with: dfx start --clean --background"):t}}async ensureActor(){try{return this.actor||(console.log("BackendService: Actor not found, creating new actor..."),await this.createActor(),console.log("BackendService: Actor created successfully")),this.actor&&console.log("BackendService: Actor ready for use"),this.actor}catch(t){throw console.error("BackendService: Failed to ensure actor:",t),new Error(`Failed to create actor: ${t.message}`)}}async login(){try{return console.log("BackendService.login() called"),this.authClient||(console.log("Creating AuthClient..."),this.authClient=await Og.create(),console.log("AuthClient created successfully")),new Promise((t,r)=>{const n=Hr?`http://${$h}.localhost:4943/#authorize`:"https://identity.ic0.app";console.log("Initiating Internet Identity login with provider:",n),console.log("INTERNET_IDENTITY_CANISTER_ID value:",$h),console.log("isLocal value:",Hr),this.authClient.login({identityProvider:n,...Hr?{derivationOrigin:window.location.origin}:{},maxTimeToLive:BigInt(7*24*60*60*1e3*1e3*1e3),onSuccess:async()=>{try{console.log("Internet Identity login successful"),this.identity=this.authClient.getIdentity(),this.principal=this.identity.getPrincipal(),this.isAuthenticated=!0,console.log("User principal:",this.principal.toString()),await this.createActor();try{this.supportsMethod("userExists")?await this.userExists()?console.log("User already exists"):(console.log("User does not exist, creating user account..."),await this.loginOrCreateUser(),console.log("User account created successfully")):console.log("Backend does not support user management, skipping user creation")}catch(o){console.warn("Failed to check/create user account (this is normal if backend is not fully implemented):",o.message)}const i=$g({success:!0,user:null,principal:this.principal.toString()});t(i)}catch(i){console.error("Post-login setup failed:",i),r(i)}},onError:i=>{console.error("Internet Identity login failed:",i),r(i)}})})}catch(t){throw console.error("Login initialization failed:",t),t}}async logout(){this.authClient&&(await this.authClient.logout(),this.isAuthenticated=!1,this.identity=null,this.principal=null,this.actor=null)}async loginOrCreateUser(){try{const t=await this.actor.loginOrCreateUser();if(t.ok){const r={...t.ok,createdAt:t.ok.createdAt?t.ok.createdAt.toString():null,updatedAt:t.ok.updatedAt?t.ok.updatedAt.toString():null,lastLoginAt:t.ok.lastLoginAt?t.ok.lastLoginAt.toString():null};return $g(r)}else throw new Error(t.err)}catch(t){throw console.error("Login or create user failed:",t),t}}async getUser(){try{const t=await this.actor.getUser();if(t.ok){const r={...t.ok,createdAt:t.ok.createdAt?t.ok.createdAt.toString():null,updatedAt:t.ok.updatedAt?t.ok.updatedAt.toString():null,lastLoginAt:t.ok.lastLoginAt?t.ok.lastLoginAt.toString():null};return Pc(r)}else throw new Error(t.err)}catch(t){throw console.error("Get user failed:",t),t}}async updateUser(t,r){try{const n=await this.actor.updateUser(t?[t]:[],r?[r]:[]);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Update user failed:",n),n}}async userExists(){try{return this.supportsMethod("userExists")?await this.actor.userExists():(console.warn("userExists method not available on actor (this is normal in development)"),!1)}catch(t){return console.warn("User exists check failed (this is normal in development):",t.message),!1}}async getPrincipalId(){try{return await this.actor.getPrincipalId()}catch(t){throw console.error("Get principal ID failed:",t),t}}getCurrentPrincipal(){return this.principal?this.principal:this.identity?this.identity.getPrincipal():null}isInitialized(){return this.authClient!==null}hasActor(){return this.actor!==null}supportsMethod(t){return this.actor&&typeof this.actor[t]=="function"}async checkDfxConnection(){try{const t=new di({host:Hr?"http://localhost:4943":"https://ic0.app"});return Hr&&await t.fetchRootKey(),!0}catch(t){return console.warn("BackendService: DFX connection check failed:",t),!1}}async reinitializeActor(){console.log("BackendService: Reinitializing actor..."),this.actor=null;try{return await this.createActor(),console.log("BackendService: Actor reinitialized successfully"),!0}catch(t){return console.error("BackendService: Failed to reinitialize actor:",t),!1}}async generateUsernameFromPrincipal(){try{const t=this.getCurrentPrincipal();if(!t)throw new Error("No principal available for username generation");const n=`nesto_${t.toString().replace(/[^a-z0-9]/gi,"").slice(0,8).toLowerCase()}`;console.log("Generated username from principal:",n);const i=await this.updateUser(n,null);return console.log("Username updated successfully:",i),n}catch(t){throw console.error("Failed to generate username from principal:",t),t}}async addRecoveryMethod(t,r,n=null){try{await this.ensureActor();const i=await this.actor.addRecoveryMethod(t,r,n?[n]:[]);if(i.ok)return i.ok;throw new Error(i.err)}catch(i){throw console.error("Add recovery method failed:",i),i}}async getUserRecoveryMethods(){try{await this.ensureActor();const t=await this.actor.getUserRecoveryMethods();if(t.ok){const r=t.ok.map(n=>({...n,createdAt:n.createdAt?n.createdAt.toString():null,verifiedAt:n.verifiedAt?n.verifiedAt.toString():null}));return Pc(r)}else throw new Error(t.err)}catch(t){if(t.message&&(t.message.includes("has no query method")||t.message.includes("CanisterError")))return[];throw console.error("Get recovery methods failed:",t),t}}async addSecurityQuestions(t){try{const r=await this.actor.addSecurityQuestions(t);if(r.ok)return r.ok;throw new Error(r.err)}catch(r){throw console.error("Add security questions failed:",r),r}}async addEmergencyContact(t,r,n){try{const i=await this.actor.addEmergencyContact(t,r,n);if(i.ok)return i.ok;throw new Error(i.err)}catch(i){throw console.error("Add emergency contact failed:",i),i}}async completeRecoverySetup(){try{const t=await this.actor.completeRecoverySetup();if(t.ok)return t.ok;throw new Error(t.err)}catch(t){throw console.error("Complete recovery setup failed:",t),t}}async initiateRecovery(t,r){try{await this.ensureActor();const n=await this.actor.initiateRecovery(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){if(console.error("Initiate recovery failed:",n),n.message&&(n.message.includes("has no query method")||n.message.includes("CanisterError")))return console.log("Using mock recovery implementation"),{recoveryRequestId:`mock-${Date.now()}`,message:`Recovery initiated via ${r}. Check your ${r==="email"?"email":"phone"} for verification code.`};throw n}}async verifyRecovery(t,r,n){try{await this.ensureActor();const i=await this.actor.verifyRecovery(t,r?[r]:[],n?[n]:[]);if(i.ok)return i.ok;throw new Error(i.err)}catch(i){if(console.error("Verify recovery failed:",i),i.message&&(i.message.includes("has no query method")||i.message.includes("CanisterError"))){if(console.log("Using mock verification implementation"),r&&r.length===6)return{success:!0,message:"Verification successful"};if(n&&Object.keys(n).length>0)return{success:!0,message:"Security questions verified"};throw new Error("Invalid or expired verification code")}throw i}}async completeRecovery(t,r){try{await this.ensureActor();const n=await this.actor.completeRecovery(t,r?[r]:[]);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){if(console.error("Complete recovery failed:",n),n.message&&(n.message.includes("has no query method")||n.message.includes("CanisterError")))return console.log("Using mock completion implementation"),{success:!0,message:"Recovery completed successfully"};throw n}}async linkRecoveredAccount(t,r){try{await this.ensureActor();const n=await this.actor.linkRecoveredAccount(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Link recovered account failed:",n),n}}async createCryptoWallet(t,r,n,i=null,o=null){try{await this.ensureActor();const a=await this.actor.createCryptoWallet(t,r,n,i?[i]:[],o?[o]:[]);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Create crypto wallet failed:",a),a}}async getUserCryptoWallets(){try{await this.ensureActor();const t=await this.actor.getUserCryptoWallets();if(t.ok){const r=t.ok.map(n=>({...n,createdAt:n.createdAt?n.createdAt.toString():null,updatedAt:n.updatedAt?n.updatedAt.toString():null,lastSyncAt:n.lastSyncAt?n.lastSyncAt.toString():null}));return Pc(r)}else throw new Error(t.err)}catch(t){if(t.message&&(t.message.includes("has no query method")||t.message.includes("CanisterError")))return[];throw console.error("Get user crypto wallets failed:",t),t}}async updateCryptoWalletBalance(t,r){try{await this.ensureActor();const n=await this.actor.updateCryptoWalletBalance(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Update crypto wallet balance failed:",n),n}}async sendVerificationCode(t,r){try{await this.ensureActor();const n=await this.actor.sendVerificationCode(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Send verification code failed:",n),n}}async verifyCode(t,r,n){try{await this.ensureActor();const i=await this.actor.verifyCode(t,r,n);if(i.ok)return i.ok;throw new Error(i.err)}catch(i){throw console.error("Verify code failed:",i),i}}async getRecoveryRequestStatus(t){try{return await this.ensureActor(),await this.actor.getRecoveryRequestStatus(t)}catch(r){throw console.error("Get recovery request status failed:",r),r}}async greet(t){try{return await this.actor.greet(t)}catch(r){throw console.error("Greet failed:",r),r}}async getUserPaymentMethods(){try{await this.ensureActor();const t=await this.actor.getUserPaymentMethods();if(t.ok)return t.ok;throw new Error(t.err)}catch(t){return console.error("Get user payment methods failed:",t),[]}}async addPaymentMethod(t,r,n,i,o){try{await this.ensureActor();const a=await this.actor.addPaymentMethod(t,r?[r]:[],n?[n]:[],i,o);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Add payment method failed:",a),a}}async updatePaymentMethod(t,r,n,i,o){try{await this.ensureActor();const a=await this.actor.updatePaymentMethod(t,r?[r]:[],n?[n]:[],i,o);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Update payment method failed:",a),a}}async removePaymentMethod(t){try{await this.ensureActor();const r=await this.actor.removePaymentMethod(t);if(r.ok)return r.ok;throw new Error(r.err)}catch(r){throw console.error("Remove payment method failed:",r),r}}async initiateLocalPayment(t,r,n,i,o,a,l){try{await this.ensureActor();const c=await this.actor.initiateLocalPayment(t,r,n,i,o?[o]:[],a?[a]:[],l?[l]:[]);if(c.ok)return c.ok;throw new Error(c.err)}catch(c){throw console.error("Initiate local payment failed:",c),c}}async getUserPaymentHistory(){try{await this.ensureActor();const t=await this.actor.getUserPaymentHistory();if(t.ok)return t.ok;throw new Error(t.err)}catch(t){return console.error("Get user payment history failed:",t),[]}}async getUserVaults(){await this.ensureActor();try{return await this.actor.getUserVaults()}catch(t){return console.error("Failed to get user vaults:",t),[]}}async getUserGroupVaults(){await this.ensureActor();try{return await this.actor.getUserGroupVaults()}catch(t){throw console.error("Failed to get user group vaults:",t),t}}async getPublicVaults(){await this.ensureActor();try{return await this.actor.getPublicVaults()}catch(t){throw console.error("Failed to get public vaults:",t),t}}async createVault(t,r,n,i,o,a,l,c){await this.ensureActor();try{return await this.actor.createVault(t,r,n,i,o,a,l,c)}catch(d){throw console.error("Failed to create vault:",d),d}}async createGroupVault(t,r,n,i,o,a,l){await this.ensureActor();try{return await this.actor.createGroupVault(t,r?[r]:[],n,i,o?[o]:[],a,l?[l]:[])}catch(c){throw console.error("Failed to create group vault:",c),c}}async joinGroupVault(t){await this.ensureActor();try{return await this.actor.joinVault(t)}catch(r){throw console.error("Failed to join group vault:",r),r}}async getVaultDetails(t){await this.ensureActor();try{return await this.actor.getVaultDetails(t)}catch(r){throw console.error("Failed to get vault details:",r),r}}async inviteVaultMember(t,r,n){await this.ensureActor();try{let i;if(typeof r=="string")try{const{Principal:a}=await $0(()=>Promise.resolve().then(()=>S4),void 0,import.meta.url);i=a.fromText(r)}catch{throw new Error("Invalid principal format: "+r)}else i=r;const o=await this.actor.inviteToVault(t,i,n);if(o.ok)return{ok:{invitationId:o.ok.id,message:"Invitation sent successfully"}};throw new Error(o.err)}catch(i){throw console.error("Failed to invite vault member:",i),i}}async respondToVaultInvitation(t,r){await this.ensureActor();try{const n=await this.actor.respondToVaultInvitation(t,r);if(n.ok)return n;throw new Error(n.err)}catch(n){throw console.error("Failed to respond to vault invitation:",n),n}}async toggleVaultPrivacy(t,r){await this.ensureActor();try{return{ok:{vaultId:t,isPublic:r}}}catch(n){throw console.error("Failed to toggle vault privacy:",n),n}}async removeVaultMember(t,r){await this.ensureActor();try{const n=await this.actor.removeMember(t,r);if(n.ok)return n;throw new Error(n.err)}catch(n){throw console.error("Failed to remove vault member:",n),n}}async changeVaultMemberRole(t,r,n){await this.ensureActor();try{const i=await this.actor.changeMemberRole(t,r,n);if(i.ok)return i;throw new Error(i.err)}catch(i){throw console.error("Failed to change vault member role:",i),i}}async editGroupVault(t,r){await this.ensureActor();try{return{ok:{vaultId:t,fields:r,updated:!0}}}catch(n){throw console.error("Failed to edit group vault:",n),n}}async depositToVault(t,r,n){await this.ensureActor();try{const i=await this.actor.depositToVault(t,parseFloat(r),n?[n]:[]);if(i.ok)return i;throw new Error(i.err)}catch(i){throw console.error("Failed to deposit to vault:",i),i}}async withdrawFromVault(t,r,n){await this.ensureActor();try{const i=await this.actor.withdrawFromVault(t,parseFloat(r),n?[n]:[]);if(i.ok)return i;throw new Error(i.err)}catch(i){throw console.error("Failed to withdraw from vault:",i),i}}async deleteGroupVault(t){await this.ensureActor();try{return{ok:{vaultId:t,deleted:!0}}}catch(r){throw console.error("Failed to delete group vault:",r),r}}async proposeVaultAction(t,r,n=null,i=null){await this.ensureActor();try{return{ok:{vaultId:t,actionType:r,targetId:n,newRole:i,proposed:!0}}}catch(o){throw console.error("Failed to propose vault action:",o),o}}async voteVaultAction(t,r){await this.ensureActor();try{return{ok:{proposalId:t,approve:r,voted:!0}}}catch(n){throw console.error("Failed to vote vault action:",n),n}}async appealVaultAction(t,r){await this.ensureActor();try{return{ok:{proposalId:t,reason:r,appealed:!0}}}catch(n){throw console.error("Failed to appeal vault action:",n),n}}async getVaultProposals(t){await this.ensureActor();try{return{ok:[]}}catch(r){throw console.error("Failed to get vault proposals:",r),r}}async createVaultChatRoom(t,r,n=null){try{return await this.ensureActor(),await this.actor.createVaultChatRoom(t,r,n?[n]:[])}catch(i){throw console.error("Failed to create vault chat room:",i),i}}async joinVaultChat(t,r){try{return await this.ensureActor(),await this.actor.joinVaultChat(t,r)}catch(n){throw console.error("Failed to join vault chat:",n),n}}async sendVaultMessage(t,r,n="Text",i=null){try{await this.ensureActor();let o;switch(n){case"Text":o={Text:null};break;case"System":o={System:null};break;case"Transaction":o={Transaction:null};break;case"Image":o={Image:null};break;case"File":o={File:null};break;case"Reaction":o={Reaction:null};break;default:o={Text:null}}return await this.actor.sendVaultMessage(t,r,o,i?[i]:[])}catch(o){throw console.error("Failed to send vault message:",o),o}}async getVaultMessages(t,r=50,n=0){var i;try{return await this.ensureActor(),console.log("Getting vault messages for vaultId:",t),console.log("Current principal:",(i=this.principal)==null?void 0:i.toString()),console.log("Is authenticated:",this.isAuthenticated),await this.actor.getVaultMessages(t,r,n)}catch(o){throw console.error("Failed to get vault messages:",o),o}}async updateTypingStatus(t,r){try{return await this.ensureActor(),await this.actor.updateTypingStatus(t,r)}catch(n){throw console.error("Failed to update typing status:",n),n}}async getTypingIndicators(t){try{return await this.ensureActor(),await this.actor.getTypingIndicators(t)}catch(r){throw console.error("Failed to get typing indicators:",r),r}}async markMessagesAsRead(t,r){try{return await this.ensureActor(),await this.actor.markMessagesAsRead(t,r)}catch(n){throw console.error("Failed to mark messages as read:",n),n}}async getUserChatNotifications(t=20,r=0){try{return await this.ensureActor(),await this.actor.getUserChatNotifications(t,r)}catch(n){throw console.error("Failed to get user chat notifications:",n),n}}async leaveVaultChat(t){try{return await this.ensureActor(),await this.actor.leaveVaultChat(t)}catch(r){throw console.error("Failed to leave vault chat:",r),r}}async getVaultChatMembers(t){try{return await this.ensureActor(),await this.actor.getVaultChatMembers(t)}catch(r){throw console.error("Failed to get vault chat members:",r),r}}async getTokenMetadata(){try{return await(await this.ensureActor()).getTokenMetadata()}catch(t){throw console.error("Error getting token metadata:",t),t}}async balanceOf(t){try{return await(await this.ensureActor()).balanceOf(t)}catch(r){throw console.error("Error getting balance:",r),r}}async getTotalBalance(t){try{return await(await this.ensureActor()).getTotalBalance(t)}catch(r){throw console.error("Error getting total balance:",r),r}}async allowance(t,r){try{return await(await this.ensureActor()).allowance(t,r)}catch(n){throw console.error("Error getting allowance:",n),n}}async transfer(t,r){try{return await(await this.ensureActor()).transfer(t,r)}catch(n){throw console.error("Error transferring tokens:",n),n}}async approve(t,r){try{return await(await this.ensureActor()).approve(t,r)}catch(n){throw console.error("Error approving tokens:",n),n}}async transferFrom(t,r,n){try{return await(await this.ensureActor()).transferFrom(t,r,n)}catch(i){throw console.error("Error transferring from:",i),i}}async mint(t,r,n){try{return await(await this.ensureActor()).mint(t,r,n)}catch(i){throw console.error("Error minting tokens:",i),i}}async burn(t,r){try{return await(await this.ensureActor()).burn(t,r)}catch(n){throw console.error("Error burning tokens:",n),n}}async stake(t){try{return await(await this.ensureActor()).stake(t)}catch(r){throw console.error("Error staking tokens:",r),r}}async unstake(t){try{return await(await this.ensureActor()).unstake(t)}catch(r){throw console.error("Error unstaking tokens:",r),r}}async claimRewards(){try{return await(await this.ensureActor()).claimRewards()}catch(t){throw console.error("Error claiming rewards:",t),t}}async getStakingInfo(t){try{return await(await this.ensureActor()).getStakingInfo(t)}catch(r){throw console.error("Error getting staking info:",r),r}}async getTotalStaked(){try{return await(await this.ensureActor()).getTotalStaked()}catch(t){throw console.error("Error getting total staked:",t),t}}async getTransferHistory(t=10,r=0){try{return await(await this.ensureActor()).getTransferHistory(t,r)}catch(n){throw console.error("Error getting transfer history:",n),n}}async getMintHistory(t=10,r=0){try{return await(await this.ensureActor()).getMintHistory(t,r)}catch(n){throw console.error("Error getting mint history:",n),n}}async getBurnHistory(t=10,r=0){try{return await(await this.ensureActor()).getBurnHistory(t,r)}catch(n){throw console.error("Error getting burn history:",n),n}}async sendCrypto(t,r,n,i=null){try{return await(await this.ensureActor()).sendCrypto(t,r,n,i)}catch(o){throw console.error("Error sending crypto:",o),o}}async transferBetweenWallets(t,r,n,i=null){try{return await(await this.ensureActor()).transferBetweenWallets(t,r,n,i)}catch(o){throw console.error("Error transferring between wallets:",o),o}}async getWalletTransactionHistory(t,r=20,n=0){try{return await(await this.ensureActor()).getWalletTransactionHistory(t,r,n)}catch(i){throw console.error("Error getting wallet transaction history:",i),i}}async updateTransactionStatus(t,r,n=null,i=null){try{return await(await this.ensureActor()).updateTransactionStatus(t,r,n,i)}catch(o){throw console.error("Error updating transaction status:",o),o}}async getUserCryptoTransactions(){try{return await(await this.ensureActor()).getUserCryptoTransactions()}catch(t){throw console.error("Error getting user crypto transactions:",t),t}}async getDepositAddress(t){try{return await(await this.ensureActor()).getDepositAddress(t)}catch(r){throw console.error("Error getting deposit address:",r),r}}async getDepositAddresses(){try{return await(await this.ensureActor()).getDepositAddresses()}catch(t){throw console.error("Error getting deposit addresses:",t),t}}async getUSDTtoKESRate(){try{try{const n=await fetch("https://api.binance.com/api/v3/ticker/price?symbol=USDTNGN",{method:"GET",headers:{"Content-Type":"application/json"}});if(n.ok){const i=await n.json(),o=parseFloat(i.price),a=await fetch("https://api.exchangerate-api.com/v4/latest/NGN",{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok){const c=(await a.json()).rates.KES,d=o*c;return console.log(`Binance NGN Success: 1 USDT = ${o} NGN = ${d} KES (NGN/KES: ${c})`),d}}}catch{console.log("Binance NGN failed, trying Binance USD...")}try{const n=await fetch("https://api.binance.com/api/v3/ticker/price?symbol=USDTUSD",{method:"GET",headers:{"Content-Type":"application/json"}});if(n.ok){const i=await n.json(),o=parseFloat(i.price),a=await fetch("https://api.exchangerate-api.com/v4/latest/USD",{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok){const c=(await a.json()).rates.KES,d=o*c;return console.log(`Binance USD Success: 1 USDT = ${o} USD = ${d} KES (USD/KES: ${c})`),d}}}catch{console.log("Binance USD failed, trying CoinGecko...")}try{const n=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=tether&vs_currencies=kes",{method:"GET",headers:{"Content-Type":"application/json"}});if(n.ok){const i=await n.json();if(i.tether&&i.tether.kes){const o=i.tether.kes;return console.log(`CoinGecko Direct KES Success: 1 USDT = ${o} KES`),o}}}catch{console.log("Direct KES rate failed, trying USD conversion...")}try{const n=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=tether&vs_currencies=usd",{method:"GET",headers:{"Content-Type":"application/json"}});if(n.ok){const o=(await n.json()).tether.usd,a=await fetch("https://api.exchangerate-api.com/v4/latest/USD",{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok){const c=(await a.json()).rates.KES,d=o*c;return console.log(`USD Conversion Success: 1 USDT = ${o} USD = ${d} KES (USD/KES: ${c})`),d}}}catch{console.log("USD conversion failed, trying NGN...")}try{const n=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=tether&vs_currencies=ngn",{method:"GET",headers:{"Content-Type":"application/json"}});if(n.ok){const o=(await n.json()).tether.ngn,a=await fetch("https://api.exchangerate-api.com/v4/latest/NGN",{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok){const c=(await a.json()).rates.KES,d=o*c;return console.log(`NGN Conversion Success: 1 USDT = ${o} NGN = ${d} KES (NGN/KES: ${c})`),d}}}catch{console.log("NGN conversion failed, trying backend...")}const r=await(await this.ensureActor()).getUSDTtoKESRate();if("ok"in r)return console.log(`Backend fallback: 1 USDT = ${r.ok} KES`),r.ok;throw new Error(r.err)}catch(t){console.error("All conversion rate methods failed:",t);const r=135.5;return console.log(`Using fallback rate: 1 USDT = ${r} KES`),r}}async processPaybillPayment(t){var r;try{const i=await(await this.ensureActor()).processPaybillPayment(t);if("ok"in i)return{transactionId:i.ok.id,mpesaReceipt:((r=i.ok.mpesaReceipt)==null?void 0:r[0])||null,status:i.ok.status,message:"Payment processed successfully"};throw new Error(i.err)}catch(n){throw console.error("Error processing paybill payment:",n),new Error("Payment processing failed")}}async getPaybillTransactionHistory(){try{const r=await(await this.ensureActor()).getPaybillTransactionHistory();if("ok"in r)return r.ok;throw new Error(r.err)}catch(t){throw console.error("Error fetching paybill transaction history:",t),t}}async getAvailableBills(){try{const r=await(await this.ensureActor()).getAvailableBills();if("ok"in r)return r.ok;throw new Error(r.err)}catch(t){throw console.error("Error fetching available bills:",t),t}}async getUserWallets(){try{const r=await(await this.ensureActor()).getUserWallets();if("ok"in r)return r.ok;throw new Error(r.err)}catch(t){throw console.error("Error fetching user wallets:",t),t}}async getCryptoRates(){try{const t={};try{const r=["USDTNGN","USDTUSD","BTCUSDT","ETHUSDT"];for(const n of r){const i=await fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${n}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(i.ok){const o=await i.json();t[n]=parseFloat(o.price)}}}catch{console.log("Binance API failed, trying CoinGecko...")}if(Object.keys(t).length===0)try{const r=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=tether,bitcoin,ethereum&vs_currencies=ngn,usd",{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const n=await r.json();n.tether&&(t.USDTNGN=n.tether.ngn,t.USDTUSD=n.tether.usd),n.bitcoin&&(t.BTCUSD=n.bitcoin.usd),n.ethereum&&(t.ETHUSD=n.ethereum.usd)}}catch{console.log("CoinGecko API also failed")}return t}catch(t){return console.error("Error fetching crypto rates:",t),{}}}async getEnhancedUSDTtoKESRate(){try{return await this.getUSDTtoKESRate()}catch(t){return console.error("Error in enhanced rate calculation:",t),this.getUSDTtoKESRate()}}async initiateMpesaDeposit(t){try{const n=await(await this.ensureActor()).processDeposit({kesAmount:t.kesAmount,usdtAmount:t.usdtAmount,phoneNumber:t.phoneNumber,conversionRate:t.conversionRate}),i=await this.initiateMpesaSTKPush(t.phoneNumber,t.kesAmount,"174379","Nisto Deposit","CustomerPayBillOnline");return{...n,mpesaCheckoutRequestID:i.CheckoutRequestID,mpesaMerchantRequestID:i.MerchantRequestID,mpesaResponseCode:i.ResponseCode,mpesaResponseDescription:i.ResponseDescription,mpesaCustomerMessage:i.CustomerMessage}}catch(r){throw console.error("Error processing deposit with Mpesa:",r),r}}async getDepositHistory(){try{const r=await(await this.ensureActor()).getDepositHistory();if("ok"in r)return r.ok;throw new Error(r.err)}catch(t){throw console.error("Error fetching deposit history:",t),t}}async getDarajaAccessToken(){try{const r=await fetch("/mpesa/oauth/token",{method:"GET"});if(!r.ok)throw new Error("Failed to get Daraja access token");return(await r.json()).access_token}catch(t){throw console.error("Error getting Daraja access token:",t),t}}generateDarajaPassword(t,r,n){const i=t+r+n;return btoa(i)}async initiateMpesaSTKPush(t,r,n,i,o="CustomerPayBillOnline"){try{const a=await this.getDarajaAccessToken(),l=new Date,c=l.getFullYear().toString()+(l.getMonth()+1).toString().padStart(2,"0")+l.getDate().toString().padStart(2,"0")+l.getHours().toString().padStart(2,"0")+l.getMinutes().toString().padStart(2,"0")+l.getSeconds().toString().padStart(2,"0"),d="bfb279f9aa9bdbcf158e97dd71a467cd2e0c893059b10f78e6b72ada1ed2c919",b=this.generateDarajaPassword(n,d,c),y={BusinessShortCode:n,Password:b,Timestamp:c,TransactionType:o,Amount:Math.round(r),PartyA:t,PartyB:n,PhoneNumber:t,CallBackURL:"https://your-app.com/mpesa/callback",AccountReference:i,TransactionDesc:`Payment for ${i}`},u=await fetch("/mpesa/stkpush",{method:"POST",headers:{"Content-Type":"application/json","x-access-token":a},body:JSON.stringify(y)});if(u.ok)return await u.json();{const g=await u.json();throw new Error(g.errorMessage||"STK Push failed")}}catch(a){throw console.error("Error initiating STK Push:",a),a}}async initiateMpesaB2CPayout(t,r,n="Payout",i="",o="BusinessPayment"){try{const l=await fetch("/mpesa/b2c/payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t,amount:r,remarks:n,occasion:i,commandId:o})});if(!l.ok){const c=await l.json().catch(()=>({}));throw new Error(c.error||"B2C payout failed")}return await l.json()}catch(a){throw console.error("Error initiating B2C payout:",a),a}}async processPaybillPaymentWithMpesa(t){try{const r=await this.processPaybillPayment(t);let n=null;return t.billId==="send-money"?n=await this.initiateMpesaSTKPush(t.phoneNumber,t.kesAmount,"174379",t.recipientName||"Send Money","CustomerPayBillOnline"):t.billId==="buy-goods"?n=await this.initiateMpesaSTKPush(t.phoneNumber,t.kesAmount,"174379",t.accountReference||"Buy Goods","CustomerBuyGoodsOnline"):n=await this.initiateMpesaSTKPush(t.phoneNumber,t.kesAmount,t.paybillNumber||"174379",t.accountReference||"Paybill","CustomerPayBillOnline"),{...r,mpesaCheckoutRequestID:n.CheckoutRequestID,mpesaMerchantRequestID:n.MerchantRequestID,mpesaResponseCode:n.ResponseCode,mpesaResponseDescription:n.ResponseDescription,mpesaCustomerMessage:n.CustomerMessage}}catch(r){throw console.error("Error processing payment with Mpesa:",r),r}}async createNotification(t,r,n,i,o,a){try{await this.ensureActor();const l=await this.actor.createNotification(t,r,n,i,o,a);return console.log("BackendService: Notification created:",l),l}catch(l){throw console.error("BackendService: Failed to create notification:",l),l}}async getUserNotifications(t=20,r=0){try{await this.ensureActor(),console.log("BackendService: Calling actor.getUserNotifications() with limit:",t,"offset:",r);const n=await this.actor.getUserNotifications(t,r);console.log("BackendService: Actor returned:",n),console.log("BackendService: Result type:",typeof n);const i=a=>{if(a==null)return a;if(typeof a=="bigint")return a.toString();if(Array.isArray(a))return a.map(i);if(typeof a=="object"){const l={};for(const[c,d]of Object.entries(a))l[c]=i(d);return l}return a},o=i(n);return console.log("BackendService: Safe result structure:",o),o}catch(n){throw console.error("BackendService: Failed to get notifications:",n),n}}async markNotificationAsRead(t){try{await this.ensureActor();const r=await this.actor.markNotificationAsRead(t);return console.log("BackendService: Notification marked as read:",r),r}catch(r){throw console.error("BackendService: Failed to mark notification as read:",r),r}}async markAllNotificationsAsRead(){try{await this.ensureActor();const t=await this.actor.markAllNotificationsAsRead();return console.log("BackendService: All notifications marked as read:",t),t}catch(t){throw console.error("BackendService: Failed to mark all notifications as read:",t),t}}async deleteNotification(t){try{await this.ensureActor();const r=await this.actor.deleteNotification(t);return console.log("BackendService: Notification deleted:",r),r}catch(r){throw console.error("BackendService: Failed to delete notification:",r),r}}async getUnreadNotificationCount(){try{await this.ensureActor();const t=await this.actor.getUnreadNotificationCount();return console.log("BackendService: Unread notification count:",t),typeof t=="bigint"?Number(t):t}catch(t){return console.error("BackendService: Failed to get unread notification count:",t),0}}async addPushSubscription(t){try{await this.ensureActor();const r=await this.actor.addPushSubscription(t);return console.log("BackendService: Push subscription added:",r),r}catch(r){throw console.error("BackendService: Failed to add push subscription:",r),r}}async removePushSubscription(t){try{await this.ensureActor();const r=await this.actor.removePushSubscription(t);return console.log("BackendService: Push subscription removed:",r),r}catch(r){throw console.error("BackendService: Failed to remove push subscription:",r),r}}async updateNotificationPreferences(t,r,n,i,o,a,l,c,d,b,y,m){try{await this.ensureActor();const u=await this.actor.updateNotificationPreferences(t,r,n,i,o,a,l,c,d,b,y,m);return console.log("BackendService: Notification preferences updated:",u),u}catch(u){throw console.error("BackendService: Failed to update notification preferences:",u),u}}async getNotificationPreferences(){try{await this.ensureActor();const t=await this.actor.getNotificationPreferences();return console.log("BackendService: Retrieved notification preferences:",t),t}catch(t){throw console.error("BackendService: Failed to get notification preferences:",t),t}}async sendCrossCanisterNotification(t,r){try{await this.ensureActor();const n=await this.actor.sendCrossCanisterNotification(t,r);return console.log("BackendService: Cross-canister notification sent:",n),n}catch(n){throw console.error("BackendService: Failed to send cross-canister notification:",n),n}}}const V2=T.createContext();function o3({children:e}){console.log("🔄 AuthProvider: Initializing...");const[t,r]=T.useState(null),[n,i]=T.useState(null),[o,a]=T.useState(!1),[l,c]=T.useState(!0),[d,b]=T.useState([]),[y,m]=T.useState([]),[u,g]=T.useState(null);T.useEffect(()=>{(async()=>{console.log("🔄 AuthContext: Starting Perfect Authentication Flow..."),c(!0);try{console.log("📦 Step 1: Creating BackendService...");const S=new Da;g(S),console.log("✅ Step 1: BackendService created successfully"),console.log("🔧 Step 2: Initializing BackendService...");const p=await S.init();console.log("✅ Step 2: BackendService initialized with result:",p);const x=S.isInitialized();if(console.log("🔍 Step 3: BackendService initialization check:",x),!x)throw new Error("BackendService failed to initialize properly");const G=S.isAuthenticated;console.log("🔐 Step 4: Authentication status check:",G),a(G);const te=S.getCurrentPrincipal();i(te),console.log("🆔 Step 5: Principal set:",te),G?(console.log("👤 Step 6: Loading authenticated user data..."),await N(S)):(console.log("👤 Step 6: No authenticated user, skipping user data load"),r(null),b([]),m([])),console.log("🎉 AuthContext: Perfect Authentication Flow completed successfully!")}catch(S){console.error("❌ AuthContext: Authentication flow failed:",S),console.log("🔄 AuthContext: Creating fallback BackendService...");const p=new Da;g(p),a(!1),r(null),i(null),b([]),m([]),console.log("⚠️ AuthContext: Fallback BackendService created - retry available")}finally{c(!1),console.log("🏁 AuthContext: Authentication flow initialization complete")}})()},[]),T.useEffect(()=>{u&&t&&window.notificationContext&&window.notificationContext.initializeRealTimeService(u)},[u,t]);const N=async se=>{try{console.log("📥 Loading user data...");const S=await se.getUser();r(S),console.log("✅ User profile loaded:",(S==null?void 0:S.displayName)||(S==null?void 0:S.username)||"No name");const p=await se.getUserRecoveryMethods();b(p||[]),console.log("✅ Recovery methods loaded:",(p==null?void 0:p.length)||0,"methods");const x=await se.getUserCryptoWallets();m(x||[]),console.log("✅ Crypto wallets loaded:",(x==null?void 0:x.length)||0,"wallets")}catch(S){console.error("❌ Failed to load user data:",S),r(null),b([]),m([])}},W=T.useCallback(async(se=u)=>{if(se)try{let S=await se.getUser();r(S)}catch{r(null)}},[u]),v=T.useCallback(async(se=u)=>{if(se)try{const S=await se.getUserRecoveryMethods();b(S||[])}catch{b([])}},[u]),w=T.useCallback(async(se=u)=>{if(se)try{const S=await se.getUserCryptoWallets();m(S||[])}catch{m([])}},[u]),j=T.useCallback(async()=>{console.log("🔄 AuthContext: Starting Perfect Retry Initialization Flow..."),c(!0);try{if(!u)throw new Error("BackendService not available for retry");console.log("🔍 Step 1: Validating BackendService for retry..."),console.log("✅ Step 1: BackendService available for retry"),console.log("🌐 Step 2: Checking DFX connection...");const se=await u.checkDfxConnection();if(console.log("🔍 Step 2: DFX running status:",se),!se)throw new Error("DFX is not running. Please start dfx with: dfx start --clean --background");console.log("✅ Step 2: DFX connection confirmed"),console.log("🔧 Step 3: Reinitializing actor...");const S=await u.reinitializeActor();console.log("✅ Step 3: Actor reinitialized:",S),console.log("🔄 Step 4: Reinitializing BackendService...");const p=await u.init();console.log("✅ Step 4: BackendService reinitialized with result:",p),console.log("🔐 Step 5: Updating authentication state...");const x=u.isInitialized();console.log("🔍 Step 5: BackendService initialization check:",x);const G=u.isAuthenticated;a(G),console.log("🔐 Step 5: Authentication status updated:",G);const te=u.getCurrentPrincipal();return i(te),console.log("🆔 Step 5: Principal updated:",te),G?(console.log("📥 Step 6: Loading user data for authenticated user..."),await N(u)):(console.log("👤 Step 6: No authenticated user, clearing user data..."),r(null),b([]),m([])),console.log("🎉 AuthContext: Perfect Retry Initialization Flow completed successfully!"),p}catch(se){throw console.error("❌ AuthContext: Retry initialization flow failed:",se),se}finally{c(!1),console.log("🏁 AuthContext: Retry initialization flow complete")}},[u]),F=T.useCallback(async()=>{if(!u)return null;try{const se=await u.generateUsernameFromPrincipal();return await W(),se}catch(se){return console.error("Failed to generate username:",se),null}},[u,W]),C=T.useCallback(async()=>{if(console.log("🔐 AuthContext: Starting Perfect Login Flow..."),!u)throw new Error("BackendService not initialized");c(!0);try{if(console.log("🔍 Step 1: Validating BackendService..."),!u.isInitialized())throw new Error("BackendService is not properly initialized");console.log("✅ Step 1: BackendService validated"),console.log("🌐 Step 2: Starting Internet Identity authentication...");const S=await u.login();console.log("✅ Step 2: Internet Identity authentication successful"),console.log("🎉 Step 3: Authentication successful, updating state..."),a(!0);const p=u.getCurrentPrincipal();i(p),console.log("🆔 Step 4: Principal set:",p),console.log("📥 Step 5: Loading user data..."),await N(u),console.log("👤 Step 6: Checking username generation...");try{const x=await u.getUser();x&&(!x.displayName||!x.username)?(console.log("🔄 Step 6: Auto-generating username for new user..."),await F(),console.log("✅ Step 6: Username generated successfully")):console.log("✅ Step 6: User already has username, skipping generation")}catch(x){console.warn("⚠️ Step 6: Failed to auto-generate username:",x)}return console.log("🎉 AuthContext: Perfect Login Flow completed successfully!"),S}catch(se){throw console.error("❌ AuthContext: Login flow failed:",se),se}finally{c(!1),console.log("🏁 AuthContext: Login flow complete")}},[u,F]),B=T.useCallback(async()=>{if(u){c(!0);try{await u.logout(),a(!1),r(null),i(null),b([]),m([])}finally{c(!1)}}},[u]),R=T.useCallback(async(...se)=>{if(!u)throw new Error("BackendService not initialized");return u.completeRecoverySetup(...se)},[u]),M=T.useCallback(async(...se)=>{if(!u)throw new Error("BackendService not initialized");return u.initiateRecovery(...se)},[u]),Z=T.useCallback(async(...se)=>{if(!u)throw new Error("BackendService not initialized");return u.verifyRecovery(...se)},[u]),$=T.useCallback(async(...se)=>{if(!u)throw new Error("BackendService not initialized");return u.completeRecovery(...se)},[u]),q=T.useCallback(async(...se)=>{if(!u)throw new Error("BackendService not initialized");return u.linkRecoveredAccount(...se)},[u]),X=T.useCallback(async()=>{if(!u)return[];try{return await u.getUserRecoveryMethods()}catch(se){return console.error("Failed to get user recovery methods:",se),[]}},[u]),A=T.useCallback(async(se,S,p=null)=>{if(!u)throw new Error("BackendService not initialized");try{return await u.addRecoveryMethod(se,S,p)}catch(x){throw console.error("Failed to add recovery method:",x),x}},[u]),O=T.useCallback(async(se,S)=>{if(!u)throw new Error("BackendService not initialized");const p=await u.updateUser(se,S);return await W(),p},[u,W]),V=T.useCallback(async(se,S)=>{if(!u)throw new Error("BackendService not initialized");return u.updateCryptoWalletBalance(se,S)},[u]),Y=T.useCallback(async()=>{if(!u)return[];try{const se=await u.getUserGroupVaults();return se.ok?se.ok:(console.error("Failed to get user group vaults:",se.err),[])}catch(se){return console.error("Failed to get user group vaults:",se),[]}},[u]),re=T.useCallback(async()=>{if(!u)return[];try{const se=await u.getPublicVaults();return se.ok?se.ok:(console.error("Failed to get public vaults:",se.err),[])}catch(se){return console.error("Failed to get public vaults:",se),[]}},[u]),Q=T.useCallback(async(se,S,p,x,G,te,le)=>{if(!u)throw new Error("BackendService not initialized");return u.createGroupVault(se,S,p,x,G,te,le)},[u]),ee=T.useCallback(async se=>{if(!u)throw new Error("BackendService not initialized");return u.joinGroupVault(se)},[u]),de=T.useCallback(async se=>{if(!u)throw new Error("BackendService not initialized");return u.getVaultDetails(se)},[u]),ue=T.useCallback(async(se,S,p)=>{if(!u)throw new Error("BackendService not initialized");return u.inviteVaultMember(se,S,p)},[u]),ae=T.useCallback(async(se,S)=>{if(!u)throw new Error("BackendService not initialized");return u.respondToVaultInvitation(se,S)},[u]),he=T.useCallback(async(se,S)=>{if(!u)throw new Error("BackendService not initialized");return u.toggleVaultPrivacy(se,S)},[u]),z=T.useCallback(async(se,S)=>{if(!u)throw new Error("BackendService not initialized");return u.removeVaultMember(se,S)},[u]),Te=T.useCallback(async(se,S,p)=>{if(!u)throw new Error("BackendService not initialized");return u.changeVaultMemberRole(se,S,p)},[u]),be=T.useCallback(async(se,S)=>{if(!u)throw new Error("BackendService not initialized");return u.editGroupVault(se,S)},[u]),xe=T.useCallback(async(se,S,p)=>{if(!u)throw new Error("BackendService not initialized");return u.depositToVault(se,S,p)},[u]),me=T.useCallback(async(se,S,p)=>{if(!u)throw new Error("BackendService not initialized");return u.withdrawFromVault(se,S,p)},[u]),ge=T.useCallback(async se=>{if(!u)throw new Error("BackendService not initialized");return u.deleteGroupVault(se)},[u]),U=T.useCallback(async(se,S,p=null,x=null)=>{if(!u)throw new Error("BackendService not initialized");return u.proposeVaultAction(se,S,p,x)},[u]),H=T.useCallback(async(se,S,p,x,G,te)=>{if(!u)throw new Error("BackendService not initialized");return u.createNotification(se,S,p,x,G,te)},[u]),J=T.useCallback(async(se=20,S=0)=>{if(!u)return[];try{console.log("AuthContext: Calling backend.getUserNotifications() with limit:",se,"offset:",S);const p=await u.getUserNotifications(se,S);return console.log("AuthContext: Backend returned:",p),p&&p.ok!==void 0?(console.log("AuthContext: Returning result.ok:",p.ok),p.ok):Array.isArray(p)?(console.log("AuthContext: Returning direct array:",p),p):(console.error("AuthContext: Unexpected result format:",p),[])}catch(p){return console.error("AuthContext: Failed to get user notifications:",p),[]}},[u]),D=T.useCallback(async se=>{if(!u)throw new Error("BackendService not initialized");return u.markNotificationAsRead(se)},[u]),K=T.useCallback(async()=>{if(!u)throw new Error("BackendService not initialized");return u.markAllNotificationsAsRead()},[u]),L=T.useCallback(async se=>{if(!u)throw new Error("BackendService not initialized");return u.deleteNotification(se)},[u]),k=T.useCallback(async se=>{if(!u)throw new Error("BackendService not initialized");return u.addPushSubscription(se)},[u]),h=T.useCallback(async se=>{if(!u)throw new Error("BackendService not initialized");return u.removePushSubscription(se)},[u]),f=T.useCallback(async(se,S,p,x,G,te,le,ce,_e,ze,Re,Ne)=>{if(!u)throw new Error("BackendService not initialized");return u.updateNotificationPreferences(se,S,p,x,G,te,le,ce,_e,ze,Re,Ne)},[u]),E=T.useCallback(async()=>{if(!u)return null;try{const se=await u.getNotificationPreferences();return se.ok?se.ok:(console.error("Failed to get notification preferences:",se.err),null)}catch(se){return console.error("Failed to get notification preferences:",se),null}},[u]),P=T.useCallback(async(se,S)=>{if(!u)throw new Error("BackendService not initialized");return u.sendCrossCanisterNotification(se,S)},[u]),_=T.useCallback(async()=>{if(!u)return 0;try{console.log("AuthContext: Calling backend.getUnreadNotificationCount()");const se=await u.getUnreadNotificationCount();return console.log("AuthContext: Backend returned:",se),se&&se.ok!==void 0?(console.log("AuthContext: Returning result.ok:",se.ok),se.ok):typeof se=="number"?(console.log("AuthContext: Returning direct number:",se),se):(console.error("AuthContext: Unexpected result format:",se),0)}catch(se){return console.error("AuthContext: Failed to get unread notification count:",se),0}},[u]),oe=T.useCallback(async(se,S)=>{if(!u)throw new Error("BackendService not initialized");return u.voteVaultAction(se,S)},[u]),pe=T.useCallback(async(se,S)=>{if(!u)throw new Error("BackendService not initialized");return u.appealVaultAction(se,S)},[u]),ke=T.useCallback(async se=>{if(!u)throw new Error("BackendService not initialized");return u.getVaultProposals(se)},[u]),ve={user:t,principal:n,isAuthenticated:o,isLoading:l,login:C,logout:B,retryInitialization:j,completeRecoverySetup:R,recoveryMethods:d,cryptoWallets:y,refreshRecoveryMethods:v,refreshCryptoWallets:w,initiateRecovery:M,verifyRecovery:Z,completeRecovery:$,linkRecoveredAccount:q,getUserRecoveryMethods:X,addRecoveryMethod:A,updateCryptoWalletBalance:V,getUserGroupVaults:Y,getPublicVaults:re,createGroupVault:Q,joinGroupVault:ee,getVaultDetails:de,inviteVaultMember:ue,respondToVaultInvitation:ae,toggleVaultPrivacy:he,removeVaultMember:z,changeVaultMemberRole:Te,editGroupVault:be,depositToVault:xe,withdrawFromVault:me,deleteGroupVault:ge,proposeVaultAction:U,voteVaultAction:oe,appealVaultAction:pe,getVaultProposals:ke,createNotification:H,getUserNotifications:J,markNotificationAsRead:D,markAllNotificationsAsRead:K,deleteNotification:L,addPushSubscription:k,removePushSubscription:h,updateNotificationPreferences:f,getNotificationPreferences:E,sendCrossCanisterNotification:P,getUnreadNotificationCount:_,backendService:u,backend:u,actor:(u==null?void 0:u.actor)||null,updateProfile:O,generateUsername:F};return console.log("🔄 AuthProvider: Context value created:",{isAuthenticated:o,isLoading:l,hasBackend:!!u,hasUser:!!t}),s.jsx(V2.Provider,{value:ve,children:e})}function Qt(){const e=T.useContext(V2);return e===void 0?(console.error("useAuth must be used within an AuthProvider"),{user:null,principal:null,isAuthenticated:!1,isLoading:!0,login:()=>Promise.reject(new Error("Auth not initialized")),logout:()=>Promise.reject(new Error("Auth not initialized")),retryInitialization:()=>Promise.reject(new Error("Auth not initialized")),recoveryMethods:[],cryptoWallets:[],refreshRecoveryMethods:()=>Promise.reject(new Error("Auth not initialized")),refreshCryptoWallets:()=>Promise.reject(new Error("Auth not initialized")),updateProfile:()=>Promise.reject(new Error("Auth not initialized")),generateUsername:()=>Promise.reject(new Error("Auth not initialized")),backend:null,backendService:null,actor:null}):e}const Ce={colors:{primary:"#113F67",white:"#fff",black:"#000000",background:{primary:"#fff",secondary:"#f8f9fa",tertiary:"#e9ecef"},surface:"#fff",text:{primary:"#113F67",secondary:"#666666",muted:"#999999",inverse:"#fff"},success:"#28a745",warning:"#ffc107",error:{hex:"#dc3545",r:220,g:53,b:69},info:"#17a2b8",interactive:{primary:"#113F67",secondary:"#f8f9fa",hover:"#0d2f4f",active:"#0a253f",disabled:"#e9ecef"},border:{primary:"#dee2e6",secondary:"#e9ecef",accent:"#113F67"},shadow:{light:"rgba(17, 63, 103, 0.1)",medium:"rgba(17, 63, 103, 0.2)",dark:"rgba(17, 63, 103, 0.3)"}},typography:{fontFamily:{primary:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',mono:'SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace'},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem"},fontWeight:{normal:400,medium:500,semibold:600,bold:700},lineHeight:{tight:1.25,normal:1.5,relaxed:1.75}},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem","3xl":"4rem"},borderRadius:{none:"0",sm:"0.25rem",md:"0.5rem",lg:"0.75rem",xl:"1rem",full:"9999px"},shadows:{sm:"0 1px 2px 0 rgba(17, 63, 103, 0.05)",md:"0 4px 6px -1px rgba(17, 63, 103, 0.1)",lg:"0 10px 15px -3px rgba(17, 63, 103, 0.1)",xl:"0 20px 25px -5px rgba(17, 63, 103, 0.1)"},transitions:{fast:"0.15s ease-in-out",normal:"0.2s ease-in-out",slow:"0.3s ease-in-out"}};Ce.colors.primary,Ce.colors.white,`${Ce.colors.primary}`,Ce.colors.interactive.hover,`${Ce.colors.interactive.hover}`,Ce.colors.white,Ce.colors.primary,`${Ce.colors.border.primary}`,Ce.colors.interactive.secondary,`${Ce.colors.border.accent}`,Ce.colors.primary,`${Ce.colors.primary}`,Ce.colors.primary,Ce.colors.white,Ce.colors.white,`${Ce.colors.border.primary}`,Ce.shadows.md,Ce.colors.white,`${Ce.colors.border.primary}`,Ce.colors.text.primary,Ce.colors.white,`${Ce.colors.border.primary}`,Ce.colors.text.primary,Ce.colors.text.muted,`${Ce.colors.primary}`,`${Ce.colors.shadow.light}`,Ce.colors.white,`${Ce.colors.border.primary}`,Ce.colors.text.secondary,Ce.colors.primary,Ce.colors.interactive.secondary,Ce.colors.primary,Ce.colors.interactive.secondary;const i3={"--nisto-primary":Ce.colors.primary,"--nisto-white":Ce.colors.white,"--nisto-black":Ce.colors.black,"--nisto-background-primary":Ce.colors.background.primary,"--nisto-background-secondary":Ce.colors.background.secondary,"--nisto-background-tertiary":Ce.colors.background.tertiary,"--nisto-surface":Ce.colors.surface,"--nisto-text-primary":Ce.colors.text.primary,"--nisto-text-secondary":Ce.colors.text.secondary,"--nisto-text-muted":Ce.colors.text.muted,"--nisto-text-inverse":Ce.colors.text.inverse,"--nisto-border-primary":Ce.colors.border.primary,"--nisto-border-secondary":Ce.colors.border.secondary,"--nisto-border-accent":Ce.colors.border.accent,"--nisto-shadow-light":Ce.colors.shadow.light,"--nisto-shadow-medium":Ce.colors.shadow.medium,"--nisto-shadow-dark":Ce.colors.shadow.dark,"--nisto-success":Ce.colors.success,"--nisto-warning":Ce.colors.warning,"--nisto-error":Ce.colors.error.hex,"--nisto-info":Ce.colors.info},Uh=()=>{const e=document.documentElement;Object.entries(i3).forEach(([t,r])=>{e.style.setProperty(t,r)})},H2=T.createContext();function s3({children:e}){T.useEffect(()=>{Uh(),console.log("🎨 Nisto theme applied globally")},[]);const t={theme:Ce,applyTheme:Uh};return s.jsx(H2.Provider,{value:t,children:e})}function io(){const e=T.useContext(H2);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}class a3{constructor(){this.permission="default",this.isSupported="Notification"in window,this.init()}async init(){if(!this.isSupported){console.warn("Push notifications are not supported in this browser");return}if(this.permission=Notification.permission,this.permission==="default")try{this.permission=await Notification.requestPermission(),console.log("Push notification permission:",this.permission)}catch(t){console.error("Error requesting notification permission:",t),this.permission="denied"}}async requestPermission(){if(!this.isSupported)return!1;try{return this.permission=await Notification.requestPermission(),this.permission==="granted"}catch(t){return console.error("Error requesting notification permission:",t),!1}}showNotification(t){if(!this.isSupported||this.permission!=="granted")return console.warn("Cannot show notification: not supported or permission denied"),null;try{const r=t.title||"Nesto Notification",n=t.message||"You have a new notification",i=t.icon||"/favicon.ico",o={body:n,icon:i,badge:i,tag:t.type||"nesto-notification",requireInteraction:t.priority==="high",silent:!1,data:t,actions:t.actions||[],...t.options},a=new Notification(r,o);a.onclick=c=>{var d;c.preventDefault(),window.focus(),a.close(),(d=t.action)!=null&&d.url&&(window.location.href=t.action.url),t.onClick&&t.onClick(t)},a.onclose=()=>{t.onClose&&t.onClose(t)};const l=t.duration||(t.priority==="high"?0:5e3);return l>0&&setTimeout(()=>{a.close()},l),a}catch(r){return console.error("Error showing push notification:",r),null}}showSecurityAlert(t){return this.showNotification({title:"Security Alert",message:t.message,type:"security",priority:"high",icon:"/security-icon.png",requireInteraction:!0,actions:[{action:"view",title:"View Details"},{action:"dismiss",title:"Dismiss"}],...t})}showPaymentNotification(t){return this.showNotification({title:"Payment Notification",message:t.message,type:"payment",priority:"medium",icon:"/payment-icon.png",duration:8e3,...t})}showVaultNotification(t){return this.showNotification({title:"Vault Update",message:t.message,type:"vault",priority:"medium",icon:"/vault-icon.png",...t})}showSystemNotification(t){return this.showNotification({title:"System Update",message:t.message,type:"system",priority:"low",icon:"/system-icon.png",duration:4e3,...t})}showBatchNotifications(t){const r=[];return t.forEach((n,i)=>{setTimeout(()=>{const o=this.showNotification(n);r.push(o)},i*1e3)}),r}closeAll(){this.isSupported&&console.log("Cannot programmatically close all notifications")}getPermissionStatus(){return{isSupported:this.isSupported,permission:this.permission,canShow:this.isSupported&&this.permission==="granted"}}async subscribeToPush(){if(!this.isSupported)throw new Error("Push notifications not supported");if(this.permission!=="granted"&&!await this.requestPermission())throw new Error("Permission denied");return console.log("Push notification subscription would be implemented here"),{success:!0}}async unsubscribeFromPush(){return console.log("Push notification unsubscription would be implemented here"),{success:!0}}}const An=new a3;class l3{constructor(){this.events={}}on(t,r){this.events[t]||(this.events[t]=[]),this.events[t].push(r)}emit(t,...r){this.events[t]&&this.events[t].forEach(n=>n(...r))}removeAllListeners(t){t?delete this.events[t]:this.events={}}}class c3 extends l3{constructor(){super(),this.isConnected=!1,this.pollingInterval=null,this.lastNotificationId=null,this.backendService=null,this.pollingEnabled=!0,this.pollingIntervalMs=1e4,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=5e3}initialize(t){this.backendService=t,console.log("RealTimeNotificationService initialized")}async start(){if(!this.backendService)return console.error("BackendService not provided to RealTimeNotificationService"),!1;if(this.isConnected)return console.log("RealTimeNotificationService already running"),!0;try{return this.isConnected=!0,this.startPolling(),this.emit("connected"),console.log("RealTimeNotificationService started"),!0}catch(t){return console.error("Failed to start RealTimeNotificationService:",t),this.isConnected=!1,this.emit("error",t),!1}}stop(){this.isConnected&&(this.isConnected=!1,this.stopPolling(),this.emit("disconnected"),console.log("RealTimeNotificationService stopped"))}startPolling(){!this.pollingEnabled||this.pollingInterval||(this.pollingInterval=setInterval(async()=>{await this.checkForNewNotifications()},this.pollingIntervalMs),console.log(`Started polling for notifications every ${this.pollingIntervalMs}ms`))}stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null,console.log("Stopped polling for notifications"))}async checkForNewNotifications(){if(!(!this.backendService||!this.isConnected))try{const t=await this.backendService.getUserNotifications(10,0);if(t&&t.ok&&Array.isArray(t.ok)){const r=t.ok,n=r.filter(i=>this.lastNotificationId?i.id>this.lastNotificationId:!0);n.length>0&&(this.lastNotificationId=Math.max(...r.map(i=>i.id)),this.emit("newNotifications",n),n.forEach(i=>{this.emit("notification",i)}),console.log(`Found ${n.length} new notifications`))}}catch(t){console.error("Error checking for new notifications:",t),this.handleError(t)}}handleError(t){this.emit("error",t),this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),setTimeout(()=>{this.reconnect()},this.reconnectDelay*this.reconnectAttempts)):(console.error("Max reconnection attempts reached"),this.emit("maxReconnectAttemptsReached"))}async reconnect(){try{this.stop(),await this.start(),this.reconnectAttempts=0,console.log("Successfully reconnected")}catch(t){console.error("Failed to reconnect:",t),this.handleError(t)}}async checkNow(){await this.checkForNewNotifications()}setPollingInterval(t){this.pollingIntervalMs=t,this.pollingInterval&&(this.stopPolling(),this.startPolling())}setPollingEnabled(t){this.pollingEnabled=t,t&&this.isConnected&&!this.pollingInterval?this.startPolling():!t&&this.pollingInterval&&this.stopPolling()}getStatus(){return{isConnected:this.isConnected,pollingEnabled:this.pollingEnabled,pollingIntervalMs:this.pollingIntervalMs,reconnectAttempts:this.reconnectAttempts,lastNotificationId:this.lastNotificationId}}subscribeToType(t,r){this.on("notification",n=>{n.type===t&&r(n)})}subscribeToHighPriority(t){this.on("notification",r=>{r.priority==="high"&&t(r)})}subscribeToUnread(t){this.on("notification",r=>{r.read||t(r)})}async connectWebSocket(){return console.log("WebSocket support not yet implemented"),!1}disconnectWebSocket(){console.log("WebSocket support not yet implemented")}}const Vt=new c3,I2=T.createContext();function d3({children:e}){const[t,r]=T.useState([]),[n,i]=T.useState({isConnected:!1,pollingEnabled:!0,reconnectAttempts:0});T.useEffect(()=>{const F=()=>{const B=An.getPermissionStatus();console.log("Push notification status:",B)};F();const C=setInterval(F,5e3);return()=>clearInterval(C)},[]),T.useEffect(()=>{},[]);const o=T.useCallback(F=>{F&&(Vt.initialize(F),Vt.on("connected",()=>{i(C=>({...C,isConnected:!0}))}),Vt.on("disconnected",()=>{i(C=>({...C,isConnected:!1}))}),Vt.on("error",C=>{console.error("Real-time notification error:",C)}),Vt.on("newNotifications",C=>{r(B=>[...C,...B]),C.forEach(B=>{!B.read&&An.getPermissionStatus().canShow&&An.showNotification(B)})}),Vt.on("notification",C=>{console.log("New real-time notification:",C)}),Vt.start())},[]),a=T.useCallback(F=>{const C={...F,id:F.id||Date.now()};r(B=>[C,...B]),!F.read&&An.getPermissionStatus().canShow&&An.showNotification(C)},[]),l=T.useCallback(F=>{r(C=>C.filter(B=>B.id!==F))},[]),c=T.useCallback(()=>{r(F=>F.map(C=>({...C,read:!0})))},[]),d=T.useCallback(()=>{r([])},[]),b=T.useCallback(({type:F="info",title:C,message:B,duration:R=5e3})=>{console.log("Toast notification:",{type:F,title:C,message:B,duration:R})},[]),y=T.useCallback(async()=>{try{await Vt.start()}catch(F){console.error("Failed to start real-time service:",F)}},[]),m=T.useCallback(()=>{Vt.stop()},[]),u=T.useCallback(F=>{Vt.setPollingInterval(F)},[]),g=T.useCallback(F=>{Vt.setPollingEnabled(F),i(C=>({...C,pollingEnabled:F}))},[]),N=T.useCallback(()=>Vt.getStatus(),[]),W=T.useCallback((F,C)=>{Vt.subscribeToType(F,C)},[]),v=T.useCallback(F=>{Vt.subscribeToHighPriority(F)},[]),w=T.useCallback(F=>{Vt.subscribeToUnread(F)},[]);T.useEffect(()=>()=>{Vt.stop()},[]);const j={notifications:t,realTimeStatus:n,addNotification:a,removeNotification:l,markAllAsRead:c,clearNotifications:d,showToast:b,initializeRealTimeService:o,startRealTimeService:y,stopRealTimeService:m,setPollingInterval:u,setPollingEnabled:g,getRealTimeStatus:N,subscribeToType:W,subscribeToHighPriority:v,subscribeToUnread:w,requestPushPermission:An.requestPermission.bind(An),getPushPermissionStatus:An.getPermissionStatus.bind(An)};return s.jsx(I2.Provider,{value:j,children:e})}function Fr(){const e=T.useContext(I2);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e}var q2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ug=pn.createContext&&pn.createContext(q2),u3=["attr","size","title"];function f3(e,t){if(e==null)return{};var r=h3(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Td.apply(this,arguments)}function Wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wg(Object(r),!0).forEach(function(n){p3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p3(e,t,r){return t=m3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m3(e){var t=g3(e,"string");return typeof t=="symbol"?t:t+""}function g3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G2(e){return e&&e.map((t,r)=>pn.createElement(t.tag,Ed({key:r},t.attr),G2(t.child)))}function Se(e){return t=>pn.createElement(y3,Td({attr:Ed({},e.attr)},t),G2(e.child))}function y3(e){var t=r=>{var{attr:n,size:i,title:o}=e,a=f3(e,u3),l=i||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),pn.createElement("svg",Td({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:c,style:Ed(Ed({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&pn.createElement("title",null,o),e.children)};return Ug!==void 0?pn.createElement(Ug.Consumer,null,r=>t(r)):t(q2)}function vs(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function lu(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function x3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function b3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"21 8 21 21 3 21 3 8"},child:[]},{tag:"rect",attr:{x:"1",y:"3",width:"22",height:"5"},child:[]},{tag:"line",attr:{x1:"10",y1:"12",x2:"14",y2:"12"},child:[]}]})(e)}function el(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"8 12 12 16 16 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]}]})(e)}function w3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function cu(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function tl(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"16 12 12 8 8 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"8"},child:[]}]})(e)}function Vg(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function Y2(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function Mc(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function K2(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(e)}function v3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function Z2(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function X2(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function zs(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function Ft(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function rl(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Q2(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function J2(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Ps(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function Vo(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function yf(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(e)}function up(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function De(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function Cr(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Ho(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function fp(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Ms(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Hg(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function S3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(e)}function _d(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function Ig(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function k3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(e)}function L2(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function D2(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function wl(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function hp(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function Wh(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function vl(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function ew(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Ni(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function j3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function Oc(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(e)}function T3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function E3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(e)}function _3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function C3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(e)}function N3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(e)}function tw(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(e)}function Yr(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function rw(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function to(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function Zt(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Vh(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function yr(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function du(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function vt(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function xf(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function Gs(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function A3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(e)}function nw(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(e)}function B3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function Jl(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function Sl(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function pp(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function hr(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function ow(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(e)}function iw(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function Os(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Un(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function ra(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"},child:[]},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function R3(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function Je(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function Hh(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const F3=({isOpen:e,onClose:t})=>{const{login:r,isLoading:n}=Qt(),{showToast:i}=Fr(),[o,a]=T.useState(!1);if(!e)return null;const l=async()=>{a(!0);try{await r(),i({message:"Successfully authenticated!",type:"success"}),t()}catch(d){console.error("Login error:",d),i({message:d.message||"Authentication failed. Please try again.",type:"error"})}finally{a(!1)}},c=()=>{o||t()};return s.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.2s ease-out"},children:[s.jsxs("div",{style:{background:"white",borderRadius:"1rem",maxWidth:"450px",width:"90%",position:"relative",animation:"slideUp 0.3s ease-out"},children:[s.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600",color:"#1e293b"},children:"Sign In"}),s.jsx("button",{onClick:c,disabled:o,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:o?"not-allowed":"pointer",color:"#64748b",padding:"0.5rem",opacity:o?.5:1,transition:"all 0.2s"},onMouseEnter:d=>{o||(d.target.style.color="#374151",d.target.style.transform="scale(1.1)")},onMouseLeave:d=>{d.target.style.color="#64748b",d.target.style.transform="scale(1)"},children:s.jsx(Je,{})})]}),s.jsx("div",{style:{padding:"2rem"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #3b82f6, #1d4ed8)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",margin:"0 auto 1.5rem auto"},children:s.jsx(vt,{size:32})}),s.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Sign In"}),s.jsx("p",{style:{margin:"0 0 2rem 0",color:"#64748b",fontSize:"0.875rem"},children:"Use Internet Identity to securely access your account"}),s.jsx("button",{onClick:l,disabled:o||n,style:{width:"100%",padding:"1rem",background:o||n?"#9ca3af":"linear-gradient(135deg, #3b82f6, #1d4ed8)",color:"white",border:"none",borderRadius:"0.75rem",fontSize:"1rem",fontWeight:"600",cursor:o||n?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",transition:"all 0.2s",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},onMouseEnter:d=>{!o&&!n&&(d.target.style.transform="translateY(-2px)",d.target.style.boxShadow="0 6px 16px rgba(59, 130, 246, 0.4)")},onMouseLeave:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.3)"},children:o||n?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{width:"18px",height:"18px",border:"2px solid transparent",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Signing In..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_d,{size:20}),"Continue with Internet Identity"]})})]})})]}),s.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(30px) scale(0.95);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})},z3=()=>{const[e,t]=T.useState(!1);T.useEffect(()=>{Uh();const n=localStorage.getItem("nisto-theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches;n==="dark"||!n&&i?(t(!0),document.documentElement.classList.add("dark")):(t(!1),document.documentElement.classList.remove("dark"))},[]);const r=()=>{const n=!e;t(n),n?(document.documentElement.classList.add("dark"),localStorage.setItem("nisto-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("nisto-theme","light"))};return s.jsx("button",{onClick:r,style:{position:"fixed",top:"1rem",right:"1rem",zIndex:1e3,width:"48px",height:"48px",borderRadius:"50%",background:Ce.colors.white,border:`1px solid ${Ce.colors.border.primary}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:Ce.colors.primary,fontSize:"1.25rem",transition:Ce.transitions.normal,boxShadow:Ce.shadows.md,":hover":{transform:"scale(1.05)",boxShadow:Ce.shadows.lg}},title:e?"Switch to light mode":"Switch to dark mode",children:e?s.jsx(nw,{size:20}):s.jsx(_3,{size:20})})};function P3(){var N,W,v,w,j,F,C,B,R,M,Z,$,q,X,A,O,V,Y,re,Q,ee,de,ue,ae,he,z,Te,be,xe,me,ge,U,H,J,D,K;const{isAuthenticated:e,user:t,login:r,logout:n,isLoading:i}=Qt(),{theme:o}=io(),[a,l]=T.useState(!1),[c,d]=T.useState(0),[b,y]=T.useState(!1),m=W0();T.useEffect(()=>{const L=()=>d(window.scrollY);return window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)},[]),T.useEffect(()=>{e&&!i&&m("/dashboard")},[e,i,m]);const u=()=>{e?m("/dashboard"):y(!0)},g=()=>{if(window.nesto&&window.nesto.isNesto){alert("Nesto Extension is already installed! 🎉");return}if(!(/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))){alert("Please install Chrome to use the Nisto Extension. We'll support other browsers soon!");return}try{const k="https://chrome.google.com/webstore/detail/nesto-ic-wallet/...";window.open(k,"_blank")}catch(k){console.error("Extension installation error:",k),alert("Please install the Nisto extension from the Chrome Web Store to continue.")}};return s.jsxs("div",{className:"landing-page",style:{backgroundColor:((N=o.colors.background)==null?void 0:N.primary)||o.colors.background},children:[s.jsx(z3,{}),s.jsx("nav",{className:"main-nav",style:{backgroundColor:((W=o.colors.background)==null?void 0:W.primary)||o.colors.background,borderBottom:`1px solid ${o.colors.border.primary}`},children:s.jsxs("div",{className:"nav-container",children:[s.jsxs("div",{className:"nav-content",children:[s.jsxs("div",{className:"nav-brand",children:[s.jsx("div",{className:"brand-logo",style:{backgroundColor:o.colors.primary,width:"32px",height:"32px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"logo-text",style:{color:o.colors.white,fontSize:"16px",fontWeight:"600"},children:"N"})}),s.jsx("span",{className:"brand-name",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginLeft:"12px"},children:"Nisto"})]}),s.jsxs("div",{className:"nav-links-desktop",children:[s.jsx("a",{href:"/#home",className:"nav-link",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"500",textDecoration:"none",marginRight:"24px"},children:"Home"}),s.jsx("a",{href:"/#features",className:"nav-link",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"500",textDecoration:"none",marginRight:"24px"},children:"Features"}),s.jsx("a",{href:"/#extension",className:"nav-link",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"500",textDecoration:"none",marginRight:"24px"},children:"Extension"}),s.jsx("a",{href:"/#tokenomics",className:"nav-link",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"500",textDecoration:"none",marginRight:"24px"},children:"Tokenomics"}),!e&&s.jsx("div",{className:"nav-auth-buttons",children:s.jsx("button",{onClick:u,className:"btn btn-primary nav-cta",disabled:i,style:{backgroundColor:o.colors.primary,color:o.colors.white,fontSize:"14px",fontWeight:"500",padding:"10px 20px",borderRadius:"8px",border:"none",cursor:"pointer"},children:i?"Loading...":"Launch App"})})]}),s.jsxs("button",{className:`mobile-menu-toggle ${a?"active":""}`,onClick:()=>l(!a),children:[s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{})]})]}),s.jsxs("div",{className:`mobile-menu ${a?"active":""}`,children:[s.jsxs("a",{href:"/#home",className:"mobile-nav-link",onClick:()=>l(!1),children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px"},children:s.jsx("path",{d:"M10 20V14H14V20H19V12H22L12 3L2 12H5V20H10Z",fill:"currentColor"})}),"Home"]}),s.jsxs("a",{href:"/#features",className:"mobile-nav-link",onClick:()=>l(!1),children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px"},children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:"currentColor"})}),"Features"]}),s.jsxs("a",{href:"/#extension",className:"mobile-nav-link",onClick:()=>l(!1),children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px"},children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:"currentColor"}),s.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:"currentColor"})]}),"Extension"]}),s.jsxs("a",{href:"/#tokenomics",className:"mobile-nav-link",onClick:()=>l(!1),children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px"},children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:"currentColor"}),s.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:"currentColor"})]}),"Tokenomics"]}),!e&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{l(!1),u()},className:"btn btn-primary",disabled:i,children:[s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px"},children:s.jsx("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",fill:"currentColor"})}),i?"Loading...":"Launch App"]}),s.jsxs("button",{onClick:()=>{l(!1),g()},className:"btn btn-secondary",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px"},children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:"currentColor"}),s.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:"currentColor"})]}),"Get Extension"]})]})]})]})}),s.jsx("section",{id:"home",className:"hero-section",style:{backgroundColor:o.colors.background.secondary,padding:"120px 0 80px 0",minHeight:"100vh",display:"flex",alignItems:"center"},children:s.jsxs("div",{className:"hero-container",style:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"64px",alignItems:"center"},children:[s.jsxs("div",{className:"hero-content",style:{display:"flex",flexDirection:"column",gap:"32px"},children:[s.jsxs("div",{className:"hero-badge",style:{backgroundColor:((v=o.colors.background)==null?void 0:v.primary)||o.colors.background,padding:"12px 20px",borderRadius:"24px",display:"inline-flex",alignItems:"center",gap:"10px",width:"fit-content",border:`1px solid ${o.colors.border.primary}`},children:[s.jsx("svg",{className:"badge-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.primary})}),s.jsx("span",{style:{color:o.colors.text.secondary,fontSize:"13px",fontWeight:"500"},children:"Live on Internet Computer"})]}),s.jsx("div",{className:"hero-title-section",children:s.jsxs("h1",{className:"hero-title",style:{margin:0,lineHeight:"1.2"},children:[s.jsx("span",{className:"title-line",style:{color:o.colors.text.primary,fontSize:"48px",fontWeight:"700",display:"block",marginBottom:"12px"},children:"The Future of"}),s.jsx("span",{className:"title-line",style:{color:o.colors.primary,fontSize:"48px",fontWeight:"700",display:"block",marginBottom:"24px"},children:"Social Finance"})]})}),s.jsx("div",{className:"hero-subtitle-section",children:s.jsx("p",{className:"hero-subtitle",style:{color:o.colors.text.secondary,fontSize:"18px",fontWeight:"400",lineHeight:"1.6",margin:0,maxWidth:"500px"},children:"DeFi, social trading, and AI-powered insights on the Internet Computer. Kenya's first decentralized finance ecosystem with lightning-fast transactions."})}),s.jsxs("div",{className:"hero-stats",style:{display:"flex",gap:"32px",marginTop:"16px"},children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{style:{color:o.colors.primary,fontSize:"24px",fontWeight:"700",marginBottom:"4px"},children:"10K+"}),s.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Active Users"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{style:{color:o.colors.primary,fontSize:"24px",fontWeight:"700",marginBottom:"4px"},children:"$2.5M"}),s.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Trading Volume"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{style:{color:o.colors.primary,fontSize:"24px",fontWeight:"700",marginBottom:"4px"},children:"99.9%"}),s.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Uptime"})]})]}),s.jsxs("div",{className:"hero-actions",style:{display:"flex",gap:"16px",marginTop:"16px"},children:[s.jsxs("button",{onClick:u,className:"btn btn-primary btn-lg hero-cta",style:{backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"12px",padding:"16px 32px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.2s ease"},children:[s.jsx("svg",{className:"btn-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",fill:"currentColor"})}),"Launch App"]}),s.jsxs("button",{onClick:g,className:"btn btn-secondary btn-lg hero-cta",style:{backgroundColor:"transparent",color:o.colors.text.primary,border:`2px solid ${o.colors.border.primary}`,borderRadius:"12px",padding:"16px 32px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.2s ease"},children:[s.jsxs("svg",{className:"btn-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:"currentColor"}),s.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:"currentColor"})]}),"Get Extension"]})]})]}),s.jsxs("div",{className:"hero-visual",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"32px"},children:[s.jsx("div",{className:"desktop-mockup",style:{width:"100%",maxWidth:"400px"},children:s.jsxs("div",{className:"demo-card",style:{backgroundColor:((w=o.colors.background)==null?void 0:w.primary)||o.colors.background,borderRadius:"16px",border:`1px solid ${o.colors.border.primary}`,padding:"32px",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",position:"relative"},children:[s.jsxs("div",{className:"demo-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${o.colors.border.primary}`},children:[s.jsxs("div",{className:"demo-dots",style:{display:"flex",gap:"8px"},children:[s.jsx("span",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.error}}),s.jsx("span",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.warning}}),s.jsx("span",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.success}})]}),s.jsx("div",{style:{fontSize:"14px",color:o.colors.text.secondary,fontWeight:"500",backgroundColor:((j=o.colors.background)==null?void 0:j.secondary)||o.colors.background,padding:"6px 12px",borderRadius:"6px",border:`1px solid ${o.colors.border.primary}`},children:"nisto.finance"})]}),s.jsxs("div",{className:"demo-content",children:[s.jsxs("div",{className:"demo-balance",style:{marginBottom:"24px"},children:[s.jsx("span",{className:"balance-label",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"500",display:"block",marginBottom:"8px"},children:"Total Portfolio Value"}),s.jsx("span",{className:"balance-amount",style:{color:o.colors.text.primary,fontSize:"32px",fontWeight:"700",display:"block",marginBottom:"8px"},children:"KES 125,890"}),s.jsx("span",{style:{color:o.colors.success,fontSize:"16px",fontWeight:"600"},children:"+12.5% today"})]}),s.jsxs("div",{className:"demo-stats",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[s.jsxs("div",{className:"stat",style:{backgroundColor:((F=o.colors.background)==null?void 0:F.secondary)||o.colors.background,padding:"16px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsx("span",{className:"stat-value",style:{color:o.colors.success,fontSize:"20px",fontWeight:"700",display:"block",marginBottom:"4px"},children:"₿0.024"}),s.jsx("span",{className:"stat-label",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"500"},children:"Bitcoin"})]}),s.jsxs("div",{className:"stat",style:{backgroundColor:((C=o.colors.background)==null?void 0:C.secondary)||o.colors.background,padding:"16px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsx("span",{className:"stat-value",style:{color:o.colors.primary,fontSize:"20px",fontWeight:"700",display:"block",marginBottom:"4px"},children:"Ξ0.85"}),s.jsx("span",{className:"stat-label",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"500"},children:"Ethereum"})]})]})]})]})}),s.jsx("div",{className:"mobile-mockup",style:{display:"flex",justifyContent:"center",transform:"translateY(-20px)"},children:s.jsxs("div",{className:"phone-frame",style:{width:"240px",height:"480px",backgroundColor:((B=o.colors.background)==null?void 0:B.primary)||o.colors.background,borderRadius:"24px",border:`3px solid ${o.colors.border.primary}`,padding:"6px",boxShadow:"0 12px 40px rgba(0,0,0,0.2)",position:"relative"},children:[s.jsx("div",{style:{position:"absolute",top:"6px",left:"50%",transform:"translateX(-50%)",width:"100px",height:"4px",backgroundColor:o.colors.border.primary,borderRadius:"2px",zIndex:2}}),s.jsxs("div",{className:"phone-screen",style:{width:"100%",height:"100%",backgroundColor:((R=o.colors.background)==null?void 0:R.primary)||o.colors.background,borderRadius:"18px",overflow:"hidden",position:"relative"},children:[s.jsxs("div",{className:"app-header",style:{backgroundColor:o.colors.primary,padding:"20px 16px 16px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("div",{style:{width:"28px",height:"28px",backgroundColor:o.colors.white,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{style:{color:o.colors.primary,fontSize:"14px",fontWeight:"700"},children:"N"})}),s.jsx("span",{style:{color:o.colors.white,fontSize:"18px",fontWeight:"700"},children:"Nisto"})]}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:o.colors.white})}),s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.white})})]})]}),s.jsxs("div",{className:"app-content",style:{padding:"20px"},children:[s.jsxs("div",{style:{backgroundColor:((M=o.colors.background)==null?void 0:M.secondary)||o.colors.background,borderRadius:"16px",padding:"24px",marginBottom:"20px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"13px",marginBottom:"6px",fontWeight:"500"},children:"Total Balance"}),s.jsx("div",{style:{color:o.colors.text.primary,fontSize:"28px",fontWeight:"700",marginBottom:"10px"},children:"KES 125,890"}),s.jsx("div",{style:{color:o.colors.success,fontSize:"16px",fontWeight:"600"},children:"+12.5% today"})]}),s.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"24px"},children:[s.jsx("button",{style:{flex:1,backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"10px",padding:"14px",fontSize:"13px",fontWeight:"600"},children:"Send"}),s.jsx("button",{style:{flex:1,backgroundColor:((Z=o.colors.background)==null?void 0:Z.secondary)||o.colors.background,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"10px",padding:"14px",fontSize:"13px",fontWeight:"600"},children:"Receive"}),s.jsx("button",{style:{flex:1,backgroundColor:(($=o.colors.background)==null?void 0:$.secondary)||o.colors.background,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"10px",padding:"14px",fontSize:"13px",fontWeight:"600"},children:"Swap"})]}),s.jsxs("div",{children:[s.jsx("div",{style:{color:o.colors.text.primary,fontSize:"15px",fontWeight:"600",marginBottom:"16px"},children:"Recent Activity"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:((q=o.colors.background)==null?void 0:q.secondary)||o.colors.background,borderRadius:"10px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsx("div",{style:{width:"36px",height:"36px",backgroundColor:o.colors.success,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.white})})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{color:o.colors.text.primary,fontSize:"13px",fontWeight:"600",marginBottom:"2px"},children:"Received BTC"}),s.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"11px"},children:"2 minutes ago"})]}),s.jsx("div",{style:{color:o.colors.success,fontSize:"13px",fontWeight:"700"},children:"+₿0.001"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:((X=o.colors.background)==null?void 0:X.secondary)||o.colors.background,borderRadius:"10px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsx("div",{style:{width:"36px",height:"36px",backgroundColor:o.colors.primary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.white})})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{color:o.colors.text.primary,fontSize:"13px",fontWeight:"600",marginBottom:"2px"},children:"Sent ETH"}),s.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"11px"},children:"1 hour ago"})]}),s.jsx("div",{style:{color:o.colors.error,fontSize:"13px",fontWeight:"700"},children:"-Ξ0.05"})]})]})]})]})]})]})})]})]})}),s.jsx("section",{id:"features",className:"features-section",style:{backgroundColor:o.colors.background.secondary},children:s.jsxs("div",{className:"features-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:"Key Features"}),s.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Everything you need for modern crypto finance"})]}),s.jsxs("div",{className:"features-grid",children:[s.jsxs("div",{className:"feature-card",style:{backgroundColor:((A=o.colors.background)==null?void 0:A.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsxs("svg",{className:"feature-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:o.colors.primary}),s.jsx("path",{d:"M2 17L12 22L22 17",fill:o.colors.primary}),s.jsx("path",{d:"M2 12L12 17L22 12",fill:o.colors.primary})]}),s.jsx("h3",{className:"feature-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginTop:"16px"},children:"DeFi Integration"}),s.jsx("p",{className:"feature-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",lineHeight:"1.5",marginTop:"8px"},children:"Access lending, borrowing, and yield farming protocols seamlessly."})]}),s.jsxs("div",{className:"feature-card",style:{backgroundColor:((O=o.colors.background)==null?void 0:O.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsxs("svg",{className:"feature-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M16 4C16 5.1 15.1 6 14 6C12.9 6 12 5.1 12 4C12 2.9 12.9 2 14 2C15.1 2 16 2.9 16 4Z",fill:o.colors.primary}),s.jsx("path",{d:"M8 4C8 5.1 7.1 6 6 6C4.9 6 4 5.1 4 4C4 2.9 4.9 2 6 2C7.1 2 8 2.9 8 4Z",fill:o.colors.primary}),s.jsx("path",{d:"M16 20C16 21.1 15.1 22 14 22C12.9 22 12 21.1 12 20C12 18.9 12.9 18 14 18C15.1 18 16 18.9 16 20Z",fill:o.colors.primary}),s.jsx("path",{d:"M8 20C8 21.1 7.1 22 6 22C4.9 22 4 21.1 4 20C4 18.9 4.9 18 6 18C7.1 18 8 18.9 8 20Z",fill:o.colors.primary}),s.jsx("path",{d:"M12 12C12 13.1 11.1 14 10 14C8.9 14 8 13.1 8 12C8 10.9 8.9 10 10 10C11.1 10 12 10.9 12 12Z",fill:o.colors.primary}),s.jsx("path",{d:"M16 12C16 13.1 15.1 14 14 14C12.9 14 12 13.1 12 12C12 10.9 12.9 10 14 10C15.1 10 16 10.9 16 12Z",fill:o.colors.primary})]}),s.jsx("h3",{className:"feature-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginTop:"16px"},children:"Social Trading"}),s.jsx("p",{className:"feature-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",lineHeight:"1.5",marginTop:"8px"},children:"Follow top traders and share strategies with the community."})]}),s.jsxs("div",{className:"feature-card",style:{backgroundColor:((V=o.colors.background)==null?void 0:V.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsxs("svg",{className:"feature-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:o.colors.primary}),s.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:o.colors.primary})]}),s.jsx("h3",{className:"feature-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginTop:"16px"},children:"AI Insights"}),s.jsx("p",{className:"feature-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",lineHeight:"1.5",marginTop:"8px"},children:"Get personalized investment recommendations and market analysis."})]}),s.jsxs("div",{className:"feature-card",style:{backgroundColor:((Y=o.colors.background)==null?void 0:Y.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsxs("svg",{className:"feature-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M17 2H7C5.9 2 5 2.9 5 4V20C5 21.1 5.9 22 7 22H17C18.1 22 19 21.1 19 20V4C19 2.9 18.1 2 17 2ZM17 20H7V4H17V20Z",fill:o.colors.primary}),s.jsx("path",{d:"M12 18C13.1 18 14 17.1 14 16C14 14.9 13.1 14 12 14C10.9 14 10 14.9 10 16C10 17.1 10.9 18 12 18Z",fill:o.colors.primary})]}),s.jsx("h3",{className:"feature-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginTop:"16px"},children:"Mobile Money"}),s.jsx("p",{className:"feature-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",lineHeight:"1.5",marginTop:"8px"},children:"Seamlessly connect M-Pesa and Airtel Money for easy crypto on-ramps and off-ramps."})]})]})]})}),s.jsx("section",{id:"extension",className:"extension-section",style:{backgroundColor:((re=o.colors.background)==null?void 0:re.primary)||o.colors.background},children:s.jsxs("div",{className:"extension-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:"Browser Extension"}),s.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Access Nisto directly from your browser for seamless DeFi interactions"})]}),s.jsxs("div",{className:"extension-content",children:[s.jsx("div",{className:"extension-preview",children:s.jsxs("div",{className:"browser-mockup",style:{backgroundColor:o.colors.background.secondary,borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsxs("div",{className:"browser-header",style:{backgroundColor:o.colors.background.tertiary,padding:"12px",borderBottom:`1px solid ${o.colors.border.primary}`,borderRadius:"12px 12px 0 0"},children:[s.jsxs("div",{className:"browser-controls",style:{display:"flex",gap:"8px"},children:[s.jsx("span",{className:"control",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.error}}),s.jsx("span",{className:"control",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.warning}}),s.jsx("span",{className:"control",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.success}})]}),s.jsx("div",{className:"browser-url",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"500",textAlign:"center",marginTop:"8px"},children:"nisto.finance"})]}),s.jsx("div",{className:"browser-content",style:{padding:"24px"},children:s.jsxs("div",{className:"extension-popup",style:{backgroundColor:((Q=o.colors.background)==null?void 0:Q.primary)||o.colors.background,borderRadius:"8px",padding:"16px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsxs("div",{className:"popup-header",style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[s.jsx("div",{className:"popup-logo",style:{backgroundColor:o.colors.primary,width:"24px",height:"24px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{style:{color:o.colors.white,fontSize:"12px",fontWeight:"600"},children:"N"})}),s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"14px",fontWeight:"600",margin:0},children:"Nisto Wallet"})]}),s.jsxs("div",{className:"popup-balance",style:{marginBottom:"16px"},children:[s.jsx("div",{className:"balance-label",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400"},children:"Total Balance"}),s.jsx("div",{className:"balance-amount",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"700"},children:"KES 125,890"})]}),s.jsxs("div",{className:"popup-actions",style:{display:"flex",gap:"8px"},children:[s.jsx("button",{className:"popup-btn",style:{backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"12px",fontWeight:"500",flex:1},children:"Send"}),s.jsx("button",{className:"popup-btn",style:{backgroundColor:o.colors.background.tertiary,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"6px",padding:"8px 12px",fontSize:"12px",fontWeight:"500",flex:1},children:"Receive"}),s.jsx("button",{className:"popup-btn",style:{backgroundColor:o.colors.background.tertiary,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"6px",padding:"8px 12px",fontSize:"12px",fontWeight:"500",flex:1},children:"Swap"})]})]})})]})}),s.jsxs("div",{className:"extension-info",children:[s.jsxs("div",{className:"extension-features",children:[s.jsxs("div",{className:"feature-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"20px"},children:[s.jsx("svg",{className:"feature-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1Z",fill:o.colors.primary})}),s.jsxs("div",{className:"feature-content",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Secure Wallet"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Your keys, your crypto. Non-custodial wallet with hardware wallet support."})]})]}),s.jsxs("div",{className:"feature-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"20px"},children:[s.jsx("svg",{className:"feature-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",fill:o.colors.primary})}),s.jsxs("div",{className:"feature-content",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Instant Transactions"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Lightning-fast transactions on ICP with minimal fees."})]})]}),s.jsxs("div",{className:"feature-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"20px"},children:[s.jsxs("svg",{className:"feature-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:o.colors.primary}),s.jsx("path",{d:"M2 17L12 22L22 17",fill:o.colors.primary}),s.jsx("path",{d:"M2 12L12 17L22 12",fill:o.colors.primary})]}),s.jsxs("div",{className:"feature-content",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"DeFi Integration"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Access DEXs, lending protocols, and yield farms directly from your browser."})]})]})]}),s.jsxs("div",{className:"download-buttons",style:{marginTop:"32px"},children:[s.jsxs("button",{className:"btn btn-primary btn-lg",style:{backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500",marginRight:"12px"},children:[s.jsxs("svg",{className:"btn-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px"},children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:"currentColor"}),s.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:"currentColor"})]}),"Add to Chrome"]}),s.jsxs("button",{className:"btn btn-secondary btn-lg",style:{backgroundColor:o.colors.background.tertiary,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500"},children:[s.jsxs("svg",{className:"btn-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px"},children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:"currentColor"}),s.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:"currentColor"})]}),"Add to Firefox"]})]})]})]})]})}),s.jsx("section",{id:"tokenomics",className:"tokenomics-section",style:{backgroundColor:o.colors.background.secondary},children:s.jsxs("div",{className:"tokenomics-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:"Tokenomics"}),s.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"$NESTO token distribution and utility"})]}),s.jsxs("div",{className:"tokenomics-content",children:[s.jsx("div",{className:"tokenomics-overview",children:s.jsxs("div",{className:"token-stats",children:[s.jsxs("div",{className:"stat-card",style:{backgroundColor:((ee=o.colors.background)==null?void 0:ee.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`,textAlign:"center"},children:[s.jsx("div",{className:"stat-number",style:{color:o.colors.primary,fontSize:"32px",fontWeight:"700",marginBottom:"8px"},children:"100M"}),s.jsx("div",{className:"stat-label",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Total Supply"})]}),s.jsxs("div",{className:"stat-card",style:{backgroundColor:((de=o.colors.background)==null?void 0:de.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`,textAlign:"center"},children:[s.jsx("div",{className:"stat-number",style:{color:o.colors.primary,fontSize:"32px",fontWeight:"700",marginBottom:"8px"},children:"$0.01"}),s.jsx("div",{className:"stat-label",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Initial Price"})]}),s.jsxs("div",{className:"stat-card",style:{backgroundColor:((ue=o.colors.background)==null?void 0:ue.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`,textAlign:"center"},children:[s.jsx("div",{className:"stat-number",style:{color:o.colors.primary,fontSize:"32px",fontWeight:"700",marginBottom:"8px"},children:"ICP"}),s.jsx("div",{className:"stat-label",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Network"})]})]})}),s.jsxs("div",{className:"tokenomics-distribution",children:[s.jsx("h3",{style:{color:o.colors.text.primary,fontSize:"20px",fontWeight:"600",marginBottom:"24px"},children:"Token Distribution"}),s.jsxs("div",{className:"distribution-chart",children:[s.jsxs("div",{className:"distribution-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",backgroundColor:((ae=o.colors.background)==null?void 0:ae.primary)||o.colors.background,borderRadius:"8px",marginBottom:"12px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsxs("div",{className:"item-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("div",{className:"item-color",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.primary}}),s.jsxs("div",{className:"item-content",children:[s.jsx("div",{className:"item-name",style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600"},children:"Public Sale"}),s.jsx("div",{className:"item-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Community and early supporters"})]})]}),s.jsx("div",{className:"item-percentage",style:{color:o.colors.primary,fontSize:"18px",fontWeight:"700"},children:"40%"})]}),s.jsxs("div",{className:"distribution-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",backgroundColor:o.colors.background.primary,borderRadius:"8px",marginBottom:"12px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsxs("div",{className:"item-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("div",{className:"item-color",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.success}}),s.jsxs("div",{className:"item-content",children:[s.jsx("div",{className:"item-name",style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600"},children:"Ecosystem"}),s.jsx("div",{className:"item-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Development and partnerships"})]})]}),s.jsx("div",{className:"item-percentage",style:{color:o.colors.success,fontSize:"18px",fontWeight:"700"},children:"30%"})]}),s.jsxs("div",{className:"distribution-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",backgroundColor:o.colors.background.primary,borderRadius:"8px",marginBottom:"12px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsxs("div",{className:"item-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("div",{className:"item-color",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.warning}}),s.jsxs("div",{className:"item-content",children:[s.jsx("div",{className:"item-name",style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600"},children:"Team & Advisors"}),s.jsx("div",{className:"item-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Core team and advisors"})]})]}),s.jsx("div",{className:"item-percentage",style:{color:o.colors.warning,fontSize:"18px",fontWeight:"700"},children:"20%"})]}),s.jsxs("div",{className:"distribution-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",backgroundColor:o.colors.background.primary,borderRadius:"8px",marginBottom:"12px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsxs("div",{className:"item-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("div",{className:"item-color",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.error}}),s.jsxs("div",{className:"item-content",children:[s.jsx("div",{className:"item-name",style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600"},children:"Reserve Fund"}),s.jsx("div",{className:"item-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Emergency fund and future initiatives"})]})]}),s.jsx("div",{className:"item-percentage",style:{color:o.colors.error,fontSize:"18px",fontWeight:"700"},children:"10%"})]})]})]})]})]})}),s.jsx("section",{className:"airdrop-section",style:{backgroundColor:((he=o.colors.background)==null?void 0:he.primary)||o.colors.background},children:s.jsxs("div",{className:"airdrop-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsxs("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:[s.jsx("svg",{className:"airdrop-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px",verticalAlign:"middle"},children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.primary})}),"Massive Airdrop Coming!"]}),s.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Join Nisto early and earn your share of 100M $NESTO tokens. The earlier you join, the more you earn!"})]}),s.jsxs("div",{className:"airdrop-tiers",children:[s.jsxs("div",{className:"tier-card",style:{backgroundColor:o.colors.background.secondary,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`,textAlign:"center"},children:[s.jsx("div",{className:"tier-icon",style:{fontSize:"32px",marginBottom:"16px"},children:"🥇"}),s.jsx("h3",{className:"tier-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"Early Bird"}),s.jsx("div",{className:"tier-reward",style:{color:o.colors.primary,fontSize:"24px",fontWeight:"700",marginBottom:"12px"},children:"1,000 NESTO"}),s.jsx("p",{className:"tier-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginBottom:"20px"},children:"First 1,000 users to join"}),s.jsx("button",{className:"btn btn-primary",style:{backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500"},children:"Join Now"})]}),s.jsxs("div",{className:"tier-card",style:{backgroundColor:o.colors.background.secondary,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`,textAlign:"center"},children:[s.jsx("div",{className:"tier-icon",style:{fontSize:"32px",marginBottom:"16px"},children:"🥈"}),s.jsx("h3",{className:"tier-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"Beta Tester"}),s.jsx("div",{className:"tier-reward",style:{color:o.colors.primary,fontSize:"24px",fontWeight:"700",marginBottom:"12px"},children:"500 NESTO"}),s.jsx("p",{className:"tier-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginBottom:"20px"},children:"Next 5,000 users"}),s.jsx("button",{className:"btn btn-secondary",style:{backgroundColor:o.colors.background.tertiary,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500"},children:"Join Now"})]}),s.jsxs("div",{className:"tier-card",style:{backgroundColor:o.colors.background.secondary,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`,textAlign:"center"},children:[s.jsx("div",{className:"tier-icon",style:{fontSize:"32px",marginBottom:"16px"},children:"🥉"}),s.jsx("h3",{className:"tier-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"Community"}),s.jsx("div",{className:"tier-reward",style:{color:o.colors.primary,fontSize:"24px",fontWeight:"700",marginBottom:"12px"},children:"100 NESTO"}),s.jsx("p",{className:"tier-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginBottom:"20px"},children:"All other users"}),s.jsx("button",{className:"btn btn-secondary",style:{backgroundColor:o.colors.background.tertiary,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500"},children:"Join Now"})]})]})]})}),s.jsx("section",{className:"waiting-list-section",style:{backgroundColor:((z=o.colors.background)==null?void 0:z.primary)||o.colors.background},children:s.jsxs("div",{className:"waiting-list-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsxs("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:[s.jsxs("svg",{className:"waiting-list-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px",verticalAlign:"middle"},children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:o.colors.primary}),s.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:o.colors.primary})]}),"Join the Waiting List"]}),s.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Be among the first to experience the future of social finance"})]}),s.jsxs("div",{className:"waiting-list-content",children:[s.jsx("div",{className:"waiting-list-info",children:s.jsxs("div",{className:"benefits-list",children:[s.jsxs("div",{className:"benefit-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[s.jsxs("svg",{className:"benefit-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M9 12L11 14L15 10",stroke:o.colors.success,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.success})]}),s.jsxs("div",{className:"benefit-content",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Early Access"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Get exclusive early access to new features and updates."})]})]}),s.jsxs("div",{className:"benefit-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[s.jsx("svg",{className:"benefit-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.success})}),s.jsxs("div",{className:"benefit-content",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Priority Support"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Receive priority customer support and dedicated assistance."})]})]}),s.jsxs("div",{className:"benefit-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[s.jsx("svg",{className:"benefit-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.success})}),s.jsxs("div",{className:"benefit-content",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Exclusive Rewards"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Earn exclusive rewards and bonuses for being an early adopter."})]})]})]})}),s.jsx("div",{className:"waiting-list-form",children:s.jsxs("div",{className:"form-card",style:{backgroundColor:((Te=o.colors.background)==null?void 0:Te.secondary)||o.colors.background,borderRadius:"12px",padding:"32px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsx("h3",{style:{color:o.colors.text.primary,fontSize:"20px",fontWeight:"600",marginBottom:"16px"},children:"Get Early Access"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginBottom:"24px",lineHeight:"1.5"},children:"Join thousands of users waiting to experience the future of DeFi"}),s.jsx("div",{className:"form-group",style:{marginBottom:"16px"},children:s.jsx("input",{type:"email",placeholder:"Enter your email address",style:{width:"100%",padding:"12px 16px",border:`1px solid ${o.colors.border.primary}`,borderRadius:"8px",fontSize:"14px",backgroundColor:((be=o.colors.background)==null?void 0:be.primary)||o.colors.background,color:o.colors.text.primary}})}),s.jsx("button",{className:"btn btn-primary",style:{width:"100%",backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Join Waiting List"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400",marginTop:"12px",textAlign:"center"},children:"No spam, unsubscribe at any time"})]})})]})]})}),s.jsx("section",{className:"airdrop-section",style:{backgroundColor:((xe=o.colors.background)==null?void 0:xe.primary)||o.colors.background},children:s.jsxs("div",{className:"airdrop-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsxs("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:[s.jsx("svg",{className:"airdrop-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px",verticalAlign:"middle"},children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.primary})}),"Massive Airdrop Coming!"]}),s.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Join the biggest airdrop in African DeFi history"})]}),s.jsxs("div",{className:"airdrop-content",children:[s.jsx("div",{className:"airdrop-info",children:s.jsxs("div",{className:"airdrop-details",children:[s.jsxs("div",{className:"airdrop-stat",style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"24px"},children:[s.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:o.colors.primary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.white})})}),s.jsxs("div",{children:[s.jsx("div",{style:{color:o.colors.text.primary,fontSize:"20px",fontWeight:"700",marginBottom:"4px"},children:"1,000,000 NESTO"}),s.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Total Airdrop Value"})]})]}),s.jsxs("div",{className:"airdrop-stat",style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"24px"},children:[s.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:o.colors.success,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M16 4C16 5.1 15.1 6 14 6C12.9 6 12 5.1 12 4C12 2.9 12.9 2 14 2C15.1 2 16 2.9 16 4Z",fill:o.colors.white}),s.jsx("path",{d:"M8 4C8 5.1 7.1 6 6 6C4.9 6 4 5.1 4 4C4 2.9 4.9 2 6 2C7.1 2 8 2.9 8 4Z",fill:o.colors.white}),s.jsx("path",{d:"M16 20C16 21.1 15.1 22 14 22C12.9 22 12 21.1 12 20C12 18.9 12.9 18 14 18C15.1 18 16 18.9 16 20Z",fill:o.colors.white}),s.jsx("path",{d:"M8 20C8 21.1 7.1 22 6 22C4.9 22 4 21.1 4 20C4 18.9 4.9 18 6 18C7.1 18 8 18.9 8 20Z",fill:o.colors.white}),s.jsx("path",{d:"M12 12C12 13.1 11.1 14 10 14C8.9 14 8 13.1 8 12C8 10.9 8.9 10 10 10C11.1 10 12 10.9 12 12Z",fill:o.colors.white}),s.jsx("path",{d:"M16 12C16 13.1 15.1 14 14 14C12.9 14 12 13.1 12 12C12 10.9 12.9 10 14 10C15.1 10 16 10.9 16 12Z",fill:o.colors.white})]})}),s.jsxs("div",{children:[s.jsx("div",{style:{color:o.colors.text.primary,fontSize:"20px",fontWeight:"700",marginBottom:"4px"},children:"10,000 Users"}),s.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Eligible Participants"})]})]}),s.jsxs("div",{className:"airdrop-stat",style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"24px"},children:[s.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:o.colors.warning,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:o.colors.white}),s.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:o.colors.white})]})}),s.jsxs("div",{children:[s.jsx("div",{style:{color:o.colors.text.primary,fontSize:"20px",fontWeight:"700",marginBottom:"4px"},children:"100 NESTO"}),s.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Per User"})]})]})]})}),s.jsx("div",{className:"airdrop-form",children:s.jsxs("div",{className:"form-card",style:{backgroundColor:((me=o.colors.background)==null?void 0:me.secondary)||o.colors.background,borderRadius:"16px",padding:"32px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsx("h3",{style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700",marginBottom:"16px"},children:"Join the Airdrop"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"16px",fontWeight:"400",marginBottom:"24px",lineHeight:"1.5"},children:"Be among the first 10,000 users to receive free NESTO tokens"}),s.jsx("div",{className:"form-group",style:{marginBottom:"16px"},children:s.jsx("input",{type:"email",placeholder:"Enter your email address",style:{width:"100%",padding:"16px",border:`1px solid ${o.colors.border.primary}`,borderRadius:"12px",fontSize:"16px",backgroundColor:((ge=o.colors.background)==null?void 0:ge.primary)||o.colors.background,color:o.colors.text.primary}})}),s.jsx("div",{className:"form-group",style:{marginBottom:"24px"},children:s.jsx("input",{type:"text",placeholder:"Your ICP wallet address",style:{width:"100%",padding:"16px",border:`1px solid ${o.colors.border.primary}`,borderRadius:"12px",fontSize:"16px",backgroundColor:((U=o.colors.background)==null?void 0:U.primary)||o.colors.background,color:o.colors.text.primary}})}),s.jsx("button",{className:"btn btn-primary",style:{width:"100%",backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"12px",padding:"16px 24px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Join Airdrop"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginTop:"16px",textAlign:"center"},children:"Airdrop distribution starts on March 1st, 2024"})]})})]})]})}),s.jsx("section",{className:"waiting-list-section",style:{backgroundColor:((H=o.colors.background)==null?void 0:H.primary)||o.colors.background},children:s.jsxs("div",{className:"waiting-list-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsxs("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:[s.jsxs("svg",{className:"waiting-list-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px",verticalAlign:"middle"},children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:o.colors.primary}),s.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:o.colors.primary})]}),"Join the Waiting List"]}),s.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Be among the first to experience the future of social finance"})]}),s.jsxs("div",{className:"waiting-list-content",children:[s.jsx("div",{className:"waiting-list-info",children:s.jsxs("div",{className:"benefits-list",children:[s.jsxs("div",{className:"benefit-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[s.jsxs("svg",{className:"benefit-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M9 12L11 14L15 10",stroke:o.colors.success,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.success})]}),s.jsxs("div",{className:"benefit-content",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Early Access"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Get exclusive early access to new features and updates."})]})]}),s.jsxs("div",{className:"benefit-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[s.jsx("svg",{className:"benefit-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.success})}),s.jsxs("div",{className:"benefit-content",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Priority Support"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Receive priority customer support and dedicated assistance."})]})]}),s.jsxs("div",{className:"benefit-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[s.jsx("svg",{className:"benefit-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.success})}),s.jsxs("div",{className:"benefit-content",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Exclusive Rewards"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Earn exclusive rewards and bonuses for being an early adopter."})]})]})]})}),s.jsx("div",{className:"waiting-list-form",children:s.jsxs("div",{className:"form-card",style:{backgroundColor:((J=o.colors.background)==null?void 0:J.secondary)||o.colors.background,borderRadius:"12px",padding:"32px",border:`1px solid ${o.colors.border.primary}`},children:[s.jsx("h3",{style:{color:o.colors.text.primary,fontSize:"20px",fontWeight:"600",marginBottom:"16px"},children:"Get Early Access"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginBottom:"24px",lineHeight:"1.5"},children:"Join thousands of users waiting to experience the future of DeFi"}),s.jsx("div",{className:"form-group",style:{marginBottom:"16px"},children:s.jsx("input",{type:"email",placeholder:"Enter your email address",style:{width:"100%",padding:"12px 16px",border:`1px solid ${o.colors.border.primary}`,borderRadius:"8px",fontSize:"14px",backgroundColor:((D=o.colors.background)==null?void 0:D.primary)||o.colors.background,color:o.colors.text.primary}})}),s.jsx("button",{className:"btn btn-primary",style:{width:"100%",backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Join Waiting List"}),s.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400",marginTop:"12px",textAlign:"center"},children:"No spam, unsubscribe at any time"})]})})]})]})}),s.jsx("footer",{className:"footer",style:{backgroundColor:((K=o.colors.background)==null?void 0:K.primary)||o.colors.background,borderTop:`1px solid ${o.colors.border.primary}`},children:s.jsxs("div",{className:"footer-container",children:[s.jsxs("div",{className:"footer-content",children:[s.jsxs("div",{className:"footer-brand",children:[s.jsx("div",{className:"brand-logo",style:{backgroundColor:o.colors.primary,width:"32px",height:"32px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"logo-text",style:{color:o.colors.white,fontSize:"16px",fontWeight:"600"},children:"N"})}),s.jsx("span",{className:"logo-text",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginLeft:"12px"},children:"Nisto"}),s.jsx("p",{className:"footer-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginTop:"12px",lineHeight:"1.5"},children:"The future of social finance on the Internet Computer. DeFi, social trading, and AI-powered insights for the African market."})]}),s.jsxs("div",{className:"footer-links",children:[s.jsxs("div",{className:"footer-section",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Platform"}),s.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#features",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Features"})}),s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#extension",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Browser Extension"})}),s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#tokenomics",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Tokenomics"})}),s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Mobile App"})})]})]}),s.jsxs("div",{className:"footer-section",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Developers"}),s.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Documentation"})}),s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"API Reference"})}),s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"SDK"})}),s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"GitHub"})})]})]}),s.jsxs("div",{className:"footer-section",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Company"}),s.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"About Us"})}),s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Blog"})}),s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Careers"})}),s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Press Kit"})})]})]}),s.jsxs("div",{className:"footer-section",children:[s.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Support"}),s.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Help Center"})}),s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Contact Us"})}),s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Status"})}),s.jsx("li",{style:{marginBottom:"12px"},children:s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Security"})})]})]})]})]}),s.jsxs("div",{className:"footer-bottom",children:[s.jsxs("div",{className:"footer-legal",children:[s.jsx("span",{style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400"},children:"© 2024 Nisto Finance. All rights reserved."}),s.jsxs("div",{style:{display:"flex",gap:"24px",marginTop:"8px"},children:[s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400",textDecoration:"none"},children:"Privacy Policy"}),s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400",textDecoration:"none"},children:"Terms of Service"}),s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400",textDecoration:"none"},children:"Cookie Policy"})]})]}),s.jsxs("div",{className:"footer-social",children:[s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,marginLeft:"16px",fontSize:"14px",fontWeight:"400",textDecoration:"none"},children:"Twitter"}),s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,marginLeft:"16px",fontSize:"14px",fontWeight:"400",textDecoration:"none"},children:"Discord"}),s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,marginLeft:"16px",fontSize:"14px",fontWeight:"400",textDecoration:"none"},children:"Telegram"}),s.jsx("a",{href:"#",style:{color:o.colors.text.secondary,marginLeft:"16px",fontSize:"14px",fontWeight:"400",textDecoration:"none"},children:"LinkedIn"})]})]})]})}),s.jsx(F3,{isOpen:b,onClose:()=>y(!1)})]})}function qg(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 6C7.03 6 2 7.546 2 10.5v4C2 17.454 7.03 19 12 19s10-1.546 10-4.5v-4C22 7.546 16.97 6 12 6zm-8 8.5v-1.197a9.989 9.989 0 0 0 2 .86v1.881c-1.312-.514-2-1.126-2-1.544zm12 .148v1.971c-.867.179-1.867.31-3 .358v-2a21.75 21.75 0 0 0 3-.329zm-5 2.33a18.788 18.788 0 0 1-3-.358v-1.971c.959.174 1.972.287 3 .33v1.999zm7-.934v-1.881a9.931 9.931 0 0 0 2-.86V14.5c0 .418-.687 1.03-2 1.544zM12 13c-5.177 0-8-1.651-8-2.5S6.823 8 12 8s8 1.651 8 2.5-2.823 2.5-8 2.5z"},child:[]}]})(e)}function Gg(e){return Se({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 12h2v4h-2z"},child:[]},{tag:"path",attr:{d:"M20 7V5c0-1.103-.897-2-2-2H5C3.346 3 2 4.346 2 6v12c0 2.201 1.794 3 3 3h15c1.103 0 2-.897 2-2V9c0-1.103-.897-2-2-2zM5 5h13v2H5a1.001 1.001 0 0 1 0-2zm15 14H5.012C4.55 18.988 4 18.805 4 18V8.815c.314.113.647.185 1 .185h15v10z"},child:[]}]})(e)}const M3=(e,t="")=>{if(!e)return"An unknown error occurred";const r=e.message||e.toString();if(r.includes("Network")||r.includes("fetch"))return"Network connection failed. Please check your internet connection and try again.";if(r.includes("authentication")||r.includes("auth"))return"Authentication failed. Please log in again.";if(r.includes("CanisterError")||r.includes("has no query method"))return"Service temporarily unavailable. Please try again later.";if(t==="recovery"){if(r.includes("already exists"))return"This recovery method is already set up for your account.";if(r.includes("invalid"))return"Invalid recovery method details. Please check your information and try again.";if(r.includes("verification"))return"Verification failed. Please check your code and try again."}if(t==="payment"){if(r.includes("insufficient"))return"Insufficient funds. Please check your wallet balance.";if(r.includes("invalid amount"))return"Invalid payment amount. Please enter a valid amount."}if(t==="wallet"){if(r.includes("already exists"))return"This wallet is already connected to your account.";if(r.includes("invalid address"))return"Invalid wallet address. Please check and try again."}if(t==="profile"){if(r.includes("username"))return"Username is already taken. Please choose a different one.";if(r.includes("display name"))return"Display name contains invalid characters. Please use only letters, numbers, and common punctuation."}return r.includes("timeout")?"Request timed out. Please try again.":r.includes("permission")||r.includes("unauthorized")?"You don't have permission to perform this action.":r.includes("not found")?"The requested resource was not found.":r},O3=(e,t="")=>{var n;const r={recovery:{add:"Recovery method added successfully! Your account is now more secure.",verify:"Recovery method verified successfully!",complete:"Account recovery completed successfully!"},payment:{send:"Payment sent successfully!",receive:"Payment received successfully!",bill:"Bill payment completed successfully!"},wallet:{add:"Wallet connected successfully!",remove:"Wallet removed successfully!",update:"Wallet updated successfully!"},profile:{update:"Profile updated successfully!",username:"Username updated successfully!",avatar:"Profile picture updated successfully!"},vault:{create:"Vault created successfully!",join:"Joined vault successfully!",deposit:"Deposit completed successfully!",withdraw:"Withdrawal completed successfully!"},general:{save:"Changes saved successfully!",delete:"Item deleted successfully!",create:"Item created successfully!"}};return((n=r[t])==null?void 0:n[e])||r.general[e]||"Action completed successfully!"},gi=(e,t="",r=null)=>{const n=M3(e,t);return console.error(`Error in ${t}:`,e),r&&r({message:n,type:"error",icon:"⚠️"}),n},uu=(e,t="",r=null,n=null)=>{const i=n||O3(e,t);return r&&r({message:i,type:"success",icon:"✅"}),i},$3=()=>{const{user:e,isAuthenticated:t,backendService:r}=Qt(),{showToast:n}=Fr(),{theme:i}=io(),[o,a]=T.useState([]),[l,c]=T.useState(!0),[d,b]=T.useState(!1),[y,m]=T.useState(!1),[u,g]=T.useState(!1),[N,W]=T.useState(null),[v,w]=T.useState({}),[j,F]=T.useState(null),[C,B]=T.useState({name:"",currency:"ICP",address:""}),[R,M]=T.useState({amount:"",toAddress:"",description:""});T.useState({amount:"",description:""}),T.useEffect(()=>{(async()=>{if(!(!t||!r))try{c(!0);const re=await r.getUserCryptoWallets();if(!re||re.length===0)try{console.log("No wallets found, creating default NST wallet..."),await r.createCryptoWallet("Primary Wallet","NST",!1,null,"Auto-created default wallet");const Q=await r.getUserCryptoWallets();a(Q||[]),n("Default NST wallet created!","success")}catch(Q){console.error("Failed to create default wallet:",Q),n("Failed to create default wallet","error"),a([])}else a(re)}catch(re){console.error("Error loading wallets:",re),n("Failed to load wallets","error"),a([])}finally{c(!1)}})()},[t,r]);const Z=Y=>({NST:{name:"Nisto Network",color:i.colors.info},ICP:{name:"Internet Computer",color:i.colors.primary},BTC:{name:"Bitcoin",color:i.colors.warning},ETH:{name:"Ethereum",color:i.colors.info}})[Y]||{name:"Unknown",color:i.colors.text.secondary},$=Y=>({NST:"🟣",ICP:"🔵",BTC:"🟡",ETH:"🟠"})[Y]||"💳",q=Y=>`${Y.toFixed(6)}`,X=Y=>!Y||Y==="No address"?"No address":Y.length<=16?Y:`${Y.slice(0,6)}...${Y.slice(-6)}`,A=async(Y,re)=>{if(!Y||Y==="No address"||Y==="No address available"){n("No address to copy","error");return}try{await navigator.clipboard.writeText(Y),F(re),n("Address copied to clipboard!","success"),setTimeout(()=>F(null),2e3)}catch(Q){console.error("Copy to clipboard failed:",Q);try{const ee=document.createElement("textarea");ee.value=Y,document.body.appendChild(ee),ee.select(),document.execCommand("copy"),document.body.removeChild(ee),F(re),n("Address copied to clipboard!","success"),setTimeout(()=>F(null),2e3)}catch(ee){console.error("Fallback copy failed:",ee),n("Failed to copy address","error")}}},O=async()=>{if(!C.name||!C.currency){n("Please fill in all required fields","error");return}try{if(await r.createCryptoWallet(C.name,C.currency,!1,null,null)){n("Wallet created successfully!","success"),B({name:"",currency:"ICP",address:""}),b(!1);const re=await r.getUserCryptoWallets();a(re||[])}else n("Failed to create wallet","error")}catch(Y){console.error("Error creating wallet:",Y),n(`Failed to create wallet: ${Y.message||"Unknown error"}`,"error")}},V=async()=>{if(!R.amount||!R.toAddress||!N){n("Please fill in all required fields","error");return}const Y=Number(R.amount);if(isNaN(Y)||Y<=0){n("Please enter a valid amount","error");return}try{const re=await r.sendCrypto(N.id,R.toAddress,BigInt(Math.floor(Y*1e8)),R.description||"");if(re&&re.ok){n("Transaction sent successfully!","success"),M({amount:"",toAddress:"",description:""}),m(!1);const Q=await r.getUserCryptoWallets();a(Q||[])}else n(`Transaction failed: ${(re==null?void 0:re.err)||"Unknown error"}`,"error")}catch(re){console.error("Error sending crypto:",re),n(`Failed to send transaction: ${re.message||"Unknown error"}`,"error")}};return l?s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px"},children:[s.jsx("div",{style:{width:"40px",height:"40px",border:`3px solid ${i.colors.border.primary}`,borderTop:`3px solid ${i.colors.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite"}}),s.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"2rem"},children:[s.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:i.colors.text.primary,marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx(De,{size:24}),"Crypto Wallets"]}),s.jsx("p",{style:{fontSize:"0.875rem",color:i.colors.text.secondary,margin:0},children:"Manage your digital assets across multiple networks"})]}),s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsxs("div",{style:{backgroundColor:i.colors.interactive.secondary,borderRadius:"1rem",padding:"1.5rem",border:`1px solid ${i.colors.border.primary}`},children:[s.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:i.colors.text.primary,display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Y2,{}),s.jsx("span",{children:"Portfolio Overview"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem"},children:[s.jsxs("div",{style:{backgroundColor:i.colors.white,padding:"1rem",borderRadius:"0.75rem",border:`1px solid ${i.colors.border.primary}`},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:i.colors.text.secondary,marginBottom:"0.5rem"},children:"Total Wallets"}),s.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:i.colors.text.primary},children:o.length})]}),s.jsxs("div",{style:{backgroundColor:i.colors.white,padding:"1rem",borderRadius:"0.75rem",border:`1px solid ${i.colors.border.primary}`},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:i.colors.text.secondary,marginBottom:"0.5rem"},children:"Total Balance"}),s.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:i.colors.success},children:o.reduce((Y,re)=>Y+re.balance,0).toFixed(2)})]}),s.jsxs("div",{style:{backgroundColor:i.colors.white,padding:"1rem",borderRadius:"0.75rem",border:`1px solid ${i.colors.border.primary}`},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:i.colors.text.secondary,marginBottom:"0.5rem"},children:"Networks"}),s.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:i.colors.primary},children:new Set(o.map(Y=>Y.currency)).size})]})]})]})}),s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsxs("div",{style:{backgroundColor:i.colors.interactive.secondary,borderRadius:"1rem",padding:"1.5rem",border:`1px solid ${i.colors.border.primary}`},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[s.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",color:i.colors.text.primary,display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[s.jsx(vs,{}),s.jsx("span",{children:"Your Wallets"})]}),s.jsxs("button",{onClick:()=>b(!0),style:{background:i.colors.primary,border:"none",padding:"0.5rem 1rem",borderRadius:"0.5rem",color:i.colors.white,cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},children:[s.jsx(to,{size:14}),"Add Wallet"]})]}),o.length===0?s.jsxs("div",{style:{textAlign:"center",padding:"3rem 2rem",background:"white",border:"1px solid #e2e8f0",borderRadius:"0.75rem"},children:[s.jsx("div",{style:{width:"64px",height:"64px",background:i.colors.interactive.secondary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:i.colors.text.secondary},children:s.jsx(De,{size:32})}),s.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.125rem",fontWeight:"600",color:i.colors.text.primary},children:"No wallets yet"}),s.jsx("p",{style:{margin:"0 0 1.5rem 0",fontSize:"0.875rem",color:i.colors.text.secondary},children:"Create your first wallet to start managing your digital assets"}),s.jsx("button",{onClick:()=>b(!0),style:{background:i.colors.primary,border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",color:i.colors.white,cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",transition:"all 0.2s"},children:"Create Wallet"})]}):s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem"},children:o.map(Y=>{const re=Z(Y.currency);return s.jsxs("div",{style:{background:i.colors.white,border:`1px solid ${i.colors.border.primary}`,borderRadius:"0.75rem",padding:"1rem",transition:"all 0.2s"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[s.jsx("div",{style:{width:"48px",height:"48px",background:re.color,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:i.colors.white,fontSize:"1.5rem"},children:$(Y.currency)}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:i.colors.text.primary,marginBottom:"0.125rem"},children:Y.name}),s.jsx("div",{style:{fontSize:"0.75rem",color:i.colors.text.secondary},children:re.name})]}),Y.isPrimary&&s.jsx("div",{style:{padding:"0.25rem 0.5rem",background:i.colors.success,color:i.colors.success,borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"600"},children:"Primary"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[s.jsxs("div",{style:{flex:1,padding:"0.75rem",background:"#f8fafc",borderRadius:"0.5rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.125rem"},children:"Balance"}),s.jsx("div",{style:{fontSize:"1rem",fontWeight:"700",color:"#1e293b"},children:v[Y.id]?q(Y.balance):"••••••"})]}),s.jsx("button",{onClick:()=>w(Q=>({...Q,[Y.id]:!Q[Y.id]})),style:{background:"none",border:"none",padding:"0.25rem",color:"#64748b",cursor:"pointer",borderRadius:"0.25rem",transition:"all 0.2s"},children:v[Y.id]?s.jsx(fp,{size:14}):s.jsx(Ms,{size:14})})]}),s.jsxs("div",{style:{flex:1,padding:"0.75rem",background:"#f8fafc",borderRadius:"0.5rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.125rem"},children:"Address"}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#1e293b",fontFamily:"monospace",fontWeight:500,maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:X(Y.address||"No address")})]}),s.jsx("button",{onClick:()=>A(Y.address||"",Y.id),style:{background:"none",border:"none",padding:"0.25rem",color:"#64748b",cursor:"pointer",borderRadius:"0.25rem",transition:"all 0.2s"},children:j===Y.id?s.jsx(Ft,{size:12}):s.jsx(Vo,{size:12})})]})]}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsxs("button",{onClick:()=>{W(Y),m(!0)},style:{flex:1,background:"#3b82f6",border:"none",padding:"0.5rem",borderRadius:"0.375rem",color:"white",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.2s"},children:[s.jsx(yr,{size:12}),"Send"]}),s.jsxs("button",{onClick:()=>{W(Y),g(!0)},style:{flex:1,background:"#10b981",border:"none",padding:"0.5rem",borderRadius:"0.375rem",color:"white",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.2s"},children:[s.jsx(Cr,{size:12}),"Receive"]})]})]},Y.id)})})]})}),d&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"90%",position:"relative"},children:[s.jsx("button",{onClick:()=>b(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b"},children:s.jsx(Je,{})}),s.jsx("div",{style:{width:"60px",height:"60px",background:"#f0f9ff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",color:"#3b82f6"},children:s.jsx(to,{size:24})}),s.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600",color:"#1e293b"},children:"Create New Wallet"}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Wallet Name"}),s.jsx("input",{type:"text",value:C.name,onChange:Y=>B(re=>({...re,name:Y.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Enter wallet name"})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Currency"}),s.jsxs("select",{value:C.currency,onChange:Y=>B(re=>({...re,currency:Y.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},children:[s.jsx("option",{value:"ICP",children:"ICP - Internet Computer"}),s.jsx("option",{value:"NST",children:"NST - Nisto Token"}),s.jsx("option",{value:"BTC",children:"BTC - Bitcoin"}),s.jsx("option",{value:"ETH",children:"ETH - Ethereum"})]})]}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[s.jsx("button",{onClick:()=>b(!1),style:{flex:1,padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",background:"white",color:"#374151",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Cancel"}),s.jsx("button",{onClick:O,style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"0.5rem",background:"#3b82f6",color:"white",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Create Wallet"})]})]})}),y&&N&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"90%",position:"relative"},children:[s.jsx("button",{onClick:()=>m(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b"},children:s.jsx(Je,{})}),s.jsx("div",{style:{width:"60px",height:"60px",background:"#fef3c7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",color:"#f59e0b"},children:s.jsx(yr,{size:24})}),s.jsxs("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600",color:"#1e293b"},children:["Send ",N.currency]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Amount"}),s.jsx("input",{type:"number",value:R.amount,onChange:Y=>M(re=>({...re,amount:Y.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Enter amount"})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"To Address"}),s.jsx("input",{type:"text",value:R.toAddress,onChange:Y=>M(re=>({...re,toAddress:Y.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Enter recipient address"})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Description (Optional)"}),s.jsx("input",{type:"text",value:R.description,onChange:Y=>M(re=>({...re,description:Y.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Transaction description"})]}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[s.jsx("button",{onClick:()=>m(!1),style:{flex:1,padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",background:"white",color:"#374151",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Cancel"}),s.jsx("button",{onClick:V,style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"0.5rem",background:"#3b82f6",color:"white",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Send"})]})]})}),u&&N&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"90%",position:"relative"},children:[s.jsx("button",{onClick:()=>g(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b"},children:s.jsx(Je,{})}),s.jsx("div",{style:{width:"60px",height:"60px",background:"#f0fdf4",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",color:"#10b981"},children:s.jsx(Cr,{size:24})}),s.jsxs("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600",color:"#1e293b"},children:["Receive ",N.currency]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Your Address"}),s.jsx("div",{style:{padding:"0.75rem",background:"#f8fafc",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.75rem",fontFamily:"monospace",color:"#374151",wordBreak:"break-all",maxHeight:"80px",overflow:"auto"},children:N.address||"No address available"})]}),s.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"0.5rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",color:"#059669",fontSize:"0.875rem",fontWeight:"500"},children:[s.jsx(Cr,{size:16}),s.jsxs("span",{children:["Share this address to receive ",N.currency]})]}),s.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"#64748b",lineHeight:"1.4"},children:["Anyone can send ",N.currency," to this address. The funds will appear in your wallet once the transaction is confirmed on the network."]})]}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[s.jsxs("button",{onClick:()=>A(N.address||"",N.id),style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"0.5rem",background:"#10b981",color:"white",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx(Vo,{size:16}),"Copy Address"]}),s.jsx("button",{onClick:()=>g(!1),style:{flex:1,padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",background:"white",color:"#374151",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Close"})]})]})})]})},U3=()=>{const e=Qt(),[t,r]=T.useState({stakedAmount:0,totalRewardsEarned:0,pendingRewards:0,isStaking:!1,totalStaked:0,totalStakers:0}),[n,i]=T.useState(""),[o,a]=T.useState(""),[l,c]=T.useState(!1),[d,b]=T.useState(!1),[y,m]=T.useState(""),[u,g]=T.useState(""),N=12.5,W=T.useCallback(async()=>{if(!(!(e!=null&&e.principal)||!(e!=null&&e.backendService)))try{b(!0),m("");const[R,M,Z]=await Promise.all([e.backendService.getStakingInfo(e.principal),e.backendService.getTotalBalance(e.principal),e.backendService.getTotalStaked()]),$=v(R,N);r({stakedAmount:Number(R.stakedAmount)/1e8,totalRewardsEarned:Number(R.totalRewardsEarned)/1e8,pendingRewards:$,isStaking:R.isStaking,totalStaked:Number(Z)/1e8,totalStakers:1250})}catch(R){console.error("Error loading staking data:",R),m("Failed to load staking data")}finally{b(!1)}},[e==null?void 0:e.principal,e==null?void 0:e.backendService]),v=(R,M)=>{if(!R.isStaking||!R.stakedAmount)return 0;const Z=Number(R.stakedAmount)/1e8,$=M/365/100,q=7;return Z*$*q},w=async()=>{if(!(!n||!(e!=null&&e.backendService)))try{b(!0),m("");const R=await e.backendService.stake(BigInt(Math.floor(Number(n)*1e8)));R.ok?(g("Successfully staked tokens!"),i(""),setTimeout(()=>W(),1e3)):m(`Staking failed: ${R.err}`)}catch(R){console.error("Staking error:",R),m("Staking failed. Please try again.")}finally{b(!1)}},j=async()=>{if(!(!o||!(e!=null&&e.backendService)))try{b(!0),m("");const R=await e.backendService.unstake(BigInt(Math.floor(Number(o)*1e8)));R.ok?(g("Successfully unstaked tokens!"),a(""),setTimeout(()=>W(),1e3)):m(`Unstaking failed: ${R.err}`)}catch(R){console.error("Unstaking error:",R),m("Unstaking failed. Please try again.")}finally{b(!1)}},F=async()=>{if(e!=null&&e.backendService)try{b(!0),m("");const R=await e.backendService.claimRewards();R.ok?(g(`Successfully claimed ${R.ok} rewards!`),setTimeout(()=>W(),1e3)):m(`Claim failed: ${R.err}`)}catch(R){console.error("Claim error:",R),m("Claim failed. Please try again.")}finally{b(!1)}};T.useEffect(()=>{W()},[W]);const B=((R,M)=>{const Z=R*(M/365/100),$=Z*7,q=Z*30,X=R*(M/100);return{daily:Z,weekly:$,monthly:q,yearly:X}})(t.stakedAmount,N);return s.jsxs("div",{className:"token-form",style:{maxWidth:"100%"},children:[s.jsxs("h3",{children:[s.jsx(hr,{style:{color:"#2563eb"}}),s.jsx("span",{children:"Enhanced Staking"})]}),y&&s.jsx("div",{style:{padding:"1rem",borderRadius:"0.75rem",backgroundColor:"#fef2f2",borderLeft:"4px solid #ef4444",color:"#991b1b",fontSize:"0.875rem",marginBottom:"2rem",border:"1px solid #fecaca"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(lu,{}),s.jsx("span",{children:y})]})}),u&&s.jsx("div",{style:{padding:"1rem",borderRadius:"0.75rem",backgroundColor:"#ecfdf5",borderLeft:"4px solid #10b981",color:"#065f46",fontSize:"0.875rem",marginBottom:"2rem",border:"1px solid #bbf7d0"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(zs,{}),s.jsx("span",{children:u})]})}),s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsx("div",{style:{background:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",padding:"2.5rem",color:"#166534",textAlign:"center",position:"relative"},children:s.jsxs("div",{style:{position:"relative",zIndex:1},children:[s.jsx("div",{style:{fontSize:"0.875rem",opacity:.8,marginBottom:"0.75rem",fontWeight:"500",letterSpacing:"0.05em"},children:"ANNUAL STAKING REWARD"}),s.jsxs("div",{style:{fontSize:"4rem",fontWeight:"800",marginBottom:"0.75rem",letterSpacing:"-0.02em"},children:[N,"%"]}),s.jsx("div",{style:{fontSize:"1rem",opacity:.8,fontWeight:"400",letterSpacing:"0.02em"},children:"Annual Percentage Yield"})]})})}),s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[s.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Y2,{}),s.jsx("span",{children:"Your Staking Overview"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem"},children:[s.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Staked Amount"}),s.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:[t.stakedAmount.toFixed(6)," NST"]})]}),s.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Pending Rewards"}),s.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#10b981"},children:[t.pendingRewards.toFixed(6)," NST"]})]}),s.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Total Earned"}),s.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:[t.totalRewardsEarned.toFixed(6)," NST"]})]}),s.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Status"}),s.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:t.isStaking?"#10b981":"#64748b"},children:t.isStaking?"Active":"Inactive"})]})]})]})}),s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[s.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Hh,{}),s.jsx("span",{children:"Staking Actions"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[s.jsxs("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.5rem"},children:"Stake Amount (NST)"}),s.jsx("input",{type:"number",placeholder:"0.0",value:n,onChange:R=>i(R.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"1rem",marginBottom:"1rem",outline:"none"}}),s.jsxs("button",{onClick:w,disabled:d||!n,style:{width:"100%",padding:"0.75rem",backgroundColor:d||!n?"#94a3b8":"#3b82f6",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:d||!n?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx(Hh,{size:16}),s.jsx("span",{children:"Stake Tokens"})]})]}),s.jsxs("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.5rem"},children:"Unstake Amount (NST)"}),s.jsx("input",{type:"number",placeholder:"0.0",value:o,onChange:R=>a(R.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"1rem",marginBottom:"1rem",outline:"none"}}),s.jsxs("button",{onClick:j,disabled:d||!o,style:{width:"100%",padding:"0.75rem",backgroundColor:d||!o?"#94a3b8":"#64748b",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:d||!o?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx(Ps,{size:16}),s.jsx("span",{children:"Unstake Tokens"})]})]}),s.jsxs("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.5rem"},children:"Available to Claim"}),s.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#10b981",marginBottom:"1rem",padding:"0.75rem",backgroundColor:"#f0fdf4",borderRadius:"0.5rem",border:"1px solid #bbf7d0"},children:[t.pendingRewards.toFixed(6)," NST"]}),s.jsxs("button",{onClick:F,disabled:d||t.pendingRewards<=0,style:{width:"100%",padding:"0.75rem",backgroundColor:d||t.pendingRewards<=0?"#94a3b8":"#10b981",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:d||t.pendingRewards<=0?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx(vs,{size:16}),s.jsx("span",{children:"Claim Rewards"})]})]})]})]})}),s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsx("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"600",fontSize:"1rem",color:"#1e293b",marginBottom:"0.25rem"},children:"Auto Compound"}),s.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b"},children:"Automatically reinvest rewards for compound growth"})]}),s.jsxs("button",{onClick:()=>c(!l),style:{padding:"0.75rem 1.5rem",backgroundColor:l?"#10b981":"#64748b",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},children:[l?s.jsx(rw,{size:16}):s.jsx(tw,{size:16}),s.jsx("span",{children:l?"Enabled":"Disabled"})]})]})})}),s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[s.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(vs,{}),s.jsx("span",{children:"Earnings Projections"})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[{label:"Daily",value:B.daily,color:"#3b82f6"},{label:"Weekly",value:B.weekly,color:"#8b5cf6"},{label:"Monthly",value:B.monthly,color:"#10b981"},{label:"Yearly",value:B.yearly,color:"#f59e0b"}].map((R,M)=>s.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:R.label}),s.jsxs("div",{style:{fontSize:"1.125rem",fontWeight:"600",color:R.color},children:[R.value.toFixed(6)," NST"]})]},M))})]})}),s.jsx("div",{children:s.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[s.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Sl,{}),s.jsx("span",{children:"Global Statistics"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[s.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Total Staked"}),s.jsxs("div",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b"},children:[t.totalStaked.toFixed(2)," NST"]})]}),s.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Total Stakers"}),s.jsx("div",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b"},children:t.totalStakers.toLocaleString()})]})]})]})})]})},W3=()=>{const e=Qt(),[t,r]=T.useState({fromToken:"NST",toToken:"ICP",fromAmount:"",toAmount:""}),[n,i]=T.useState({nst:0,icp:0}),[o,a]=T.useState({slippageTolerance:.5,transactionDeadline:20,expertMode:!1}),[l,c]=T.useState(!1),[d,b]=T.useState(!1),[y,m]=T.useState(""),u=T.useCallback(async()=>{if(!(!(e!=null&&e.principal)||!(e!=null&&e.backendService)))try{const[M,Z]=await Promise.all([e.backendService.balanceOf(e.principal),e.backendService.getUserCryptoWallets()]);i({nst:Number(M)/1e8,icp:(Z==null?void 0:Z.icp)||0})}catch(M){console.error("Error loading balances:",M)}},[e==null?void 0:e.principal,e==null?void 0:e.backendService,t.fromToken,t.toToken]),g=T.useCallback((M,Z,$)=>!M||M<=0?"":(M*(Z==="NST"?.1:10)).toFixed(6),[]),N=M=>{r(Z=>({...Z,fromAmount:M,toAmount:g(M,Z.fromToken,Z.toToken)}))},W=M=>{r(Z=>({...Z,toAmount:M,fromAmount:g(M,Z.toToken,Z.fromToken)}))},v=()=>{r(M=>({fromToken:M.toToken,toToken:M.fromToken,fromAmount:M.toAmount,toAmount:M.fromAmount}))},w=async()=>{if(!(!t.fromAmount||!t.toAmount)){b(!0),m("");try{await new Promise(M=>setTimeout(M,2e3)),r({fromToken:"NST",toToken:"ICP",fromAmount:"",toAmount:""}),await u()}catch{m("Swap failed. Please try again.")}finally{b(!1)}}};T.useEffect(()=>{u()},[u]);const j=t.fromToken==="NST"?n.nst:n.icp,F=t.fromToken==="NST"?.1:10,C=.02,B=.001,R=t.toAmount?(Number(t.toAmount)*(1-o.slippageTolerance/100)).toFixed(6):"0";return s.jsxs("div",{className:"token-form",style:{maxWidth:"100%"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsxs("h3",{children:[s.jsx(Zt,{style:{color:"#2563eb"}}),s.jsx("span",{children:"Swap Tokens"})]}),s.jsx("button",{onClick:()=>c(!l),className:"btn btn-text",style:{padding:"0.5rem"},children:s.jsx(du,{})})]}),l&&s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#f9fafb",borderRadius:"0.5rem"},children:[s.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem"},children:"Swap Settings"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem"},children:[s.jsxs("div",{className:"token-form-group",children:[s.jsx("label",{className:"token-form-label",children:"Slippage Tolerance (%)"}),s.jsx("input",{type:"number",value:o.slippageTolerance,onChange:M=>a(Z=>({...Z,slippageTolerance:Number(M.target.value)})),className:"token-form-input",min:"0.1",max:"50",step:"0.1"})]}),s.jsxs("div",{className:"token-form-group",children:[s.jsx("label",{className:"token-form-label",children:"Transaction Deadline (minutes)"}),s.jsx("input",{type:"number",value:o.transactionDeadline,onChange:M=>a(Z=>({...Z,transactionDeadline:Number(M.target.value)})),className:"token-form-input",min:"1",max:"60"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",alignSelf:"end"},children:[s.jsx("input",{type:"checkbox",id:"expertMode",checked:o.expertMode,onChange:M=>a(Z=>({...Z,expertMode:M.target.checked}))}),s.jsx("label",{htmlFor:"expertMode",style:{fontSize:"0.875rem"},children:"Expert Mode"})]})]})]})}),s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gap:"1rem",alignItems:"end",backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.5rem",display:"block"},children:"From"}),s.jsxs("div",{style:{position:"relative",backgroundColor:"white",borderRadius:"0.75rem",border:"1px solid #e2e8f0",overflow:"hidden"},children:[s.jsx("input",{type:"number",placeholder:"0.0",value:t.fromAmount,onChange:M=>N(M.target.value),style:{width:"100%",padding:"1rem 4rem 1rem 1rem",border:"none",outline:"none",fontSize:"1rem",backgroundColor:"transparent"}}),s.jsxs("div",{style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b"},children:t.fromToken}),s.jsx("button",{onClick:()=>N(j.toString()),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontWeight:"500"},children:"MAX"})]})]}),s.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem",fontWeight:"500"},children:["Balance: ",j.toFixed(6)," ",t.fromToken]})]}),s.jsx("button",{onClick:v,style:{padding:"0.75rem",borderRadius:"50%",width:"3rem",height:"3rem",backgroundColor:"#f1f5f9",border:"1px solid #e2e8f0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b",transition:"all 0.2s"},onMouseOver:M=>{M.target.style.backgroundColor="#e2e8f0",M.target.style.color="#475569"},onMouseOut:M=>{M.target.style.backgroundColor="#f1f5f9",M.target.style.color="#64748b"},children:s.jsx(cu,{size:16})}),s.jsxs("div",{children:[s.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.5rem",display:"block"},children:"To"}),s.jsxs("div",{style:{position:"relative",backgroundColor:"white",borderRadius:"0.75rem",border:"1px solid #e2e8f0",overflow:"hidden"},children:[s.jsx("input",{type:"number",placeholder:"0.0",value:t.toAmount,onChange:M=>W(M.target.value),style:{width:"100%",padding:"1rem 4rem 1rem 1rem",border:"none",outline:"none",fontSize:"1rem",backgroundColor:"transparent"}}),s.jsx("div",{style:{position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)"},children:s.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b"},children:t.toToken})})]}),s.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem",fontWeight:"500"},children:["Balance: ",(t.toToken==="ICP"?n.icp:n.nst).toFixed(6)," ",t.toToken]})]})]})}),t.fromAmount&&t.toAmount&&s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsxs("div",{style:{backgroundColor:"#f9fafb",borderRadius:"0.75rem",padding:"1.5rem",fontSize:"0.875rem",border:"1px solid #e2e8f0"},children:[s.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1rem",color:"#1e293b"},children:"Swap Details"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"#64748b"},children:"Price"}),s.jsxs("span",{style:{fontWeight:"500"},children:["1 ",t.fromToken," = ",F," ",t.toToken]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"#64748b"},children:"Price Impact"}),s.jsxs("span",{style:{color:"#64748b",fontWeight:"500"},children:[C,"%"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"#64748b"},children:"Network Fee"}),s.jsxs("span",{style:{fontWeight:"500"},children:[B," ICP"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"#64748b"},children:"Minimum Received"}),s.jsxs("span",{style:{fontWeight:"500"},children:[R," ",t.toToken]})]})]})]})}),s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsx("button",{onClick:w,disabled:d||!t.fromAmount||!t.toAmount||Number(t.fromAmount)>j,style:{width:"100%",padding:"1rem",fontSize:"1rem",fontWeight:"600",backgroundColor:d||!t.fromAmount||!t.toAmount||Number(t.fromAmount)>j?"#94a3b8":"#3b82f6",color:"white",border:"none",borderRadius:"0.75rem",cursor:d||!t.fromAmount||!t.toAmount||Number(t.fromAmount)>j?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"all 0.2s"},onMouseOver:M=>{!d&&t.fromAmount&&t.toAmount&&Number(t.fromAmount)<=j&&(M.target.style.backgroundColor="#2563eb")},onMouseOut:M=>{!d&&t.fromAmount&&t.toAmount&&Number(t.fromAmount)<=j&&(M.target.style.backgroundColor="#3b82f6")},children:d?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{style:{animation:"spin 1s linear infinite"}}),s.jsx("span",{children:"Swapping..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(hr,{}),s.jsxs("span",{children:["Swap ",t.fromToken," for ",t.toToken]})]})})}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:[y&&s.jsx("div",{style:{padding:"1rem",borderRadius:"0.75rem",backgroundColor:"#fef2f2",borderLeft:"4px solid #ef4444",color:"#991b1b",fontSize:"0.875rem",border:"1px solid #fecaca"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(lu,{}),s.jsx("span",{children:y})]})}),s.jsx("div",{style:{padding:"1rem",borderRadius:"0.75rem",backgroundColor:"#eff6ff",borderLeft:"4px solid #3b82f6",color:"#1e40af",fontSize:"0.875rem",border:"1px solid #bfdbfe"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(wl,{}),s.jsx("span",{children:"Swaps are executed instantly with minimal slippage"})]})})]})]})},V3=()=>{const e=Qt(),{theme:t}=io(),[r,n]=T.useState(null),[i,o]=T.useState(null),[a,l]=T.useState(0),[c,d]=T.useState(null),[b,y]=T.useState(null),[m,u]=T.useState(""),[g,N]=T.useState("");T.useState(""),T.useState("");const[W,v]=T.useState(!1),[w,j]=T.useState(!1),[F,C]=T.useState(""),[B,R]=T.useState("overview"),[M,Z]=T.useState([]),[$,q]=T.useState(!0),[X,A]=T.useState(null),[O,V]=T.useState(null);T.useEffect(()=>{if(e&&e.user){const he=new Da;n(he)}},[e]),T.useEffect(()=>{r&&(e!=null&&e.principal)&&Y()},[r,e==null?void 0:e.principal]),T.useEffect(()=>{if(!$||!r||!(e!=null&&e.principal))return;const he=setInterval(()=>{Y(!0)},3e4);return()=>clearInterval(he)},[$,r,e==null?void 0:e.principal]);const Y=T.useCallback(async(he=!1)=>{if(!(!r||!(e!=null&&e.principal)))try{he||j(!0),V(null),console.log("Loading token data for principal:",e.principal);const[z,Te,be,xe,me]=await Promise.all([r.getTokenMetadata(),r.balanceOf(e.principal),r.getTotalBalance(e.principal),r.getStakingInfo(e.principal),r.getTransferHistory(10,0)]);o(z),l(Te),d(be),y(xe),Z(me),A(new Date),console.log("Token data loaded successfully:",{metadata:z,balance:Te,totalBalance:be,stakingInfo:xe,historyCount:me.length})}catch(z){console.error("Error loading token data:",z),V("Failed to load token data. Please try refreshing."),he||C("Error loading token data")}finally{j(!1)}},[r,e==null?void 0:e.principal]),re=async()=>{C(""),await Y()},Q=async()=>{if(!(!r||!m||!g))try{v(!0),C(""),V(null),console.log("Transferring tokens:",{to:g,amount:m});const he=await r.transfer(g,BigInt(m));he.ok?(C("Transfer successful!"),u(""),N(""),setTimeout(()=>Y(!0),1e3)):V(`Transfer failed: ${he.err}`)}catch(he){console.error("Transfer error:",he),V(`Transfer error: ${he.message}`)}finally{v(!1)}},ee=async()=>{if(r)try{v(!0),C(""),V(null),console.log("Claiming rewards...");const he=await r.claimRewards();he.ok?(C(`Rewards claimed: ${he.ok}`),setTimeout(()=>Y(!0),1e3)):V(`Claim failed: ${he.err}`)}catch(he){console.error("Claim error:",he),V(`Claim error: ${he.message}`)}finally{v(!1)}},de=he=>he?(Number(he)/1e8).toFixed(8):"0",ue=he=>he?`${he.slice(0,6)}...${he.slice(-4)}`:"",ae=he=>{if(!X)return"";const Te=new Date-X,be=Math.floor(Te/1e3);if(be<60)return`${be}s ago`;const xe=Math.floor(be/60);return xe<60?`${xe}m ago`:`${Math.floor(xe/60)}h ago`};return e?e.user?s.jsxs("div",{className:"token-dashboard",children:[s.jsxs("div",{className:"token-header",children:[s.jsxs("div",{className:"token-header-left",children:[s.jsx("div",{className:"token-icon",children:s.jsx(De,{})}),s.jsxs("div",{children:[s.jsx("h1",{className:"token-title",children:"Nisto Token"}),s.jsx("p",{className:"token-subtitle",children:"Manage your NST tokens and staking rewards"})]})]}),s.jsxs("div",{className:"token-header-actions",children:[s.jsxs("div",{className:"auto-refresh-control",children:[s.jsx("button",{onClick:()=>q(!$),className:`btn btn-secondary ${$?"active":""}`,title:$?"Disable auto-refresh":"Enable auto-refresh",children:$?s.jsx(tw,{}):s.jsx(rw,{})}),X&&s.jsxs("span",{className:"last-refresh",children:["Last: ",ae()]})]}),s.jsxs("button",{onClick:re,disabled:w,className:"btn btn-primary",children:[s.jsx(Zt,{style:{width:"1rem",height:"1rem",animation:w?"spin 1s linear infinite":"none"}}),s.jsx("span",{children:w?"Refreshing...":"Refresh"})]})]})]}),O&&s.jsx("div",{style:{marginBottom:"1.5rem",padding:"1rem",borderRadius:"0.5rem",backgroundColor:`${t.colors.error}10`,borderLeft:`4px solid ${t.colors.error}`,color:t.colors.error},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(lu,{style:{width:"1.25rem",height:"1.25rem"}}),s.jsx("span",{style:{fontWeight:"500"},children:O})]})}),F&&s.jsx("div",{style:{marginBottom:"1.5rem",padding:"1rem",borderRadius:"0.5rem",backgroundColor:`${t.colors.success}10`,borderLeft:`4px solid ${t.colors.success}`,color:t.colors.success},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(zs,{style:{width:"1.25rem",height:"1.25rem"}}),s.jsx("span",{style:{fontWeight:"500"},children:F})]})}),W&&s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"3rem"},children:s.jsx("div",{style:{width:"48px",height:"48px",border:`4px solid ${t.colors.border.secondary}`,borderTop:`4px solid ${t.colors.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite"}})}),i&&s.jsxs("div",{className:"token-stats-grid",children:[s.jsxs("div",{className:"token-stat-card",children:[s.jsxs("div",{className:"token-stat-header",children:[s.jsx("div",{className:"token-stat-icon",style:{backgroundColor:`${t.colors.primary}15`},children:s.jsx(De,{style:{color:t.colors.primary}})}),s.jsx("span",{className:"token-stat-label",children:"Total Supply"})]}),s.jsx("h3",{className:"token-stat-value",children:de(i.totalSupply)}),s.jsx("p",{className:"token-stat-description",children:"NST Tokens"})]}),s.jsxs("div",{className:"token-stat-card",children:[s.jsxs("div",{className:"token-stat-header",children:[s.jsx("div",{className:"token-stat-icon",style:{backgroundColor:`${t.colors.success}10`},children:s.jsx(hr,{style:{color:t.colors.success}})}),s.jsx("span",{className:"token-stat-label",children:"Your Balance"})]}),s.jsx("h3",{className:"token-stat-value",children:de(a)}),s.jsx("p",{className:"token-stat-description",children:"Available NST"})]}),c&&s.jsxs("div",{className:"token-stat-card",children:[s.jsxs("div",{className:"token-stat-header",children:[s.jsx("div",{className:"token-stat-icon",style:{backgroundColor:`${t.colors.primary}10`},children:s.jsx(Vg,{style:{color:t.colors.primary}})}),s.jsx("span",{className:"token-stat-label",children:"Staked"})]}),s.jsx("h3",{className:"token-stat-value",children:de(c.stakedBalance)}),s.jsx("p",{className:"token-stat-description",children:"Staked NST"})]}),s.jsxs("div",{className:"token-stat-card",children:[s.jsxs("div",{className:"token-stat-header",children:[s.jsx("div",{className:"token-stat-icon",style:{backgroundColor:`${t.colors.warning}10`},children:s.jsx(vs,{style:{color:t.colors.warning}})}),s.jsx("span",{className:"token-stat-label",children:"Circulating"})]}),s.jsx("h3",{className:"token-stat-value",children:de(i.circulatingSupply)}),s.jsx("p",{className:"token-stat-description",children:"In Circulation"})]})]}),s.jsxs("div",{className:"token-tabs",children:[s.jsx("div",{className:"token-tabs-nav",children:[{id:"overview",label:"Overview",icon:vs},{id:"transfer",label:"Transfer",icon:yr},{id:"swap",label:"Swap",icon:Zt},{id:"staking",label:"Staking",icon:hr},{id:"history",label:"History",icon:Ps}].map(he=>s.jsxs("button",{onClick:()=>R(he.id),className:`token-tab ${B===he.id?"active":""}`,children:[s.jsx(he.icon,{}),s.jsx("span",{children:he.label})]},he.id))}),s.jsxs("div",{className:"token-tab-content",children:[B==="overview"&&s.jsxs("div",{className:"token-info-grid",children:[s.jsxs("div",{className:"token-info-card",children:[s.jsxs("h3",{children:[s.jsx(De,{style:{color:t.colors.primary}}),s.jsx("span",{children:"Token Information"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"token-info-item",children:[s.jsx("span",{className:"token-info-label",children:"Name"}),s.jsx("span",{className:"token-info-value",children:i==null?void 0:i.name})]}),s.jsxs("div",{className:"token-info-item",children:[s.jsx("span",{className:"token-info-label",children:"Symbol"}),s.jsx("span",{className:"token-info-value",children:i==null?void 0:i.symbol})]}),s.jsxs("div",{className:"token-info-item",children:[s.jsx("span",{className:"token-info-label",children:"Decimals"}),s.jsx("span",{className:"token-info-value",children:i==null?void 0:i.decimals})]}),s.jsxs("div",{className:"token-info-item",children:[s.jsx("span",{className:"token-info-label",children:"Status"}),s.jsx("span",{className:"token-info-value",style:{color:i!=null&&i.isPaused?t.colors.error:t.colors.success},children:i!=null&&i.isPaused?"Paused":"Active"})]})]})]}),b&&s.jsxs("div",{className:"token-info-card",children:[s.jsxs("h3",{children:[s.jsx(Vg,{style:{color:t.colors.primary}}),s.jsx("span",{children:"Staking Status"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"token-info-item",children:[s.jsx("span",{className:"token-info-label",children:"Status"}),s.jsx("span",{className:"token-info-value",style:{color:b.isStaking?t.colors.success:t.colors.text.secondary},children:b.isStaking?"Active":"Inactive"})]}),s.jsxs("div",{className:"token-info-item",children:[s.jsx("span",{className:"token-info-label",children:"Staked Amount"}),s.jsxs("span",{className:"token-info-value",children:[de(b.stakedAmount)," NST"]})]}),s.jsxs("div",{className:"token-info-item",children:[s.jsx("span",{className:"token-info-label",children:"Total Rewards"}),s.jsxs("span",{className:"token-info-value",children:[de(b.totalRewardsEarned)," NST"]})]}),s.jsxs("button",{onClick:ee,disabled:W,className:"btn btn-success",style:{width:"100%",marginTop:"1rem"},children:[s.jsx(Hh,{style:{width:"1rem",height:"1rem"}}),"Claim Rewards"]})]})]})]}),B==="transfer"&&s.jsxs("div",{className:"token-form",children:[s.jsxs("h3",{children:[s.jsx(yr,{style:{color:t.colors.primary}}),s.jsx("span",{children:"Transfer Tokens"})]}),s.jsxs("div",{className:"token-form-group",children:[s.jsx("label",{className:"token-form-label",children:"Recipient Address"}),s.jsx("input",{type:"text",placeholder:"Enter principal ID",value:g,onChange:he=>N(he.target.value),className:"token-form-input"})]}),s.jsxs("div",{className:"token-form-group",children:[s.jsx("label",{className:"token-form-label",children:"Amount (NST)"}),s.jsx("input",{type:"number",placeholder:"Enter amount",value:m,onChange:he=>u(he.target.value),className:"token-form-input"})]}),s.jsxs("button",{onClick:Q,disabled:W||!m||!g,className:"btn btn-primary",style:{width:"100%"},children:[s.jsx(yr,{style:{width:"1rem",height:"1rem"}}),s.jsx("span",{children:"Send Tokens"})]})]}),B==="swap"&&s.jsx(W3,{}),B==="staking"&&s.jsx(U3,{}),B==="history"&&s.jsxs("div",{children:[s.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:t.colors.text.primary,marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Ps,{style:{color:t.colors.text.secondary}}),s.jsx("span",{children:"Recent Transactions"})]}),s.jsx("div",{children:M.length>0?M.map((he,z)=>s.jsxs("div",{className:"token-history-item",children:[s.jsxs("div",{className:"token-history-left",children:[s.jsx("div",{className:"token-history-icon",children:s.jsx(yr,{})}),s.jsxs("div",{className:"token-history-details",children:[s.jsxs("h4",{children:[de(he.amount)," NST"]}),s.jsxs("p",{children:["To: ",ue(he.to)]})]})]}),s.jsxs("div",{className:"token-history-time",children:[s.jsx("p",{className:"token-history-date",children:new Date(Number(he.timestamp)/1e6).toLocaleDateString()}),s.jsx("p",{className:"token-history-time-text",children:new Date(Number(he.timestamp)/1e6).toLocaleTimeString()})]})]},z)):s.jsxs("div",{className:"token-empty-state",children:[s.jsx(vs,{}),s.jsx("h4",{children:"No transactions yet"}),s.jsx("p",{children:"Your transaction history will appear here"})]})})]})]})]})]}):s.jsx("div",{className:"token-dashboard",children:s.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[s.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"🔐"}),s.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:t.colors.text.primary,marginBottom:"0.5rem"},children:"Authentication Required"}),s.jsx("p",{style:{color:t.colors.text.secondary},children:"Please log in to access the token dashboard"})]})}):s.jsx("div",{className:"token-dashboard",children:s.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[s.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"⏳"}),s.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:"600",color:t.colors.text.primary,marginBottom:"0.5rem"},children:"Loading..."}),s.jsx("p",{style:{color:t.colors.text.secondary},children:"Please wait while we initialize the authentication"})]})})};function H3(e){return Se({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 0 0-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zM512 734.2c-62.1 0-112.6-50.5-112.6-112.6S449.9 509 512 509s112.6 50.5 112.6 112.6S574.1 734.2 512 734.2zm0-160.9c-26.6 0-48.2 21.6-48.2 48.3 0 26.6 21.6 48.3 48.2 48.3s48.2-21.6 48.2-48.3c0-26.6-21.6-48.3-48.2-48.3z"},child:[]}]})(e)}const I3=({iconName:e,size:t=20,color:r="currentColor",...n})=>s.jsx("div",{style:{width:t,height:t,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:r,color:"white",borderRadius:"50%",fontSize:t*.4,fontWeight:"bold",...n.style},...n,children:e?e.charAt(0).toUpperCase():"?"}),bf=({iconName:e,size:t=20,color:r="currentColor",...n})=>{const i=(()=>{try{switch(e){case"FiUserPlus":return iw;case"FiUsers":return Un;case"FiPlus":return to;case"FiDollarSign":return De;case"FiTarget":return Sl;case"FiTrendingUp":return hr;case"FiCheck":return Ft;case"FiX":return Je;case"FiLock":return vl;case"FiUnlock":return ow;case"FiEdit2":return Ho;case"FiTrash2":return pp;case"FiEye":return Ms;case"FiChevronDown":return rl;case"FiChevronUp":return J2;case"FiShield":return vt;case"FiArrowDownCircle":return el;case"FiArrowUpCircle":return tl;case"FiList":return Wh;case"FiSend":return yr;case"FiChevronLeft":return Q2;case"FiGlobe":return _d;case"FiMessageCircle":return Oc;case"FiMoreVertical":return C3;case"FiSmile":return A3;case"FiPaperclip":return N3;case"FiSearch":return Vh;case"FiBell":return Mc;case"FiSettings":return du;case"FiEyeOff":return fp;case"FiHome":return D2;case"FiLogOut":return ew;case"FiMail":return Ni;case"FiPhone":return Yr;case"FiSmartphone":return Gs;case"FiKey":return hp;case"FiCamera":return X2;case"FiCopy":return Vo;case"FiCalendar":return Z2;case"FiClock":return Ps;case"FiCreditCard":return up;case"FiRefreshCw":return Zt;case"FiUser":return Os;case"FiDownload":return Cr;case"FiHelpCircle":return L2;case"FiInfo":return wl;case"FiArchive":return b3;default:return null}}catch{return console.warn(`Icon ${e} not found, using fallback`),null}})();return i?s.jsx(i,{size:t,color:r,...n}):s.jsx(I3,{iconName:e,size:t,color:r,...n})};function q3({vault:e,details:t,onBack:r,user:n,showToast:i}){var Ne,$e,Ge,wn,zr,vn,Sn,kn,Nt,Fi,so,jn,ir,Xe,ao,Tn,Pr,Mr;const{theme:o}=io(),a=pn.useRef(new Da).current;T.useEffect(()=>{const I=document.createElement("style");return I.textContent=`
      @keyframes typing {
        0%, 60%, 100% {
          transform: translateY(0);
          opacity: 0.4;
        }
        30% {
          transform: translateY(-10px);
          opacity: 1;
        }
      }
      
      @keyframes pulse {
        0%, 100% {
          opacity: 1;
          transform: translateX(-50%) scale(1);
        }
        50% {
          opacity: 0.8;
          transform: translateX(-50%) scale(1.05);
        }
      }
      
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes slideUp {
        from { 
          opacity: 0;
          transform: translateY(30px) scale(0.95);
        }
        to { 
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
    `,document.head.appendChild(I),()=>{document.head.removeChild(I)}},[]);const{depositToVault:l,withdrawFromVault:c,editGroupVault:d,deleteGroupVault:b,inviteVaultMember:y,removeVaultMember:m,changeVaultMemberRole:u,toggleVaultPrivacy:g}=Qt(),[N,W]=T.useState("overview"),[v,w]=T.useState(!1),[j,F]=T.useState(!1),[C,B]=T.useState(!1),[R,M]=T.useState(!1),[Z,$]=T.useState(!1),[q,X]=T.useState(!1),[A,O]=T.useState(null),[V,Y]=T.useState(""),[re,Q]=T.useState(""),[ee,de]=T.useState(""),[ue,ae]=T.useState("");T.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",currency:(e==null?void 0:e.currency)||"",targetAmount:(e==null?void 0:e.targetAmount)||"",isPublic:(e==null?void 0:e.isPublic)||!1});const[he,z]=T.useState(""),[Te,be]=T.useState("member"),[xe,me]=T.useState([]),[ge,U]=T.useState(""),[H,J]=T.useState(!1),[D,K]=T.useState(!1),[L,k]=T.useState([]),[h,f]=T.useState(!1),[E,P]=T.useState(0);T.useEffect(()=>{(async()=>{try{await a.init()}catch(je){console.error("Failed to initialize backend service:",je)}})()},[a]);const[_,oe]=T.useState(null),pe=T.useRef(null),ke=(e==null?void 0:e.ownerId)===(n==null?void 0:n.principal),ve=(Ne=t==null?void 0:t.members)==null?void 0:Ne.some(I=>I.userId===(n==null?void 0:n.principal)&&I.role==="admin");T.useEffect(()=>{if(Z&&(e!=null&&e.id)&&(n!=null&&n.username)){const I=async()=>{try{console.log("Loading messages for vault:",e.id),console.log("Current user:",n),console.log("User principal:",n==null?void 0:n.id);const Me=await a.getVaultMessages(e.id,50,0);Me.ok?me(Me.ok):(console.error("Failed to load messages:",Me.err),i("Failed to load chat messages","error"))}catch(Me){console.error("Error loading messages:",Me),i("Error loading chat messages","error")}};I();const je=setInterval(I,5e3);return()=>clearInterval(je)}},[Z,e==null?void 0:e.id,n==null?void 0:n.username,i]),T.useEffect(()=>{pe.current&&xe.length>0&&(setTimeout(()=>{pe.current.scrollTop=pe.current.scrollHeight},100),_&&xe.length>0&&xe[xe.length-1].id!==_&&P(Me=>Me+1))},[xe,_]),T.useEffect(()=>{if(D){const I=setTimeout(()=>{K(!1),k(je=>je.filter(Me=>Me!==(n==null?void 0:n.principal)))},3e3);return()=>clearTimeout(I)}},[D,n]),T.useEffect(()=>{if(Z&&(e!=null&&e.id)){const I=async()=>{try{const Me=await a.getTypingIndicators(e.id);if(Me.ok){const Fe=Me.ok.filter(Ie=>Ie.isTyping&&Ie.userId!==(n==null?void 0:n.principal)).map(Ie=>Ie.userId);k(Fe)}}catch(Me){console.error("Error loading typing indicators:",Me)}},je=setInterval(I,2e3);return I(),()=>clearInterval(je)}},[Z,e==null?void 0:e.id,n==null?void 0:n.principal]),T.useEffect(()=>{const I=pe.current;if(!I)return;const je=()=>{const{scrollTop:Me,scrollHeight:Fe,clientHeight:Ie}=I,Or=Fe-Me-Ie<100;if(f(!Or),Or&&E>0&&(P(0),xe.length>0&&(oe(xe[xe.length-1].id),e!=null&&e.id))){const lo=xe.map(En=>En.id);a.markMessagesAsRead(e.id,lo).catch(En=>{console.error("Error marking messages as read:",En)})}};return I.addEventListener("scroll",je),()=>I.removeEventListener("scroll",je)},[Z,E,xe]);const se=()=>{pe.current&&pe.current.scrollTo({top:pe.current.scrollHeight,behavior:"smooth"})},S=async I=>{I.preventDefault(),X(!0),O(null);try{const je=await l(e.id,parseFloat(V),re);je.ok?(w(!1),Y(""),Q(""),i({message:"Deposit successful!",type:"success",icon:s.jsx(Ft,{})}),r()):O(je.err||"Failed to deposit")}catch{O("Failed to deposit"),i({message:"Deposit failed",type:"error",icon:s.jsx(Je,{})})}finally{X(!1)}},p=async I=>{I.preventDefault(),X(!0),O(null);try{const je=await c(e.id,parseFloat(ee),ue);je.ok?(F(!1),de(""),ae(""),i({message:"Withdrawal successful!",type:"success",icon:s.jsx(Ft,{})}),r()):O(je.err||"Failed to withdraw")}catch{O("Failed to withdraw"),i({message:"Withdrawal failed",type:"error",icon:s.jsx(Je,{})})}finally{X(!1)}},x=async I=>{I.preventDefault(),X(!0),O(null);try{const je=await y(e.id,he,Te);je.ok?(M(!1),z(""),be("member"),i({message:"Invitation sent successfully! The user will receive a notification and must accept to join the vault.",type:"success",icon:s.jsx(Ft,{})}),r()):O(je.err||"Failed to send invitation")}catch{O("Failed to send invitation"),i({message:"Invitation failed",type:"error",icon:s.jsx(Je,{})})}finally{X(!1)}},G=async I=>{if(I.preventDefault(),ge.trim()&&(e!=null&&e.id))try{const je=await a.sendVaultMessage(e.id,ge.trim(),"Text",null);je.ok?(me(Me=>[...Me,je.ok]),U(""),K(!1),k(Me=>Me.filter(Fe=>Fe!==(n==null?void 0:n.principal)))):(console.error("Failed to send message:",je.err),i("Failed to send message","error"))}catch(je){console.error("Error sending message:",je),i("Error sending message","error")}},te=async I=>{if(U(I.target.value),!D&&I.target.value.length>0){if(K(!0),k(je=>[...je,n==null?void 0:n.principal]),e!=null&&e.id)try{await a.updateTypingStatus(e.id,!0)}catch(je){console.error("Error updating typing status:",je)}}else if(D&&I.target.value.length===0&&(K(!1),k(je=>je.filter(Me=>Me!==(n==null?void 0:n.principal))),e!=null&&e.id))try{await a.updateTypingStatus(e.id,!1)}catch(je){console.error("Error updating typing status:",je)}},le=I=>{let je;typeof I=="bigint"?je=Number(I)/1e6:typeof I=="string"&&I.endsWith("n")?je=parseInt(I.slice(0,-1))/1e6:je=I;const Me=new Date(je),Ie=new Date-Me;return Ie<6e4?"Just now":Ie<36e5?`${Math.floor(Ie/6e4)}m ago`:Ie<864e5?`${Math.floor(Ie/36e5)}h ago`:Me.toLocaleDateString()},ce=I=>{let je;return typeof I=="bigint"?je=Number(I)/1e6:typeof I=="string"&&I.endsWith("n")?je=parseInt(I.slice(0,-1))/1e6:je=I,new Date(je).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},_e=I=>{const je=[o.colors.primary,o.colors.success,o.colors.warning,o.colors.error,o.colors.info,o.colors.primary];if(!I)return je[0];const Me=I.toString().split("").reduce((Fe,Ie)=>Fe+Ie.charCodeAt(0),0)%je.length;return je[Me]},ze=(I,je)=>{me(Me=>Me.map(Fe=>{var Ie;return Fe.id===I?{...Fe,reactions:{...Fe.reactions,[je]:(((Ie=Fe.reactions)==null?void 0:Ie[je])||0)+1}}:Fe}))},Re=I=>{if(!I)return"";const je=/(https?:\/\/[^\s]+)/g;return I.split(je).map((Fe,Ie)=>je.test(Fe)?s.jsx("a",{href:Fe,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline"},children:Fe},Ie):Fe)};return s.jsxs("div",{className:"vault-details-container",style:{width:"100%",height:"100vh",background:`linear-gradient(135deg, ${o.colors.success}10 0%, ${o.colors.success}05 100%)`,overflow:"hidden",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[s.jsxs("div",{style:{background:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`,color:"white",padding:"1.5rem 2rem",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(7, 91, 94, 0.25)",position:"sticky",top:0,zIndex:100,borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("button",{onClick:r,style:{background:"rgba(255,255,255,0.15)",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},onMouseEnter:I=>I.target.style.background="rgba(255,255,255,0.25)",onMouseLeave:I=>I.target.style.background="rgba(255,255,255,0.15)",children:s.jsx(Q2,{size:18})}),s.jsxs("div",{children:[s.jsx("h1",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,lineHeight:"1.2"},children:e==null?void 0:e.name}),s.jsx("p",{style:{margin:"0.25rem 0 0 0",opacity:.9,fontSize:"0.85rem",lineHeight:"1.3"},children:e==null?void 0:e.description})]})]}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[s.jsxs("button",{onClick:()=>$(!Z),style:{background:Z?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)",border:"none",borderRadius:8,padding:"0.5rem 1rem",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.9rem",transition:"all 0.2s",boxShadow:Z?"0 2px 8px rgba(0,0,0,0.2)":"none"},onMouseEnter:I=>I.target.style.background="rgba(255,255,255,0.25)",onMouseLeave:I=>I.target.style.background=Z?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)",children:[s.jsx(Oc,{size:16}),"Chat ",Z&&"•"]}),ke&&s.jsxs("button",{onClick:()=>B(!0),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:8,padding:"0.5rem 1rem",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.9rem",transition:"all 0.2s"},onMouseEnter:I=>I.target.style.background="rgba(255,255,255,0.2)",onMouseLeave:I=>I.target.style.background="rgba(255,255,255,0.1)",children:[s.jsx(Ho,{size:16}),"Edit"]})]})]}),s.jsxs("div",{style:{display:"flex",height:"calc(100vh - 90px)"},children:[s.jsxs("div",{style:{flex:1,padding:"2rem",overflow:"auto"},children:[s.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",borderBottom:"2px solid rgba(59,130,246,0.1)",paddingBottom:"0.5rem"},children:["overview","members","transactions","governance"].map(I=>s.jsxs("button",{onClick:()=>W(I),className:`tab-button ${N===I?"active":""}`,style:{background:N===I?`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`:"transparent",color:N===I?o.colors.white:o.colors.text.secondary,border:"none",padding:"0.75rem 1.5rem",borderRadius:"12px 12px 0 0",cursor:"pointer",fontWeight:600,textTransform:"capitalize",transition:"all 0.3s ease",position:"relative"},children:[I==="overview"&&s.jsx(Ms,{size:16,style:{marginRight:"0.5rem"}}),I==="members"&&s.jsx(Un,{size:16,style:{marginRight:"0.5rem"}}),I==="transactions"&&s.jsx(Wh,{size:16,style:{marginRight:"0.5rem"}}),I==="governance"&&s.jsx(vt,{size:16,style:{marginRight:"0.5rem"}}),I]},I))}),N==="overview"&&s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[s.jsxs("div",{className:"vault-card",style:{padding:"2rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[s.jsx("div",{style:{width:48,height:48,background:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:o.colors.white},children:s.jsx(hr,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:o.colors.text.primary},children:"Vault Statistics"}),s.jsx("p",{style:{margin:"0.25rem 0 0 0",color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Real-time vault metrics"})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{className:"vault-stat",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{color:o.colors.text.secondary,fontSize:"0.9rem",fontWeight:500},children:"Total Balance"}),s.jsx("span",{className:"status-badge success",children:e!=null&&e.isPublic?"Public":"Private"})]}),s.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:700,color:o.colors.success},children:[(e==null?void 0:e.totalBalance)||0," ",e==null?void 0:e.currency]}),s.jsx("div",{style:{fontSize:"0.8rem",color:o.colors.text.secondary,marginTop:"0.25rem"},children:"Available for transactions"})]}),s.jsxs("div",{className:"vault-stat",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{color:o.colors.text.secondary,fontSize:"0.9rem",fontWeight:500},children:"Target Amount"}),s.jsx(Sl,{size:16,color:o.colors.text.secondary})]}),s.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:600,color:o.colors.text.primary},children:[(e==null?void 0:e.targetAmount)||"N/A"," ",e==null?void 0:e.currency]}),(e==null?void 0:e.targetAmount)&&s.jsxs("div",{style:{marginTop:"0.5rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:o.colors.text.secondary,marginBottom:"0.25rem"},children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[Math.round((e==null?void 0:e.totalBalance)/(e==null?void 0:e.targetAmount)*100),"%"]})]}),s.jsx("div",{style:{background:o.colors.border.primary,height:"6px",borderRadius:"3px",overflow:"hidden"},children:s.jsx("div",{className:"progress-bar",style:{width:`${Math.min((e==null?void 0:e.totalBalance)/(e==null?void 0:e.targetAmount)*100,100)}%`,height:"100%"}})})]})]}),s.jsxs("div",{className:"vault-stat",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{color:o.colors.text.secondary,fontSize:"0.9rem",fontWeight:500},children:"Members"}),s.jsx(Un,{size:16,color:o.colors.text.secondary})]}),s.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:o.colors.text.primary},children:((Ge=($e=t==null?void 0:t.ok)==null?void 0:$e.members)==null?void 0:Ge.length)||((wn=t==null?void 0:t.members)==null?void 0:wn.length)||0}),s.jsx("div",{style:{fontSize:"0.8rem",color:o.colors.text.secondary,marginTop:"0.25rem"},children:"Active participants"})]}),s.jsxs("div",{className:"vault-stat",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{color:o.colors.text.secondary,fontSize:"0.9rem",fontWeight:500},children:"Status"}),e!=null&&e.isPublic?s.jsx(ow,{size:16,color:o.colors.success}):s.jsx(vl,{size:16,color:o.colors.warning})]}),s.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:e!=null&&e.isPublic?o.colors.success:o.colors.warning,display:"flex",alignItems:"center",gap:"0.5rem"},children:e!=null&&e.isPublic?"Public":"Private"}),s.jsx("div",{style:{fontSize:"0.8rem",color:o.colors.text.secondary,marginTop:"0.25rem"},children:e!=null&&e.isPublic?"Anyone can join":"Invitation only"})]})]})]}),s.jsxs("div",{className:"vault-card",style:{padding:"2rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[s.jsx("div",{style:{width:48,height:48,background:`linear-gradient(135deg, ${o.colors.success} 0%, ${o.colors.success}dd 100%)`,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:s.jsx(to,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:o.colors.text.primary},children:"Quick Actions"}),s.jsx("p",{style:{margin:"0.25rem 0 0 0",color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Manage your vault"})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[s.jsxs("button",{onClick:()=>w(!0),style:{background:`linear-gradient(135deg, ${o.colors.success} 0%, ${o.colors.success}dd 100%)`,color:"white",border:"none",borderRadius:"12px",padding:"1rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",fontSize:"1rem",fontWeight:600,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:I=>{I.target.style.transform="translateY(-2px)",I.target.style.boxShadow="0 6px 20px rgba(16, 185, 129, 0.4)"},onMouseLeave:I=>{I.target.style.transform="translateY(0)",I.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.3)"},children:[s.jsx("div",{style:{width:24,height:24,background:"rgba(255,255,255,0.2)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(el,{size:16})}),s.jsx("span",{children:"Deposit Funds"})]}),s.jsxs("button",{onClick:()=>F(!0),style:{background:`linear-gradient(135deg, ${o.colors.warning} 0%, ${o.colors.warning}dd 100%)`,color:"white",border:"none",borderRadius:"12px",padding:"1rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",fontSize:"1rem",fontWeight:600,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:I=>{I.target.style.transform="translateY(-2px)",I.target.style.boxShadow="0 6px 20px rgba(245, 158, 11, 0.4)"},onMouseLeave:I=>{I.target.style.transform="translateY(0)",I.target.style.boxShadow="0 4px 12px rgba(245, 158, 11, 0.3)"},children:[s.jsx("div",{style:{width:24,height:24,background:"rgba(255,255,255,0.2)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(tl,{size:16})}),s.jsx("span",{children:"Withdraw Funds"})]}),s.jsxs("button",{onClick:()=>M(!0),style:{background:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`,color:"white",border:"none",borderRadius:"12px",padding:"1rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",fontSize:"1rem",fontWeight:600,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:I=>{I.target.style.transform="translateY(-2px)",I.target.style.boxShadow="0 6px 20px rgba(59, 130, 246, 0.4)"},onMouseLeave:I=>{I.target.style.transform="translateY(0)",I.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.3)"},children:[s.jsx("div",{style:{width:24,height:24,background:"rgba(255,255,255,0.2)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(bf,{iconName:"FiUserPlus",size:16})}),s.jsx("span",{children:"Invite Member"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem",marginTop:"0.5rem"},children:[s.jsxs("button",{onClick:()=>$(!Z),style:{background:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`,color:"white",border:"none",borderRadius:"12px",padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.9rem",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"},onMouseEnter:I=>I.target.style.transform="translateY(-2px)",onMouseLeave:I=>I.target.style.transform="translateY(0)",children:[s.jsx(Oc,{size:16}),"Chat"]}),s.jsxs("button",{onClick:()=>B(!0),style:{background:`linear-gradient(135deg, ${o.colors.text.secondary} 0%, ${o.colors.text.secondary}dd 100%)`,color:"white",border:"none",borderRadius:"12px",padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.9rem",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(107, 114, 128, 0.3)"},onMouseEnter:I=>I.target.style.transform="translateY(-2px)",onMouseLeave:I=>I.target.style.transform="translateY(0)",children:[s.jsx(du,{size:16}),"Settings"]})]})]})]})]}),N==="members"&&s.jsxs("div",{className:"vault-card",style:{padding:"2rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("div",{style:{width:48,height:48,background:`linear-gradient(135deg, ${o.colors.warning} 0%, ${o.colors.warning}dd 100%)`,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:s.jsx(Un,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:o.colors.text.primary},children:"Vault Members"}),s.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:o.colors.text.secondary,fontSize:"0.9rem"},children:[(((zr=t==null?void 0:t.ok)==null?void 0:zr.members)||(t==null?void 0:t.members)||[]).length," ","active members"]})]})]}),s.jsxs("button",{onClick:()=>M(!0),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",padding:"0.75rem 1.25rem"},children:[s.jsx(bf,{iconName:"FiUserPlus",size:16}),"Invite Member"]})]}),s.jsx("div",{style:{display:"grid",gap:"1rem"},children:(((vn=t==null?void 0:t.ok)==null?void 0:vn.members)||(t==null?void 0:t.members)||[]).map(I=>s.jsx("div",{className:"member-card",children:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:"50%",background:I.role==="owner"?`linear-gradient(135deg, ${o.colors.warning} 0%, ${o.colors.warning}dd 100%)`:I.role==="admin"?`linear-gradient(135deg, ${o.colors.success} 0%, ${o.colors.success}dd 100%)`:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:I.role==="owner"?s.jsx(H3,{size:20}):I.role==="admin"?s.jsx(vt,{size:20}):s.jsx(Un,{size:20})}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:600,color:o.colors.text.primary,fontSize:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[I.userId===(n==null?void 0:n.principal)?"You":`User ${I.userId.toString().slice(0,8)}...`,I.userId===(n==null?void 0:n.principal)&&s.jsx("span",{style:{background:o.colors.success,color:"white",padding:"0.125rem 0.5rem",borderRadius:"8px",fontSize:"0.7rem",fontWeight:600},children:"YOU"})]}),s.jsxs("div",{style:{fontSize:"0.85rem",color:o.colors.text.secondary,display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsxs("span",{children:["Joined ",ce(I.joinedAt)]}),s.jsx("span",{children:"•"}),s.jsx("span",{style:{background:I.role==="owner"?"rgba(251, 191, 36, 0.1)":I.role==="admin"?"rgba(16, 185, 129, 0.1)":"rgba(59, 130, 246, 0.1)",color:I.role==="owner"?o.colors.warning:I.role==="admin"?o.colors.success:o.colors.primary,padding:"0.125rem 0.5rem",borderRadius:"6px",fontSize:"0.75rem",fontWeight:600,textTransform:"capitalize"},children:I.role})]})]})]}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("button",{style:{background:`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,border:"none",borderRadius:"8px",padding:"0.5rem",cursor:"pointer",color:o.colors.primary,transition:"all 0.2s"},onMouseEnter:je=>je.target.style.background=`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.2)`,onMouseLeave:je=>je.target.style.background=`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,title:"View Profile",children:s.jsx(Ms,{size:16})}),(ke||ve)&&I.role!=="owner"&&s.jsx("button",{style:{background:`rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.1)`,border:"none",borderRadius:"8px",padding:"0.5rem",cursor:"pointer",color:o.colors.error,transition:"all 0.2s"},onMouseEnter:je=>je.target.style.background=`rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.2)`,onMouseLeave:je=>je.target.style.background=`rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.1)`,title:"Remove Member",children:s.jsx(pp,{size:16})})]})]})},I.id))})]}),N==="transactions"&&s.jsxs("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[s.jsx("h3",{style:{margin:"0 0 1rem 0",color:o.colors.text.primary},children:"Transaction History"}),s.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:o.colors.text.secondary},children:[s.jsx(Wh,{size:48,style:{marginBottom:"1rem",opacity:.5}}),s.jsx("p",{children:"No transactions yet"}),s.jsx("p",{style:{fontSize:"0.9rem"},children:"Transactions will appear here when members deposit or withdraw"})]})]}),N==="governance"&&s.jsxs("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[s.jsx("h3",{style:{margin:"0 0 1rem 0",color:o.colors.text.primary},children:"Governance"}),s.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:o.colors.text.secondary},children:[s.jsx(vt,{size:48,style:{marginBottom:"1rem",opacity:.5}}),s.jsx("p",{children:"No proposals yet"}),s.jsx("p",{style:{fontSize:"0.9rem"},children:"Proposals will appear here when members suggest changes"})]})]})]}),Z&&s.jsxs("div",{style:{width:H?"450px":"380px",background:`linear-gradient(135deg, ${o.colors.white} 0%, ${o.colors.white} 100%)`,borderLeft:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,display:"flex",flexDirection:"column",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"-4px 0 20px rgba(0,0,0,0.1)",animation:"slideInRight 0.3s ease-out"},children:[s.jsxs("div",{style:{padding:"1.25rem",borderBottom:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,background:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`,color:"white",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 2px 8px rgba(139, 92, 246, 0.2)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("div",{style:{width:40,height:40,background:"rgba(255,255,255,0.2)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Oc,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{style:{margin:0,fontSize:"1.1rem",fontWeight:700},children:"Vault Chat"}),s.jsxs("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.85rem",opacity:.9},children:[((kn=(Sn=t==null?void 0:t.ok)==null?void 0:Sn.members)==null?void 0:kn.length)||((Nt=t==null?void 0:t.members)==null?void 0:Nt.length)||0," ","members • ",xe.length," messages"]})]})]}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("button",{onClick:()=>J(!H),style:{background:`rgba(${o.colors.white.r}, ${o.colors.white.g}, ${o.colors.white.b}, 0.1)`,border:"none",borderRadius:6,padding:"0.5rem",cursor:"pointer",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},title:H?"Collapse":"Expand",children:H?s.jsx(rl,{size:16}):s.jsx(J2,{size:16})}),s.jsx("button",{onClick:()=>$(!1),style:{background:`rgba(${o.colors.white.r}, ${o.colors.white.g}, ${o.colors.white.b}, 0.1)`,border:"none",borderRadius:6,padding:"0.5rem",cursor:"pointer",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Je,{size:16})})]})]}),s.jsx("div",{style:{padding:"0.75rem 1rem",borderBottom:`1px solid ${o.colors.border.primary}`,background:o.colors.background.secondary},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[s.jsx("span",{style:{fontSize:"0.8rem",color:o.colors.text.secondary,fontWeight:600},children:"Online:"}),(((Fi=t==null?void 0:t.ok)==null?void 0:Fi.members)||(t==null?void 0:t.members)||[]).slice(0,3).map((I,je)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",background:"white",padding:"0.25rem 0.5rem",borderRadius:12,border:`1px solid ${o.colors.border.primary}`},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:o.colors.success,marginRight:"0.25rem"}}),s.jsx("span",{style:{fontSize:"0.75rem",color:o.colors.text.primary},children:I.userId===(n==null?void 0:n.principal)?"You":`User ${je+1}`})]},I.id)),(((so=t==null?void 0:t.ok)==null?void 0:so.members)||(t==null?void 0:t.members)||[]).length>3&&s.jsxs("span",{style:{fontSize:"0.75rem",color:o.colors.text.secondary},children:["+",(((jn=t==null?void 0:t.ok)==null?void 0:jn.members)||(t==null?void 0:t.members)||[]).length-3," ","more"]})]})}),s.jsxs("div",{ref:pe,style:{flex:1,padding:"1rem",overflowY:"auto",overflowX:"hidden",background:o.colors.background.secondary,maxHeight:"calc(100vh - 300px)",scrollBehavior:"smooth",position:"relative"},children:[h&&s.jsxs("button",{onClick:se,style:{position:"absolute",bottom:"1rem",right:"1rem",background:E>0?o.colors.warning:o.colors.primary,color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:`0 2px 8px rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.2)`,zIndex:10,transition:"all 0.2s",position:"relative"},onMouseEnter:I=>I.target.style.transform="scale(1.1)",onMouseLeave:I=>I.target.style.transform="scale(1)",children:[s.jsx(rl,{size:16}),E>0&&s.jsx("div",{style:{position:"absolute",top:"-5px",right:"-5px",background:o.colors.error,color:"white",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",border:"2px solid white"},children:E>9?"9+":E})]}),E>0&&!h&&s.jsxs("div",{style:{position:"absolute",bottom:"1rem",left:"50%",transform:"translateX(-50%)",background:`rgba(${o.colors.warning.r}, ${o.colors.warning.g}, ${o.colors.warning.b}, 1)`,color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",boxShadow:`0 2px 8px rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.2)`,zIndex:10,animation:"pulse 2s infinite"},onClick:se,children:[E," new message",E>1?"s":""," ↓"]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[xe.map((I,je)=>{var Me,Fe;return s.jsxs("div",{style:{display:"flex",flexDirection:I.userId===(n==null?void 0:n.principal)?"row-reverse":"row",gap:"0.75rem",opacity:I.messageType==="System"||I.type==="system"?.7:1},children:[s.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:I.messageType==="System"||I.type==="system"?`rgba(${o.colors.border.primary.r}, ${o.colors.border.primary.g}, ${o.colors.border.primary.b}, 1)`:_e(I.userId),display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.8rem",fontWeight:600,flexShrink:0},children:I.messageType==="System"||I.type==="system"?"⚙️":((Fe=(Me=I.userName)==null?void 0:Me.charAt(0))==null?void 0:Fe.toUpperCase())||"U"}),s.jsxs("div",{style:{maxWidth:"70%",display:"flex",flexDirection:"column",gap:"0.25rem"},children:[I.messageType!=="System"&&I.type!=="system"&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:I.userId===(n==null?void 0:n.principal)?"flex-end":"flex-start"},children:[s.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:I.userId===(n==null?void 0:n.principal)?o.colors.primary:o.colors.text.secondary},children:I.userName}),s.jsx("span",{style:{fontSize:"0.7rem",color:o.colors.text.secondary},children:le(I.timestamp)})]}),s.jsxs("div",{style:{background:I.messageType==="System"||I.type==="system"?o.colors.background.secondary:I.userId===(n==null?void 0:n.principal)?`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 1)`:`rgba(${o.colors.white.r}, ${o.colors.white.g}, ${o.colors.white.b}, 1)`,color:I.messageType==="System"||I.type==="system"?o.colors.text.secondary:I.userId===(n==null?void 0:n.principal)?o.colors.white:o.colors.text.secondary,padding:I.messageType==="System"||I.type==="system"?"0.5rem 0.75rem":"0.75rem 1rem",borderRadius:I.messageType==="System"||I.type==="system"?8:12,fontSize:"0.9rem",border:I.messageType!=="System"&&I.type!=="system"&&I.userId!==(n==null?void 0:n.principal)?`1px solid rgba(${o.colors.border.primary.r}, ${o.colors.border.primary.g}, ${o.colors.border.primary.b}, 1)`:"none",boxShadow:I.messageType!=="System"&&I.type!=="system"?`0 1px 3px rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.1)`:"none",position:"relative"},children:[s.jsx("div",{style:{lineHeight:"1.4"},children:Re(I.content||I.message||"")}),I.reactions&&Object.keys(I.reactions).length>0&&s.jsx("div",{style:{display:"flex",gap:"0.25rem",marginTop:"0.5rem",flexWrap:"wrap"},children:Object.entries(I.reactions).map(([Ie,Or])=>s.jsxs("button",{onClick:()=>ze(I.id,Ie),style:{background:`rgba(${o.colors.border.primary.r}, ${o.colors.border.primary.g}, ${o.colors.border.primary.b}, 0.2)`,border:"none",borderRadius:12,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem",color:"inherit"},children:[s.jsx("span",{children:Ie}),s.jsx("span",{style:{fontSize:"0.7rem",opacity:.8},children:Or})]},Ie))}),I.type!=="system"&&s.jsx("button",{onClick:()=>ze(I.id,"👍"),style:{position:"absolute",top:"0.25rem",right:"0.25rem",background:`rgba(${o.colors.border.primary.r}, ${o.colors.border.primary.g}, ${o.colors.border.primary.b}, 0.1)`,border:"none",borderRadius:4,padding:"0.25rem",cursor:"pointer",opacity:0,transition:"opacity 0.2s",fontSize:"0.8rem"},onMouseEnter:Ie=>Ie.target.style.opacity="1",onMouseLeave:Ie=>Ie.target.style.opacity="0",children:"👍"})]})]})]},I.id||je)}),L.length>0&&s.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end",padding:"0.5rem 0"},children:[s.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:o.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx("span",{style:{fontSize:"0.8rem"},children:"👤"})}),s.jsx("div",{style:{background:"white",padding:"0.75rem 1rem",borderRadius:12,border:`1px solid ${o.colors.border.primary}`,boxShadow:`0 1px 3px rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.1)`},children:s.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[s.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:o.colors.text.secondary,animation:"typing 1.4s infinite ease-in-out"}}),s.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:o.colors.text.secondary,animation:"typing 1.4s infinite ease-in-out 0.2s"}}),s.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:o.colors.text.secondary,animation:"typing 1.4s infinite ease-in-out 0.4s"}})]})})]})]})]}),s.jsxs("form",{onSubmit:G,style:{padding:"1.25rem",borderTop:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,background:"white",boxShadow:`0 -2px 8px rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.05)`},children:[s.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end"},children:[s.jsx("div",{style:{flex:1},children:s.jsx("textarea",{value:ge,onChange:te,placeholder:"Type a message...",className:"chat-input",style:{width:"100%",minHeight:"44px",maxHeight:"120px",padding:"0.875rem 1rem",border:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,borderRadius:"12px",fontSize:"0.9rem",resize:"none",fontFamily:"inherit",outline:"none",background:`linear-gradient(135deg, ${o.colors.border.primary} 0%, ${o.colors.border.primary} 100%)`,transition:"all 0.3s ease"},onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),G(I))}})}),s.jsx("button",{type:"submit",disabled:!ge.trim(),style:{background:ge.trim()?`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`:`rgba(${o.colors.white.r}, ${o.colors.white.g}, ${o.colors.white.b}, 0.1)`,color:"white",border:"none",borderRadius:"12px",padding:"0.875rem",cursor:ge.trim()?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:ge.trim()?"0 4px 12px rgba(139, 92, 246, 0.3)":"none",width:"44px",height:"44px"},onMouseEnter:I=>ge.trim()&&(I.target.style.transform="translateY(-2px)"),onMouseLeave:I=>ge.trim()&&(I.target.style.transform="translateY(0)"),children:s.jsx(yr,{size:18})})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.75rem",marginTop:"1rem"},children:[s.jsxs("button",{type:"button",onClick:()=>U(I=>I+"💰"),style:{background:`rgba(${o.colors.success.r}, ${o.colors.success.g}, ${o.colors.success.b}, 0.1)`,color:o.colors.success,border:"1px solid rgba(16, 185, 129, 0.2)",borderRadius:"10px",padding:"0.75rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",minHeight:"60px",justifyContent:"center"},onMouseEnter:I=>{I.target.style.background="rgba(16, 185, 129, 0.15)",I.target.style.transform="translateY(-2px)",I.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.2)"},onMouseLeave:I=>{I.target.style.background="rgba(16, 185, 129, 0.1)",I.target.style.transform="translateY(0)",I.target.style.boxShadow="none"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"💰"}),s.jsx("span",{children:"Deposit"})]}),s.jsxs("button",{type:"button",onClick:()=>U(I=>I+"📊"),style:{background:`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,color:o.colors.primary,border:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.2)`,borderRadius:"10px",padding:"0.75rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",minHeight:"60px",justifyContent:"center"},onMouseEnter:I=>{I.target.style.background=`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.15)`,I.target.style.transform="translateY(-2px)",I.target.style.boxShadow=`0 4px 12px rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.2)`},onMouseLeave:I=>{I.target.style.background=`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,I.target.style.transform="translateY(0)",I.target.style.boxShadow="none"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"📊"}),s.jsx("span",{children:"Stats"})]}),s.jsxs("button",{type:"button",onClick:()=>U(I=>I+"🎯"),style:{background:`rgba(${o.colors.warning.r}, ${o.colors.warning.g}, ${o.colors.warning.b}, 0.1)`,color:o.colors.warning,border:`1px solid rgba(${o.colors.warning.r}, ${o.colors.warning.g}, ${o.colors.warning.b}, 0.2)`,borderRadius:"10px",padding:"0.75rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",minHeight:"60px",justifyContent:"center"},onMouseEnter:I=>{I.target.style.background=`rgba(${o.colors.warning.r}, ${o.colors.warning.g}, ${o.colors.warning.b}, 0.15)`,I.target.style.transform="translateY(-2px)",I.target.style.boxShadow=`0 4px 12px rgba(${o.colors.warning.r}, ${o.colors.warning.g}, ${o.colors.warning.b}, 0.2)`},onMouseLeave:I=>{I.target.style.background=`rgba(${o.colors.warning.r}, ${o.colors.warning.g}, ${o.colors.warning.b}, 0.1)`,I.target.style.transform="translateY(0)",I.target.style.boxShadow="none"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"🎯"}),s.jsx("span",{children:"Goal"})]}),s.jsxs("button",{type:"button",onClick:()=>U(I=>I+"🎉"),style:{background:`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,color:o.colors.primary,border:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.2)`,borderRadius:"10px",padding:"0.75rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",minHeight:"60px",justifyContent:"center"},onMouseEnter:I=>{I.target.style.background=`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.15)`,I.target.style.transform="translateY(-2px)",I.target.style.boxShadow=`0 4px 12px rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.2)`},onMouseLeave:I=>{I.target.style.background=`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,I.target.style.transform="translateY(0)",I.target.style.boxShadow="none"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"🎉"}),s.jsx("span",{children:"Celebrate"})]}),s.jsxs("button",{type:"button",onClick:()=>U(I=>I+"📝"),style:{background:`rgba(${o.colors.text.secondary.r}, ${o.colors.text.secondary.g}, ${o.colors.text.secondary.b}, 0.1)`,color:o.colors.text.secondary,border:`1px solid rgba(${o.colors.text.secondary.r}, ${o.colors.text.secondary.g}, ${o.colors.text.secondary.b}, 0.2)`,borderRadius:"10px",padding:"0.75rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",minHeight:"60px",justifyContent:"center"},onMouseEnter:I=>{I.target.style.background=`rgba(${o.colors.text.secondary.r}, ${o.colors.text.secondary.g}, ${o.colors.text.secondary.b}, 0.15)`,I.target.style.transform="translateY(-2px)",I.target.style.boxShadow=`0 4px 12px rgba(${o.colors.text.secondary.r}, ${o.colors.text.secondary.g}, ${o.colors.text.secondary.b}, 0.2)`},onMouseLeave:I=>{I.target.style.background=`rgba(${o.colors.text.secondary.r}, ${o.colors.text.secondary.g}, ${o.colors.text.secondary.b}, 0.1)`,I.target.style.transform="translateY(0)",I.target.style.boxShadow="none"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"📝"}),s.jsx("span",{children:"Note"})]}),s.jsxs("button",{type:"button",onClick:()=>U(I=>I+"🔥"),style:{background:`rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.1)`,color:o.colors.error,border:`1px solid rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.2)`,borderRadius:"10px",padding:"0.75rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",minHeight:"60px",justifyContent:"center"},onMouseEnter:I=>{I.target.style.background=`rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.15)`,I.target.style.transform="translateY(-2px)",I.target.style.boxShadow=`0 4px 12px rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.2)`},onMouseLeave:I=>{I.target.style.background=`rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.1)`,I.target.style.transform="translateY(0)",I.target.style.boxShadow="none"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"🔥"}),s.jsx("span",{children:"Hot"})]})]})]})]})]}),v&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:()=>w(!1),children:s.jsxs("form",{onClick:I=>I.stopPropagation(),onSubmit:S,style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,position:"relative"},children:[s.jsx("button",{type:"button",onClick:()=>w(!1),style:{position:"absolute",top:16,right:16,background:`rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.1)`,border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:o.colors.text.secondary,transition:"all 0.2s"},children:s.jsx(Je,{size:16})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("div",{style:{width:60,height:60,background:`linear-gradient(135deg, ${o.colors.success}, ${o.colors.success})`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:s.jsx(el,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:o.colors.success},children:"Deposit to Vault"}),s.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:o.colors.text.secondary,fontSize:"0.9rem"},children:["Add funds to ",s.jsx("strong",{children:e==null?void 0:e.name})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Amount *"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:o.colors.text.secondary,fontWeight:600},children:e==null?void 0:e.currency}),s.jsx("input",{type:"number",placeholder:"0.00",value:V,onChange:I=>Y(I.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,fontSize:"1.2rem",fontWeight:600,transition:"all 0.2s",outline:"none"},onFocus:I=>I.target.style.borderColor=o.colors.success,onBlur:I=>I.target.style.borderColor=o.colors.border.primary})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Description (Optional)"}),s.jsx("textarea",{placeholder:"What is this deposit for?",value:re,onChange:I=>Q(I.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:I=>I.target.style.borderColor=o.colors.success,onBlur:I=>I.target.style.borderColor=o.colors.border.primary})]}),s.jsxs("div",{style:{background:o.colors.background.secondary,padding:"1rem",borderRadius:12,border:`1px solid ${o.colors.success}`},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontSize:"0.9rem",color:o.colors.text.secondary},children:"Current Balance:"}),s.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:o.colors.success},children:[e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{fontSize:"0.9rem",color:o.colors.text.secondary},children:"New Balance:"}),s.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:o.colors.success},children:[V?(parseFloat((e==null?void 0:e.totalBalance)||0)+parseFloat(V)).toFixed(2):e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency]})]})]})]}),A&&s.jsx("div",{style:{background:o.colors.background.secondary,color:o.colors.error,padding:"0.75rem 1rem",borderRadius:8,border:`1px solid ${o.colors.error}`,fontSize:"0.9rem",marginTop:"1rem"},children:A}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[s.jsx("button",{type:"button",onClick:()=>w(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,background:"white",color:o.colors.text.secondary,fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>I.target.style.borderColor=o.colors.text.secondary,onMouseLeave:I=>I.target.style.borderColor=o.colors.border.primary,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:q||!V,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:q||!V?o.colors.text.secondary:`linear-gradient(135deg, ${o.colors.success}, ${o.colors.success})`,color:"white",fontSize:"1rem",fontWeight:600,cursor:q||!V?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:q||!V?"none":"0 4px 12px rgba(16, 185, 129, 0.3)"},onMouseEnter:I=>!q&&V&&(I.target.style.transform="translateY(-1px)"),onMouseLeave:I=>!q&&V&&(I.target.style.transform="translateY(0)"),children:q?"Depositing...":"Deposit Funds"})]})]})}),j&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:()=>F(!1),children:s.jsxs("form",{onClick:I=>I.stopPropagation(),onSubmit:p,style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,position:"relative"},children:[s.jsx("button",{type:"button",onClick:()=>F(!1),style:{position:"absolute",top:16,right:16,background:`rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.1)`,border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:o.colors.text.secondary,transition:"all 0.2s"},children:s.jsx(Je,{size:16})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("div",{style:{width:60,height:60,background:`linear-gradient(135deg, ${o.colors.warning}, ${o.colors.warning})`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(245, 158, 11, 0.3)"},children:s.jsx(tl,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:o.colors.warning},children:"Withdraw from Vault"}),s.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:o.colors.text.secondary,fontSize:"0.9rem"},children:["Remove funds from ",s.jsx("strong",{children:e==null?void 0:e.name})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Amount *"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:o.colors.text.secondary,fontWeight:600},children:e==null?void 0:e.currency}),s.jsx("input",{type:"number",placeholder:"0.00",value:ee,onChange:I=>de(I.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,fontSize:"1.2rem",fontWeight:600,transition:"all 0.2s",outline:"none"},onFocus:I=>I.target.style.borderColor=o.colors.warning,onBlur:I=>I.target.style.borderColor=o.colors.border.primary})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Reason (Optional)"}),s.jsx("textarea",{placeholder:"Why are you withdrawing these funds?",value:ue,onChange:I=>ae(I.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:I=>I.target.style.borderColor=o.colors.warning,onBlur:I=>I.target.style.borderColor=o.colors.border.primary})]}),s.jsxs("div",{style:{background:o.colors.background.secondary,padding:"1rem",borderRadius:12,border:`1px solid ${o.colors.warning}`},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontSize:"0.9rem",color:o.colors.text.secondary},children:"Current Balance:"}),s.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:o.colors.warning},children:[e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{fontSize:"0.9rem",color:o.colors.text.secondary},children:"Remaining Balance:"}),s.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:o.colors.warning},children:[ee?(parseFloat((e==null?void 0:e.totalBalance)||0)-parseFloat(ee)).toFixed(2):e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency]})]})]}),ee&&parseFloat(ee)>parseFloat((e==null?void 0:e.totalBalance)||0)&&s.jsx("div",{style:{background:o.colors.background.secondary,color:o.colors.error,padding:"0.75rem 1rem",borderRadius:8,border:`1px solid ${o.colors.error}`,fontSize:"0.9rem"},children:"⚠️ Withdrawal amount exceeds available balance"})]}),A&&s.jsx("div",{style:{background:o.colors.background.secondary,color:o.colors.error,padding:"0.75rem 1rem",borderRadius:8,border:`1px solid ${o.colors.error}`,fontSize:"0.9rem",marginTop:"1rem"},children:A}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[s.jsx("button",{type:"button",onClick:()=>F(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,background:"white",color:o.colors.text.secondary,fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>I.target.style.borderColor=o.colors.text.secondary,onMouseLeave:I=>I.target.style.borderColor=o.colors.border.primary,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:q||!ee||parseFloat(ee)>parseFloat((e==null?void 0:e.totalBalance)||0),style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:q||!ee||parseFloat(ee)>parseFloat((e==null?void 0:e.totalBalance)||0)?o.colors.text.secondary:`linear-gradient(135deg, ${o.colors.warning}, ${o.colors.warning})`,color:"white",fontSize:"1rem",fontWeight:600,cursor:q||!ee||parseFloat(ee)>parseFloat((e==null?void 0:e.totalBalance)||0)?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:q||!ee||parseFloat(ee)>parseFloat((e==null?void 0:e.totalBalance)||0)?"none":"0 4px 12px rgba(245, 158, 11, 0.3)"},onMouseEnter:I=>!q&&ee&&parseFloat(ee)<=parseFloat((e==null?void 0:e.totalBalance)||0)&&(I.target.style.transform="translateY(-1px)"),onMouseLeave:I=>!q&&ee&&parseFloat(ee)<=parseFloat((e==null?void 0:e.totalBalance)||0)&&(I.target.style.transform="translateY(0)"),children:q?"Withdrawing...":"Withdraw Funds"})]})]})}),R&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:()=>M(!1),children:s.jsxs("form",{onClick:I=>I.stopPropagation(),onSubmit:x,style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,position:"relative"},children:[s.jsx("button",{type:"button",onClick:()=>M(!1),style:{position:"absolute",top:16,right:16,background:`rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.1)`,border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:o.colors.text.secondary,transition:"all 0.2s"},children:s.jsx(Je,{size:16})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("div",{style:{width:60,height:60,background:`linear-gradient(135deg, ${o.colors.primary}, ${o.colors.primary})`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:s.jsx(bf,{iconName:"FiUserPlus",size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:o.colors.primary},children:"Invite Member"}),s.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:o.colors.text.secondary,fontSize:"0.9rem"},children:["Add a new member to ",s.jsx("strong",{children:e==null?void 0:e.name})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:o.colors.text.secondary,fontSize:"0.9rem"},children:"User ID *"}),s.jsx("input",{type:"text",placeholder:"Enter user's principal ID",value:he,onChange:I=>z(I.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:I=>I.target.style.borderColor=o.colors.primary,onBlur:I=>I.target.style.borderColor=o.colors.border.primary})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Role *"}),s.jsxs("select",{value:Te,onChange:I=>be(I.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",background:"white"},onFocus:I=>I.target.style.borderColor=o.colors.primary,onBlur:I=>I.target.style.borderColor=o.colors.border.primary,children:[s.jsx("option",{value:"member",children:"👤 Member - Can deposit, withdraw, and view vault"}),s.jsx("option",{value:"admin",children:"🛡️ Admin - Can manage vault settings and members"})]})]}),s.jsxs("div",{style:{background:o.colors.background.secondary,padding:"1rem",borderRadius:12,border:`1px solid ${o.colors.primary}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[s.jsx(Un,{size:16,color:o.colors.primary}),s.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600,color:o.colors.primary},children:"Current Members"})]}),s.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:700,color:o.colors.primary},children:[((Xe=(ir=t==null?void 0:t.ok)==null?void 0:ir.members)==null?void 0:Xe.length)||((ao=t==null?void 0:t.members)==null?void 0:ao.length)||0," ","member",(((Pr=(Tn=t==null?void 0:t.ok)==null?void 0:Tn.members)==null?void 0:Pr.length)||((Mr=t==null?void 0:t.members)==null?void 0:Mr.length)||0)!==1?"s":""]})]})]}),A&&s.jsx("div",{style:{background:o.colors.background.secondary,color:o.colors.error,padding:"0.75rem 1rem",borderRadius:8,border:`1px solid ${o.colors.error}`,fontSize:"0.9rem",marginTop:"1rem"},children:A}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[s.jsx("button",{type:"button",onClick:()=>M(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,background:"white",color:o.colors.text.secondary,fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>I.target.style.borderColor=o.colors.text.secondary,onMouseLeave:I=>I.target.style.borderColor=o.colors.border.primary,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:q||!he,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:q||!he?o.colors.text.secondary:`linear-gradient(135deg, ${o.colors.primary}, ${o.colors.primary})`,color:"white",fontSize:"1rem",fontWeight:600,cursor:q||!he?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:q||!he?"none":`0 4px 12px rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.3)`},onMouseEnter:I=>!q&&he&&(I.target.style.transform="translateY(-1px)"),onMouseLeave:I=>!q&&he&&(I.target.style.transform="translateY(0)"),children:q?"Inviting...":"Send Invitation"})]})]})})]})}function G3(){const{getPublicVaults:e,joinGroupVault:t,user:r,isAuthenticated:n}=Qt(),{showToast:i}=Fr(),[o,a]=T.useState([]),[l,c]=T.useState(!0),[d,b]=T.useState(null),[y,m]=T.useState(""),[u,g]=T.useState("all");T.useEffect(()=>{(async()=>{if(!n){c(!1);return}c(!0);try{const F=await e();a(F||[])}catch(F){console.error("Failed to fetch public vaults:",F),a([])}finally{c(!1)}})()},[e,n]);const N=async j=>{b(j);try{const F=await t(j);F.ok?(i({message:"Successfully joined vault!",type:"success",icon:s.jsx(Ft,{})}),a(C=>C.filter(B=>B.id!==j))):i({message:F.err||"Failed to join vault",type:"error",icon:s.jsx(Je,{})})}catch(F){console.error("Join vault error:",F),i({message:"Failed to join vault",type:"error",icon:s.jsx(Je,{})})}finally{b(null)}},W=o.filter(j=>{var B;const F=j.name.toLowerCase().includes(y.toLowerCase())||((B=j.description)==null?void 0:B.toLowerCase().includes(y.toLowerCase())),C=u==="all"||j.vaultType.toLowerCase()===u.toLowerCase();return F&&C}),v=j=>{switch(j.toLowerCase()){case"savings":return s.jsx(Sl,{});case"investment":return s.jsx(hr,{});case"emergency":return s.jsx(vt,{});default:return s.jsx(De,{})}},w=j=>{switch(j.toLowerCase()){case"savings":return"#10b981";case"investment":return"#075B5E";case"emergency":return"#f59e0b";default:return"#6b7280"}};return n?s.jsxs("div",{style:{padding:"2rem"},children:[s.jsxs("div",{style:{marginBottom:"2rem"},children:[s.jsx("h1",{style:{margin:"0 0 0.5rem 0",fontSize:"2rem",fontWeight:700,color:"var(--neutral-800)"},children:"Discover Public Vaults"}),s.jsx("p",{style:{margin:0,color:"var(--neutral-600)",fontSize:"1.1rem"},children:"Join community vaults and start saving together"})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[s.jsxs("div",{style:{position:"relative",flex:1,minWidth:"300px"},children:[s.jsx(Vh,{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--neutral-400)"}}),s.jsx("input",{type:"text",placeholder:"Search vaults...",value:y,onChange:j=>m(j.target.value),style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",outline:"none",transition:"all 0.2s"},onFocus:j=>j.target.style.borderColor="#075B5E",onBlur:j=>j.target.style.borderColor="var(--neutral-200)"})]}),s.jsxs("select",{value:u,onChange:j=>g(j.target.value),style:{padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",outline:"none",background:"white",cursor:"pointer",minWidth:"150px"},children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"savings",children:"Savings"}),s.jsx("option",{value:"investment",children:"Investment"}),s.jsx("option",{value:"emergency",children:"Emergency"})]})]}),l&&s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:s.jsx("div",{style:{width:40,height:40,border:"4px solid var(--neutral-200)",borderTop:"4px solid #075B5E",borderRadius:"50%",animation:"spin 1s linear infinite"}})}),!l&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:W.length===0?s.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"3rem",color:"var(--neutral-500)"},children:[s.jsx(Vh,{size:48,style:{marginBottom:"1rem"}}),s.jsx("h3",{style:{margin:"0 0 0.5rem 0"},children:"No vaults found"}),s.jsx("p",{style:{margin:0},children:y||u!=="all"?"Try adjusting your search or filters":"No public vaults available at the moment"})]}):W.map(j=>{var F;return s.jsxs("div",{style:{background:"white",borderRadius:16,padding:"1.5rem",border:"1px solid var(--neutral-200)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:C=>{C.currentTarget.style.transform="translateY(-2px)",C.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.1)"},onMouseLeave:C=>{C.currentTarget.style.transform="translateY(0)",C.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.05)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:`linear-gradient(135deg, ${w(j.vaultType)}, ${w(j.vaultType)}dd)`,display:"flex",alignItems:"center",justifyContent:"center",marginRight:"1rem"},children:s.jsx("div",{style:{color:"white",fontSize:"1.2rem"},children:v(j.vaultType)})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("h3",{style:{margin:"0 0 0.25rem 0",fontSize:"1.2rem",fontWeight:600,color:"var(--neutral-800)"},children:j.name}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",color:"var(--neutral-600)"},children:[s.jsx("span",{style:{padding:"0.25rem 0.5rem",background:"var(--neutral-100)",borderRadius:6,fontWeight:500},children:j.vaultType}),s.jsx(Un,{size:14}),s.jsxs("span",{children:[((F=j.members)==null?void 0:F.length)||0," members"]})]})]})]}),j.description&&s.jsx("p",{style:{margin:"0 0 1rem 0",color:"var(--neutral-600)",fontSize:"0.95rem",lineHeight:1.5},children:j.description}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--neutral-500)",marginBottom:"0.25rem"},children:"Current Balance"}),s.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--success-700)"},children:[j.totalBalance," ",j.currency]})]}),j.targetAmount&&s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--neutral-500)",marginBottom:"0.25rem"},children:"Target Amount"}),s.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--primary-700)"},children:[j.targetAmount," ",j.currency]})]})]}),s.jsx("button",{onClick:()=>N(j.id),disabled:d===j.id,style:{width:"100%",padding:"0.75rem 1rem",background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",color:"white",border:"none",borderRadius:12,fontSize:"1rem",fontWeight:600,cursor:d===j.id?"not-allowed":"pointer",opacity:d===j.id?.7:1,transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:C=>{d!==j.id&&(C.target.style.transform="translateY(-1px)")},onMouseLeave:C=>{C.target.style.transform="translateY(0)"},children:d===j.id?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{width:16,height:16,border:"2px solid white",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Joining..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cu,{size:16}),"Join Vault"]})})]},j.id)})}),s.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]}):s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",padding:"2rem",textAlign:"center"},children:[s.jsx(vl,{size:48,style:{color:"var(--neutral-400)",marginBottom:"1rem"}}),s.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"var(--neutral-700)"},children:"Authentication Required"}),s.jsx("p",{style:{margin:0,color:"var(--neutral-600)"},children:"Please log in to browse public vaults"})]})}const Ll=43200,Yg=1440,Kg=Symbol.for("constructDateFrom");function mp(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Kg in e?e[Kg](t):e instanceof Date?new e.constructor(t):new Date(t)}function Io(e,t){return mp(t||e,e)}let Y3={};function K3(){return Y3}function Zg(e){const t=Io(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function gp(e,...t){const r=mp.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function $c(e,t){const r=+Io(e)-+Io(t);return r<0?-1:r>0?1:r}function Z3(e){return mp(e,Date.now())}function X3(e,t,r){const[n,i]=gp(r==null?void 0:r.in,e,t),o=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return o*12+a}function Q3(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function J3(e,t){return+Io(e)-+Io(t)}function L3(e,t){const r=Io(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function D3(e,t){const r=Io(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function eT(e,t){const r=Io(e,t==null?void 0:t.in);return+L3(r,t)==+D3(r,t)}function tT(e,t,r){const[n,i,o]=gp(r==null?void 0:r.in,e,e,t),a=$c(i,o),l=Math.abs(X3(i,o));if(l<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*l);let c=$c(i,o)===-a;eT(n)&&l===1&&$c(n,o)===1&&(c=!1);const d=a*(l-+c);return d===0?0:d}function rT(e,t,r){const n=J3(e,t)/1e3;return Q3(r==null?void 0:r.roundingMethod)(n)}const nT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oT=(e,t,r)=>{let n;const i=nT[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function wf(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const iT={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sT={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aT={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lT={date:wf({formats:iT,defaultWidth:"full"}),time:wf({formats:sT,defaultWidth:"full"}),dateTime:wf({formats:aT,defaultWidth:"full"})},cT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dT=(e,t,r,n)=>cT[e];function na(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const uT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pT={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yT=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xT={ordinalNumber:yT,era:na({values:uT,defaultWidth:"wide"}),quarter:na({values:fT,defaultWidth:"wide",argumentCallback:e=>e-1}),month:na({values:hT,defaultWidth:"wide"}),day:na({values:pT,defaultWidth:"wide"}),dayPeriod:na({values:mT,defaultWidth:"wide",formattingValues:gT,defaultFormattingWidth:"wide"})};function oa(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?wT(l,y=>y.test(a)):bT(l,y=>y.test(a));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const b=t.slice(a.length);return{value:d,rest:b}}}function bT(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function wT(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function vT(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(i.length);return{value:a,rest:l}}}const ST=/^(\d+)(th|st|nd|rd)?/i,kT=/\d+/i,jT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TT={any:[/^b/i,/^(a|c)/i]},ET={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_T={any:[/1/i,/2/i,/3/i,/4/i]},CT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zT={ordinalNumber:vT({matchPattern:ST,parsePattern:kT,valueCallback:e=>parseInt(e,10)}),era:oa({matchPatterns:jT,defaultMatchWidth:"wide",parsePatterns:TT,defaultParseWidth:"any"}),quarter:oa({matchPatterns:ET,defaultMatchWidth:"wide",parsePatterns:_T,defaultParseWidth:"any",valueCallback:e=>e+1}),month:oa({matchPatterns:CT,defaultMatchWidth:"wide",parsePatterns:NT,defaultParseWidth:"any"}),day:oa({matchPatterns:AT,defaultMatchWidth:"wide",parsePatterns:BT,defaultParseWidth:"any"}),dayPeriod:oa({matchPatterns:RT,defaultMatchWidth:"any",parsePatterns:FT,defaultParseWidth:"any"})},PT={code:"en-US",formatDistance:oT,formatLong:lT,formatRelative:dT,localize:xT,match:zT,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MT(e,t,r){const n=K3(),i=(r==null?void 0:r.locale)??n.locale??PT,o=2520,a=$c(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a}),[c,d]=gp(r==null?void 0:r.in,...a>0?[t,e]:[e,t]),b=rT(d,c),y=(Zg(d)-Zg(c))/1e3,m=Math.round((b-y)/60);let u;if(m<2)return r!=null&&r.includeSeconds?b<5?i.formatDistance("lessThanXSeconds",5,l):b<10?i.formatDistance("lessThanXSeconds",10,l):b<20?i.formatDistance("lessThanXSeconds",20,l):b<40?i.formatDistance("halfAMinute",0,l):b<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):m===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",m,l);if(m<45)return i.formatDistance("xMinutes",m,l);if(m<90)return i.formatDistance("aboutXHours",1,l);if(m<Yg){const g=Math.round(m/60);return i.formatDistance("aboutXHours",g,l)}else{if(m<o)return i.formatDistance("xDays",1,l);if(m<Ll){const g=Math.round(m/Yg);return i.formatDistance("xDays",g,l)}else if(m<Ll*2)return u=Math.round(m/Ll),i.formatDistance("aboutXMonths",u,l)}if(u=tT(d,c),u<12){const g=Math.round(m/Ll);return i.formatDistance("xMonths",g,l)}else{const g=u%12,N=Math.trunc(u/12);return g<3?i.formatDistance("aboutXYears",N,l):g<9?i.formatDistance("overXYears",N,l):i.formatDistance("almostXYears",N+1,l)}}function OT(e,t){return MT(e,Z3(e),t)}function $T(){const{theme:e}=io(),{respondToVaultInvitation:t,getUserNotifications:r,markNotificationAsRead:n}=Qt(),{showToast:i}=Fr(),[o,a]=T.useState([]),[l,c]=T.useState(!0),[d,b]=T.useState({}),[y,m]=T.useState(!0),u={primary:e==="dark"?"#10B981":"#075B5E",secondary:"#6B7280",background:e==="dark"?"#1F2937":"#FFFFFF",surface:e==="dark"?"#374151":"#F9FAFB",border:e==="dark"?"#4B5563":"#E5E7EB",text:{primary:e==="dark"?"#F9FAFB":"#1F2937",secondary:e==="dark"?"#D1D5DB":"#6B7280",muted:"#9CA3AF"},status:{success:"#10B981",warning:"#F59E0B",error:"#EF4444",info:"#3B82F6"}},g=async()=>{var w,j;try{c(!0);const B=(await r(100,0)).filter(R=>{var M;return R.title==="Vault Invitation"||((M=R.message)==null?void 0:M.includes("invited to join vault"))}).map(R=>{let M={};try{R.metadata&&(M=JSON.parse(R.metadata))}catch(Z){console.error("Failed to parse notification metadata:",Z)}return{id:R.id,vaultId:M.vaultId||R.vaultId,vaultName:M.vaultName||N(R.message),role:M.role||"member",invitedBy:M.invitedBy||"Unknown",invitationId:M.invitationId||R.id,createdAt:R.createdAt,message:R.message,notification:R}});a(B),console.log("Loaded vault invitations:",B),console.log("Sample invitation createdAt:",(w=B[0])==null?void 0:w.createdAt,typeof((j=B[0])==null?void 0:j.createdAt)),!y&&B.length>0&&i({type:"success",title:"Refreshed",message:`Found ${B.length} pending invitation${B.length!==1?"s":""}`}),m(!1)}catch(F){console.error("Failed to load vault invitations:",F),i({type:"error",title:"Error",message:"Failed to load vault invitations"})}finally{c(!1)}},N=w=>{if(!w)return"Unknown Vault";const j=w.match(/vault:\s*([^.]+)/i);return j?j[1].trim():"Unknown Vault"},W=w=>{try{if(!w)return"Unknown time";let j;return typeof w=="number"?j=new Date(w):typeof w=="string"?j=new Date(w):j=new Date(w),isNaN(j.getTime())?"Unknown time":OT(j,{addSuffix:!0})}catch(j){return console.error("Error formatting date:",j,w),"Unknown time"}},v=async(w,j)=>{if(!w.vaultId){i({type:"error",title:"Error",message:"Invalid invitation data"});return}b(F=>({...F,[w.id]:!0}));try{const F=j?"accept":"decline";await t(w.vaultId,F);try{await n(w.id)}catch(C){console.warn("Failed to mark notification as read:",C)}a(C=>C.filter(B=>B.id!==w.id)),i({type:"success",title:j?"Invitation Accepted":"Invitation Declined",message:j?`You have joined ${w.vaultName}. The vault will appear in your vaults list.`:`You have declined the invitation to ${w.vaultName}`}),window.dispatchEvent(new CustomEvent("vaults-refresh-needed")),window.dispatchEvent(new CustomEvent("invitations-count-refresh"))}catch(F){console.error("Failed to respond to invitation:",F),i({type:"error",title:"Error",message:`Failed to ${j?"accept":"decline"} invitation`})}finally{b(F=>({...F,[w.id]:!1}))}};return T.useEffect(()=>{g()},[]),l?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 mb-4",style:{borderColor:u.primary+"30",borderTopColor:u.primary}}),s.jsx("p",{className:"text-sm",style:{color:u.text.secondary},children:"Loading invitations..."})]}):o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mx-auto w-20 h-20 rounded-full flex items-center justify-center mb-6",style:{backgroundColor:u.primary+"15",color:u.primary},children:s.jsx(Ni,{className:"h-10 w-10"})}),s.jsx("h3",{className:"text-xl font-semibold mb-3",style:{color:u.text.primary},children:"No Pending Invitations"}),s.jsx("p",{className:"text-sm mb-6 max-w-md mx-auto",style:{color:u.text.secondary},children:"You don't have any vault invitations at the moment. When someone invites you to join their vault, it will appear here."}),s.jsxs("button",{onClick:g,disabled:l,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50",style:{backgroundColor:u.primary+"15",color:u.primary,border:`1px solid ${u.primary}30`},children:[s.jsx(Zt,{className:`h-4 w-4 ${l?"animate-spin":""}`}),l?"Refreshing...":"Check for New Invitations"]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold mb-1",style:{color:u.text.primary},children:"Vault Invitations"}),s.jsx("p",{className:"text-sm",style:{color:u.text.secondary},children:o.length===0?"No pending invitations":`${o.length} pending invitation${o.length!==1?"s":""}`})]}),s.jsxs("button",{onClick:g,disabled:l,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:u.surface,color:u.text.secondary,border:`2px solid ${u.border}`,boxShadow:`0 2px 8px ${u.border}20`},onMouseEnter:w=>{l||(w.target.style.transform="scale(1.05)",w.target.style.boxShadow=`0 4px 12px ${u.border}40`)},onMouseLeave:w=>{w.target.style.transform="scale(1)",w.target.style.boxShadow=`0 2px 8px ${u.border}20`},children:[s.jsx(Zt,{className:`h-4 w-4 ${l?"animate-spin":""}`}),l?"Refreshing...":"Refresh"]})]}),s.jsx("div",{className:"space-y-4",children:o.map(w=>s.jsxs("div",{className:"relative overflow-hidden rounded-xl border transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",style:{backgroundColor:u.surface,borderColor:u.border,boxShadow:`0 4px 6px -1px ${u.border}20`},children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1",style:{background:`linear-gradient(90deg, ${u.primary} 0%, ${u.status.info} 100%)`}}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:u.primary+"15",color:u.primary},children:s.jsx(iw,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-1",style:{color:u.text.primary},children:w.vaultName}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full",style:{backgroundColor:u.status.info+"20",color:u.status.info,border:`1px solid ${u.status.info}30`},children:w.role}),s.jsxs("span",{className:"text-xs",style:{color:u.text.muted},children:["• ",W(w.createdAt)]})]})]})]}),s.jsxs("p",{className:"text-sm leading-relaxed",style:{color:u.text.secondary},children:[s.jsx("span",{className:"font-medium",style:{color:u.text.primary},children:w.invitedBy})," has invited you to join this vault as a"," ",s.jsx("span",{className:"font-medium",style:{color:u.primary},children:w.role}),"."]})]})}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",style:{borderColor:u.border+"50"},children:[s.jsxs("button",{onClick:()=>v(w,!0),disabled:d[w.id],className:"flex-1 flex items-center justify-center gap-2 py-3 px-4 text-sm font-semibold rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95",style:{background:`linear-gradient(135deg, ${u.status.success} 0%, ${u.status.success}dd 100%)`,color:"white",boxShadow:`0 4px 12px ${u.status.success}40`},onMouseEnter:j=>{d[w.id]||(j.target.style.transform="scale(1.05)",j.target.style.boxShadow=`0 6px 16px ${u.status.success}60`)},onMouseLeave:j=>{j.target.style.transform="scale(1)",j.target.style.boxShadow=`0 4px 12px ${u.status.success}40`},children:[d[w.id]?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):s.jsx(Ft,{className:"h-4 w-4"}),"Accept Invitation"]}),s.jsxs("button",{onClick:()=>v(w,!1),disabled:d[w.id],className:"flex-1 flex items-center justify-center gap-2 py-3 px-4 text-sm font-semibold rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95",style:{background:`linear-gradient(135deg, ${u.surface} 0%, ${u.surface} 100%)`,color:u.text.secondary,border:`2px solid ${u.border}`,boxShadow:`0 4px 12px ${u.border}20`},onMouseEnter:j=>{d[w.id]||(j.target.style.transform="scale(1.05)",j.target.style.borderColor=u.status.error,j.target.style.color=u.status.error,j.target.style.boxShadow=`0 6px 16px ${u.status.error}20`)},onMouseLeave:j=>{j.target.style.transform="scale(1)",j.target.style.borderColor=u.border,j.target.style.color=u.text.secondary,j.target.style.boxShadow=`0 4px 12px ${u.border}20`},children:[d[w.id]?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}):s.jsx(Je,{className:"h-4 w-4"}),"Decline"]})]})]})]},w.id))})]})}function UT(){try{const{theme:e}=io();if(!e||!e.colors)return console.error("Theme not properly initialized"),s.jsx("div",{children:"Loading theme..."});if(!e.colors.error||!e.colors.error.hex)return console.error("Error color not properly defined in theme"),s.jsx("div",{children:"Theme configuration error"});const{getUserGroupVaults:t,createGroupVault:r,getVaultDetails:n,depositToVault:i,withdrawFromVault:o,editGroupVault:a,inviteVaultMember:l,removeVaultMember:c,changeVaultMemberRole:d,getUserNotifications:b,user:y,isAuthenticated:m,login:u}=Qt(),{showToast:g}=Fr(),[N,W]=T.useState([]),[v,w]=T.useState(!0),[j,F]=T.useState(null),[C,B]=T.useState(null),[R,M]=T.useState(!1),[Z,$]=T.useState({name:"",description:"",vaultType:"Savings",currency:"",targetAmount:"",isPublic:!1}),[q,X]=T.useState(!1),[A,O]=T.useState(null),[V,Y]=T.useState(!1),re=T.useRef(),Q=T.useRef(),ee=[{value:"Savings",label:"Savings Vault",icon:De,color:"#10b981",bgColor:"#d1fae5"},{value:"Investment",label:"Investment Portfolio",icon:hr,color:"#3b82f6",bgColor:"#dbeafe"},{value:"Emergency",label:"Emergency Fund",icon:x3,color:"#f59e0b",bgColor:"#fef3c7"},{value:"Travel",label:"Travel Fund",icon:j3,color:"#8b5cf6",bgColor:"#ede9fe"},{value:"Education",label:"Education Fund",icon:K2,color:"#06b6d4",bgColor:"#cffafe"},{value:"Business",label:"Business Capital",icon:v3,color:"#84cc16",bgColor:"#ecfccb"},{value:"Charity",label:"Charity Fund",icon:k3,color:"#ef4444",bgColor:"#fee2e2"},{value:"Custom",label:"Custom Goal",icon:S3,color:"#6b7280",bgColor:"#f3f4f6"}],de=ie=>{const fe=typeof ie=="object"?Object.keys(ie)[0]:ie;return ee.find(_n=>_n.value===fe)||ee[0]},[ue,ae]=T.useState(!1),[he,z]=T.useState(!1),[Te,be]=T.useState(!1),[xe,me]=T.useState(!1),[ge,U]=T.useState(!1),[H,J]=T.useState(!1),[D,K]=T.useState(!1),[L,k]=T.useState(!1),[h,f]=T.useState(!1),[E,P]=T.useState(null),[_,oe]=T.useState(null),[pe,ke]=T.useState(0),[ve,se]=T.useState({name:"",description:"",currency:"",targetAmount:"",isPublic:!1}),[S,p]=T.useState(""),[x,G]=T.useState(""),[te,le]=T.useState(""),[ce,_e]=T.useState(""),[ze,Re]=T.useState("DeleteVault"),[Ne,$e]=T.useState(""),[Ge,wn]=T.useState("member"),[zr,vn]=T.useState(""),[Sn,kn]=T.useState("member"),[Nt,Fi]=T.useState("member"),[so,jn]=T.useState(!1),[ir,Xe]=T.useState("my-vaults"),[ao,Tn]=T.useState(null);T.useEffect(()=>{const ie=fe=>{Q.current&&!Q.current.contains(fe.target)&&Y(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]);const Pr=T.useCallback(async()=>{if(!m){await u();return}w(!0);try{const ie=await t();W(ie||[])}catch{W([])}finally{w(!1)}},[m,u,t]),Mr=T.useCallback(async()=>{try{const fe=(await b(100,0)).filter(nt=>{var _n;return nt.title==="Vault Invitation"||((_n=nt.message)==null?void 0:_n.includes("invited to join vault"))});ke(fe.length)}catch(ie){console.error("Failed to get pending invitations count:",ie)}},[b]);T.useEffect(()=>{const ie=document.createElement("style");return ie.textContent=`
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes slideUp {
        from { 
          opacity: 0;
          transform: translateY(30px) scale(0.95);
        }
        to { 
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
    `,document.head.appendChild(ie),()=>{document.head.removeChild(ie)}},[]),T.useEffect(()=>{const ie=()=>{console.log("Vault refresh triggered from invitation response"),Pr()},fe=()=>{console.log("Invitations count refresh triggered"),Mr()};return window.addEventListener("vaults-refresh-needed",ie),window.addEventListener("invitations-count-refresh",fe),()=>{window.removeEventListener("vaults-refresh-needed",ie),window.removeEventListener("invitations-count-refresh",fe)}},[Pr,Mr]),T.useEffect(()=>{m&&Mr()},[m,Mr]),T.useEffect(()=>{Pr()},[Pr]);const I=async ie=>{if(j===ie)F(null),B(null);else{F(ie);try{const fe=await n(ie);B(fe)}catch{B(null),g({message:"Failed to load vault details",type:"error",icon:s.jsx(De,{})})}}},je=async ie=>{ie.preventDefault(),X(!0),O(null);try{const fe=await r(Z.name,Z.description,Z.vaultType,Z.currency,Z.targetAmount?parseFloat(Z.targetAmount):null,Z.isPublic,null);if(fe&&fe.ok){if(M(!1),$({name:"",description:"",vaultType:"Savings",currency:"",targetAmount:"",isPublic:!1}),g({message:"Vault created successfully!",type:"success",icon:s.jsx(Ft,{})}),t){const nt=await t();W(nt||[])}}else O((fe==null?void 0:fe.err)||"Failed to create vault"),g({message:(fe==null?void 0:fe.err)||"Failed to create vault",type:"error",icon:s.jsx(De,{})})}catch(fe){console.error("Create vault error:",fe),O("Failed to create vault"),g({message:"Failed to create vault",type:"error",icon:s.jsx(De,{})})}finally{X(!1)}},Me=ie=>{P(ie),se({name:ie.name||"",description:ie.description||"",currency:ie.currency||"",targetAmount:ie.targetAmount||"",isPublic:ie.isPublic||!1}),be(!0)},Fe=async ie=>{Tn(ie),jn(!0);try{console.log("Getting vault details for vault:",ie.id);const fe=await n(ie.id);console.log("Vault details received:",fe),B(fe)}catch(fe){console.error("Error getting vault details:",fe),B(null),g({message:"Failed to load vault details",type:"error",icon:s.jsx(De,{})})}},Ie=()=>{jn(!1),Tn(null),B(null)},Or=async ie=>{ie.preventDefault(),X(!0),O(null);try{const fe=await a(E.id,ve.name,ve.description,ve.currency,ve.targetAmount?parseFloat(ve.targetAmount):null,ve.isPublic);if(fe&&fe.ok){if(be(!1),se({name:"",description:"",currency:"",targetAmount:"",isPublic:!1}),g({message:"Vault updated successfully!",type:"success",icon:s.jsx(Ft,{})}),t){const nt=await t();W(nt||[])}}else O((fe==null?void 0:fe.err)||"Failed to update vault"),g({message:(fe==null?void 0:fe.err)||"Failed to update vault",type:"error",icon:s.jsx(De,{})})}catch(fe){console.error("Edit vault error:",fe),O("Failed to update vault"),g({message:"Failed to update vault",type:"error",icon:s.jsx(De,{})})}finally{X(!1)}},lo=async()=>{if(!S||parseFloat(S)<=0){O("Please enter a valid amount");return}X(!0),O(null);try{const ie=await i(E.id,parseFloat(S));if(ie&&ie.ok){if(ae(!1),p(""),g({message:"Deposit successful!",type:"success",icon:s.jsx(Ft,{})}),t){const fe=await t();W(fe||[])}}else O((ie==null?void 0:ie.err)||"Failed to deposit"),g({message:(ie==null?void 0:ie.err)||"Failed to deposit",type:"error",icon:s.jsx(De,{})})}catch(ie){console.error("Deposit error:",ie),O("Failed to deposit"),g({message:"Failed to deposit",type:"error",icon:s.jsx(De,{})})}finally{X(!1)}},En=async()=>{if(!te||parseFloat(te)<=0){O("Please enter a valid amount");return}X(!0),O(null);try{const ie=await o(E.id,parseFloat(te));if(ie&&ie.ok){if(z(!1),le(""),g({message:"Withdrawal successful!",type:"success",icon:s.jsx(Ft,{})}),t){const fe=await t();W(fe||[])}}else O((ie==null?void 0:ie.err)||"Failed to withdraw"),g({message:(ie==null?void 0:ie.err)||"Failed to withdraw",type:"error",icon:s.jsx(De,{})})}catch(ie){console.error("Withdraw error:",ie),O("Failed to withdraw"),g({message:"Failed to withdraw",type:"error",icon:s.jsx(De,{})})}finally{X(!1)}};return v?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",color:e.colors.text.secondary,fontSize:"1rem"},children:"Loading group vaults..."}):s.jsxs("div",{style:{width:"100%",padding:"0",margin:0},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem",background:e.colors.white,borderRadius:"0.75rem",padding:"0.5rem",border:`1px solid ${e.colors.border.secondary}`,boxShadow:`0 2px 8px ${e.colors.shadow.light}`},children:[s.jsxs("button",{onClick:()=>Xe("my-vaults"),style:{flex:1,padding:"1rem 1.5rem",border:"none",borderRadius:"0.75rem",background:ir==="my-vaults"?e.colors.primary:"transparent",color:ir==="my-vaults"?e.colors.white:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx(Un,{size:16}),"My Vaults"]}),s.jsxs("button",{onClick:()=>Xe("public-vaults"),style:{flex:1,padding:"1rem 1.5rem",border:"none",borderRadius:"0.75rem",background:ir==="public-vaults"?e.colors.primary:"transparent",color:ir==="public-vaults"?e.colors.white:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx(_d,{size:16}),"Discover Vaults"]}),s.jsxs("button",{onClick:()=>Xe("invitations"),style:{flex:1,padding:"1rem 1.5rem",border:"none",borderRadius:"0.75rem",background:ir==="invitations"?e.colors.primary:"transparent",color:ir==="invitations"?e.colors.white:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",position:"relative"},children:[s.jsx(Ni,{size:16}),"Invitations",pe>0&&s.jsx("span",{style:{position:"absolute",top:"-8px",right:"-8px",background:e.colors.error.hex,color:"white",borderRadius:"50%",width:"20px",height:"20px",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:pe>99?"99+":pe})]})]}),ir==="public-vaults"?s.jsx(G3,{}):ir==="invitations"?s.jsx($T,{}):so&&ao&&C?s.jsx(q3,{vault:ao,details:C,onBack:Ie,user:y,showToast:g}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsxs("button",{onClick:Pr,disabled:v,style:{padding:"0.75rem 1.5rem",background:e.colors.surface,color:e.colors.text.secondary,border:`1px solid ${e.colors.border.secondary}`,borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:500,cursor:v?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.15s ease",opacity:v?.6:1},onMouseEnter:ie=>{v||(ie.target.style.transform="translateY(-1px)",ie.target.style.boxShadow=`0 4px 12px ${e.colors.shadow.medium}`)},onMouseLeave:ie=>{ie.target.style.transform="translateY(0)",ie.target.style.boxShadow="none"},children:[s.jsx(Zt,{size:16,className:v?"animate-spin":""}),"Refresh Vaults"]}),s.jsxs("button",{ref:re,style:{padding:"0.75rem 1.5rem",background:e.colors.primary,color:e.colors.white,border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.15s ease",boxShadow:"none"},onClick:()=>M(!0),onMouseEnter:ie=>{ie.target.style.transform="translateY(-1px)",ie.target.style.boxShadow=`0 4px 12px ${e.colors.shadow.medium}`},onMouseLeave:ie=>{ie.target.style.transform="translateY(0)",ie.target.style.boxShadow="none"},children:[s.jsx(to,{size:16}),"Create Vault"]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"2rem",margin:0,padding:0},children:N.length===0?s.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",color:e.colors.text.secondary,fontSize:"1rem",padding:"3rem",background:e.colors.white,borderRadius:"0.75rem",border:`1px solid ${e.colors.border.secondary}`,boxShadow:`0 2px 8px ${e.colors.shadow.light}`},children:"No group vaults found."}):N.map(ie=>s.jsxs("div",{style:{background:e.colors.white,border:`1px solid ${e.colors.border.secondary}`,borderRadius:"0.75rem",padding:"1.5rem",transition:"all 0.15s ease",cursor:"pointer",position:"relative",overflow:"hidden",boxShadow:"none"},onClick:()=>Fe(ie),onMouseEnter:fe=>{fe.target.style.transform="translateY(-2px)",fe.target.style.boxShadow=`0 8px 24px ${e.colors.shadow.medium}`,fe.target.style.borderColor=e.colors.primary},onMouseLeave:fe=>{fe.target.style.transform="translateY(0)",fe.target.style.boxShadow="none",fe.target.style.borderColor=e.colors.border.secondary},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1.5rem"},children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",flex:1},children:[(()=>{const fe=de(ie.vaultType),nt=fe.icon;return s.jsx("div",{style:{width:"48px",height:"48px",background:`linear-gradient(135deg, ${fe.color} 0%, ${fe.color}dd 100%)`,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 4px 12px ${fe.color}40`,flexShrink:0},children:s.jsx(nt,{size:20,color:"white"})})})(),s.jsxs("div",{style:{flex:1},children:[s.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,color:e.colors.text.primary,margin:"0 0 0.5rem 0",letterSpacing:"-0.025em"},children:ie.name}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",flexWrap:"wrap"},children:[s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",borderRadius:"0.5rem",fontSize:"0.75rem",fontWeight:600,background:ie.isPublic?e.colors.success:e.colors.primary,color:"white",textTransform:"uppercase",letterSpacing:"0.05em"},children:[ie.isPublic?s.jsx(_d,{size:10}):s.jsx(vl,{size:10}),ie.isPublic?"Public":"Private"]}),(()=>{const fe=de(ie.vaultType);return s.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"0.5rem",fontSize:"0.75rem",fontWeight:600,background:fe.bgColor,color:fe.color,textTransform:"uppercase",letterSpacing:"0.05em",border:`1px solid ${fe.color}30`},children:fe.label})})()]})]})]})}),s.jsx("p",{style:{fontSize:"0.875rem",color:e.colors.text.secondary,lineHeight:"1.4",margin:"0 0 1.5rem 0",fontWeight:400},children:ie.description||"No description provided"}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",padding:"1.25rem",background:(()=>`linear-gradient(135deg, ${de(ie.vaultType).bgColor} 0%, ${e.colors.white} 100%)`)(),borderRadius:"0.75rem",border:(()=>`1px solid ${de(ie.vaultType).color}20`)(),position:"relative",overflow:"hidden"},children:[s.jsx("div",{style:{position:"absolute",top:"-50%",right:"-50%",width:"100%",height:"100%",background:(()=>`radial-gradient(circle, ${de(ie.vaultType).color}10 0%, transparent 70%)`)(),borderRadius:"50%",zIndex:0}}),s.jsxs("div",{style:{textAlign:"center",flex:1,position:"relative",zIndex:1},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary,marginBottom:"0.25rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Balance"}),s.jsx("div",{style:{fontSize:"1.25rem",color:(()=>de(ie.vaultType).color)(),fontWeight:700,letterSpacing:"-0.025em"},children:ie.totalBalance||"0"})]}),s.jsx("div",{style:{width:"1px",height:"2.5rem",background:(()=>`${de(ie.vaultType).color}30`)(),position:"relative",zIndex:1}}),s.jsxs("div",{style:{textAlign:"center",flex:1,position:"relative",zIndex:1},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary,marginBottom:"0.25rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Currency"}),s.jsx("div",{style:{fontSize:"1.25rem",color:e.colors.text.primary,fontWeight:700,letterSpacing:"-0.025em"},children:ie.currency||"NST"})]})]}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"space-between"},children:[s.jsxs("button",{style:{flex:1,padding:"0.875rem",fontSize:"0.8rem",fontWeight:500,background:(()=>{const fe=de(ie.vaultType);return`linear-gradient(135deg, ${fe.color} 0%, ${fe.color}dd 100%)`})(),border:"none",color:e.colors.white,borderRadius:"0.5rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:"none",position:"relative",overflow:"hidden"},onClick:fe=>{fe.stopPropagation(),Fe(ie)},onMouseEnter:fe=>{fe.target.style.transform="translateY(-2px)",fe.target.style.boxShadow=`0 8px 24px ${(()=>`${de(ie.vaultType).color}40`)()}`},onMouseLeave:fe=>{fe.target.style.transform="translateY(0)",fe.target.style.boxShadow="none"},children:[s.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"4px",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:s.jsx(Ms,{size:12})}),s.jsx("span",{style:{fontWeight:600},children:"View"})]}),s.jsx("button",{style:{padding:"0.875rem",fontSize:"0.8rem",fontWeight:500,background:`linear-gradient(135deg, ${e.colors.success} 0%, ${e.colors.success}dd 100%)`,border:"none",color:e.colors.white,borderRadius:"0.5rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"none",position:"relative",overflow:"hidden"},onClick:fe=>{fe.stopPropagation(),P(ie),ae(!0)},onMouseEnter:fe=>{fe.target.style.transform="translateY(-2px)",fe.target.style.boxShadow=`0 8px 24px ${e.colors.success}40`},onMouseLeave:fe=>{fe.target.style.transform="translateY(0)",fe.target.style.boxShadow="none"},children:s.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"4px",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:s.jsx(el,{size:12})})}),s.jsx("button",{style:{padding:"0.875rem",fontSize:"0.8rem",fontWeight:500,background:`linear-gradient(135deg, ${e.colors.warning} 0%, ${e.colors.warning}dd 100%)`,border:"none",color:e.colors.white,borderRadius:"0.5rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"none",position:"relative",overflow:"hidden"},onClick:fe=>{fe.stopPropagation(),P(ie),z(!0)},onMouseEnter:fe=>{fe.target.style.transform="translateY(-2px)",fe.target.style.boxShadow=`0 8px 24px ${e.colors.warning}40`},onMouseLeave:fe=>{fe.target.style.transform="translateY(0)",fe.target.style.boxShadow="none"},children:s.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"4px",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:s.jsx(tl,{size:12})})}),s.jsx("button",{style:{padding:"0.875rem",fontSize:"0.8rem",fontWeight:500,background:e.colors.white,border:`1px solid ${e.colors.border.secondary}`,color:e.colors.text.secondary,borderRadius:"0.5rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"none",position:"relative",overflow:"hidden"},onClick:fe=>{fe.stopPropagation(),Me(ie)},onMouseEnter:fe=>{fe.target.style.transform="translateY(-2px)",fe.target.style.boxShadow=`0 8px 24px ${e.colors.shadow.light}`,fe.target.style.borderColor=e.colors.primary,fe.target.style.background=e.colors.primary,fe.target.style.color=e.colors.white},onMouseLeave:fe=>{fe.target.style.transform="translateY(0)",fe.target.style.boxShadow="none",fe.target.style.borderColor=e.colors.border.secondary,fe.target.style.background=e.colors.white,fe.target.style.color=e.colors.text.secondary},children:s.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"4px",background:`${e.colors.text.secondary}1a`,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:s.jsx(Ho,{size:12})})})]})]},ie.id))})]}),R&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:`${e.colors.black}99`,backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:ie=>{ie.target===ie.currentTarget&&M(!1)},children:s.jsxs("form",{onSubmit:je,style:{background:"white",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:600,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid #e2e8f0",position:"relative"},onClick:ie=>ie.stopPropagation(),children:[s.jsx("button",{type:"button",onClick:()=>M(!1),style:{position:"absolute",top:12,right:12,background:e.colors.black,border:"none",borderRadius:"50%",width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:e.colors.text.secondary,transition:"all 0.2s"},children:s.jsx(Je,{size:14})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[s.jsx("div",{style:{width:56,height:56,background:`linear-gradient(135deg, ${e.colors.primary} 0%, ${e.colors.primary}dd 100%)`,borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",boxShadow:`0 8px 24px ${e.colors.shadow.medium}`},children:s.jsx(to,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:e.colors.text.primary},children:"Create New Vault"}),s.jsx("p",{style:{margin:"0.25rem 0 0 0",color:e.colors.text.secondary,fontSize:"0.8rem"},children:"Set up a new group vault for collaborative savings"})]}),s.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Vault Name *"}),s.jsx("input",{type:"text",placeholder:"Enter vault name",value:Z.name,onChange:ie=>$(fe=>({...fe,name:ie.target.value})),required:!0,style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:ie=>ie.target.style.borderColor=e.colors.primary,onBlur:ie=>ie.target.style.borderColor=e.colors.border.primary})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Type *"}),s.jsxs("div",{style:{position:"relative"},ref:Q,children:[s.jsxs("button",{type:"button",onClick:()=>Y(!V),style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none",background:"white",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},onFocus:ie=>ie.target.style.borderColor=e.colors.primary,onBlur:ie=>ie.target.style.borderColor=e.colors.border.primary,children:[s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:(()=>{const ie=ee.find(nt=>nt.value===Z.vaultType),fe=(ie==null?void 0:ie.icon)||De;return s.jsxs(s.Fragment,{children:[s.jsx(fe,{size:16,color:e.colors.primary}),s.jsx("span",{children:(ie==null?void 0:ie.label)||"Select Type"})]})})()}),s.jsx(rl,{size:16,color:e.colors.text.secondary})]}),V&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",boxShadow:`0 4px 12px ${e.colors.shadow.medium}`,zIndex:1e3,maxHeight:"200px",overflowY:"auto",marginTop:"0.25rem"},children:ee.map(ie=>{const fe=ie.icon;return s.jsxs("button",{type:"button",onClick:()=>{$(nt=>({...nt,vaultType:ie.value})),Y(!1)},style:{width:"100%",padding:"0.75rem",border:"none",background:"transparent",display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",fontSize:"0.875rem",color:Z.vaultType===ie.value?e.colors.primary:e.colors.text.primary,fontWeight:Z.vaultType===ie.value?600:400,transition:"all 0.15s ease"},onMouseEnter:nt=>{nt.target.style.background=e.colors.white,nt.target.style.color=e.colors.primary},onMouseLeave:nt=>{nt.target.style.background="transparent",nt.target.style.color=Z.vaultType===ie.value?e.colors.primary:e.colors.text.primary},children:[s.jsx(fe,{size:16,color:Z.vaultType===ie.value?e.colors.primary:e.colors.text.secondary}),s.jsx("span",{children:ie.label})]},ie.value)})})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Currency *"}),s.jsx("input",{type:"text",placeholder:"KES",value:Z.currency,onChange:ie=>$(fe=>({...fe,currency:ie.target.value})),required:!0,style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:ie=>ie.target.style.borderColor=e.colors.primary,onBlur:ie=>ie.target.style.borderColor=e.colors.border.primary})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Target Amount"}),s.jsx("input",{type:"number",placeholder:"0.00",value:Z.targetAmount,onChange:ie=>$(fe=>({...fe,targetAmount:ie.target.value})),style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:ie=>ie.target.style.borderColor=e.colors.primary,onBlur:ie=>ie.target.style.borderColor=e.colors.border.primary})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Description"}),s.jsx("textarea",{placeholder:"Describe the purpose of this vault",value:Z.description,onChange:ie=>$(fe=>({...fe,description:ie.target.value})),style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:60,fontFamily:"inherit"},onFocus:ie=>ie.target.style.borderColor=e.colors.primary,onBlur:ie=>ie.target.style.borderColor=e.colors.border.primary})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:e.colors.white,borderRadius:"0.5rem",border:`1px solid ${e.colors.border.primary}`},children:[s.jsx("input",{type:"checkbox",checked:Z.isPublic,onChange:ie=>$(fe=>({...fe,isPublic:ie.target.checked})),style:{width:16,height:16}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600,color:e.colors.primary,fontSize:"0.8rem"},children:"Public Vault"}),s.jsx("div",{style:{fontSize:"0.7rem",color:e.colors.text.secondary,marginTop:"0.125rem"},children:"Allow others to discover and join this vault"})]})]})]}),A&&s.jsx("div",{style:{background:e.colors.white,color:e.colors.error.hex,padding:"0.625rem 0.75rem",borderRadius:"0.5rem",border:`1px solid ${e.colors.error.hex}`,fontSize:"0.8rem",marginTop:"1rem"},children:A}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[s.jsx("button",{type:"button",onClick:()=>M(!1),style:{flex:1,padding:"0.625rem 1rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",background:"white",color:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:"Cancel"}),s.jsx("button",{type:"submit",disabled:q,style:{flex:1,padding:"0.625rem 1rem",border:"none",borderRadius:"0.5rem",background:q?e.colors.text.secondary:e.colors.primary,color:"white",fontSize:"0.875rem",fontWeight:600,cursor:q?"not-allowed":"pointer",transition:"all 0.2s"},children:q?"Creating...":"Create Vault"})]})]})}),Te&&E&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:`${e.colors.black}99`,backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:ie=>{ie.target===ie.currentTarget&&be(!1)},children:s.jsxs("form",{onSubmit:Or,style:{background:"white",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:600,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid #e2e8f0",position:"relative"},onClick:ie=>ie.stopPropagation(),children:[s.jsx("button",{type:"button",onClick:()=>be(!1),style:{position:"absolute",top:12,right:12,background:e.colors.black,border:"none",borderRadius:"50%",width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:e.colors.text.secondary,transition:"all 0.2s"},children:s.jsx(Je,{size:14})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[s.jsx("div",{style:{width:56,height:56,background:`linear-gradient(135deg, ${e.colors.primary} 0%, ${e.colors.primary}dd 100%)`,borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",boxShadow:`0 8px 24px ${e.colors.shadow.medium}`},children:s.jsx(Ho,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:e.colors.text.primary},children:"Edit Vault"}),s.jsx("p",{style:{margin:"0.25rem 0 0 0",color:e.colors.text.secondary,fontSize:"0.8rem"},children:"Update vault settings and information"})]}),s.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Vault Name *"}),s.jsx("input",{type:"text",placeholder:"Enter vault name",value:ve.name,onChange:ie=>se(fe=>({...fe,name:ie.target.value})),required:!0,style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:ie=>ie.target.style.borderColor=e.colors.primary,onBlur:ie=>ie.target.style.borderColor=e.colors.border.primary})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Currency"}),s.jsx("input",{type:"text",placeholder:"NST",value:ve.currency,onChange:ie=>se(fe=>({...fe,currency:ie.target.value})),style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:ie=>ie.target.style.borderColor=e.colors.primary,onBlur:ie=>ie.target.style.borderColor=e.colors.border.primary})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Target Amount"}),s.jsx("input",{type:"number",placeholder:"0.00",value:ve.targetAmount,onChange:ie=>se(fe=>({...fe,targetAmount:ie.target.value})),style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:ie=>ie.target.style.borderColor=e.colors.primary,onBlur:ie=>ie.target.style.borderColor=e.colors.border.primary})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Description"}),s.jsx("textarea",{placeholder:"Describe the purpose of this vault...",value:ve.description,onChange:ie=>se(fe=>({...fe,description:ie.target.value})),style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:60,fontFamily:"inherit"},onFocus:ie=>ie.target.style.borderColor=e.colors.primary,onBlur:ie=>ie.target.style.borderColor=e.colors.border.primary})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:e.colors.white,borderRadius:"0.5rem",border:`1px solid ${e.colors.border.primary}`},children:[s.jsx("input",{type:"checkbox",checked:ve.isPublic,onChange:ie=>se(fe=>({...fe,isPublic:ie.target.checked})),style:{width:16,height:16}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600,color:e.colors.primary,fontSize:"0.8rem"},children:"Public Vault"}),s.jsx("div",{style:{fontSize:"0.7rem",color:e.colors.text.secondary,marginTop:"0.125rem"},children:"Allow others to discover and join this vault"})]})]}),A&&s.jsx("div",{style:{background:e.colors.white,color:e.colors.error.hex,padding:"0.625rem 0.75rem",borderRadius:"0.5rem",border:`1px solid ${e.colors.error.hex}`,fontSize:"0.8rem",marginTop:"1rem"},children:A}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[s.jsx("button",{type:"button",onClick:()=>be(!1),style:{flex:1,padding:"0.625rem 1rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",background:"white",color:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:"Cancel"}),s.jsx("button",{type:"submit",disabled:q,style:{flex:1,padding:"0.625rem 1rem",border:"none",borderRadius:"0.5rem",background:q?e.colors.text.secondary:e.colors.primary,color:"white",fontSize:"0.875rem",fontWeight:600,cursor:q?"not-allowed":"pointer",transition:"all 0.2s"},children:q?"Updating...":"Update Vault"})]})]})]})}),ue&&E&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:`${e.colors.black}99`,backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:ie=>{ie.target===ie.currentTarget&&ae(!1)},children:s.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:500,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid #e2e8f0",position:"relative"},onClick:ie=>ie.stopPropagation(),children:[s.jsx("button",{type:"button",onClick:()=>ae(!1),style:{position:"absolute",top:12,right:12,background:e.colors.black,border:"none",borderRadius:"50%",width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:e.colors.text.secondary,transition:"all 0.2s"},children:s.jsx(Je,{size:14})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[s.jsx("div",{style:{width:56,height:56,background:`linear-gradient(135deg, ${e.colors.success} 0%, ${e.colors.success}dd 100%)`,borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",boxShadow:`0 8px 24px ${e.colors.shadow.medium}`},children:s.jsx(el,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:e.colors.text.primary},children:"Deposit to Vault"}),s.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:e.colors.text.secondary,fontSize:"0.8rem"},children:["Add funds to ",E.name]})]}),s.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Amount *"}),s.jsx("input",{type:"number",placeholder:"0.00",value:S,onChange:ie=>p(ie.target.value),required:!0,style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:ie=>ie.target.style.borderColor=e.colors.primary,onBlur:ie=>ie.target.style.borderColor=e.colors.border.primary})]}),A&&s.jsx("div",{style:{background:e.colors.white,color:e.colors.error.hex,padding:"0.625rem 0.75rem",borderRadius:"0.5rem",border:`1px solid ${e.colors.error.hex}`,fontSize:"0.8rem",marginTop:"1rem"},children:A}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[s.jsx("button",{type:"button",onClick:()=>ae(!1),style:{flex:1,padding:"0.625rem 1rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",background:"white",color:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:"Cancel"}),s.jsx("button",{type:"button",onClick:lo,disabled:q,style:{flex:1,padding:"0.625rem 1rem",border:"none",borderRadius:"0.5rem",background:q?e.colors.text.secondary:e.colors.success,color:"white",fontSize:"0.875rem",fontWeight:600,cursor:q?"not-allowed":"pointer",transition:"all 0.2s"},children:q?"Depositing...":"Deposit"})]})]})]})}),he&&E&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:`${e.colors.black}99`,backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:ie=>{ie.target===ie.currentTarget&&z(!1)},children:s.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:500,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid #e2e8f0",position:"relative"},onClick:ie=>ie.stopPropagation(),children:[s.jsx("button",{type:"button",onClick:()=>z(!1),style:{position:"absolute",top:12,right:12,background:e.colors.black,border:"none",borderRadius:"50%",width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:e.colors.text.secondary,transition:"all 0.2s"},children:s.jsx(Je,{size:14})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[s.jsx("div",{style:{width:56,height:56,background:`linear-gradient(135deg, ${e.colors.warning} 0%, ${e.colors.warning}dd 100%)`,borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",boxShadow:`0 8px 24px ${e.colors.shadow.medium}`},children:s.jsx(tl,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:e.colors.text.primary},children:"Withdraw from Vault"}),s.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:e.colors.text.secondary,fontSize:"0.8rem"},children:["Remove funds from ",E.name]})]}),s.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Amount *"}),s.jsx("input",{type:"number",placeholder:"0.00",value:te,onChange:ie=>le(ie.target.value),required:!0,style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:ie=>ie.target.style.borderColor=e.colors.primary,onBlur:ie=>ie.target.style.borderColor=e.colors.border.primary})]}),A&&s.jsx("div",{style:{background:e.colors.white,color:e.colors.error.hex,padding:"0.625rem 0.75rem",borderRadius:"0.5rem",border:`1px solid ${e.colors.error.hex}`,fontSize:"0.8rem",marginTop:"1rem"},children:A}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[s.jsx("button",{type:"button",onClick:()=>z(!1),style:{flex:1,padding:"0.625rem 1rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",background:"white",color:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:"Cancel"}),s.jsx("button",{type:"button",onClick:En,disabled:q,style:{flex:1,padding:"0.625rem 1rem",border:"none",borderRadius:"0.5rem",background:q?e.colors.text.secondary:e.colors.warning,color:"white",fontSize:"0.875rem",fontWeight:600,cursor:q?"not-allowed":"pointer",transition:"all 0.2s"},children:q?"Withdrawing...":"Withdraw"})]})]})]})})]})}catch(e){return console.error("Error in GroupVaults component:",e),s.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#dc3545",background:"#f8f9fa",borderRadius:"0.5rem",border:"1px solid #dee2e6"},children:[s.jsx("h3",{children:"Something went wrong"}),s.jsx("p",{children:"Please refresh the page and try again."}),s.jsxs("details",{style:{marginTop:"1rem",textAlign:"left"},children:[s.jsx("summary",{children:"Error Details"}),s.jsx("pre",{style:{background:"#f1f3f4",padding:"0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",overflow:"auto"},children:e.message})]})]})}}const WT=()=>{var h;const{cryptoWallets:e,backendService:t}=Qt(),{showToast:r}=Fr(),[n,i]=T.useState(!1),[o,a]=T.useState(null),[l,c]=T.useState(null),[d,b]=T.useState(null),[y,m]=T.useState(""),[u,g]=T.useState(""),[N,W]=T.useState(""),[v,w]=T.useState(""),[j,F]=T.useState(null),[C,B]=T.useState([]),[R,M]=T.useState(null),[Z,$]=T.useState(null),[q,X]=T.useState(null),[A,O]=T.useState(!1),[V,Y]=T.useState([]),[re,Q]=T.useState(""),[ee,de]=T.useState(""),[ue,ae]=T.useState(""),[he,z]=T.useState(""),[Te,be]=T.useState(""),[xe,me]=T.useState(""),[ge,U]=T.useState(""),[H,J]=T.useState("");T.useState(""),T.useEffect(()=>{(async()=>{try{const E=await(t==null?void 0:t.getAvailableBills());Y(E||[])}catch(E){gi(E,"payment",r),Y([{id:"mpesa-paybill",name:"M-Pesa Paybill",icon:Gs,description:"Pay bills using M-Pesa",paybillNumber:"174379",accountType:"Paybill",status:"active",requiresPaybill:!0,color:"#10b981",fields:["paybillNumber","accountNumber"],serviceIcon:"📱"},{id:"buy-goods",name:"Buy Goods",icon:xf,description:"Pay for goods and services using Till Number",paybillNumber:"174379",accountType:"Till",status:"active",requiresPaybill:!1,color:"#ef4444",fields:["tillNumber","reference"],serviceIcon:"🛒"},{id:"send-money",name:"Send Money",icon:yr,description:"Send money to phone number",paybillNumber:"",accountType:"Send Money",status:"active",requiresPaybill:!1,color:"#06b6d4",fields:["recipientPhone","recipientName","reference"],serviceIcon:"💸"},{id:"airtime",name:"Airtime",icon:Yr,description:"Buy airtime for any network",paybillNumber:"",accountType:"Airtime",status:"active",requiresPaybill:!1,color:"#ec4899",fields:["phoneNumber","network"],serviceIcon:"📞"},{id:"data-bundle",name:"Data Bundle",icon:ra,description:"Buy internet data bundles",paybillNumber:"",accountType:"Data Bundle",status:"active",requiresPaybill:!1,color:"#8b5cf6",fields:["phoneNumber","bundleType"],serviceIcon:"📶"}])}})()},[t]);const D=async()=>{try{i(!0),X(null);const f=await(t==null?void 0:t.getUSDTtoKESRate());a(f||135.5),c(new Date),b("Live Market Rate"),y&&K(y)}catch(f){const E=gi(f,"payment",r);X(E)}finally{i(!1)}},K=f=>{if(m(f),o&&f){const E=parseFloat(f),P=E/o;if(g(P.toFixed(6)),Z){const _=L(E,Z.currency);W(_)}}else g(""),W("")},L=(f,E)=>{if(!o)return"";const P=f/o;switch(E){case"ckBTC":return(P/45e3).toFixed(8);case"ckETH":return(P/3e3).toFixed(6);case"ICP":return(P/12).toFixed(4);default:return P.toFixed(2)}},k=async()=>{if(!R||!Z||!y){X("Please fill in all required fields");return}switch(R.id){case"mpesa-paybill":if(!re||!ee){X("Please fill in paybill number and account number");return}break;case"buy-goods":if(!Te||!xe){X("Please fill in till number and reference");return}break;case"send-money":if(!ue||!he){X("Please fill in recipient phone number and name");return}break;case"airtime":if(!v||!ge){X("Please fill in phone number and select network");return}break;case"data-bundle":if(!v||!H){X("Please fill in phone number and select bundle type");return}break;default:X("Invalid service selected");return}try{i(!0),X(null),await new Promise(f=>setTimeout(f,2e3)),F("success"),B(f=>[{id:Date.now(),bill:R.name,amount:y,status:"success",timestamp:new Date,recipient:R.id==="send-money"?he:ee},...f]),uu("bill","payment",r,`${R.name} payment completed successfully!`),m(""),g(""),W(""),Q(""),de(""),ae(""),z(""),be(""),me(""),w(""),U(""),J(""),M(null),$(null)}catch(f){const E=gi(f,"payment",r);X(E),F("error")}finally{i(!1)}};return T.useEffect(()=>{D()},[]),s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"2rem"},children:[s.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e293b",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx(De,{size:24}),"Payments & Bills"]}),s.jsx("p",{style:{fontSize:"0.875rem",color:"#64748b",margin:0},children:"Pay bills and send money using your crypto wallets"})]}),s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[s.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[s.jsx("div",{style:{width:"24px",height:"24px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"bold"},children:"$"}),"Exchange Rate"]}),s.jsx("button",{onClick:D,disabled:n,style:{background:"none",border:"none",color:"#3b82f6",cursor:"pointer",padding:"0.5rem",borderRadius:"0.375rem",transition:"all 0.2s"},children:s.jsx(Zt,{size:16,style:{animation:n?"spin 1s linear infinite":"none"}})})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[s.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"USDT/KES Rate"}),s.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:o?`$${o.toFixed(2)}`:"Loading..."})]}),s.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Last Updated"}),s.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:l?l.toLocaleTimeString():"Never"})]}),s.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Source"}),s.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:d||"Unknown"})]})]})]})}),s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[s.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(hr,{}),s.jsx("span",{children:"Make Payment"})]}),s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.75rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Select Service"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.75rem"},children:V.map(f=>s.jsxs("div",{onClick:()=>M(f),style:{background:(R==null?void 0:R.id)===f.id?"white":"transparent",border:`2px solid ${(R==null?void 0:R.id)===f.id?f.color:"#e2e8f0"}`,borderRadius:"1rem",padding:"1.25rem",cursor:"pointer",transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",position:"relative",overflow:"hidden"},onMouseEnter:E=>{(R==null?void 0:R.id)!==f.id&&(E.currentTarget.style.transform="translateY(-4px)",E.currentTarget.style.boxShadow=`0 8px 25px ${f.color}20`,E.currentTarget.style.borderColor=f.color)},onMouseLeave:E=>{(R==null?void 0:R.id)!==f.id&&(E.currentTarget.style.transform="translateY(0)",E.currentTarget.style.boxShadow="none",E.currentTarget.style.borderColor="#e2e8f0")},children:[s.jsx("div",{style:{position:"absolute",top:"-50%",right:"-50%",width:"100%",height:"100%",background:`radial-gradient(circle, ${f.color}10 0%, transparent 70%)`,opacity:(R==null?void 0:R.id)===f.id?1:0,transition:"opacity 0.3s ease"}}),s.jsx("div",{style:{width:"48px",height:"48px",background:`linear-gradient(135deg, ${f.color} 0%, ${f.color}dd 100%)`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",boxShadow:`0 4px 12px ${f.color}40`,position:"relative",zIndex:1,fontSize:"24px"},children:f.serviceIcon||"💳"}),s.jsxs("div",{style:{textAlign:"center",position:"relative",zIndex:1},children:[s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"700",color:(R==null?void 0:R.id)===f.id?f.color:"#1e293b",marginBottom:"0.25rem",transition:"color 0.3s ease"},children:f.name}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",lineHeight:"1.3"},children:f.description}),s.jsx("div",{style:{marginTop:"0.5rem",padding:"0.25rem 0.5rem",background:f.status==="active"?"#10b981":"#ef4444",color:"white",borderRadius:"0.5rem",fontSize:"0.625rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:f.status})]}),(R==null?void 0:R.id)===f.id&&s.jsx("div",{style:{position:"absolute",top:"0.5rem",right:"0.5rem",width:"20px",height:"20px",background:f.color,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"bold"},children:s.jsx(Ft,{size:12})})]},f.id))})]}),s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.75rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(up,{size:16,style:{color:"#3b82f6"}}),"Select Wallet"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{onClick:()=>O(!A),style:{background:"white",border:"1px solid #d1d5db",borderRadius:"0.5rem",padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s"},children:[Z?s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:Z.currency==="NST"?"#8b5cf6":Z.currency==="ICP"?"#3b82f6":"#f59e0b",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"600"},children:Z.currency}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b"},children:Z.name}),s.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:[((h=Z.balance)==null?void 0:h.toFixed(4))||"0.0000"," ",Z.currency]})]})]}):s.jsx("span",{style:{color:"#9ca3af"},children:"Choose wallet"}),s.jsx(rl,{size:16,style:{transform:A?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),A&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:"1px solid ",borderRadius:"0.5rem",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",zIndex:10,maxHeight:"200px",overflow:"auto"},children:e.map(f=>{var E;return s.jsxs("div",{onClick:()=>{$(f),O(!1),y&&K(y)},style:{padding:"1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.75rem",transition:"all 0.2s ease",borderBottom:"1px solid #f1f5f9"},onMouseEnter:P=>{P.currentTarget.style.backgroundColor="#f8fafc",P.currentTarget.style.transform="translateX(4px)"},onMouseLeave:P=>{P.currentTarget.style.backgroundColor="transparent",P.currentTarget.style.transform="translateX(0)"},children:[s.jsx("div",{style:{width:"40px",height:"40px",background:f.currency==="NST"?"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)":f.currency==="ICP"?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.875rem",fontWeight:"700",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:f.currency}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b",marginBottom:"0.125rem"},children:f.name}),s.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b",display:"flex",alignItems:"center",gap:"0.25rem"},children:[s.jsx(De,{size:12}),((E=f.balance)==null?void 0:E.toFixed(4))||"0.0000"," ",f.currency]})]}),s.jsx("div",{style:{padding:"0.25rem 0.5rem",background:"#10b981",color:"white",borderRadius:"0.375rem",fontSize:"0.625rem",fontWeight:"600",textTransform:"uppercase"},children:"Active"})]},f.id)})})]})]}),s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.75rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(De,{size:16,style:{color:"#059669"}}),"Amount (KES)"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"number",value:y,onChange:f=>K(f.target.value),placeholder:"Enter amount in KES",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),s.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:s.jsx(De,{size:16})})]})]}),y&&o&&s.jsx("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"white",borderRadius:"0.5rem",border:"1px solid #e2e8f0"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"#f0fdf4",borderRadius:"0.5rem",border:"1px solid #bbf7d0"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, #059669 0%, #10b981 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:s.jsx(De,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#059669",marginBottom:"0.25rem",fontWeight:"500"},children:"KES Amount"}),s.jsxs("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#059669"},children:[parseFloat(y).toLocaleString()," KES"]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"#eff6ff",borderRadius:"0.5rem",border:"1px solid #bfdbfe"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:s.jsx(hr,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#2563eb",marginBottom:"0.25rem",fontWeight:"500"},children:"USDT Equivalent"}),s.jsxs("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#2563eb"},children:[u," USDT"]})]})]}),Z&&N&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"#fef3c7",borderRadius:"0.5rem",border:"1px solid #fde68a"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:Z.currency==="NST"?"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)":Z.currency==="ICP"?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"700"},children:Z.currency}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#d97706",marginBottom:"0.25rem",fontWeight:"500"},children:"Wallet Amount"}),s.jsxs("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#d97706"},children:[N," ",Z.currency]})]})]})]})}),R&&R.requiresPaybill&&s.jsx("div",{style:{marginBottom:"1.5rem"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Ig,{size:14,style:{color:"#3b82f6"}}),"Paybill Number"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:re,onChange:f=>Q(f.target.value),placeholder:"Enter paybill number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),s.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:s.jsx(Ig,{size:14})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Hg,{size:14,style:{color:"#8b5cf6"}}),"Account Number"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:ee,onChange:f=>de(f.target.value),placeholder:"Enter account number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),s.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:s.jsx(Hg,{size:14})})]})]})]})}),R&&R.id==="buy-goods"&&s.jsx("div",{style:{marginBottom:"1.5rem"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(xf,{size:14,style:{color:"#ef4444"}}),"Till Number"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:Te,onChange:f=>be(f.target.value),placeholder:"Enter till number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),s.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:s.jsx(xf,{size:14})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Jl,{size:14,style:{color:"#8b5cf6"}}),"Reference"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:xe,onChange:f=>me(f.target.value),placeholder:"Enter reference",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),s.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:s.jsx(Jl,{size:14})})]})]})]})}),R&&R.id==="send-money"&&s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Yr,{size:14,style:{color:"#06b6d4"}}),"Recipient Phone"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:ue,onChange:f=>ae(f.target.value),placeholder:"Enter phone number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),s.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:s.jsx(Yr,{size:14})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Os,{size:14,style:{color:"#06b6d4"}}),"Recipient Name"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:he,onChange:f=>z(f.target.value),placeholder:"Enter recipient name",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),s.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:s.jsx(Os,{size:14})})]})]})]}),s.jsxs("div",{style:{marginTop:"1rem"},children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Jl,{size:14,style:{color:"#06b6d4"}}),"Reference"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:xe,onChange:f=>me(f.target.value),placeholder:"Enter reference (optional)",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),s.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:s.jsx(Jl,{size:14})})]})]})]}),R&&R.id==="airtime"&&s.jsx("div",{style:{marginBottom:"1.5rem"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Yr,{size:14,style:{color:"#ec4899"}}),"Phone Number"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:v,onChange:f=>w(f.target.value),placeholder:"Enter phone number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),s.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:s.jsx(Yr,{size:14})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(ra,{size:14,style:{color:"#ec4899"}}),"Network"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("select",{value:ge,onChange:f=>U(f.target.value),style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"},children:[s.jsx("option",{value:"",children:"Select network"}),s.jsx("option",{value:"safaricom",children:"Safaricom"}),s.jsx("option",{value:"airtel",children:"Airtel"}),s.jsx("option",{value:"telkom",children:"Telkom"})]}),s.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:s.jsx(ra,{size:14})})]})]})]})}),R&&R.id==="data-bundle"&&s.jsx("div",{style:{marginBottom:"1.5rem"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Yr,{size:14,style:{color:"#8b5cf6"}}),"Phone Number"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:v,onChange:f=>w(f.target.value),placeholder:"Enter phone number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),s.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:s.jsx(Yr,{size:14})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(ra,{size:14,style:{color:"#8b5cf6"}}),"Bundle Type"]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("select",{value:H,onChange:f=>J(f.target.value),style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"},children:[s.jsx("option",{value:"",children:"Select bundle"}),s.jsx("option",{value:"daily",children:"Daily Bundle"}),s.jsx("option",{value:"weekly",children:"Weekly Bundle"}),s.jsx("option",{value:"monthly",children:"Monthly Bundle"}),s.jsx("option",{value:"night",children:"Night Bundle"})]}),s.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:s.jsx(ra,{size:14})})]})]})]})}),q&&s.jsxs("div",{style:{padding:"0.75rem",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",color:"#dc2626",fontSize:"0.875rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(R3,{size:16}),q]}),j==="success"&&s.jsxs("div",{style:{padding:"0.75rem",background:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"0.5rem",color:"#059669",fontSize:"0.875rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(zs,{size:16}),"Payment successful! Transaction has been processed."]}),s.jsx("button",{onClick:k,disabled:n||!R||!Z||!y,style:{width:"100%",padding:"0.875rem",background:n||!R||!Z||!y?"#e2e8f0":"linear-gradient(135deg, #10b981 0%, #059669 100%)",border:"none",borderRadius:"0.5rem",color:n||!R||!Z||!y?"#64748b":"white",fontSize:"0.875rem",fontWeight:"600",cursor:n||!R||!Z||!y?"not-allowed":"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:n?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{size:16,style:{animation:"spin 1s linear infinite"}}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cu,{size:16}),"Pay ",y?`${parseFloat(y).toLocaleString()} KES`:""]})})]})}),C.length>0&&s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[s.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(hr,{}),s.jsx("span",{children:"Recent Transactions"})]}),s.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:C.slice(0,5).map(f=>s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:"white",borderRadius:"0.5rem",border:"1px solid #e2e8f0"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:s.jsx(zs,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b"},children:f.bill}),s.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:[f.recipient," • ",f.timestamp.toLocaleString()]})]})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsxs("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#10b981"},children:[f.amount," KES"]}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:f.status})]})]},f.id))})]})}),s.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},VT=e=>e?e.length<2?{isValid:!1,error:"Display name must be at least 2 characters"}:e.length>50?{isValid:!1,error:"Display name must be less than 50 characters"}:/^[a-zA-Z0-9\s\-_.,!?'"()]+$/.test(e)?e.trim()!==e?{isValid:!1,error:"Display name cannot start or end with spaces"}:/\s{2,}/.test(e)?{isValid:!1,error:"Display name cannot contain multiple consecutive spaces"}:{isValid:!0}:{isValid:!1,error:"Display name contains invalid characters"}:{isValid:!1,error:"Display name is required"};function HT(){const{user:e,updateProfile:t}=Qt(),{showToast:r}=Fr(),[n,i]=T.useState(!1),[o,a]=T.useState(""),[l,c]=T.useState(!1),[d,b]=T.useState(null),[y,m]=T.useState(!1);T.useEffect(()=>{a((e==null?void 0:e.displayName)||"")},[e==null?void 0:e.displayName]);const u=async()=>{b(null);const W=VT(o);if(!W.isValid){b(W.error);return}try{c(!0),await t(o,null),i(!1),uu("username","profile",r)}catch(v){const w=gi(v,"profile",r);b(w)}finally{c(!1)}},g=()=>{a((e==null?void 0:e.displayName)||""),b(null),i(!1)},N=()=>{navigator.clipboard.writeText((e==null?void 0:e.username)||""),r("Username copied to clipboard","success")};return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:"#f8fafc",borderRadius:"0.5rem",border:"1px solid #e2e8f0"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:"#e2e8f0",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b"},children:s.jsx(Os,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.125rem"},children:"Username"}),s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:"#1e293b"},children:(e==null?void 0:e.username)||"—"})]})]}),s.jsxs("button",{onClick:N,style:{background:"none",border:"1px solid #d1d5db",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",color:"#64748b",cursor:"pointer",fontSize:"0.75rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.375rem",transition:"all 0.2s"},children:[s.jsx(Vo,{size:12}),"Copy"]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:"#f8fafc",borderRadius:"0.5rem",border:"1px solid #e2e8f0"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:"#e2e8f0",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b"},children:s.jsx(Ho,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.125rem"},children:"Display Name"}),n?s.jsx("input",{type:"text",value:o,onChange:W=>a(W.target.value),style:{fontSize:"0.875rem",fontWeight:600,color:"#1e293b",background:"white",border:"1px solid #d1d5db",borderRadius:"0.25rem",padding:"0.25rem 0.5rem",outline:"none",width:"200px"},placeholder:"Enter display name"}):s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:"#1e293b"},children:(e==null?void 0:e.displayName)||"Not set"})]})]}),n?s.jsxs("div",{style:{display:"flex",gap:"0.375rem"},children:[s.jsxs("button",{onClick:u,disabled:l,style:{background:"#10b981",border:"none",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",color:"white",cursor:l?"not-allowed":"pointer",fontSize:"0.75rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.375rem",opacity:l?.6:1,transition:"all 0.2s"},children:[s.jsx(Ft,{size:12}),l?"Saving...":"Save"]}),s.jsxs("button",{onClick:g,style:{background:"none",border:"1px solid #d1d5db",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",color:"#64748b",cursor:"pointer",fontSize:"0.75rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.375rem",transition:"all 0.2s"},children:[s.jsx(Je,{size:12}),"Cancel"]})]}):s.jsxs("button",{onClick:()=>i(!0),style:{background:"none",border:"1px solid #d1d5db",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",color:"#64748b",cursor:"pointer",fontSize:"0.75rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.375rem",transition:"all 0.2s"},children:[s.jsx(Ho,{size:12}),"Edit"]})]}),d&&s.jsx("div",{style:{padding:"0.5rem 0.75rem",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.375rem",color:"#991b1b",fontSize:"0.75rem"},children:d}),s.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:s.jsx("button",{onClick:()=>m(!y),style:{background:"none",border:"none",padding:"0.375rem",color:"#64748b",cursor:"pointer",borderRadius:"0.25rem",transition:"all 0.2s"},children:s.jsx(wl,{size:14})})}),y&&s.jsx("div",{style:{padding:"0.75rem",background:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"0.5rem",fontSize:"0.75rem",color:"#0369a1"},children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.5rem"},children:[s.jsx(vt,{size:14,style:{marginTop:"1px"}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600,marginBottom:"0.25rem"},children:"About Username & Display Name"}),s.jsxs("div",{style:{lineHeight:"1.4"},children:["Your ",s.jsx("strong",{children:"username"})," is automatically generated and unique. Your ",s.jsx("strong",{children:"display name"})," is what others see and can be customized."]})]})]})})]})}function IT(){const{theme:e}=io(),{user:t,principal:r,cryptoWallets:n,recoveryMethods:i,updateProfile:o,refreshRecoveryMethods:a,getUserRecoveryMethods:l}=Qt(),{showToast:c}=Fr(),[d,b]=T.useState((t==null?void 0:t.displayName)||"");T.useState(!1);const[y,m]=T.useState(null),[u,g]=T.useState(null);T.useState(!1);const[N,W]=T.useState(null),[v,w]=T.useState(!1);T.useEffect(()=>{b((t==null?void 0:t.displayName)||"")},[t==null?void 0:t.displayName]),T.useEffect(()=>{(async()=>{if(t){w(!0);try{console.log("Profile: Loading recovery methods..."),await a(),console.log("Profile: Recovery methods loaded successfully"),c({message:"Recovery methods loaded successfully",type:"success"})}catch(Y){console.error("Profile: Error loading recovery methods:",Y),gi(Y,"recovery",c)}finally{w(!1)}}})()},[t,a,c]);const j=(n==null?void 0:n.length)||0,F=(i==null?void 0:i.length)||0,C=V=>{const Y=V.target.files[0];if(Y){const re=new FileReader;re.onload=Q=>W(Q.target.result),re.readAsDataURL(Y)}},B=V=>{navigator.clipboard.writeText(V),m("Copied to clipboard!"),setTimeout(()=>m(null),2e3)},R=async()=>{w(!0);try{await a(),c({message:"Recovery methods refreshed successfully",type:"success"})}catch(V){gi(V,"recovery",c)}finally{w(!1)}},M=V=>{switch(V){case"email":return s.jsx(Ni,{size:16});case"phone":return s.jsx(Yr,{size:16});case"authenticator":return s.jsx(FiSmartphone,{size:16});case"security":return s.jsx(hp,{size:16});default:return s.jsx(vt,{size:16})}},Z=V=>{switch(V){case"email":return e.colors.info;case"phone":return e.colors.success;case"authenticator":return e.colors.warning;case"security":return e.colors.primary;default:return e.colors.text.secondary}},$=V=>{switch(V){case"email":return"Email Recovery";case"phone":return"SMS Recovery";case"authenticator":return"Authenticator App";case"security":return"Security Questions";default:return"Recovery Method"}},q=V=>{try{return V.methodType==="security"&&V.value?JSON.parse(V.value).question||"Security Questions":V.value||"Not specified"}catch{return V.value||"Not specified"}},X=V=>V?V.split(" ").map(Y=>Y[0]).join("").toUpperCase().slice(0,2):"U",A=V=>{if(console.log("formatDate input:",V,"type:",typeof V),!V)return console.log("formatDate: no timestamp provided"),"—";try{let Y;if(typeof V=="number")console.log("formatDate: processing as number:",V),V>1e15?(console.log("formatDate: detected BigInt timestamp, converting from nanoseconds to milliseconds"),Y=new Date(V/1e6)):Y=new Date(V);else if(typeof V=="string"){console.log("formatDate: processing as string:",V);const Q=parseInt(V);console.log("formatDate: parsed string to number:",Q),isNaN(Q)?Y=new Date(V):Q>1e15?(console.log("formatDate: detected BigInt timestamp, converting from nanoseconds to milliseconds"),Y=new Date(Q/1e6)):Y=new Date(Q)}else console.log("formatDate: processing as other type:",V),Y=new Date(V);if(console.log("formatDate: created date object:",Y),console.log("formatDate: date.getTime():",Y.getTime()),console.log("formatDate: isNaN check:",isNaN(Y.getTime())),isNaN(Y.getTime()))return console.log("formatDate: invalid date detected"),"—";const re=Y.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return console.log("formatDate: formatted result:",re),re}catch(Y){return console.error("formatDate: parsing error:",Y),"—"}},O=V=>{if(console.log("formatDateTime input:",V,"type:",typeof V),!V)return console.log("formatDateTime: no timestamp provided"),"—";try{let Y;if(typeof V=="number")console.log("formatDateTime: processing as number:",V),V>1e15?(console.log("formatDateTime: detected BigInt timestamp, converting from nanoseconds to milliseconds"),Y=new Date(V/1e6)):Y=new Date(V);else if(typeof V=="string"){console.log("formatDateTime: processing as string:",V);const Q=parseInt(V);console.log("formatDateTime: parsed string to number:",Q),isNaN(Q)?Y=new Date(V):Q>1e15?(console.log("formatDateTime: detected BigInt timestamp, converting from nanoseconds to milliseconds"),Y=new Date(Q/1e6)):Y=new Date(Q)}else console.log("formatDateTime: processing as other type:",V),Y=new Date(V);if(console.log("formatDateTime: created date object:",Y),console.log("formatDateTime: date.getTime():",Y.getTime()),console.log("formatDateTime: isNaN check:",isNaN(Y.getTime())),isNaN(Y.getTime()))return console.log("formatDateTime: invalid date detected"),"—";const re=Y.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return console.log("formatDateTime: formatted result:",re),re}catch(Y){return console.error("formatDateTime: parsing error:",Y),"—"}};return s.jsxs("div",{style:{width:"100%",padding:"0 1rem",background:e.colors.background,minHeight:"100vh"},children:[y&&s.jsxs("div",{style:{background:"linear-gradient(135deg, #10b981 0%, #05966 100%)",color:"white",padding:"1rem",borderRadius:"0.75rem",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[s.jsx(Ft,{size:20}),y]}),u&&s.jsxs("div",{style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",padding:"1rem",borderRadius:"0.75rem",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)"},children:[s.jsx(vt,{size:20}),u]}),s.jsxs("div",{style:{display:"grid",gap:"2rem",gridTemplateColumns:"1fr 2fr"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[s.jsxs("div",{style:{background:e.colors.white,borderRadius:"0.5rem",padding:"1.5rem",border:`1px solid ${e.colors.border.secondary}`,textAlign:"center",position:"relative"},children:[s.jsxs("div",{style:{position:"relative",display:"inline-block",marginBottom:"1.5rem"},children:[s.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:N?`url(${N})`:`linear-gradient(135deg, ${e.colors.primary} 0%, ${e.colors.primary}dd 100%)`,backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:"bold",color:N?"transparent":e.colors.white,margin:"0 auto",position:"relative",border:`3px solid ${e.colors.white}`,boxShadow:"none"},children:!N&&X((t==null?void 0:t.displayName)||(t==null?void 0:t.username))}),s.jsxs("label",{style:{position:"absolute",bottom:"0",right:"0",width:"32px",height:"32px",background:`linear-gradient(135deg, ${e.colors.primary} 0%, ${e.colors.primary}dd 100%)`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:e.colors.white,boxShadow:"none",transition:"all 0.15s ease"},children:[s.jsx(X2,{size:16}),s.jsx("input",{type:"file",accept:"image/*",onChange:C,style:{display:"none"}})]})]}),s.jsx("h2",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",fontWeight:600,color:e.colors.text.primary},children:(t==null?void 0:t.displayName)||(t==null?void 0:t.username)||"User"}),s.jsx("p",{style:{margin:"0 0 1.5rem 0",fontSize:"0.8rem",color:e.colors.text.secondary},children:(t==null?void 0:t.email)||"No email provided"}),s.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.375rem 0.75rem",background:`linear-gradient(135deg, ${e.colors.success} 0%, ${e.colors.success}dd 100%)`,color:e.colors.white,borderRadius:"0.375rem",fontSize:"0.75rem",fontWeight:500,marginBottom:"1.5rem"},children:[s.jsx("div",{style:{width:"6px",height:"6px",background:e.colors.white,borderRadius:"50%"}}),"Active Account"]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:e.colors.info},children:j}),s.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary},children:"Wallets"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:e.colors.success},children:F}),s.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary},children:"Recovery"})]})]})]}),s.jsxs("div",{style:{background:e.colors.white,borderRadius:"0.5rem",padding:"1.25rem",border:`1px solid ${e.colors.border.secondary}`},children:[s.jsxs("h3",{style:{margin:"0 0 1rem 0",fontSize:"1rem",fontWeight:600,color:e.colors.text.primary,display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(vt,{size:20}),"Security Status"]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.625rem",background:e.colors.background,borderRadius:"0.375rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(vl,{size:16,color:e.colors.success}),s.jsx("span",{style:{fontSize:"0.8rem",color:e.colors.text.primary},children:"Account Security"})]}),s.jsx("div",{style:{color:e.colors.success,fontSize:"0.8rem",fontWeight:500},children:"Secure"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.625rem",background:e.colors.background,borderRadius:"0.375rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Ni,{size:16,color:e.colors.info}),s.jsx("span",{style:{fontSize:"0.8rem",color:e.colors.text.primary},children:"Email Verified"})]}),s.jsx("div",{style:{color:e.colors.success,fontSize:"0.8rem",fontWeight:500},children:"✓"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.625rem",background:e.colors.background,borderRadius:"0.375rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(vt,{size:16,color:e.colors.warning}),s.jsx("span",{style:{fontSize:"0.8rem",color:e.colors.text.primary},children:"Recovery Methods"})]}),s.jsx("div",{style:{color:F>0?e.colors.success:e.colors.error,fontSize:"0.8rem",fontWeight:500},children:F>0?`${F} Active`:"None"})]})]})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[s.jsxs("div",{style:{background:e.colors.white,borderRadius:"0.5rem",padding:"1.25rem",border:`1px solid ${e.colors.border.secondary}`},children:[s.jsxs("h3",{style:{margin:"0 0 1.5rem 0",fontSize:"1.125rem",fontWeight:600,color:e.colors.text.primary,display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Os,{size:20}),"Account Details"]}),s.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"#f8fafc",borderRadius:"0.5rem"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary,marginBottom:"0.25rem"},children:"Principal ID"}),s.jsx("div",{style:{fontFamily:"monospace",fontSize:"0.8rem",color:e.colors.text.primary,fontWeight:500},children:r?`${r.toString().slice(0,12)}...${r.toString().slice(-8)}`:"—"})]}),s.jsxs("button",{onClick:()=>B((r==null?void 0:r.toString())||""),style:{background:`linear-gradient(135deg, ${e.colors.primary} 0%, ${e.colors.primary}dd 100%)`,border:"none",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",color:e.colors.white,cursor:"pointer",fontSize:"0.8rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.15s ease"},children:[s.jsx(Vo,{size:14}),"Copy"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"#f8fafc",borderRadius:"0.5rem"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary,marginBottom:"0.25rem"},children:"Joined"}),s.jsx("div",{style:{fontSize:"0.8rem",color:e.colors.text.primary,fontWeight:500},children:t!=null&&t.createdAt?A(t.createdAt):"—"})]}),s.jsx(Z2,{size:16,color:e.colors.text.secondary})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"#f8fafc",borderRadius:"0.5rem"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary,marginBottom:"0.25rem"},children:"Last Login"}),s.jsx("div",{style:{fontSize:"0.8rem",color:e.colors.text.primary,fontWeight:500},children:t!=null&&t.lastLoginAt?O(t.lastLoginAt):"—"})]}),s.jsx(Ps,{size:16,color:e.colors.text.secondary})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"#f8fafc",borderRadius:"0.5rem"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.25rem"},children:"Connected Wallets"}),s.jsxs("div",{style:{fontSize:"0.875rem",color:"#1e293b",fontWeight:500},children:[j," wallets"]})]}),s.jsx(up,{size:16,color:"#64748b"})]})]})]}),s.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[s.jsxs("h3",{style:{margin:"0 0 1.5rem 0",fontSize:"1.25rem",fontWeight:600,color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Ho,{size:20}),"Username Settings"]}),s.jsx(HT,{})]}),s.jsxs("div",{style:{background:e.colors.white,borderRadius:"0.5rem",padding:"1.25rem",border:`1px solid ${e.colors.border.secondary}`},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[s.jsxs("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:600,color:e.colors.text.primary,display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(vt,{size:20}),"Recovery Methods",v&&s.jsx(Zt,{size:16,style:{animation:"spin 1s linear infinite"}})]}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("button",{onClick:R,disabled:v,style:{background:e.colors.white,border:`1px solid ${e.colors.border.secondary}`,padding:"0.375rem",borderRadius:"0.375rem",color:e.colors.text.secondary,cursor:v?"not-allowed":"pointer",fontSize:"0.8rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.15s ease",opacity:v?.6:1},children:s.jsx(Zt,{size:14})}),s.jsxs("button",{style:{background:`linear-gradient(135deg, ${e.colors.success} 0%, ${e.colors.success}dd 100%)`,border:"none",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",color:e.colors.white,cursor:"pointer",fontSize:"0.8rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.15s ease"},children:[s.jsx(to,{size:14}),"Add Method"]})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(i||[]).map((V,Y)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.875rem",background:e.colors.background,borderRadius:"0.375rem",border:`1px solid ${e.colors.border.secondary}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx("div",{style:{width:"28px",height:"28px",background:Z(V.methodType),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:e.colors.white},children:M(V.methodType)}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.8rem",fontWeight:600,color:e.colors.text.primary},children:$(V.methodType)}),s.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary},children:q(V)}),V.createdAt&&s.jsxs("div",{style:{fontSize:"0.75rem",color:"#94a3b8",marginTop:"0.25rem"},children:["Added ",new Date(parseInt(V.createdAt)).toLocaleDateString()]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx("div",{style:{width:"8px",height:"8px",background:V.verifiedAt?"#10b981":"#f59e0b",borderRadius:"50%"},title:V.verifiedAt?"Verified":"Pending verification"}),s.jsx("button",{style:{background:"none",border:"1px solid #e2e8f0",padding:"0.375rem",borderRadius:"0.375rem",cursor:"pointer",color:"#64748b",transition:"all 0.2s"},children:s.jsx(Ho,{size:14})}),s.jsx("button",{style:{background:"none",border:"1px solid #ef4444",padding:"0.375rem",borderRadius:"0.375rem",cursor:"pointer",color:"#ef4444",transition:"all 0.2s"},children:s.jsx(pp,{size:14})})]})]},Y)),(!i||i.length===0)&&s.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#64748b",fontSize:"0.875rem"},children:[s.jsx(vt,{size:48,style:{marginBottom:"1rem",opacity:.5}}),s.jsx("div",{children:"No recovery methods added yet."}),s.jsx("div",{style:{fontSize:"0.75rem",marginTop:"0.5rem"},children:"Add recovery methods to secure your account"})]})]})]})]})]})]})}function qT(){const{user:e,isAuthenticated:t,isLoading:r,sendAIMessage:n}=Qt(),{showToast:i}=Fr(),[o,a]=T.useState([{id:"1",type:"assistant",content:"Hello! I'm your AI Financial Assistant. I can help you with budgeting, investment advice, financial planning, and much more. What would you like to know?",timestamp:Date.now(),reactions:{}}]),[l,c]=T.useState(""),[d,b]=T.useState(!1),[y,m]=T.useState(!1);T.useState("general");const u=T.useRef(null),g=T.useRef(null);T.useEffect(()=>{var B;(B=u.current)==null||B.scrollIntoView({behavior:"smooth"})},[o]),T.useEffect(()=>{var B;(B=g.current)==null||B.focus()},[]);const N=[{icon:s.jsx(De,{}),text:"Budget Analysis",prompt:"Can you analyze my spending patterns and suggest a budget?"},{icon:s.jsx(hr,{}),text:"Investment Advice",prompt:"What investment strategies would you recommend for my goals?"},{icon:s.jsx(Sl,{}),text:"Goal Planning",prompt:"Help me create a financial plan to achieve my goals."},{icon:s.jsx(hr,{}),text:"Portfolio Review",prompt:"Can you review my current portfolio and suggest improvements?"},{icon:s.jsx(vt,{}),text:"Risk Assessment",prompt:"What are the risks in my current financial situation?"},{icon:s.jsx(nw,{}),text:"Money Saving Tips",prompt:"Give me some practical tips to save more money."}],W=async B=>{if(B.preventDefault(),!l.trim()||d)return;const R={id:Date.now().toString(),type:"user",content:l.trim(),timestamp:Date.now(),reactions:{}};a(M=>[...M,R]),c(""),b(!0),m(!0);try{await new Promise($=>setTimeout($,1e3+Math.random()*2e3));const M=v(l.trim()),Z={id:(Date.now()+1).toString(),type:"assistant",content:M,timestamp:Date.now(),reactions:{}};a($=>[...$,Z])}catch{i({message:"Failed to get AI response",type:"error",icon:s.jsx(T3,{})}),a(Z=>[...Z,{id:(Date.now()+1).toString(),type:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:Date.now(),reactions:{}}])}finally{b(!1),m(!1)}},v=B=>{const R=B.toLowerCase();return R.includes("budget")||R.includes("spending")?"Based on your spending patterns, I recommend creating a 50/30/20 budget: 50% for needs, 30% for wants, and 20% for savings. Would you like me to help you categorize your expenses?":R.includes("invest")||R.includes("portfolio")?"For investment advice, I'd recommend diversifying across different asset classes. Consider starting with index funds for broad market exposure. What's your risk tolerance and investment timeline?":R.includes("save")||R.includes("money")?"Great question! Start by tracking all your expenses for a month, then identify areas to cut back. Consider the 1% rule - try to save 1% more each month. Would you like specific tips for your situation?":R.includes("goal")||R.includes("plan")?"Financial planning starts with clear goals. Let's break this down: What are your short-term (1 year), medium-term (5 years), and long-term (10+ years) financial goals?":R.includes("risk")||R.includes("security")?"Financial security involves having an emergency fund (3-6 months of expenses), proper insurance, and diversified investments. How much do you currently have saved for emergencies?":"I'm here to help with all your financial questions! I can assist with budgeting, investing, saving, debt management, and financial planning. What specific area would you like to focus on?"},w=B=>{var R;c(B),(R=g.current)==null||R.focus()},j=(B,R)=>{a(M=>M.map(Z=>Z.id===B?{...Z,reactions:{...Z.reactions,[R]:(Z.reactions[R]||0)+1}}:Z))},F=B=>{navigator.clipboard.writeText(B),i({message:"Message copied to clipboard",type:"success",icon:s.jsx(Vo,{})})},C=B=>new Date(B).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{style:{width:"100%",height:"100vh",background:"linear-gradient(135deg, #075B5E 0%, #1C352D 100%)",display:"flex",flexDirection:"column",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[s.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",padding:"1.5rem 2rem",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",gap:"1rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)"},children:[s.jsx("div",{style:{width:48,height:48,background:"linear-gradient(135deg, #075B5E 0%, #1C352D 100%)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",boxShadow:"0 4px 12px rgba(7, 91, 94, 0.3)"},children:s.jsx(yf,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"#1a202c"},children:"AI Financial Assistant"}),s.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"#718096",fontSize:"0.9rem"},children:"Your personal financial advisor powered by AI"})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"0.5rem"},children:[s.jsx("button",{style:{background:"rgba(7, 91, 94, 0.1)",border:"none",borderRadius:"8px",padding:"0.5rem",cursor:"pointer",color:"#075B5E",transition:"all 0.2s"},children:s.jsx(du,{size:16})}),s.jsx("button",{style:{background:"rgba(7, 91, 94, 0.1)",border:"none",borderRadius:"8px",padding:"0.5rem",cursor:"pointer",color:"#075B5E",transition:"all 0.2s"},children:s.jsx(K2,{size:16})})]})]}),s.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"1rem 2rem",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[s.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",color:"#718096",fontWeight:600},children:"Quick Actions"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.75rem"},children:N.map((B,R)=>s.jsxs("button",{onClick:()=>w(B.prompt),style:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(7, 91, 94, 0.2)",borderRadius:"10px",padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem",fontWeight:600,color:"#4a5568",transition:"all 0.2s ease",backdropFilter:"blur(10px)"},onMouseEnter:M=>{M.target.style.background="rgba(102, 126, 234, 0.1)",M.target.style.transform="translateY(-1px)",M.target.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.2)"},onMouseLeave:M=>{M.target.style.background="rgba(255, 255, 255, 0.8)",M.target.style.transform="translateY(0)",M.target.style.boxShadow="none"},children:[s.jsx("span",{style:{color:"#667eea"},children:B.icon}),B.text]},R))})]}),s.jsx("div",{style:{flex:1,padding:"1.5rem 2rem",overflowY:"auto",background:"rgba(255, 255, 255, 0.05)"},children:s.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[o.map(B=>s.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",animation:"slideIn 0.3s ease-out"},children:[s.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:B.type==="assistant"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"linear-gradient(135deg, #48bb78 0%, #38a169 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",flexShrink:0,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:B.type==="assistant"?s.jsx(yf,{size:18}):s.jsx(Os,{size:18})}),s.jsx("div",{style:{flex:1},children:s.jsxs("div",{style:{background:B.type==="assistant"?"rgba(255, 255, 255, 0.95)":"rgba(102, 126, 234, 0.1)",borderRadius:"16px",padding:"1rem 1.25rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:B.type==="assistant"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(102, 126, 234, 0.2)",position:"relative"},children:[s.jsx("div",{style:{fontSize:"0.95rem",lineHeight:"1.5",color:B.type==="assistant"?"#2d3748":"#4a5568"},children:B.content}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid rgba(0, 0, 0, 0.05)"},children:[s.jsx("span",{style:{fontSize:"0.75rem",color:"#718096"},children:C(B.timestamp)}),B.type==="assistant"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>j(B.id,"👍"),style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",borderRadius:"4px",color:"#718096",fontSize:"0.8rem"},children:["👍 ",B.reactions["👍"]||0]}),s.jsxs("button",{onClick:()=>j(B.id,"👎"),style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",borderRadius:"4px",color:"#718096",fontSize:"0.8rem"},children:["👎 ",B.reactions["👎"]||0]}),s.jsx("button",{onClick:()=>F(B.content),style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",borderRadius:"4px",color:"#718096",fontSize:"0.8rem"},title:"Copy message",children:s.jsx(Vo,{size:12})})]})]})]})})]},B.id)),y&&s.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",animation:"slideIn 0.3s ease-out"},children:[s.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",flexShrink:0},children:s.jsx(yf,{size:18})}),s.jsx("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"16px",padding:"1rem 1.25rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:s.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#667eea",animation:"typing 1.4s infinite ease-in-out"}}),s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#667eea",animation:"typing 1.4s infinite ease-in-out 0.2s"}}),s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#667eea",animation:"typing 1.4s infinite ease-in-out 0.4s"}})]})})]}),s.jsx("div",{ref:u})]})}),s.jsx("div",{style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",padding:"1.5rem 2rem",borderTop:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.1)"},children:s.jsxs("form",{onSubmit:W,style:{width:"100%",display:"flex",gap:"1rem",alignItems:"flex-end"},children:[s.jsx("div",{style:{flex:1},children:s.jsx("textarea",{ref:g,value:l,onChange:B=>c(B.target.value),placeholder:"Ask me anything about your finances...",disabled:d||r,style:{width:"100%",minHeight:"50px",maxHeight:"120px",padding:"0.875rem 1rem",border:"2px solid rgba(102, 126, 234, 0.2)",borderRadius:"12px",fontSize:"0.95rem",resize:"none",fontFamily:"inherit",outline:"none",background:"rgba(255, 255, 255, 0.9)",transition:"all 0.3s ease"},onFocus:B=>B.target.style.borderColor="rgba(102, 126, 234, 0.5)",onBlur:B=>B.target.style.borderColor="rgba(102, 126, 234, 0.2)",onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),W(B))}})}),s.jsx("button",{type:"submit",disabled:d||r||!l.trim(),style:{background:d||r||!l.trim()?"rgba(102, 126, 234, 0.3)":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"12px",padding:"0.875rem 1.25rem",cursor:d||r||!l.trim()?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:600,transition:"all 0.3s ease",boxShadow:d||r||!l.trim()?"none":"0 4px 12px rgba(102, 126, 234, 0.3)",minWidth:"120px",justifyContent:"center"},onMouseEnter:B=>{!d&&!r&&l.trim()&&(B.target.style.transform="translateY(-2px)",B.target.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.4)")},onMouseLeave:B=>{!d&&!r&&l.trim()&&(B.target.style.transform="translateY(0)",B.target.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.3)")},children:d?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{size:16,style:{animation:"spin 1s linear infinite"}}),"Thinking..."]}):s.jsxs(s.Fragment,{children:[s.jsx(yr,{size:16}),"Send"]})})]})}),s.jsx("style",{children:`
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes typing {
          0%, 60%, 100% {
            transform: translateY(0);
          }
          30% {
            transform: translateY(-10px);
          }
        }
        
        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
      `})]})}const GT=[{value:"email",label:"Email Recovery",icon:Ni,description:"Receive recovery code via email",color:"#3B82F6"},{value:"phone",label:"SMS Recovery",icon:Yr,description:"Receive recovery code via SMS",color:"#10B981"},{value:"authenticator",label:"Authenticator App",icon:Gs,description:"Use your authenticator app code",color:"#8B5CF6"},{value:"security",label:"Security Questions",icon:hp,description:"Answer your security questions",color:"#F59E0B"}],Xg=["What was the name of your first pet?","In what city were you born?","What is your mother's maiden name?","What was the name of your first school?","What is your favorite book?","What was the make of your first car?","What is the name of the street you grew up on?","What is your favorite food?","What was your childhood nickname?","What is the name of your best friend from childhood?"];function YT({isOpen:e=!1,onClose:t,onRecoveryComplete:r,mode:n="recovery",className:i=""}){const{initiateRecovery:o,verifyRecovery:a,completeRecovery:l,addRecoveryMethod:c,user:d}=Qt(),{showToast:b}=Fr(),[y,m]=T.useState(1),[u,g]=T.useState(null),[N,W]=T.useState(""),[v,w]=T.useState(!1),[j,F]=T.useState(null),[C,B]=T.useState(null),[R,M]=T.useState(""),[Z,$]=T.useState(Array(12).fill("")),[q,X]=T.useState({});T.useState({name:"",email:"",phone:"",relationship:""}),T.useState(!1),T.useState(!1);const[A,O]=T.useState(0),[V,Y]=T.useState(null),[re,Q]=T.useState(0),[ee,de]=T.useState({}),[ue,ae]=T.useState(!1),[he,z]=T.useState(!1),Te=T.useRef([]);T.useRef([]),T.useEffect(()=>{(async()=>{if(window.PublicKeyCredential)try{const L=await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();ae(L),z(!0)}catch(L){console.log("Biometric check failed:",L),ae(!1)}})()},[]),T.useEffect(()=>{Q({1:20,2:40,3:60,4:80,5:100}[y]||0)},[y]);const be=K=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(K),xe=K=>/^\+?[\d\s\-\(\)]{10,}$/.test(K),me=K=>{g(K),F(null),de({}),m(2)},ge=async K=>{K.preventDefault(),w(!0),F(null),de({});try{if(u.value==="email"&&!be(N)){de({identifier:"Please enter a valid email address"});return}if(u.value==="phone"&&!xe(N)){de({identifier:"Please enter a valid phone number"});return}if(u.value==="security"&&(!q.question||!q.answer)){de({security:"Please select a question and provide an answer"});return}let L;switch(u.value){case"email":L=await c("email",N);break;case"phone":L=await c("phone",N);break;case"security":L=await c("security",JSON.stringify(q));break;case"authenticator":L=await c("authenticator","authenticator");break;default:throw new Error("Unsupported recovery method")}console.log("Recovery method saved successfully:",{method:u.value,identifier:u.value==="security"?"Security Questions":N,result:L}),uu("add","recovery",b,`${u.label} recovery method added successfully!`),m(4),r&&r()}catch(L){const k=gi(L,"recovery",b);F(k)}finally{w(!1)}},U=(K,L)=>{if(L.length<=1){const k=R.split("");k[K]=L,M(k.join("")),L&&K<5&&Te.current[K+1]&&Te.current[K+1].focus()}},H=async K=>{K.preventDefault(),w(!0),F(null);try{console.log("Verification attempt:",{method:u.value,recoveryRequestId:C,verificationCode:R?R.length:0,securityAnswers:Object.keys(q).length});let L;switch(u.value){case"email":case"phone":if(R.length!==6)throw new Error("Please enter the complete 6-digit code");L=await a(C,R);break;case"security":L=await a(C,null,q);break;default:throw new Error("Invalid verification method")}console.log("Verification result:",L),L.success&&(m(4),b({message:"Verification successful",type:"success",icon:s.jsx(zs,{})}))}catch(L){console.error("Verification error:",L),F(L.message||"Verification failed")}finally{w(!1)}},J=()=>{m(1),g(null),W(""),M(""),$(Array(12).fill("")),X({}),F(null),de({}),O(0)},D=V&&Date.now()<V;return e?s.jsxs("div",{className:`enhanced-recovery-overlay ${i}`,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:[s.jsxs("div",{style:{width:"100%",maxWidth:"480px",background:"white",borderRadius:"16px",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",overflow:"hidden",maxHeight:"90vh"},children:[s.jsxs("div",{style:{padding:"1.5rem 1.5rem 1rem",background:"linear-gradient(135deg, #075B5E 0%, #1C352D 100%)",color:"white"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx("div",{style:{width:"40px",height:"40px",background:"rgba(255,255,255,0.2)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(vt,{size:20})}),s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:700},children:n==="setup"?"Add Recovery Method":"Account Recovery"}),s.jsx("p",{style:{margin:0,fontSize:"0.875rem",opacity:.8},children:n==="setup"?"Set up a new recovery method for your account":"Secure access to your account"})]})]}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[y>1&&s.jsx("button",{onClick:()=>m(y-1),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"0.5rem",color:"white",cursor:"pointer"},title:"Go back",children:s.jsx(w3,{size:16})}),s.jsx("button",{onClick:t,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"0.5rem",color:"white",cursor:"pointer"},title:"Close",children:s.jsx(Je,{size:16})})]})]}),s.jsx("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"4px",height:"4px",overflow:"hidden"},children:s.jsx("div",{style:{background:"white",height:"100%",width:`${re}%`,transition:"width 0.3s ease",borderRadius:"4px"}})}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"0.5rem",fontSize:"0.75rem",opacity:.8},children:[s.jsxs("span",{children:["Step ",y," of 4"]}),s.jsxs("span",{children:[re,"% Complete"]})]})]}),s.jsxs("div",{style:{padding:"1.5rem",maxHeight:"calc(90vh - 200px)",overflowY:"auto"},children:[j&&s.jsxs("div",{style:{background:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx(lu,{className:"text-red-500"}),s.jsxs("div",{children:[s.jsx("div",{style:{color:"#DC2626",fontWeight:600,fontSize:"0.875rem"},children:"Recovery Failed"}),s.jsx("div",{style:{color:"#7F1D1D",fontSize:"0.875rem"},children:j})]})]}),D&&s.jsxs("div",{style:{background:"#FFFBEB",border:"1px solid #FDE68A",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx(Ps,{className:"text-yellow-500"}),s.jsxs("div",{children:[s.jsx("div",{style:{color:"#92400E",fontWeight:600,fontSize:"0.875rem"},children:"Account Temporarily Locked"}),s.jsxs("div",{style:{color:"#78350F",fontSize:"0.875rem"},children:["Too many failed attempts. Try again in ",Math.ceil((V-Date.now())/6e4)," minutes."]})]})]}),y===1&&s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.125rem",fontWeight:600},children:"Choose Recovery Method"}),s.jsx("p",{style:{margin:"0 0 1.5rem 0",color:"#6B7280",fontSize:"0.875rem"},children:"Select how you'd like to recover access to your account"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:GT.map(K=>{const L=K.icon,k=K.value==="biometric"&&!ue;return s.jsxs("button",{onClick:()=>!k&&me(K),disabled:k,style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",border:`1px solid ${k?"#E5E7EB":K.color}`,borderRadius:"12px",background:k?"#F9FAFB":"white",cursor:k?"not-allowed":"pointer",textAlign:"left",transition:"all 0.2s ease",opacity:k?.5:1},onMouseEnter:h=>{k||(h.target.style.background=`${K.color}05`,h.target.style.transform="translateY(-1px)",h.target.style.boxShadow=`0 4px 12px ${K.color}20`)},onMouseLeave:h=>{k||(h.target.style.background="white",h.target.style.transform="translateY(0)",h.target.style.boxShadow="none")},children:[s.jsx("div",{style:{width:"48px",height:"48px",background:`${K.color}15`,color:K.color,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(L,{size:20})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{marginBottom:"0.25rem"},children:s.jsx("h4",{style:{margin:0,fontSize:"0.875rem",fontWeight:600},children:K.label})}),s.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#6B7280"},children:K.description})]}),s.jsx(cu,{size:16,style:{color:"#9CA3AF"}})]},K.value)})})]}),y===2&&u&&s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.125rem",fontWeight:600},children:u.label}),s.jsx("p",{style:{margin:"0 0 1.5rem 0",color:"#6B7280",fontSize:"0.875rem"},children:u.description}),s.jsxs("form",{onSubmit:ge,children:[["email","phone"].includes(u.value)&&s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:u.value==="email"?"Email Address":"Phone Number"}),s.jsx("input",{type:u.value==="email"?"email":"tel",value:N,onChange:K=>W(K.target.value),placeholder:u.value==="email"?"your@email.com":"+1 (555) 123-4567",style:{width:"100%",padding:"0.75rem",border:`1px solid ${ee.identifier?"#EF4444":"#D1D5DB"}`,borderRadius:"8px",fontSize:"0.875rem",outline:"none"},required:!0}),ee.identifier&&s.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.75rem",color:"#EF4444"},children:ee.identifier})]}),u.value==="security"&&s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"Security Question"}),s.jsxs("select",{value:q.question||"",onChange:K=>X({...q,question:K.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",background:"white"},required:!0,children:[s.jsx("option",{value:"",children:"Select a security question"}),Xg.map((K,L)=>s.jsx("option",{value:K,children:K},L))]}),s.jsxs("div",{style:{marginTop:"1rem"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"Answer"}),s.jsx("input",{type:"text",value:q.answer||"",onChange:K=>X({...q,answer:K.target.value}),placeholder:"Enter your answer",style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"0.875rem",outline:"none"},required:!0})]})]}),u.value==="authenticator"&&s.jsx("div",{style:{marginBottom:"1.5rem"},children:s.jsxs("div",{style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem",textAlign:"center"},children:[s.jsx("div",{style:{width:"48px",height:"48px",background:"#8b5cf6",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:"white"},children:s.jsx(Gs,{size:24})}),s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b",marginBottom:"0.5rem"},children:"Authenticator App"}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:"Use your authenticator app to generate codes"})]})}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[s.jsx("button",{type:"button",onClick:()=>m(1),style:{flex:1,padding:"0.75rem",background:"white",color:"#6B7280",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer"},children:"Back"}),s.jsx("button",{type:"submit",disabled:v,style:{flex:1,padding:"0.75rem",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600",cursor:v?"not-allowed":"pointer",opacity:v?.7:1},children:v?"Saving...":"Save Recovery Method"})]})]})]}),y===3&&s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.125rem",fontWeight:600},children:"Verification Required"}),["email","phone"].includes(u.value)&&s.jsxs("div",{children:[s.jsxs("p",{style:{margin:"0 0 1.5rem 0",color:"#6B7280",fontSize:"0.875rem"},children:["Enter the 6-digit code sent to ",N]}),s.jsxs("form",{onSubmit:H,children:[s.jsx("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",marginBottom:"1.5rem"},children:Array(6).fill(0).map((K,L)=>s.jsx("input",{ref:k=>Te.current[L]=k,type:"text",maxLength:"1",value:R[L]||"",onChange:k=>U(L,k.target.value),style:{width:"48px",height:"48px",textAlign:"center",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"1.125rem",fontWeight:600,outline:"none"}},L))}),s.jsx("button",{type:"submit",disabled:v||R.length!==6,style:{width:"100%",padding:"0.75rem",background:v||R.length!==6?"#9CA3AF":"linear-gradient(135deg, #075B5E 0%, #1C352D 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:600,cursor:v||R.length!==6?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:v?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{className:"animate-spin",size:16}),"Verifying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ft,{size:16}),"Verify Code"]})})]})]}),u.value==="security"&&s.jsxs("div",{children:[s.jsx("p",{style:{margin:"0 0 1.5rem 0",color:"#6B7280",fontSize:"0.875rem"},children:"Answer your security questions to verify your identity"}),s.jsxs("form",{onSubmit:H,children:[s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:Xg.slice(0,3).map((K,L)=>s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:K}),s.jsx("input",{type:"text",value:q[K]||"",onChange:k=>X(h=>({...h,[K]:k.target.value})),placeholder:"Your answer...",style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"0.875rem",outline:"none"},required:!0})]},L))}),s.jsx("button",{type:"submit",disabled:v,style:{width:"100%",padding:"0.75rem",background:v?"#9CA3AF":"linear-gradient(135deg, #075B5E 0%, #1C352D 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:600,cursor:v?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:v?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{className:"animate-spin",size:16}),"Verifying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ft,{size:16}),"Verify Answers"]})})]})]})]}),y===4&&s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",color:"white"},children:s.jsx(zs,{size:40})}),s.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",fontWeight:700,color:"#065F46"},children:n==="setup"?"Recovery Method Added!":"Recovery Successful!"}),s.jsx("p",{style:{margin:"0 0 1.5rem 0",color:"#6B7280",fontSize:"0.875rem"},children:n==="setup"?"Your new recovery method has been successfully added to your account.":"Your account has been successfully recovered. You can now access all your features."}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[s.jsx("button",{onClick:J,style:{flex:1,padding:"0.75rem",background:"white",color:"#6B7280",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"0.875rem",fontWeight:600,cursor:"pointer"},children:n==="setup"?"Add Another Method":"Try Another Method"}),s.jsx("button",{onClick:()=>{r&&r(),t&&t()},style:{flex:1,padding:"0.75rem",background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:600,cursor:"pointer"},children:n==="setup"?"Done":"Continue to Account"})]})]})]}),s.jsx("div",{style:{padding:"1rem 1.5rem",background:"#F9FAFB",borderTop:"1px solid #E5E7EB",fontSize:"0.75rem",color:"#6B7280",textAlign:"center"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx(wl,{size:14}),"Need help? Contact our support team"]})})]}),s.jsx("style",{children:`
        .animate-spin {
          animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]}):null}const KT=new Da;function ZT(){var E,P;const e=Qt(),{showToast:t}=Fr(),{theme:r}=io(),[n,i]=T.useState(!0),[o,a]=T.useState("overview"),[l,c]=T.useState(!0),[d,b]=T.useState(!1),[y,m]=T.useState(!1),[u,g]=T.useState(!1),[N,W]=T.useState(null),[v,w]=T.useState(!1),[j,F]=T.useState(!1),[C,B]=T.useState(!1),[R,M]=T.useState([]),[Z,$]=T.useState({amount:"",toAddress:"",description:""}),[q,X]=T.useState({totalBalance:0,walletCount:0,recentActivity:[]}),[A,O]=T.useState([]),V=T.useRef(null),Y=W0();if(!e)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.125rem",color:r.colors.text.secondary},children:"Loading wallet..."});const{user:re,logout:Q,isAuthenticated:ee,isLoading:de,principal:ue,cryptoWallets:ae,refreshCryptoWallets:he,getUserRecoveryMethods:z,getUserNotifications:Te,getUnreadNotificationCount:be}=e,[xe,me]=T.useState(0),ge=async()=>{try{const _=await Te(10,0);O(_||[]);const oe=await be();me(oe||0)}catch(_){console.error("Failed to load notifications:",_)}},U=async()=>{if(!Z.amount||!Z.toAddress||!N){t({message:"Please fill in all fields",type:"error"});return}try{const _=await KT.sendCrypto(N.id,Z.toAddress,BigInt(Math.floor(Number(Z.amount)*1e8)),Z.description||"");_&&_.ok?(t({message:"Transaction sent successfully!",type:"success"}),$({amount:"",toAddress:"",description:""}),m(!1),he&&he()):t({message:`Transaction failed: ${(_==null?void 0:_.err)||"Unknown error"}`,type:"error"})}catch(_){console.error("Error sending crypto:",_)}},H=async _=>{if(_)try{await navigator.clipboard.writeText(_)}catch(oe){console.error("Copy failed:",oe)}};T.useEffect(()=>{const _=oe=>{V.current&&!V.current.contains(oe.target)&&b(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),T.useEffect(()=>{ee&&(async()=>{if(!ee){Y("/");return}i(!0);try{await he();const oe=await z();console.log("Loaded recovery methods:",oe),M(oe||[]),await ge()}catch(oe){console.error("Error loading dashboard data:",oe)}finally{i(!1)}})()},[ee,Y,he,z]),T.useEffect(()=>{(()=>{const oe=(ae==null?void 0:ae.reduce((ke,ve)=>ke+(ve.balance||0),0))||0,pe=(ae==null?void 0:ae.length)||0;X({totalBalance:oe,walletCount:pe,recentActivity:[{icon:Gg,text:"Wallet synced",time:"2 min ago"},{icon:yr,text:"Payment sent",time:"1 hour ago"},{icon:Cr,text:"Payment received",time:"3 hours ago"}]})})()},[ae]);const J=async()=>{await Q(),Y("/")},D=_=>!_||isNaN(_)?"$0.00":_>=1e6?`$${(_/1e6).toFixed(1)}M`:_>=1e3?`$${(_/1e3).toFixed(1)}K`:`$${_.toFixed(2)}`,K=_=>{switch(_){case"email":return s.jsx(Ni,{size:20});case"phone":return s.jsx(Yr,{size:20});case"authenticator":return s.jsx(Gs,{size:20});case"security":return s.jsx(FiKey,{size:20});default:return s.jsx(vt,{size:20})}},L=_=>{switch(_){case"email":return r.colors.primary;case"phone":return r.colors.success;case"authenticator":return r.colors.info;case"security":return r.colors.warning;default:return r.colors.text.secondary}},k=_=>{switch(_){case"email":return"Email Recovery";case"phone":return"SMS Recovery";case"authenticator":return"Authenticator App";case"security":return"Security Questions";default:return"Recovery Method"}},h=_=>{try{return _.methodType==="security"&&_.value?JSON.parse(_.value).question||"Security Questions":_.value||"Not specified"}catch{return _.value||"Not specified"}},f=_=>{if(!_)return null;try{const oe=parseInt(_)/1e6,pe=new Date(oe);return isNaN(pe.getTime())?null:pe.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(oe){return console.warn("Error formatting timestamp:",oe),null}};return de||n?s.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",background:`linear-gradient(135deg, ${r.colors.primary} 0%, ${r.colors.interactive.hover} 100%)`,color:r.colors.white},children:[s.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.3)",borderTop:"3px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),s.jsx("p",{style:{marginTop:"1rem",fontSize:"1rem"},children:"Loading wallet..."})]}):s.jsxs("div",{style:{minHeight:"100vh",background:r.colors.interactive.secondary,display:"flex"},children:[s.jsxs("aside",{style:{width:v?"80px":"280px",background:`linear-gradient(180deg, ${r.colors.white} 0%, ${r.colors.background} 100%)`,borderRight:`1px solid ${r.colors.border.secondary}`,padding:v?"1rem 0.5rem":"1.25rem",display:"flex",flexDirection:"column",position:"sticky",top:0,height:"100vh",overflowY:"auto",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"none"},onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:v?"0.75rem":"1rem",background:`linear-gradient(135deg, ${r.colors.primary} 0%, ${r.colors.primary}dd 100%)`,borderRadius:"0.5rem",color:r.colors.white,marginBottom:"1.5rem",fontSize:v?"1.5rem":"1.125rem",fontWeight:"700",letterSpacing:"0.025em",border:"none",position:"relative",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"none"},children:[v?"N":"Nesto",s.jsx("button",{onClick:()=>w(!v),style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:r.colors.white,fontSize:"0.75rem",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",opacity:v?0:1,transform:v?"rotate(180deg)":"rotate(0deg)",backdropFilter:"blur(10px)"},title:v?"Expand Sidebar":"Collapse Sidebar",children:"◀"})]}),s.jsxs("nav",{style:{flex:1,textAlign:"left"},children:[s.jsxs("div",{style:{marginBottom:"1rem"},children:[!v&&s.jsx("h3",{style:{fontSize:"0.7rem",fontWeight:600,color:r.colors.text.muted,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.75rem",textAlign:"left",paddingLeft:"0.5rem"},children:"Wallet"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem",alignItems:"flex-start"},children:[s.jsxs("button",{onClick:()=>a("overview"),style:{display:"flex",alignItems:"center",gap:v?"0":"0.75rem",padding:v?"0.75rem":"0.75rem 1rem",background:o==="overview"?`linear-gradient(135deg, ${r.colors.primary}15 0%, ${r.colors.primary}25 100%)`:"transparent",border:o==="overview"?`1px solid ${r.colors.primary}30`:"1px solid transparent",borderRadius:"0.375rem",cursor:"pointer",color:o==="overview"?r.colors.primary:r.colors.text.secondary,fontWeight:o==="overview"?600:500,fontSize:"0.875rem",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",textAlign:v?"center":"left",width:"100%",justifyContent:v?"center":"flex-start",position:"relative"},title:v?"Overview":"",onMouseEnter:_=>{o!=="overview"&&(_.target.style.background=`${r.colors.primary}10`,_.target.style.borderColor=`${r.colors.primary}20`,_.target.style.color=r.colors.primary)},onMouseLeave:_=>{o!=="overview"&&(_.target.style.background="transparent",_.target.style.borderColor="transparent",_.target.style.color=r.colors.text.secondary)},children:[s.jsx(D2,{size:v?20:18}),!v&&"Overview"]}),s.jsxs("button",{onClick:()=>a("wallets"),style:{display:"flex",alignItems:"center",gap:v?"0":"0.75rem",padding:v?"0.75rem":"0.75rem 1rem",background:o==="wallets"?`linear-gradient(135deg, ${r.colors.primary}15 0%, ${r.colors.primary}25 100%)`:"transparent",border:o==="wallets"?`1px solid ${r.colors.primary}30`:"1px solid transparent",borderRadius:"0.375rem",cursor:"pointer",color:o==="wallets"?r.colors.primary:r.colors.text.secondary,fontWeight:o==="wallets"?600:500,fontSize:"0.875rem",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",textAlign:v?"center":"left",width:"100%",justifyContent:v?"center":"flex-start",position:"relative"},title:v?"Wallets":"",onMouseEnter:_=>{o!=="wallets"&&(_.target.style.background=`${r.colors.primary}10`,_.target.style.borderColor=`${r.colors.primary}20`,_.target.style.color=r.colors.primary)},onMouseLeave:_=>{o!=="wallets"&&(_.target.style.background="transparent",_.target.style.borderColor="transparent",_.target.style.color=r.colors.text.secondary)},children:[s.jsx(Gg,{size:v?20:18}),!v&&"Wallets"]}),s.jsxs("button",{onClick:()=>a("tokens"),style:{display:"flex",alignItems:"center",gap:v?"0":"0.75rem",padding:v?"0.75rem":"0.75rem 1rem",background:o==="tokens"?r.colors.interactive.secondary:"transparent",border:"none",borderRadius:"0.5rem",cursor:"pointer",color:o==="tokens"?r.colors.text.primary:r.colors.text.secondary,fontWeight:o==="tokens"?600:500,transition:"all 0.2s",textAlign:v?"center":"left",width:"100%",justifyContent:v?"center":"flex-start",position:"relative"},title:v?"Tokens":"",children:[s.jsx(qg,{size:v?20:18}),!v&&"Tokens"]})]})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[!v&&s.jsx("h3",{style:{fontSize:"0.7rem",fontWeight:600,color:r.colors.text.muted,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.75rem",paddingLeft:"0.5rem"},children:"Features"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[s.jsxs("button",{onClick:()=>a("vaults"),style:{display:"flex",alignItems:"center",gap:v?"0":"0.75rem",padding:v?"0.75rem":"0.75rem 1rem",background:o==="vaults"?`linear-gradient(135deg, ${r.colors.primary}15 0%, ${r.colors.primary}25 100%)`:"transparent",border:o==="vaults"?`1px solid ${r.colors.primary}30`:"1px solid transparent",borderRadius:"0.375rem",cursor:"pointer",color:o==="vaults"?r.colors.primary:r.colors.text.secondary,fontWeight:o==="vaults"?600:500,fontSize:"0.875rem",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",textAlign:v?"center":"left",width:"100%",justifyContent:v?"center":"flex-start",position:"relative"},title:v?"Group Vaults":"",onMouseEnter:_=>{o!=="vaults"&&(_.target.style.background=`${r.colors.primary}10`,_.target.style.borderColor=`${r.colors.primary}20`,_.target.style.color=r.colors.primary)},onMouseLeave:_=>{o!=="vaults"&&(_.target.style.background="transparent",_.target.style.borderColor="transparent",_.target.style.color=r.colors.text.secondary)},children:[s.jsx(Un,{size:v?20:18}),!v&&"Group Vaults"]}),s.jsxs("button",{onClick:()=>a("payments"),style:{display:"flex",alignItems:"center",gap:v?"0":"0.75rem",padding:v?"0.75rem":"0.75rem 1rem",background:o==="payments"?r.colors.interactive.secondary:"transparent",border:"none",borderRadius:"0.5rem",cursor:"pointer",color:o==="payments"?r.colors.text.primary:r.colors.text.secondary,fontWeight:o==="payments"?600:500,transition:"all 0.2s",textAlign:v?"center":"left",width:"100%",justifyContent:v?"center":"flex-start",position:"relative"},title:v?"Payments":"",children:[s.jsx(De,{size:v?20:18}),!v&&"Payments"]}),s.jsxs("button",{onClick:()=>a("ai"),style:{display:"flex",alignItems:"center",gap:v?"0":"0.75rem",padding:v?"0.75rem":"0.75rem 1rem",background:o==="ai"?r.colors.interactive.secondary:"transparent",border:"none",borderRadius:"0.5rem",cursor:"pointer",color:o==="ai"?r.colors.text.primary:r.colors.text.secondary,fontWeight:o==="ai"?600:500,transition:"all 0.2s",textAlign:v?"center":"left",width:"100%",justifyContent:v?"center":"flex-start",position:"relative"},title:v?"AI Assistant":"",children:[s.jsx(hr,{size:v?20:18}),!v&&"AI Assistant"]})]})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[!v&&s.jsx("h3",{style:{fontSize:"0.75rem",fontWeight:600,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.75rem"},children:"Security"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[s.jsxs("button",{onClick:()=>a("recovery"),style:{display:"flex",alignItems:"center",gap:v?"0":"0.75rem",padding:v?"0.75rem":"0.75rem 1rem",background:o==="recovery"?r.colors.interactive.secondary:"transparent",border:"none",borderRadius:"0.5rem",cursor:"pointer",color:o==="recovery"?r.colors.text.primary:r.colors.text.secondary,fontWeight:o==="recovery"?600:500,transition:"all 0.2s",textAlign:v?"center":"left",width:"100%",justifyContent:v?"center":"flex-start",position:"relative"},title:v?"Recovery":"",children:[s.jsx(vt,{size:v?20:18}),!v&&"Recovery"]}),s.jsxs("button",{onClick:()=>a("notifications"),style:{display:"flex",alignItems:"center",gap:v?"0":"0.75rem",padding:v?"0.75rem":"0.75rem 1rem",background:o==="notifications"?r.colors.interactive.secondary:"transparent",border:"none",borderRadius:"0.5rem",cursor:"pointer",color:o==="notifications"?r.colors.text.primary:r.colors.text.secondary,fontWeight:o==="notifications"?600:500,transition:"all 0.2s",textAlign:v?"center":"left",width:"100%",justifyContent:v?"center":"flex-start",position:"relative"},title:v?"Notifications":"",children:[s.jsx(Mc,{size:v?20:18}),!v&&"Notifications"]})]})]})]}),s.jsxs("button",{onClick:J,style:{display:"flex",alignItems:"center",gap:v?"0":"0.75rem",padding:v?"0.75rem":"0.75rem 1rem",background:"transparent",border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",cursor:"pointer",color:r.colors.error,fontWeight:500,transition:"all 0.2s",textAlign:v?"center":"left",width:"100%",justifyContent:v?"center":"flex-start",position:"relative"},title:v?"Logout":"",children:[s.jsx(ew,{size:v?20:18}),!v&&"Logout"]})]}),s.jsxs("main",{style:{flex:1,display:"flex",flexDirection:"column"},children:[s.jsxs("header",{style:{background:r.colors.white,borderBottom:`1px solid ${r.colors.border.primary}`,padding:"1rem 1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:100,boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("button",{onClick:()=>w(!v),style:{background:"none",border:"none",padding:"0.5rem",cursor:"pointer",color:r.colors.text.secondary,borderRadius:"0.5rem",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem"},title:v?"Expand Sidebar":"Collapse Sidebar",children:v?"▶":"◀"}),s.jsxs("div",{children:[s.jsxs("h1",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:r.colors.text.primary},children:[o==="overview"&&"Welcome",o==="wallets"&&"Wallets",o==="tokens"&&"Tokens",o==="vaults"&&"Group Vaults",o==="recovery"&&"Account Recovery",o==="notifications"&&"Notifications",o==="payments"&&"Payments",o==="ai"&&"AI Assistant",o==="recovery"&&"Account Recovery",o==="profile"&&"Profile"]}),s.jsxs("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.875rem",color:r.colors.text.secondary},children:[o==="overview"&&"Your wallet overview and quick actions",o==="wallets"&&"Manage your crypto wallets",o==="tokens"&&"NST token management and trading",o==="vaults"&&"Collaborative savings and investments",o==="payments"&&"Send and receive payments",o==="ai"&&"AI-powered financial assistance",o==="recovery"&&"Account recovery and security",o==="profile"&&"Profile and account settings"]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx("button",{onClick:()=>c(!l),style:{background:"none",border:"none",padding:"0.5rem",cursor:"pointer",color:r.colors.text.secondary,borderRadius:"0.5rem",transition:"all 0.2s"},title:l?"Hide Balances":"Show Balances",children:l?s.jsx(Ms,{size:20}):s.jsx(fp,{size:20})}),s.jsxs("div",{style:{position:"relative"},ref:V,children:[s.jsxs("button",{onClick:()=>b(!d),style:{background:"none",border:"none",padding:"0.5rem",cursor:"pointer",color:r.colors.text.secondary,borderRadius:"0.5rem",position:"relative",transition:"all 0.2s"},title:"Notifications",children:[s.jsx(Mc,{size:20}),xe>0&&s.jsx("span",{style:{position:"absolute",top:"2px",right:"2px",background:r.colors.error,color:r.colors.white,borderRadius:"50%",width:"16px",height:"16px",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center"},children:xe})]}),d&&s.jsx("div",{style:{position:"absolute",top:"100%",right:0,background:r.colors.white,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.75rem",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",width:"320px",maxHeight:"400px",overflow:"auto",zIndex:1e3},children:s.jsxs("div",{style:{padding:"1rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",borderBottom:`1px solid ${r.colors.border.primary}`,paddingBottom:"0.5rem"},children:[s.jsx("h4",{style:{margin:0,color:r.colors.text.primary},children:"Notifications"}),s.jsxs("span",{style:{fontSize:"0.875rem",color:r.colors.text.secondary},children:[xe," unread"]})]}),A.length===0?s.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:r.colors.text.secondary},children:[s.jsx(Mc,{size:24,style:{marginBottom:"0.5rem",opacity:.5}}),s.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:"No notifications"})]}):s.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:A.map(_=>s.jsxs("div",{style:{padding:"0.75rem",margin:"0.5rem 0",background:_.isRead?"transparent":r.colors.background.secondary,borderRadius:"0.5rem",border:`1px solid ${_.isRead?"transparent":r.colors.border.primary}`,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:oe=>{oe.target.style.background=r.colors.background.secondary},onMouseLeave:oe=>{oe.target.style.background=_.isRead?"transparent":r.colors.background.secondary},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.25rem"},children:[s.jsx("h5",{style:{margin:0,fontSize:"0.875rem",color:r.colors.text.primary,fontWeight:_.isRead?"normal":"600"},children:_.title}),s.jsx("span",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:f(_.createdAt)})]}),s.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:r.colors.text.secondary,lineHeight:"1.4"},children:_.message}),!_.isRead&&s.jsx("div",{style:{width:"8px",height:"8px",background:r.colors.primary,borderRadius:"50%",marginTop:"0.5rem"}})]},_.id))})]})})]}),s.jsx("div",{style:{width:"1px",height:"24px",background:r.colors.border.primary,margin:"0 0.25rem"}}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem 1rem",background:`linear-gradient(135deg, ${r.colors.interactive.secondary} 0%, ${r.colors.border.primary} 100%)`,borderRadius:"0.75rem",border:`1px solid ${r.colors.border.primary}`,cursor:"pointer",transition:"all 0.2s"},onClick:()=>a("profile"),onMouseEnter:_=>{_.target.style.transform="translateY(-1px)",_.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:_=>{_.target.style.transform="translateY(0)",_.target.style.boxShadow="none"},title:"View Profile",children:[s.jsx("div",{style:{width:"32px",height:"32px",background:`linear-gradient(135deg, ${r.colors.primary} 0%, ${r.colors.interactive.hover} 100%)`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.white,fontSize:"0.875rem",fontWeight:"bold"},children:((P=(E=re==null?void 0:re.username)==null?void 0:E.charAt(0))==null?void 0:P.toUpperCase())||"U"}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:r.colors.text.primary},children:(re==null?void 0:re.username)||"User"}),s.jsx("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:"View Profile"})]})]})]})]}),s.jsxs("div",{style:{flex:1,padding:"1.5rem",overflowY:"auto"},children:[o==="overview"&&s.jsxs("div",{style:{width:"100%"},children:[s.jsxs("div",{style:{background:`linear-gradient(135deg, ${r.colors.primary} 0%, ${r.colors.interactive.hover} 100%)`,borderRadius:"1rem",padding:"2rem",color:r.colors.white,marginBottom:"2rem",position:"relative",overflow:"hidden"},children:[s.jsx("div",{style:{position:"absolute",top:"-50%",right:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%)",animation:"pulse 3s ease-in-out infinite"}}),s.jsxs("div",{style:{position:"relative",zIndex:1},children:[s.jsx("h2",{style:{margin:"0 0 0.5rem 0",fontSize:"0.875rem",opacity:.9},children:"Total Balance"}),s.jsx("div",{style:{fontSize:"2.5rem",fontWeight:700,marginBottom:"1rem"},children:l?D(q.totalBalance):"••••••"}),s.jsxs("div",{style:{display:"flex",gap:"2rem",fontSize:"0.875rem"},children:[s.jsxs("div",{children:[s.jsx("span",{style:{opacity:.8},children:"Wallets:"}),s.jsx("span",{style:{marginLeft:"0.5rem",fontWeight:600},children:q.walletCount})]}),s.jsxs("div",{children:[s.jsx("span",{style:{opacity:.8},children:"Status:"}),s.jsx("span",{style:{marginLeft:"0.5rem",fontWeight:600,color:r.colors.success},children:"● Secure"})]})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[s.jsxs("button",{onClick:()=>{ae&&ae.length>0?(W(ae[0]),m(!0)):a("wallets")},style:{background:r.colors.white,border:`1px solid ${r.colors.border.secondary}`,borderRadius:"0.5rem",padding:"1rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",boxShadow:"none"},onMouseEnter:_=>{_.target.style.transform="translateY(-1px)",_.target.style.borderColor=r.colors.primary,_.target.style.boxShadow=`0 2px 8px ${r.colors.shadow.light}`},onMouseLeave:_=>{_.target.style.transform="translateY(0)",_.target.style.borderColor=r.colors.border.secondary,_.target.style.boxShadow="none"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:r.colors.success,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.white},children:s.jsx(yr,{size:16})}),s.jsx("span",{style:{fontWeight:500,color:r.colors.text.primary,fontSize:"0.8rem"},children:"Send"})]}),s.jsxs("button",{onClick:()=>{ae&&ae.length>0?(W(ae[0]),g(!0)):a("wallets")},style:{background:r.colors.white,border:`1px solid ${r.colors.border.secondary}`,borderRadius:"0.5rem",padding:"1rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",boxShadow:"none"},onMouseEnter:_=>{_.target.style.transform="translateY(-1px)",_.target.style.borderColor=r.colors.primary,_.target.style.boxShadow=`0 2px 8px ${r.colors.shadow.light}`},onMouseLeave:_=>{_.target.style.transform="translateY(0)",_.target.style.borderColor=r.colors.border.secondary,_.target.style.boxShadow="none"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:r.colors.primary,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.white},children:s.jsx(Cr,{size:16})}),s.jsx("span",{style:{fontWeight:500,color:r.colors.text.primary,fontSize:"0.8rem"},children:"Receive"})]}),s.jsxs("button",{onClick:()=>a("wallets"),style:{background:r.colors.white,border:`1px solid ${r.colors.border.secondary}`,borderRadius:"0.5rem",padding:"1rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",boxShadow:"none"},onMouseEnter:_=>{_.target.style.transform="translateY(-1px)",_.target.style.borderColor=r.colors.primary,_.target.style.boxShadow=`0 2px 8px ${r.colors.shadow.light}`},onMouseLeave:_=>{_.target.style.transform="translateY(0)",_.target.style.borderColor=r.colors.border.secondary,_.target.style.boxShadow="none"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:r.colors.warning,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.white},children:s.jsx(to,{size:16})}),s.jsx("span",{style:{fontWeight:500,color:r.colors.text.primary,fontSize:"0.8rem"},children:"Add Wallet"})]}),s.jsxs("button",{onClick:()=>a("tokens"),style:{background:r.colors.white,border:`1px solid ${r.colors.border.secondary}`,borderRadius:"0.5rem",padding:"1rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",boxShadow:"none"},onMouseEnter:_=>{_.target.style.transform="translateY(-1px)",_.target.style.borderColor=r.colors.primary,_.target.style.boxShadow=`0 2px 8px ${r.colors.shadow.light}`},onMouseLeave:_=>{_.target.style.transform="translateY(0)",_.target.style.borderColor=r.colors.border.secondary,_.target.style.boxShadow="none"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:r.colors.info,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.white},children:s.jsx(qg,{size:16})}),s.jsx("span",{style:{fontWeight:500,color:r.colors.text.primary,fontSize:"0.8rem"},children:"Tokens"})]})]}),s.jsxs("div",{style:{background:r.colors.white,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.75rem",padding:"1.5rem",marginBottom:"2rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[s.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:r.colors.text.primary},children:"Your Wallets"}),s.jsx("button",{onClick:()=>a("wallets"),style:{background:"none",border:"none",color:r.colors.primary,cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"View All"})]}),ae&&ae.length>0?s.jsxs("div",{style:{display:"grid",gap:"0.75rem"},children:[ae.slice(0,3).map(_=>{var oe;return s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:r.colors.interactive.secondary,borderRadius:"0.5rem",border:`1px solid ${r.colors.border.primary}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:_.currency==="NST"?r.colors.info:_.currency==="ICP"?r.colors.primary:r.colors.warning,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.white,fontSize:"0.75rem",fontWeight:600},children:_.currency}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:r.colors.text.primary},children:_.name}),s.jsx("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:_.currency})]})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:r.colors.text.primary},children:l?`${((oe=_.balance)==null?void 0:oe.toFixed(4))||"0.0000"}`:"••••••"}),s.jsx("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:_.isPrimary?"Primary":"Secondary"})]})]},_.id)}),ae.length>3&&s.jsxs("div",{style:{textAlign:"center",padding:"0.5rem",color:r.colors.text.secondary,fontSize:"0.75rem"},children:["+",ae.length-3," more wallets"]})]}):s.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:r.colors.text.secondary},children:[s.jsx("div",{style:{fontSize:"0.875rem",marginBottom:"0.5rem"},children:"No wallets yet"}),s.jsx("button",{onClick:()=>a("wallets"),style:{background:r.colors.primary,border:"none",padding:"0.5rem 1rem",borderRadius:"0.375rem",color:r.colors.white,cursor:"pointer",fontSize:"0.75rem",fontWeight:500},children:"Create Wallet"})]})]}),s.jsxs("div",{style:{background:r.colors.white,borderRadius:"0.75rem",padding:"1.5rem",border:`1px solid ${r.colors.border.primary}`},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[s.jsx("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:600,color:r.colors.text.primary},children:"Recent Activity"}),s.jsx("button",{style:{background:"none",border:"none",color:r.colors.primary,cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"View All"})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:q.recentActivity.map((_,oe)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderRadius:"0.5rem",background:r.colors.interactive.secondary},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:r.colors.border.primary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.secondary},children:s.jsx(_.icon,{size:16})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:500,color:r.colors.text.primary},children:_.text}),s.jsx("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:_.time})]})]},oe))})]})]}),o==="wallets"&&s.jsx("div",{style:{width:"100%"},children:s.jsx($3,{})}),o==="tokens"&&s.jsx("div",{style:{width:"100%"},children:s.jsx(V3,{})}),o==="vaults"&&s.jsx("div",{style:{width:"100%"},children:s.jsx(UT,{})}),o==="payments"&&s.jsx("div",{style:{width:"100%"},children:s.jsx(WT,{})}),o==="ai"&&s.jsx("div",{style:{width:"100%"},children:s.jsx(qT,{})}),o==="recovery"&&s.jsxs("div",{style:{width:"100%",padding:"1.5rem"},children:[s.jsxs("div",{style:{marginBottom:"2rem"},children:[s.jsx("h2",{style:{margin:"0 0 0.5rem 0",fontSize:"1.875rem",fontWeight:"600",color:r.colors.text.primary},children:"Account Recovery"}),s.jsx("p",{style:{margin:0,color:r.colors.text.secondary,fontSize:"1rem"},children:"Set up and manage your account recovery methods"})]}),o==="notifications"&&s.jsx("div",{style:{width:"100%",padding:"1.5rem"}}),s.jsxs("div",{style:{background:r.colors.white,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.75rem",padding:"1.5rem",marginBottom:"2rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[s.jsx("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:"600",color:r.colors.text.primary},children:"Recovery Methods"}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[s.jsx("button",{onClick:async()=>{try{const _=await z();M(_||[]),t({message:"Recovery methods refreshed",type:"success"})}catch(_){console.error("Error refreshing recovery methods:",_),t({message:"Failed to refresh recovery methods",type:"error"})}},style:{background:"white",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",padding:"0.75rem",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},onMouseEnter:_=>_.target.style.transform="translateY(-1px)",onMouseLeave:_=>_.target.style.transform="translateY(0)",children:s.jsx(Zt,{size:16})}),s.jsxs("button",{onClick:()=>B(!0),style:{background:`linear-gradient(135deg, ${r.colors.primary} 0%, ${r.colors.primary} 100%)`,color:r.colors.white,border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},onMouseEnter:_=>_.target.style.transform="translateY(-1px)",onMouseLeave:_=>_.target.style.transform="translateY(0)",children:[s.jsx(to,{size:16}),"Add Recovery Method"]})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:R.length>0?R.map((_,oe)=>s.jsxs("div",{style:{background:r.colors.white,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",padding:"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("div",{style:{width:"48px",height:"48px",background:L(_.methodType),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:K(_.methodType)}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:r.colors.text.primary,marginBottom:"0.25rem"},children:k(_.methodType)}),s.jsx("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:h(_)}),_.createdAt&&s.jsxs("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary,marginTop:"0.25rem"},children:["Added ",f(_.createdAt)]}),_.verifiedAt&&s.jsxs("div",{style:{fontSize:"0.75rem",color:r.colors.success,marginTop:"0.25rem"},children:["Verified ",f(_.verifiedAt)]})]}),s.jsx("div",{style:{width:"8px",height:"8px",background:_.verifiedAt?r.colors.success:r.colors.warning,borderRadius:"50%"},title:_.verifiedAt?"Verified":"Pending verification"})]},oe)):s.jsxs("div",{style:{background:r.colors.interactive.secondary,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",padding:"2rem",textAlign:"center"},children:[s.jsx("div",{style:{width:"48px",height:"48px",background:r.colors.border.primary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:r.colors.text.secondary},children:s.jsx(vt,{size:24})}),s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:r.colors.text.primary,marginBottom:"0.5rem"},children:"No Recovery Methods"}),s.jsx("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:"Add recovery methods to secure your account"})]})})]}),s.jsx("div",{style:{background:r.colors.interactive.secondary,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.75rem",padding:"1.5rem"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsx("div",{style:{width:"40px",height:"40px",background:r.colors.text.secondary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:s.jsx(vt,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{style:{margin:"0 0 0.25rem 0",fontSize:"1rem",fontWeight:"600",color:"#1e293b"},children:"Account Security"}),s.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#64748b"},children:"Add recovery methods to secure your account access"})]})]})})]}),o==="profile"&&s.jsx("div",{style:{width:"100%"},children:s.jsx(IT,{})})]})]}),y&&N&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"90%",position:"relative"},children:[s.jsx("button",{onClick:()=>m(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b"},children:s.jsx(Je,{})}),s.jsx("div",{style:{width:"60px",height:"60px",background:r.colors.warning,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",color:r.colors.warning},children:s.jsx(yr,{size:24})}),s.jsxs("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600",color:r.colors.text.primary},children:["Send ",N.currency]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:r.colors.text.primary},children:"Amount"}),s.jsx("input",{type:"number",value:Z.amount,onChange:_=>$(oe=>({...oe,amount:_.target.value})),style:{width:"100%",padding:"0.75rem",border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Enter amount"})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:r.colors.text.primary},children:"To Address"}),s.jsx("input",{type:"text",value:Z.toAddress,onChange:_=>$(oe=>({...oe,toAddress:_.target.value})),style:{width:"100%",padding:"0.75rem",border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Enter recipient address"})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:r.colors.text.primary},children:"Description (Optional)"}),s.jsx("input",{type:"text",value:Z.description,onChange:_=>$(oe=>({...oe,description:_.target.value})),style:{width:"100%",padding:"0.75rem",border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Transaction description"})]}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[s.jsx("button",{onClick:()=>m(!1),style:{flex:1,padding:"0.75rem",border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",background:"white",color:r.colors.text.primary,cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Cancel"}),s.jsx("button",{onClick:U,style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"0.5rem",background:r.colors.primary,color:"white",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Send"})]})]})}),u&&N&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"90%",position:"relative"},children:[s.jsx("button",{onClick:()=>g(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b"},children:s.jsx(Je,{})}),s.jsx("div",{style:{width:"60px",height:"60px",background:r.colors.success,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",color:r.colors.success},children:s.jsx(Cr,{size:24})}),s.jsxs("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600",color:r.colors.text.primary},children:["Receive ",N.currency]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:r.colors.text.primary},children:"Your Address"}),s.jsx("div",{style:{padding:"0.75rem",background:r.colors.interactive.secondary,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.75rem",fontFamily:"monospace",color:r.colors.text.primary,wordBreak:"break-all",maxHeight:"80px",overflow:"auto"},children:N.address||"No address available"})]}),s.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:r.colors.success,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",color:r.colors.success,fontSize:"0.875rem",fontWeight:"500"},children:[s.jsx(Cr,{size:16}),s.jsxs("span",{children:["Share this address to receive ",N.currency]})]}),s.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:r.colors.text.secondary,lineHeight:"1.4"},children:["Anyone can send ",N.currency," to this address. The funds will appear in your wallet once the transaction is confirmed on the network."]})]}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[s.jsxs("button",{onClick:()=>H(N.address||""),style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"0.5rem",background:r.colors.success,color:"white",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx(Vo,{size:16}),"Copy Address"]}),s.jsx("button",{onClick:()=>g(!1),style:{flex:1,padding:"0.75rem",border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",background:"white",color:r.colors.text.primary,cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Close"})]})]})}),C&&s.jsx(YT,{isOpen:C,onClose:()=>B(!1),onRecoveryComplete:async()=>{B(!1),uu("add","recovery",t);try{const _=await z();M(_||[])}catch(_){console.error("Error refreshing recovery methods:",_)}},mode:"setup"}),s.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        @keyframes pulse {
          0%, 100% { opacity: 0.5; }
          50% { opacity: 0.8; }
        }
      `})]})}class XT extends pn.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?s.jsxs("div",{style:{padding:"20px",textAlign:"center",fontFamily:"Arial, sans-serif",backgroundColor:"#f8f9fa",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[s.jsx("h2",{style:{color:"#dc3545",marginBottom:"20px"},children:"Something went wrong"}),s.jsx("p",{style:{color:"#6c757d",marginBottom:"20px"},children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),s.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px"},children:"Refresh Page"}),!1]}):this.props.children}}function Qg({isOpen:e,onClose:t}){const[r,n]=T.useState("mobile");if(!e)return null;const i=[{id:"mobile",label:"Mobile",icon:Gs},{id:"desktop",label:"Desktop",icon:E3},{id:"tablet",label:"Tablet",icon:B3}],o={mobile:{chrome:["Open Chrome browser","Tap the menu (⋮) in the top right",'Tap "Add to Home screen"','Tap "Add" to confirm'],safari:["Open Safari browser","Tap the share button (□↑)",'Tap "Add to Home Screen"','Tap "Add" to confirm'],firefox:["Open Firefox browser","Tap the menu (☰) in the top right",'Tap "Add to Home Screen"','Tap "Add" to confirm']},desktop:{chrome:["Open Chrome browser","Click the install icon (⬇️) in the address bar",'Click "Install" in the popup','Click "Install" to confirm'],firefox:["Open Firefox browser","Click the menu (☰) in the top right",'Click "Install App"','Click "Install" to confirm'],edge:["Open Edge browser","Click the menu (⋯) in the top right",'Click "Apps" → "Install this site as an app"','Click "Install" to confirm']},tablet:{chrome:["Open Chrome browser","Tap the menu (⋮) in the top right",'Tap "Add to Home screen"','Tap "Add" to confirm'],safari:["Open Safari browser","Tap the share button (□↑)",'Tap "Add to Home Screen"','Tap "Add" to confirm']}},a=()=>{if(!i.find(d=>d.id===r))return[];const c=navigator.userAgent.includes("Chrome")?"chrome":navigator.userAgent.includes("Firefox")?"firefox":navigator.userAgent.includes("Safari")?"safari":navigator.userAgent.includes("Edge")?"edge":"chrome";return o[r][c]||o[r].chrome||[]};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(4px)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},onClick:t,children:s.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto",position:"relative"},onClick:l=>l.stopPropagation(),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[s.jsx("h2",{style:{margin:0,color:"#075B5E",fontSize:"1.5rem",fontWeight:600},children:"Install Nesto App"}),s.jsx("button",{onClick:t,style:{background:"none",border:"none",color:"#6B7280",cursor:"pointer",padding:"0.5rem",borderRadius:"4px",fontSize:"1.25rem"},onMouseEnter:l=>l.target.style.background="#F3F4F6",onMouseLeave:l=>l.target.style.background="none",children:s.jsx(Je,{size:20})})]}),s.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:"1px solid #E5E7EB",paddingBottom:"1rem"},children:i.map(l=>{const c=l.icon;return s.jsxs("button",{onClick:()=>n(l.id),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1rem",background:r===l.id?"#075B5E":"transparent",color:r===l.id?"white":"#6B7280",border:"1px solid",borderColor:r===l.id?"#075B5E":"#E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500,transition:"all 0.2s ease"},onMouseEnter:d=>{r!==l.id&&(d.target.style.background="#F3F4F6")},onMouseLeave:d=>{r!==l.id&&(d.target.style.background="transparent")},children:[s.jsx(c,{size:16}),l.label]},l.id)})}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#374151",fontSize:"1.125rem"},children:"Installation Steps"}),s.jsx("ol",{style:{margin:0,paddingLeft:"1.5rem",color:"#4B5563",lineHeight:1.6},children:a().map((l,c)=>s.jsx("li",{style:{marginBottom:"0.5rem"},children:l},c))})]}),s.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#F0F9FF",border:"1px solid #BFDBFE",borderRadius:"8px"},children:[s.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#075985",fontSize:"1rem"},children:"Benefits of Installing"}),s.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#075985",fontSize:"0.875rem",lineHeight:1.5},children:[s.jsx("li",{children:"Quick access from your home screen"}),s.jsx("li",{children:"Works offline for basic features"}),s.jsx("li",{children:"Native app-like experience"}),s.jsx("li",{children:"Faster loading times"}),s.jsx("li",{children:"No browser tabs needed"})]})]}),s.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center",color:"#6B7280",fontSize:"0.875rem"},children:s.jsx("p",{style:{margin:0},children:"Need help? Check your browser's help section for detailed instructions."})})]})})}function QT(){const[e,t]=T.useState(null),[r,n]=T.useState(!1),[i,o]=T.useState(!1),[a,l]=T.useState(!1);T.useEffect(()=>{window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches&&o(!0);const y=u=>{u.preventDefault(),t(u),n(!0)},m=()=>{o(!0),n(!1),console.log("PWA was installed")};return"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(u=>{console.log("SW registered: ",u)}).catch(u=>{console.log("SW registration failed: ",u)})}),window.addEventListener("beforeinstallprompt",y),window.addEventListener("appinstalled",m),()=>{window.removeEventListener("beforeinstallprompt",y),window.removeEventListener("appinstalled",m)}},[]);const c=async()=>{if(!e)return;e.prompt();const{outcome:y}=await e.userChoice;console.log(y==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),t(null),n(!1)},d=()=>{n(!1)},b=()=>{l(!0)};return i||!r?s.jsx(s.Fragment,{children:s.jsx(Qg,{isOpen:a,onClose:()=>l(!1)})}):s.jsxs(s.Fragment,{children:[s.jsx(Qg,{isOpen:a,onClose:()=>l(!1)}),s.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"20px",right:"20px",background:"linear-gradient(135deg, #075B5E 0%, #1C352D 100%)",color:"white",padding:"1rem",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("h4",{style:{margin:"0 0 0.25rem 0",fontSize:"1rem",fontWeight:600},children:"Install Nesto"}),s.jsx("p",{style:{margin:0,fontSize:"0.875rem",opacity:.9},children:"Get the full app experience with offline access and quick launch"})]}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsxs("button",{onClick:c,style:{background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)",color:"white",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease"},onMouseEnter:y=>y.target.style.background="rgba(255,255,255,0.3)",onMouseLeave:y=>y.target.style.background="rgba(255,255,255,0.2)",children:[s.jsx(Cr,{size:16}),"Install"]}),s.jsx("button",{onClick:b,style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",color:"white",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:y=>y.target.style.background="rgba(255,255,255,0.2)",onMouseLeave:y=>y.target.style.background="rgba(255,255,255,0.1)",title:"Installation Guide",children:s.jsx(L2,{size:16})}),s.jsx("button",{onClick:d,style:{background:"none",border:"none",color:"rgba(255,255,255,0.7)",cursor:"pointer",padding:"0.5rem",borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:y=>y.target.style.background="rgba(255,255,255,0.1)",onMouseLeave:y=>y.target.style.background="none",title:"Dismiss",children:s.jsx(Je,{size:16})})]})]})]})}function JT(){const[e,t]=T.useState(!1),[r,n]=T.useState(!1),[i,o]=T.useState(null),[a,l]=T.useState(!1);T.useEffect(()=>{const b=()=>{window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches&&t(!0)},y=u=>{u.preventDefault(),o(u),n(!0),l(!0)},m=()=>{t(!0),n(!1),l(!0),setTimeout(()=>l(!1),3e3)};return b(),window.addEventListener("beforeinstallprompt",y),window.addEventListener("appinstalled",m),()=>{window.removeEventListener("beforeinstallprompt",y),window.removeEventListener("appinstalled",m)}},[]);const c=async()=>{if(!i)return;i.prompt();const{outcome:b}=await i.userChoice;console.log(b==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),o(null),n(!1)},d=()=>{l(!1)};return a?s.jsxs("div",{style:{position:"fixed",top:"20px",right:"20px",background:e?"#F0FDF4":"#FEF3C7",border:`1px solid ${e?"#BBF7D0":"#FDE68A"}`,color:e?"#166534":"#92400E",padding:"0.75rem 1rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",zIndex:9999,display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:500,maxWidth:"300px"},children:[e?s.jsxs(s.Fragment,{children:[s.jsx(Ft,{size:16}),s.jsx("span",{children:"Nesto is installed!"})]}):r?s.jsxs(s.Fragment,{children:[s.jsx(Cr,{size:16}),s.jsx("span",{children:"Install Nesto for better experience"}),s.jsx("button",{onClick:c,style:{background:"#075B5E",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",cursor:"pointer",marginLeft:"auto"},children:"Install"})]}):s.jsxs(s.Fragment,{children:[s.jsx(wl,{size:16}),s.jsx("span",{children:"PWA features available"})]}),s.jsx("button",{onClick:d,style:{background:"none",border:"none",color:"inherit",cursor:"pointer",padding:"0.25rem",marginLeft:"auto",opacity:.7},onMouseEnter:b=>b.target.style.opacity="1",onMouseLeave:b=>b.target.style.opacity="0.7",children:s.jsx(Je,{size:14})})]}):null}const LT=()=>{var m,u,g,N,W,v,w,j,F,C,B,R;const{theme:e}=io(),[t,r]=T.useState(null),[n,i]=T.useState(!1),[o,a]=T.useState(!1),[l,c]=T.useState(!1),d={primary:((m=e==null?void 0:e.colors)==null?void 0:m.primary)||"#113F67",background:((g=(u=e==null?void 0:e.colors)==null?void 0:u.background)==null?void 0:g.primary)||"#FFFFFF",surface:((N=e==null?void 0:e.colors)==null?void 0:N.surface)||"#F9FAFB",border:((v=(W=e==null?void 0:e.colors)==null?void 0:W.border)==null?void 0:v.primary)||"#E5E7EB",text:{primary:((j=(w=e==null?void 0:e.colors)==null?void 0:w.text)==null?void 0:j.primary)||"#1F2937",secondary:((C=(F=e==null?void 0:e.colors)==null?void 0:F.text)==null?void 0:C.secondary)||"#6B7280",muted:((R=(B=e==null?void 0:e.colors)==null?void 0:B.text)==null?void 0:R.muted)||"#9CA3AF"}};T.useEffect(()=>{if((()=>{const A=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;return c(A),A})()||localStorage.getItem("pwa-install-dismissed"))return;const $=A=>{A.preventDefault(),r(A),i(!0)},q=()=>{c(!0),i(!1),r(null),localStorage.removeItem("pwa-install-dismissed"),console.log("Nesto PWA installed successfully!")};window.addEventListener("beforeinstallprompt",$),window.addEventListener("appinstalled",q);const X=setTimeout(()=>{!n&&!t&&!l&&i(!0)},5e3);return()=>{window.removeEventListener("beforeinstallprompt",$),window.removeEventListener("appinstalled",q),clearTimeout(X)}},[n,t,l]);const b=async()=>{if(t){a(!0);try{t.prompt();const{outcome:M}=await t.userChoice;console.log(M==="accepted"?"User accepted the install prompt":"User dismissed the install prompt")}catch(M){console.error("Error during install:",M)}finally{a(!1),r(null),i(!1)}}else{const M=/iPad|iPhone|iPod/.test(navigator.userAgent),Z=/Android/.test(navigator.userAgent);alert(M?`To install Nisto on iOS:

1. Tap the Share button (square with arrow)
2. Tap "Add to Home Screen"
3. Tap "Add"

This will give you quick access to Nisto from your home screen!`:Z?`To install Nisto on Android:

1. Tap the menu button (three dots)
2. Tap "Add to Home screen"
3. Tap "Add"

This will give you quick access to Nisto from your home screen!`:`To install Nisto on Desktop:

1. Click the install icon (⬇️) in your browser's address bar
2. Or use Ctrl+Shift+I to open developer tools and look for the install option

This will give you quick access to Nisto from your desktop!`),i(!1),localStorage.setItem("pwa-install-dismissed","true")}},y=()=>{i(!1),r(null),localStorage.setItem("pwa-install-dismissed","true")};return!n||l?null:s.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"20px",right:"20px",maxWidth:"400px",margin:"0 auto",background:`linear-gradient(135deg, ${d.primary} 0%, ${d.primary}dd 100%)`,color:"white",padding:"1.5rem",borderRadius:"16px",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",zIndex:1e4,backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[s.jsx("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"12px",padding:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Cr,{size:24})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("h4",{style:{margin:"0 0 0.5rem 0",fontSize:"1.125rem",fontWeight:600,lineHeight:1.3},children:"Install Nisto"}),s.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:"0.875rem",opacity:.9,lineHeight:1.4},children:"Get the full app experience with offline access, quick launch, and native performance"}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[s.jsx("button",{onClick:b,disabled:o,style:{background:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.3)",padding:"0.75rem 1.5rem",borderRadius:"8px",fontSize:"0.875rem",fontWeight:600,cursor:o?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease",opacity:o?.7:1},onMouseEnter:M=>{o||(M.target.style.background="rgba(255,255,255,0.3)")},onMouseLeave:M=>{M.target.style.background="rgba(255,255,255,0.2)"},children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255,255,255,0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Installing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Cr,{size:16}),"Install Now"]})}),s.jsx("button",{onClick:y,style:{background:"transparent",color:"rgba(255,255,255,0.8)",border:"1px solid rgba(255,255,255,0.2)",padding:"0.75rem 1rem",borderRadius:"8px",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:M=>{M.target.style.background="rgba(255,255,255,0.1)",M.target.style.color="white"},onMouseLeave:M=>{M.target.style.background="transparent",M.target.style.color="rgba(255,255,255,0.8)"},children:"Maybe Later"})]})]}),s.jsx("button",{onClick:y,style:{background:"rgba(255,255,255,0.1)",border:"none",color:"rgba(255,255,255,0.8)",borderRadius:"8px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:M=>{M.target.style.background="rgba(255,255,255,0.2)",M.target.style.color="white"},onMouseLeave:M=>{M.target.style.background="rgba(255,255,255,0.1)",M.target.style.color="rgba(255,255,255,0.8)"},children:s.jsx(Je,{size:16})})]}),s.jsx("style",{jsx:!0,children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})};function DT({children:e}){const t=Fr();return T.useEffect(()=>(window.notificationContext=t,()=>{delete window.notificationContext}),[t]),e}const Jg=e=>{if(e.error&&e.error.message&&e.error.message.includes("serialize"))return console.warn("Serialization error caught and handled:",e.error),e.preventDefault(),!1},Lg=e=>{if(e.reason&&e.reason.message&&e.reason.message.includes("serialize"))return console.warn("Unhandled promise rejection (serialization) caught and handled:",e.reason),e.preventDefault(),!1};function eE(){return pn.useEffect(()=>(window.addEventListener("error",Jg),window.addEventListener("unhandledrejection",Lg),()=>{window.removeEventListener("error",Jg),window.removeEventListener("unhandledrejection",Lg)}),[]),s.jsx(XT,{children:s.jsx(s3,{children:s.jsx(d3,{children:s.jsx(o3,{children:s.jsx(DT,{children:s.jsx(Tk,{children:s.jsxs("div",{className:"App",children:[s.jsxs(tk,{children:[s.jsx(ph,{path:"/",element:s.jsx(P3,{})}),s.jsx(ph,{path:"/dashboard",element:s.jsx(ZT,{})})]}),s.jsx(QT,{}),s.jsx(JT,{}),s.jsx(LT,{})]})})})})})})})}var sw={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(yi,function(){return function(r){function n(o){if(i[o])return i[o].exports;var a=i[o]={exports:{},id:o,loaded:!1};return r[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var i={};return n.m=r,n.c=i,n.p="dist/",n(0)}([function(r,n,i){function o(O){return O&&O.__esModule?O:{default:O}}var a=Object.assign||function(O){for(var V=1;V<arguments.length;V++){var Y=arguments[V];for(var re in Y)Object.prototype.hasOwnProperty.call(Y,re)&&(O[re]=Y[re])}return O},l=i(1),c=(o(l),i(6)),d=o(c),b=i(7),y=o(b),m=i(8),u=o(m),g=i(9),N=o(g),W=i(10),v=o(W),w=i(11),j=o(w),F=i(14),C=o(F),B=[],R=!1,M={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},Z=function(){var O=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(O&&(R=!0),R)return B=(0,j.default)(B,M),(0,v.default)(B,M.once),B},$=function(){B=(0,C.default)(),Z()},q=function(){B.forEach(function(O,V){O.node.removeAttribute("data-aos"),O.node.removeAttribute("data-aos-easing"),O.node.removeAttribute("data-aos-duration"),O.node.removeAttribute("data-aos-delay")})},X=function(O){return O===!0||O==="mobile"&&N.default.mobile()||O==="phone"&&N.default.phone()||O==="tablet"&&N.default.tablet()||typeof O=="function"&&O()===!0},A=function(O){M=a(M,O),B=(0,C.default)();var V=document.all&&!window.atob;return X(M.disable)||V?q():(M.disableMutationObserver||u.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),M.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",M.easing),document.querySelector("body").setAttribute("data-aos-duration",M.duration),document.querySelector("body").setAttribute("data-aos-delay",M.delay),M.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?Z(!0):M.startEvent==="load"?window.addEventListener(M.startEvent,function(){Z(!0)}):document.addEventListener(M.startEvent,function(){Z(!0)}),window.addEventListener("resize",(0,y.default)(Z,M.debounceDelay,!0)),window.addEventListener("orientationchange",(0,y.default)(Z,M.debounceDelay,!0)),window.addEventListener("scroll",(0,d.default)(function(){(0,v.default)(B,M.once)},M.throttleDelay)),M.disableMutationObserver||u.default.ready("[data-aos]",$),B)};r.exports={init:A,refresh:Z,refreshHard:$}},function(r,n){},,,,,function(r,n){(function(i){function o(X,A,O){function V(K){var L=z,k=Te;return z=Te=void 0,U=K,xe=X.apply(k,L)}function Y(K){return U=K,me=setTimeout(ee,A),H?V(K):xe}function re(K){var L=K-ge,k=K-U,h=A-L;return J?$(h,be-k):h}function Q(K){var L=K-ge,k=K-U;return ge===void 0||L>=A||L<0||J&&k>=be}function ee(){var K=q();return Q(K)?de(K):void(me=setTimeout(ee,re(K)))}function de(K){return me=void 0,D&&z?V(K):(z=Te=void 0,xe)}function ue(){me!==void 0&&clearTimeout(me),U=0,z=ge=Te=me=void 0}function ae(){return me===void 0?xe:de(q())}function he(){var K=q(),L=Q(K);if(z=arguments,Te=this,ge=K,L){if(me===void 0)return Y(ge);if(J)return me=setTimeout(ee,A),V(ge)}return me===void 0&&(me=setTimeout(ee,A)),xe}var z,Te,be,xe,me,ge,U=0,H=!1,J=!1,D=!0;if(typeof X!="function")throw new TypeError(m);return A=b(A)||0,l(O)&&(H=!!O.leading,J="maxWait"in O,be=J?Z(b(O.maxWait)||0,A):be,D="trailing"in O?!!O.trailing:D),he.cancel=ue,he.flush=ae,he}function a(X,A,O){var V=!0,Y=!0;if(typeof X!="function")throw new TypeError(m);return l(O)&&(V="leading"in O?!!O.leading:V,Y="trailing"in O?!!O.trailing:Y),o(X,A,{leading:V,maxWait:A,trailing:Y})}function l(X){var A=typeof X>"u"?"undefined":y(X);return!!X&&(A=="object"||A=="function")}function c(X){return!!X&&(typeof X>"u"?"undefined":y(X))=="object"}function d(X){return(typeof X>"u"?"undefined":y(X))=="symbol"||c(X)&&M.call(X)==g}function b(X){if(typeof X=="number")return X;if(d(X))return u;if(l(X)){var A=typeof X.valueOf=="function"?X.valueOf():X;X=l(A)?A+"":A}if(typeof X!="string")return X===0?X:+X;X=X.replace(N,"");var O=v.test(X);return O||w.test(X)?j(X.slice(2),O?2:8):W.test(X)?u:+X}var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},m="Expected a function",u=NaN,g="[object Symbol]",N=/^\s+|\s+$/g,W=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,w=/^0o[0-7]+$/i,j=parseInt,F=(typeof i>"u"?"undefined":y(i))=="object"&&i&&i.Object===Object&&i,C=(typeof self>"u"?"undefined":y(self))=="object"&&self&&self.Object===Object&&self,B=F||C||Function("return this")(),R=Object.prototype,M=R.toString,Z=Math.max,$=Math.min,q=function(){return B.Date.now()};r.exports=a}).call(n,function(){return this}())},function(r,n){(function(i){function o(q,X,A){function O(D){var K=he,L=z;return he=z=void 0,ge=D,be=q.apply(L,K)}function V(D){return ge=D,xe=setTimeout(Q,X),U?O(D):be}function Y(D){var K=D-me,L=D-ge,k=X-K;return H?Z(k,Te-L):k}function re(D){var K=D-me,L=D-ge;return me===void 0||K>=X||K<0||H&&L>=Te}function Q(){var D=$();return re(D)?ee(D):void(xe=setTimeout(Q,Y(D)))}function ee(D){return xe=void 0,J&&he?O(D):(he=z=void 0,be)}function de(){xe!==void 0&&clearTimeout(xe),ge=0,he=me=z=xe=void 0}function ue(){return xe===void 0?be:ee($())}function ae(){var D=$(),K=re(D);if(he=arguments,z=this,me=D,K){if(xe===void 0)return V(me);if(H)return xe=setTimeout(Q,X),O(me)}return xe===void 0&&(xe=setTimeout(Q,X)),be}var he,z,Te,be,xe,me,ge=0,U=!1,H=!1,J=!0;if(typeof q!="function")throw new TypeError(y);return X=d(X)||0,a(A)&&(U=!!A.leading,H="maxWait"in A,Te=H?M(d(A.maxWait)||0,X):Te,J="trailing"in A?!!A.trailing:J),ae.cancel=de,ae.flush=ue,ae}function a(q){var X=typeof q>"u"?"undefined":b(q);return!!q&&(X=="object"||X=="function")}function l(q){return!!q&&(typeof q>"u"?"undefined":b(q))=="object"}function c(q){return(typeof q>"u"?"undefined":b(q))=="symbol"||l(q)&&R.call(q)==u}function d(q){if(typeof q=="number")return q;if(c(q))return m;if(a(q)){var X=typeof q.valueOf=="function"?q.valueOf():q;q=a(X)?X+"":X}if(typeof q!="string")return q===0?q:+q;q=q.replace(g,"");var A=W.test(q);return A||v.test(q)?w(q.slice(2),A?2:8):N.test(q)?m:+q}var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},y="Expected a function",m=NaN,u="[object Symbol]",g=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,v=/^0o[0-7]+$/i,w=parseInt,j=(typeof i>"u"?"undefined":b(i))=="object"&&i&&i.Object===Object&&i,F=(typeof self>"u"?"undefined":b(self))=="object"&&self&&self.Object===Object&&self,C=j||F||Function("return this")(),B=Object.prototype,R=B.toString,M=Math.max,Z=Math.min,$=function(){return C.Date.now()};r.exports=o}).call(n,function(){return this}())},function(r,n){function i(b){var y=void 0,m=void 0;for(y=0;y<b.length;y+=1)if(m=b[y],m.dataset&&m.dataset.aos||m.children&&i(m.children))return!0;return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!o()}function l(b,y){var m=window.document,u=o(),g=new u(c);d=y,g.observe(m.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function c(b){b&&b.forEach(function(y){var m=Array.prototype.slice.call(y.addedNodes),u=Array.prototype.slice.call(y.removedNodes),g=m.concat(u);if(i(g))return d()})}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){};n.default={isSupported:a,ready:l}},function(r,n){function i(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(u,g){for(var N=0;N<g.length;N++){var W=g[N];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(u,W.key,W)}}return function(u,g,N){return g&&m(u.prototype,g),N&&m(u,N),u}}(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,d=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,b=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,y=function(){function m(){i(this,m)}return a(m,[{key:"phone",value:function(){var u=o();return!(!l.test(u)&&!c.test(u.substr(0,4)))}},{key:"mobile",value:function(){var u=o();return!(!d.test(u)&&!b.test(u.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),m}();n.default=new y},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(a,l,c){var d=a.node.getAttribute("data-aos-once");l>a.position?a.node.classList.add("aos-animate"):typeof d<"u"&&(d==="false"||!c&&d!=="true")&&a.node.classList.remove("aos-animate")},o=function(a,l){var c=window.pageYOffset,d=window.innerHeight;a.forEach(function(b,y){i(b,d+c,l)})};n.default=o},function(r,n,i){function o(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),l=o(a),c=function(d,b){return d.forEach(function(y,m){y.node.classList.add("aos-init"),y.position=(0,l.default)(y.node,b.offset)}),d};n.default=c},function(r,n,i){function o(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(13),l=o(a),c=function(d,b){var y=0,m=0,u=window.innerHeight,g={offset:d.getAttribute("data-aos-offset"),anchor:d.getAttribute("data-aos-anchor"),anchorPlacement:d.getAttribute("data-aos-anchor-placement")};switch(g.offset&&!isNaN(g.offset)&&(m=parseInt(g.offset)),g.anchor&&document.querySelectorAll(g.anchor)&&(d=document.querySelectorAll(g.anchor)[0]),y=(0,l.default)(d).top,g.anchorPlacement){case"top-bottom":break;case"center-bottom":y+=d.offsetHeight/2;break;case"bottom-bottom":y+=d.offsetHeight;break;case"top-center":y+=u/2;break;case"bottom-center":y+=u/2+d.offsetHeight;break;case"center-center":y+=u/2+d.offsetHeight/2;break;case"top-top":y+=u;break;case"bottom-top":y+=d.offsetHeight+u;break;case"center-top":y+=d.offsetHeight/2+u}return g.anchorPlacement||g.offset||isNaN(b)||(m=b),y+m};n.default=c},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(o){for(var a=0,l=0;o&&!isNaN(o.offsetLeft)&&!isNaN(o.offsetTop);)a+=o.offsetLeft-(o.tagName!="BODY"?o.scrollLeft:0),l+=o.offsetTop-(o.tagName!="BODY"?o.scrollTop:0),o=o.offsetParent;return{top:l,left:a}};n.default=i},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(o){return o=o||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(o,function(a){return{node:a}})};n.default=i}])})})(sw);var tE=sw.exports;const rE=Ih(tE);typeof global>"u"&&(window.global=window);const nE=document.getElementById("root"),oE=ux(nE);function iE(){return T.useEffect(()=>{rE.init({duration:800,once:!0})},[]),s.jsx(eE,{})}oE.render(s.jsx(iE,{}));
