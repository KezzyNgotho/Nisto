(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function a0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ig={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=Symbol.for("react.element"),vE=Symbol.for("react.portal"),wE=Symbol.for("react.fragment"),EE=Symbol.for("react.strict_mode"),bE=Symbol.for("react.profiler"),xE=Symbol.for("react.provider"),_E=Symbol.for("react.context"),SE=Symbol.for("react.forward_ref"),NE=Symbol.for("react.suspense"),kE=Symbol.for("react.memo"),TE=Symbol.for("react.lazy"),Om=Symbol.iterator;function AE(e){return e===null||typeof e!="object"?null:(e=Om&&e[Om]||e["@@iterator"],typeof e=="function"?e:null)}var og={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sg=Object.assign,lg={};function Li(e,t,r){this.props=e,this.context=t,this.refs=lg,this.updater=r||og}Li.prototype.isReactComponent={};Li.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Li.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cg(){}cg.prototype=Li.prototype;function i0(e,t,r){this.props=e,this.context=t,this.refs=lg,this.updater=r||og}var o0=i0.prototype=new cg;o0.constructor=i0;sg(o0,Li.prototype);o0.isPureReactComponent=!0;var Mm=Array.isArray,ug=Object.prototype.hasOwnProperty,s0={current:null},dg={key:!0,ref:!0,__self:!0,__source:!0};function fg(e,t,r){var n,a={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)ug.call(t,n)&&!dg.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:gs,type:e,key:o,ref:s,props:a,_owner:s0.current}}function CE(e,t){return{$$typeof:gs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function l0(e){return typeof e=="object"&&e!==null&&e.$$typeof===gs}function BE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Um=/\/+/g;function Mu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BE(""+e.key):t.toString(36)}function fl(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case gs:case vE:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Mu(s,0):n,Mm(a)?(r="",e!=null&&(r=e.replace(Um,"$&/")+"/"),fl(a,t,r,"",function(u){return u})):a!=null&&(l0(a)&&(a=CE(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(Um,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",Mm(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Mu(o,l);s+=fl(o,t,r,c,a)}else if(c=AE(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Mu(o,l++),s+=fl(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function zs(e,t,r){if(e==null)return e;var n=[],a=0;return fl(e,n,"","",function(o){return t.call(r,o,a++)}),n}function RE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},ml={transition:null},FE={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:ml,ReactCurrentOwner:s0};function mg(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:zs,forEach:function(e,t,r){zs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zs(e,function(){t++}),t},toArray:function(e){return zs(e,function(t){return t})||[]},only:function(e){if(!l0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ze.Component=Li;ze.Fragment=wE;ze.Profiler=bE;ze.PureComponent=i0;ze.StrictMode=EE;ze.Suspense=NE;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FE;ze.act=mg;ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=sg({},e.props),a=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=s0.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ug.call(t,c)&&!dg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:gs,type:e.type,key:a,ref:o,props:n,_owner:s}};ze.createContext=function(e){return e={$$typeof:_E,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xE,_context:e},e.Consumer=e};ze.createElement=fg;ze.createFactory=function(e){var t=fg.bind(null,e);return t.type=e,t};ze.createRef=function(){return{current:null}};ze.forwardRef=function(e){return{$$typeof:SE,render:e}};ze.isValidElement=l0;ze.lazy=function(e){return{$$typeof:TE,_payload:{_status:-1,_result:e},_init:RE}};ze.memo=function(e,t){return{$$typeof:kE,type:e,compare:t===void 0?null:t}};ze.startTransition=function(e){var t=ml.transition;ml.transition={};try{e()}finally{ml.transition=t}};ze.unstable_act=mg;ze.useCallback=function(e,t){return Jt.current.useCallback(e,t)};ze.useContext=function(e){return Jt.current.useContext(e)};ze.useDebugValue=function(){};ze.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};ze.useEffect=function(e,t){return Jt.current.useEffect(e,t)};ze.useId=function(){return Jt.current.useId()};ze.useImperativeHandle=function(e,t,r){return Jt.current.useImperativeHandle(e,t,r)};ze.useInsertionEffect=function(e,t){return Jt.current.useInsertionEffect(e,t)};ze.useLayoutEffect=function(e,t){return Jt.current.useLayoutEffect(e,t)};ze.useMemo=function(e,t){return Jt.current.useMemo(e,t)};ze.useReducer=function(e,t,r){return Jt.current.useReducer(e,t,r)};ze.useRef=function(e){return Jt.current.useRef(e)};ze.useState=function(e){return Jt.current.useState(e)};ze.useSyncExternalStore=function(e,t,r){return Jt.current.useSyncExternalStore(e,t,r)};ze.useTransition=function(){return Jt.current.useTransition()};ze.version="18.3.1";ig.exports=ze;var M=ig.exports;const i=a0(M);var pg={exports:{}},fr={},hg={exports:{}},gg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,ae){var fe=Q.length;Q.push(ae);e:for(;0<fe;){var le=fe-1>>>1,de=Q[le];if(0<a(de,ae))Q[le]=ae,Q[fe]=de,fe=le;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ae=Q[0],fe=Q.pop();if(fe!==ae){Q[0]=fe;e:for(var le=0,de=Q.length,_e=de>>>1;le<_e;){var T=2*(le+1)-1,he=Q[T],we=T+1,ce=Q[we];if(0>a(he,fe))we<de&&0>a(ce,he)?(Q[le]=ce,Q[we]=fe,le=we):(Q[le]=he,Q[T]=fe,le=T);else if(we<de&&0>a(ce,fe))Q[le]=ce,Q[we]=fe,le=we;else break e}}return ae}function a(Q,ae){var fe=Q.sortIndex-ae.sortIndex;return fe!==0?fe:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,g=null,f=3,p=!1,h=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(Q){for(var ae=r(u);ae!==null;){if(ae.callback===null)n(u);else if(ae.startTime<=Q)n(u),ae.sortIndex=ae.expirationTime,t(c,ae);else break;ae=r(u)}}function U(Q){if(k=!1,x(Q),!h)if(r(c)!==null)h=!0,D(C);else{var ae=r(u);ae!==null&&ne(U,ae.startTime-Q)}}function C(Q,ae){h=!1,k&&(k=!1,_(P),P=-1),p=!0;var fe=f;try{for(x(ae),g=r(c);g!==null&&(!(g.expirationTime>ae)||Q&&!H());){var le=g.callback;if(typeof le=="function"){g.callback=null,f=g.priorityLevel;var de=le(g.expirationTime<=ae);ae=e.unstable_now(),typeof de=="function"?g.callback=de:g===r(c)&&n(c),x(ae)}else n(c);g=r(c)}if(g!==null)var _e=!0;else{var T=r(u);T!==null&&ne(U,T.startTime-ae),_e=!1}return _e}finally{g=null,f=fe,p=!1}}var W=!1,$=null,P=-1,X=5,z=-1;function H(){return!(e.unstable_now()-z<X)}function Y(){if($!==null){var Q=e.unstable_now();z=Q;var ae=!0;try{ae=$(!0,Q)}finally{ae?N():(W=!1,$=null)}}else W=!1}var N;if(typeof E=="function")N=function(){E(Y)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,G=O.port2;O.port1.onmessage=Y,N=function(){G.postMessage(null)}}else N=function(){B(Y,0)};function D(Q){$=Q,W||(W=!0,N())}function ne(Q,ae){P=B(function(){Q(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,D(C))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Q){switch(f){case 1:case 2:case 3:var ae=3;break;default:ae=f}var fe=f;f=ae;try{return Q()}finally{f=fe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=f;f=Q;try{return ae()}finally{f=fe}},e.unstable_scheduleCallback=function(Q,ae,fe){var le=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?le+fe:le):fe=le,Q){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=fe+de,Q={id:d++,callback:ae,priorityLevel:Q,startTime:fe,expirationTime:de,sortIndex:-1},fe>le?(Q.sortIndex=fe,t(u,Q),r(c)===null&&Q===r(u)&&(k?(_(P),P=-1):k=!0,ne(U,fe-le))):(Q.sortIndex=de,t(c,Q),h||p||(h=!0,D(C))),Q},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(Q){var ae=f;return function(){var fe=f;f=ae;try{return Q.apply(this,arguments)}finally{f=fe}}}})(gg);hg.exports=gg;var PE=hg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE=M,dr=PE;function ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yg=new Set,Ho={};function Za(e,t){$i(e,t),$i(e+"Capture",t)}function $i(e,t){for(Ho[e]=t,e=0;e<t.length;e++)yg.add(t[e])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zd=Object.prototype.hasOwnProperty,ME=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zm={},Vm={};function UE(e){return zd.call(Vm,e)?!0:zd.call(zm,e)?!1:ME.test(e)?Vm[e]=!0:(zm[e]=!0,!1)}function zE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VE(e,t,r,n){if(t===null||typeof t>"u"||zE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,r,n,a,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pt[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pt[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pt[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pt[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pt[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pt[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pt[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pt[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pt[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var c0=/[\-:]([a-z])/g;function u0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(c0,u0);Pt[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(c0,u0);Pt[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(c0,u0);Pt[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function d0(e,t,r,n){var a=Pt.hasOwnProperty(t)?Pt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VE(t,r,a,n)&&(r=null),n||a===null?UE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Cn=OE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vs=Symbol.for("react.element"),pi=Symbol.for("react.portal"),hi=Symbol.for("react.fragment"),f0=Symbol.for("react.strict_mode"),Vd=Symbol.for("react.profiler"),vg=Symbol.for("react.provider"),wg=Symbol.for("react.context"),m0=Symbol.for("react.forward_ref"),Wd=Symbol.for("react.suspense"),$d=Symbol.for("react.suspense_list"),p0=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Eg=Symbol.for("react.offscreen"),Wm=Symbol.iterator;function oo(e){return e===null||typeof e!="object"?null:(e=Wm&&e[Wm]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,Uu;function yo(e){if(Uu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Uu=t&&t[1]||""}return`
`+Uu+e}var zu=!1;function Vu(e,t){if(!e||zu)return"";zu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),s=a.length-1,l=o.length-1;1<=s&&0<=l&&a[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==o[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{zu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?yo(e):""}function WE(e){switch(e.tag){case 5:return yo(e.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return e=Vu(e.type,!1),e;case 11:return e=Vu(e.type.render,!1),e;case 1:return e=Vu(e.type,!0),e;default:return""}}function jd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hi:return"Fragment";case pi:return"Portal";case Vd:return"Profiler";case f0:return"StrictMode";case Wd:return"Suspense";case $d:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wg:return(e.displayName||"Context")+".Consumer";case vg:return(e._context.displayName||"Context")+".Provider";case m0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case p0:return t=e.displayName||null,t!==null?t:jd(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return jd(e(t))}catch{}}return null}function $E(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jd(t);case 8:return t===f0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ca(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jE(e){var t=bg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ws(e){e._valueTracker||(e._valueTracker=jE(e))}function xg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Id(e,t){var r=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $m(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ca(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _g(e,t){t=t.checked,t!=null&&d0(e,"checked",t,!1)}function Hd(e,t){_g(e,t);var r=ca(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gd(e,t.type,r):t.hasOwnProperty("defaultValue")&&Gd(e,t.type,ca(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Gd(e,t,r){(t!=="number"||Zl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vo=Array.isArray;function Fi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ca(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function qd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ye(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Im(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ye(92));if(vo(r)){if(1<r.length)throw Error(ye(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ca(r)}}function Sg(e,t){var r=ca(t.value),n=ca(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Hm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ng(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ng(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $s,kg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Go(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IE=["Webkit","ms","Moz","O"];Object.keys(Ao).forEach(function(e){IE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ao[t]=Ao[e]})});function Tg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ao.hasOwnProperty(e)&&Ao[e]?(""+t).trim():t+"px"}function Ag(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Tg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var HE=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yd(e,t){if(t){if(HE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ye(62))}}function Qd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zd=null;function h0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xd=null,Pi=null,Oi=null;function Gm(e){if(e=ws(e)){if(typeof Xd!="function")throw Error(ye(280));var t=e.stateNode;t&&(t=qc(t),Xd(e.stateNode,e.type,t))}}function Cg(e){Pi?Oi?Oi.push(e):Oi=[e]:Pi=e}function Bg(){if(Pi){var e=Pi,t=Oi;if(Oi=Pi=null,Gm(e),t)for(e=0;e<t.length;e++)Gm(t[e])}}function Rg(e,t){return e(t)}function Fg(){}var Wu=!1;function Pg(e,t,r){if(Wu)return e(t,r);Wu=!0;try{return Rg(e,t,r)}finally{Wu=!1,(Pi!==null||Oi!==null)&&(Fg(),Bg())}}function qo(e,t){var r=e.stateNode;if(r===null)return null;var n=qc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ye(231,t,typeof r));return r}var Jd=!1;if(_n)try{var so={};Object.defineProperty(so,"passive",{get:function(){Jd=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Jd=!1}function GE(e,t,r,n,a,o,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Co=!1,Xl=null,Jl=!1,Ld=null,qE={onError:function(e){Co=!0,Xl=e}};function KE(e,t,r,n,a,o,s,l,c){Co=!1,Xl=null,GE.apply(qE,arguments)}function YE(e,t,r,n,a,o,s,l,c){if(KE.apply(this,arguments),Co){if(Co){var u=Xl;Co=!1,Xl=null}else throw Error(ye(198));Jl||(Jl=!0,Ld=u)}}function Xa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Og(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qm(e){if(Xa(e)!==e)throw Error(ye(188))}function QE(e){var t=e.alternate;if(!t){if(t=Xa(e),t===null)throw Error(ye(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return qm(a),e;if(o===n)return qm(a),t;o=o.sibling}throw Error(ye(188))}if(r.return!==n.return)r=a,n=o;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=o;break}if(l===n){s=!0,n=a,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=a;break}if(l===n){s=!0,n=o,r=a;break}l=l.sibling}if(!s)throw Error(ye(189))}}if(r.alternate!==n)throw Error(ye(190))}if(r.tag!==3)throw Error(ye(188));return r.stateNode.current===r?e:t}function Mg(e){return e=QE(e),e!==null?Ug(e):null}function Ug(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ug(e);if(t!==null)return t;e=e.sibling}return null}var zg=dr.unstable_scheduleCallback,Km=dr.unstable_cancelCallback,ZE=dr.unstable_shouldYield,XE=dr.unstable_requestPaint,mt=dr.unstable_now,JE=dr.unstable_getCurrentPriorityLevel,g0=dr.unstable_ImmediatePriority,Vg=dr.unstable_UserBlockingPriority,Ll=dr.unstable_NormalPriority,LE=dr.unstable_LowPriority,Wg=dr.unstable_IdlePriority,jc=null,Lr=null;function DE(e){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(jc,e,void 0,(e.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:r2,e2=Math.log,t2=Math.LN2;function r2(e){return e>>>=0,e===0?32:31-(e2(e)/t2|0)|0}var js=64,Is=4194304;function wo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?n=wo(l):(o&=s,o!==0&&(n=wo(o)))}else s=r&~a,s!==0?n=wo(s):o!==0&&(n=wo(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Or(t),a=1<<r,n|=e[r],t&=~a;return n}function n2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Or(o),l=1<<s,c=a[s];c===-1?(!(l&r)||l&n)&&(a[s]=n2(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Dd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $g(){var e=js;return js<<=1,!(js&4194240)&&(js=64),e}function $u(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ys(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Or(t),e[t]=r}function i2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Or(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function y0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Or(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ye=0;function jg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ig,v0,Hg,Gg,qg,ef=!1,Hs=[],Jn=null,Ln=null,Dn=null,Ko=new Map,Yo=new Map,qn=[],o2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ym(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function lo(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=ws(t),t!==null&&v0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function s2(e,t,r,n,a){switch(t){case"focusin":return Jn=lo(Jn,e,t,r,n,a),!0;case"dragenter":return Ln=lo(Ln,e,t,r,n,a),!0;case"mouseover":return Dn=lo(Dn,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Ko.set(o,lo(Ko.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Yo.set(o,lo(Yo.get(o)||null,e,t,r,n,a)),!0}return!1}function Kg(e){var t=Na(e.target);if(t!==null){var r=Xa(t);if(r!==null){if(t=r.tag,t===13){if(t=Og(r),t!==null){e.blockedOn=t,qg(e.priority,function(){Hg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zd=n,r.target.dispatchEvent(n),Zd=null}else return t=ws(r),t!==null&&v0(t),e.blockedOn=r,!1;t.shift()}return!0}function Qm(e,t,r){pl(e)&&r.delete(t)}function l2(){ef=!1,Jn!==null&&pl(Jn)&&(Jn=null),Ln!==null&&pl(Ln)&&(Ln=null),Dn!==null&&pl(Dn)&&(Dn=null),Ko.forEach(Qm),Yo.forEach(Qm)}function co(e,t){e.blockedOn===t&&(e.blockedOn=null,ef||(ef=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,l2)))}function Qo(e){function t(a){return co(a,e)}if(0<Hs.length){co(Hs[0],e);for(var r=1;r<Hs.length;r++){var n=Hs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Jn!==null&&co(Jn,e),Ln!==null&&co(Ln,e),Dn!==null&&co(Dn,e),Ko.forEach(t),Yo.forEach(t),r=0;r<qn.length;r++)n=qn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qn.length&&(r=qn[0],r.blockedOn===null);)Kg(r),r.blockedOn===null&&qn.shift()}var Mi=Cn.ReactCurrentBatchConfig,ec=!0;function c2(e,t,r,n){var a=Ye,o=Mi.transition;Mi.transition=null;try{Ye=1,w0(e,t,r,n)}finally{Ye=a,Mi.transition=o}}function u2(e,t,r,n){var a=Ye,o=Mi.transition;Mi.transition=null;try{Ye=4,w0(e,t,r,n)}finally{Ye=a,Mi.transition=o}}function w0(e,t,r,n){if(ec){var a=tf(e,t,r,n);if(a===null)Xu(e,t,n,tc,r),Ym(e,n);else if(s2(a,e,t,r,n))n.stopPropagation();else if(Ym(e,n),t&4&&-1<o2.indexOf(e)){for(;a!==null;){var o=ws(a);if(o!==null&&Ig(o),o=tf(e,t,r,n),o===null&&Xu(e,t,n,tc,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Xu(e,t,n,null,r)}}var tc=null;function tf(e,t,r,n){if(tc=null,e=h0(n),e=Na(e),e!==null)if(t=Xa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Og(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tc=e,null}function Yg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JE()){case g0:return 1;case Vg:return 4;case Ll:case LE:return 16;case Wg:return 536870912;default:return 16}default:return 16}}var Qn=null,E0=null,hl=null;function Qg(){if(hl)return hl;var e,t=E0,r=t.length,n,a="value"in Qn?Qn.value:Qn.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[o-n];n++);return hl=a.slice(e,1<n?1-n:void 0)}function gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gs(){return!0}function Zm(){return!1}function mr(e){function t(r,n,a,o,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gs:Zm,this.isPropagationStopped=Zm,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),t}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},b0=mr(Di),vs=it({},Di,{view:0,detail:0}),d2=mr(vs),ju,Iu,uo,Ic=it({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(ju=e.screenX-uo.screenX,Iu=e.screenY-uo.screenY):Iu=ju=0,uo=e),ju)},movementY:function(e){return"movementY"in e?e.movementY:Iu}}),Xm=mr(Ic),f2=it({},Ic,{dataTransfer:0}),m2=mr(f2),p2=it({},vs,{relatedTarget:0}),Hu=mr(p2),h2=it({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),g2=mr(h2),y2=it({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),v2=mr(y2),w2=it({},Di,{data:0}),Jm=mr(w2),E2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x2[e])?!!t[e]:!1}function x0(){return _2}var S2=it({},vs,{key:function(e){if(e.key){var t=E2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x0,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N2=mr(S2),k2=it({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lm=mr(k2),T2=it({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x0}),A2=mr(T2),C2=it({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),B2=mr(C2),R2=it({},Ic,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F2=mr(R2),P2=[9,13,27,32],_0=_n&&"CompositionEvent"in window,Bo=null;_n&&"documentMode"in document&&(Bo=document.documentMode);var O2=_n&&"TextEvent"in window&&!Bo,Zg=_n&&(!_0||Bo&&8<Bo&&11>=Bo),Dm=String.fromCharCode(32),ep=!1;function Xg(e,t){switch(e){case"keyup":return P2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gi=!1;function M2(e,t){switch(e){case"compositionend":return Jg(t);case"keypress":return t.which!==32?null:(ep=!0,Dm);case"textInput":return e=t.data,e===Dm&&ep?null:e;default:return null}}function U2(e,t){if(gi)return e==="compositionend"||!_0&&Xg(e,t)?(e=Qg(),hl=E0=Qn=null,gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zg&&t.locale!=="ko"?null:t.data;default:return null}}var z2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!z2[e.type]:t==="textarea"}function Lg(e,t,r,n){Cg(n),t=rc(t,"onChange"),0<t.length&&(r=new b0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ro=null,Zo=null;function V2(e){cy(e,0)}function Hc(e){var t=wi(e);if(xg(t))return e}function W2(e,t){if(e==="change")return t}var Dg=!1;if(_n){var Gu;if(_n){var qu="oninput"in document;if(!qu){var rp=document.createElement("div");rp.setAttribute("oninput","return;"),qu=typeof rp.oninput=="function"}Gu=qu}else Gu=!1;Dg=Gu&&(!document.documentMode||9<document.documentMode)}function np(){Ro&&(Ro.detachEvent("onpropertychange",ey),Zo=Ro=null)}function ey(e){if(e.propertyName==="value"&&Hc(Zo)){var t=[];Lg(t,Zo,e,h0(e)),Pg(V2,t)}}function $2(e,t,r){e==="focusin"?(np(),Ro=t,Zo=r,Ro.attachEvent("onpropertychange",ey)):e==="focusout"&&np()}function j2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hc(Zo)}function I2(e,t){if(e==="click")return Hc(t)}function H2(e,t){if(e==="input"||e==="change")return Hc(t)}function G2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zr=typeof Object.is=="function"?Object.is:G2;function Xo(e,t){if(zr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!zd.call(t,a)||!zr(e[a],t[a]))return!1}return!0}function ap(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ip(e,t){var r=ap(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ap(r)}}function ty(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ty(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ry(){for(var e=window,t=Zl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zl(e.document)}return t}function S0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function q2(e){var t=ry(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ty(r.ownerDocument.documentElement,r)){if(n!==null&&S0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=ip(r,o);var s=ip(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var K2=_n&&"documentMode"in document&&11>=document.documentMode,yi=null,rf=null,Fo=null,nf=!1;function op(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nf||yi==null||yi!==Zl(n)||(n=yi,"selectionStart"in n&&S0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fo&&Xo(Fo,n)||(Fo=n,n=rc(rf,"onSelect"),0<n.length&&(t=new b0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yi)))}function qs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vi={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionend:qs("Transition","TransitionEnd")},Ku={},ny={};_n&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function Gc(e){if(Ku[e])return Ku[e];if(!vi[e])return e;var t=vi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ny)return Ku[e]=t[r];return e}var ay=Gc("animationend"),iy=Gc("animationiteration"),oy=Gc("animationstart"),sy=Gc("transitionend"),ly=new Map,sp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(e,t){ly.set(e,t),Za(t,[e])}for(var Yu=0;Yu<sp.length;Yu++){var Qu=sp[Yu],Y2=Qu.toLowerCase(),Q2=Qu[0].toUpperCase()+Qu.slice(1);da(Y2,"on"+Q2)}da(ay,"onAnimationEnd");da(iy,"onAnimationIteration");da(oy,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(sy,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Za("onBeforeInput",["compositionend","keypress","textInput","paste"]);Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function lp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,YE(n,t,void 0,e),e.currentTarget=null}function cy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;lp(a,l,u),o=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;lp(a,l,u),o=c}}}if(Jl)throw e=Ld,Jl=!1,Ld=null,e}function Le(e,t){var r=t[cf];r===void 0&&(r=t[cf]=new Set);var n=e+"__bubble";r.has(n)||(uy(t,e,2,!1),r.add(n))}function Zu(e,t,r){var n=0;t&&(n|=4),uy(r,e,n,t)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function Jo(e){if(!e[Ks]){e[Ks]=!0,yg.forEach(function(r){r!=="selectionchange"&&(Z2.has(r)||Zu(r,!1,e),Zu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ks]||(t[Ks]=!0,Zu("selectionchange",!1,t))}}function uy(e,t,r,n){switch(Yg(t)){case 1:var a=c2;break;case 4:a=u2;break;default:a=w0}r=a.bind(null,t,r,e),a=void 0,!Jd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Xu(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Na(l),s===null)return;if(c=s.tag,c===5||c===6){n=o=s;continue e}l=l.parentNode}}n=n.return}Pg(function(){var u=o,d=h0(r),g=[];e:{var f=ly.get(e);if(f!==void 0){var p=b0,h=e;switch(e){case"keypress":if(gl(r)===0)break e;case"keydown":case"keyup":p=N2;break;case"focusin":h="focus",p=Hu;break;case"focusout":h="blur",p=Hu;break;case"beforeblur":case"afterblur":p=Hu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=m2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=A2;break;case ay:case iy:case oy:p=g2;break;case sy:p=B2;break;case"scroll":p=d2;break;case"wheel":p=F2;break;case"copy":case"cut":case"paste":p=v2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lm}var k=(t&4)!==0,B=!k&&e==="scroll",_=k?f!==null?f+"Capture":null:f;k=[];for(var E=u,x;E!==null;){x=E;var U=x.stateNode;if(x.tag===5&&U!==null&&(x=U,_!==null&&(U=qo(E,_),U!=null&&k.push(Lo(E,U,x)))),B)break;E=E.return}0<k.length&&(f=new p(f,h,null,r,d),g.push({event:f,listeners:k}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Zd&&(h=r.relatedTarget||r.fromElement)&&(Na(h)||h[Sn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=u,h=h?Na(h):null,h!==null&&(B=Xa(h),h!==B||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(k=Xm,U="onMouseLeave",_="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(k=Lm,U="onPointerLeave",_="onPointerEnter",E="pointer"),B=p==null?f:wi(p),x=h==null?f:wi(h),f=new k(U,E+"leave",p,r,d),f.target=B,f.relatedTarget=x,U=null,Na(d)===u&&(k=new k(_,E+"enter",h,r,d),k.target=x,k.relatedTarget=B,U=k),B=U,p&&h)t:{for(k=p,_=h,E=0,x=k;x;x=La(x))E++;for(x=0,U=_;U;U=La(U))x++;for(;0<E-x;)k=La(k),E--;for(;0<x-E;)_=La(_),x--;for(;E--;){if(k===_||_!==null&&k===_.alternate)break t;k=La(k),_=La(_)}k=null}else k=null;p!==null&&cp(g,f,p,k,!1),h!==null&&B!==null&&cp(g,B,h,k,!0)}}e:{if(f=u?wi(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=W2;else if(tp(f))if(Dg)C=H2;else{C=j2;var W=$2}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=I2);if(C&&(C=C(e,u))){Lg(g,C,r,d);break e}W&&W(e,f,u),e==="focusout"&&(W=f._wrapperState)&&W.controlled&&f.type==="number"&&Gd(f,"number",f.value)}switch(W=u?wi(u):window,e){case"focusin":(tp(W)||W.contentEditable==="true")&&(yi=W,rf=u,Fo=null);break;case"focusout":Fo=rf=yi=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,op(g,r,d);break;case"selectionchange":if(K2)break;case"keydown":case"keyup":op(g,r,d)}var $;if(_0)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else gi?Xg(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Zg&&r.locale!=="ko"&&(gi||P!=="onCompositionStart"?P==="onCompositionEnd"&&gi&&($=Qg()):(Qn=d,E0="value"in Qn?Qn.value:Qn.textContent,gi=!0)),W=rc(u,P),0<W.length&&(P=new Jm(P,e,null,r,d),g.push({event:P,listeners:W}),$?P.data=$:($=Jg(r),$!==null&&(P.data=$)))),($=O2?M2(e,r):U2(e,r))&&(u=rc(u,"onBeforeInput"),0<u.length&&(d=new Jm("onBeforeInput","beforeinput",null,r,d),g.push({event:d,listeners:u}),d.data=$))}cy(g,t)})}function Lo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rc(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=qo(e,r),o!=null&&n.unshift(Lo(e,o,a)),o=qo(e,t),o!=null&&n.push(Lo(e,o,a))),e=e.return}return n}function La(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cp(e,t,r,n,a){for(var o=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=qo(r,o),c!=null&&s.unshift(Lo(r,c,l))):a||(c=qo(r,o),c!=null&&s.push(Lo(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var X2=/\r\n?/g,J2=/\u0000|\uFFFD/g;function up(e){return(typeof e=="string"?e:""+e).replace(X2,`
`).replace(J2,"")}function Ys(e,t,r){if(t=up(t),up(e)!==t&&r)throw Error(ye(425))}function nc(){}var af=null,of=null;function sf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lf=typeof setTimeout=="function"?setTimeout:void 0,L2=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,D2=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(e){return dp.resolve(null).then(e).catch(eb)}:lf;function eb(e){setTimeout(function(){throw e})}function Ju(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Qo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Qo(t)}function ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var eo=Math.random().toString(36).slice(2),Zr="__reactFiber$"+eo,Do="__reactProps$"+eo,Sn="__reactContainer$"+eo,cf="__reactEvents$"+eo,tb="__reactListeners$"+eo,rb="__reactHandles$"+eo;function Na(e){var t=e[Zr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sn]||r[Zr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fp(e);e!==null;){if(r=e[Zr])return r;e=fp(e)}return t}e=r,r=e.parentNode}return null}function ws(e){return e=e[Zr]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ye(33))}function qc(e){return e[Do]||null}var uf=[],Ei=-1;function fa(e){return{current:e}}function De(e){0>Ei||(e.current=uf[Ei],uf[Ei]=null,Ei--)}function Je(e,t){Ei++,uf[Ei]=e.current,e.current=t}var ua={},It=fa(ua),nr=fa(!1),za=ua;function ji(e,t){var r=e.type.contextTypes;if(!r)return ua;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ar(e){return e=e.childContextTypes,e!=null}function ac(){De(nr),De(It)}function mp(e,t,r){if(It.current!==ua)throw Error(ye(168));Je(It,t),Je(nr,r)}function dy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ye(108,$E(e)||"Unknown",a));return it({},r,n)}function ic(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ua,za=It.current,Je(It,e),Je(nr,nr.current),!0}function pp(e,t,r){var n=e.stateNode;if(!n)throw Error(ye(169));r?(e=dy(e,t,za),n.__reactInternalMemoizedMergedChildContext=e,De(nr),De(It),Je(It,e)):De(nr),Je(nr,r)}var dn=null,Kc=!1,Lu=!1;function fy(e){dn===null?dn=[e]:dn.push(e)}function nb(e){Kc=!0,fy(e)}function ma(){if(!Lu&&dn!==null){Lu=!0;var e=0,t=Ye;try{var r=dn;for(Ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}dn=null,Kc=!1}catch(a){throw dn!==null&&(dn=dn.slice(e+1)),zg(g0,ma),a}finally{Ye=t,Lu=!1}}return null}var bi=[],xi=0,oc=null,sc=0,gr=[],yr=0,Va=null,pn=1,hn="";function ya(e,t){bi[xi++]=sc,bi[xi++]=oc,oc=e,sc=t}function my(e,t,r){gr[yr++]=pn,gr[yr++]=hn,gr[yr++]=Va,Va=e;var n=pn;e=hn;var a=32-Or(n)-1;n&=~(1<<a),r+=1;var o=32-Or(t)+a;if(30<o){var s=a-a%5;o=(n&(1<<s)-1).toString(32),n>>=s,a-=s,pn=1<<32-Or(t)+a|r<<a|n,hn=o+e}else pn=1<<o|r<<a|n,hn=e}function N0(e){e.return!==null&&(ya(e,1),my(e,1,0))}function k0(e){for(;e===oc;)oc=bi[--xi],bi[xi]=null,sc=bi[--xi],bi[xi]=null;for(;e===Va;)Va=gr[--yr],gr[yr]=null,hn=gr[--yr],gr[yr]=null,pn=gr[--yr],gr[yr]=null}var ur=null,cr=null,tt=!1,Rr=null;function py(e,t){var r=wr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ur=e,cr=ea(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ur=e,cr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Va!==null?{id:pn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ur=e,cr=null,!0):!1;default:return!1}}function df(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ff(e){if(tt){var t=cr;if(t){var r=t;if(!hp(e,t)){if(df(e))throw Error(ye(418));t=ea(r.nextSibling);var n=ur;t&&hp(e,t)?py(n,r):(e.flags=e.flags&-4097|2,tt=!1,ur=e)}}else{if(df(e))throw Error(ye(418));e.flags=e.flags&-4097|2,tt=!1,ur=e}}}function gp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ur=e}function Qs(e){if(e!==ur)return!1;if(!tt)return gp(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sf(e.type,e.memoizedProps)),t&&(t=cr)){if(df(e))throw hy(),Error(ye(418));for(;t;)py(e,t),t=ea(t.nextSibling)}if(gp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){cr=ea(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}cr=null}}else cr=ur?ea(e.stateNode.nextSibling):null;return!0}function hy(){for(var e=cr;e;)e=ea(e.nextSibling)}function Ii(){cr=ur=null,tt=!1}function T0(e){Rr===null?Rr=[e]:Rr.push(e)}var ab=Cn.ReactCurrentBatchConfig;function fo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ye(309));var n=r.stateNode}if(!n)throw Error(ye(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=a.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ye(284));if(!r._owner)throw Error(ye(290,e))}return e}function Zs(e,t){throw e=Object.prototype.toString.call(t),Error(ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yp(e){var t=e._init;return t(e._payload)}function gy(e){function t(_,E){if(e){var x=_.deletions;x===null?(_.deletions=[E],_.flags|=16):x.push(E)}}function r(_,E){if(!e)return null;for(;E!==null;)t(_,E),E=E.sibling;return null}function n(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function a(_,E){return _=aa(_,E),_.index=0,_.sibling=null,_}function o(_,E,x){return _.index=x,e?(x=_.alternate,x!==null?(x=x.index,x<E?(_.flags|=2,E):x):(_.flags|=2,E)):(_.flags|=1048576,E)}function s(_){return e&&_.alternate===null&&(_.flags|=2),_}function l(_,E,x,U){return E===null||E.tag!==6?(E=id(x,_.mode,U),E.return=_,E):(E=a(E,x),E.return=_,E)}function c(_,E,x,U){var C=x.type;return C===hi?d(_,E,x.props.children,U,x.key):E!==null&&(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Wn&&yp(C)===E.type)?(U=a(E,x.props),U.ref=fo(_,E,x),U.return=_,U):(U=_l(x.type,x.key,x.props,null,_.mode,U),U.ref=fo(_,E,x),U.return=_,U)}function u(_,E,x,U){return E===null||E.tag!==4||E.stateNode.containerInfo!==x.containerInfo||E.stateNode.implementation!==x.implementation?(E=od(x,_.mode,U),E.return=_,E):(E=a(E,x.children||[]),E.return=_,E)}function d(_,E,x,U,C){return E===null||E.tag!==7?(E=Fa(x,_.mode,U,C),E.return=_,E):(E=a(E,x),E.return=_,E)}function g(_,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return E=id(""+E,_.mode,x),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Vs:return x=_l(E.type,E.key,E.props,null,_.mode,x),x.ref=fo(_,null,E),x.return=_,x;case pi:return E=od(E,_.mode,x),E.return=_,E;case Wn:var U=E._init;return g(_,U(E._payload),x)}if(vo(E)||oo(E))return E=Fa(E,_.mode,x,null),E.return=_,E;Zs(_,E)}return null}function f(_,E,x,U){var C=E!==null?E.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:l(_,E,""+x,U);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vs:return x.key===C?c(_,E,x,U):null;case pi:return x.key===C?u(_,E,x,U):null;case Wn:return C=x._init,f(_,E,C(x._payload),U)}if(vo(x)||oo(x))return C!==null?null:d(_,E,x,U,null);Zs(_,x)}return null}function p(_,E,x,U,C){if(typeof U=="string"&&U!==""||typeof U=="number")return _=_.get(x)||null,l(E,_,""+U,C);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Vs:return _=_.get(U.key===null?x:U.key)||null,c(E,_,U,C);case pi:return _=_.get(U.key===null?x:U.key)||null,u(E,_,U,C);case Wn:var W=U._init;return p(_,E,x,W(U._payload),C)}if(vo(U)||oo(U))return _=_.get(x)||null,d(E,_,U,C,null);Zs(E,U)}return null}function h(_,E,x,U){for(var C=null,W=null,$=E,P=E=0,X=null;$!==null&&P<x.length;P++){$.index>P?(X=$,$=null):X=$.sibling;var z=f(_,$,x[P],U);if(z===null){$===null&&($=X);break}e&&$&&z.alternate===null&&t(_,$),E=o(z,E,P),W===null?C=z:W.sibling=z,W=z,$=X}if(P===x.length)return r(_,$),tt&&ya(_,P),C;if($===null){for(;P<x.length;P++)$=g(_,x[P],U),$!==null&&(E=o($,E,P),W===null?C=$:W.sibling=$,W=$);return tt&&ya(_,P),C}for($=n(_,$);P<x.length;P++)X=p($,_,P,x[P],U),X!==null&&(e&&X.alternate!==null&&$.delete(X.key===null?P:X.key),E=o(X,E,P),W===null?C=X:W.sibling=X,W=X);return e&&$.forEach(function(H){return t(_,H)}),tt&&ya(_,P),C}function k(_,E,x,U){var C=oo(x);if(typeof C!="function")throw Error(ye(150));if(x=C.call(x),x==null)throw Error(ye(151));for(var W=C=null,$=E,P=E=0,X=null,z=x.next();$!==null&&!z.done;P++,z=x.next()){$.index>P?(X=$,$=null):X=$.sibling;var H=f(_,$,z.value,U);if(H===null){$===null&&($=X);break}e&&$&&H.alternate===null&&t(_,$),E=o(H,E,P),W===null?C=H:W.sibling=H,W=H,$=X}if(z.done)return r(_,$),tt&&ya(_,P),C;if($===null){for(;!z.done;P++,z=x.next())z=g(_,z.value,U),z!==null&&(E=o(z,E,P),W===null?C=z:W.sibling=z,W=z);return tt&&ya(_,P),C}for($=n(_,$);!z.done;P++,z=x.next())z=p($,_,P,z.value,U),z!==null&&(e&&z.alternate!==null&&$.delete(z.key===null?P:z.key),E=o(z,E,P),W===null?C=z:W.sibling=z,W=z);return e&&$.forEach(function(Y){return t(_,Y)}),tt&&ya(_,P),C}function B(_,E,x,U){if(typeof x=="object"&&x!==null&&x.type===hi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Vs:e:{for(var C=x.key,W=E;W!==null;){if(W.key===C){if(C=x.type,C===hi){if(W.tag===7){r(_,W.sibling),E=a(W,x.props.children),E.return=_,_=E;break e}}else if(W.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Wn&&yp(C)===W.type){r(_,W.sibling),E=a(W,x.props),E.ref=fo(_,W,x),E.return=_,_=E;break e}r(_,W);break}else t(_,W);W=W.sibling}x.type===hi?(E=Fa(x.props.children,_.mode,U,x.key),E.return=_,_=E):(U=_l(x.type,x.key,x.props,null,_.mode,U),U.ref=fo(_,E,x),U.return=_,_=U)}return s(_);case pi:e:{for(W=x.key;E!==null;){if(E.key===W)if(E.tag===4&&E.stateNode.containerInfo===x.containerInfo&&E.stateNode.implementation===x.implementation){r(_,E.sibling),E=a(E,x.children||[]),E.return=_,_=E;break e}else{r(_,E);break}else t(_,E);E=E.sibling}E=od(x,_.mode,U),E.return=_,_=E}return s(_);case Wn:return W=x._init,B(_,E,W(x._payload),U)}if(vo(x))return h(_,E,x,U);if(oo(x))return k(_,E,x,U);Zs(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,E!==null&&E.tag===6?(r(_,E.sibling),E=a(E,x),E.return=_,_=E):(r(_,E),E=id(x,_.mode,U),E.return=_,_=E),s(_)):r(_,E)}return B}var Hi=gy(!0),yy=gy(!1),lc=fa(null),cc=null,_i=null,A0=null;function C0(){A0=_i=cc=null}function B0(e){var t=lc.current;De(lc),e._currentValue=t}function mf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ui(e,t){cc=e,A0=_i=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tr=!0),e.firstContext=null)}function br(e){var t=e._currentValue;if(A0!==e)if(e={context:e,memoizedValue:t,next:null},_i===null){if(cc===null)throw Error(ye(308));_i=e,cc.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var ka=null;function R0(e){ka===null?ka=[e]:ka.push(e)}function vy(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,R0(t)):(r.next=a.next,a.next=r),t.interleaved=r,Nn(e,n)}function Nn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $n=!1;function F0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ta(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,He&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Nn(e,r)}return a=n.interleaved,a===null?(t.next=t,R0(n)):(t.next=a.next,a.next=t),n.interleaved=t,Nn(e,r)}function yl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,y0(e,r)}}function vp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function uc(e,t,r,n){var a=e.updateQueue;$n=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var g=a.baseState;s=0,d=u=c=null,l=o;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,k=l;switch(f=t,p=r,k.tag){case 1:if(h=k.payload,typeof h=="function"){g=h.call(p,g,f);break e}g=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=k.payload,f=typeof h=="function"?h.call(p,g,f):h,f==null)break e;g=it({},g,f);break e;case 2:$n=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=g):d=d.next=p,s|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(1);if(d===null&&(c=g),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);$a|=s,e.lanes=s,e.memoizedState=g}}function wp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ye(191,a));a.call(n)}}}var Es={},Dr=fa(Es),es=fa(Es),ts=fa(Es);function Ta(e){if(e===Es)throw Error(ye(174));return e}function P0(e,t){switch(Je(ts,t),Je(es,e),Je(Dr,Es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kd(t,e)}De(Dr),Je(Dr,t)}function Gi(){De(Dr),De(es),De(ts)}function Ey(e){Ta(ts.current);var t=Ta(Dr.current),r=Kd(t,e.type);t!==r&&(Je(es,e),Je(Dr,r))}function O0(e){es.current===e&&(De(Dr),De(es))}var rt=fa(0);function dc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Du=[];function M0(){for(var e=0;e<Du.length;e++)Du[e]._workInProgressVersionPrimary=null;Du.length=0}var vl=Cn.ReactCurrentDispatcher,ed=Cn.ReactCurrentBatchConfig,Wa=0,nt=null,wt=null,Nt=null,fc=!1,Po=!1,rs=0,ib=0;function Ot(){throw Error(ye(321))}function U0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zr(e[r],t[r]))return!1;return!0}function z0(e,t,r,n,a,o){if(Wa=o,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vl.current=e===null||e.memoizedState===null?cb:ub,e=r(n,a),Po){o=0;do{if(Po=!1,rs=0,25<=o)throw Error(ye(301));o+=1,Nt=wt=null,t.updateQueue=null,vl.current=db,e=r(n,a)}while(Po)}if(vl.current=mc,t=wt!==null&&wt.next!==null,Wa=0,Nt=wt=nt=null,fc=!1,t)throw Error(ye(300));return e}function V0(){var e=rs!==0;return rs=0,e}function Kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?nt.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function xr(){if(wt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=Nt===null?nt.memoizedState:Nt.next;if(t!==null)Nt=t,wt=e;else{if(e===null)throw Error(ye(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Nt===null?nt.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function ns(e,t){return typeof t=="function"?t(e):t}function td(e){var t=xr(),r=t.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=e;var n=wt,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((Wa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var g={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,s=n):c=c.next=g,nt.lanes|=d,$a|=d}u=u.next}while(u!==null&&u!==o);c===null?s=n:c.next=l,zr(n,t.memoizedState)||(tr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,nt.lanes|=o,$a|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rd(e){var t=xr(),r=t.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);zr(o,t.memoizedState)||(tr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function by(){}function xy(e,t){var r=nt,n=xr(),a=t(),o=!zr(n.memoizedState,a);if(o&&(n.memoizedState=a,tr=!0),n=n.queue,W0(Ny.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,as(9,Sy.bind(null,r,n,a,t),void 0,null),Tt===null)throw Error(ye(349));Wa&30||_y(r,t,a)}return a}function _y(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Sy(e,t,r,n){t.value=r,t.getSnapshot=n,ky(t)&&Ty(e)}function Ny(e,t,r){return r(function(){ky(t)&&Ty(e)})}function ky(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zr(e,r)}catch{return!0}}function Ty(e){var t=Nn(e,1);t!==null&&Mr(t,e,1,-1)}function Ep(e){var t=Kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:e},t.queue=e,e=e.dispatch=lb.bind(null,nt,e),[t.memoizedState,e]}function as(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ay(){return xr().memoizedState}function wl(e,t,r,n){var a=Kr();nt.flags|=e,a.memoizedState=as(1|t,r,void 0,n===void 0?null:n)}function Yc(e,t,r,n){var a=xr();n=n===void 0?null:n;var o=void 0;if(wt!==null){var s=wt.memoizedState;if(o=s.destroy,n!==null&&U0(n,s.deps)){a.memoizedState=as(t,r,o,n);return}}nt.flags|=e,a.memoizedState=as(1|t,r,o,n)}function bp(e,t){return wl(8390656,8,e,t)}function W0(e,t){return Yc(2048,8,e,t)}function Cy(e,t){return Yc(4,2,e,t)}function By(e,t){return Yc(4,4,e,t)}function Ry(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fy(e,t,r){return r=r!=null?r.concat([e]):null,Yc(4,4,Ry.bind(null,t,e),r)}function $0(){}function Py(e,t){var r=xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&U0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Oy(e,t){var r=xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&U0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function My(e,t,r){return Wa&21?(zr(r,t)||(r=$g(),nt.lanes|=r,$a|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tr=!0),e.memoizedState=r)}function ob(e,t){var r=Ye;Ye=r!==0&&4>r?r:4,e(!0);var n=ed.transition;ed.transition={};try{e(!1),t()}finally{Ye=r,ed.transition=n}}function Uy(){return xr().memoizedState}function sb(e,t,r){var n=na(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zy(e))Vy(t,r);else if(r=vy(e,t,r,n),r!==null){var a=Xt();Mr(r,e,n,a),Wy(r,t,n)}}function lb(e,t,r){var n=na(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zy(e))Vy(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,r);if(a.hasEagerState=!0,a.eagerState=l,zr(l,s)){var c=t.interleaved;c===null?(a.next=a,R0(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=vy(e,t,a,n),r!==null&&(a=Xt(),Mr(r,e,n,a),Wy(r,t,n))}}function zy(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function Vy(e,t){Po=fc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Wy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,y0(e,r)}}var mc={readContext:br,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},cb={readContext:br,useCallback:function(e,t){return Kr().memoizedState=[e,t===void 0?null:t],e},useContext:br,useEffect:bp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,wl(4194308,4,Ry.bind(null,t,e),r)},useLayoutEffect:function(e,t){return wl(4194308,4,e,t)},useInsertionEffect:function(e,t){return wl(4,2,e,t)},useMemo:function(e,t){var r=Kr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sb.bind(null,nt,e),[n.memoizedState,e]},useRef:function(e){var t=Kr();return e={current:e},t.memoizedState=e},useState:Ep,useDebugValue:$0,useDeferredValue:function(e){return Kr().memoizedState=e},useTransition:function(){var e=Ep(!1),t=e[0];return e=ob.bind(null,e[1]),Kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nt,a=Kr();if(tt){if(r===void 0)throw Error(ye(407));r=r()}else{if(r=t(),Tt===null)throw Error(ye(349));Wa&30||_y(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,bp(Ny.bind(null,n,o,e),[e]),n.flags|=2048,as(9,Sy.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Kr(),t=Tt.identifierPrefix;if(tt){var r=hn,n=pn;r=(n&~(1<<32-Or(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=rs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ib++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ub={readContext:br,useCallback:Py,useContext:br,useEffect:W0,useImperativeHandle:Fy,useInsertionEffect:Cy,useLayoutEffect:By,useMemo:Oy,useReducer:td,useRef:Ay,useState:function(){return td(ns)},useDebugValue:$0,useDeferredValue:function(e){var t=xr();return My(t,wt.memoizedState,e)},useTransition:function(){var e=td(ns)[0],t=xr().memoizedState;return[e,t]},useMutableSource:by,useSyncExternalStore:xy,useId:Uy,unstable_isNewReconciler:!1},db={readContext:br,useCallback:Py,useContext:br,useEffect:W0,useImperativeHandle:Fy,useInsertionEffect:Cy,useLayoutEffect:By,useMemo:Oy,useReducer:rd,useRef:Ay,useState:function(){return rd(ns)},useDebugValue:$0,useDeferredValue:function(e){var t=xr();return wt===null?t.memoizedState=e:My(t,wt.memoizedState,e)},useTransition:function(){var e=rd(ns)[0],t=xr().memoizedState;return[e,t]},useMutableSource:by,useSyncExternalStore:xy,useId:Uy,unstable_isNewReconciler:!1};function Ar(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:it({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Qc={isMounted:function(e){return(e=e._reactInternals)?Xa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xt(),a=na(e),o=En(n,a);o.payload=t,r!=null&&(o.callback=r),t=ta(e,o,a),t!==null&&(Mr(t,e,a,n),yl(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xt(),a=na(e),o=En(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=ta(e,o,a),t!==null&&(Mr(t,e,a,n),yl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xt(),n=na(e),a=En(r,n);a.tag=2,t!=null&&(a.callback=t),t=ta(e,a,n),t!==null&&(Mr(t,e,n,r),yl(t,e,n))}};function xp(e,t,r,n,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!Xo(r,n)||!Xo(a,o):!0}function $y(e,t,r){var n=!1,a=ua,o=t.contextType;return typeof o=="object"&&o!==null?o=br(o):(a=ar(t)?za:It.current,n=t.contextTypes,o=(n=n!=null)?ji(e,a):ua),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function _p(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Qc.enqueueReplaceState(t,t.state,null)}function hf(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},F0(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=br(o):(o=ar(t)?za:It.current,a.context=ji(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(pf(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Qc.enqueueReplaceState(a,a.state,null),uc(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function qi(e,t){try{var r="",n=t;do r+=WE(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function nd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fb=typeof WeakMap=="function"?WeakMap:Map;function jy(e,t,r){r=En(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hc||(hc=!0,kf=n),gf(e,t)},r}function Iy(e,t,r){r=En(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){gf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){gf(e,t),typeof n!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Sp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fb;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=kb.bind(null,e,t,r),t.then(e,e))}function Np(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kp(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=En(-1,1),t.tag=2,ta(r,t,1))),r.lanes|=1),e)}var mb=Cn.ReactCurrentOwner,tr=!1;function Qt(e,t,r,n){t.child=e===null?yy(t,null,r,n):Hi(t,e.child,r,n)}function Tp(e,t,r,n,a){r=r.render;var o=t.ref;return Ui(t,a),n=z0(e,t,r,n,o,a),r=V0(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,kn(e,t,a)):(tt&&r&&N0(t),t.flags|=1,Qt(e,t,n,a),t.child)}function Ap(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Q0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Hy(e,t,o,n,a)):(e=_l(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Xo,r(s,n)&&e.ref===t.ref)return kn(e,t,a)}return t.flags|=1,e=aa(o,n),e.ref=t.ref,e.return=t,t.child=e}function Hy(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Xo(o,n)&&e.ref===t.ref)if(tr=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(tr=!0);else return t.lanes=e.lanes,kn(e,t,a)}return yf(e,t,r,n,a)}function Gy(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Ni,sr),sr|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(Ni,sr),sr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Je(Ni,sr),sr|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Je(Ni,sr),sr|=n;return Qt(e,t,a,r),t.child}function qy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yf(e,t,r,n,a){var o=ar(r)?za:It.current;return o=ji(t,o),Ui(t,a),r=z0(e,t,r,n,o,a),n=V0(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,kn(e,t,a)):(tt&&n&&N0(t),t.flags|=1,Qt(e,t,r,a),t.child)}function Cp(e,t,r,n,a){if(ar(r)){var o=!0;ic(t)}else o=!1;if(Ui(t,a),t.stateNode===null)El(e,t),$y(t,r,n),hf(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=br(u):(u=ar(r)?za:It.current,u=ji(t,u));var d=r.getDerivedStateFromProps,g=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&_p(t,s,n,u),$n=!1;var f=t.memoizedState;s.state=f,uc(t,n,s,a),c=t.memoizedState,l!==n||f!==c||nr.current||$n?(typeof d=="function"&&(pf(t,r,d,n),c=t.memoizedState),(l=$n||xp(t,r,l,n,f,c,u))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,wy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ar(t.type,l),s.props=u,g=t.pendingProps,f=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=br(c):(c=ar(r)?za:It.current,c=ji(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==g||f!==c)&&_p(t,s,n,c),$n=!1,f=t.memoizedState,s.state=f,uc(t,n,s,a);var h=t.memoizedState;l!==g||f!==h||nr.current||$n?(typeof p=="function"&&(pf(t,r,p,n),h=t.memoizedState),(u=$n||xp(t,r,u,n,f,h,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,h,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,h,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),s.props=n,s.state=h,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return vf(e,t,r,n,o,a)}function vf(e,t,r,n,a,o){qy(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&pp(t,r,!1),kn(e,t,o);n=t.stateNode,mb.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Hi(t,e.child,null,o),t.child=Hi(t,null,l,o)):Qt(e,t,l,o),t.memoizedState=n.state,a&&pp(t,r,!0),t.child}function Ky(e){var t=e.stateNode;t.pendingContext?mp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mp(e,t.context,!1),P0(e,t.containerInfo)}function Bp(e,t,r,n,a){return Ii(),T0(a),t.flags|=256,Qt(e,t,r,n),t.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function Ef(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yy(e,t,r){var n=t.pendingProps,a=rt.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Je(rt,a&1),e===null)return ff(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Jc(s,n,0,null),e=Fa(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ef(r),t.memoizedState=wf,e):j0(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return pb(e,t,s,n,l,a,r);if(o){o=n.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=aa(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=aa(l,o):(o=Fa(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?Ef(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=wf,n}return o=e.child,e=o.sibling,n=aa(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function j0(e,t){return t=Jc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xs(e,t,r,n){return n!==null&&T0(n),Hi(t,e.child,null,r),e=j0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pb(e,t,r,n,a,o,s){if(r)return t.flags&256?(t.flags&=-257,n=nd(Error(ye(422))),Xs(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Jc({mode:"visible",children:n.children},a,0,null),o=Fa(o,a,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Hi(t,e.child,null,s),t.child.memoizedState=Ef(s),t.memoizedState=wf,o);if(!(t.mode&1))return Xs(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(ye(419)),n=nd(o,n,void 0),Xs(e,t,s,n)}if(l=(s&e.childLanes)!==0,tr||l){if(n=Tt,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Nn(e,a),Mr(n,e,a,-1))}return Y0(),n=nd(Error(ye(421))),Xs(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Tb.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,cr=ea(a.nextSibling),ur=t,tt=!0,Rr=null,e!==null&&(gr[yr++]=pn,gr[yr++]=hn,gr[yr++]=Va,pn=e.id,hn=e.overflow,Va=t),t=j0(t,n.children),t.flags|=4096,t)}function Rp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mf(e.return,t,r)}function ad(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function Qy(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Qt(e,t,n.children,r),n=rt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rp(e,r,t);else if(e.tag===19)Rp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Je(rt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&dc(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ad(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&dc(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ad(t,!0,r,null,o);break;case"together":ad(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function El(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ye(153));if(t.child!==null){for(e=t.child,r=aa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=aa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function hb(e,t,r){switch(t.tag){case 3:Ky(t),Ii();break;case 5:Ey(t);break;case 1:ar(t.type)&&ic(t);break;case 4:P0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Je(lc,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Je(rt,rt.current&1),t.flags|=128,null):r&t.child.childLanes?Yy(e,t,r):(Je(rt,rt.current&1),e=kn(e,t,r),e!==null?e.sibling:null);Je(rt,rt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qy(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Je(rt,rt.current),n)break;return null;case 22:case 23:return t.lanes=0,Gy(e,t,r)}return kn(e,t,r)}var Zy,bf,Xy,Jy;Zy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bf=function(){};Xy=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ta(Dr.current);var o=null;switch(r){case"input":a=Id(e,a),n=Id(e,n),o=[];break;case"select":a=it({},a,{value:void 0}),n=it({},n,{value:void 0}),o=[];break;case"textarea":a=qd(e,a),n=qd(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nc)}Yd(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ho.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ho.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Jy=function(e,t,r,n){r!==n&&(t.flags|=4)};function mo(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gb(e,t,r){var n=t.pendingProps;switch(k0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(t),null;case 1:return ar(t.type)&&ac(),Mt(t),null;case 3:return n=t.stateNode,Gi(),De(nr),De(It),M0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rr!==null&&(Cf(Rr),Rr=null))),bf(e,t),Mt(t),null;case 5:O0(t);var a=Ta(ts.current);if(r=t.type,e!==null&&t.stateNode!=null)Xy(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ye(166));return Mt(t),null}if(e=Ta(Dr.current),Qs(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Zr]=t,n[Do]=o,e=(t.mode&1)!==0,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<Eo.length;a++)Le(Eo[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":$m(n,o),Le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Le("invalid",n);break;case"textarea":Im(n,o),Le("invalid",n)}Yd(r,o),a=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ys(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ys(n.textContent,l,e),a=["children",""+l]):Ho.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Le("scroll",n)}switch(r){case"input":Ws(n),jm(n,o,!0);break;case"textarea":Ws(n),Hm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=nc)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ng(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Zr]=t,e[Do]=n,Zy(e,t,!1,!1),t.stateNode=e;e:{switch(s=Qd(r,n),r){case"dialog":Le("cancel",e),Le("close",e),a=n;break;case"iframe":case"object":case"embed":Le("load",e),a=n;break;case"video":case"audio":for(a=0;a<Eo.length;a++)Le(Eo[a],e);a=n;break;case"source":Le("error",e),a=n;break;case"img":case"image":case"link":Le("error",e),Le("load",e),a=n;break;case"details":Le("toggle",e),a=n;break;case"input":$m(e,n),a=Id(e,n),Le("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=it({},n,{value:void 0}),Le("invalid",e);break;case"textarea":Im(e,n),a=qd(e,n),Le("invalid",e);break;default:a=n}Yd(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Ag(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kg(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Go(e,c):typeof c=="number"&&Go(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ho.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Le("scroll",e):c!=null&&d0(e,o,c,s))}switch(r){case"input":Ws(e),jm(e,n,!1);break;case"textarea":Ws(e),Hm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ca(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Fi(e,!!n.multiple,o,!1):n.defaultValue!=null&&Fi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=nc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mt(t),null;case 6:if(e&&t.stateNode!=null)Jy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ye(166));if(r=Ta(ts.current),Ta(Dr.current),Qs(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zr]=t,(o=n.nodeValue!==r)&&(e=ur,e!==null))switch(e.tag){case 3:Ys(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ys(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zr]=t,t.stateNode=n}return Mt(t),null;case 13:if(De(rt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&cr!==null&&t.mode&1&&!(t.flags&128))hy(),Ii(),t.flags|=98560,o=!1;else if(o=Qs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ye(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ye(317));o[Zr]=t}else Ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mt(t),o=!1}else Rr!==null&&(Cf(Rr),Rr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?bt===0&&(bt=3):Y0())),t.updateQueue!==null&&(t.flags|=4),Mt(t),null);case 4:return Gi(),bf(e,t),e===null&&Jo(t.stateNode.containerInfo),Mt(t),null;case 10:return B0(t.type._context),Mt(t),null;case 17:return ar(t.type)&&ac(),Mt(t),null;case 19:if(De(rt),o=t.memoizedState,o===null)return Mt(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)mo(o,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=dc(e),s!==null){for(t.flags|=128,mo(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Je(rt,rt.current&1|2),t.child}e=e.sibling}o.tail!==null&&mt()>Ki&&(t.flags|=128,n=!0,mo(o,!1),t.lanes=4194304)}else{if(!n)if(e=dc(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),mo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!tt)return Mt(t),null}else 2*mt()-o.renderingStartTime>Ki&&r!==1073741824&&(t.flags|=128,n=!0,mo(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=mt(),t.sibling=null,r=rt.current,Je(rt,n?r&1|2:r&1),t):(Mt(t),null);case 22:case 23:return K0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?sr&1073741824&&(Mt(t),t.subtreeFlags&6&&(t.flags|=8192)):Mt(t),null;case 24:return null;case 25:return null}throw Error(ye(156,t.tag))}function yb(e,t){switch(k0(t),t.tag){case 1:return ar(t.type)&&ac(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gi(),De(nr),De(It),M0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return O0(t),null;case 13:if(De(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ye(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(rt),null;case 4:return Gi(),null;case 10:return B0(t.type._context),null;case 22:case 23:return K0(),null;case 24:return null;default:return null}}var Js=!1,$t=!1,vb=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Si(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lt(e,t,n)}else r.current=null}function xf(e,t,r){try{r()}catch(n){lt(e,t,n)}}var Fp=!1;function wb(e,t){if(af=ec,e=ry(),S0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,g=e,f=null;t:for(;;){for(var p;g!==r||a!==0&&g.nodeType!==3||(l=s+a),g!==o||n!==0&&g.nodeType!==3||(c=s+n),g.nodeType===3&&(s+=g.nodeValue.length),(p=g.firstChild)!==null;)f=g,g=p;for(;;){if(g===e)break t;if(f===r&&++u===a&&(l=s),f===o&&++d===n&&(c=s),(p=g.nextSibling)!==null)break;g=f,f=g.parentNode}g=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(of={focusedElem:e,selectionRange:r},ec=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var k=h.memoizedProps,B=h.memoizedState,_=t.stateNode,E=_.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ar(t.type,k),B);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(U){lt(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return h=Fp,Fp=!1,h}function Oo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&xf(t,r,o)}a=a.next}while(a!==n)}}function Zc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _f(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ly(e){var t=e.alternate;t!==null&&(e.alternate=null,Ly(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zr],delete t[Do],delete t[cf],delete t[tb],delete t[rb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dy(e){return e.tag===5||e.tag===3||e.tag===4}function Pp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nc));else if(n!==4&&(e=e.child,e!==null))for(Sf(e,t,r),e=e.sibling;e!==null;)Sf(e,t,r),e=e.sibling}function Nf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Nf(e,t,r),e=e.sibling;e!==null;)Nf(e,t,r),e=e.sibling}var Ct=null,Br=!1;function Fn(e,t,r){for(r=r.child;r!==null;)e1(e,t,r),r=r.sibling}function e1(e,t,r){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(jc,r)}catch{}switch(r.tag){case 5:$t||Si(r,t);case 6:var n=Ct,a=Br;Ct=null,Fn(e,t,r),Ct=n,Br=a,Ct!==null&&(Br?(e=Ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ct.removeChild(r.stateNode));break;case 18:Ct!==null&&(Br?(e=Ct,r=r.stateNode,e.nodeType===8?Ju(e.parentNode,r):e.nodeType===1&&Ju(e,r),Qo(e)):Ju(Ct,r.stateNode));break;case 4:n=Ct,a=Br,Ct=r.stateNode.containerInfo,Br=!0,Fn(e,t,r),Ct=n,Br=a;break;case 0:case 11:case 14:case 15:if(!$t&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&xf(r,t,s),a=a.next}while(a!==n)}Fn(e,t,r);break;case 1:if(!$t&&(Si(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){lt(r,t,l)}Fn(e,t,r);break;case 21:Fn(e,t,r);break;case 22:r.mode&1?($t=(n=$t)||r.memoizedState!==null,Fn(e,t,r),$t=n):Fn(e,t,r);break;default:Fn(e,t,r)}}function Op(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vb),t.forEach(function(n){var a=Ab.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Sr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,Br=!1;break e;case 3:Ct=l.stateNode.containerInfo,Br=!0;break e;case 4:Ct=l.stateNode.containerInfo,Br=!0;break e}l=l.return}if(Ct===null)throw Error(ye(160));e1(o,s,a),Ct=null,Br=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){lt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)t1(t,e),t=t.sibling}function t1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sr(t,e),Wr(e),n&4){try{Oo(3,e,e.return),Zc(3,e)}catch(k){lt(e,e.return,k)}try{Oo(5,e,e.return)}catch(k){lt(e,e.return,k)}}break;case 1:Sr(t,e),Wr(e),n&512&&r!==null&&Si(r,r.return);break;case 5:if(Sr(t,e),Wr(e),n&512&&r!==null&&Si(r,r.return),e.flags&32){var a=e.stateNode;try{Go(a,"")}catch(k){lt(e,e.return,k)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&_g(a,o),Qd(l,s);var u=Qd(l,o);for(s=0;s<c.length;s+=2){var d=c[s],g=c[s+1];d==="style"?Ag(a,g):d==="dangerouslySetInnerHTML"?kg(a,g):d==="children"?Go(a,g):d0(a,d,g,u)}switch(l){case"input":Hd(a,o);break;case"textarea":Sg(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Fi(a,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Fi(a,!!o.multiple,o.defaultValue,!0):Fi(a,!!o.multiple,o.multiple?[]:"",!1))}a[Do]=o}catch(k){lt(e,e.return,k)}}break;case 6:if(Sr(t,e),Wr(e),n&4){if(e.stateNode===null)throw Error(ye(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(k){lt(e,e.return,k)}}break;case 3:if(Sr(t,e),Wr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qo(t.containerInfo)}catch(k){lt(e,e.return,k)}break;case 4:Sr(t,e),Wr(e);break;case 13:Sr(t,e),Wr(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(G0=mt())),n&4&&Op(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?($t=(u=$t)||d,Sr(t,e),$t=u):Sr(t,e),Wr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(xe=e,d=e.child;d!==null;){for(g=xe=d;xe!==null;){switch(f=xe,p=f.child,f.tag){case 0:case 11:case 14:case 15:Oo(4,f,f.return);break;case 1:Si(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(k){lt(n,r,k)}}break;case 5:Si(f,f.return);break;case 22:if(f.memoizedState!==null){Up(g);continue}}p!==null?(p.return=f,xe=p):Up(g)}d=d.sibling}e:for(d=null,g=e;;){if(g.tag===5){if(d===null){d=g;try{a=g.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=g.stateNode,c=g.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Tg("display",s))}catch(k){lt(e,e.return,k)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(k){lt(e,e.return,k)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Sr(t,e),Wr(e),n&4&&Op(e);break;case 21:break;default:Sr(t,e),Wr(e)}}function Wr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Dy(r)){var n=r;break e}r=r.return}throw Error(ye(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Go(a,""),n.flags&=-33);var o=Pp(e);Nf(e,o,a);break;case 3:case 4:var s=n.stateNode.containerInfo,l=Pp(e);Sf(e,l,s);break;default:throw Error(ye(161))}}catch(c){lt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Eb(e,t,r){xe=e,r1(e)}function r1(e,t,r){for(var n=(e.mode&1)!==0;xe!==null;){var a=xe,o=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Js;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||$t;l=Js;var u=$t;if(Js=s,($t=c)&&!u)for(xe=a;xe!==null;)s=xe,c=s.child,s.tag===22&&s.memoizedState!==null?zp(a):c!==null?(c.return=s,xe=c):zp(a);for(;o!==null;)xe=o,r1(o),o=o.sibling;xe=a,Js=l,$t=u}Mp(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,xe=o):Mp(e)}}function Mp(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||Zc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$t)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ar(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&wp(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wp(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&Qo(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}$t||t.flags&512&&_f(t)}catch(f){lt(t,t.return,f)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function Up(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function zp(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Zc(4,t)}catch(c){lt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){lt(t,a,c)}}var o=t.return;try{_f(t)}catch(c){lt(t,o,c)}break;case 5:var s=t.return;try{_f(t)}catch(c){lt(t,s,c)}}}catch(c){lt(t,t.return,c)}if(t===e){xe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,xe=l;break}xe=t.return}}var bb=Math.ceil,pc=Cn.ReactCurrentDispatcher,I0=Cn.ReactCurrentOwner,Er=Cn.ReactCurrentBatchConfig,He=0,Tt=null,yt=null,Rt=0,sr=0,Ni=fa(0),bt=0,is=null,$a=0,Xc=0,H0=0,Mo=null,Dt=null,G0=0,Ki=1/0,ln=null,hc=!1,kf=null,ra=null,Ls=!1,Zn=null,gc=0,Uo=0,Tf=null,bl=-1,xl=0;function Xt(){return He&6?mt():bl!==-1?bl:bl=mt()}function na(e){return e.mode&1?He&2&&Rt!==0?Rt&-Rt:ab.transition!==null?(xl===0&&(xl=$g()),xl):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:Yg(e.type)),e):1}function Mr(e,t,r,n){if(50<Uo)throw Uo=0,Tf=null,Error(ye(185));ys(e,r,n),(!(He&2)||e!==Tt)&&(e===Tt&&(!(He&2)&&(Xc|=r),bt===4&&Kn(e,Rt)),ir(e,n),r===1&&He===0&&!(t.mode&1)&&(Ki=mt()+500,Kc&&ma()))}function ir(e,t){var r=e.callbackNode;a2(e,t);var n=Dl(e,e===Tt?Rt:0);if(n===0)r!==null&&Km(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Km(r),t===1)e.tag===0?nb(Vp.bind(null,e)):fy(Vp.bind(null,e)),D2(function(){!(He&6)&&ma()}),r=null;else{switch(jg(n)){case 1:r=g0;break;case 4:r=Vg;break;case 16:r=Ll;break;case 536870912:r=Wg;break;default:r=Ll}r=u1(r,n1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function n1(e,t){if(bl=-1,xl=0,He&6)throw Error(ye(327));var r=e.callbackNode;if(zi()&&e.callbackNode!==r)return null;var n=Dl(e,e===Tt?Rt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=yc(e,n);else{t=n;var a=He;He|=2;var o=i1();(Tt!==e||Rt!==t)&&(ln=null,Ki=mt()+500,Ra(e,t));do try{Sb();break}catch(l){a1(e,l)}while(1);C0(),pc.current=o,He=a,yt!==null?t=0:(Tt=null,Rt=0,t=bt)}if(t!==0){if(t===2&&(a=Dd(e),a!==0&&(n=a,t=Af(e,a))),t===1)throw r=is,Ra(e,0),Kn(e,n),ir(e,mt()),r;if(t===6)Kn(e,n);else{if(a=e.current.alternate,!(n&30)&&!xb(a)&&(t=yc(e,n),t===2&&(o=Dd(e),o!==0&&(n=o,t=Af(e,o))),t===1))throw r=is,Ra(e,0),Kn(e,n),ir(e,mt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ye(345));case 2:va(e,Dt,ln);break;case 3:if(Kn(e,n),(n&130023424)===n&&(t=G0+500-mt(),10<t)){if(Dl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Xt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=lf(va.bind(null,e,Dt,ln),t);break}va(e,Dt,ln);break;case 4:if(Kn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Or(n);o=1<<s,s=t[s],s>a&&(a=s),n&=~o}if(n=a,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bb(n/1960))-n,10<n){e.timeoutHandle=lf(va.bind(null,e,Dt,ln),n);break}va(e,Dt,ln);break;case 5:va(e,Dt,ln);break;default:throw Error(ye(329))}}}return ir(e,mt()),e.callbackNode===r?n1.bind(null,e):null}function Af(e,t){var r=Mo;return e.current.memoizedState.isDehydrated&&(Ra(e,t).flags|=256),e=yc(e,t),e!==2&&(t=Dt,Dt=r,t!==null&&Cf(t)),e}function Cf(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function xb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!zr(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kn(e,t){for(t&=~H0,t&=~Xc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Or(t),n=1<<r;e[r]=-1,t&=~n}}function Vp(e){if(He&6)throw Error(ye(327));zi();var t=Dl(e,0);if(!(t&1))return ir(e,mt()),null;var r=yc(e,t);if(e.tag!==0&&r===2){var n=Dd(e);n!==0&&(t=n,r=Af(e,n))}if(r===1)throw r=is,Ra(e,0),Kn(e,t),ir(e,mt()),r;if(r===6)throw Error(ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,va(e,Dt,ln),ir(e,mt()),null}function q0(e,t){var r=He;He|=1;try{return e(t)}finally{He=r,He===0&&(Ki=mt()+500,Kc&&ma())}}function ja(e){Zn!==null&&Zn.tag===0&&!(He&6)&&zi();var t=He;He|=1;var r=Er.transition,n=Ye;try{if(Er.transition=null,Ye=1,e)return e()}finally{Ye=n,Er.transition=r,He=t,!(He&6)&&ma()}}function K0(){sr=Ni.current,De(Ni)}function Ra(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,L2(r)),yt!==null)for(r=yt.return;r!==null;){var n=r;switch(k0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ac();break;case 3:Gi(),De(nr),De(It),M0();break;case 5:O0(n);break;case 4:Gi();break;case 13:De(rt);break;case 19:De(rt);break;case 10:B0(n.type._context);break;case 22:case 23:K0()}r=r.return}if(Tt=e,yt=e=aa(e.current,null),Rt=sr=t,bt=0,is=null,H0=Xc=$a=0,Dt=Mo=null,ka!==null){for(t=0;t<ka.length;t++)if(r=ka[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=a,n.next=s}r.pending=n}ka=null}return e}function a1(e,t){do{var r=yt;try{if(C0(),vl.current=mc,fc){for(var n=nt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}fc=!1}if(Wa=0,Nt=wt=nt=null,Po=!1,rs=0,I0.current=null,r===null||r.return===null){bt=1,is=t,yt=null;break}e:{var o=e,s=r.return,l=r,c=t;if(t=Rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Np(s);if(p!==null){p.flags&=-257,kp(p,s,l,o,t),p.mode&1&&Sp(o,u,t),t=p,c=u;var h=t.updateQueue;if(h===null){var k=new Set;k.add(c),t.updateQueue=k}else h.add(c);break e}else{if(!(t&1)){Sp(o,u,t),Y0();break e}c=Error(ye(426))}}else if(tt&&l.mode&1){var B=Np(s);if(B!==null){!(B.flags&65536)&&(B.flags|=256),kp(B,s,l,o,t),T0(qi(c,l));break e}}o=c=qi(c,l),bt!==4&&(bt=2),Mo===null?Mo=[o]:Mo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var _=jy(o,c,t);vp(o,_);break e;case 1:l=c;var E=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ra===null||!ra.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var U=Iy(o,l,t);vp(o,U);break e}}o=o.return}while(o!==null)}s1(r)}catch(C){t=C,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(1)}function i1(){var e=pc.current;return pc.current=mc,e===null?mc:e}function Y0(){(bt===0||bt===3||bt===2)&&(bt=4),Tt===null||!($a&268435455)&&!(Xc&268435455)||Kn(Tt,Rt)}function yc(e,t){var r=He;He|=2;var n=i1();(Tt!==e||Rt!==t)&&(ln=null,Ra(e,t));do try{_b();break}catch(a){a1(e,a)}while(1);if(C0(),He=r,pc.current=n,yt!==null)throw Error(ye(261));return Tt=null,Rt=0,bt}function _b(){for(;yt!==null;)o1(yt)}function Sb(){for(;yt!==null&&!ZE();)o1(yt)}function o1(e){var t=c1(e.alternate,e,sr);e.memoizedProps=e.pendingProps,t===null?s1(e):yt=t,I0.current=null}function s1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=yb(r,t),r!==null){r.flags&=32767,yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,yt=null;return}}else if(r=gb(r,t,sr),r!==null){yt=r;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);bt===0&&(bt=5)}function va(e,t,r){var n=Ye,a=Er.transition;try{Er.transition=null,Ye=1,Nb(e,t,r,n)}finally{Er.transition=a,Ye=n}return null}function Nb(e,t,r,n){do zi();while(Zn!==null);if(He&6)throw Error(ye(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ye(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(i2(e,o),e===Tt&&(yt=Tt=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ls||(Ls=!0,u1(Ll,function(){return zi(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Er.transition,Er.transition=null;var s=Ye;Ye=1;var l=He;He|=4,I0.current=null,wb(e,r),t1(r,e),q2(of),ec=!!af,of=af=null,e.current=r,Eb(r),XE(),He=l,Ye=s,Er.transition=o}else e.current=r;if(Ls&&(Ls=!1,Zn=e,gc=a),o=e.pendingLanes,o===0&&(ra=null),DE(r.stateNode),ir(e,mt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(hc)throw hc=!1,e=kf,kf=null,e;return gc&1&&e.tag!==0&&zi(),o=e.pendingLanes,o&1?e===Tf?Uo++:(Uo=0,Tf=e):Uo=0,ma(),null}function zi(){if(Zn!==null){var e=jg(gc),t=Er.transition,r=Ye;try{if(Er.transition=null,Ye=16>e?16:e,Zn===null)var n=!1;else{if(e=Zn,Zn=null,gc=0,He&6)throw Error(ye(331));var a=He;for(He|=4,xe=e.current;xe!==null;){var o=xe,s=o.child;if(xe.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(xe=u;xe!==null;){var d=xe;switch(d.tag){case 0:case 11:case 15:Oo(8,d,o)}var g=d.child;if(g!==null)g.return=d,xe=g;else for(;xe!==null;){d=xe;var f=d.sibling,p=d.return;if(Ly(d),d===u){xe=null;break}if(f!==null){f.return=p,xe=f;break}xe=p}}}var h=o.alternate;if(h!==null){var k=h.child;if(k!==null){h.child=null;do{var B=k.sibling;k.sibling=null,k=B}while(k!==null)}}xe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,xe=s;else e:for(;xe!==null;){if(o=xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oo(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,xe=_;break e}xe=o.return}}var E=e.current;for(xe=E;xe!==null;){s=xe;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,xe=x;else e:for(s=E;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zc(9,l)}}catch(C){lt(l,l.return,C)}if(l===s){xe=null;break e}var U=l.sibling;if(U!==null){U.return=l.return,xe=U;break e}xe=l.return}}if(He=a,ma(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(jc,e)}catch{}n=!0}return n}finally{Ye=r,Er.transition=t}}return!1}function Wp(e,t,r){t=qi(r,t),t=jy(e,t,1),e=ta(e,t,1),t=Xt(),e!==null&&(ys(e,1,t),ir(e,t))}function lt(e,t,r){if(e.tag===3)Wp(e,e,r);else for(;t!==null;){if(t.tag===3){Wp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ra===null||!ra.has(n))){e=qi(r,e),e=Iy(t,e,1),t=ta(t,e,1),e=Xt(),t!==null&&(ys(t,1,e),ir(t,e));break}}t=t.return}}function kb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xt(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(Rt&r)===r&&(bt===4||bt===3&&(Rt&130023424)===Rt&&500>mt()-G0?Ra(e,0):H0|=r),ir(e,t)}function l1(e,t){t===0&&(e.mode&1?(t=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):t=1);var r=Xt();e=Nn(e,t),e!==null&&(ys(e,t,r),ir(e,r))}function Tb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),l1(e,r)}function Ab(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ye(314))}n!==null&&n.delete(t),l1(e,r)}var c1;c1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||nr.current)tr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return tr=!1,hb(e,t,r);tr=!!(e.flags&131072)}else tr=!1,tt&&t.flags&1048576&&my(t,sc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;El(e,t),e=t.pendingProps;var a=ji(t,It.current);Ui(t,r),a=z0(null,t,n,e,a,r);var o=V0();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ar(n)?(o=!0,ic(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,F0(t),a.updater=Qc,t.stateNode=a,a._reactInternals=t,hf(t,n,e,r),t=vf(null,t,n,!0,o,r)):(t.tag=0,tt&&o&&N0(t),Qt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(El(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Bb(n),e=Ar(n,e),a){case 0:t=yf(null,t,n,e,r);break e;case 1:t=Cp(null,t,n,e,r);break e;case 11:t=Tp(null,t,n,e,r);break e;case 14:t=Ap(null,t,n,Ar(n.type,e),r);break e}throw Error(ye(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ar(n,a),yf(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ar(n,a),Cp(e,t,n,a,r);case 3:e:{if(Ky(t),e===null)throw Error(ye(387));n=t.pendingProps,o=t.memoizedState,a=o.element,wy(e,t),uc(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=qi(Error(ye(423)),t),t=Bp(e,t,n,r,a);break e}else if(n!==a){a=qi(Error(ye(424)),t),t=Bp(e,t,n,r,a);break e}else for(cr=ea(t.stateNode.containerInfo.firstChild),ur=t,tt=!0,Rr=null,r=yy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ii(),n===a){t=kn(e,t,r);break e}Qt(e,t,n,r)}t=t.child}return t;case 5:return Ey(t),e===null&&ff(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,s=a.children,sf(n,a)?s=null:o!==null&&sf(n,o)&&(t.flags|=32),qy(e,t),Qt(e,t,s,r),t.child;case 6:return e===null&&ff(t),null;case 13:return Yy(e,t,r);case 4:return P0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hi(t,null,n,r):Qt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ar(n,a),Tp(e,t,n,a,r);case 7:return Qt(e,t,t.pendingProps,r),t.child;case 8:return Qt(e,t,t.pendingProps.children,r),t.child;case 12:return Qt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Je(lc,n._currentValue),n._currentValue=s,o!==null)if(zr(o.value,s)){if(o.children===a.children&&!nr.current){t=kn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=En(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),mf(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ye(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),mf(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Qt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ui(t,r),a=br(a),n=n(a),t.flags|=1,Qt(e,t,n,r),t.child;case 14:return n=t.type,a=Ar(n,t.pendingProps),a=Ar(n.type,a),Ap(e,t,n,a,r);case 15:return Hy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ar(n,a),El(e,t),t.tag=1,ar(n)?(e=!0,ic(t)):e=!1,Ui(t,r),$y(t,n,a),hf(t,n,a,r),vf(null,t,n,!0,e,r);case 19:return Qy(e,t,r);case 22:return Gy(e,t,r)}throw Error(ye(156,t.tag))};function u1(e,t){return zg(e,t)}function Cb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(e,t,r,n){return new Cb(e,t,r,n)}function Q0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bb(e){if(typeof e=="function")return Q0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===m0)return 11;if(e===p0)return 14}return 2}function aa(e,t){var r=e.alternate;return r===null?(r=wr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _l(e,t,r,n,a,o){var s=2;if(n=e,typeof e=="function")Q0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case hi:return Fa(r.children,a,o,t);case f0:s=8,a|=8;break;case Vd:return e=wr(12,r,t,a|2),e.elementType=Vd,e.lanes=o,e;case Wd:return e=wr(13,r,t,a),e.elementType=Wd,e.lanes=o,e;case $d:return e=wr(19,r,t,a),e.elementType=$d,e.lanes=o,e;case Eg:return Jc(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vg:s=10;break e;case wg:s=9;break e;case m0:s=11;break e;case p0:s=14;break e;case Wn:s=16,n=null;break e}throw Error(ye(130,e==null?e:typeof e,""))}return t=wr(s,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Fa(e,t,r,n){return e=wr(7,e,n,t),e.lanes=r,e}function Jc(e,t,r,n){return e=wr(22,e,n,t),e.elementType=Eg,e.lanes=r,e.stateNode={isHidden:!1},e}function id(e,t,r){return e=wr(6,e,null,t),e.lanes=r,e}function od(e,t,r){return t=wr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rb(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$u(0),this.expirationTimes=$u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$u(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Z0(e,t,r,n,a,o,s,l,c){return e=new Rb(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=wr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},F0(o),e}function Fb(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function d1(e){if(!e)return ua;e=e._reactInternals;e:{if(Xa(e)!==e||e.tag!==1)throw Error(ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ye(171))}if(e.tag===1){var r=e.type;if(ar(r))return dy(e,r,t)}return t}function f1(e,t,r,n,a,o,s,l,c){return e=Z0(r,n,!0,e,a,o,s,l,c),e.context=d1(null),r=e.current,n=Xt(),a=na(r),o=En(n,a),o.callback=t??null,ta(r,o,a),e.current.lanes=a,ys(e,a,n),ir(e,n),e}function Lc(e,t,r,n){var a=t.current,o=Xt(),s=na(a);return r=d1(r),t.context===null?t.context=r:t.pendingContext=r,t=En(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ta(a,t,s),e!==null&&(Mr(e,a,s,o),yl(e,a,s)),s}function vc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $p(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function X0(e,t){$p(e,t),(e=e.alternate)&&$p(e,t)}function Pb(){return null}var m1=typeof reportError=="function"?reportError:function(e){console.error(e)};function J0(e){this._internalRoot=e}Dc.prototype.render=J0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ye(409));Lc(e,t,null,null)};Dc.prototype.unmount=J0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ja(function(){Lc(null,e,null,null)}),t[Sn]=null}};function Dc(e){this._internalRoot=e}Dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qn.length&&t!==0&&t<qn[r].priority;r++);qn.splice(r,0,e),r===0&&Kg(e)}};function L0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jp(){}function Ob(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=vc(s);o.call(u)}}var s=f1(t,n,e,0,null,!1,!1,"",jp);return e._reactRootContainer=s,e[Sn]=s.current,Jo(e.nodeType===8?e.parentNode:e),ja(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=vc(c);l.call(u)}}var c=Z0(e,0,!1,null,null,!1,!1,"",jp);return e._reactRootContainer=c,e[Sn]=c.current,Jo(e.nodeType===8?e.parentNode:e),ja(function(){Lc(t,c,r,n)}),c}function tu(e,t,r,n,a){var o=r._reactRootContainer;if(o){var s=o;if(typeof a=="function"){var l=a;a=function(){var c=vc(s);l.call(c)}}Lc(t,s,e,a)}else s=Ob(r,t,e,a,n);return vc(s)}Ig=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wo(t.pendingLanes);r!==0&&(y0(t,r|1),ir(t,mt()),!(He&6)&&(Ki=mt()+500,ma()))}break;case 13:ja(function(){var n=Nn(e,1);if(n!==null){var a=Xt();Mr(n,e,1,a)}}),X0(e,1)}};v0=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var r=Xt();Mr(t,e,134217728,r)}X0(e,134217728)}};Hg=function(e){if(e.tag===13){var t=na(e),r=Nn(e,t);if(r!==null){var n=Xt();Mr(r,e,t,n)}X0(e,t)}};Gg=function(){return Ye};qg=function(e,t){var r=Ye;try{return Ye=e,t()}finally{Ye=r}};Xd=function(e,t,r){switch(t){case"input":if(Hd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=qc(n);if(!a)throw Error(ye(90));xg(n),Hd(n,a)}}}break;case"textarea":Sg(e,r);break;case"select":t=r.value,t!=null&&Fi(e,!!r.multiple,t,!1)}};Rg=q0;Fg=ja;var Mb={usingClientEntryPoint:!1,Events:[ws,wi,qc,Cg,Bg,q0]},po={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ub={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mg(e),e===null?null:e.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||Pb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{jc=Ds.inject(Ub),Lr=Ds}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mb;fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L0(t))throw Error(ye(200));return Fb(e,t,null,r)};fr.createRoot=function(e,t){if(!L0(e))throw Error(ye(299));var r=!1,n="",a=m1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Z0(e,1,!1,null,null,r,!1,n,a),e[Sn]=t.current,Jo(e.nodeType===8?e.parentNode:e),new J0(t)};fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ye(188)):(e=Object.keys(e).join(","),Error(ye(268,e)));return e=Mg(t),e=e===null?null:e.stateNode,e};fr.flushSync=function(e){return ja(e)};fr.hydrate=function(e,t,r){if(!eu(t))throw Error(ye(200));return tu(null,e,t,!0,r)};fr.hydrateRoot=function(e,t,r){if(!L0(e))throw Error(ye(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",s=m1;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=f1(t,null,e,1,r??null,a,!1,o,s),e[Sn]=t.current,Jo(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Dc(t)};fr.render=function(e,t,r){if(!eu(t))throw Error(ye(200));return tu(null,e,t,!1,r)};fr.unmountComponentAtNode=function(e){if(!eu(e))throw Error(ye(40));return e._reactRootContainer?(ja(function(){tu(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};fr.unstable_batchedUpdates=q0;fr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!eu(r))throw Error(ye(200));if(e==null||e._reactInternals===void 0)throw Error(ye(38));return tu(e,t,r,!1,n)};fr.version="18.3.1-next-f1338f8080-20240426";function p1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p1)}catch(e){console.error(e)}}p1(),pg.exports=fr;var zb=pg.exports,h1,Ip=zb;h1=Ip.createRoot,Ip.hydrateRoot;const Vb="modulepreload",Wb=function(e){return"/"+e},Hp={},g1=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=Wb(o),o in Hp)return;Hp[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!n)for(let d=a.length-1;d>=0;d--){const g=a[d];if(g.href===o&&(!s||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":Vb,s||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),s)return new Promise((d,g)=>{u.addEventListener("load",d),u.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var Gp="popstate";function $b(e={}){function t(n,a){let{pathname:o,search:s,hash:l}=n.location;return Bf("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:os(a)}return Ib(t,r,null,e)}function at(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jb(){return Math.random().toString(36).substring(2,10)}function qp(e,t){return{usr:e.state,key:e.key,idx:t}}function Bf(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?to(t):t,state:r,key:t&&t.key||n||jb()}}function os({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function to(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Ib(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,s=a.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function g(){l="POP";let B=d(),_=B==null?null:B-u;u=B,c&&c({action:l,location:k.location,delta:_})}function f(B,_){l="PUSH";let E=Bf(k.location,B,_);r&&r(E,B),u=d()+1;let x=qp(E,u),U=k.createHref(E);try{s.pushState(x,"",U)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(U)}o&&c&&c({action:l,location:k.location,delta:1})}function p(B,_){l="REPLACE";let E=Bf(k.location,B,_);r&&r(E,B),u=d();let x=qp(E,u),U=k.createHref(E);s.replaceState(x,"",U),o&&c&&c({action:l,location:k.location,delta:0})}function h(B){return Hb(B)}let k={get action(){return l},get location(){return e(a,s)},listen(B){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Gp,g),c=B,()=>{a.removeEventListener(Gp,g),c=null}},createHref(B){return t(a,B)},createURL:h,encodeLocation(B){let _=h(B);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(B){return s.go(B)}};return k}function Hb(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),at(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:os(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function y1(e,t,r="/"){return Gb(e,t,r,!1)}function Gb(e,t,r,n){let a=typeof t=="string"?to(t):t,o=Tn(a.pathname||"/",r);if(o==null)return null;let s=v1(e);qb(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=rx(o);l=ex(s[c],u,n)}return l}function v1(e,t=[],r=[],n=""){let a=(o,s,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(at(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=bn([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(at(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),v1(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Lb(u,o.index),routesMeta:d})};return e.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,s);else for(let c of w1(o.path))a(o,s,c)}),t}function w1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let s=w1(n.join("/")),l=[];return l.push(...s.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function qb(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Db(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Kb=/^:[\w-]+$/,Yb=3,Qb=2,Zb=1,Xb=10,Jb=-2,Kp=e=>e==="*";function Lb(e,t){let r=e.split("/"),n=r.length;return r.some(Kp)&&(n+=Jb),t&&(n+=Qb),r.filter(a=>!Kp(a)).reduce((a,o)=>a+(Kb.test(o)?Yb:o===""?Zb:Xb),n)}function Db(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function ex(e,t,r=!1){let{routesMeta:n}=e,a={},o="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",g=wc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!g&&u&&r&&!n[n.length-1].route.index&&(g=wc({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!g)return null;Object.assign(a,g.params),s.push({params:a,pathname:bn([o,g.pathname]),pathnameBase:ox(bn([o,g.pathnameBase])),route:f}),g.pathnameBase!=="/"&&(o=bn([o,g.pathnameBase]))}return s}function wc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=tx(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:g},f)=>{if(d==="*"){let h=l[f]||"";s=o.slice(0,o.length-h.length).replace(/(.)\/+$/,"$1")}const p=l[f];return g&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function tx(e,t=!1,r=!0){tn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function rx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Tn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function nx(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?to(e):e;return{pathname:r?r.startsWith("/")?r:ax(r,t):t,search:sx(n),hash:lx(a)}}function ax(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function sd(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ix(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function E1(e){let t=ix(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function b1(e,t,r,n=!1){let a;typeof e=="string"?a=to(e):(a={...e},at(!a.pathname||!a.pathname.includes("?"),sd("?","pathname","search",a)),at(!a.pathname||!a.pathname.includes("#"),sd("#","pathname","hash",a)),at(!a.search||!a.search.includes("#"),sd("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,l;if(s==null)l=r;else{let g=t.length-1;if(!n&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),g-=1;a.pathname=f.join("/")}l=g>=0?t[g]:"/"}let c=nx(a,l),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var bn=e=>e.join("/").replace(/\/\/+/g,"/"),ox=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var x1=["POST","PUT","PATCH","DELETE"];new Set(x1);var ux=["GET",...x1];new Set(ux);var ro=M.createContext(null);ro.displayName="DataRouter";var ru=M.createContext(null);ru.displayName="DataRouterState";M.createContext(!1);var _1=M.createContext({isTransitioning:!1});_1.displayName="ViewTransition";var dx=M.createContext(new Map);dx.displayName="Fetchers";var fx=M.createContext(null);fx.displayName="Await";var rn=M.createContext(null);rn.displayName="Navigation";var bs=M.createContext(null);bs.displayName="Location";var Bn=M.createContext({outlet:null,matches:[],isDataRoute:!1});Bn.displayName="Route";var D0=M.createContext(null);D0.displayName="RouteError";function mx(e,{relative:t}={}){at(xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=M.useContext(rn),{hash:a,pathname:o,search:s}=_s(e,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:bn([r,o])),n.createHref({pathname:l,search:s,hash:a})}function xs(){return M.useContext(bs)!=null}function Ja(){return at(xs(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(bs).location}var S1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N1(e){M.useContext(rn).static||M.useLayoutEffect(e)}function nu(){let{isDataRoute:e}=M.useContext(Bn);return e?kx():px()}function px(){at(xs(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(ro),{basename:t,navigator:r}=M.useContext(rn),{matches:n}=M.useContext(Bn),{pathname:a}=Ja(),o=JSON.stringify(E1(n)),s=M.useRef(!1);return N1(()=>{s.current=!0}),M.useCallback((c,u={})=>{if(tn(s.current,S1),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=b1(c,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:bn([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,o,a,e])}M.createContext(null);function _s(e,{relative:t}={}){let{matches:r}=M.useContext(Bn),{pathname:n}=Ja(),a=JSON.stringify(E1(r));return M.useMemo(()=>b1(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function hx(e,t){return k1(e,t)}function k1(e,t,r,n){var _;at(xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=M.useContext(rn),{matches:o}=M.useContext(Bn),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let E=d&&d.path||"";T1(c,!d||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Ja(),f;if(t){let E=typeof t=="string"?to(t):t;at(u==="/"||((_=E.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${E.pathname}" was given in the \`location\` prop.`),f=E}else f=g;let p=f.pathname||"/",h=p;if(u!=="/"){let E=u.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=y1(e,{pathname:h});tn(d||k!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),tn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Ex(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:bn([u,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:bn([u,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,r,n);return t&&B?M.createElement(bs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},B):B}function gx(){let e=Nx(),t=cx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),r?M.createElement("pre",{style:a},r):null,s)}var yx=M.createElement(gx,null),vx=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?M.createElement(Bn.Provider,{value:this.props.routeContext},M.createElement(D0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wx({routeContext:e,match:t,children:r}){let n=M.useContext(ro);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(Bn.Provider,{value:e},r)}function Ex(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=r==null?void 0:r.errors;if(o!=null){let c=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);at(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:g}=r,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!g||g[u.route.id]===void 0);if(u.route.lazy||f){s=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let g,f=!1,p=null,h=null;r&&(g=o&&u.route.id?o[u.route.id]:void 0,p=u.route.errorElement||yx,s&&(l<0&&d===0?(T1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,h=null):l===d&&(f=!0,h=u.route.hydrateFallbackElement||null)));let k=t.concat(a.slice(0,d+1)),B=()=>{let _;return g?_=p:f?_=h:u.route.Component?_=M.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=c,M.createElement(wx,{match:u,routeContext:{outlet:c,matches:k,isDataRoute:r!=null},children:_})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?M.createElement(vx,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:B(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):B()},null)}function em(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bx(e){let t=M.useContext(ro);return at(t,em(e)),t}function xx(e){let t=M.useContext(ru);return at(t,em(e)),t}function _x(e){let t=M.useContext(Bn);return at(t,em(e)),t}function tm(e){let t=_x(e),r=t.matches[t.matches.length-1];return at(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Sx(){return tm("useRouteId")}function Nx(){var n;let e=M.useContext(D0),t=xx("useRouteError"),r=tm("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function kx(){let{router:e}=bx("useNavigate"),t=tm("useNavigate"),r=M.useRef(!1);return N1(()=>{r.current=!0}),M.useCallback(async(a,o={})=>{tn(r.current,S1),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var Yp={};function T1(e,t,r){!t&&!Yp[e]&&(Yp[e]=!0,tn(!1,r))}M.memo(Tx);function Tx({routes:e,future:t,state:r}){return k1(e,void 0,r,t)}function Rf(e){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ax({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:o=!1}){at(!xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=M.useMemo(()=>({basename:s,navigator:a,static:o,future:{}}),[s,a,o]);typeof r=="string"&&(r=to(r));let{pathname:c="/",search:u="",hash:d="",state:g=null,key:f="default"}=r,p=M.useMemo(()=>{let h=Tn(c,s);return h==null?null:{location:{pathname:h,search:u,hash:d,state:g,key:f},navigationType:n}},[s,c,u,d,g,f,n]);return tn(p!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:M.createElement(rn.Provider,{value:l},M.createElement(bs.Provider,{children:t,value:p}))}function Cx({children:e,location:t}){return hx(Ff(e),t)}function Ff(e,t=[]){let r=[];return M.Children.forEach(e,(n,a)=>{if(!M.isValidElement(n))return;let o=[...t,a];if(n.type===M.Fragment){r.push.apply(r,Ff(n.props.children,o));return}at(n.type===Rf,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Ff(n.props.children,o)),r.push(s)}),r}var Sl="get",Nl="application/x-www-form-urlencoded";function au(e){return e!=null&&typeof e.tagName=="string"}function Bx(e){return au(e)&&e.tagName.toLowerCase()==="button"}function Rx(e){return au(e)&&e.tagName.toLowerCase()==="form"}function Fx(e){return au(e)&&e.tagName.toLowerCase()==="input"}function Px(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ox(e,t){return e.button===0&&(!t||t==="_self")&&!Px(e)}var el=null;function Mx(){if(el===null)try{new FormData(document.createElement("form"),0),el=!1}catch{el=!0}return el}var Ux=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ld(e){return e!=null&&!Ux.has(e)?(tn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nl}"`),null):e}function zx(e,t){let r,n,a,o,s;if(Rx(e)){let l=e.getAttribute("action");n=l?Tn(l,t):null,r=e.getAttribute("method")||Sl,a=ld(e.getAttribute("enctype"))||Nl,o=new FormData(e)}else if(Bx(e)||Fx(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Tn(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Sl,a=ld(e.getAttribute("formenctype"))||ld(l.getAttribute("enctype"))||Nl,o=new FormData(l,e),!Mx()){let{name:u,type:d,value:g}=e;if(d==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,g)}}else{if(au(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Sl,n=null,a=Nl,s=e}return o&&a==="text/plain"&&(s=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vx(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Tn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Wx(e,t){if(e.id in t)return t[e.id];try{let r=await g1(()=>import(e.module),[]);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $x(e){return e!=null&&typeof e.page=="string"}function jx(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Ix(e,t,r){let n=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let s=await Wx(o,r);return s.links?s.links():[]}return[]}));return Kx(n.flat(1).filter(jx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Qp(e,t,r,n,a,o){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,u)=>s(c,u)||l(c,u)):o==="data"?t.filter((c,u)=>{var g;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Hx(e,t,{includeHydrateFallback:r}={}){return Gx(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Gx(e){return[...new Set(e)]}function qx(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Kx(e,t){let r=new Set,n=new Set(t);return e.reduce((a,o)=>{if(t&&!$x(o)&&o.as==="script"&&o.href&&n.has(o.href))return a;let l=JSON.stringify(qx(o));return r.has(l)||(r.add(l),a.push({key:l,link:o})),a},[])}function A1(){let e=M.useContext(ro);return rm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Yx(){let e=M.useContext(ru);return rm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nm=M.createContext(void 0);nm.displayName="FrameworkContext";function C1(){let e=M.useContext(nm);return rm(e,"You must render this element inside a <HydratedRouter> element"),e}function Qx(e,t){let r=M.useContext(nm),[n,a]=M.useState(!1),[o,s]=M.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:g}=t,f=M.useRef(null);M.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let k=_=>{_.forEach(E=>{s(E.isIntersecting)})},B=new IntersectionObserver(k,{threshold:.5});return f.current&&B.observe(f.current),()=>{B.disconnect()}}},[e]),M.useEffect(()=>{if(n){let k=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(k)}}},[n]);let p=()=>{a(!0)},h=()=>{a(!1),s(!1)};return r?e!=="intent"?[o,f,{}]:[o,f,{onFocus:ho(l,p),onBlur:ho(c,h),onMouseEnter:ho(u,p),onMouseLeave:ho(d,h),onTouchStart:ho(g,p)}]:[!1,f,{}]}function ho(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Zx({page:e,...t}){let{router:r}=A1(),n=M.useMemo(()=>y1(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?M.createElement(Jx,{page:e,matches:n,...t}):null}function Xx(e){let{manifest:t,routeModules:r}=C1(),[n,a]=M.useState([]);return M.useEffect(()=>{let o=!1;return Ix(e,t,r).then(s=>{o||a(s)}),()=>{o=!0}},[e,t,r]),n}function Jx({page:e,matches:t,...r}){let n=Ja(),{manifest:a,routeModules:o}=C1(),{basename:s}=A1(),{loaderData:l,matches:c}=Yx(),u=M.useMemo(()=>Qp(e,t,c,a,n,"data"),[e,t,c,a,n]),d=M.useMemo(()=>Qp(e,t,c,a,n,"assets"),[e,t,c,a,n]),g=M.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let h=new Set,k=!1;if(t.forEach(_=>{var x;let E=a.routes[_.route.id];!E||!E.hasLoader||(!u.some(U=>U.route.id===_.route.id)&&_.route.id in l&&((x=o[_.route.id])!=null&&x.shouldRevalidate)||E.hasClientLoader?k=!0:h.add(_.route.id))}),h.size===0)return[];let B=Vx(e,s,"data");return k&&h.size>0&&B.searchParams.set("_routes",t.filter(_=>h.has(_.route.id)).map(_=>_.route.id).join(",")),[B.pathname+B.search]},[s,l,n,a,u,t,e,o]),f=M.useMemo(()=>Hx(d,a),[d,a]),p=Xx(d);return M.createElement(M.Fragment,null,g.map(h=>M.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...r})),f.map(h=>M.createElement("link",{key:h,rel:"modulepreload",href:h,...r})),p.map(({key:h,link:k})=>M.createElement("link",{key:h,...k})))}function Lx(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var B1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B1&&(window.__reactRouterVersion="7.7.0")}catch{}function Dx({basename:e,children:t,window:r}){let n=M.useRef();n.current==null&&(n.current=$b({window:r,v5Compat:!0}));let a=n.current,[o,s]=M.useState({action:a.action,location:a.location}),l=M.useCallback(c=>{M.startTransition(()=>s(c))},[s]);return M.useLayoutEffect(()=>a.listen(l),[a,l]),M.createElement(Ax,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var R1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F1=M.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:g,...f},p){let{basename:h}=M.useContext(rn),k=typeof u=="string"&&R1.test(u),B,_=!1;if(typeof u=="string"&&k&&(B=u,B1))try{let X=new URL(window.location.href),z=u.startsWith("//")?new URL(X.protocol+u):new URL(u),H=Tn(z.pathname,h);z.origin===X.origin&&H!=null?u=H+z.search+z.hash:_=!0}catch{tn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=mx(u,{relative:a}),[x,U,C]=Qx(n,f),W=n_(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:g});function $(X){t&&t(X),X.defaultPrevented||W(X)}let P=M.createElement("a",{...f,...C,href:B||E,onClick:_||o?t:$,ref:Lx(p,U),target:c,"data-discover":!k&&r==="render"?"true":void 0});return x&&!k?M.createElement(M.Fragment,null,P,M.createElement(Zx,{page:E})):P});F1.displayName="Link";var e_=M.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:s,viewTransition:l,children:c,...u},d){let g=_s(s,{relative:u.relative}),f=Ja(),p=M.useContext(ru),{navigator:h,basename:k}=M.useContext(rn),B=p!=null&&l_(g)&&l===!0,_=h.encodeLocation?h.encodeLocation(g).pathname:g.pathname,E=f.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(E=E.toLowerCase(),x=x?x.toLowerCase():null,_=_.toLowerCase()),x&&k&&(x=Tn(x,k)||x);const U=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let C=E===_||!a&&E.startsWith(_)&&E.charAt(U)==="/",W=x!=null&&(x===_||!a&&x.startsWith(_)&&x.charAt(_.length)==="/"),$={isActive:C,isPending:W,isTransitioning:B},P=C?t:void 0,X;typeof n=="function"?X=n($):X=[n,C?"active":null,W?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o($):o;return M.createElement(F1,{...u,"aria-current":P,className:X,ref:d,style:z,to:s,viewTransition:l},typeof c=="function"?c($):c)});e_.displayName="NavLink";var t_=M.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:o,method:s=Sl,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:g,...f},p)=>{let h=o_(),k=s_(l,{relative:u}),B=s.toLowerCase()==="get"?"get":"post",_=typeof l=="string"&&R1.test(l),E=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let U=x.nativeEvent.submitter,C=(U==null?void 0:U.getAttribute("formmethod"))||s;h(U||x.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:a,state:o,relative:u,preventScrollReset:d,viewTransition:g})};return M.createElement("form",{ref:p,method:B,action:k,onSubmit:n?c:E,...f,"data-discover":!_&&e==="render"?"true":void 0})});t_.displayName="Form";function r_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P1(e){let t=M.useContext(ro);return at(t,r_(e)),t}function n_(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:s}={}){let l=nu(),c=Ja(),u=_s(e,{relative:o});return M.useCallback(d=>{if(Ox(d,t)){d.preventDefault();let g=r!==void 0?r:os(c)===os(u);l(e,{replace:g,state:n,preventScrollReset:a,relative:o,viewTransition:s})}},[c,l,u,r,n,t,e,a,o,s])}var a_=0,i_=()=>`__${String(++a_)}__`;function o_(){let{router:e}=P1("useSubmit"),{basename:t}=M.useContext(rn),r=Sx();return M.useCallback(async(n,a={})=>{let{action:o,method:s,encType:l,formData:c,body:u}=zx(n,t);if(a.navigate===!1){let d=a.fetcherKey||i_();await e.fetch(d,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function s_(e,{relative:t}={}){let{basename:r}=M.useContext(rn),n=M.useContext(Bn);at(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={..._s(e||".",{relative:t})},s=Ja();if(e==null){o.search=s.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(g=>g).forEach(g=>l.append("index",g));let d=l.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:bn([r,o.pathname])),os(o)}function l_(e,t={}){let r=M.useContext(_1);at(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=P1("useViewTransitionState"),a=_s(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=Tn(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Tn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return wc(a.pathname,s)!=null||wc(a.pathname,o)!=null}const O1=M.createContext();function c_({children:e}){const[t,r]=M.useState([]),[n,a]=M.useState([]);let o=0;const s=M.useCallback(p=>{r(h=>[{...p,id:p.id||Date.now()},...h])},[]),l=M.useCallback(p=>{r(h=>h.filter(k=>k.id!==p))},[]),c=M.useCallback(()=>{r(p=>p.map(h=>({...h,read:!0})))},[]),u=M.useCallback(()=>{r([])},[]),d=M.useCallback(p=>{const h=++o;a(k=>[...k,{...p,id:h}]),setTimeout(()=>{a(k=>k.filter(B=>B.id!==h))},p.duration||4e3)},[]),g=M.useCallback(p=>{a(h=>h.filter(k=>k.id!==p))},[]),f={notifications:t,toasts:n,addNotification:s,removeNotification:l,markAllAsRead:c,clearNotifications:u,showToast:d,removeToast:g};return i.createElement(O1.Provider,{value:f},e)}function pa(){return M.useContext(O1)}var M1={},Ss={};Ss.byteLength=f_;Ss.toByteArray=p_;Ss.fromByteArray=y_;var Xr=[],pr=[],u_=typeof Uint8Array<"u"?Uint8Array:Array,cd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Da=0,d_=cd.length;Da<d_;++Da)Xr[Da]=cd[Da],pr[cd.charCodeAt(Da)]=Da;pr["-".charCodeAt(0)]=62;pr["_".charCodeAt(0)]=63;function U1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function f_(e){var t=U1(e),r=t[0],n=t[1];return(r+n)*3/4-n}function m_(e,t,r){return(t+r)*3/4-r}function p_(e){var t,r=U1(e),n=r[0],a=r[1],o=new u_(m_(e,n,a)),s=0,l=a>0?n-4:n,c;for(c=0;c<l;c+=4)t=pr[e.charCodeAt(c)]<<18|pr[e.charCodeAt(c+1)]<<12|pr[e.charCodeAt(c+2)]<<6|pr[e.charCodeAt(c+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return a===2&&(t=pr[e.charCodeAt(c)]<<2|pr[e.charCodeAt(c+1)]>>4,o[s++]=t&255),a===1&&(t=pr[e.charCodeAt(c)]<<10|pr[e.charCodeAt(c+1)]<<4|pr[e.charCodeAt(c+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function h_(e){return Xr[e>>18&63]+Xr[e>>12&63]+Xr[e>>6&63]+Xr[e&63]}function g_(e,t,r){for(var n,a=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),a.push(h_(n));return a.join("")}function y_(e){for(var t,r=e.length,n=r%3,a=[],o=16383,s=0,l=r-n;s<l;s+=o)a.push(g_(e,s,s+o>l?l:s+o));return n===1?(t=e[r-1],a.push(Xr[t>>2]+Xr[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],a.push(Xr[t>>10]+Xr[t>>4&63]+Xr[t<<2&63]+"=")),a.join("")}var Ns={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ns.read=function(e,t,r,n,a){var o,s,l=a*8-n-1,c=(1<<l)-1,u=c>>1,d=-7,g=r?a-1:0,f=r?-1:1,p=e[t+g];for(g+=f,o=p&(1<<-d)-1,p>>=-d,d+=l;d>0;o=o*256+e[t+g],g+=f,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=n;d>0;s=s*256+e[t+g],g+=f,d-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(p?-1:1)*s*Math.pow(2,o-n)};Ns.write=function(e,t,r,n,a,o){var s,l,c,u=o*8-a-1,d=(1<<u)-1,g=d>>1,f=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,h=n?1:-1,k=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+g>=1?t+=f/c:t+=f*Math.pow(2,1-g),t*c>=2&&(s++,c/=2),s+g>=d?(l=0,s=d):s+g>=1?(l=(t*c-1)*Math.pow(2,a),s=s+g):(l=t*Math.pow(2,g-1)*Math.pow(2,a),s=0));a>=8;e[r+p]=l&255,p+=h,l/=256,a-=8);for(s=s<<a|l,u+=a;u>0;e[r+p]=s&255,p+=h,s/=256,u-=8);e[r+p-h]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Ss,r=Ns,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=E,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const S=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(S,v),S.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function s(S){if(S>a)throw new RangeError('The value "'+S+'" is invalid for option "size"');const v=new Uint8Array(S);return Object.setPrototypeOf(v,l.prototype),v}function l(S,v,w){if(typeof S=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(S)}return c(S,v,w)}l.poolSize=8192;function c(S,v,w){if(typeof S=="string")return f(S,v);if(ArrayBuffer.isView(S))return h(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(ie(S,ArrayBuffer)||S&&ie(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(S,SharedArrayBuffer)||S&&ie(S.buffer,SharedArrayBuffer)))return k(S,v,w);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const j=S.valueOf&&S.valueOf();if(j!=null&&j!==S)return l.from(j,v,w);const te=B(S);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return l.from(S[Symbol.toPrimitive]("string"),v,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}l.from=function(S,v,w){return c(S,v,w)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function d(S,v,w){return u(S),S<=0?s(S):v!==void 0?typeof w=="string"?s(S).fill(v,w):s(S).fill(v):s(S)}l.alloc=function(S,v,w){return d(S,v,w)};function g(S){return u(S),s(S<0?0:_(S)|0)}l.allocUnsafe=function(S){return g(S)},l.allocUnsafeSlow=function(S){return g(S)};function f(S,v){if((typeof v!="string"||v==="")&&(v="utf8"),!l.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const w=x(S,v)|0;let j=s(w);const te=j.write(S,v);return te!==w&&(j=j.slice(0,te)),j}function p(S){const v=S.length<0?0:_(S.length)|0,w=s(v);for(let j=0;j<v;j+=1)w[j]=S[j]&255;return w}function h(S){if(ie(S,Uint8Array)){const v=new Uint8Array(S);return k(v.buffer,v.byteOffset,v.byteLength)}return p(S)}function k(S,v,w){if(v<0||S.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<v+(w||0))throw new RangeError('"length" is outside of buffer bounds');let j;return v===void 0&&w===void 0?j=new Uint8Array(S):w===void 0?j=new Uint8Array(S,v):j=new Uint8Array(S,v,w),Object.setPrototypeOf(j,l.prototype),j}function B(S){if(l.isBuffer(S)){const v=_(S.length)|0,w=s(v);return w.length===0||S.copy(w,0,0,v),w}if(S.length!==void 0)return typeof S.length!="number"||pe(S.length)?s(0):p(S);if(S.type==="Buffer"&&Array.isArray(S.data))return p(S.data)}function _(S){if(S>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return S|0}function E(S){return+S!=S&&(S=0),l.alloc(+S)}l.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==l.prototype},l.compare=function(v,w){if(ie(v,Uint8Array)&&(v=l.from(v,v.offset,v.byteLength)),ie(w,Uint8Array)&&(w=l.from(w,w.offset,w.byteLength)),!l.isBuffer(v)||!l.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===w)return 0;let j=v.length,te=w.length;for(let se=0,oe=Math.min(j,te);se<oe;++se)if(v[se]!==w[se]){j=v[se],te=w[se];break}return j<te?-1:te<j?1:0},l.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(v,w){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return l.alloc(0);let j;if(w===void 0)for(w=0,j=0;j<v.length;++j)w+=v[j].length;const te=l.allocUnsafe(w);let se=0;for(j=0;j<v.length;++j){let oe=v[j];if(ie(oe,Uint8Array))se+oe.length>te.length?(l.isBuffer(oe)||(oe=l.from(oe)),oe.copy(te,se)):Uint8Array.prototype.set.call(te,oe,se);else if(l.isBuffer(oe))oe.copy(te,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=oe.length}return te};function x(S,v){if(l.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||ie(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const w=S.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&w===0)return 0;let te=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return m(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return F(S).length;default:if(te)return j?-1:m(S).length;v=(""+v).toLowerCase(),te=!0}}l.byteLength=x;function U(S,v,w){let j=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,v>>>=0,w<=v))return"";for(S||(S="utf8");;)switch(S){case"hex":return ae(this,v,w);case"utf8":case"utf-8":return O(this,v,w);case"ascii":return ne(this,v,w);case"latin1":case"binary":return Q(this,v,w);case"base64":return N(this,v,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,v,w);default:if(j)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),j=!0}}l.prototype._isBuffer=!0;function C(S,v,w){const j=S[v];S[v]=S[w],S[w]=j}l.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<v;w+=2)C(this,w,w+1);return this},l.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<v;w+=4)C(this,w,w+3),C(this,w+1,w+2);return this},l.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<v;w+=8)C(this,w,w+7),C(this,w+1,w+6),C(this,w+2,w+5),C(this,w+3,w+4);return this},l.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?O(this,0,v):U.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(v){if(!l.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:l.compare(this,v)===0},l.prototype.inspect=function(){let v="";const w=e.INSPECT_MAX_BYTES;return v=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(v+=" ... "),"<Buffer "+v+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(v,w,j,te,se){if(ie(v,Uint8Array)&&(v=l.from(v,v.offset,v.byteLength)),!l.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(w===void 0&&(w=0),j===void 0&&(j=v?v.length:0),te===void 0&&(te=0),se===void 0&&(se=this.length),w<0||j>v.length||te<0||se>this.length)throw new RangeError("out of range index");if(te>=se&&w>=j)return 0;if(te>=se)return-1;if(w>=j)return 1;if(w>>>=0,j>>>=0,te>>>=0,se>>>=0,this===v)return 0;let oe=se-te,ke=j-w;const Re=Math.min(oe,ke),Ce=this.slice(te,se),Ne=v.slice(w,j);for(let Pe=0;Pe<Re;++Pe)if(Ce[Pe]!==Ne[Pe]){oe=Ce[Pe],ke=Ne[Pe];break}return oe<ke?-1:ke<oe?1:0};function W(S,v,w,j,te){if(S.length===0)return-1;if(typeof w=="string"?(j=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,pe(w)&&(w=te?0:S.length-1),w<0&&(w=S.length+w),w>=S.length){if(te)return-1;w=S.length-1}else if(w<0)if(te)w=0;else return-1;if(typeof v=="string"&&(v=l.from(v,j)),l.isBuffer(v))return v.length===0?-1:$(S,v,w,j,te);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(S,v,w):Uint8Array.prototype.lastIndexOf.call(S,v,w):$(S,[v],w,j,te);throw new TypeError("val must be string, number or Buffer")}function $(S,v,w,j,te){let se=1,oe=S.length,ke=v.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(S.length<2||v.length<2)return-1;se=2,oe/=2,ke/=2,w/=2}function Re(Ne,Pe){return se===1?Ne[Pe]:Ne.readUInt16BE(Pe*se)}let Ce;if(te){let Ne=-1;for(Ce=w;Ce<oe;Ce++)if(Re(S,Ce)===Re(v,Ne===-1?0:Ce-Ne)){if(Ne===-1&&(Ne=Ce),Ce-Ne+1===ke)return Ne*se}else Ne!==-1&&(Ce-=Ce-Ne),Ne=-1}else for(w+ke>oe&&(w=oe-ke),Ce=w;Ce>=0;Ce--){let Ne=!0;for(let Pe=0;Pe<ke;Pe++)if(Re(S,Ce+Pe)!==Re(v,Pe)){Ne=!1;break}if(Ne)return Ce}return-1}l.prototype.includes=function(v,w,j){return this.indexOf(v,w,j)!==-1},l.prototype.indexOf=function(v,w,j){return W(this,v,w,j,!0)},l.prototype.lastIndexOf=function(v,w,j){return W(this,v,w,j,!1)};function P(S,v,w,j){w=Number(w)||0;const te=S.length-w;j?(j=Number(j),j>te&&(j=te)):j=te;const se=v.length;j>se/2&&(j=se/2);let oe;for(oe=0;oe<j;++oe){const ke=parseInt(v.substr(oe*2,2),16);if(pe(ke))return oe;S[w+oe]=ke}return oe}function X(S,v,w,j){return K(m(v,S.length-w),S,w,j)}function z(S,v,w,j){return K(y(v),S,w,j)}function H(S,v,w,j){return K(F(v),S,w,j)}function Y(S,v,w,j){return K(A(v,S.length-w),S,w,j)}l.prototype.write=function(v,w,j,te){if(w===void 0)te="utf8",j=this.length,w=0;else if(j===void 0&&typeof w=="string")te=w,j=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(j)?(j=j>>>0,te===void 0&&(te="utf8")):(te=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const se=this.length-w;if((j===void 0||j>se)&&(j=se),v.length>0&&(j<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");let oe=!1;for(;;)switch(te){case"hex":return P(this,v,w,j);case"utf8":case"utf-8":return X(this,v,w,j);case"ascii":case"latin1":case"binary":return z(this,v,w,j);case"base64":return H(this,v,w,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,v,w,j);default:if(oe)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),oe=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(S,v,w){return v===0&&w===S.length?t.fromByteArray(S):t.fromByteArray(S.slice(v,w))}function O(S,v,w){w=Math.min(S.length,w);const j=[];let te=v;for(;te<w;){const se=S[te];let oe=null,ke=se>239?4:se>223?3:se>191?2:1;if(te+ke<=w){let Re,Ce,Ne,Pe;switch(ke){case 1:se<128&&(oe=se);break;case 2:Re=S[te+1],(Re&192)===128&&(Pe=(se&31)<<6|Re&63,Pe>127&&(oe=Pe));break;case 3:Re=S[te+1],Ce=S[te+2],(Re&192)===128&&(Ce&192)===128&&(Pe=(se&15)<<12|(Re&63)<<6|Ce&63,Pe>2047&&(Pe<55296||Pe>57343)&&(oe=Pe));break;case 4:Re=S[te+1],Ce=S[te+2],Ne=S[te+3],(Re&192)===128&&(Ce&192)===128&&(Ne&192)===128&&(Pe=(se&15)<<18|(Re&63)<<12|(Ce&63)<<6|Ne&63,Pe>65535&&Pe<1114112&&(oe=Pe))}}oe===null?(oe=65533,ke=1):oe>65535&&(oe-=65536,j.push(oe>>>10&1023|55296),oe=56320|oe&1023),j.push(oe),te+=ke}return D(j)}const G=4096;function D(S){const v=S.length;if(v<=G)return String.fromCharCode.apply(String,S);let w="",j=0;for(;j<v;)w+=String.fromCharCode.apply(String,S.slice(j,j+=G));return w}function ne(S,v,w){let j="";w=Math.min(S.length,w);for(let te=v;te<w;++te)j+=String.fromCharCode(S[te]&127);return j}function Q(S,v,w){let j="";w=Math.min(S.length,w);for(let te=v;te<w;++te)j+=String.fromCharCode(S[te]);return j}function ae(S,v,w){const j=S.length;(!v||v<0)&&(v=0),(!w||w<0||w>j)&&(w=j);let te="";for(let se=v;se<w;++se)te+=Ee[S[se]];return te}function fe(S,v,w){const j=S.slice(v,w);let te="";for(let se=0;se<j.length-1;se+=2)te+=String.fromCharCode(j[se]+j[se+1]*256);return te}l.prototype.slice=function(v,w){const j=this.length;v=~~v,w=w===void 0?j:~~w,v<0?(v+=j,v<0&&(v=0)):v>j&&(v=j),w<0?(w+=j,w<0&&(w=0)):w>j&&(w=j),w<v&&(w=v);const te=this.subarray(v,w);return Object.setPrototypeOf(te,l.prototype),te};function le(S,v,w){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+v>w)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(v,w,j){v=v>>>0,w=w>>>0,j||le(v,w,this.length);let te=this[v],se=1,oe=0;for(;++oe<w&&(se*=256);)te+=this[v+oe]*se;return te},l.prototype.readUintBE=l.prototype.readUIntBE=function(v,w,j){v=v>>>0,w=w>>>0,j||le(v,w,this.length);let te=this[v+--w],se=1;for(;w>0&&(se*=256);)te+=this[v+--w]*se;return te},l.prototype.readUint8=l.prototype.readUInt8=function(v,w){return v=v>>>0,w||le(v,1,this.length),this[v]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(v,w){return v=v>>>0,w||le(v,2,this.length),this[v]|this[v+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(v,w){return v=v>>>0,w||le(v,2,this.length),this[v]<<8|this[v+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(v,w){return v=v>>>0,w||le(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(v,w){return v=v>>>0,w||le(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},l.prototype.readBigUInt64LE=be(function(v){v=v>>>0,ee(v,"offset");const w=this[v],j=this[v+7];(w===void 0||j===void 0)&&Z(v,this.length-8);const te=w+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,se=this[++v]+this[++v]*2**8+this[++v]*2**16+j*2**24;return BigInt(te)+(BigInt(se)<<BigInt(32))}),l.prototype.readBigUInt64BE=be(function(v){v=v>>>0,ee(v,"offset");const w=this[v],j=this[v+7];(w===void 0||j===void 0)&&Z(v,this.length-8);const te=w*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],se=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+j;return(BigInt(te)<<BigInt(32))+BigInt(se)}),l.prototype.readIntLE=function(v,w,j){v=v>>>0,w=w>>>0,j||le(v,w,this.length);let te=this[v],se=1,oe=0;for(;++oe<w&&(se*=256);)te+=this[v+oe]*se;return se*=128,te>=se&&(te-=Math.pow(2,8*w)),te},l.prototype.readIntBE=function(v,w,j){v=v>>>0,w=w>>>0,j||le(v,w,this.length);let te=w,se=1,oe=this[v+--te];for(;te>0&&(se*=256);)oe+=this[v+--te]*se;return se*=128,oe>=se&&(oe-=Math.pow(2,8*w)),oe},l.prototype.readInt8=function(v,w){return v=v>>>0,w||le(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},l.prototype.readInt16LE=function(v,w){v=v>>>0,w||le(v,2,this.length);const j=this[v]|this[v+1]<<8;return j&32768?j|4294901760:j},l.prototype.readInt16BE=function(v,w){v=v>>>0,w||le(v,2,this.length);const j=this[v+1]|this[v]<<8;return j&32768?j|4294901760:j},l.prototype.readInt32LE=function(v,w){return v=v>>>0,w||le(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},l.prototype.readInt32BE=function(v,w){return v=v>>>0,w||le(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},l.prototype.readBigInt64LE=be(function(v){v=v>>>0,ee(v,"offset");const w=this[v],j=this[v+7];(w===void 0||j===void 0)&&Z(v,this.length-8);const te=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(j<<24);return(BigInt(te)<<BigInt(32))+BigInt(w+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),l.prototype.readBigInt64BE=be(function(v){v=v>>>0,ee(v,"offset");const w=this[v],j=this[v+7];(w===void 0||j===void 0)&&Z(v,this.length-8);const te=(w<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(te)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+j)}),l.prototype.readFloatLE=function(v,w){return v=v>>>0,w||le(v,4,this.length),r.read(this,v,!0,23,4)},l.prototype.readFloatBE=function(v,w){return v=v>>>0,w||le(v,4,this.length),r.read(this,v,!1,23,4)},l.prototype.readDoubleLE=function(v,w){return v=v>>>0,w||le(v,8,this.length),r.read(this,v,!0,52,8)},l.prototype.readDoubleBE=function(v,w){return v=v>>>0,w||le(v,8,this.length),r.read(this,v,!1,52,8)};function de(S,v,w,j,te,se){if(!l.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>te||v<se)throw new RangeError('"value" argument is out of bounds');if(w+j>S.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(v,w,j,te){if(v=+v,w=w>>>0,j=j>>>0,!te){const ke=Math.pow(2,8*j)-1;de(this,v,w,j,ke,0)}let se=1,oe=0;for(this[w]=v&255;++oe<j&&(se*=256);)this[w+oe]=v/se&255;return w+j},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(v,w,j,te){if(v=+v,w=w>>>0,j=j>>>0,!te){const ke=Math.pow(2,8*j)-1;de(this,v,w,j,ke,0)}let se=j-1,oe=1;for(this[w+se]=v&255;--se>=0&&(oe*=256);)this[w+se]=v/oe&255;return w+j},l.prototype.writeUint8=l.prototype.writeUInt8=function(v,w,j){return v=+v,w=w>>>0,j||de(this,v,w,1,255,0),this[w]=v&255,w+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(v,w,j){return v=+v,w=w>>>0,j||de(this,v,w,2,65535,0),this[w]=v&255,this[w+1]=v>>>8,w+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(v,w,j){return v=+v,w=w>>>0,j||de(this,v,w,2,65535,0),this[w]=v>>>8,this[w+1]=v&255,w+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(v,w,j){return v=+v,w=w>>>0,j||de(this,v,w,4,4294967295,0),this[w+3]=v>>>24,this[w+2]=v>>>16,this[w+1]=v>>>8,this[w]=v&255,w+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(v,w,j){return v=+v,w=w>>>0,j||de(this,v,w,4,4294967295,0),this[w]=v>>>24,this[w+1]=v>>>16,this[w+2]=v>>>8,this[w+3]=v&255,w+4};function _e(S,v,w,j,te){q(v,j,te,S,w,7);let se=Number(v&BigInt(4294967295));S[w++]=se,se=se>>8,S[w++]=se,se=se>>8,S[w++]=se,se=se>>8,S[w++]=se;let oe=Number(v>>BigInt(32)&BigInt(4294967295));return S[w++]=oe,oe=oe>>8,S[w++]=oe,oe=oe>>8,S[w++]=oe,oe=oe>>8,S[w++]=oe,w}function T(S,v,w,j,te){q(v,j,te,S,w,7);let se=Number(v&BigInt(4294967295));S[w+7]=se,se=se>>8,S[w+6]=se,se=se>>8,S[w+5]=se,se=se>>8,S[w+4]=se;let oe=Number(v>>BigInt(32)&BigInt(4294967295));return S[w+3]=oe,oe=oe>>8,S[w+2]=oe,oe=oe>>8,S[w+1]=oe,oe=oe>>8,S[w]=oe,w+8}l.prototype.writeBigUInt64LE=be(function(v,w=0){return _e(this,v,w,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=be(function(v,w=0){return T(this,v,w,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(v,w,j,te){if(v=+v,w=w>>>0,!te){const Re=Math.pow(2,8*j-1);de(this,v,w,j,Re-1,-Re)}let se=0,oe=1,ke=0;for(this[w]=v&255;++se<j&&(oe*=256);)v<0&&ke===0&&this[w+se-1]!==0&&(ke=1),this[w+se]=(v/oe>>0)-ke&255;return w+j},l.prototype.writeIntBE=function(v,w,j,te){if(v=+v,w=w>>>0,!te){const Re=Math.pow(2,8*j-1);de(this,v,w,j,Re-1,-Re)}let se=j-1,oe=1,ke=0;for(this[w+se]=v&255;--se>=0&&(oe*=256);)v<0&&ke===0&&this[w+se+1]!==0&&(ke=1),this[w+se]=(v/oe>>0)-ke&255;return w+j},l.prototype.writeInt8=function(v,w,j){return v=+v,w=w>>>0,j||de(this,v,w,1,127,-128),v<0&&(v=255+v+1),this[w]=v&255,w+1},l.prototype.writeInt16LE=function(v,w,j){return v=+v,w=w>>>0,j||de(this,v,w,2,32767,-32768),this[w]=v&255,this[w+1]=v>>>8,w+2},l.prototype.writeInt16BE=function(v,w,j){return v=+v,w=w>>>0,j||de(this,v,w,2,32767,-32768),this[w]=v>>>8,this[w+1]=v&255,w+2},l.prototype.writeInt32LE=function(v,w,j){return v=+v,w=w>>>0,j||de(this,v,w,4,2147483647,-2147483648),this[w]=v&255,this[w+1]=v>>>8,this[w+2]=v>>>16,this[w+3]=v>>>24,w+4},l.prototype.writeInt32BE=function(v,w,j){return v=+v,w=w>>>0,j||de(this,v,w,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[w]=v>>>24,this[w+1]=v>>>16,this[w+2]=v>>>8,this[w+3]=v&255,w+4},l.prototype.writeBigInt64LE=be(function(v,w=0){return _e(this,v,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=be(function(v,w=0){return T(this,v,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function he(S,v,w,j,te,se){if(w+j>S.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function we(S,v,w,j,te){return v=+v,w=w>>>0,te||he(S,v,w,4),r.write(S,v,w,j,23,4),w+4}l.prototype.writeFloatLE=function(v,w,j){return we(this,v,w,!0,j)},l.prototype.writeFloatBE=function(v,w,j){return we(this,v,w,!1,j)};function ce(S,v,w,j,te){return v=+v,w=w>>>0,te||he(S,v,w,8),r.write(S,v,w,j,52,8),w+8}l.prototype.writeDoubleLE=function(v,w,j){return ce(this,v,w,!0,j)},l.prototype.writeDoubleBE=function(v,w,j){return ce(this,v,w,!1,j)},l.prototype.copy=function(v,w,j,te){if(!l.isBuffer(v))throw new TypeError("argument should be a Buffer");if(j||(j=0),!te&&te!==0&&(te=this.length),w>=v.length&&(w=v.length),w||(w=0),te>0&&te<j&&(te=j),te===j||v.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),v.length-w<te-j&&(te=v.length-w+j);const se=te-j;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,j,te):Uint8Array.prototype.set.call(v,this.subarray(j,te),w),se},l.prototype.fill=function(v,w,j,te){if(typeof v=="string"){if(typeof w=="string"?(te=w,w=0,j=this.length):typeof j=="string"&&(te=j,j=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!l.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(v.length===1){const oe=v.charCodeAt(0);(te==="utf8"&&oe<128||te==="latin1")&&(v=oe)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(w<0||this.length<w||this.length<j)throw new RangeError("Out of range index");if(j<=w)return this;w=w>>>0,j=j===void 0?this.length:j>>>0,v||(v=0);let se;if(typeof v=="number")for(se=w;se<j;++se)this[se]=v;else{const oe=l.isBuffer(v)?v:l.from(v,te),ke=oe.length;if(ke===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(se=0;se<j-w;++se)this[se+w]=oe[se%ke]}return this};const ue={};function ge(S,v,w){ue[S]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:te,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(S,v){return`The "${S}" argument must be of type number. Received type ${typeof v}`},TypeError),ge("ERR_OUT_OF_RANGE",function(S,v,w){let j=`The value of "${S}" is out of range.`,te=w;return Number.isInteger(w)&&Math.abs(w)>2**32?te=R(String(w)):typeof w=="bigint"&&(te=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(te=R(te)),te+="n"),j+=` It must be ${v}. Received ${te}`,j},RangeError);function R(S){let v="",w=S.length;const j=S[0]==="-"?1:0;for(;w>=j+4;w-=3)v=`_${S.slice(w-3,w)}${v}`;return`${S.slice(0,w)}${v}`}function V(S,v,w){ee(v,"offset"),(S[v]===void 0||S[v+w]===void 0)&&Z(v,S.length-(w+1))}function q(S,v,w,j,te,se){if(S>w||S<v){const oe=typeof v=="bigint"?"n":"";let ke;throw se>3?v===0||v===BigInt(0)?ke=`>= 0${oe} and < 2${oe} ** ${(se+1)*8}${oe}`:ke=`>= -(2${oe} ** ${(se+1)*8-1}${oe}) and < 2 ** ${(se+1)*8-1}${oe}`:ke=`>= ${v}${oe} and <= ${w}${oe}`,new ue.ERR_OUT_OF_RANGE("value",ke,S)}V(j,te,se)}function ee(S,v){if(typeof S!="number")throw new ue.ERR_INVALID_ARG_TYPE(v,"number",S)}function Z(S,v,w){throw Math.floor(S)!==S?(ee(S,w),new ue.ERR_OUT_OF_RANGE(w||"offset","an integer",S)):v<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE(w||"offset",`>= ${w?1:0} and <= ${v}`,S)}const re=/[^+/0-9A-Za-z-_]/g;function b(S){if(S=S.split("=")[0],S=S.trim().replace(re,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function m(S,v){v=v||1/0;let w;const j=S.length;let te=null;const se=[];for(let oe=0;oe<j;++oe){if(w=S.charCodeAt(oe),w>55295&&w<57344){if(!te){if(w>56319){(v-=3)>-1&&se.push(239,191,189);continue}else if(oe+1===j){(v-=3)>-1&&se.push(239,191,189);continue}te=w;continue}if(w<56320){(v-=3)>-1&&se.push(239,191,189),te=w;continue}w=(te-55296<<10|w-56320)+65536}else te&&(v-=3)>-1&&se.push(239,191,189);if(te=null,w<128){if((v-=1)<0)break;se.push(w)}else if(w<2048){if((v-=2)<0)break;se.push(w>>6|192,w&63|128)}else if(w<65536){if((v-=3)<0)break;se.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((v-=4)<0)break;se.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return se}function y(S){const v=[];for(let w=0;w<S.length;++w)v.push(S.charCodeAt(w)&255);return v}function A(S,v){let w,j,te;const se=[];for(let oe=0;oe<S.length&&!((v-=2)<0);++oe)w=S.charCodeAt(oe),j=w>>8,te=w%256,se.push(te),se.push(j);return se}function F(S){return t.toByteArray(b(S))}function K(S,v,w,j){let te;for(te=0;te<j&&!(te+w>=v.length||te>=S.length);++te)v[te+w]=S[te];return te}function ie(S,v){return S instanceof v||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===v.name}function pe(S){return S!==S}const Ee=function(){const S="0123456789abcdef",v=new Array(256);for(let w=0;w<16;++w){const j=w*16;for(let te=0;te<16;++te)v[j+te]=S[w]+S[te]}return v}();function be(S){return typeof BigInt>"u"?Be:S}function Be(){throw new Error("BigInt not supported")}})(M1);var Pf;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(Pf||(Pf={}));const Ec="abcdefghijklmnopqrstuvwxyz234567",Yi=Object.create(null);for(let e=0;e<Ec.length;e++)Yi[Ec[e]]=e;Yi[0]=Yi.o;Yi[1]=Yi.i;function v_(e){let t=0,r=0,n="";function a(o){return t<0?r|=o>>-t:r=o<<t&248,t>3?(t-=8,1):(t<4&&(n+=Ec[r>>3],t+=5),0)}for(let o=0;o<e.length;)o+=a(e[o]);return n+(t<0?Ec[r>>3]:"")}function w_(e){let t=0,r=0;const n=new Uint8Array(e.length*4/3|0);let a=0;function o(s){let l=Yi[s.toLowerCase()];if(l===void 0)throw new Error(`Invalid character: ${JSON.stringify(s)}`);l<<=3,r|=l>>>t,t+=5,t>=8&&(n[a++]=r,t-=8,t>0?r=l<<5-t&255:r=0)}for(const s of e)o(s);return n.slice(0,a)}const E_=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function b_(e){const t=new Uint8Array(e);let r=-1;for(let n=0;n<t.length;n++){const o=(t[n]^r)&255;r=E_[o]^r>>>8}return(r^-1)>>>0}const ei=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function am(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function x_(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ht(e,...t){if(!am(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Zp(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function __(e,t){Ht(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function ss(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ud(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function $r(e,t){return e<<32-t|e>>>t}const z1=(()=>typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function")(),S_=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Qi(e){if(Ht(e),z1)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=S_[e[r]];return t}const nn={_0:48,_9:57,A:65,F:70,a:97,f:102};function Xp(e){if(e>=nn._0&&e<=nn._9)return e-nn._0;if(e>=nn.A&&e<=nn.F)return e-(nn.A-10);if(e>=nn.a&&e<=nn.f)return e-(nn.a-10)}function V1(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(z1)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let a=0,o=0;a<r;a++,o+=2){const s=Xp(e.charCodeAt(o)),l=Xp(e.charCodeAt(o+1));if(s===void 0||l===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[a]=s*16+l}return n}function ks(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function W1(e){return typeof e=="string"&&(e=ks(e)),Ht(e),e}function pt(...e){let t=0;for(let n=0;n<e.length;n++){const a=e[n];Ht(a),t+=a.length}const r=new Uint8Array(t);for(let n=0,a=0;n<e.length;n++){const o=e[n];r.set(o,a),a+=o.length}return r}class N_{}function im(e){const t=n=>e().update(W1(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function $1(e=32){if(ei&&typeof ei.getRandomValues=="function")return ei.getRandomValues(new Uint8Array(e));if(ei&&typeof ei.randomBytes=="function")return Uint8Array.from(ei.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function k_(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const a=BigInt(32),o=BigInt(4294967295),s=Number(r>>a&o),l=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,l,n)}function T_(e,t,r){return e&t^~e&r}function A_(e,t,r){return e&t^e&r^t&r}class j1 extends N_{constructor(t,r,n,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=a,this.buffer=new Uint8Array(t),this.view=ud(this.buffer)}update(t){Zp(this),t=W1(t),Ht(t);const{view:r,buffer:n,blockLen:a}=this,o=t.length;for(let s=0;s<o;){const l=Math.min(a-this.pos,o-s);if(l===a){const c=ud(t);for(;a<=o-s;s+=a)this.process(c,s);continue}n.set(t.subarray(s,s+l),this.pos),this.pos+=l,s+=l,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Zp(this),__(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:a,isLE:o}=this;let{pos:s}=this;r[s++]=128,ss(this.buffer.subarray(s)),this.padOffset>a-s&&(this.process(n,0),s=0);for(let g=s;g<a;g++)r[g]=0;k_(n,a-8,BigInt(this.length*8),o),this.process(n,0);const l=ud(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<u;g++)l.setUint32(4*g,d[g],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:a,finished:o,destroyed:s,pos:l}=this;return t.destroyed=s,t.finished=o,t.length=a,t.pos=l,a%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const Pn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),On=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Ut=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),tl=BigInt(2**32-1),Jp=BigInt(32);function C_(e,t=!1){return t?{h:Number(e&tl),l:Number(e>>Jp&tl)}:{h:Number(e>>Jp&tl)|0,l:Number(e&tl)|0}}function B_(e,t=!1){const r=e.length;let n=new Uint32Array(r),a=new Uint32Array(r);for(let o=0;o<r;o++){const{h:s,l}=C_(e[o],t);[n[o],a[o]]=[s,l]}return[n,a]}const Lp=(e,t,r)=>e>>>r,Dp=(e,t,r)=>e<<32-r|t>>>r,ti=(e,t,r)=>e>>>r|t<<32-r,ri=(e,t,r)=>e<<32-r|t>>>r,rl=(e,t,r)=>e<<64-r|t>>>r-32,nl=(e,t,r)=>e>>>r-32|t<<64-r;function an(e,t,r,n){const a=(t>>>0)+(n>>>0);return{h:e+r+(a/2**32|0)|0,l:a|0}}const R_=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),F_=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,P_=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),O_=(e,t,r,n,a)=>t+r+n+a+(e/2**32|0)|0,M_=(e,t,r,n,a)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(a>>>0),U_=(e,t,r,n,a,o)=>t+r+n+a+o+(e/2**32|0)|0,z_=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Mn=new Uint32Array(64);class I1 extends j1{constructor(t=32){super(64,t,8,!1),this.A=Pn[0]|0,this.B=Pn[1]|0,this.C=Pn[2]|0,this.D=Pn[3]|0,this.E=Pn[4]|0,this.F=Pn[5]|0,this.G=Pn[6]|0,this.H=Pn[7]|0}get(){const{A:t,B:r,C:n,D:a,E:o,F:s,G:l,H:c}=this;return[t,r,n,a,o,s,l,c]}set(t,r,n,a,o,s,l,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=a|0,this.E=o|0,this.F=s|0,this.G=l|0,this.H=c|0}process(t,r){for(let g=0;g<16;g++,r+=4)Mn[g]=t.getUint32(r,!1);for(let g=16;g<64;g++){const f=Mn[g-15],p=Mn[g-2],h=$r(f,7)^$r(f,18)^f>>>3,k=$r(p,17)^$r(p,19)^p>>>10;Mn[g]=k+Mn[g-7]+h+Mn[g-16]|0}let{A:n,B:a,C:o,D:s,E:l,F:c,G:u,H:d}=this;for(let g=0;g<64;g++){const f=$r(l,6)^$r(l,11)^$r(l,25),p=d+f+T_(l,c,u)+z_[g]+Mn[g]|0,k=($r(n,2)^$r(n,13)^$r(n,22))+A_(n,a,o)|0;d=u,u=c,c=l,l=s+p|0,s=o,o=a,a=n,n=p+k|0}n=n+this.A|0,a=a+this.B|0,o=o+this.C|0,s=s+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(n,a,o,s,l,c,u,d)}roundClean(){ss(Mn)}destroy(){this.set(0,0,0,0,0,0,0,0),ss(this.buffer)}}class V_ extends I1{constructor(){super(28),this.A=On[0]|0,this.B=On[1]|0,this.C=On[2]|0,this.D=On[3]|0,this.E=On[4]|0,this.F=On[5]|0,this.G=On[6]|0,this.H=On[7]|0}}const H1=(()=>B_(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),W_=(()=>H1[0])(),$_=(()=>H1[1])(),Un=new Uint32Array(80),zn=new Uint32Array(80);class j_ extends j1{constructor(t=64){super(128,t,16,!1),this.Ah=Ut[0]|0,this.Al=Ut[1]|0,this.Bh=Ut[2]|0,this.Bl=Ut[3]|0,this.Ch=Ut[4]|0,this.Cl=Ut[5]|0,this.Dh=Ut[6]|0,this.Dl=Ut[7]|0,this.Eh=Ut[8]|0,this.El=Ut[9]|0,this.Fh=Ut[10]|0,this.Fl=Ut[11]|0,this.Gh=Ut[12]|0,this.Gl=Ut[13]|0,this.Hh=Ut[14]|0,this.Hl=Ut[15]|0}get(){const{Ah:t,Al:r,Bh:n,Bl:a,Ch:o,Cl:s,Dh:l,Dl:c,Eh:u,El:d,Fh:g,Fl:f,Gh:p,Gl:h,Hh:k,Hl:B}=this;return[t,r,n,a,o,s,l,c,u,d,g,f,p,h,k,B]}set(t,r,n,a,o,s,l,c,u,d,g,f,p,h,k,B){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=a|0,this.Ch=o|0,this.Cl=s|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=g|0,this.Fl=f|0,this.Gh=p|0,this.Gl=h|0,this.Hh=k|0,this.Hl=B|0}process(t,r){for(let x=0;x<16;x++,r+=4)Un[x]=t.getUint32(r),zn[x]=t.getUint32(r+=4);for(let x=16;x<80;x++){const U=Un[x-15]|0,C=zn[x-15]|0,W=ti(U,C,1)^ti(U,C,8)^Lp(U,C,7),$=ri(U,C,1)^ri(U,C,8)^Dp(U,C,7),P=Un[x-2]|0,X=zn[x-2]|0,z=ti(P,X,19)^rl(P,X,61)^Lp(P,X,6),H=ri(P,X,19)^nl(P,X,61)^Dp(P,X,6),Y=P_($,H,zn[x-7],zn[x-16]),N=O_(Y,W,z,Un[x-7],Un[x-16]);Un[x]=N|0,zn[x]=Y|0}let{Ah:n,Al:a,Bh:o,Bl:s,Ch:l,Cl:c,Dh:u,Dl:d,Eh:g,El:f,Fh:p,Fl:h,Gh:k,Gl:B,Hh:_,Hl:E}=this;for(let x=0;x<80;x++){const U=ti(g,f,14)^ti(g,f,18)^rl(g,f,41),C=ri(g,f,14)^ri(g,f,18)^nl(g,f,41),W=g&p^~g&k,$=f&h^~f&B,P=M_(E,C,$,$_[x],zn[x]),X=U_(P,_,U,W,W_[x],Un[x]),z=P|0,H=ti(n,a,28)^rl(n,a,34)^rl(n,a,39),Y=ri(n,a,28)^nl(n,a,34)^nl(n,a,39),N=n&o^n&l^o&l,O=a&s^a&c^s&c;_=k|0,E=B|0,k=p|0,B=h|0,p=g|0,h=f|0,{h:g,l:f}=an(u|0,d|0,X|0,z|0),u=l|0,d=c|0,l=o|0,c=s|0,o=n|0,s=a|0;const G=R_(z,Y,O);n=F_(G,X,H,N),a=G|0}({h:n,l:a}=an(this.Ah|0,this.Al|0,n|0,a|0)),{h:o,l:s}=an(this.Bh|0,this.Bl|0,o|0,s|0),{h:l,l:c}=an(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:d}=an(this.Dh|0,this.Dl|0,u|0,d|0),{h:g,l:f}=an(this.Eh|0,this.El|0,g|0,f|0),{h:p,l:h}=an(this.Fh|0,this.Fl|0,p|0,h|0),{h:k,l:B}=an(this.Gh|0,this.Gl|0,k|0,B|0),{h:_,l:E}=an(this.Hh|0,this.Hl|0,_|0,E|0),this.set(n,a,o,s,l,c,u,d,g,f,p,h,k,B,_,E)}roundClean(){ss(Un,zn)}destroy(){ss(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const om=im(()=>new I1),I_=im(()=>new V_),H_=im(()=>new j_),G_=om,q_=I_;function K_(e){return q_.create().update(new Uint8Array(e)).digest()}const al="__principal__",Y_=2,eh=4,Q_="aaaaa-aa",Z_=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},X_=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"");let Oe=class kl{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([eh]))}static managementCanister(){return this.fromText(Q_)}static selfAuthenticating(t){const r=K_(t);return new this(new Uint8Array([...r,Y_]))}static from(t){if(typeof t=="string")return kl.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new kl(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new kl(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(Z_(t))}static fromText(t){let r=t;if(t.includes(al)){const s=JSON.parse(t);al in s&&(r=s[al])}const n=r.toLowerCase().replace(/-/g,"");let a=w_(n);a=a.slice(4,a.length);const o=new this(a);if(o.toText()!==r)throw new Error(`Principal "${o.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return o}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===eh}toUint8Array(){return this._arr}toHex(){return X_(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,b_(this._arr));const n=new Uint8Array(t),a=Uint8Array.from(this._arr),o=new Uint8Array([...n,...a]),l=v_(o).match(/.{1,5}/g);if(!l)throw new Error;return l.join("-")}toString(){return this.toText()}toJSON(){return{[al]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){const r=this.compareTo(t);return r=="gt"||r=="eq"}};function Ur(...e){const t=new Uint8Array(e.reduce((n,a)=>n+a.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t.buffer}function et(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const J_=new RegExp(/^[0-9a-fA-F]+$/);function xn(e){if(!J_.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((r,n,a)=>(r[a/2|0]=(r[a/2|0]||"")+n,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function G1(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const r=new Uint8Array(e),n=new Uint8Array(t);for(let a=0;a<r.length;a++)if(r[a]!==n[a])return r[a]-n[a];return 0}function Ts(e,t){return G1(e,t)===0}function zo(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function gn(e){return e instanceof Uint8Array?zo(e):e instanceof ArrayBuffer?e:Array.isArray(e)?zo(new Uint8Array(e)):"buffer"in e?gn(e.buffer):zo(new Uint8Array(e))}class ct extends Error{constructor(t){super(t),this.message=t,this.name="AgentError",this.__proto__=ct.prototype,Object.setPrototypeOf(this,ct.prototype)}}function Ke(...e){const t=new Uint8Array(e.reduce((n,a)=>n+a.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t}class no{constructor(t,r=(t==null?void 0:t.byteLength)||0){this._buffer=Ia(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,r)}save(){return this._view}restore(t){this._view=t}get buffer(){return Ia(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const r=this._view.subarray(0,t);return this._view=this._view.subarray(t),r.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const r=new Uint8Array(t),n=this._view.byteLength;this._view.byteOffset+this._view.byteLength+r.byteLength>=this._buffer.byteLength?this.alloc(r.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+r.byteLength),this._view.set(r,n)}get end(){return this._view.byteLength===0}alloc(t){const r=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),n=new Uint8Array(r,0,this._view.byteLength+t);n.set(this._view),this._buffer=r,this._view=n}}function dd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Ia(e){return e instanceof Uint8Array?dd(e):e instanceof ArrayBuffer?e:Array.isArray(e)?dd(new Uint8Array(e)):"buffer"in e?Ia(e.buffer):dd(new Uint8Array(e))}function L_(e){const r=new TextEncoder().encode(e);let n=0;for(const a of r)n=(n*223+a)%2**32;return n}function Jr(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return L_(e)}function q1(){throw new Error("unexpected end of buffer")}function Ha(e,t){return e.byteLength<t&&q1(),e.read(t)}function Ga(e){const t=e.readUint8();return t===void 0&&q1(),t}function ut(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new no(new ArrayBuffer(t),0);for(;;){const n=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([n]));break}else r.write(new Uint8Array([n|128]))}return r.buffer}function St(e){let t=BigInt(1),r=BigInt(0),n;do n=Ga(e),r+=BigInt(n&127).valueOf()*t,t*=BigInt(128);while(n>=128);return r}function xt(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new no(new ArrayBuffer(r),0);for(;;){const o=a(e);if(e/=BigInt(128),t&&e===BigInt(0)&&o&64||!t&&e===BigInt(0)&&!(o&64)){n.write(new Uint8Array([o]));break}else n.write(new Uint8Array([o|128]))}function a(o){const s=o%BigInt(128);return Number(t?BigInt(128)-s-BigInt(1):s)}return n.buffer}function Vn(e){const t=new Uint8Array(e.buffer);let r=0;for(;r<t.byteLength;r++)if(t[r]<128){if(!(t[r]&64))return St(e);break}const n=new Uint8Array(Ha(e,r+1));let a=BigInt(0);for(let o=n.byteLength-1;o>=0;o--)a=a*BigInt(128)+BigInt(128-(n[o]&127)-1);return-a-BigInt(1)}function D_(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return K1(e,t)}function K1(e,t){e=BigInt(e);const r=new no(new ArrayBuffer(Math.min(1,t)),0);let n=0,a=BigInt(256),o=BigInt(0),s=Number(e%a);for(r.write(new Uint8Array([s]));++n<t;)e<0&&o===BigInt(0)&&s!==0&&(o=BigInt(1)),s=Number((e/a-o)%BigInt(256)),r.write(new Uint8Array([s])),a*=BigInt(256);return r.buffer}function Y1(e,t){let r=BigInt(Ga(e)),n=BigInt(1),a=0;for(;++a<t;){n*=BigInt(256);const o=BigInt(Ga(e));r=r+n*o}return r}function eS(e,t){let r=Y1(e,t);const n=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}function Of(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const Tl="DIDL",th=400;function ls(e,t,r){return e.map((n,a)=>r(n,t[a]))}class tS{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,r){const n=this._typs.length;this._idx.set(t.name,n),this._typs.push(r)}merge(t,r){const n=this._idx.get(t.name),a=this._idx.get(r);if(n===void 0)throw new Error("Missing type index for "+t);if(a===void 0)throw new Error("Missing type index for "+r);this._typs[n]=this._typs[a],this._typs.splice(a,1),this._idx.delete(r)}encode(){const t=ut(this._typs.length),r=Ke(...this._typs);return Ke(t,r)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return xt(this._idx.get(t)||0)}}class rS{visitType(t,r){throw new Error("Not implemented")}visitPrimitive(t,r){return this.visitType(t,r)}visitEmpty(t,r){return this.visitPrimitive(t,r)}visitBool(t,r){return this.visitPrimitive(t,r)}visitNull(t,r){return this.visitPrimitive(t,r)}visitReserved(t,r){return this.visitPrimitive(t,r)}visitText(t,r){return this.visitPrimitive(t,r)}visitNumber(t,r){return this.visitPrimitive(t,r)}visitInt(t,r){return this.visitNumber(t,r)}visitNat(t,r){return this.visitNumber(t,r)}visitFloat(t,r){return this.visitPrimitive(t,r)}visitFixedInt(t,r){return this.visitNumber(t,r)}visitFixedNat(t,r){return this.visitNumber(t,r)}visitPrincipal(t,r){return this.visitPrimitive(t,r)}visitConstruct(t,r){return this.visitType(t,r)}visitVec(t,r,n){return this.visitConstruct(t,n)}visitOpt(t,r,n){return this.visitConstruct(t,n)}visitRecord(t,r,n){return this.visitConstruct(t,n)}visitTuple(t,r,n){const a=r.map((o,s)=>[`_${s}_`,o]);return this.visitRecord(t,a,n)}visitVariant(t,r,n){return this.visitConstruct(t,n)}visitRec(t,r,n){return this.visitConstruct(r,n)}visitFunc(t,r){return this.visitConstruct(t,r)}visitService(t,r){return this.visitConstruct(t,r)}}class iu{display(){return this.name}valueToString(t){return ht(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class _r extends iu{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class ha extends iu{checkType(t){if(t instanceof Rn){const r=t.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class Q1 extends _r{accept(t,r){return t.visitEmpty(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return xt(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class Z1 extends iu{checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,r){throw t.visitType(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,r){let n=r.decodeValue(t,r);Object(n)!==n&&(n=Object(n));let a;return r instanceof Rn?a=()=>r.getType():a=()=>r,Object.defineProperty(n,"type",{value:a,writable:!0,enumerable:!1,configurable:!0}),n}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class X1 extends _r{accept(t,r){return t.visitBool(this,r)}covariant(t){if(typeof t=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return xt(-2)}decodeValue(t,r){switch(this.checkType(r),Ga(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class bc extends _r{accept(t,r){return t.visitNull(this,r)}covariant(t){if(t===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return xt(-1)}decodeValue(t,r){return this.checkType(r),null}get name(){return"null"}}class Zi extends _r{accept(t,r){return t.visitReserved(this,r)}covariant(t){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return xt(-16)}decodeValue(t,r){return r.name!==this.name&&r.decodeValue(t,r),null}get name(){return"reserved"}}class J1 extends _r{accept(t,r){return t.visitText(this,r)}covariant(t){if(typeof t=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){const r=new TextEncoder().encode(t),n=ut(r.byteLength);return Ke(n,r)}encodeType(){return xt(-15)}decodeValue(t,r){this.checkType(r);const n=St(t),a=Ha(t,Number(n));return new TextDecoder("utf8",{fatal:!0}).decode(a)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class L1 extends _r{accept(t,r){return t.visitInt(this,r)}covariant(t){if(typeof t=="bigint"||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){return xt(t)}encodeType(){return xt(-4)}decodeValue(t,r){return this.checkType(r),Vn(t)}get name(){return"int"}valueToString(t){return t.toString()}}class D1 extends _r{accept(t,r){return t.visitNat(this,r)}covariant(t){if(typeof t=="bigint"&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){return ut(t)}encodeType(){return xt(-3)}decodeValue(t,r){return this.checkType(r),St(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class sm extends _r{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){const r=new ArrayBuffer(this._bits/8),n=new DataView(r);return this._bits===32?n.setFloat32(0,t,!0):n.setFloat64(0,t,!0),r}encodeType(){const t=this._bits===32?-13:-14;return xt(t)}decodeValue(t,r){this.checkType(r);const n=Ha(t,this._bits/8),a=new DataView(n);return this._bits===32?a.getFloat32(0,!0):a.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class qa extends _r{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){const r=Of(this._bits-1)*BigInt(-1),n=Of(this._bits-1)-BigInt(1);let a=!1;if(typeof t=="bigint")a=t>=r&&t<=n;else if(Number.isInteger(t)){const o=BigInt(t);a=o>=r&&o<=n}else a=!1;if(a)return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){return K1(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return xt(-9-t)}decodeValue(t,r){this.checkType(r);const n=eS(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class ia extends _r{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedNat(this,r)}covariant(t){const r=Of(this._bits);let n=!1;if(typeof t=="bigint"&&t>=BigInt(0)?n=t<r:Number.isInteger(t)&&t>=0?n=BigInt(t)<r:n=!1,n)return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){return D_(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return xt(-5-t)}decodeValue(t,r){this.checkType(r);const n=Y1(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class ou extends ha{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof ia&&t._bits===8&&(this._blobOptimization=!0)}accept(t,r){return t.visitVec(this,this._type,r)}covariant(t){const r=this._type instanceof ia?this._type._bits:this._type instanceof qa?this._type._bits:0;if(ArrayBuffer.isView(t)&&r==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((n,a)=>{try{return this._type.covariant(n)}catch(o){throw new Error(`Invalid ${this.display()} argument: 

index ${a} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){const r=ut(t.length);if(this._blobOptimization)return Ke(r,new Uint8Array(t));if(ArrayBuffer.isView(t))return Ke(r,new Uint8Array(t.buffer));const n=new no(new ArrayBuffer(r.byteLength+t.length),0);n.write(r);for(const a of t){const o=this._type.encodeValue(a);n.write(new Uint8Array(o))}return n.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=xt(-19),n=this._type.encodeType(t);t.add(this,Ke(r,n))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof ou))throw new Error("Not a vector type");const a=Number(St(t));if(this._type instanceof ia){if(this._type._bits==8)return new Uint8Array(t.read(a));if(this._type._bits==16)return new Uint16Array(t.read(a*2));if(this._type._bits==32)return new Uint32Array(t.read(a*4));if(this._type._bits==64)return new BigUint64Array(t.read(a*8))}if(this._type instanceof qa){if(this._type._bits==8)return new Int8Array(t.read(a));if(this._type._bits==16)return new Int16Array(t.read(a*2));if(this._type._bits==32)return new Int32Array(t.read(a*4));if(this._type._bits==64)return new BigInt64Array(t.read(a*8))}const o=[];for(let s=0;s<a;s++)o.push(this._type.decodeValue(t,n._type));return o}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(n=>this._type.valueToString(n)).join("; ")+"}"}}class Ka extends ha{constructor(t){super(),this._type=t}accept(t,r){return t.visitOpt(this,this._type,r)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(r){throw new Error(`Invalid ${this.display()} argument: ${ht(t)} 

-> ${r.message}`)}throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):Ke(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=xt(-18),n=this._type.encodeType(t);t.add(this,Ke(r,n))}decodeValue(t,r){if(r instanceof bc)return[];if(r instanceof Zi)return[];let n=r;if(r instanceof Rn){const a=r.getType();if(typeof a>"u")throw new Error("type mismatch with uninitialized type");n=a}if(n instanceof Ka)switch(Ga(t)){case 0:return[];case 1:{const a=t.save();try{return[this._type.decodeValue(t,n._type)]}catch{return t.restore(a),n._type.decodeValue(t,n._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof bc||this._type instanceof Ka||this._type instanceof Zi)return n.decodeValue(t,n),[];{const a=t.save();try{return[this._type.decodeValue(t,r)]}catch{return t.restore(a),n.decodeValue(t,r),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}}class As extends ha{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>Jr(r[0])-Jr(n[0]))}accept(t,r){return t.visitRecord(this,this._fields,r)}tryAsTuple(){const t=[];for(let r=0;r<this._fields.length;r++){const[n,a]=this._fields[r];if(n!==`_${r}_`)return null;t.push(a)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([r,n])=>{if(!t.hasOwnProperty(r))throw new Error(`Record is missing key "${r}".`);try{return n.covariant(t[r])}catch(a){throw new Error(`Invalid ${this.display()} argument: 

field ${r} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){const r=this._fields.map(([a])=>t[a]),n=ls(this._fields,r,([,a],o)=>a.encodeValue(o));return Ke(...n)}_buildTypeTableImpl(t){this._fields.forEach(([o,s])=>s.buildTypeTable(t));const r=xt(-20),n=ut(this._fields.length),a=this._fields.map(([o,s])=>Ke(ut(Jr(o)),s.encodeType(t)));t.add(this,Ke(r,n,Ke(...a)))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof As))throw new Error("Not a record type");const a={};let o=0,s=0;for(;s<n._fields.length;){const[l,c]=n._fields[s];if(o>=this._fields.length){c.decodeValue(t,c),s++;continue}const[u,d]=this._fields[o],g=Jr(this._fields[o][0]),f=Jr(l);if(g===f)a[u]=d.decodeValue(t,c),o++,s++;else if(f>g)if(d instanceof Ka||d instanceof Zi)a[u]=[],o++;else throw new Error("Cannot find required field "+u);else c.decodeValue(t,c),s++}for(const[l,c]of this._fields.slice(o))if(c instanceof Ka||c instanceof Zi)a[l]=[];else throw new Error("Cannot find required field "+l);return a}get name(){return`record {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`record {${this._fields.map(([r,n])=>r+":"+n.display()).join("; ")}}`}valueToString(t){const r=this._fields.map(([a])=>t[a]);return`record {${ls(this._fields,r,([a,o],s)=>a+"="+o.valueToString(s)).join("; ")}}`}}class su extends As{constructor(t){const r={};t.forEach((n,a)=>r["_"+a+"_"]=n),super(r),this._components=t}accept(t,r){return t.visitTuple(this,this._components,r)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((r,n)=>{try{return r.covariant(t[n])}catch(a){throw new Error(`Invalid ${this.display()} argument: 

index ${n} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){const r=ls(this._components,t,(n,a)=>n.encodeValue(a));return Ke(...r)}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof su))throw new Error("not a tuple type");if(n._components.length<this._components.length)throw new Error("tuple mismatch");const a=[];for(const[o,s]of n._components.entries())o>=this._components.length?s.decodeValue(t,s):a.push(this._components[o].decodeValue(t,s));return a}display(){return`record {${this._components.map(r=>r.display()).join("; ")}}`}valueToString(t){return`record {${ls(this._components,t,(n,a)=>n.valueToString(a)).join("; ")}}`}}class lu extends ha{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>Jr(r[0])-Jr(n[0]))}accept(t,r){return t.visitVariant(this,this._fields,r)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([r,n])=>{try{return!t.hasOwnProperty(r)||n.covariant(t[r])}catch(a){throw new Error(`Invalid ${this.display()} argument: 

variant ${r} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){for(let r=0;r<this._fields.length;r++){const[n,a]=this._fields[r];if(t.hasOwnProperty(n)){const o=ut(r),s=a.encodeValue(t[n]);return Ke(o,s)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,o])=>{o.buildTypeTable(t)});const r=xt(-21),n=ut(this._fields.length),a=this._fields.map(([o,s])=>Ke(ut(Jr(o)),s.encodeType(t)));t.add(this,Ke(r,n,...a))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof lu))throw new Error("Not a variant type");const a=Number(St(t));if(a>=n._fields.length)throw Error("Invalid variant index: "+a);const[o,s]=n._fields[a];for(const[l,c]of this._fields)if(Jr(o)===Jr(l)){const u=c.decodeValue(t,s);return{[l]:u}}throw new Error("Cannot find field hash "+o)}get name(){return`variant {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`variant {${this._fields.map(([r,n])=>r+(n.name==="null"?"":`:${n.display()}`)).join("; ")}}`}valueToString(t){for(const[r,n]of this._fields)if(t.hasOwnProperty(r)){const a=n.valueToString(t[r]);return a==="null"?`variant {${r}}`:`variant {${r}=${a}}`}throw new Error("Variant has no data: "+t)}}class Rn extends ha{constructor(){super(...arguments),this._id=Rn._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}Rn._counter=0;function lm(e){if(Ga(e)!==1)throw new Error("Cannot decode principal");const r=Number(St(e));return Oe.fromUint8Array(new Uint8Array(Ha(e,r)))}class ev extends _r{accept(t,r){return t.visitPrincipal(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=ut(r.byteLength);return Ke(new Uint8Array([1]),n,r)}encodeType(){return xt(-24)}decodeValue(t,r){return this.checkType(r),lm(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class cm extends ha{constructor(t,r,n=[]){super(),this.argTypes=t,this.retTypes=r,this.annotations=n}static argsToString(t,r){if(t.length!==r.length)throw new Error("arity mismatch");return"("+t.map((n,a)=>n.valueToString(r[a])).join(", ")+")"}accept(t,r){return t.visitFunc(this,r)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue([t,r]){const n=t.toUint8Array(),a=ut(n.byteLength),o=Ke(new Uint8Array([1]),a,n),s=new TextEncoder().encode(r),l=ut(s.byteLength);return Ke(new Uint8Array([1]),o,l,s)}_buildTypeTableImpl(t){this.argTypes.forEach(u=>u.buildTypeTable(t)),this.retTypes.forEach(u=>u.buildTypeTable(t));const r=xt(-22),n=ut(this.argTypes.length),a=Ke(...this.argTypes.map(u=>u.encodeType(t))),o=ut(this.retTypes.length),s=Ke(...this.retTypes.map(u=>u.encodeType(t))),l=ut(this.annotations.length),c=Ke(...this.annotations.map(u=>this.encodeAnnotation(u)));t.add(this,Ke(r,n,a,o,s,l,c))}decodeValue(t){if(Ga(t)!==1)throw new Error("Cannot decode function reference");const n=lm(t),a=Number(St(t)),o=Ha(t,a),l=new TextDecoder("utf8",{fatal:!0}).decode(o);return[n,l]}get name(){const t=this.argTypes.map(a=>a.name).join(", "),r=this.retTypes.map(a=>a.name).join(", "),n=" "+this.annotations.join(" ");return`(${t}) -> (${r})${n}`}valueToString([t,r]){return`func "${t.toText()}".${r}`}display(){const t=this.argTypes.map(a=>a.display()).join(", "),r=this.retTypes.map(a=>a.display()).join(", "),n=" "+this.annotations.join(" ");return`(${t}) → (${r})${n}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class tv extends ha{constructor(t){super(),this._fields=Object.entries(t).sort((r,n)=>r[0]<n[0]?-1:r[0]>n[0]?1:0)}accept(t,r){return t.visitService(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${ht(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=ut(r.length);return Ke(new Uint8Array([1]),n,r)}_buildTypeTableImpl(t){this._fields.forEach(([o,s])=>s.buildTypeTable(t));const r=xt(-23),n=ut(this._fields.length),a=this._fields.map(([o,s])=>{const l=new TextEncoder().encode(o),c=ut(l.length);return Ke(c,l,s.encodeType(t))});t.add(this,Ke(r,n,...a))}decodeValue(t){return lm(t)}get name(){return`service {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}}function ht(e){const t=JSON.stringify(e,(r,n)=>typeof n=="bigint"?`BigInt(${n})`:n);return t&&t.length>th?t.substring(0,th-3)+"...":t}function Mf(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const r=new tS;e.forEach(c=>c.buildTypeTable(r));const n=new TextEncoder().encode(Tl),a=r.encode(),o=ut(t.length),s=Ke(...e.map(c=>c.encodeType(r))),l=Ke(...ls(e,t,(c,u)=>{try{c.covariant(u)}catch(d){throw new Error(d.message+`

`)}return c.encodeValue(u)}));return Ke(n,a,o,s,l)}function rv(e,t){const r=new no(t);if(t.byteLength<Tl.length)throw new Error("Message length smaller than magic number");const n=Ha(r,Tl.length),a=new TextDecoder().decode(n);if(a!==Tl)throw new Error("Wrong magic number: "+JSON.stringify(a));function o(p){const h=[],k=Number(St(p));for(let E=0;E<k;E++){const x=Number(Vn(p));switch(x){case-18:case-19:{const U=Number(Vn(p));h.push([x,U]);break}case-20:case-21:{const U=[];let C=Number(St(p)),W;for(;C--;){const $=Number(St(p));if($>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof W=="number"&&W>=$)throw new Error("field id collision or not sorted");W=$;const P=Number(Vn(p));U.push([$,P])}h.push([x,U]);break}case-22:{const U=[];let C=Number(St(p));for(;C--;)U.push(Number(Vn(p)));const W=[];let $=Number(St(p));for(;$--;)W.push(Number(Vn(p)));const P=[];let X=Number(St(p));for(;X--;)switch(Number(St(p))){case 1:{P.push("query");break}case 2:{P.push("oneway");break}case 3:{P.push("composite_query");break}default:throw new Error("unknown annotation")}h.push([x,[U,W,P]]);break}case-23:{let U=Number(St(p));const C=[];for(;U--;){const W=Number(St(p)),$=new TextDecoder().decode(Ha(p,W)),P=Vn(p);C.push([$,P])}h.push([x,C]);break}default:throw new Error("Illegal op_code: "+x)}}const B=[],_=Number(St(p));for(let E=0;E<_;E++)B.push(Number(Vn(p)));return[h,B]}const[s,l]=o(r);if(l.length<e.length)throw new Error("Wrong number of return values");const c=s.map(p=>kv());function u(p){if(p<-24)throw new Error("future value not supported");if(p<0)switch(p){case-1:return ov;case-2:return iv;case-3:return cv;case-4:return lv;case-5:return gv;case-6:return yv;case-7:return vv;case-8:return wv;case-9:return fv;case-10:return mv;case-11:return pv;case-12:return hv;case-13:return uv;case-14:return dv;case-15:return sv;case-16:return av;case-17:return nv;case-24:return Ev;default:throw new Error("Illegal op_code: "+p)}if(p>=s.length)throw new Error("type index out of range");return c[p]}function d(p){switch(p[0]){case-19:{const h=u(p[1]);return xv(h)}case-18:{const h=u(p[1]);return _v(h)}case-20:{const h={};for(const[_,E]of p[1]){const x=`_${_}_`;h[x]=u(E)}const k=Sv(h),B=k.tryAsTuple();return Array.isArray(B)?bv(...B):k}case-21:{const h={};for(const[k,B]of p[1]){const _=`_${k}_`;h[_]=u(B)}return Nv(h)}case-22:{const[h,k,B]=p[1];return Tv(h.map(_=>u(_)),k.map(_=>u(_)),B)}case-23:{const h={},k=p[1];for(const[B,_]of k){let E=u(_);if(E instanceof Rn&&(E=E.getType()),!(E instanceof cm))throw new Error("Illegal service definition: services can only contain functions");h[B]=E}return Av(h)}default:throw new Error("Illegal op_code: "+p[0])}}s.forEach((p,h)=>{if(p[0]===-22){const k=d(p);c[h].fill(k)}}),s.forEach((p,h)=>{if(p[0]!==-22){const k=d(p);c[h].fill(k)}});const g=l.map(p=>u(p)),f=e.map((p,h)=>p.decodeValue(r,g[h]));for(let p=e.length;p<g.length;p++)g[p].decodeValue(r,g[p]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return f}const nv=new Q1,av=new Zi,nS=new Z1,iv=new X1,ov=new bc,sv=new J1,lv=new L1,cv=new D1,uv=new sm(32),dv=new sm(64),fv=new qa(8),mv=new qa(16),pv=new qa(32),hv=new qa(64),gv=new ia(8),yv=new ia(16),vv=new ia(32),wv=new ia(64),Ev=new ev;function bv(...e){return new su(e)}function xv(e){return new ou(e)}function _v(e){return new Ka(e)}function Sv(e){return new As(e)}function Nv(e){return new lu(e)}function kv(){return new Rn}function Tv(e,t,r=[]){return new cm(e,t,r)}function Av(e){return new tv(e)}const aS=Object.freeze(Object.defineProperty({__proto__:null,Bool:iv,BoolClass:X1,ConstructType:ha,Empty:nv,EmptyClass:Q1,FixedIntClass:qa,FixedNatClass:ia,Float32:uv,Float64:dv,FloatClass:sm,Func:Tv,FuncClass:cm,Int:lv,Int16:mv,Int32:pv,Int64:hv,Int8:fv,IntClass:L1,Nat:cv,Nat16:yv,Nat32:vv,Nat64:wv,Nat8:gv,NatClass:D1,Null:ov,NullClass:bc,Opt:_v,OptClass:Ka,PrimitiveType:_r,Principal:Ev,PrincipalClass:ev,Rec:kv,RecClass:Rn,Record:Sv,RecordClass:As,Reserved:av,ReservedClass:Zi,Service:Av,ServiceClass:tv,Text:sv,TextClass:J1,Tuple:bv,TupleClass:su,Type:iu,Unknown:nS,UnknownClass:Z1,Variant:Nv,VariantClass:lu,Vec:xv,VecClass:ou,Visitor:rS,decode:rv,encode:Mf},Symbol.toStringTag,{value:"Module"}));var Cv={},Cs={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Ss,r=Ns,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=E,e.INSPECT_MAX_BYTES=50;var a=2147483647;e.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var b=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(b,m),b.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function s(b){if(b>a)throw new RangeError('The value "'+b+'" is invalid for option "size"');var m=new Uint8Array(b);return Object.setPrototypeOf(m,l.prototype),m}function l(b,m,y){if(typeof b=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(b)}return c(b,m,y)}l.poolSize=8192;function c(b,m,y){if(typeof b=="string")return f(b,m);if(ArrayBuffer.isView(b))return h(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(ee(b,ArrayBuffer)||b&&ee(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(b,SharedArrayBuffer)||b&&ee(b.buffer,SharedArrayBuffer)))return k(b,m,y);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var A=b.valueOf&&b.valueOf();if(A!=null&&A!==b)return l.from(A,m,y);var F=B(b);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return l.from(b[Symbol.toPrimitive]("string"),m,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}l.from=function(b,m,y){return c(b,m,y)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function d(b,m,y){return u(b),b<=0?s(b):m!==void 0?typeof y=="string"?s(b).fill(m,y):s(b).fill(m):s(b)}l.alloc=function(b,m,y){return d(b,m,y)};function g(b){return u(b),s(b<0?0:_(b)|0)}l.allocUnsafe=function(b){return g(b)},l.allocUnsafeSlow=function(b){return g(b)};function f(b,m){if((typeof m!="string"||m==="")&&(m="utf8"),!l.isEncoding(m))throw new TypeError("Unknown encoding: "+m);var y=x(b,m)|0,A=s(y),F=A.write(b,m);return F!==y&&(A=A.slice(0,F)),A}function p(b){for(var m=b.length<0?0:_(b.length)|0,y=s(m),A=0;A<m;A+=1)y[A]=b[A]&255;return y}function h(b){if(ee(b,Uint8Array)){var m=new Uint8Array(b);return k(m.buffer,m.byteOffset,m.byteLength)}return p(b)}function k(b,m,y){if(m<0||b.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<m+(y||0))throw new RangeError('"length" is outside of buffer bounds');var A;return m===void 0&&y===void 0?A=new Uint8Array(b):y===void 0?A=new Uint8Array(b,m):A=new Uint8Array(b,m,y),Object.setPrototypeOf(A,l.prototype),A}function B(b){if(l.isBuffer(b)){var m=_(b.length)|0,y=s(m);return y.length===0||b.copy(y,0,0,m),y}if(b.length!==void 0)return typeof b.length!="number"||Z(b.length)?s(0):p(b);if(b.type==="Buffer"&&Array.isArray(b.data))return p(b.data)}function _(b){if(b>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return b|0}function E(b){return+b!=b&&(b=0),l.alloc(+b)}l.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==l.prototype},l.compare=function(m,y){if(ee(m,Uint8Array)&&(m=l.from(m,m.offset,m.byteLength)),ee(y,Uint8Array)&&(y=l.from(y,y.offset,y.byteLength)),!l.isBuffer(m)||!l.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===y)return 0;for(var A=m.length,F=y.length,K=0,ie=Math.min(A,F);K<ie;++K)if(m[K]!==y[K]){A=m[K],F=y[K];break}return A<F?-1:F<A?1:0},l.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(m,y){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return l.alloc(0);var A;if(y===void 0)for(y=0,A=0;A<m.length;++A)y+=m[A].length;var F=l.allocUnsafe(y),K=0;for(A=0;A<m.length;++A){var ie=m[A];if(ee(ie,Uint8Array))K+ie.length>F.length?l.from(ie).copy(F,K):Uint8Array.prototype.set.call(F,ie,K);else if(l.isBuffer(ie))ie.copy(F,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=ie.length}return F};function x(b,m){if(l.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||ee(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);var y=b.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&y===0)return 0;for(var F=!1;;)switch(m){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return ue(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return V(b).length;default:if(F)return A?-1:ue(b).length;m=(""+m).toLowerCase(),F=!0}}l.byteLength=x;function U(b,m,y){var A=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,m>>>=0,y<=m))return"";for(b||(b="utf8");;)switch(b){case"hex":return ae(this,m,y);case"utf8":case"utf-8":return O(this,m,y);case"ascii":return ne(this,m,y);case"latin1":case"binary":return Q(this,m,y);case"base64":return N(this,m,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,m,y);default:if(A)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),A=!0}}l.prototype._isBuffer=!0;function C(b,m,y){var A=b[m];b[m]=b[y],b[y]=A}l.prototype.swap16=function(){var m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var y=0;y<m;y+=2)C(this,y,y+1);return this},l.prototype.swap32=function(){var m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<m;y+=4)C(this,y,y+3),C(this,y+1,y+2);return this},l.prototype.swap64=function(){var m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<m;y+=8)C(this,y,y+7),C(this,y+1,y+6),C(this,y+2,y+5),C(this,y+3,y+4);return this},l.prototype.toString=function(){var m=this.length;return m===0?"":arguments.length===0?O(this,0,m):U.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(m){if(!l.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:l.compare(this,m)===0},l.prototype.inspect=function(){var m="",y=e.INSPECT_MAX_BYTES;return m=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(m+=" ... "),"<Buffer "+m+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(m,y,A,F,K){if(ee(m,Uint8Array)&&(m=l.from(m,m.offset,m.byteLength)),!l.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(y===void 0&&(y=0),A===void 0&&(A=m?m.length:0),F===void 0&&(F=0),K===void 0&&(K=this.length),y<0||A>m.length||F<0||K>this.length)throw new RangeError("out of range index");if(F>=K&&y>=A)return 0;if(F>=K)return-1;if(y>=A)return 1;if(y>>>=0,A>>>=0,F>>>=0,K>>>=0,this===m)return 0;for(var ie=K-F,pe=A-y,Ee=Math.min(ie,pe),be=this.slice(F,K),Be=m.slice(y,A),S=0;S<Ee;++S)if(be[S]!==Be[S]){ie=be[S],pe=Be[S];break}return ie<pe?-1:pe<ie?1:0};function W(b,m,y,A,F){if(b.length===0)return-1;if(typeof y=="string"?(A=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,Z(y)&&(y=F?0:b.length-1),y<0&&(y=b.length+y),y>=b.length){if(F)return-1;y=b.length-1}else if(y<0)if(F)y=0;else return-1;if(typeof m=="string"&&(m=l.from(m,A)),l.isBuffer(m))return m.length===0?-1:$(b,m,y,A,F);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(b,m,y):Uint8Array.prototype.lastIndexOf.call(b,m,y):$(b,[m],y,A,F);throw new TypeError("val must be string, number or Buffer")}function $(b,m,y,A,F){var K=1,ie=b.length,pe=m.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(b.length<2||m.length<2)return-1;K=2,ie/=2,pe/=2,y/=2}function Ee(w,j){return K===1?w[j]:w.readUInt16BE(j*K)}var be;if(F){var Be=-1;for(be=y;be<ie;be++)if(Ee(b,be)===Ee(m,Be===-1?0:be-Be)){if(Be===-1&&(Be=be),be-Be+1===pe)return Be*K}else Be!==-1&&(be-=be-Be),Be=-1}else for(y+pe>ie&&(y=ie-pe),be=y;be>=0;be--){for(var S=!0,v=0;v<pe;v++)if(Ee(b,be+v)!==Ee(m,v)){S=!1;break}if(S)return be}return-1}l.prototype.includes=function(m,y,A){return this.indexOf(m,y,A)!==-1},l.prototype.indexOf=function(m,y,A){return W(this,m,y,A,!0)},l.prototype.lastIndexOf=function(m,y,A){return W(this,m,y,A,!1)};function P(b,m,y,A){y=Number(y)||0;var F=b.length-y;A?(A=Number(A),A>F&&(A=F)):A=F;var K=m.length;A>K/2&&(A=K/2);for(var ie=0;ie<A;++ie){var pe=parseInt(m.substr(ie*2,2),16);if(Z(pe))return ie;b[y+ie]=pe}return ie}function X(b,m,y,A){return q(ue(m,b.length-y),b,y,A)}function z(b,m,y,A){return q(ge(m),b,y,A)}function H(b,m,y,A){return q(V(m),b,y,A)}function Y(b,m,y,A){return q(R(m,b.length-y),b,y,A)}l.prototype.write=function(m,y,A,F){if(y===void 0)F="utf8",A=this.length,y=0;else if(A===void 0&&typeof y=="string")F=y,A=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(A)?(A=A>>>0,F===void 0&&(F="utf8")):(F=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var K=this.length-y;if((A===void 0||A>K)&&(A=K),m.length>0&&(A<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var ie=!1;;)switch(F){case"hex":return P(this,m,y,A);case"utf8":case"utf-8":return X(this,m,y,A);case"ascii":case"latin1":case"binary":return z(this,m,y,A);case"base64":return H(this,m,y,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,m,y,A);default:if(ie)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),ie=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(b,m,y){return m===0&&y===b.length?t.fromByteArray(b):t.fromByteArray(b.slice(m,y))}function O(b,m,y){y=Math.min(b.length,y);for(var A=[],F=m;F<y;){var K=b[F],ie=null,pe=K>239?4:K>223?3:K>191?2:1;if(F+pe<=y){var Ee,be,Be,S;switch(pe){case 1:K<128&&(ie=K);break;case 2:Ee=b[F+1],(Ee&192)===128&&(S=(K&31)<<6|Ee&63,S>127&&(ie=S));break;case 3:Ee=b[F+1],be=b[F+2],(Ee&192)===128&&(be&192)===128&&(S=(K&15)<<12|(Ee&63)<<6|be&63,S>2047&&(S<55296||S>57343)&&(ie=S));break;case 4:Ee=b[F+1],be=b[F+2],Be=b[F+3],(Ee&192)===128&&(be&192)===128&&(Be&192)===128&&(S=(K&15)<<18|(Ee&63)<<12|(be&63)<<6|Be&63,S>65535&&S<1114112&&(ie=S))}}ie===null?(ie=65533,pe=1):ie>65535&&(ie-=65536,A.push(ie>>>10&1023|55296),ie=56320|ie&1023),A.push(ie),F+=pe}return D(A)}var G=4096;function D(b){var m=b.length;if(m<=G)return String.fromCharCode.apply(String,b);for(var y="",A=0;A<m;)y+=String.fromCharCode.apply(String,b.slice(A,A+=G));return y}function ne(b,m,y){var A="";y=Math.min(b.length,y);for(var F=m;F<y;++F)A+=String.fromCharCode(b[F]&127);return A}function Q(b,m,y){var A="";y=Math.min(b.length,y);for(var F=m;F<y;++F)A+=String.fromCharCode(b[F]);return A}function ae(b,m,y){var A=b.length;(!m||m<0)&&(m=0),(!y||y<0||y>A)&&(y=A);for(var F="",K=m;K<y;++K)F+=re[b[K]];return F}function fe(b,m,y){for(var A=b.slice(m,y),F="",K=0;K<A.length-1;K+=2)F+=String.fromCharCode(A[K]+A[K+1]*256);return F}l.prototype.slice=function(m,y){var A=this.length;m=~~m,y=y===void 0?A:~~y,m<0?(m+=A,m<0&&(m=0)):m>A&&(m=A),y<0?(y+=A,y<0&&(y=0)):y>A&&(y=A),y<m&&(y=m);var F=this.subarray(m,y);return Object.setPrototypeOf(F,l.prototype),F};function le(b,m,y){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+m>y)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(m,y,A){m=m>>>0,y=y>>>0,A||le(m,y,this.length);for(var F=this[m],K=1,ie=0;++ie<y&&(K*=256);)F+=this[m+ie]*K;return F},l.prototype.readUintBE=l.prototype.readUIntBE=function(m,y,A){m=m>>>0,y=y>>>0,A||le(m,y,this.length);for(var F=this[m+--y],K=1;y>0&&(K*=256);)F+=this[m+--y]*K;return F},l.prototype.readUint8=l.prototype.readUInt8=function(m,y){return m=m>>>0,y||le(m,1,this.length),this[m]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(m,y){return m=m>>>0,y||le(m,2,this.length),this[m]|this[m+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(m,y){return m=m>>>0,y||le(m,2,this.length),this[m]<<8|this[m+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(m,y){return m=m>>>0,y||le(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(m,y){return m=m>>>0,y||le(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},l.prototype.readIntLE=function(m,y,A){m=m>>>0,y=y>>>0,A||le(m,y,this.length);for(var F=this[m],K=1,ie=0;++ie<y&&(K*=256);)F+=this[m+ie]*K;return K*=128,F>=K&&(F-=Math.pow(2,8*y)),F},l.prototype.readIntBE=function(m,y,A){m=m>>>0,y=y>>>0,A||le(m,y,this.length);for(var F=y,K=1,ie=this[m+--F];F>0&&(K*=256);)ie+=this[m+--F]*K;return K*=128,ie>=K&&(ie-=Math.pow(2,8*y)),ie},l.prototype.readInt8=function(m,y){return m=m>>>0,y||le(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},l.prototype.readInt16LE=function(m,y){m=m>>>0,y||le(m,2,this.length);var A=this[m]|this[m+1]<<8;return A&32768?A|4294901760:A},l.prototype.readInt16BE=function(m,y){m=m>>>0,y||le(m,2,this.length);var A=this[m+1]|this[m]<<8;return A&32768?A|4294901760:A},l.prototype.readInt32LE=function(m,y){return m=m>>>0,y||le(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},l.prototype.readInt32BE=function(m,y){return m=m>>>0,y||le(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},l.prototype.readFloatLE=function(m,y){return m=m>>>0,y||le(m,4,this.length),r.read(this,m,!0,23,4)},l.prototype.readFloatBE=function(m,y){return m=m>>>0,y||le(m,4,this.length),r.read(this,m,!1,23,4)},l.prototype.readDoubleLE=function(m,y){return m=m>>>0,y||le(m,8,this.length),r.read(this,m,!0,52,8)},l.prototype.readDoubleBE=function(m,y){return m=m>>>0,y||le(m,8,this.length),r.read(this,m,!1,52,8)};function de(b,m,y,A,F,K){if(!l.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>F||m<K)throw new RangeError('"value" argument is out of bounds');if(y+A>b.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(m,y,A,F){if(m=+m,y=y>>>0,A=A>>>0,!F){var K=Math.pow(2,8*A)-1;de(this,m,y,A,K,0)}var ie=1,pe=0;for(this[y]=m&255;++pe<A&&(ie*=256);)this[y+pe]=m/ie&255;return y+A},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(m,y,A,F){if(m=+m,y=y>>>0,A=A>>>0,!F){var K=Math.pow(2,8*A)-1;de(this,m,y,A,K,0)}var ie=A-1,pe=1;for(this[y+ie]=m&255;--ie>=0&&(pe*=256);)this[y+ie]=m/pe&255;return y+A},l.prototype.writeUint8=l.prototype.writeUInt8=function(m,y,A){return m=+m,y=y>>>0,A||de(this,m,y,1,255,0),this[y]=m&255,y+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(m,y,A){return m=+m,y=y>>>0,A||de(this,m,y,2,65535,0),this[y]=m&255,this[y+1]=m>>>8,y+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(m,y,A){return m=+m,y=y>>>0,A||de(this,m,y,2,65535,0),this[y]=m>>>8,this[y+1]=m&255,y+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(m,y,A){return m=+m,y=y>>>0,A||de(this,m,y,4,4294967295,0),this[y+3]=m>>>24,this[y+2]=m>>>16,this[y+1]=m>>>8,this[y]=m&255,y+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(m,y,A){return m=+m,y=y>>>0,A||de(this,m,y,4,4294967295,0),this[y]=m>>>24,this[y+1]=m>>>16,this[y+2]=m>>>8,this[y+3]=m&255,y+4},l.prototype.writeIntLE=function(m,y,A,F){if(m=+m,y=y>>>0,!F){var K=Math.pow(2,8*A-1);de(this,m,y,A,K-1,-K)}var ie=0,pe=1,Ee=0;for(this[y]=m&255;++ie<A&&(pe*=256);)m<0&&Ee===0&&this[y+ie-1]!==0&&(Ee=1),this[y+ie]=(m/pe>>0)-Ee&255;return y+A},l.prototype.writeIntBE=function(m,y,A,F){if(m=+m,y=y>>>0,!F){var K=Math.pow(2,8*A-1);de(this,m,y,A,K-1,-K)}var ie=A-1,pe=1,Ee=0;for(this[y+ie]=m&255;--ie>=0&&(pe*=256);)m<0&&Ee===0&&this[y+ie+1]!==0&&(Ee=1),this[y+ie]=(m/pe>>0)-Ee&255;return y+A},l.prototype.writeInt8=function(m,y,A){return m=+m,y=y>>>0,A||de(this,m,y,1,127,-128),m<0&&(m=255+m+1),this[y]=m&255,y+1},l.prototype.writeInt16LE=function(m,y,A){return m=+m,y=y>>>0,A||de(this,m,y,2,32767,-32768),this[y]=m&255,this[y+1]=m>>>8,y+2},l.prototype.writeInt16BE=function(m,y,A){return m=+m,y=y>>>0,A||de(this,m,y,2,32767,-32768),this[y]=m>>>8,this[y+1]=m&255,y+2},l.prototype.writeInt32LE=function(m,y,A){return m=+m,y=y>>>0,A||de(this,m,y,4,2147483647,-2147483648),this[y]=m&255,this[y+1]=m>>>8,this[y+2]=m>>>16,this[y+3]=m>>>24,y+4},l.prototype.writeInt32BE=function(m,y,A){return m=+m,y=y>>>0,A||de(this,m,y,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[y]=m>>>24,this[y+1]=m>>>16,this[y+2]=m>>>8,this[y+3]=m&255,y+4};function _e(b,m,y,A,F,K){if(y+A>b.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function T(b,m,y,A,F){return m=+m,y=y>>>0,F||_e(b,m,y,4),r.write(b,m,y,A,23,4),y+4}l.prototype.writeFloatLE=function(m,y,A){return T(this,m,y,!0,A)},l.prototype.writeFloatBE=function(m,y,A){return T(this,m,y,!1,A)};function he(b,m,y,A,F){return m=+m,y=y>>>0,F||_e(b,m,y,8),r.write(b,m,y,A,52,8),y+8}l.prototype.writeDoubleLE=function(m,y,A){return he(this,m,y,!0,A)},l.prototype.writeDoubleBE=function(m,y,A){return he(this,m,y,!1,A)},l.prototype.copy=function(m,y,A,F){if(!l.isBuffer(m))throw new TypeError("argument should be a Buffer");if(A||(A=0),!F&&F!==0&&(F=this.length),y>=m.length&&(y=m.length),y||(y=0),F>0&&F<A&&(F=A),F===A||m.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),m.length-y<F-A&&(F=m.length-y+A);var K=F-A;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,A,F):Uint8Array.prototype.set.call(m,this.subarray(A,F),y),K},l.prototype.fill=function(m,y,A,F){if(typeof m=="string"){if(typeof y=="string"?(F=y,y=0,A=this.length):typeof A=="string"&&(F=A,A=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!l.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(m.length===1){var K=m.charCodeAt(0);(F==="utf8"&&K<128||F==="latin1")&&(m=K)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(y<0||this.length<y||this.length<A)throw new RangeError("Out of range index");if(A<=y)return this;y=y>>>0,A=A===void 0?this.length:A>>>0,m||(m=0);var ie;if(typeof m=="number")for(ie=y;ie<A;++ie)this[ie]=m;else{var pe=l.isBuffer(m)?m:l.from(m,F),Ee=pe.length;if(Ee===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(ie=0;ie<A-y;++ie)this[ie+y]=pe[ie%Ee]}return this};var we=/[^+/0-9A-Za-z-_]/g;function ce(b){if(b=b.split("=")[0],b=b.trim().replace(we,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function ue(b,m){m=m||1/0;for(var y,A=b.length,F=null,K=[],ie=0;ie<A;++ie){if(y=b.charCodeAt(ie),y>55295&&y<57344){if(!F){if(y>56319){(m-=3)>-1&&K.push(239,191,189);continue}else if(ie+1===A){(m-=3)>-1&&K.push(239,191,189);continue}F=y;continue}if(y<56320){(m-=3)>-1&&K.push(239,191,189),F=y;continue}y=(F-55296<<10|y-56320)+65536}else F&&(m-=3)>-1&&K.push(239,191,189);if(F=null,y<128){if((m-=1)<0)break;K.push(y)}else if(y<2048){if((m-=2)<0)break;K.push(y>>6|192,y&63|128)}else if(y<65536){if((m-=3)<0)break;K.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((m-=4)<0)break;K.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return K}function ge(b){for(var m=[],y=0;y<b.length;++y)m.push(b.charCodeAt(y)&255);return m}function R(b,m){for(var y,A,F,K=[],ie=0;ie<b.length&&!((m-=2)<0);++ie)y=b.charCodeAt(ie),A=y>>8,F=y%256,K.push(F),K.push(A);return K}function V(b){return t.toByteArray(ce(b))}function q(b,m,y,A){for(var F=0;F<A&&!(F+y>=m.length||F>=b.length);++F)m[F+y]=b[F];return F}function ee(b,m){return b instanceof m||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===m.name}function Z(b){return b!==b}var re=function(){for(var b="0123456789abcdef",m=new Array(256),y=0;y<16;++y)for(var A=y*16,F=0;F<16;++F)m[A+F]=b[y]+b[F];return m}()})(Cs);var Bv={exports:{}};(function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,o=Math.floor,s="[BigNumber Error] ",l=s+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,d=9007199254740991,g=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,p=1e9;function h(W){var $,P,X,z=T.prototype={constructor:T,toString:null,valueOf:null},H=new T(1),Y=20,N=4,O=-7,G=21,D=-1e7,ne=1e7,Q=!1,ae=1,fe=0,le={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},de="0123456789abcdefghijklmnopqrstuvwxyz",_e=!0;function T(R,V){var q,ee,Z,re,b,m,y,A,F=this;if(!(F instanceof T))return new T(R,V);if(V==null){if(R&&R._isBigNumber===!0){F.s=R.s,!R.c||R.e>ne?F.c=F.e=null:R.e<D?F.c=[F.e=0]:(F.e=R.e,F.c=R.c.slice());return}if((m=typeof R=="number")&&R*0==0){if(F.s=1/R<0?(R=-R,-1):1,R===~~R){for(re=0,b=R;b>=10;b/=10,re++);re>ne?F.c=F.e=null:(F.e=re,F.c=[R]);return}A=String(R)}else{if(!n.test(A=String(R)))return X(F,A,m);F.s=A.charCodeAt(0)==45?(A=A.slice(1),-1):1}(re=A.indexOf("."))>-1&&(A=A.replace(".","")),(b=A.search(/e/i))>0?(re<0&&(re=b),re+=+A.slice(b+1),A=A.substring(0,b)):re<0&&(re=A.length)}else{if(E(V,2,de.length,"Base"),V==10&&_e)return F=new T(R),ue(F,Y+F.e+1,N);if(A=String(R),m=typeof R=="number"){if(R*0!=0)return X(F,A,m,V);if(F.s=1/R<0?(A=A.slice(1),-1):1,T.DEBUG&&A.replace(/^0\.0*|\./,"").length>15)throw Error(l+R)}else F.s=A.charCodeAt(0)===45?(A=A.slice(1),-1):1;for(q=de.slice(0,V),re=b=0,y=A.length;b<y;b++)if(q.indexOf(ee=A.charAt(b))<0){if(ee=="."){if(b>re){re=y;continue}}else if(!Z&&(A==A.toUpperCase()&&(A=A.toLowerCase())||A==A.toLowerCase()&&(A=A.toUpperCase()))){Z=!0,b=-1,re=0;continue}return X(F,String(R),m,V)}m=!1,A=P(A,V,10,F.s),(re=A.indexOf("."))>-1?A=A.replace(".",""):re=A.length}for(b=0;A.charCodeAt(b)===48;b++);for(y=A.length;A.charCodeAt(--y)===48;);if(A=A.slice(b,++y)){if(y-=b,m&&T.DEBUG&&y>15&&(R>d||R!==o(R)))throw Error(l+F.s*R);if((re=re-b-1)>ne)F.c=F.e=null;else if(re<D)F.c=[F.e=0];else{if(F.e=re,F.c=[],b=(re+1)%u,re<0&&(b+=u),b<y){for(b&&F.c.push(+A.slice(0,b)),y-=u;b<y;)F.c.push(+A.slice(b,b+=u));b=u-(A=A.slice(b)).length}else b-=y;for(;b--;A+="0");F.c.push(+A)}}else F.c=[F.e=0]}T.clone=h,T.ROUND_UP=0,T.ROUND_DOWN=1,T.ROUND_CEIL=2,T.ROUND_FLOOR=3,T.ROUND_HALF_UP=4,T.ROUND_HALF_DOWN=5,T.ROUND_HALF_EVEN=6,T.ROUND_HALF_CEIL=7,T.ROUND_HALF_FLOOR=8,T.EUCLID=9,T.config=T.set=function(R){var V,q;if(R!=null)if(typeof R=="object"){if(R.hasOwnProperty(V="DECIMAL_PLACES")&&(q=R[V],E(q,0,p,V),Y=q),R.hasOwnProperty(V="ROUNDING_MODE")&&(q=R[V],E(q,0,8,V),N=q),R.hasOwnProperty(V="EXPONENTIAL_AT")&&(q=R[V],q&&q.pop?(E(q[0],-p,0,V),E(q[1],0,p,V),O=q[0],G=q[1]):(E(q,-p,p,V),O=-(G=q<0?-q:q))),R.hasOwnProperty(V="RANGE"))if(q=R[V],q&&q.pop)E(q[0],-p,-1,V),E(q[1],1,p,V),D=q[0],ne=q[1];else if(E(q,-p,p,V),q)D=-(ne=q<0?-q:q);else throw Error(s+V+" cannot be zero: "+q);if(R.hasOwnProperty(V="CRYPTO"))if(q=R[V],q===!!q)if(q)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Q=q;else throw Q=!q,Error(s+"crypto unavailable");else Q=q;else throw Error(s+V+" not true or false: "+q);if(R.hasOwnProperty(V="MODULO_MODE")&&(q=R[V],E(q,0,9,V),ae=q),R.hasOwnProperty(V="POW_PRECISION")&&(q=R[V],E(q,0,p,V),fe=q),R.hasOwnProperty(V="FORMAT"))if(q=R[V],typeof q=="object")le=q;else throw Error(s+V+" not an object: "+q);if(R.hasOwnProperty(V="ALPHABET"))if(q=R[V],typeof q=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(q))_e=q.slice(0,10)=="0123456789",de=q;else throw Error(s+V+" invalid: "+q)}else throw Error(s+"Object expected: "+R);return{DECIMAL_PLACES:Y,ROUNDING_MODE:N,EXPONENTIAL_AT:[O,G],RANGE:[D,ne],CRYPTO:Q,MODULO_MODE:ae,POW_PRECISION:fe,FORMAT:le,ALPHABET:de}},T.isBigNumber=function(R){if(!R||R._isBigNumber!==!0)return!1;if(!T.DEBUG)return!0;var V,q,ee=R.c,Z=R.e,re=R.s;e:if({}.toString.call(ee)=="[object Array]"){if((re===1||re===-1)&&Z>=-p&&Z<=p&&Z===o(Z)){if(ee[0]===0){if(Z===0&&ee.length===1)return!0;break e}if(V=(Z+1)%u,V<1&&(V+=u),String(ee[0]).length==V){for(V=0;V<ee.length;V++)if(q=ee[V],q<0||q>=c||q!==o(q))break e;if(q!==0)return!0}}}else if(ee===null&&Z===null&&(re===null||re===1||re===-1))return!0;throw Error(s+"Invalid BigNumber: "+R)},T.maximum=T.max=function(){return we(arguments,-1)},T.minimum=T.min=function(){return we(arguments,1)},T.random=function(){var R=9007199254740992,V=Math.random()*R&2097151?function(){return o(Math.random()*R)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(q){var ee,Z,re,b,m,y=0,A=[],F=new T(H);if(q==null?q=Y:E(q,0,p),b=a(q/u),Q)if(crypto.getRandomValues){for(ee=crypto.getRandomValues(new Uint32Array(b*=2));y<b;)m=ee[y]*131072+(ee[y+1]>>>11),m>=9e15?(Z=crypto.getRandomValues(new Uint32Array(2)),ee[y]=Z[0],ee[y+1]=Z[1]):(A.push(m%1e14),y+=2);y=b/2}else if(crypto.randomBytes){for(ee=crypto.randomBytes(b*=7);y<b;)m=(ee[y]&31)*281474976710656+ee[y+1]*1099511627776+ee[y+2]*4294967296+ee[y+3]*16777216+(ee[y+4]<<16)+(ee[y+5]<<8)+ee[y+6],m>=9e15?crypto.randomBytes(7).copy(ee,y):(A.push(m%1e14),y+=7);y=b/7}else throw Q=!1,Error(s+"crypto unavailable");if(!Q)for(;y<b;)m=V(),m<9e15&&(A[y++]=m%1e14);for(b=A[--y],q%=u,b&&q&&(m=g[u-q],A[y]=o(b/m)*m);A[y]===0;A.pop(),y--);if(y<0)A=[re=0];else{for(re=-1;A[0]===0;A.splice(0,1),re-=u);for(y=1,m=A[0];m>=10;m/=10,y++);y<u&&(re-=u-y)}return F.e=re,F.c=A,F}}(),T.sum=function(){for(var R=1,V=arguments,q=new T(V[0]);R<V.length;)q=q.plus(V[R++]);return q},P=function(){var R="0123456789";function V(q,ee,Z,re){for(var b,m=[0],y,A=0,F=q.length;A<F;){for(y=m.length;y--;m[y]*=ee);for(m[0]+=re.indexOf(q.charAt(A++)),b=0;b<m.length;b++)m[b]>Z-1&&(m[b+1]==null&&(m[b+1]=0),m[b+1]+=m[b]/Z|0,m[b]%=Z)}return m.reverse()}return function(q,ee,Z,re,b){var m,y,A,F,K,ie,pe,Ee,be=q.indexOf("."),Be=Y,S=N;for(be>=0&&(F=fe,fe=0,q=q.replace(".",""),Ee=new T(ee),ie=Ee.pow(q.length-be),fe=F,Ee.c=V(C(B(ie.c),ie.e,"0"),10,Z,R),Ee.e=Ee.c.length),pe=V(q,ee,Z,b?(m=de,R):(m=R,de)),A=F=pe.length;pe[--F]==0;pe.pop());if(!pe[0])return m.charAt(0);if(be<0?--A:(ie.c=pe,ie.e=A,ie.s=re,ie=$(ie,Ee,Be,S,Z),pe=ie.c,K=ie.r,A=ie.e),y=A+Be+1,be=pe[y],F=Z/2,K=K||y<0||pe[y+1]!=null,K=S<4?(be!=null||K)&&(S==0||S==(ie.s<0?3:2)):be>F||be==F&&(S==4||K||S==6&&pe[y-1]&1||S==(ie.s<0?8:7)),y<1||!pe[0])q=K?C(m.charAt(1),-Be,m.charAt(0)):m.charAt(0);else{if(pe.length=y,K)for(--Z;++pe[--y]>Z;)pe[y]=0,y||(++A,pe=[1].concat(pe));for(F=pe.length;!pe[--F];);for(be=0,q="";be<=F;q+=m.charAt(pe[be++]));q=C(q,A,m.charAt(0))}return q}}(),$=function(){function R(ee,Z,re){var b,m,y,A,F=0,K=ee.length,ie=Z%f,pe=Z/f|0;for(ee=ee.slice();K--;)y=ee[K]%f,A=ee[K]/f|0,b=pe*y+A*ie,m=ie*y+b%f*f+F,F=(m/re|0)+(b/f|0)+pe*A,ee[K]=m%re;return F&&(ee=[F].concat(ee)),ee}function V(ee,Z,re,b){var m,y;if(re!=b)y=re>b?1:-1;else for(m=y=0;m<re;m++)if(ee[m]!=Z[m]){y=ee[m]>Z[m]?1:-1;break}return y}function q(ee,Z,re,b){for(var m=0;re--;)ee[re]-=m,m=ee[re]<Z[re]?1:0,ee[re]=m*b+ee[re]-Z[re];for(;!ee[0]&&ee.length>1;ee.splice(0,1));}return function(ee,Z,re,b,m){var y,A,F,K,ie,pe,Ee,be,Be,S,v,w,j,te,se,oe,ke,Re=ee.s==Z.s?1:-1,Ce=ee.c,Ne=Z.c;if(!Ce||!Ce[0]||!Ne||!Ne[0])return new T(!ee.s||!Z.s||(Ce?Ne&&Ce[0]==Ne[0]:!Ne)?NaN:Ce&&Ce[0]==0||!Ne?Re*0:Re/0);for(be=new T(Re),Be=be.c=[],A=ee.e-Z.e,Re=re+A+1,m||(m=c,A=k(ee.e/u)-k(Z.e/u),Re=Re/u|0),F=0;Ne[F]==(Ce[F]||0);F++);if(Ne[F]>(Ce[F]||0)&&A--,Re<0)Be.push(1),K=!0;else{for(te=Ce.length,oe=Ne.length,F=0,Re+=2,ie=o(m/(Ne[0]+1)),ie>1&&(Ne=R(Ne,ie,m),Ce=R(Ce,ie,m),oe=Ne.length,te=Ce.length),j=oe,S=Ce.slice(0,oe),v=S.length;v<oe;S[v++]=0);ke=Ne.slice(),ke=[0].concat(ke),se=Ne[0],Ne[1]>=m/2&&se++;do{if(ie=0,y=V(Ne,S,oe,v),y<0){if(w=S[0],oe!=v&&(w=w*m+(S[1]||0)),ie=o(w/se),ie>1)for(ie>=m&&(ie=m-1),pe=R(Ne,ie,m),Ee=pe.length,v=S.length;V(pe,S,Ee,v)==1;)ie--,q(pe,oe<Ee?ke:Ne,Ee,m),Ee=pe.length,y=1;else ie==0&&(y=ie=1),pe=Ne.slice(),Ee=pe.length;if(Ee<v&&(pe=[0].concat(pe)),q(S,pe,v,m),v=S.length,y==-1)for(;V(Ne,S,oe,v)<1;)ie++,q(S,oe<v?ke:Ne,v,m),v=S.length}else y===0&&(ie++,S=[0]);Be[F++]=ie,S[0]?S[v++]=Ce[j]||0:(S=[Ce[j]],v=1)}while((j++<te||S[0]!=null)&&Re--);K=S[0]!=null,Be[0]||Be.splice(0,1)}if(m==c){for(F=1,Re=Be[0];Re>=10;Re/=10,F++);ue(be,re+(be.e=F+A*u-1)+1,b,K)}else be.e=A,be.r=+K;return be}}();function he(R,V,q,ee){var Z,re,b,m,y;if(q==null?q=N:E(q,0,8),!R.c)return R.toString();if(Z=R.c[0],b=R.e,V==null)y=B(R.c),y=ee==1||ee==2&&(b<=O||b>=G)?U(y,b):C(y,b,"0");else if(R=ue(new T(R),V,q),re=R.e,y=B(R.c),m=y.length,ee==1||ee==2&&(V<=re||re<=O)){for(;m<V;y+="0",m++);y=U(y,re)}else if(V-=b+(ee===2&&re>b),y=C(y,re,"0"),re+1>m){if(--V>0)for(y+=".";V--;y+="0");}else if(V+=re-m,V>0)for(re+1==m&&(y+=".");V--;y+="0");return R.s<0&&Z?"-"+y:y}function we(R,V){for(var q,ee,Z=1,re=new T(R[0]);Z<R.length;Z++)ee=new T(R[Z]),(!ee.s||(q=_(re,ee))===V||q===0&&re.s===V)&&(re=ee);return re}function ce(R,V,q){for(var ee=1,Z=V.length;!V[--Z];V.pop());for(Z=V[0];Z>=10;Z/=10,ee++);return(q=ee+q*u-1)>ne?R.c=R.e=null:q<D?R.c=[R.e=0]:(R.e=q,R.c=V),R}X=function(){var R=/^(-?)0([xbo])(?=\w[\w.]*$)/i,V=/^([^.]+)\.$/,q=/^\.([^.]+)$/,ee=/^-?(Infinity|NaN)$/,Z=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(re,b,m,y){var A,F=m?b:b.replace(Z,"");if(ee.test(F))re.s=isNaN(F)?null:F<0?-1:1;else{if(!m&&(F=F.replace(R,function(K,ie,pe){return A=(pe=pe.toLowerCase())=="x"?16:pe=="b"?2:8,!y||y==A?ie:K}),y&&(A=y,F=F.replace(V,"$1").replace(q,"0.$1")),b!=F))return new T(F,A);if(T.DEBUG)throw Error(s+"Not a"+(y?" base "+y:"")+" number: "+b);re.s=null}re.c=re.e=null}}();function ue(R,V,q,ee){var Z,re,b,m,y,A,F,K=R.c,ie=g;if(K){e:{for(Z=1,m=K[0];m>=10;m/=10,Z++);if(re=V-Z,re<0)re+=u,b=V,y=K[A=0],F=o(y/ie[Z-b-1]%10);else if(A=a((re+1)/u),A>=K.length)if(ee){for(;K.length<=A;K.push(0));y=F=0,Z=1,re%=u,b=re-u+1}else break e;else{for(y=m=K[A],Z=1;m>=10;m/=10,Z++);re%=u,b=re-u+Z,F=b<0?0:o(y/ie[Z-b-1]%10)}if(ee=ee||V<0||K[A+1]!=null||(b<0?y:y%ie[Z-b-1]),ee=q<4?(F||ee)&&(q==0||q==(R.s<0?3:2)):F>5||F==5&&(q==4||ee||q==6&&(re>0?b>0?y/ie[Z-b]:0:K[A-1])%10&1||q==(R.s<0?8:7)),V<1||!K[0])return K.length=0,ee?(V-=R.e+1,K[0]=ie[(u-V%u)%u],R.e=-V||0):K[0]=R.e=0,R;if(re==0?(K.length=A,m=1,A--):(K.length=A+1,m=ie[u-re],K[A]=b>0?o(y/ie[Z-b]%ie[b])*m:0),ee)for(;;)if(A==0){for(re=1,b=K[0];b>=10;b/=10,re++);for(b=K[0]+=m,m=1;b>=10;b/=10,m++);re!=m&&(R.e++,K[0]==c&&(K[0]=1));break}else{if(K[A]+=m,K[A]!=c)break;K[A--]=0,m=1}for(re=K.length;K[--re]===0;K.pop());}R.e>ne?R.c=R.e=null:R.e<D&&(R.c=[R.e=0])}return R}function ge(R){var V,q=R.e;return q===null?R.toString():(V=B(R.c),V=q<=O||q>=G?U(V,q):C(V,q,"0"),R.s<0?"-"+V:V)}return z.absoluteValue=z.abs=function(){var R=new T(this);return R.s<0&&(R.s=1),R},z.comparedTo=function(R,V){return _(this,new T(R,V))},z.decimalPlaces=z.dp=function(R,V){var q,ee,Z,re=this;if(R!=null)return E(R,0,p),V==null?V=N:E(V,0,8),ue(new T(re),R+re.e+1,V);if(!(q=re.c))return null;if(ee=((Z=q.length-1)-k(this.e/u))*u,Z=q[Z])for(;Z%10==0;Z/=10,ee--);return ee<0&&(ee=0),ee},z.dividedBy=z.div=function(R,V){return $(this,new T(R,V),Y,N)},z.dividedToIntegerBy=z.idiv=function(R,V){return $(this,new T(R,V),0,1)},z.exponentiatedBy=z.pow=function(R,V){var q,ee,Z,re,b,m,y,A,F,K=this;if(R=new T(R),R.c&&!R.isInteger())throw Error(s+"Exponent not an integer: "+ge(R));if(V!=null&&(V=new T(V)),m=R.e>14,!K.c||!K.c[0]||K.c[0]==1&&!K.e&&K.c.length==1||!R.c||!R.c[0])return F=new T(Math.pow(+ge(K),m?R.s*(2-x(R)):+ge(R))),V?F.mod(V):F;if(y=R.s<0,V){if(V.c?!V.c[0]:!V.s)return new T(NaN);ee=!y&&K.isInteger()&&V.isInteger(),ee&&(K=K.mod(V))}else{if(R.e>9&&(K.e>0||K.e<-1||(K.e==0?K.c[0]>1||m&&K.c[1]>=24e7:K.c[0]<8e13||m&&K.c[0]<=9999975e7)))return re=K.s<0&&x(R)?-0:0,K.e>-1&&(re=1/re),new T(y?1/re:re);fe&&(re=a(fe/u+2))}for(m?(q=new T(.5),y&&(R.s=1),A=x(R)):(Z=Math.abs(+ge(R)),A=Z%2),F=new T(H);;){if(A){if(F=F.times(K),!F.c)break;re?F.c.length>re&&(F.c.length=re):ee&&(F=F.mod(V))}if(Z){if(Z=o(Z/2),Z===0)break;A=Z%2}else if(R=R.times(q),ue(R,R.e+1,1),R.e>14)A=x(R);else{if(Z=+ge(R),Z===0)break;A=Z%2}K=K.times(K),re?K.c&&K.c.length>re&&(K.c.length=re):ee&&(K=K.mod(V))}return ee?F:(y&&(F=H.div(F)),V?F.mod(V):re?ue(F,fe,N,b):F)},z.integerValue=function(R){var V=new T(this);return R==null?R=N:E(R,0,8),ue(V,V.e+1,R)},z.isEqualTo=z.eq=function(R,V){return _(this,new T(R,V))===0},z.isFinite=function(){return!!this.c},z.isGreaterThan=z.gt=function(R,V){return _(this,new T(R,V))>0},z.isGreaterThanOrEqualTo=z.gte=function(R,V){return(V=_(this,new T(R,V)))===1||V===0},z.isInteger=function(){return!!this.c&&k(this.e/u)>this.c.length-2},z.isLessThan=z.lt=function(R,V){return _(this,new T(R,V))<0},z.isLessThanOrEqualTo=z.lte=function(R,V){return(V=_(this,new T(R,V)))===-1||V===0},z.isNaN=function(){return!this.s},z.isNegative=function(){return this.s<0},z.isPositive=function(){return this.s>0},z.isZero=function(){return!!this.c&&this.c[0]==0},z.minus=function(R,V){var q,ee,Z,re,b=this,m=b.s;if(R=new T(R,V),V=R.s,!m||!V)return new T(NaN);if(m!=V)return R.s=-V,b.plus(R);var y=b.e/u,A=R.e/u,F=b.c,K=R.c;if(!y||!A){if(!F||!K)return F?(R.s=-V,R):new T(K?b:NaN);if(!F[0]||!K[0])return K[0]?(R.s=-V,R):new T(F[0]?b:N==3?-0:0)}if(y=k(y),A=k(A),F=F.slice(),m=y-A){for((re=m<0)?(m=-m,Z=F):(A=y,Z=K),Z.reverse(),V=m;V--;Z.push(0));Z.reverse()}else for(ee=(re=(m=F.length)<(V=K.length))?m:V,m=V=0;V<ee;V++)if(F[V]!=K[V]){re=F[V]<K[V];break}if(re&&(Z=F,F=K,K=Z,R.s=-R.s),V=(ee=K.length)-(q=F.length),V>0)for(;V--;F[q++]=0);for(V=c-1;ee>m;){if(F[--ee]<K[ee]){for(q=ee;q&&!F[--q];F[q]=V);--F[q],F[ee]+=c}F[ee]-=K[ee]}for(;F[0]==0;F.splice(0,1),--A);return F[0]?ce(R,F,A):(R.s=N==3?-1:1,R.c=[R.e=0],R)},z.modulo=z.mod=function(R,V){var q,ee,Z=this;return R=new T(R,V),!Z.c||!R.s||R.c&&!R.c[0]?new T(NaN):!R.c||Z.c&&!Z.c[0]?new T(Z):(ae==9?(ee=R.s,R.s=1,q=$(Z,R,0,3),R.s=ee,q.s*=ee):q=$(Z,R,0,ae),R=Z.minus(q.times(R)),!R.c[0]&&ae==1&&(R.s=Z.s),R)},z.multipliedBy=z.times=function(R,V){var q,ee,Z,re,b,m,y,A,F,K,ie,pe,Ee,be,Be,S=this,v=S.c,w=(R=new T(R,V)).c;if(!v||!w||!v[0]||!w[0])return!S.s||!R.s||v&&!v[0]&&!w||w&&!w[0]&&!v?R.c=R.e=R.s=null:(R.s*=S.s,!v||!w?R.c=R.e=null:(R.c=[0],R.e=0)),R;for(ee=k(S.e/u)+k(R.e/u),R.s*=S.s,y=v.length,K=w.length,y<K&&(Ee=v,v=w,w=Ee,Z=y,y=K,K=Z),Z=y+K,Ee=[];Z--;Ee.push(0));for(be=c,Be=f,Z=K;--Z>=0;){for(q=0,ie=w[Z]%Be,pe=w[Z]/Be|0,b=y,re=Z+b;re>Z;)A=v[--b]%Be,F=v[b]/Be|0,m=pe*A+F*ie,A=ie*A+m%Be*Be+Ee[re]+q,q=(A/be|0)+(m/Be|0)+pe*F,Ee[re--]=A%be;Ee[re]=q}return q?++ee:Ee.splice(0,1),ce(R,Ee,ee)},z.negated=function(){var R=new T(this);return R.s=-R.s||null,R},z.plus=function(R,V){var q,ee=this,Z=ee.s;if(R=new T(R,V),V=R.s,!Z||!V)return new T(NaN);if(Z!=V)return R.s=-V,ee.minus(R);var re=ee.e/u,b=R.e/u,m=ee.c,y=R.c;if(!re||!b){if(!m||!y)return new T(Z/0);if(!m[0]||!y[0])return y[0]?R:new T(m[0]?ee:Z*0)}if(re=k(re),b=k(b),m=m.slice(),Z=re-b){for(Z>0?(b=re,q=y):(Z=-Z,q=m),q.reverse();Z--;q.push(0));q.reverse()}for(Z=m.length,V=y.length,Z-V<0&&(q=y,y=m,m=q,V=Z),Z=0;V;)Z=(m[--V]=m[V]+y[V]+Z)/c|0,m[V]=c===m[V]?0:m[V]%c;return Z&&(m=[Z].concat(m),++b),ce(R,m,b)},z.precision=z.sd=function(R,V){var q,ee,Z,re=this;if(R!=null&&R!==!!R)return E(R,1,p),V==null?V=N:E(V,0,8),ue(new T(re),R,V);if(!(q=re.c))return null;if(Z=q.length-1,ee=Z*u+1,Z=q[Z]){for(;Z%10==0;Z/=10,ee--);for(Z=q[0];Z>=10;Z/=10,ee++);}return R&&re.e+1>ee&&(ee=re.e+1),ee},z.shiftedBy=function(R){return E(R,-d,d),this.times("1e"+R)},z.squareRoot=z.sqrt=function(){var R,V,q,ee,Z,re=this,b=re.c,m=re.s,y=re.e,A=Y+4,F=new T("0.5");if(m!==1||!b||!b[0])return new T(!m||m<0&&(!b||b[0])?NaN:b?re:1/0);if(m=Math.sqrt(+ge(re)),m==0||m==1/0?(V=B(b),(V.length+y)%2==0&&(V+="0"),m=Math.sqrt(+V),y=k((y+1)/2)-(y<0||y%2),m==1/0?V="5e"+y:(V=m.toExponential(),V=V.slice(0,V.indexOf("e")+1)+y),q=new T(V)):q=new T(m+""),q.c[0]){for(y=q.e,m=y+A,m<3&&(m=0);;)if(Z=q,q=F.times(Z.plus($(re,Z,A,1))),B(Z.c).slice(0,m)===(V=B(q.c)).slice(0,m))if(q.e<y&&--m,V=V.slice(m-3,m+1),V=="9999"||!ee&&V=="4999"){if(!ee&&(ue(Z,Z.e+Y+2,0),Z.times(Z).eq(re))){q=Z;break}A+=4,m+=4,ee=1}else{(!+V||!+V.slice(1)&&V.charAt(0)=="5")&&(ue(q,q.e+Y+2,1),R=!q.times(q).eq(re));break}}return ue(q,q.e+Y+1,N,R)},z.toExponential=function(R,V){return R!=null&&(E(R,0,p),R++),he(this,R,V,1)},z.toFixed=function(R,V){return R!=null&&(E(R,0,p),R=R+this.e+1),he(this,R,V)},z.toFormat=function(R,V,q){var ee,Z=this;if(q==null)R!=null&&V&&typeof V=="object"?(q=V,V=null):R&&typeof R=="object"?(q=R,R=V=null):q=le;else if(typeof q!="object")throw Error(s+"Argument not an object: "+q);if(ee=Z.toFixed(R,V),Z.c){var re,b=ee.split("."),m=+q.groupSize,y=+q.secondaryGroupSize,A=q.groupSeparator||"",F=b[0],K=b[1],ie=Z.s<0,pe=ie?F.slice(1):F,Ee=pe.length;if(y&&(re=m,m=y,y=re,Ee-=re),m>0&&Ee>0){for(re=Ee%m||m,F=pe.substr(0,re);re<Ee;re+=m)F+=A+pe.substr(re,m);y>0&&(F+=A+pe.slice(re)),ie&&(F="-"+F)}ee=K?F+(q.decimalSeparator||"")+((y=+q.fractionGroupSize)?K.replace(new RegExp("\\d{"+y+"}\\B","g"),"$&"+(q.fractionGroupSeparator||"")):K):F}return(q.prefix||"")+ee+(q.suffix||"")},z.toFraction=function(R){var V,q,ee,Z,re,b,m,y,A,F,K,ie,pe=this,Ee=pe.c;if(R!=null&&(m=new T(R),!m.isInteger()&&(m.c||m.s!==1)||m.lt(H)))throw Error(s+"Argument "+(m.isInteger()?"out of range: ":"not an integer: ")+ge(m));if(!Ee)return new T(pe);for(V=new T(H),A=q=new T(H),ee=y=new T(H),ie=B(Ee),re=V.e=ie.length-pe.e-1,V.c[0]=g[(b=re%u)<0?u+b:b],R=!R||m.comparedTo(V)>0?re>0?V:A:m,b=ne,ne=1/0,m=new T(ie),y.c[0]=0;F=$(m,V,0,1),Z=q.plus(F.times(ee)),Z.comparedTo(R)!=1;)q=ee,ee=Z,A=y.plus(F.times(Z=A)),y=Z,V=m.minus(F.times(Z=V)),m=Z;return Z=$(R.minus(q),ee,0,1),y=y.plus(Z.times(A)),q=q.plus(Z.times(ee)),y.s=A.s=pe.s,re=re*2,K=$(A,ee,re,N).minus(pe).abs().comparedTo($(y,q,re,N).minus(pe).abs())<1?[A,ee]:[y,q],ne=b,K},z.toNumber=function(){return+ge(this)},z.toPrecision=function(R,V){return R!=null&&E(R,1,p),he(this,R,V,2)},z.toString=function(R){var V,q=this,ee=q.s,Z=q.e;return Z===null?ee?(V="Infinity",ee<0&&(V="-"+V)):V="NaN":(R==null?V=Z<=O||Z>=G?U(B(q.c),Z):C(B(q.c),Z,"0"):R===10&&_e?(q=ue(new T(q),Y+Z+1,N),V=C(B(q.c),q.e,"0")):(E(R,2,de.length,"Base"),V=P(C(B(q.c),Z,"0"),10,R,ee,!0)),ee<0&&q.c[0]&&(V="-"+V)),V},z.valueOf=z.toJSON=function(){return ge(this)},z._isBigNumber=!0,W!=null&&T.set(W),T}function k(W){var $=W|0;return W>0||W===$?$:$-1}function B(W){for(var $,P,X=1,z=W.length,H=W[0]+"";X<z;){for($=W[X++]+"",P=u-$.length;P--;$="0"+$);H+=$}for(z=H.length;H.charCodeAt(--z)===48;);return H.slice(0,z+1||1)}function _(W,$){var P,X,z=W.c,H=$.c,Y=W.s,N=$.s,O=W.e,G=$.e;if(!Y||!N)return null;if(P=z&&!z[0],X=H&&!H[0],P||X)return P?X?0:-N:Y;if(Y!=N)return Y;if(P=Y<0,X=O==G,!z||!H)return X?0:!z^P?1:-1;if(!X)return O>G^P?1:-1;for(N=(O=z.length)<(G=H.length)?O:G,Y=0;Y<N;Y++)if(z[Y]!=H[Y])return z[Y]>H[Y]^P?1:-1;return O==G?0:O>G^P?1:-1}function E(W,$,P,X){if(W<$||W>P||W!==o(W))throw Error(s+(X||"Argument")+(typeof W=="number"?W<$||W>P?" out of range: ":" not an integer: ":" not a primitive number: ")+String(W))}function x(W){var $=W.c.length-1;return k(W.e/u)==$&&W.c[$]%2!=0}function U(W,$){return(W.length>1?W.charAt(0)+"."+W.slice(1):W)+($<0?"e":"e+")+$}function C(W,$,P){var X,z;if($<0){for(z=P+".";++$;z+=P);W=z+W}else if(X=W.length,++$>X){for(z=P,$-=X;--$;z+=P);W+=z}else $<X&&(W=W.slice(0,$)+"."+W.slice($));return W}r=h(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(Ua)})(Bv);var cu=Bv.exports,iS=function(t,r,n){var a=new t.Uint8Array(n),o=r.pushInt,s=r.pushInt32,l=r.pushInt32Neg,c=r.pushInt64,u=r.pushInt64Neg,d=r.pushFloat,g=r.pushFloatSingle,f=r.pushFloatDouble,p=r.pushTrue,h=r.pushFalse,k=r.pushUndefined,B=r.pushNull,_=r.pushInfinity,E=r.pushInfinityNeg,x=r.pushNaN,U=r.pushNaNNeg,C=r.pushArrayStart,W=r.pushArrayStartFixed,$=r.pushArrayStartFixed32,P=r.pushArrayStartFixed64,X=r.pushObjectStart,z=r.pushObjectStartFixed,H=r.pushObjectStartFixed32,Y=r.pushObjectStartFixed64,N=r.pushByteString,O=r.pushByteStringStart,G=r.pushUtf8String,D=r.pushUtf8StringStart,ne=r.pushSimpleUnassigned,Q=r.pushTagStart,ae=r.pushTagStart4,fe=r.pushTagStart8,le=r.pushTagUnassigned,de=r.pushBreak,_e=t.Math.pow,T=0,he=0,we=0;function ce(L){for(L=L|0,T=0,he=L;(T|0)<(he|0)&&(we=Ou[a[T]&255](a[T]|0)|0,!((we|0)>0)););return we|0}function ue(L){return L=L|0,((T|0)+(L|0)|0)<(he|0)?0:1}function ge(L){return L=L|0,a[L|0]<<8|a[L+1|0]|0}function R(L){return L=L|0,a[L|0]<<24|a[L+1|0]<<16|a[L+2|0]<<8|a[L+3|0]|0}function V(L){return L=L|0,o(L|0),T=T+1|0,0}function q(L){return L=L|0,ue(1)|0?1:(o(a[T+1|0]|0),T=T+2|0,0)}function ee(L){return L=L|0,ue(2)|0?1:(o(ge(T+1|0)|0),T=T+3|0,0)}function Z(L){return L=L|0,ue(4)|0?1:(s(ge(T+1|0)|0,ge(T+3|0)|0),T=T+5|0,0)}function re(L){return L=L|0,ue(8)|0?1:(c(ge(T+1|0)|0,ge(T+3|0)|0,ge(T+5|0)|0,ge(T+7|0)|0),T=T+9|0,0)}function b(L){return L=L|0,o(-1-(L-32|0)|0),T=T+1|0,0}function m(L){return L=L|0,ue(1)|0?1:(o(-1-(a[T+1|0]|0)|0),T=T+2|0,0)}function y(L){L=L|0;var Me=0;return ue(2)|0?1:(Me=ge(T+1|0)|0,o(-1-(Me|0)|0),T=T+3|0,0)}function A(L){return L=L|0,ue(4)|0?1:(l(ge(T+1|0)|0,ge(T+3|0)|0),T=T+5|0,0)}function F(L){return L=L|0,ue(8)|0?1:(u(ge(T+1|0)|0,ge(T+3|0)|0,ge(T+5|0)|0,ge(T+7|0)|0),T=T+9|0,0)}function K(L){L=L|0;var Me=0,je=0,Ve=0;return Ve=L-64|0,ue(Ve|0)|0?1:(Me=T+1|0,je=(T+1|0)+(Ve|0)|0,N(Me|0,je|0),T=je|0,0)}function ie(L){L=L|0;var Me=0,je=0,Ve=0;return ue(1)|0||(Ve=a[T+1|0]|0,Me=T+2|0,je=(T+2|0)+(Ve|0)|0,ue(Ve+1|0)|0)?1:(N(Me|0,je|0),T=je|0,0)}function pe(L){L=L|0;var Me=0,je=0,Ve=0;return ue(2)|0||(Ve=ge(T+1|0)|0,Me=T+3|0,je=(T+3|0)+(Ve|0)|0,ue(Ve+2|0)|0)?1:(N(Me|0,je|0),T=je|0,0)}function Ee(L){L=L|0;var Me=0,je=0,Ve=0;return ue(4)|0||(Ve=R(T+1|0)|0,Me=T+5|0,je=(T+5|0)+(Ve|0)|0,ue(Ve+4|0)|0)?1:(N(Me|0,je|0),T=je|0,0)}function be(L){return L=L|0,1}function Be(L){return L=L|0,O(),T=T+1|0,0}function S(L){L=L|0;var Me=0,je=0,Ve=0;return Ve=L-96|0,ue(Ve|0)|0?1:(Me=T+1|0,je=(T+1|0)+(Ve|0)|0,G(Me|0,je|0),T=je|0,0)}function v(L){L=L|0;var Me=0,je=0,Ve=0;return ue(1)|0||(Ve=a[T+1|0]|0,Me=T+2|0,je=(T+2|0)+(Ve|0)|0,ue(Ve+1|0)|0)?1:(G(Me|0,je|0),T=je|0,0)}function w(L){L=L|0;var Me=0,je=0,Ve=0;return ue(2)|0||(Ve=ge(T+1|0)|0,Me=T+3|0,je=(T+3|0)+(Ve|0)|0,ue(Ve+2|0)|0)?1:(G(Me|0,je|0),T=je|0,0)}function j(L){L=L|0;var Me=0,je=0,Ve=0;return ue(4)|0||(Ve=R(T+1|0)|0,Me=T+5|0,je=(T+5|0)+(Ve|0)|0,ue(Ve+4|0)|0)?1:(G(Me|0,je|0),T=je|0,0)}function te(L){return L=L|0,1}function se(L){return L=L|0,D(),T=T+1|0,0}function oe(L){return L=L|0,W(L-128|0),T=T+1|0,0}function ke(L){return L=L|0,ue(1)|0?1:(W(a[T+1|0]|0),T=T+2|0,0)}function Re(L){return L=L|0,ue(2)|0?1:(W(ge(T+1|0)|0),T=T+3|0,0)}function Ce(L){return L=L|0,ue(4)|0?1:($(ge(T+1|0)|0,ge(T+3|0)|0),T=T+5|0,0)}function Ne(L){return L=L|0,ue(8)|0?1:(P(ge(T+1|0)|0,ge(T+3|0)|0,ge(T+5|0)|0,ge(T+7|0)|0),T=T+9|0,0)}function Pe(L){return L=L|0,C(),T=T+1|0,0}function $e(L){L=L|0;var Me=0;return Me=L-160|0,ue(Me|0)|0?1:(z(Me|0),T=T+1|0,0)}function J(L){return L=L|0,ue(1)|0?1:(z(a[T+1|0]|0),T=T+2|0,0)}function Fe(L){return L=L|0,ue(2)|0?1:(z(ge(T+1|0)|0),T=T+3|0,0)}function Ie(L){return L=L|0,ue(4)|0?1:(H(ge(T+1|0)|0,ge(T+3|0)|0),T=T+5|0,0)}function I(L){return L=L|0,ue(8)|0?1:(Y(ge(T+1|0)|0,ge(T+3|0)|0,ge(T+5|0)|0,ge(T+7|0)|0),T=T+9|0,0)}function me(L){return L=L|0,X(),T=T+1|0,0}function dt(L){return L=L|0,Q(L-192|0|0),T=T+1|0,0}function Tm(L){return L=L|0,Q(L|0),T=T+1|0,0}function Am(L){return L=L|0,Q(L|0),T=T+1|0,0}function Cm(L){return L=L|0,Q(L|0),T=T+1|0,0}function Bm(L){return L=L|0,Q(L|0),T=T+1|0,0}function gt(L){return L=L|0,Q(L-192|0|0),T=T+1|0,0}function Rm(L){return L=L|0,Q(L|0),T=T+1|0,0}function Fm(L){return L=L|0,Q(L|0),T=T+1|0,0}function Pm(L){return L=L|0,Q(L|0),T=T+1|0,0}function Su(L){return L=L|0,ue(1)|0?1:(Q(a[T+1|0]|0),T=T+2|0,0)}function Nu(L){return L=L|0,ue(2)|0?1:(Q(ge(T+1|0)|0),T=T+3|0,0)}function ku(L){return L=L|0,ue(4)|0?1:(ae(ge(T+1|0)|0,ge(T+3|0)|0),T=T+5|0,0)}function Tu(L){return L=L|0,ue(8)|0?1:(fe(ge(T+1|0)|0,ge(T+3|0)|0,ge(T+5|0)|0,ge(T+7|0)|0),T=T+9|0,0)}function ot(L){return L=L|0,ne((L|0)-224|0),T=T+1|0,0}function Au(L){return L=L|0,h(),T=T+1|0,0}function Cu(L){return L=L|0,p(),T=T+1|0,0}function Ps(L){return L=L|0,B(),T=T+1|0,0}function Bu(L){return L=L|0,k(),T=T+1|0,0}function Ru(L){return L=L|0,ue(1)|0?1:(ne(a[T+1|0]|0),T=T+2|0,0)}function Os(L){L=L|0;var Me=0,je=0,Ve=1,Us=0,io=0,U3=0;return ue(2)|0?1:(Me=a[T+1|0]|0,je=a[T+2|0]|0,(Me|0)&128&&(Ve=-1),Us=+(((Me|0)&124)>>2),io=+(((Me|0)&3)<<8|je),+Us==0?d(+(+Ve*5960464477539063e-23*+io)):+Us==31?+Ve==1?+io>0?x():_():+io>0?U():E():d(+(+Ve*_e(2,+(+Us-25))*+(1024+io))),T=T+3|0,0)}function Ms(L){return L=L|0,ue(4)|0?1:(g(a[T+1|0]|0,a[T+2|0]|0,a[T+3|0]|0,a[T+4|0]|0),T=T+5|0,0)}function Fu(L){return L=L|0,ue(8)|0?1:(f(a[T+1|0]|0,a[T+2|0]|0,a[T+3|0]|0,a[T+4|0]|0,a[T+5|0]|0,a[T+6|0]|0,a[T+7|0]|0,a[T+8|0]|0),T=T+9|0,0)}function qe(L){return L=L|0,1}function Pu(L){return L=L|0,de(),T=T+1|0,0}var Ou=[V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,q,ee,Z,re,qe,qe,qe,qe,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,m,y,A,F,qe,qe,qe,qe,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,ie,pe,Ee,be,qe,qe,qe,Be,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,v,w,j,te,qe,qe,qe,se,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,ke,Re,Ce,Ne,qe,qe,qe,Pe,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,J,Fe,Ie,I,qe,qe,qe,me,dt,dt,dt,dt,dt,dt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,Su,Nu,ku,Tu,qe,qe,qe,qe,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,ot,Au,Cu,Ps,Bu,Ru,Os,Ms,Fu,qe,qe,qe,Pu];return{parse:ce}},uu={},Gt={};const um=cu.BigNumber;Gt.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Gt.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Gt.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Gt.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Gt.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Gt.SHIFT32=Math.pow(2,32);Gt.SHIFT16=Math.pow(2,16);Gt.MAX_SAFE_HIGH=2097151;Gt.NEG_ONE=new um(-1);Gt.TEN=new um(10);Gt.TWO=new um(2);Gt.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(e){const{Buffer:t}=Cs,r=cu.BigNumber,n=Gt,a=n.SHIFT32,o=n.SHIFT16,s=2097151;e.parseHalf=function(u){var d,g,f;return f=u[0]&128?-1:1,d=(u[0]&124)>>2,g=(u[0]&3)<<8|u[1],d?d===31?f*(g?0/0:1/0):f*Math.pow(2,d-25)*(1024+g):f*5960464477539063e-23*g};function l(c){return c<16?"0"+c.toString(16):c.toString(16)}e.arrayBufferToBignumber=function(c){const u=c.byteLength;let d="";for(let g=0;g<u;g++)d+=l(c[g]);return new r(d,16)},e.buildMap=c=>{const u=new Map,d=Object.keys(c),g=d.length;for(let f=0;f<g;f++)u.set(d[f],c[d[f]]);return u},e.buildInt32=(c,u)=>c*o+u,e.buildInt64=(c,u,d,g)=>{const f=e.buildInt32(c,u),p=e.buildInt32(d,g);return f>s?new r(f).times(a).plus(p):f*a+p},e.writeHalf=function(u,d){const g=t.allocUnsafe(4);g.writeFloatBE(d,0);const f=g.readUInt32BE(0);if(f&8191)return!1;var p=f>>16&32768;const h=f>>23&255,k=f&8388607;if(h>=113&&h<=142)p+=(h-112<<10)+(k>>13);else if(h>=103&&h<113){if(k&(1<<126-h)-1)return!1;p+=k+8388608>>126-h}else return!1;return u.writeUInt16BE(p,0),!0},e.keySorter=function(c,u){var d=c[0].byteLength,g=u[0].byteLength;return d>g?1:g>d?-1:c[0].compare(u[0])},e.isNegativeZero=c=>c===0&&1/c<0,e.nextPowerOf2=c=>{let u=0;if(c&&!(c&c-1))return c;for(;c!==0;)c>>=1,u+=1;return 1<<u}})(uu);const dm=Gt,oS=dm.MT,il=dm.SIMPLE,fd=dm.SYMS;let sS=class Uf{constructor(t){if(typeof t!="number")throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(t|0)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,oS.SIMPLE_FLOAT)}static isSimple(t){return t instanceof Uf}static decode(t,r){switch(r==null&&(r=!0),t){case il.FALSE:return!1;case il.TRUE:return!0;case il.NULL:return r?null:fd.NULL;case il.UNDEFINED:return r?void 0:fd.UNDEFINED;case-1:if(!r)throw new Error("Invalid BREAK");return fd.BREAK;default:return new Uf(t)}}};var Rv=sS;let lS=class zf{constructor(t,r,n){if(this.tag=t,this.value=r,this.err=n,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var r,n;if(n=t!=null?t[this.tag]:void 0,typeof n!="function"&&(n=zf["_tag"+this.tag],typeof n!="function"))return this;try{return n.call(zf,this.value)}catch(a){return r=a,this.err=r,this}}};var Fv=lS;const Pv=self.location?self.location.protocol+"//"+self.location.host:"",Vf=self.URL;let cS=class{constructor(t="",r=Pv){this.super=new Vf(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function uS(e){if(typeof e=="string")return new Vf(e).toString();if(!(e instanceof Vf)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",a=e.protocol?e.protocol+"//":"",o=e.host||"",s=e.hostname||"",l=e.search||(e.query?"?"+e.query:""),c=e.hash||"",u=e.pathname||"",d=e.path||u+l;return`${a}${t||r}${o||s+n}${d}${c}`}}var Ov={URLWithLegacySupport:cS,URLSearchParams:self.URLSearchParams,defaultBase:Pv,format:uS};const{URLWithLegacySupport:rh,format:dS}=Ov;var fS=(e,t={},r={},n)=>{let a=t.protocol?t.protocol.replace(":",""):"http";a=(r[a]||n||a)+":";let o;try{o=new rh(e)}catch{o={}}const s=Object.assign({},t,{protocol:a||o.protocol,host:t.host||o.host});return new rh(e,dS(s)).toString()};const{URLWithLegacySupport:mS,format:pS,URLSearchParams:hS,defaultBase:gS}=Ov,yS=fS;var Mv={URL:mS,URLSearchParams:hS,format:pS,relative:yS,defaultBase:gS};const{Buffer:ni}=Cs,nh=Ns,vS=cu.BigNumber,wS=iS,qt=uu,Qe=Gt,ES=Rv,bS=Fv,{URL:xS}=Mv;let Wf=class $f{constructor(t){t=t||{},!t.size||t.size<65536?t.size=65536:t.size=qt.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=ni.from(this._heap),this._reset(),this._knownTags=Object.assign({0:r=>new Date(r),1:r=>new Date(r*1e3),2:r=>qt.arrayBufferToBignumber(r),3:r=>Qe.NEG_ONE.minus(qt.arrayBufferToBignumber(r)),4:r=>Qe.TEN.pow(r[0]).times(r[1]),5:r=>Qe.TWO.pow(r[0]).times(r[1]),32:r=>new xS(r),35:r=>new RegExp(r)},t.tags),this.parser=wS(Ua,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case Qe.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case Qe.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case Qe.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case Qe.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case Qe.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case Qe.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length));break}this._currentParent&&this._currentParent.type===Qe.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,t.length===0&&this._closeParent())}_push(t,r){const n=this._currentParent;switch(n.values++,n.type){case Qe.PARENT.ARRAY:case Qe.PARENT.BYTE_STRING:case Qe.PARENT.UTF8_STRING:n.length>-1?this._ref[this._ref.length-n.length]=t:this._ref.push(t),this._dec();break;case Qe.PARENT.OBJECT:n.tmpKey!=null?(this._ref[n.tmpKey]=t,n.tmpKey=null,this._dec()):(n.tmpKey=t,typeof n.tmpKey!="string"&&(n.type=Qe.PARENT.MAP,n.ref=qt.buildMap(n.ref)));break;case Qe.PARENT.MAP:n.tmpKey!=null?(this._ref.set(n.tmpKey,t),n.tmpKey=null,this._dec()):n.tmpKey=t;break;case Qe.PARENT.TAG:this._ref.push(t),r||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,r,n){this._parents[this._depth]={type:r,length:n,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Qe.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,r){const n=this._knownTags[t];return n?n(r):new bS(t,r)}createMap(t,r){return t}createObject(t,r){return t}createArray(t,r){return t}createByteString(t,r){return ni.concat(t)}createByteStringFromHeap(t,r){return t===r?ni.alloc(0):ni.from(this._heap.slice(t,r))}createInt(t){return t}createInt32(t,r){return qt.buildInt32(t,r)}createInt64(t,r,n,a){return qt.buildInt64(t,r,n,a)}createFloat(t){return t}createFloatSingle(t,r,n,a){return nh.read([t,r,n,a],0,!1,23,4)}createFloatDouble(t,r,n,a,o,s,l,c){return nh.read([t,r,n,a,o,s,l,c],0,!1,52,8)}createInt32Neg(t,r){return-1-qt.buildInt32(t,r)}createInt64Neg(t,r,n,a){const o=qt.buildInt32(t,r),s=qt.buildInt32(n,a);return o>Qe.MAX_SAFE_HIGH?Qe.NEG_ONE.minus(new vS(o).times(Qe.SHIFT32).plus(s)):-1-(o*Qe.SHIFT32+s)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,r){return t.join("")}createUtf8StringFromHeap(t,r){return t===r?"":this._buffer.toString("utf8",t,r)}createSimpleUnassigned(t){return new ES(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,r){this._push(this.createInt32(t,r))}pushInt64(t,r,n,a){this._push(this.createInt64(t,r,n,a))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,r,n,a){this._push(this.createFloatSingle(t,r,n,a))}pushFloatDouble(t,r,n,a,o,s,l,c){this._push(this.createFloatDouble(t,r,n,a,o,s,l,c))}pushInt32Neg(t,r){this._push(this.createInt32Neg(t,r))}pushInt64Neg(t,r,n,a){this._push(this.createInt64Neg(t,r,n,a))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Qe.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,r){const n=qt.buildInt32(t,r);this._createArrayStartFixed(n)}pushArrayStartFixed64(t,r,n,a){const o=qt.buildInt64(t,r,n,a);this._createArrayStartFixed(o)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,r){const n=qt.buildInt32(t,r);this._createObjectStartFixed(n)}pushObjectStartFixed64(t,r,n,a){const o=qt.buildInt64(t,r,n,a);this._createObjectStartFixed(o)}pushByteStringStart(){this._parents[this._depth]={type:Qe.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,r){this._push(this.createByteStringFromHeap(t,r))}pushUtf8StringStart(){this._parents[this._depth]={type:Qe.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,r){this._push(this.createUtf8StringFromHeap(t,r))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:Qe.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,r){this.pushTagStart(qt.buildInt32(t,r))}pushTagStart8(t,r,n,a){this.pushTagStart(qt.buildInt64(t,r,n,a))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){if(t===0){this._push(this.createObject({}));return}this._createParent({},Qe.PARENT.OBJECT,t)}_createArrayStartFixed(t){if(t===0){this._push(this.createArray([]));return}this._createParent(new Array(t),Qe.PARENT.ARRAY,t)}_decode(t){if(t.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(t);const r=this.parser.parse(t.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(r>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,r){return typeof t=="string"&&(t=ni.from(t,r||"hex")),new $f({size:t.length}).decodeFirst(t)}static decodeAll(t,r){return typeof t=="string"&&(t=ni.from(t,r||"hex")),new $f({size:t.length}).decodeAll(t)}};Wf.decodeFirst=Wf.decode;var Uv=Wf;const{Buffer:md}=Cs,_S=Uv,SS=uu;class fm extends _S{createTag(t,r){return`${t}(${r})`}createInt(t){return super.createInt(t).toString()}createInt32(t,r){return super.createInt32(t,r).toString()}createInt64(t,r,n,a){return super.createInt64(t,r,n,a).toString()}createInt32Neg(t,r){return super.createInt32Neg(t,r).toString()}createInt64Neg(t,r,n,a){return super.createInt64Neg(t,r,n,a).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const r=super.createFloat(t);return SS.isNegativeZero(t)?"-0_1":`${r}_1`}createFloatSingle(t,r,n,a){return`${super.createFloatSingle(t,r,n,a)}_2`}createFloatDouble(t,r,n,a,o,s,l,c){return`${super.createFloatDouble(t,r,n,a,o,s,l,c)}_3`}createByteString(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`h'${n}`}createByteStringFromHeap(t,r){return`h'${md.from(super.createByteStringFromHeap(t,r)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,r){const n=super.createArray(t,r);return r===-1?`[_ ${n.join(", ")}]`:`[${n.join(", ")}]`}createMap(t,r){const n=super.createMap(t),a=Array.from(n.keys()).reduce(ah(n),"");return r===-1?`{_ ${a}}`:`{${a}}`}createObject(t,r){const n=super.createObject(t),a=Object.keys(n).reduce(ah(n),"");return r===-1?`{_ ${a}}`:`{${a}}`}createUtf8String(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`"${n}"`}createUtf8StringFromHeap(t,r){return`"${md.from(super.createUtf8StringFromHeap(t,r)).toString("utf8")}"`}static diagnose(t,r){return typeof t=="string"&&(t=md.from(t,r||"hex")),new fm().decodeFirst(t)}}var NS=fm;function ah(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}const{Buffer:Yr}=Cs,{URL:kS}=Mv,jf=cu.BigNumber,pd=uu,_t=Gt,Nr=_t.MT,ol=_t.NUMBYTES,ih=_t.SHIFT32,oh=_t.SYMS,ai=_t.TAG,TS=_t.MT.SIMPLE_FLOAT<<5|_t.NUMBYTES.TWO,AS=_t.MT.SIMPLE_FLOAT<<5|_t.NUMBYTES.FOUR,CS=_t.MT.SIMPLE_FLOAT<<5|_t.NUMBYTES.EIGHT,BS=_t.MT.SIMPLE_FLOAT<<5|_t.SIMPLE.TRUE,RS=_t.MT.SIMPLE_FLOAT<<5|_t.SIMPLE.FALSE,FS=_t.MT.SIMPLE_FLOAT<<5|_t.SIMPLE.UNDEFINED,sh=_t.MT.SIMPLE_FLOAT<<5|_t.SIMPLE.NULL,PS=new jf("0x20000000000000"),OS=Yr.from("f97e00","hex"),MS=Yr.from("f9fc00","hex"),US=Yr.from("f97c00","hex");function zS(e){return{}.toString.call(e).slice(8,-1)}class xc{constructor(t){t=t||{},this.streaming=typeof t.stream=="function",this.onData=t.stream,this.semanticTypes=[[kS,this._pushUrl],[jf,this._pushBigNumber]];const r=t.genTypes||[],n=r.length;for(let a=0;a<n;a++)this.addSemanticType(r[a][0],r[a][1]);this._reset()}addSemanticType(t,r){const n=this.semanticTypes.length;for(let a=0;a<n;a++)if(this.semanticTypes[a][0]===t){const s=this.semanticTypes[a][1];return this.semanticTypes[a][1]=r,s}return this.semanticTypes.push([t,r]),null}push(t){return t&&(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(t,r,n){return this.result[this.offset]=t,this.resultMethod[this.offset]=r,this.resultLength[this.offset]=n,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(OS)}_pushInfinity(t){const r=t<0?MS:US;return this.push(r)}_pushFloat(t){const r=Yr.allocUnsafe(2);if(pd.writeHalf(r,t)&&pd.parseHalf(r)===t)return this._pushUInt8(TS)&&this.push(r);const n=Yr.allocUnsafe(4);return n.writeFloatBE(t,0),n.readFloatBE(0)===t?this._pushUInt8(AS)&&this.push(n):this._pushUInt8(CS)&&this._pushDoubleBE(t)}_pushInt(t,r,n){const a=r<<5;return t<24?this._pushUInt8(a|t):t<=255?this._pushUInt8(a|ol.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(a|ol.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(a|ol.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(a|ol.EIGHT)&&this._pushUInt32BE(Math.floor(t/ih))&&this._pushUInt32BE(t%ih):r===Nr.NEG_INT?this._pushFloat(n):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,Nr.NEG_INT,t):this._pushInt(t,Nr.POS_INT)}_pushNumber(t){switch(!1){case t===t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!==0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const r=Yr.byteLength(t,"utf8");return this._pushInt(r,Nr.UTF8_STRING)&&this.pushWrite(t,5,r)}_pushBoolean(t){return this._pushUInt8(t?BS:RS)}_pushUndefined(t){return this._pushUInt8(FS)}_pushArray(t,r){const n=r.length;if(!t._pushInt(n,Nr.ARRAY))return!1;for(let a=0;a<n;a++)if(!t.pushAny(r[a]))return!1;return!0}_pushTag(t){return this._pushInt(t,Nr.TAG)}_pushDate(t,r){return t._pushTag(ai.DATE_EPOCH)&&t.pushAny(Math.round(r/1e3))}_pushBuffer(t,r){return t._pushInt(r.length,Nr.BYTE_STRING)&&t.push(r)}_pushNoFilter(t,r){return t._pushBuffer(t,r.slice())}_pushRegexp(t,r){return t._pushTag(ai.REGEXP)&&t.pushAny(r.source)}_pushSet(t,r){if(!t._pushInt(r.size,Nr.ARRAY))return!1;for(const n of r)if(!t.pushAny(n))return!1;return!0}_pushUrl(t,r){return t._pushTag(ai.URI)&&t.pushAny(r.format())}_pushBigint(t){let r=ai.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),r=ai.NEG_BIGINT);let n=t.toString(16);n.length%2&&(n="0"+n);const a=Yr.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,a)}_pushBigNumber(t,r){if(r.isNaN())return t._pushNaN();if(!r.isFinite())return t._pushInfinity(r.isNegative()?-1/0:1/0);if(r.isInteger())return t._pushBigint(r);if(!(t._pushTag(ai.DECIMAL_FRAC)&&t._pushInt(2,Nr.ARRAY)))return!1;const n=r.decimalPlaces(),a=r.multipliedBy(new jf(10).pow(n));return t._pushIntNum(-n)?a.abs().isLessThan(PS)?t._pushIntNum(a.toNumber()):t._pushBigint(a):!1}_pushMap(t,r){return t._pushInt(r.size,Nr.MAP)?this._pushRawMap(r.size,Array.from(r)):!1}_pushObject(t){if(!t)return this._pushUInt8(sh);for(var r=this.semanticTypes.length,n=0;n<r;n++)if(t instanceof this.semanticTypes[n][0])return this.semanticTypes[n][1].call(t,this,t);var a=t.encodeCBOR;if(typeof a=="function")return a.call(t,this);var o=Object.keys(t),s=o.length;return this._pushInt(s,Nr.MAP)?this._pushRawMap(s,o.map(l=>[l,t[l]])):!1}_pushRawMap(t,r){r=r.map(function(a){return a[0]=xc.encode(a[0]),a}).sort(pd.keySorter);for(var n=0;n<t;n++)if(!this.push(r[n][0])||!this.pushAny(r[n][1]))return!1;return!0}write(t){return this.pushAny(t)}pushAny(t){var r=zS(t);switch(r){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,Yr.isBuffer(t)?t:Yr.from(t));case"Null":return this._pushUInt8(sh);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"URL":return this._pushUrl(this,t);case"BigNumber":return this._pushBigNumber(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case oh.NULL:return this._pushObject(null);case oh.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(this.offset===0)return null;for(var t=this.result,r=this.resultLength,n=this.resultMethod,a=this.offset,o=0,s=0;s<a;s++)o+=r[s];var l=Yr.allocUnsafe(o),c=0,u=0;for(s=0;s<a;s++){switch(u=r[s],n[s]){case 0:t[s].copy(l,c);break;case 1:l.writeUInt8(t[s],c,!0);break;case 2:l.writeUInt16BE(t[s],c,!0);break;case 3:l.writeUInt32BE(t[s],c,!0);break;case 4:l.writeDoubleBE(t[s],c,!0);break;case 5:l.write(t[s],c,u,"utf8");break;default:throw new Error("unkown method")}c+=u}var d=l;return this._reset(),d}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const r=new xc;if(!r.pushAny(t))throw new Error("Failed to encode input");return r.finalize()}}var VS=xc;(function(e){e.Diagnose=NS,e.Decoder=Uv,e.Encoder=VS,e.Simple=Rv,e.Tagged=Fv,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}})(Cv);const zv=a0(Cv);function Fr(e){return zo(G_.create().update(new Uint8Array(e)).digest())}function Al(e){if(e instanceof zv.Tagged)return Al(e.value);if(typeof e=="string")return Vv(e);if(typeof e=="number")return Fr(ut(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return Fr(e);if(Array.isArray(e)){const t=e.map(Al);return Fr(Ur(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return Fr(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return Al(e.toHash());if(typeof e=="object")return _c(e);if(typeof e=="bigint")return Fr(ut(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const Vv=e=>{const t=new TextEncoder().encode(e);return Fr(t)};function cs(e){return _c(e)}function _c(e){const n=Object.entries(e).filter(([,s])=>s!==void 0).map(([s,l])=>{const c=Vv(s),u=Al(l);return[c,u]}).sort(([s],[l])=>G1(s,l)),a=Ur(...n.map(s=>Ur(...s)));return Fr(a)}var WS=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const $S=new TextEncoder().encode(`
ic-request`);class mm{getPrincipal(){return this._principal||(this._principal=Oe.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:r}=t,n=WS(t,["body"]),a=cs(r);return Object.assign(Object.assign({},n),{body:{content:r,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(Ur($S,a))}})}}class Sc{getPrincipal(){return Oe.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var er={},ao={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});const jS=9007199254740992;function An(e,...t){const r=new Uint8Array(e.byteLength+t.reduce((a,o)=>a+o.byteLength,0));r.set(new Uint8Array(e),0);let n=e.byteLength;for(const a of t)r.set(new Uint8Array(a),n),n+=a.byteLength;return r.buffer}function Vr(e,t,r){r=r.replace(/[^0-9a-fA-F]/g,"");const n=2**(t-24);r=r.slice(-n*2).padStart(n*2,"0");const a=[(e<<5)+t].concat(r.match(/../g).map(o=>parseInt(o,16)));return new Uint8Array(a).buffer}function du(e,t){if(t<24)return new Uint8Array([(e<<5)+t]).buffer;{const r=t<=255?24:t<=65535?25:t<=4294967295?26:27;return Vr(e,r,t.toString(16))}}function Wv(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|n&63):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|n&63):(r++,n=(n&1023)<<10|e.charCodeAt(r)&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63))}return An(new Uint8Array(du(3,e.length)),new Uint8Array(t))}function IS(e,t){if(e==14277111)return An(new Uint8Array([217,217,247]),t);if(e<24)return An(new Uint8Array([192+e]),t);{const r=e<=255?24:e<=65535?25:e<=4294967295?26:27,n=2**(r-24),a=e.toString(16).slice(-n*2).padStart(n*2,"0"),o=[192+r].concat(a.match(/../g).map(s=>parseInt(s,16)));return new Uint8Array(o).buffer}}Ze.tagged=IS;function Bs(e){return new Uint8Array(e).buffer}Ze.raw=Bs;function pm(e){if(isNaN(e))throw new RangeError("Invalid number.");e=Math.min(Math.max(0,e),23);const t=[0+e];return new Uint8Array(t).buffer}Ze.uSmall=pm;function $v(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),255),e=e.toString(16),Vr(0,24,e)}Ze.u8=$v;function jv(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),65535),e=e.toString(16),Vr(0,25,e)}Ze.u16=jv;function Iv(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),4294967295),e=e.toString(16),Vr(0,26,e)}Ze.u32=Iv;function hm(e,t){if(typeof e=="string"&&t==16){if(e.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return Vr(0,27,e)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),jS),e=e.toString(16),Vr(0,27,e)}Ze.u64=hm;function Hv(e){if(isNaN(e))throw new RangeError("Invalid number.");if(e===0)return pm(0);e=Math.min(Math.max(0,-e),24)-1;const t=[32+e];return new Uint8Array(t).buffer}Ze.iSmall=Hv;function Gv(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),255),e=e.toString(16),Vr(1,24,e)}Ze.i8=Gv;function qv(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),65535),e=e.toString(16),Vr(1,25,e)}Ze.i16=qv;function Kv(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),4294967295),e=e.toString(16),Vr(1,26,e)}Ze.i32=Kv;function Yv(e,t){if(typeof e=="string"&&t==16){if(e.startsWith("-")?e=e.slice(1):e="0",e.match(/[^0-9a-fA-F]/)||e.length>16)throw new RangeError("Invalid number.");let r=!1,n=e.split("").reduceRight((a,o)=>{if(r)return o+a;let s=parseInt(o,16)-1;return s>=0?(r=!0,s.toString(16)+a):"f"+a},"");return r?Vr(1,27,n):hm(0)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),9007199254740992),e=e.toString(16),Vr(1,27,e)}Ze.i64=Yv;function HS(e){return e>=0?e<24?pm(e):e<=255?$v(e):e<=65535?jv(e):e<=4294967295?Iv(e):hm(e):e>=-24?Hv(e):e>=-255?Gv(e):e>=-65535?qv(e):e>=-4294967295?Kv(e):Yv(e)}Ze.number=HS;function GS(e){return An(du(2,e.byteLength),e)}Ze.bytes=GS;function qS(e){return Wv(e)}Ze.string=qS;function KS(e){return An(du(4,e.length),...e)}Ze.array=KS;function YS(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let r=Array.from(e.entries());return t&&(r=r.sort(([n],[a])=>n.localeCompare(a))),An(du(5,e.size),...r.map(([n,a])=>An(Wv(n),a)))}Ze.map=YS;function QS(e){const t=new Float32Array([e]);return An(new Uint8Array([224+26]),new Uint8Array(t.buffer))}Ze.singleFloat=QS;function ZS(e){const t=new Float64Array([e]);return An(new Uint8Array([224+27]),new Uint8Array(t.buffer))}Ze.doubleFloat=ZS;function XS(e){return e?Qv():Zv()}Ze.bool=XS;function Qv(){return Bs(new Uint8Array([224+21]))}Ze.true_=Qv;function Zv(){return Bs(new Uint8Array([224+20]))}Ze.false_=Zv;function JS(){return Bs(new Uint8Array([224+22]))}Ze.null_=JS;function LS(){return Bs(new Uint8Array([224+23]))}Ze.undefined_=LS;var DS=Ua&&Ua.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(ao,"__esModule",{value:!0});const kr=DS(Ze),eN=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class Xv{constructor(t,r=!1){this._serializer=t,this._stable=r,this.name="jsonDefault",this.priority=-100}match(t){return["undefined","boolean","number","string","object"].indexOf(typeof t)!=-1}encode(t){switch(typeof t){case"undefined":return kr.undefined_();case"boolean":return kr.bool(t);case"number":return Math.floor(t)===t?kr.number(t):kr.doubleFloat(t);case"string":return kr.string(t);case"object":if(t===null)return kr.null_();if(Array.isArray(t))return kr.array(t.map(r=>this._serializer.serializeValue(r)));if(eN.find(r=>t instanceof r))return kr.bytes(t.buffer);if(Object.getOwnPropertyNames(t).indexOf("toJSON")!==-1)return this.encode(t.toJSON());if(t instanceof Map){const r=new Map;for(const[n,a]of t.entries())r.set(n,this._serializer.serializeValue(a));return kr.map(r,this._stable)}else{const r=new Map;for(const[n,a]of Object.entries(t))r.set(n,this._serializer.serializeValue(a));return kr.map(r,this._stable)}default:throw new Error("Invalid value.")}}}ao.JsonDefaultCborEncoder=Xv;class Jv{constructor(){this.name="cborEncoder",this.priority=-90}match(t){return typeof t=="object"&&typeof t.toCBOR=="function"}encode(t){return t.toCBOR()}}ao.ToCborEncoder=Jv;class Lv{constructor(){this._encoders=new Set}static withDefaultEncoders(t=!1){const r=new this;return r.addEncoder(new Xv(r,t)),r.addEncoder(new Jv),r}removeEncoder(t){for(const r of this._encoders.values())r.name==t&&this._encoders.delete(r)}addEncoder(t){this._encoders.add(t)}getEncoderFor(t){let r=null;for(const n of this._encoders)(!r||n.priority>r.priority)&&n.match(t)&&(r=n);if(r===null)throw new Error("Could not find an encoder for value.");return r}serializeValue(t){return this.getEncoderFor(t).encode(t)}serialize(t){return this.serializeValue(t)}}ao.CborSerializer=Lv;class tN extends Lv{serialize(t){return kr.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(t))]))}}ao.SelfDescribeCborSerializer=tN;(function(e){function t(a){for(var o in a)e.hasOwnProperty(o)||(e[o]=a[o])}var r=Ua&&Ua.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var s in a)Object.hasOwnProperty.call(a,s)&&(o[s]=a[s]);return o.default=a,o};Object.defineProperty(e,"__esModule",{value:!0}),t(ao);const n=r(Ze);e.value=n})(er);class rN{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return er.value.bytes(t.toUint8Array())}}class nN{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return er.value.bytes(new Uint8Array(t))}}class aN{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?er.value.tagged(2,er.value.bytes(xn(t.toString(16)))):er.value.tagged(3,er.value.bytes(xn((BigInt("-1")*t).toString(16))))}}const fu=er.SelfDescribeCborSerializer.withDefaultEncoders(!0);fu.addEncoder(new rN);fu.addEncoder(new nN);fu.addEncoder(new aN);var If;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(If||(If={}));function hd(e){return fu.serialize(e)}function lh(e){const t=e.byteLength;let r=BigInt(0);for(let n=0;n<t;n++)r=r*BigInt(256)+BigInt(e[n]);return r}class iN extends zv.Decoder{createByteString(t){return Ur(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}}function yn(e){const t=new Uint8Array(e),r=new iN({size:t.byteLength,tags:{2:n=>lh(n),3:n=>-lh(n),[If.Semantic]:n=>n}});try{return r.decodeFirst(t)}catch(n){throw new Error(`Failed to decode CBOR: ${n}, input: ${et(t)}`)}}const sl=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var Hf;(function(e){e.Call="call"})(Hf||(Hf={}));function Gf(){const e=new ArrayBuffer(16),t=new DataView(e),r=sl(),n=sl(),a=sl(),o=sl();return t.setUint32(0,r),t.setUint32(4,n),t.setUint32(8,a),t.setUint32(12,o),e}const ch=BigInt(1e6),oN=60*1e3;class ll{constructor(t){if(t<90*1e3){const l=BigInt(Date.now()+t)*ch/BigInt(1e9);this._value=l*BigInt(1e9);return}const o=BigInt(Math.floor(Date.now()+t-oN))*ch/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=o}toCBOR(){return er.value.u64(this._value.toString(16),16)}toHash(){return ut(this._value)}}function uh(e=Gf){return async t=>{const r=t.request.headers;t.request.headers=r,t.endpoint==="call"&&(t.body.nonce=e())}}function bo(e){const t=[];return e.forEach((r,n)=>{t.push([n,r])}),t}class gd extends ct{constructor(t,r){super(t),this.response=r,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class sN extends ct{constructor(t,r,n,a,o,s){super(t),this.response=r,this.requestId=n,this.senderPubkey=a,this.senderSig=o,this.ingressExpiry=s,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class lN extends ct{constructor(t,r,n,a,o,s){super(t),this.response=r,this.requestId=n,this.senderPubkey=a,this.senderSig=o,this.ingressExpiry=s,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class cN extends ct{constructor(t,r,n,a,o,s){super(t),this.response=r,this.requestId=n,this.senderPubkey=a,this.senderSig=o,this.ingressExpiry=s,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gm=BigInt(0),Nc=BigInt(1);function us(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Dv(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?gm:BigInt("0x"+e)}function en(e){return Dv(Qi(e))}function ds(e){return Ht(e),Dv(Qi(Uint8Array.from(e).reverse()))}function Bt(e,t){return V1(e.toString(16).padStart(t*2,"0"))}function mu(e,t){return Bt(e,t).reverse()}function Zt(e,t,r){let n;if(typeof t=="string")try{n=V1(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(am(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const a=n.length;if(typeof r=="number"&&a!==r)throw new Error(e+" of length "+r+" expected, got "+a);return n}const yd=e=>typeof e=="bigint"&&gm<=e;function ew(e,t,r){return yd(e)&&yd(t)&&yd(r)&&t<=e&&e<r}function xo(e,t,r,n){if(!ew(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Vi(e){let t;for(t=0;e>gm;e>>=Nc,t+=1);return t}function uN(e,t){return e>>BigInt(t)&Nc}const Pa=e=>(Nc<<BigInt(e))-Nc;function dN(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function Rs(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(a,o,s){const l=e[a];if(s&&l===void 0)return;const c=typeof l;if(c!==o||l===null)throw new Error(`param "${a}" is invalid: expected ${o}, got ${c}`)}Object.entries(t).forEach(([a,o])=>n(a,o,!1)),Object.entries(r).forEach(([a,o])=>n(a,o,!0))}const dh=()=>{throw new Error("not implemented")};function fs(e){const t=new WeakMap;return(r,...n)=>{const a=t.get(r);if(a!==void 0)return a;const o=e(r,...n);return t.set(r,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rr=BigInt(0),Ft=BigInt(1),Aa=BigInt(2),tw=BigInt(3),rw=BigInt(4),nw=BigInt(5),fN=BigInt(7),aw=BigInt(8),mN=BigInt(9),iw=BigInt(16);function ft(e,t){const r=e%t;return r>=rr?r:t+r}function jr(e,t,r){let n=e;for(;t-- >rr;)n*=n,n%=r;return n}function fh(e,t){if(e===rr)throw new Error("invert: expected non-zero number");if(t<=rr)throw new Error("invert: expected positive modulus, got "+t);let r=ft(e,t),n=t,a=rr,o=Ft;for(;r!==rr;){const l=n/r,c=n%r,u=a-o*l;n=r,r=c,a=o,o=u}if(n!==Ft)throw new Error("invert: does not exist");return ft(a,t)}function ym(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function ow(e,t){const r=(e.ORDER+Ft)/rw,n=e.pow(t,r);return ym(e,n,t),n}function pN(e,t){const r=(e.ORDER-nw)/aw,n=e.mul(t,Aa),a=e.pow(n,r),o=e.mul(t,a),s=e.mul(e.mul(o,Aa),a),l=e.mul(o,e.sub(s,e.ONE));return ym(e,l,t),l}function hN(e){const t=ga(e),r=sw(e),n=r(t,t.neg(t.ONE)),a=r(t,n),o=r(t,t.neg(n)),s=(e+fN)/iw;return(l,c)=>{let u=l.pow(c,s),d=l.mul(u,n);const g=l.mul(u,a),f=l.mul(u,o),p=l.eql(l.sqr(d),c),h=l.eql(l.sqr(g),c);u=l.cmov(u,d,p),d=l.cmov(f,g,h);const k=l.eql(l.sqr(d),c),B=l.cmov(u,d,k);return ym(l,B,c),B}}function sw(e){if(e<tw)throw new Error("sqrt is not defined for small field");let t=e-Ft,r=0;for(;t%Aa===rr;)t/=Aa,r++;let n=Aa;const a=ga(e);for(;kc(a,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return ow;let o=a.pow(n,t);const s=(t+Ft)/Aa;return function(c,u){if(c.is0(u))return u;if(kc(c,u)!==1)throw new Error("Cannot find square root");let d=r,g=c.mul(c.ONE,o),f=c.pow(u,t),p=c.pow(u,s);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let h=1,k=c.sqr(f);for(;!c.eql(k,c.ONE);)if(h++,k=c.sqr(k),h===d)throw new Error("Cannot find square root");const B=Ft<<BigInt(d-h-1),_=c.pow(g,B);d=h,g=c.sqr(_),f=c.mul(f,g),p=c.mul(p,_)}return p}}function gN(e){return e%rw===tw?ow:e%aw===nw?pN:e%iw===mN?hN(e):sw(e)}const yN=(e,t)=>(ft(e,t)&Ft)===Ft,vN=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lw(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=vN.reduce((n,a)=>(n[a]="function",n),t);return Rs(e,r),e}function Cl(e,t,r){if(r<rr)throw new Error("invalid exponent, negatives unsupported");if(r===rr)return e.ONE;if(r===Ft)return t;let n=e.ONE,a=t;for(;r>rr;)r&Ft&&(n=e.mul(n,a)),a=e.sqr(a),r>>=Ft;return n}function Oa(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),a=t.reduce((s,l,c)=>e.is0(l)?s:(n[c]=s,e.mul(s,l)),e.ONE),o=e.inv(a);return t.reduceRight((s,l,c)=>e.is0(l)?s:(n[c]=e.mul(s,n[c]),e.mul(s,l)),o),n}function kc(e,t){const r=(e.ORDER-Ft)/Aa,n=e.pow(t,r),a=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!a&&!o&&!s)throw new Error("invalid Legendre symbol result");return a?1:o?0:-1}function wN(e,t){t!==void 0&&x_(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ga(e,t,r=!1,n={}){if(e<=rr)throw new Error("invalid field: expected ORDER > 0, got "+e);let a,o,s=!1,l;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const f=t;f.BITS&&(a=f.BITS),f.sqrt&&(o=f.sqrt),typeof f.isLE=="boolean"&&(r=f.isLE),typeof f.modOnDecode=="boolean"&&(s=f.modOnDecode),l=f.allowedLengths}else typeof t=="number"&&(a=t),n.sqrt&&(o=n.sqrt);const{nBitLength:c,nByteLength:u}=wN(e,a);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const g=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:u,MASK:Pa(c),ZERO:rr,ONE:Ft,allowedLengths:l,create:f=>ft(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return rr<=f&&f<e},is0:f=>f===rr,isValidNot0:f=>!g.is0(f)&&g.isValid(f),isOdd:f=>(f&Ft)===Ft,neg:f=>ft(-f,e),eql:(f,p)=>f===p,sqr:f=>ft(f*f,e),add:(f,p)=>ft(f+p,e),sub:(f,p)=>ft(f-p,e),mul:(f,p)=>ft(f*p,e),pow:(f,p)=>Cl(g,f,p),div:(f,p)=>ft(f*fh(p,e),e),sqrN:f=>f*f,addN:(f,p)=>f+p,subN:(f,p)=>f-p,mulN:(f,p)=>f*p,inv:f=>fh(f,e),sqrt:o||(f=>(d||(d=gN(e)),d(g,f))),toBytes:f=>r?mu(f,u):Bt(f,u),fromBytes:(f,p=!0)=>{if(l){if(!l.includes(f.length)||f.length>u)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+f.length);const k=new Uint8Array(u);k.set(f,r?0:k.length-f.length),f=k}if(f.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+f.length);let h=r?ds(f):en(f);if(s&&(h=ft(h,e)),!p&&!g.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:f=>Oa(g,f),cmov:(f,p,h)=>h?p:f});return Object.freeze(g)}function cw(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function uw(e){const t=cw(e);return t+Math.ceil(t/2)}function EN(e,t,r=!1){const n=e.length,a=cw(t),o=uw(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const s=r?ds(e):en(e),l=ft(s,t-Ft)+Ft;return r?mu(l,a):Bt(l,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xi=BigInt(0),Ca=BigInt(1);function Tc(e,t){const r=t.negate();return e?r:t}function vn(e,t){const r=Oa(e.Fp,t.map(n=>n.Z));return t.map((n,a)=>e.fromAffine(n.toAffine(r[a])))}function dw(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function vd(e,t){dw(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),a=2**e,o=Pa(e),s=BigInt(e);return{windows:r,windowSize:n,mask:o,maxNumber:a,shiftBy:s}}function mh(e,t,r){const{windowSize:n,mask:a,maxNumber:o,shiftBy:s}=r;let l=Number(e&a),c=e>>s;l>n&&(l-=o,c+=Ca);const u=t*n,d=u+Math.abs(l)-1,g=l===0,f=l<0,p=t%2!==0;return{nextN:c,offset:d,isZero:g,isNeg:f,isNegF:p,offsetF:u}}function bN(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function xN(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const wd=new WeakMap,fw=new WeakMap;function Ed(e){return fw.get(e)||1}function ph(e){if(e!==Xi)throw new Error("invalid wNAF")}class mw{constructor(t,r){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=r}_unsafeLadder(t,r,n=this.ZERO){let a=t;for(;r>Xi;)r&Ca&&(n=n.add(a)),a=a.double(),r>>=Ca;return n}precomputeWindow(t,r){const{windows:n,windowSize:a}=vd(r,this.bits),o=[];let s=t,l=s;for(let c=0;c<n;c++){l=s,o.push(l);for(let u=1;u<a;u++)l=l.add(s),o.push(l);s=l.double()}return o}wNAF(t,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let a=this.ZERO,o=this.BASE;const s=vd(t,this.bits);for(let l=0;l<s.windows;l++){const{nextN:c,offset:u,isZero:d,isNeg:g,isNegF:f,offsetF:p}=mh(n,l,s);n=c,d?o=o.add(Tc(f,r[p])):a=a.add(Tc(g,r[u]))}return ph(n),{p:a,f:o}}wNAFUnsafe(t,r,n,a=this.ZERO){const o=vd(t,this.bits);for(let s=0;s<o.windows&&n!==Xi;s++){const{nextN:l,offset:c,isZero:u,isNeg:d}=mh(n,s,o);if(n=l,!u){const g=r[c];a=a.add(d?g.negate():g)}}return ph(n),a}getPrecomputes(t,r,n){let a=wd.get(r);return a||(a=this.precomputeWindow(r,t),t!==1&&(typeof n=="function"&&(a=n(a)),wd.set(r,a))),a}cached(t,r,n){const a=Ed(t);return this.wNAF(a,this.getPrecomputes(a,t,n),r)}unsafe(t,r,n,a){const o=Ed(t);return o===1?this._unsafeLadder(t,r,a):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),r,a)}createCache(t,r){dw(r,this.bits),fw.set(t,r),wd.delete(t)}hasCache(t){return Ed(t)!==1}}function _N(e,t,r,n){let a=t,o=e.ZERO,s=e.ZERO;for(;r>Xi||n>Xi;)r&Ca&&(o=o.add(a)),n&Ca&&(s=s.add(a)),a=a.double(),r>>=Ca,n>>=Ca;return{p1:o,p2:s}}function pw(e,t,r,n){bN(r,e),xN(n,t);const a=r.length,o=n.length;if(a!==o)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,l=Vi(BigInt(a));let c=1;l>12?c=l-3:l>4?c=l-2:l>0&&(c=2);const u=Pa(c),d=new Array(Number(u)+1).fill(s),g=Math.floor((t.BITS-1)/c)*c;let f=s;for(let p=g;p>=0;p-=c){d.fill(s);for(let k=0;k<o;k++){const B=n[k],_=Number(B>>BigInt(p)&u);d[_]=d[_].add(r[k])}let h=s;for(let k=d.length-1,B=s;k>0;k--)B=B.add(d[k]),h=h.add(B);if(f=f.add(h),p!==0)for(let k=0;k<c;k++)f=f.double()}return f}function hh(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return lw(t),t}else return ga(e)}function hw(e,t,r={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const l of["p","n","h"]){const c=t[l];if(!(typeof c=="bigint"&&c>Xi))throw new Error(`CURVE.${l} must be positive bigint`)}const n=hh(t.p,r.Fp),a=hh(t.n,r.Fn),s=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const l of s)if(!n.isValid(t[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:a}}const SN=en;function jn(e,t){if(ms(e),ms(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function NN(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function ms(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function gw(e){if(!am(e)&&typeof e!="string")throw new Error("DST must be Uint8Array or string");return typeof e=="string"?ks(e):e}function kN(e,t,r,n){Ht(e),ms(r),t=gw(t),t.length>255&&(t=n(pt(ks("H2C-OVERSIZE-DST-"),t)));const{outputLen:a,blockLen:o}=n,s=Math.ceil(r/a);if(r>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");const l=pt(t,jn(t.length,1)),c=jn(0,o),u=jn(r,2),d=new Array(s),g=n(pt(c,e,u,jn(0,1),l));d[0]=n(pt(g,jn(1,1),l));for(let p=1;p<=s;p++){const h=[NN(g,d[p-1]),jn(p+1,1),l];d[p]=n(pt(...h))}return pt(...d).slice(0,r)}function TN(e,t,r,n,a){if(Ht(e),ms(r),t=gw(t),t.length>255){const o=Math.ceil(2*n/8);t=a.create({dkLen:o}).update(ks("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return a.create({dkLen:r}).update(e).update(jn(r,2)).update(t).update(jn(t.length,1)).digest()}function bd(e,t,r){Rs(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:n,k:a,m:o,hash:s,expand:l,DST:c}=r;if(!dN(r.hash))throw new Error("expected valid hash");Ht(e),ms(t);const u=n.toString(2).length,d=Math.ceil((u+a)/8),g=t*o*d;let f;if(l==="xmd")f=kN(e,c,g,s);else if(l==="xof")f=TN(e,c,g,a,s);else if(l==="_internal_pass")f=e;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(t);for(let h=0;h<t;h++){const k=new Array(o);for(let B=0;B<o;B++){const _=d*(B+h*o),E=f.subarray(_,_+d);k[B]=ft(SN(E),n)}p[h]=k}return p}function yw(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,a)=>{const[o,s,l,c]=r.map(g=>g.reduce((f,p)=>e.add(e.mul(f,n),p))),[u,d]=Oa(e,[s,c],!0);return n=e.mul(o,u),a=e.mul(a,e.mul(l,d)),{x:n,y:a}}}const AN=ks("HashToScalar-");function gh(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function n(o){return e.fromAffine(t(o))}function a(o){const s=o.clearCofactor();return s.equals(e.ZERO)?e.ZERO:(s.assertValidity(),s)}return{defaults:r,hashToCurve(o,s){const l=Object.assign({},r,s),c=bd(o,2,l),u=n(c[0]),d=n(c[1]);return a(u.add(d))},encodeToCurve(o,s){const l=r.encodeDST?{DST:r.encodeDST}:{},c=Object.assign({},r,l,s),u=bd(o,1,c),d=n(u[0]);return a(d)},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(const s of o)if(typeof s!="bigint")throw new Error("expected array of bigints");return a(n(o))},hashToScalar(o,s){const l=e.Fn.ORDER,c=Object.assign({},r,{p:l,m:1,DST:AN},s);return bd(o,1,c)[0][0]}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yh=(e,t)=>(e+(e>=0?t:-t)/on)/t;function CN(e,t,r){const[[n,a],[o,s]]=t,l=yh(s*e,r),c=yh(-a*e,r);let u=e-l*n-c*o,d=-l*a-c*s;const g=u<Ba,f=d<Ba;g&&(u=-u),f&&(d=-d);const p=Pa(Math.ceil(Vi(r)/2))+Yt;if(u<Ba||u>=p||d<Ba||d>=p)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:g,k1:u,k2neg:f,k2:d}}const Ba=BigInt(0),Yt=BigInt(1),on=BigInt(2),ki=BigInt(3),qf=BigInt(4);function vw(e,t,r){function n(a){const o=e.sqr(a),s=e.mul(o,a);return e.add(e.add(s,e.mul(a,t)),r)}return n}function Ac(e,t){const{BYTES:r}=e;let n;if(typeof t=="bigint")n=t;else{let a=Zt("private key",t);try{n=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function BN(e,t={}){const{Fp:r,Fn:n}=hw("weierstrass",e,t),{h:a,n:o}=e;Rs(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=t;if(s&&(!r.is0(e.a)||typeof s.beta!="bigint"||!Array.isArray(s.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');function l(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(X,z,H){const{x:Y,y:N}=z.toAffine(),O=r.toBytes(Y);if(us("isCompressed",H),H){l();const G=!r.isOdd(N);return pt(RN(G),O)}else return pt(Uint8Array.of(4),O,r.toBytes(N))}function u(X){Ht(X);const z=r.BYTES,H=z+1,Y=2*z+1,N=X.length,O=X[0],G=X.subarray(1);if(N===H&&(O===2||O===3)){const D=r.fromBytes(G);if(!r.isValid(D))throw new Error("bad point: is not on curve, wrong x");const ne=f(D);let Q;try{Q=r.sqrt(ne)}catch(le){const de=le instanceof Error?": "+le.message:"";throw new Error("bad point: is not on curve, sqrt error"+de)}l();const ae=r.isOdd(Q);return(O&1)===1!==ae&&(Q=r.neg(Q)),{x:D,y:Q}}else if(N===Y&&O===4){const D=r.fromBytes(G.subarray(z*0,z*1)),ne=r.fromBytes(G.subarray(z*1,z*2));if(!p(D,ne))throw new Error("bad point: is not on curve");return{x:D,y:ne}}else throw new Error(`bad point: got length ${N}, expected compressed=${H} or uncompressed=${Y}`)}const d=t.toBytes||c,g=t.fromBytes||u,f=vw(r,e.a,e.b);function p(X,z){const H=r.sqr(z),Y=f(X);return r.eql(H,Y)}if(!p(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const h=r.mul(r.pow(e.a,ki),qf),k=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(h,k)))throw new Error("bad curve params: a or b");function B(X,z,H=!1){if(!r.isValid(z)||H&&r.is0(z))throw new Error(`bad point coordinate ${X}`);return z}function _(X){if(!(X instanceof W))throw new Error("ProjectivePoint expected")}function E(X){if(!s||!s.basises)throw new Error("no endo");return CN(X,s.basises,n.ORDER)}const x=fs((X,z)=>{const{X:H,Y,Z:N}=X;if(r.eql(N,r.ONE))return{x:H,y:Y};const O=X.is0();z==null&&(z=O?r.ONE:r.inv(N));const G=r.mul(H,z),D=r.mul(Y,z),ne=r.mul(N,z);if(O)return{x:r.ZERO,y:r.ZERO};if(!r.eql(ne,r.ONE))throw new Error("invZ was invalid");return{x:G,y:D}}),U=fs(X=>{if(X.is0()){if(t.allowInfinityPoint&&!r.is0(X.Y))return;throw new Error("bad point: ZERO")}const{x:z,y:H}=X.toAffine();if(!r.isValid(z)||!r.isValid(H))throw new Error("bad point: x or y not field elements");if(!p(z,H))throw new Error("bad point: equation left != right");if(!X.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function C(X,z,H,Y,N){return H=new W(r.mul(H.X,X),H.Y,H.Z),z=Tc(Y,z),H=Tc(N,H),z.add(H)}class W{constructor(z,H,Y){this.X=B("x",z),this.Y=B("y",H,!0),this.Z=B("z",Y),Object.freeze(this)}static fromAffine(z){const{x:H,y:Y}=z||{};if(!z||!r.isValid(H)||!r.isValid(Y))throw new Error("invalid affine point");if(z instanceof W)throw new Error("projective point not allowed");return r.is0(H)&&r.is0(Y)?W.ZERO:new W(H,Y,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}static normalizeZ(z){return vn(W,z)}static fromBytes(z){return Ht(z),W.fromHex(z)}static fromHex(z){const H=W.fromAffine(g(Zt("pointHex",z)));return H.assertValidity(),H}static fromPrivateKey(z){return W.BASE.multiply(Ac(n,z))}static msm(z,H){return pw(W,n,z,H)}_setWindowSize(z){this.precompute(z)}precompute(z=8,H=!0){return P.createCache(this,z),H||this.multiply(ki),this}assertValidity(){U(this)}hasEvenY(){const{y:z}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(z)}equals(z){_(z);const{X:H,Y,Z:N}=this,{X:O,Y:G,Z:D}=z,ne=r.eql(r.mul(H,D),r.mul(O,N)),Q=r.eql(r.mul(Y,D),r.mul(G,N));return ne&&Q}negate(){return new W(this.X,r.neg(this.Y),this.Z)}double(){const{a:z,b:H}=e,Y=r.mul(H,ki),{X:N,Y:O,Z:G}=this;let D=r.ZERO,ne=r.ZERO,Q=r.ZERO,ae=r.mul(N,N),fe=r.mul(O,O),le=r.mul(G,G),de=r.mul(N,O);return de=r.add(de,de),Q=r.mul(N,G),Q=r.add(Q,Q),D=r.mul(z,Q),ne=r.mul(Y,le),ne=r.add(D,ne),D=r.sub(fe,ne),ne=r.add(fe,ne),ne=r.mul(D,ne),D=r.mul(de,D),Q=r.mul(Y,Q),le=r.mul(z,le),de=r.sub(ae,le),de=r.mul(z,de),de=r.add(de,Q),Q=r.add(ae,ae),ae=r.add(Q,ae),ae=r.add(ae,le),ae=r.mul(ae,de),ne=r.add(ne,ae),le=r.mul(O,G),le=r.add(le,le),ae=r.mul(le,de),D=r.sub(D,ae),Q=r.mul(le,fe),Q=r.add(Q,Q),Q=r.add(Q,Q),new W(D,ne,Q)}add(z){_(z);const{X:H,Y,Z:N}=this,{X:O,Y:G,Z:D}=z;let ne=r.ZERO,Q=r.ZERO,ae=r.ZERO;const fe=e.a,le=r.mul(e.b,ki);let de=r.mul(H,O),_e=r.mul(Y,G),T=r.mul(N,D),he=r.add(H,Y),we=r.add(O,G);he=r.mul(he,we),we=r.add(de,_e),he=r.sub(he,we),we=r.add(H,N);let ce=r.add(O,D);return we=r.mul(we,ce),ce=r.add(de,T),we=r.sub(we,ce),ce=r.add(Y,N),ne=r.add(G,D),ce=r.mul(ce,ne),ne=r.add(_e,T),ce=r.sub(ce,ne),ae=r.mul(fe,we),ne=r.mul(le,T),ae=r.add(ne,ae),ne=r.sub(_e,ae),ae=r.add(_e,ae),Q=r.mul(ne,ae),_e=r.add(de,de),_e=r.add(_e,de),T=r.mul(fe,T),we=r.mul(le,we),_e=r.add(_e,T),T=r.sub(de,T),T=r.mul(fe,T),we=r.add(we,T),de=r.mul(_e,we),Q=r.add(Q,de),de=r.mul(ce,we),ne=r.mul(he,ne),ne=r.sub(ne,de),de=r.mul(he,_e),ae=r.mul(ce,ae),ae=r.add(ae,de),new W(ne,Q,ae)}subtract(z){return this.add(z.negate())}is0(){return this.equals(W.ZERO)}multiply(z){const{endo:H}=t;if(!n.isValidNot0(z))throw new Error("invalid scalar: out of range");let Y,N;const O=G=>P.cached(this,G,D=>vn(W,D));if(H){const{k1neg:G,k1:D,k2neg:ne,k2:Q}=E(z),{p:ae,f:fe}=O(D),{p:le,f:de}=O(Q);N=fe.add(de),Y=C(H.beta,ae,le,G,ne)}else{const{p:G,f:D}=O(z);Y=G,N=D}return vn(W,[Y,N])[0]}multiplyUnsafe(z){const{endo:H}=t,Y=this;if(!n.isValid(z))throw new Error("invalid scalar: out of range");if(z===Ba||Y.is0())return W.ZERO;if(z===Yt)return Y;if(P.hasCache(this))return this.multiply(z);if(H){const{k1neg:N,k1:O,k2neg:G,k2:D}=E(z),{p1:ne,p2:Q}=_N(W,Y,O,D);return C(H.beta,ne,Q,N,G)}else return P.unsafe(Y,z)}multiplyAndAddUnsafe(z,H,Y){const N=this.multiplyUnsafe(H).add(z.multiplyUnsafe(Y));return N.is0()?void 0:N}toAffine(z){return x(this,z)}isTorsionFree(){const{isTorsionFree:z}=t;return a===Yt?!0:z?z(W,this):P.unsafe(this,o).is0()}clearCofactor(){const{clearCofactor:z}=t;return a===Yt?this:z?z(W,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(z=!0){return us("isCompressed",z),this.assertValidity(),d(W,this,z)}toRawBytes(z=!0){return this.toBytes(z)}toHex(z=!0){return Qi(this.toBytes(z))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}W.BASE=new W(e.Gx,e.Gy,r.ONE),W.ZERO=new W(r.ZERO,r.ONE,r.ZERO),W.Fp=r,W.Fn=n;const $=n.BITS,P=new mw(W,t.endo?Math.ceil($/2):$);return W}function vh(e){const{CURVE:t,curveOpts:r}=PN(e),n=BN(t,r);return ON(e,n)}function RN(e){return Uint8Array.of(e?2:3)}function FN(e,t){const r=e.ORDER;let n=Ba;for(let h=r-Yt;h%on===Ba;h/=on)n+=Yt;const a=n,o=on<<a-Yt-Yt,s=o*on,l=(r-Yt)/s,c=(l-Yt)/on,u=s-Yt,d=o,g=e.pow(t,l),f=e.pow(t,(l+Yt)/on);let p=(h,k)=>{let B=g,_=e.pow(k,u),E=e.sqr(_);E=e.mul(E,k);let x=e.mul(h,E);x=e.pow(x,c),x=e.mul(x,_),_=e.mul(x,k),E=e.mul(x,h);let U=e.mul(E,_);x=e.pow(U,d);let C=e.eql(x,e.ONE);_=e.mul(E,f),x=e.mul(U,B),E=e.cmov(_,E,C),U=e.cmov(x,U,C);for(let W=a;W>Yt;W--){let $=W-on;$=on<<$-Yt;let P=e.pow(U,$);const X=e.eql(P,e.ONE);_=e.mul(E,B),B=e.mul(B,B),P=e.mul(U,B),E=e.cmov(_,E,X),U=e.cmov(P,U,X)}return{isValid:C,value:E}};if(e.ORDER%qf===ki){const h=(e.ORDER-ki)/qf,k=e.sqrt(e.neg(t));p=(B,_)=>{let E=e.sqr(_);const x=e.mul(B,_);E=e.mul(E,x);let U=e.pow(E,h);U=e.mul(U,x);const C=e.mul(U,k),W=e.mul(e.sqr(U),_),$=e.eql(W,B);let P=e.cmov(C,U,$);return{isValid:$,value:P}}}return p}function ww(e,t){lw(e);const{A:r,B:n,Z:a}=t;if(!e.isValid(r)||!e.isValid(n)||!e.isValid(a))throw new Error("mapToCurveSimpleSWU: invalid opts");const o=FN(e,a);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return s=>{let l,c,u,d,g,f,p,h;l=e.sqr(s),l=e.mul(l,a),c=e.sqr(l),c=e.add(c,l),u=e.add(c,e.ONE),u=e.mul(u,n),d=e.cmov(a,e.neg(c),!e.eql(c,e.ZERO)),d=e.mul(d,r),c=e.sqr(u),f=e.sqr(d),g=e.mul(f,r),c=e.add(c,g),c=e.mul(c,u),f=e.mul(f,d),g=e.mul(f,n),c=e.add(c,g),p=e.mul(l,u);const{isValid:k,value:B}=o(c,f);h=e.mul(l,s),h=e.mul(h,B),p=e.cmov(p,u,k),h=e.cmov(h,B,k);const _=e.isOdd(s)===e.isOdd(h);h=e.cmov(e.neg(h),h,_);const E=Oa(e,[d],!0)[0];return p=e.mul(p,E),{x:p,y:h}}}function PN(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp;let n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const a=ga(t.n,{BITS:e.nBitLength,allowedLengths:n,modOnDecode:e.wrapPrivateKey}),o={Fp:r,Fn:a,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:o}}function ON(e,t){const{Fp:r,Fn:n}=t;function a(s){return ew(s,Yt,n.ORDER)}const o=vw(r,e.a,e.b);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:s=>Ac(n,s),weierstrassEquation:o,isWithinCurveOrder:a})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const MN=BigInt(0),cl=BigInt(1),wh=BigInt(2),Ti=BigInt(3);function UN(e){const t=[];for(;e>cl;e>>=cl)(e&cl)===MN?t.unshift(0):(e&Ti)===Ti?(t.unshift(-1),e+=cl):t.unshift(1);return t}function xd(e){if(!Array.isArray(e)||e.length===0)throw new Error("expected non-empty array")}function zN(e,t,r,n){const{Fp2:a,Fp12:o}=e,{twistType:s,ateLoopSize:l,xNegative:c,postPrecompute:u}=n;let d;if(s==="multiplicative")d=(x,U,C,W,$,P)=>o.mul014(W,x,a.mul(U,$),a.mul(C,P));else if(s==="divisive")d=(x,U,C,W,$,P)=>o.mul034(W,a.mul(C,P),a.mul(U,$),x);else throw new Error("bls: unknown twist type");const g=a.div(a.ONE,a.mul(a.ONE,wh));function f(x,U,C,W){const $=a.sqr(C),P=a.sqr(W),X=a.mulByB(a.mul(P,Ti)),z=a.mul(X,Ti),H=a.sub(a.sub(a.sqr(a.add(C,W)),P),$),Y=a.sub(X,$),N=a.mul(a.sqr(U),Ti),O=a.neg(H);return x.push([Y,N,O]),U=a.mul(a.mul(a.mul(a.sub($,z),U),C),g),C=a.sub(a.sqr(a.mul(a.add($,z),g)),a.mul(a.sqr(X),Ti)),W=a.mul($,H),{Rx:U,Ry:C,Rz:W}}function p(x,U,C,W,$,P){const X=a.sub(C,a.mul(P,W)),z=a.sub(U,a.mul($,W)),H=a.sub(a.mul(X,$),a.mul(z,P)),Y=a.neg(X),N=z;x.push([H,Y,N]);const O=a.sqr(z),G=a.mul(O,z),D=a.mul(O,U),ne=a.add(a.sub(G,a.mul(D,wh)),a.mul(a.sqr(X),W));return U=a.mul(z,ne),C=a.sub(a.mul(a.sub(D,ne),X),a.mul(G,C)),W=a.mul(W,G),{Rx:U,Ry:C,Rz:W}}const h=UN(l),k=fs(x=>{const U=x,{x:C,y:W}=U.toAffine(),$=C,P=W,X=a.neg(W);let z=$,H=P,Y=a.ONE;const N=[];for(const O of h){const G=[];({Rx:z,Ry:H,Rz:Y}=f(G,z,H,Y)),O&&({Rx:z,Ry:H,Rz:Y}=p(G,z,H,Y,$,O===-1?X:P)),N.push(G)}if(u){const O=N[N.length-1];u(z,H,Y,$,P,p.bind(null,O))}return N});function B(x,U=!1){let C=o.ONE;if(x.length){const W=x[0][0].length;for(let $=0;$<W;$++){C=o.sqr(C);for(const[P,X,z]of x)for(const[H,Y,N]of P[$])C=d(H,Y,N,C,X,z)}}return c&&(C=o.conjugate(C)),U?o.finalExponentiate(C):C}function _(x,U=!0){const C=[];vn(t,x.map(({g1:W})=>W)),vn(r,x.map(({g2:W})=>W));for(const{g1:W,g2:$}of x){if(W.is0()||$.is0())throw new Error("pairing is not available for ZERO point");W.assertValidity(),$.assertValidity();const P=W.toAffine();C.push([k($),P.x,P.y])}return B(C,U)}function E(x,U,C=!0){return _([{g1:x,g2:U}],C)}return{Fp12:o,millerLoopBatch:B,pairing:E,pairingBatch:_,calcPairingPrecomputes:k}}function Eh(e,t,r,n,a){const{Fp12:o,pairingBatch:s}=e;function l(g){return g instanceof t.Point?g:t.Point.fromHex(g)}function c(g){return g instanceof r.Point?g:r.Point.fromHex(g)}function u(g){if(!(g instanceof r.Point))throw new Error(`expected valid message hashed to ${a?"G1":"G2"} curve`);return g}const d=a?(g,f)=>({g1:f,g2:g}):(g,f)=>({g1:g,g2:f});return{getPublicKey(g){const f=Ac(t.Point.Fn,g);return t.Point.BASE.multiply(f)},sign(g,f,p){if(p!=null)throw new Error("sign() expects 2 arguments");const h=Ac(t.Point.Fn,f);return u(g).assertValidity(),g.multiply(h)},verify(g,f,p,h){if(h!=null)throw new Error("verify() expects 3 arguments");g=c(g),p=l(p);const k=p.negate(),B=t.Point.BASE,_=u(f),E=g,x=s([d(k,_),d(B,E)]);return o.eql(x,o.ONE)},verifyBatch(g,f,p){if(xd(f),p.length!==f.length)throw new Error("amount of public keys and messages should be equal");const h=c(g),k=f,B=p.map(l),_=new Map;for(let U=0;U<B.length;U++){const C=B[U],W=k[U];let $=_.get(W);$===void 0&&($=[],_.set(W,$)),$.push(C)}const E=[],x=t.Point.BASE;try{for(const[U,C]of _){const W=C.reduce(($,P)=>$.add(P));E.push(d(W,U))}return E.push(d(x.negate(),h)),o.eql(s(E),o.ONE)}catch{return!1}},aggregatePublicKeys(g){xd(g),g=g.map(p=>l(p));const f=g.reduce((p,h)=>p.add(h),t.Point.ZERO);return f.assertValidity(),f},aggregateSignatures(g){xd(g),g=g.map(p=>c(p));const f=g.reduce((p,h)=>p.add(h),r.Point.ZERO);return f.assertValidity(),f},hash(g,f){Ht(g);const p=f?{DST:f}:void 0;return r.hashToCurve(g,p)},Signature:n}}function VN(e){const{Fp:t,Fr:r,Fp2:n,Fp6:a,Fp12:o}=e.fields,s=vh(e.G1),l=Object.assign(s,gh(s.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),c=vh(e.G2),u=Object.assign(c,gh(c.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults})),d=zN(e.fields,l.Point,u.Point,{...e.params,postPrecompute:e.postPrecompute}),{millerLoopBatch:g,pairing:f,pairingBatch:p,calcPairingPrecomputes:h}=d,k=Eh(d,l,u,e.G2.Signature,!1),B=Eh(d,u,l,e.G1.ShortSignature,!0),_=e.randomBytes||$1,E=()=>{const Q=uw(r.ORDER);return EN(_(Q),r.ORDER)},x={randomSecretKey:E,randomPrivateKey:E,calcPairingPrecomputes:h},{ShortSignature:U}=e.G1,{Signature:C}=e.G2;function W(Q,ae){return Q instanceof l.Point?Q:B.hash(Zt("point",Q),ae==null?void 0:ae.DST)}function $(Q,ae){return Q instanceof u.Point?Q:k.hash(Zt("point",Q),ae==null?void 0:ae.DST)}function P(Q){return k.getPublicKey(Q).toBytes(!0)}function X(Q){return B.getPublicKey(Q).toBytes(!0)}function z(Q,ae,fe){const le=$(Q,fe),de=k.sign(le,ae);return Q instanceof u.Point?de:C.toBytes(de)}function H(Q,ae,fe){const le=W(Q,fe),de=B.sign(le,ae);return Q instanceof l.Point?de:U.toBytes(de)}function Y(Q,ae,fe,le){const de=$(ae,le);return k.verify(Q,de,fe)}function N(Q,ae,fe,le){const de=W(ae,le);return B.verify(Q,de,fe)}function O(Q){const ae=k.aggregatePublicKeys(Q);return Q[0]instanceof l.Point?ae:ae.toBytes(!0)}function G(Q){const ae=k.aggregateSignatures(Q);return Q[0]instanceof u.Point?ae:C.toBytes(ae)}function D(Q){const ae=B.aggregateSignatures(Q);return Q[0]instanceof l.Point?ae:U.toBytes(ae)}function ne(Q,ae,fe,le){const de=ae.map(_e=>$(_e,le));return k.verifyBatch(Q,de,fe)}return l.Point.BASE.precompute(4),{longSignatures:k,shortSignatures:B,millerLoopBatch:g,pairing:f,pairingBatch:p,verifyBatch:ne,fields:{Fr:r,Fp:t,Fp2:n,Fp6:a,Fp12:o},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:x,getPublicKey:P,getPublicKeyForShortSignatures:X,sign:z,signShortSignature:H,verify:Y,verifyShortSignature:N,aggregatePublicKeys:O,aggregateSignatures:G,aggregateShortSignatures:D,G1:l,G2:u,Signature:C,ShortSignature:U}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bh=BigInt(0),Ai=BigInt(1),fn=BigInt(2),xh=BigInt(3);function _d(e,t,r,n,a=1,o){const s=BigInt(o===void 0?n:o),l=r**BigInt(n),c=[];for(let u=0;u<a;u++){const d=BigInt(u+1),g=[];for(let f=0,p=Ai;f<n;f++){const h=(d*p-d)/s%l;g.push(e.pow(t,h)),p*=r}c.push(g)}return c}function WN(e,t,r){const n=t.pow(r,(e.ORDER-Ai)/xh),a=t.pow(r,(e.ORDER-Ai)/fn);function o(f,p){const h=t.mul(t.frobeniusMap(f,1),n),k=t.mul(t.frobeniusMap(p,1),a);return[h,k]}const s=t.pow(r,(e.ORDER**fn-Ai)/xh),l=t.pow(r,(e.ORDER**fn-Ai)/fn);if(!t.eql(l,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function c(f,p){return[t.mul(f,s),t.neg(p)]}const u=f=>(p,h)=>{const k=h.toAffine(),B=f(k.x,k.y);return p.fromAffine({x:B[0],y:B[1]})},d=u(o),g=u(c);return{psi:o,psi2:c,G2psi:d,G2psi2:g,PSI_X:n,PSI_Y:a,PSI2_X:s,PSI2_Y:l}}function $N(e){const{ORDER:t}=e,r=ga(t),n=r.create(e.NONRESIDUE||BigInt(-1)),a=r.div(r.ONE,fn),o=_d(r,n,r.ORDER,2)[0],s=({c0:N,c1:O},{c0:G,c1:D})=>({c0:r.add(N,G),c1:r.add(O,D)}),l=({c0:N,c1:O},{c0:G,c1:D})=>({c0:r.sub(N,G),c1:r.sub(O,D)}),c=({c0:N,c1:O},G)=>{if(typeof G=="bigint")return{c0:r.mul(N,G),c1:r.mul(O,G)};const{c0:D,c1:ne}=G;let Q=r.mul(N,D),ae=r.mul(O,ne);const fe=r.sub(Q,ae),le=r.sub(r.mul(r.add(N,O),r.add(D,ne)),r.add(Q,ae));return{c0:fe,c1:le}},u=({c0:N,c1:O})=>{const G=r.add(N,O),D=r.sub(N,O),ne=r.add(N,N);return{c0:r.mul(G,D),c1:r.mul(ne,O)}},d=N=>{if(N.length!==2)throw new Error("invalid tuple");const O=N.map(G=>r.create(G));return{c0:O[0],c1:O[1]}};function g(N,O){return typeof N=="bigint"&&bh<=N&&N<O}const f=t*t,p=d(e.FP2_NONRESIDUE),h={ORDER:f,isLE:r.isLE,NONRESIDUE:p,BITS:Vi(f),BYTES:Math.ceil(Vi(f)/8),MASK:Pa(Vi(f)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:N=>N,isValid:({c0:N,c1:O})=>g(N,f)&&g(O,f),is0:({c0:N,c1:O})=>r.is0(N)&&r.is0(O),isValidNot0:N=>!h.is0(N)&&h.isValid(N),eql:({c0:N,c1:O},{c0:G,c1:D})=>r.eql(N,G)&&r.eql(O,D),neg:({c0:N,c1:O})=>({c0:r.neg(N),c1:r.neg(O)}),pow:(N,O)=>Cl(h,N,O),invertBatch:N=>Oa(h,N),add:s,sub:l,mul:c,sqr:u,addN:s,subN:l,mulN:c,sqrN:u,div:(N,O)=>h.mul(N,typeof O=="bigint"?r.inv(r.create(O)):h.inv(O)),inv:({c0:N,c1:O})=>{const G=r.inv(r.create(N*N+O*O));return{c0:r.mul(G,r.create(N)),c1:r.mul(G,r.create(-O))}},sqrt:N=>{if(e.Fp2sqrt)return e.Fp2sqrt(N);const{c0:O,c1:G}=N;if(r.is0(G))return kc(r,O)===1?h.create({c0:r.sqrt(O),c1:r.ZERO}):h.create({c0:r.ZERO,c1:r.sqrt(r.div(O,n))});const D=r.sqrt(r.sub(r.sqr(O),r.mul(r.sqr(G),n)));let ne=r.mul(r.add(D,O),a);kc(r,ne)===-1&&(ne=r.sub(ne,D));const ae=r.sqrt(ne),fe=h.create({c0:ae,c1:r.div(r.mul(G,a),ae)});if(!h.eql(h.sqr(fe),N))throw new Error("Cannot find square root");const le=fe,de=h.neg(le),{re:_e,im:T}=h.reim(le),{re:he,im:we}=h.reim(de);return T>we||T===we&&_e>he?le:de},isOdd:N=>{const{re:O,im:G}=h.reim(N),D=O%fn,ne=O===bh,Q=G%fn;return BigInt(D||ne&&Q)==Ai},fromBytes(N){if(N.length!==h.BYTES)throw new Error("fromBytes invalid length="+N.length);return{c0:r.fromBytes(N.subarray(0,r.BYTES)),c1:r.fromBytes(N.subarray(r.BYTES))}},toBytes:({c0:N,c1:O})=>pt(r.toBytes(N),r.toBytes(O)),cmov:({c0:N,c1:O},{c0:G,c1:D},ne)=>({c0:r.cmov(N,G,ne),c1:r.cmov(O,D,ne)}),reim:({c0:N,c1:O})=>({re:N,im:O}),mulByNonresidue:({c0:N,c1:O})=>h.mul({c0:N,c1:O},p),mulByB:e.Fp2mulByB,fromBigTuple:d,frobeniusMap:({c0:N,c1:O},G)=>({c0:N,c1:r.mul(O,o[G%2])})},k=({c0:N,c1:O,c2:G},{c0:D,c1:ne,c2:Q})=>({c0:h.add(N,D),c1:h.add(O,ne),c2:h.add(G,Q)}),B=({c0:N,c1:O,c2:G},{c0:D,c1:ne,c2:Q})=>({c0:h.sub(N,D),c1:h.sub(O,ne),c2:h.sub(G,Q)}),_=({c0:N,c1:O,c2:G},D)=>{if(typeof D=="bigint")return{c0:h.mul(N,D),c1:h.mul(O,D),c2:h.mul(G,D)};const{c0:ne,c1:Q,c2:ae}=D,fe=h.mul(N,ne),le=h.mul(O,Q),de=h.mul(G,ae);return{c0:h.add(fe,h.mulByNonresidue(h.sub(h.mul(h.add(O,G),h.add(Q,ae)),h.add(le,de)))),c1:h.add(h.sub(h.mul(h.add(N,O),h.add(ne,Q)),h.add(fe,le)),h.mulByNonresidue(de)),c2:h.sub(h.add(le,h.mul(h.add(N,G),h.add(ne,ae))),h.add(fe,de))}},E=({c0:N,c1:O,c2:G})=>{let D=h.sqr(N),ne=h.mul(h.mul(N,O),fn),Q=h.mul(h.mul(O,G),fn),ae=h.sqr(G);return{c0:h.add(h.mulByNonresidue(Q),D),c1:h.add(h.mulByNonresidue(ae),ne),c2:h.sub(h.sub(h.add(h.add(ne,h.sqr(h.add(h.sub(N,O),G))),Q),D),ae)}},[x,U]=_d(h,p,r.ORDER,6,2,3),C={ORDER:h.ORDER,isLE:h.isLE,BITS:3*h.BITS,BYTES:3*h.BYTES,MASK:Pa(3*h.BITS),ZERO:{c0:h.ZERO,c1:h.ZERO,c2:h.ZERO},ONE:{c0:h.ONE,c1:h.ZERO,c2:h.ZERO},create:N=>N,isValid:({c0:N,c1:O,c2:G})=>h.isValid(N)&&h.isValid(O)&&h.isValid(G),is0:({c0:N,c1:O,c2:G})=>h.is0(N)&&h.is0(O)&&h.is0(G),isValidNot0:N=>!C.is0(N)&&C.isValid(N),neg:({c0:N,c1:O,c2:G})=>({c0:h.neg(N),c1:h.neg(O),c2:h.neg(G)}),eql:({c0:N,c1:O,c2:G},{c0:D,c1:ne,c2:Q})=>h.eql(N,D)&&h.eql(O,ne)&&h.eql(G,Q),sqrt:dh,div:(N,O)=>C.mul(N,typeof O=="bigint"?r.inv(r.create(O)):C.inv(O)),pow:(N,O)=>Cl(C,N,O),invertBatch:N=>Oa(C,N),add:k,sub:B,mul:_,sqr:E,addN:k,subN:B,mulN:_,sqrN:E,inv:({c0:N,c1:O,c2:G})=>{let D=h.sub(h.sqr(N),h.mulByNonresidue(h.mul(G,O))),ne=h.sub(h.mulByNonresidue(h.sqr(G)),h.mul(N,O)),Q=h.sub(h.sqr(O),h.mul(N,G)),ae=h.inv(h.add(h.mulByNonresidue(h.add(h.mul(G,ne),h.mul(O,Q))),h.mul(N,D)));return{c0:h.mul(ae,D),c1:h.mul(ae,ne),c2:h.mul(ae,Q)}},fromBytes:N=>{if(N.length!==C.BYTES)throw new Error("fromBytes invalid length="+N.length);return{c0:h.fromBytes(N.subarray(0,h.BYTES)),c1:h.fromBytes(N.subarray(h.BYTES,2*h.BYTES)),c2:h.fromBytes(N.subarray(2*h.BYTES))}},toBytes:({c0:N,c1:O,c2:G})=>pt(h.toBytes(N),h.toBytes(O),h.toBytes(G)),cmov:({c0:N,c1:O,c2:G},{c0:D,c1:ne,c2:Q},ae)=>({c0:h.cmov(N,D,ae),c1:h.cmov(O,ne,ae),c2:h.cmov(G,Q,ae)}),fromBigSix:N=>{if(!Array.isArray(N)||N.length!==6)throw new Error("invalid Fp6 usage");return{c0:h.fromBigTuple(N.slice(0,2)),c1:h.fromBigTuple(N.slice(2,4)),c2:h.fromBigTuple(N.slice(4,6))}},frobeniusMap:({c0:N,c1:O,c2:G},D)=>({c0:h.frobeniusMap(N,D),c1:h.mul(h.frobeniusMap(O,D),x[D%6]),c2:h.mul(h.frobeniusMap(G,D),U[D%6])}),mulByFp2:({c0:N,c1:O,c2:G},D)=>({c0:h.mul(N,D),c1:h.mul(O,D),c2:h.mul(G,D)}),mulByNonresidue:({c0:N,c1:O,c2:G})=>({c0:h.mulByNonresidue(G),c1:N,c2:O}),mul1:({c0:N,c1:O,c2:G},D)=>({c0:h.mulByNonresidue(h.mul(G,D)),c1:h.mul(N,D),c2:h.mul(O,D)}),mul01({c0:N,c1:O,c2:G},D,ne){let Q=h.mul(N,D),ae=h.mul(O,ne);return{c0:h.add(h.mulByNonresidue(h.sub(h.mul(h.add(O,G),ne),ae)),Q),c1:h.sub(h.sub(h.mul(h.add(D,ne),h.add(N,O)),Q),ae),c2:h.add(h.sub(h.mul(h.add(N,G),D),Q),ae)}}},W=_d(h,p,r.ORDER,12,1,6)[0],$=({c0:N,c1:O},{c0:G,c1:D})=>({c0:C.add(N,G),c1:C.add(O,D)}),P=({c0:N,c1:O},{c0:G,c1:D})=>({c0:C.sub(N,G),c1:C.sub(O,D)}),X=({c0:N,c1:O},G)=>{if(typeof G=="bigint")return{c0:C.mul(N,G),c1:C.mul(O,G)};let{c0:D,c1:ne}=G,Q=C.mul(N,D),ae=C.mul(O,ne);return{c0:C.add(Q,C.mulByNonresidue(ae)),c1:C.sub(C.mul(C.add(N,O),C.add(D,ne)),C.add(Q,ae))}},z=({c0:N,c1:O})=>{let G=C.mul(N,O);return{c0:C.sub(C.sub(C.mul(C.add(C.mulByNonresidue(O),N),C.add(N,O)),G),C.mulByNonresidue(G)),c1:C.add(G,G)}};function H(N,O){const G=h.sqr(N),D=h.sqr(O);return{first:h.add(h.mulByNonresidue(D),G),second:h.sub(h.sub(h.sqr(h.add(N,O)),G),D)}}const Y={ORDER:h.ORDER,isLE:C.isLE,BITS:2*C.BITS,BYTES:2*C.BYTES,MASK:Pa(2*C.BITS),ZERO:{c0:C.ZERO,c1:C.ZERO},ONE:{c0:C.ONE,c1:C.ZERO},create:N=>N,isValid:({c0:N,c1:O})=>C.isValid(N)&&C.isValid(O),is0:({c0:N,c1:O})=>C.is0(N)&&C.is0(O),isValidNot0:N=>!Y.is0(N)&&Y.isValid(N),neg:({c0:N,c1:O})=>({c0:C.neg(N),c1:C.neg(O)}),eql:({c0:N,c1:O},{c0:G,c1:D})=>C.eql(N,G)&&C.eql(O,D),sqrt:dh,inv:({c0:N,c1:O})=>{let G=C.inv(C.sub(C.sqr(N),C.mulByNonresidue(C.sqr(O))));return{c0:C.mul(N,G),c1:C.neg(C.mul(O,G))}},div:(N,O)=>Y.mul(N,typeof O=="bigint"?r.inv(r.create(O)):Y.inv(O)),pow:(N,O)=>Cl(Y,N,O),invertBatch:N=>Oa(Y,N),add:$,sub:P,mul:X,sqr:z,addN:$,subN:P,mulN:X,sqrN:z,fromBytes:N=>{if(N.length!==Y.BYTES)throw new Error("fromBytes invalid length="+N.length);return{c0:C.fromBytes(N.subarray(0,C.BYTES)),c1:C.fromBytes(N.subarray(C.BYTES))}},toBytes:({c0:N,c1:O})=>pt(C.toBytes(N),C.toBytes(O)),cmov:({c0:N,c1:O},{c0:G,c1:D},ne)=>({c0:C.cmov(N,G,ne),c1:C.cmov(O,D,ne)}),fromBigTwelve:N=>({c0:C.fromBigSix(N.slice(0,6)),c1:C.fromBigSix(N.slice(6,12))}),frobeniusMap(N,O){const{c0:G,c1:D,c2:ne}=C.frobeniusMap(N.c1,O),Q=W[O%12];return{c0:C.frobeniusMap(N.c0,O),c1:C.create({c0:h.mul(G,Q),c1:h.mul(D,Q),c2:h.mul(ne,Q)})}},mulByFp2:({c0:N,c1:O},G)=>({c0:C.mulByFp2(N,G),c1:C.mulByFp2(O,G)}),conjugate:({c0:N,c1:O})=>({c0:N,c1:C.neg(O)}),mul014:({c0:N,c1:O},G,D,ne)=>{let Q=C.mul01(N,G,D),ae=C.mul1(O,ne);return{c0:C.add(C.mulByNonresidue(ae),Q),c1:C.sub(C.sub(C.mul01(C.add(O,N),G,h.add(D,ne)),Q),ae)}},mul034:({c0:N,c1:O},G,D,ne)=>{const Q=C.create({c0:h.mul(N.c0,G),c1:h.mul(N.c1,G),c2:h.mul(N.c2,G)}),ae=C.mul01(O,D,ne),fe=C.mul01(C.add(N,O),h.add(G,D),ne);return{c0:C.add(C.mulByNonresidue(ae),Q),c1:C.sub(fe,C.add(Q,ae))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:r,Fp2:h,Fp6:C,Fp12:Y,Fp4Square:H}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jt=BigInt(0),Cc=BigInt(1),kt=BigInt(2),pu=BigInt(3),ps=BigInt(4),In=BigInt("0xd201000000010000"),jN=Vi(In),Ya={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:jt,b:ps,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},IN=ga(Ya.n,{modOnDecode:!0}),{Fp:Te,Fp2:Se,Fp6:Kf,Fp4Square:Sd,Fp12:We}=$N({ORDER:Ya.p,FP2_NONRESIDUE:[Cc,Cc],Fp2mulByB:({c0:e,c1:t})=>{const r=Te.mul(e,ps),n=Te.mul(t,ps);return{c0:Te.sub(r,n),c1:Te.add(r,n)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:r,c1:n,c2:a}=e,{c0:o,c1:s,c2:l}=t,{first:c,second:u}=Sd(r,s),{first:d,second:g}=Sd(o,a),{first:f,second:p}=Sd(n,l),h=Se.mulByNonresidue(p);return{c0:Kf.create({c0:Se.add(Se.mul(Se.sub(c,r),kt),c),c1:Se.add(Se.mul(Se.sub(d,n),kt),d),c2:Se.add(Se.mul(Se.sub(f,a),kt),f)}),c1:Kf.create({c0:Se.add(Se.mul(Se.add(h,o),kt),h),c1:Se.add(Se.mul(Se.add(u,s),kt),u),c2:Se.add(Se.mul(Se.add(g,l),kt),g)})}},Fp12cyclotomicExp(e,t){let r=We.ONE;for(let n=jN-1;n>=0;n--)r=We._cyclotomicSquare(r),uN(t,n)&&(r=We.mul(r,e));return r},Fp12finalExponentiate:e=>{const t=In,r=We.div(We.frobeniusMap(e,6),e),n=We.mul(We.frobeniusMap(r,2),r),a=We.conjugate(We._cyclotomicExp(n,t)),o=We.mul(We.conjugate(We._cyclotomicSquare(n)),a),s=We.conjugate(We._cyclotomicExp(o,t)),l=We.conjugate(We._cyclotomicExp(s,t)),c=We.mul(We.conjugate(We._cyclotomicExp(l,t)),We._cyclotomicSquare(a)),u=We.conjugate(We._cyclotomicExp(c,t)),d=We.frobeniusMap(We.mul(a,l),2),g=We.frobeniusMap(We.mul(s,n),3),f=We.frobeniusMap(We.mul(c,We.conjugate(n)),1),p=We.mul(We.mul(u,We.conjugate(o)),n);return We.mul(We.mul(We.mul(d,g),f),p)}}),{G2psi:_h,G2psi2:HN}=WN(Te,Se,Se.div(Se.ONE,Se.NONRESIDUE)),Nd=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Te.ORDER,m:2,k:128,expand:"xmd",hash:om}),vm={p:Se.ORDER,n:Ya.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Se.ZERO,b:Se.fromBigTuple([ps,ps]),Gx:Se.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Se.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},hu=Fs(Te.toBytes(jt),{infinity:!0,compressed:!0});function gu(e){e=e.slice();const t=e[0]&224,r=!!(t>>7&1),n=!!(t>>6&1),a=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:n,sort:a,value:e}}function Fs(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function GN(e,t,r){const{BYTES:n,ORDER:a}=Te,o=t.is0(),{x:s,y:l}=t.toAffine();if(r){if(o)return hu.slice();const c=!!(l*kt/a);return Fs(Bt(s,n),{compressed:!0,sort:c})}else return o?pt(Uint8Array.of(64),new Uint8Array(2*n-1)):pt(Bt(s,n),Bt(l,n))}function kd(e){e.assertValidity();const{BYTES:t,ORDER:r}=Te,{x:n,y:a}=e.toAffine();if(e.is0())return hu.slice();const o=!!(a*kt/r);return Fs(Bt(n,t),{compressed:!0,sort:o})}function qN(e){const{compressed:t,infinity:r,sort:n,value:a}=gu(e),{BYTES:o,ORDER:s}=Te;if(a.length===48&&t){const l=en(a),c=Te.create(l&Te.MASK);if(r){if(c!==jt)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:jt,y:jt}}const u=Te.add(Te.pow(c,pu),Te.create(Ya.b));let d=Te.sqrt(u);if(!d)throw new Error("invalid G1 point: compressed point");return d*kt/s!==BigInt(n)&&(d=Te.neg(d)),{x:Te.create(c),y:Te.create(d)}}else if(a.length===96&&!t){const l=en(a.subarray(0,o)),c=en(a.subarray(o));if(r){if(l!==jt||c!==jt)throw new Error("G1: non-empty point at infinity");return yu.G1.Point.ZERO.toAffine()}return{x:Te.create(l),y:Te.create(c)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function Sh(e){const{infinity:t,sort:r,value:n}=gu(Zt("signatureHex",e,48)),a=Te.ORDER,o=yu.G1.Point,s=en(n);if(t)return o.ZERO;const l=Te.create(s&Te.MASK),c=Te.add(Te.pow(l,pu),Te.create(Ya.b));let u=Te.sqrt(c);if(!u)throw new Error("invalid G1 point: compressed");const d=BigInt(r);u*kt/a!==d&&(u=Te.neg(u));const g=o.fromAffine({x:l,y:u});return g.assertValidity(),g}function KN(e,t,r){const{BYTES:n,ORDER:a}=Te,o=t.is0(),{x:s,y:l}=t.toAffine();if(r){if(o)return pt(hu,Bt(jt,n));const c=!!(l.c1===jt?l.c0*kt/a:l.c1*kt/a);return pt(Fs(Bt(s.c1,n),{compressed:!0,sort:c}),Bt(s.c0,n))}else{if(o)return pt(Uint8Array.of(64),new Uint8Array(4*n-1));const{re:c,im:u}=Se.reim(s),{re:d,im:g}=Se.reim(l);return pt(Bt(u,n),Bt(c,n),Bt(g,n),Bt(d,n))}}function Td(e){e.assertValidity();const{BYTES:t}=Te;if(e.is0())return pt(hu,Bt(jt,t));const{x:r,y:n}=e.toAffine(),{re:a,im:o}=Se.reim(r),{re:s,im:l}=Se.reim(n),u=!!((l>jt?l*kt:s*kt)/Te.ORDER&Cc),d=a;return pt(Fs(Bt(o,t),{sort:u,compressed:!0}),Bt(d,t))}function YN(e){const{BYTES:t,ORDER:r}=Te,{compressed:n,infinity:a,sort:o,value:s}=gu(e);if(!n&&!a&&o||!n&&a&&o||o&&a&&n)throw new Error("invalid encoding flag: "+(e[0]&224));const l=(c,u,d)=>en(c.slice(u,d));if(s.length===96&&n){if(a){if(s.reduce((h,k)=>h!==0?k+1:k,0)>0)throw new Error("invalid G2 point: compressed");return{x:Se.ZERO,y:Se.ZERO}}const c=l(s,0,t),u=l(s,t,2*t),d=Se.create({c0:Te.create(u),c1:Te.create(c)}),g=Se.add(Se.pow(d,pu),vm.b);let f=Se.sqrt(g);const p=f.c1===jt?f.c0*kt/r:f.c1*kt/r?Cc:jt;return f=o&&p>0?f:Se.neg(f),{x:d,y:f}}else if(s.length===192&&!n){if(a){if(s.reduce((f,p)=>f!==0?p+1:p,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Se.ZERO,y:Se.ZERO}}const c=l(s,0*t,1*t),u=l(s,1*t,2*t),d=l(s,2*t,3*t),g=l(s,3*t,4*t);return{x:Se.fromBigTuple([u,c]),y:Se.fromBigTuple([g,d])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function Nh(e){const{ORDER:t}=Te,{infinity:r,sort:n,value:a}=gu(Zt("signatureHex",e)),o=yu.G2.Point,s=a.length/2;if(s!==48&&s!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const l=en(a.slice(0,s)),c=en(a.slice(s));if(r)return o.ZERO;const u=Te.create(l&Te.MASK),d=Te.create(c),g=Se.create({c0:d,c1:u}),f=Se.add(Se.pow(g,pu),vm.b);let p=Se.sqrt(f);if(!p)throw new Error("Failed to find a square root");const{re:h,im:k}=Se.reim(p),B=BigInt(n),_=k>jt&&k*kt/t!==B,E=k===jt&&h*kt/t!==B;(_||E)&&(p=Se.neg(p));const x=o.fromAffine({x:g,y:p});return x.assertValidity(),x}const yu=VN({fields:{Fp:Te,Fp2:Se,Fp6:Kf,Fp12:We,Fr:IN},G1:{...Ya,Fp:Te,htfDefaults:{...Nd,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new e(Te.mul(t.X,r),t.Y,t.Z);return t.multiplyUnsafe(In).negate().multiplyUnsafe(In).equals(n)},clearCofactor:(e,t)=>t.multiplyUnsafe(In).add(t),mapToCurve:LN,fromBytes:qN,toBytes:GN,ShortSignature:{fromBytes(e){return Ht(e),Sh(e)},fromHex(e){return Sh(e)},toBytes(e){return kd(e)},toRawBytes(e){return kd(e)},toHex(e){return Qi(kd(e))}}},G2:{...vm,Fp:Se,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Nd},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:DN,isTorsionFree:(e,t)=>t.multiplyUnsafe(In).negate().equals(_h(e,t)),clearCofactor:(e,t)=>{const r=In;let n=t.multiplyUnsafe(r).negate(),a=_h(e,t),o=t.double();return o=HN(e,o),o=o.subtract(a),a=n.add(a),a=a.multiplyUnsafe(r).negate(),o=o.add(a),o=o.subtract(n),o.subtract(t)},fromBytes:YN,toBytes:KN,Signature:{fromBytes(e){return Ht(e),Nh(e)},fromHex(e){return Nh(e)},toBytes(e){return Td(e)},toRawBytes(e){return Td(e)},toHex(e){return Qi(Td(e))}}},params:{ateLoopSize:In,r:Ya.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:Nd,hash:om}),QN=yw(Se,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>Se.fromBigTuple(t.map(BigInt))))),ZN=yw(Te,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),XN=ww(Te,{A:Te.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Te.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Te.create(BigInt(11))}),JN=ww(Se,{A:Se.create({c0:Te.create(jt),c1:Te.create(BigInt(240))}),B:Se.create({c0:Te.create(BigInt(1012)),c1:Te.create(BigInt(1012))}),Z:Se.create({c0:Te.create(BigInt(-2)),c1:Te.create(BigInt(-1))})});function LN(e){const{x:t,y:r}=XN(Te.create(e[0]));return ZN(t,r)}function DN(e){const{x:t,y:r}=JN(Se.fromBigTuple(e));return QN(t,r)}function e6(e,t,r){const n=typeof e=="string"?e:et(e),a=typeof t=="string"?t:et(t),o=typeof r=="string"?r:et(r);return yu.verifyShortSignature(a,o,n)}const Ew=e=>St(new no(e)),wm=e=>{const t=Ew(e);return new Date(Number(t)/1e6)};var t6=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},r6=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Bl;class Qr extends ct{constructor(t){super(`Invalid certificate: ${t}`)}}var lr;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(lr||(lr={}));function n6(e,t){const r=new Uint8Array(e),n=new Uint8Array(t);for(let a=0;a<r.length;a++)if(r[a]>n[a])return!0;return!1}class Ma{constructor(t,r,n,a,o=5,s=!1){this._rootKey=r,this._canisterId=n,this._blsVerify=a,this._maxAgeInMinutes=o,Bl.set(this,!1),t6(this,Bl,s,"f"),this.cert=yn(new Uint8Array(t))}static async create(t){const r=Ma.createUnverified(t);return await r.verify(),r}static createUnverified(t){let r=t.blsVerify;return r||(r=e6),new Ma(t.certificate,t.rootKey,t.canisterId,r,t.maxAgeInMinutes,t.disableTimeVerification)}lookup(t){return Ji(t,this.cert.tree)}lookup_label(t){return this.lookup([t])}async verify(){const t=await Rl(this.cert.tree),r=await this._checkDelegationAndGetKey(this.cert.delegation),n=this.cert.signature,a=i6(r),o=Ur(_o("ic-state-root"),t);let s=!1;const l=vr(this.lookup(["time"]));if(!l)throw new Qr("Certificate does not contain a time");if(!r6(this,Bl,"f")){const u=this._maxAgeInMinutes*60*1e3,d=Date.now(),g=d-u,f=d+3e5,p=wm(l);if(p.getTime()<g)throw new Qr(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+p.toISOString()+" Current time: "+new Date(d).toISOString());if(p.getTime()>f)throw new Qr("Certificate is signed more than 5 minutes in the future. Certificate time: "+p.toISOString()+" Current time: "+new Date(d).toISOString())}try{s=await this._blsVerify(new Uint8Array(a),new Uint8Array(n),new Uint8Array(o))}catch{s=!1}if(!s)throw new Qr("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const r=await Ma.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(r.cert.delegation)throw new Qr("Delegation certificates cannot be nested");if(await r.verify(),this._canisterId.toString()!==B6&&!bw({canisterId:this._canisterId,subnetId:Oe.fromUint8Array(new Uint8Array(t.subnet_id)),tree:r.cert.tree}))throw new Qr(`Canister ${this._canisterId} not in range of delegations for subnet 0x${et(t.subnet_id)}`);const n=vr(r.lookup(["subnet",t.subnet_id,"public_key"]));if(!n)throw new Error(`Could not find subnet key for subnet 0x${et(t.subnet_id)}`);return n}}Bl=new WeakMap;const go=xn("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),a6=96;function i6(e){const t=go.byteLength+a6;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);const r=e.slice(0,go.byteLength);if(!Ts(r,go))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${go}, but get ${r}`);return e.slice(go.byteLength)}function vr(e){if(e.status===Et.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function Rl(e){switch(e[0]){case lr.Empty:return Fr(_o("ic-hashtree-empty"));case lr.Pruned:return e[1];case lr.Leaf:return Fr(Ur(_o("ic-hashtree-leaf"),e[1]));case lr.Labeled:return Fr(Ur(_o("ic-hashtree-labeled"),e[1],await Rl(e[2])));case lr.Fork:return Fr(Ur(_o("ic-hashtree-fork"),await Rl(e[1]),await Rl(e[2])));default:throw new Error("unreachable")}}function _o(e){const t=new Uint8Array([e.length]),r=new TextEncoder().encode(e);return Ur(t,r)}var Et;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(Et||(Et={}));var mn;(function(e){e.Less="less",e.Greater="greater"})(mn||(mn={}));function Ji(e,t){if(e.length===0)switch(t[0]){case lr.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:Et.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:Et.Found,value:t[1].buffer}:{status:Et.Found,value:t[1]}}default:return{status:Et.Found,value:t}}const r=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],n=Fl(r,t);switch(n.status){case Et.Found:return Ji(e.slice(1),n.value);case mn.Greater:case mn.Less:return{status:Et.Absent};default:return n}}function Yf(e){switch(e[0]){case lr.Empty:return[];case lr.Fork:return Yf(e[1]).concat(Yf(e[2]));default:return[e]}}function Fl(e,t){switch(t[0]){case lr.Labeled:return n6(e,t[1])?{status:mn.Greater}:Ts(e,t[1])?{status:Et.Found,value:t[2]}:{status:mn.Less};case lr.Fork:const r=Fl(e,t[1]);switch(r.status){case mn.Greater:{const n=Fl(e,t[2]);return n.status===mn.Less?{status:Et.Absent}:n}case Et.Unknown:{let n=Fl(e,t[2]);return n.status===mn.Less?{status:Et.Unknown}:n}default:return r}case lr.Pruned:return{status:Et.Unknown};default:return{status:Et.Absent}}}function bw(e){const{canisterId:t,subnetId:r,tree:n}=e,a=Ji(["subnet",r.toUint8Array(),"canister_ranges"],n);if(a.status!==Et.Found||!(a.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);return yn(a.value).map(c=>[Oe.fromUint8Array(c[0]),Oe.fromUint8Array(c[1])]).some(c=>c[0].ltEq(t)&&c[1].gtEq(t))}class o6{constructor(t,r,n){this.key=t,this.path=r,this.decodeStrategy=n}}const xw=async e=>{const{agent:t,paths:r}=e,n=Oe.from(e.canisterId),a=[...new Set(r)],o=a.map(c=>Qf(c,n)),s=new Map,l=a.map((c,u)=>(async()=>{var d;try{const g=await t.readState(n,{paths:[o[u]]});if(t.rootKey==null)throw new Error("Agent is missing root key");const f=await Ma.create({certificate:g.certificate,rootKey:t.rootKey,canisterId:n,disableTimeVerification:!0}),p=(B,_)=>{if(_==="subnet"){if(t.rootKey==null)throw new Error("Agent is missing root key");const E=_w(g.certificate,n,t.rootKey);return{path:_,data:E}}else return{path:_,data:vr(B.lookup(Qf(_,n)))}},{path:h,data:k}=p(f,a[u]);if(!k)console.warn(`Expected to find result for path ${h}, but instead found nothing.`),typeof h=="string"?s.set(h,null):s.set(h.key,null);else switch(h){case"time":{s.set(h,wm(k));break}case"controllers":{s.set(h,l6(k));break}case"module_hash":{s.set(h,kh(k));break}case"subnet":{s.set(h,k);break}case"candid":{s.set(h,new TextDecoder().decode(k));break}default:if(typeof h!="string"&&"key"in h&&"path"in h)switch(h.decodeStrategy){case"raw":s.set(h.key,k);break;case"leb128":{s.set(h.key,Ew(k));break}case"cbor":{s.set(h.key,Sw(k));break}case"hex":{s.set(h.key,kh(k));break}case"utf-8":s.set(h.key,s6(k))}}}catch(g){if(!((d=g==null?void 0:g.message)===null||d===void 0)&&d.includes("Invalid certificate"))throw new ct(g.message);typeof c!="string"&&"key"in c&&"path"in c?s.set(c.key,null):s.set(c,null),console.group(),console.warn(`Expected to find result for path ${c}, but instead found nothing.`),console.warn(g),console.groupEnd()}})());return await Promise.all(l),s},_w=(e,t,r)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");const n=yn(new Uint8Array(e)),a=n.tree;let o=n.delegation,s;if(o&&o.subnet_id?s=Oe.fromUint8Array(new Uint8Array(o.subnet_id)):!o&&typeof r<"u"?(s=Oe.selfAuthenticating(new Uint8Array(r)),o={subnet_id:s.toUint8Array(),certificate:new ArrayBuffer(0)}):(s=Oe.selfAuthenticating(Oe.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),o={subnet_id:s.toUint8Array(),certificate:new ArrayBuffer(0)}),!bw({canisterId:t,subnetId:s,tree:a}))throw new Error("Canister not in range");const c=Ji(["subnet",o.subnet_id,"node"],a);if(c.status!==Et.Found)throw new Error("Node not found");if(c.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const u=Yf(c.value),d=new Map;return u.forEach(g=>{const f=Oe.from(new Uint8Array(g[1])).toText(),p=Ji(["public_key"],g[2]);if(p.status!==Et.Found)throw new Error("Public key not found");const h=p.value;if(h.byteLength!==44)throw new Error("Invalid public key length");d.set(f,h)}),{subnetId:Oe.fromUint8Array(new Uint8Array(o.subnet_id)).toText(),nodeKeys:d}},Qf=(e,t)=>{const r=new TextEncoder,n=o=>new DataView(r.encode(o).buffer).buffer,a=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[n("time")];case"controllers":return[n("canister"),a,n("controllers")];case"module_hash":return[n("canister"),a,n("module_hash")];case"subnet":return[n("subnet")];case"candid":return[n("canister"),a,n("metadata"),n("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const o=e.path,s=typeof o=="string"?n(o):o;return[n("canister"),a,n("metadata"),s]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},kh=e=>et(e),Sw=e=>yn(e),s6=e=>new TextDecoder().decode(e),l6=e=>Sw(e).map(r=>Oe.fromUint8Array(new Uint8Array(r))),c6=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:o6,encodePath:Qf,fetchNodeKeys:_w,request:xw},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hr=BigInt(0),vt=BigInt(1),Ad=BigInt(2),u6=BigInt(8);function d6(e,t,r,n){const a=e.sqr(r),o=e.sqr(n),s=e.add(e.mul(t.a,a),o),l=e.add(e.ONE,e.mul(t.d,e.mul(a,o)));return e.eql(s,l)}function f6(e,t={}){const{Fp:r,Fn:n}=hw("edwards",e,t),{h:a,n:o}=e;Rs(t,{},{uvRatio:"function"});const s=Ad<<BigInt(n.BYTES*8)-vt,l=k=>r.create(k),c=t.uvRatio||((k,B)=>{try{return{isValid:!0,value:r.sqrt(r.div(k,B))}}catch{return{isValid:!1,value:Hr}}});if(!d6(r,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function u(k,B,_=!1){const E=_?vt:Hr;return xo("coordinate "+k,B,E,s),B}function d(k){if(!(k instanceof p))throw new Error("ExtendedPoint expected")}const g=fs((k,B)=>{const{X:_,Y:E,Z:x}=k,U=k.is0();B==null&&(B=U?u6:r.inv(x));const C=l(_*B),W=l(E*B),$=r.mul(x,B);if(U)return{x:Hr,y:vt};if($!==vt)throw new Error("invZ was invalid");return{x:C,y:W}}),f=fs(k=>{const{a:B,d:_}=e;if(k.is0())throw new Error("bad point: ZERO");const{X:E,Y:x,Z:U,T:C}=k,W=l(E*E),$=l(x*x),P=l(U*U),X=l(P*P),z=l(W*B),H=l(P*l(z+$)),Y=l(X+l(_*l(W*$)));if(H!==Y)throw new Error("bad point: equation left != right (1)");const N=l(E*x),O=l(U*C);if(N!==O)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(B,_,E,x){this.X=u("x",B),this.Y=u("y",_),this.Z=u("z",E,!0),this.T=u("t",x),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(B){return vn(p,B)}static msm(B,_){return pw(p,n,B,_)}_setWindowSize(B){this.precompute(B)}static fromAffine(B){if(B instanceof p)throw new Error("extended point not allowed");const{x:_,y:E}=B||{};return u("x",_),u("y",E),new p(_,E,vt,l(_*E))}precompute(B=8,_=!0){return h.createCache(this,B),_||this.multiply(Ad),this}assertValidity(){f(this)}equals(B){d(B);const{X:_,Y:E,Z:x}=this,{X:U,Y:C,Z:W}=B,$=l(_*W),P=l(U*x),X=l(E*W),z=l(C*x);return $===P&&X===z}is0(){return this.equals(p.ZERO)}negate(){return new p(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:B}=e,{X:_,Y:E,Z:x}=this,U=l(_*_),C=l(E*E),W=l(Ad*l(x*x)),$=l(B*U),P=_+E,X=l(l(P*P)-U-C),z=$+C,H=z-W,Y=$-C,N=l(X*H),O=l(z*Y),G=l(X*Y),D=l(H*z);return new p(N,O,D,G)}add(B){d(B);const{a:_,d:E}=e,{X:x,Y:U,Z:C,T:W}=this,{X:$,Y:P,Z:X,T:z}=B,H=l(x*$),Y=l(U*P),N=l(W*E*z),O=l(C*X),G=l((x+U)*($+P)-H-Y),D=O-N,ne=O+N,Q=l(Y-_*H),ae=l(G*D),fe=l(ne*Q),le=l(G*Q),de=l(D*ne);return new p(ae,fe,de,le)}subtract(B){return this.add(B.negate())}multiply(B){const _=B;xo("scalar",_,vt,o);const{p:E,f:x}=h.cached(this,_,U=>vn(p,U));return vn(p,[E,x])[0]}multiplyUnsafe(B,_=p.ZERO){const E=B;return xo("scalar",E,Hr,o),E===Hr?p.ZERO:this.is0()||E===vt?this:h.unsafe(this,E,x=>vn(p,x),_)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return h.unsafe(this,o).is0()}toAffine(B){return g(this,B)}clearCofactor(){return a===vt?this:this.multiplyUnsafe(a)}static fromBytes(B,_=!1){return Ht(B),p.fromHex(B,_)}static fromHex(B,_=!1){const{d:E,a:x}=e,U=r.BYTES;B=Zt("pointHex",B,U),us("zip215",_);const C=B.slice(),W=B[U-1];C[U-1]=W&-129;const $=ds(C),P=_?s:r.ORDER;xo("pointHex.y",$,Hr,P);const X=l($*$),z=l(X-vt),H=l(E*X-x);let{isValid:Y,value:N}=c(z,H);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const O=(N&vt)===vt,G=(W&128)!==0;if(!_&&N===Hr&&G)throw new Error("Point.fromHex: x=0 and x_0=1");return G!==O&&(N=l(-N)),p.fromAffine({x:N,y:$})}toBytes(){const{x:B,y:_}=this.toAffine(),E=mu(_,r.BYTES);return E[E.length-1]|=B&vt?128:0,E}toRawBytes(){return this.toBytes()}toHex(){return Qi(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}p.BASE=new p(e.Gx,e.Gy,vt,l(e.Gx*e.Gy)),p.ZERO=new p(Hr,vt,vt,Hr),p.Fp=r,p.Fn=n;const h=new mw(p,n.BYTES*8);return p}function m6(e,t,r){if(typeof t!="function")throw new Error('"hash" function param is required');Rs(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n}=r,{BASE:a,Fp:o,Fn:s}=e,l=s.ORDER,c=r.randomBytes||$1,u=r.adjustScalarBytes||(H=>H),d=r.domain||((H,Y,N)=>{if(us("phflag",N),Y.length||N)throw new Error("Contexts/pre-hash are not supported");return H});function g(H){return s.create(H)}function f(H){return g(ds(H))}function p(H){const Y=o.BYTES;H=Zt("private key",H,Y);const N=Zt("hashed private key",t(H),2*Y),O=u(N.slice(0,Y)),G=N.slice(Y,2*Y),D=f(O);return{head:O,prefix:G,scalar:D}}function h(H){const{head:Y,prefix:N,scalar:O}=p(H),G=a.multiply(O),D=G.toBytes();return{head:Y,prefix:N,scalar:O,point:G,pointBytes:D}}function k(H){return h(H).pointBytes}function B(H=Uint8Array.of(),...Y){const N=pt(...Y);return f(t(d(N,Zt("context",H),!!n)))}function _(H,Y,N={}){H=Zt("message",H),n&&(H=n(H));const{prefix:O,scalar:G,pointBytes:D}=h(Y),ne=B(N.context,O,H),Q=a.multiply(ne).toBytes(),ae=B(N.context,Q,D,H),fe=g(ne+ae*G);xo("signature.s",fe,Hr,l);const le=o.BYTES,de=pt(Q,mu(fe,le));return Zt("result",de,le*2)}const E={zip215:!0};function x(H,Y,N,O=E){const{context:G,zip215:D}=O,ne=o.BYTES;H=Zt("signature",H,2*ne),Y=Zt("message",Y),N=Zt("publicKey",N,ne),D!==void 0&&us("zip215",D),n&&(Y=n(Y));const Q=ds(H.slice(ne,2*ne));let ae,fe,le;try{ae=e.fromHex(N,D),fe=e.fromHex(H.slice(0,ne),D),le=a.multiplyUnsafe(Q)}catch{return!1}if(!D&&ae.isSmallOrder())return!1;const de=B(G,fe.toBytes(),ae.toBytes(),Y);return fe.add(ae.multiplyUnsafe(de)).subtract(le).clearCofactor().is0()}a.precompute(8);const U=o.BYTES,C={secret:U,public:U,signature:2*U,seed:U};function W(H=c(C.seed)){return H}const $={getExtendedPublicKey:h,randomSecretKey:W,isValidSecretKey:X,isValidPublicKey:z,randomPrivateKey:W,toMontgomery(H){const{y:Y}=e.fromBytes(H),N=U===32;if(!N&&U!==57)throw new Error("only defined for 25519 and 448");const O=N?o.div(vt+Y,vt-Y):o.div(Y-vt,Y+vt);return o.toBytes(O)},toMontgomeryPriv(H){Ht(H,U);const Y=t(H.subarray(0,U));return u(Y).subarray(0,U)},precompute(H=8,Y=e.BASE){return Y.precompute(H,!1)}};function P(H){const Y=$.randomSecretKey(H);return{secretKey:Y,publicKey:k(Y)}}function X(H){try{return!!s.fromBytes(H,!1)}catch{return!1}}function z(H,Y){try{return!!e.fromBytes(H,Y)}catch{return!1}}return Object.freeze({keygen:P,getPublicKey:k,sign:_,verify:x,utils:$,Point:e,info:{type:"edwards",lengths:C}})}function p6(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=ga(t.n,e.nBitLength,!0),a={Fp:r,Fn:n,uvRatio:e.uvRatio},o={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:a,hash:e.hash,eddsaOpts:o}}function h6(e,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e})}function g6(e){const{CURVE:t,curveOpts:r,hash:n,eddsaOpts:a}=p6(e),o=f6(t,r),s=m6(o,n,a);return h6(e,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const y6=BigInt(1),Th=BigInt(2);BigInt(3);const v6=BigInt(5),w6=BigInt(8),vu={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:w6,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function E6(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),a=BigInt(80),o=vu.p,l=e*e%o*e%o,c=jr(l,Th,o)*l%o,u=jr(c,y6,o)*e%o,d=jr(u,v6,o)*u%o,g=jr(d,t,o)*d%o,f=jr(g,r,o)*g%o,p=jr(f,n,o)*f%o,h=jr(p,a,o)*p%o,k=jr(h,a,o)*p%o,B=jr(k,t,o)*d%o;return{pow_p_5_8:jr(B,Th,o)*e%o,b2:l}}function b6(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Ah=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function x6(e,t){const r=vu.p,n=ft(t*t*t,r),a=ft(n*n*t,r),o=E6(e*a).pow_p_5_8;let s=ft(e*n*o,r);const l=ft(t*s*s,r),c=s,u=ft(s*Ah,r),d=l===e,g=l===ft(-e,r),f=l===ft(-e*Ah,r);return d&&(s=c),(g||f)&&(s=u),yN(s,r)&&(s=ft(-s,r)),{isValid:d||g,value:s}}const _6=(()=>ga(vu.p,{isLE:!0}))(),S6=(()=>({...vu,Fp:_6,hash:H_,adjustScalarBytes:b6,uvRatio:x6}))(),si=(()=>g6(S6))();var Ch=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},Kt=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Vt,So,Nw,kw;class N6{constructor(t={}){Vt.set(this,void 0),So.set(this,void 0),this[Nw]=this.entries.bind(this),this[kw]="ExpirableMap";const{source:r=[],expirationTime:n=10*60*1e3}=t,a=Date.now();Ch(this,Vt,new Map([...r].map(([o,s])=>[o,{value:s,timestamp:a}])),"f"),Ch(this,So,n,"f")}prune(){const t=Date.now();for(const[r,n]of Kt(this,Vt,"f").entries())t-n.timestamp>Kt(this,So,"f")&&Kt(this,Vt,"f").delete(r);return this}set(t,r){this.prune();const n={value:r,timestamp:Date.now()};return Kt(this,Vt,"f").set(t,n),this}get(t){const r=Kt(this,Vt,"f").get(t);if(r!==void 0){if(Date.now()-r.timestamp>Kt(this,So,"f")){Kt(this,Vt,"f").delete(t);return}return r.value}}clear(){Kt(this,Vt,"f").clear()}entries(){const t=Kt(this,Vt,"f").entries();return function*(){for(const[n,a]of t)yield[n,a.value]}()}values(){const t=Kt(this,Vt,"f").values();return function*(){for(const n of t)yield n.value}()}keys(){return Kt(this,Vt,"f").keys()}forEach(t,r){for(const[n,a]of Kt(this,Vt,"f").entries())t.call(r,a.value,n,this)}has(t){return Kt(this,Vt,"f").has(t)}delete(t){return Kt(this,Vt,"f").delete(t)}get size(){return Kt(this,Vt,"f").size}}Vt=new WeakMap,So=new WeakMap,Nw=Symbol.iterator,kw=Symbol.toStringTag;const Bh=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},Rh=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},Zf=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},k6=(e,t)=>{const r=Zf(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const Bc=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function Tw(e,t){const r=2+Bh(e.byteLength+1),n=t.byteLength+r+e.byteLength;let a=0;const o=new Uint8Array(1+Bh(n)+n);return o[a++]=48,a+=Rh(o,a,n),o.set(t,a),a+=t.byteLength,o[a++]=3,a+=Rh(o,a,e.byteLength+1),o[a++]=0,o.set(new Uint8Array(e),a),o}const Aw=(e,t)=>{let r=0;const n=(l,c)=>{if(a[r++]!==l)throw new Error("Expected: "+c)},a=new Uint8Array(e);if(n(48,"sequence"),r+=Zf(a,r),!Ts(a.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,n(3,"bit string");const o=k6(a,r)-1;r+=Zf(a,r),n(0,"0 padding");const s=a.slice(r);if(o!==s.length)throw new Error(`DER payload mismatch: Expected length ${o} actual length ${s.length}`);return s};var Fh=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},Ph=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Pl,Ol;let Cw=class No{constructor(t){if(Pl.set(this,void 0),Ol.set(this,void 0),t.byteLength!==No.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Fh(this,Pl,t,"f"),Fh(this,Ol,No.derEncode(t),"f")}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new No(t)}static fromDer(t){return new No(this.derDecode(t))}static derEncode(t){return Tw(t,Bc).buffer}static derDecode(t){const r=Aw(t,Bc);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return Ph(this,Pl,"f")}get derKey(){return Ph(this,Ol,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Pl=new WeakMap,Ol=new WeakMap;Cw.RAW_KEY_LENGTH=32;class T6{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(r=>r!==t)}notify(t,...r){this.observers.forEach(n=>n(t,...r))}}class A6 extends T6{constructor(){super()}print(t,...r){this.notify({message:t,level:"info"},...r)}warn(t,...r){this.notify({message:t,level:"warn"},...r)}error(t,r,...n){this.notify({message:t,level:"error",error:r},...n)}}var Ir=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},zt=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Gr,Ml,Ul,zl,Vl,Wl,$l,jl,li;const Bw=.5,Rw=1.5,Fw=500,Pw=6e4,Ow=9e5,Mw=10;class wu{constructor(t=wu.default){Gr.set(this,void 0),Ml.set(this,void 0),Ul.set(this,void 0),zl.set(this,void 0),Vl.set(this,void 0),Wl.set(this,void 0),$l.set(this,void 0),jl.set(this,void 0),li.set(this,0);const{initialInterval:r=Fw,randomizationFactor:n=Bw,multiplier:a=Rw,maxInterval:o=Pw,maxElapsedTime:s=Ow,maxIterations:l=Mw,date:c=Date}=t;Ir(this,Gr,r,"f"),Ir(this,Ml,n,"f"),Ir(this,Ul,a,"f"),Ir(this,zl,o,"f"),Ir(this,jl,c,"f"),Ir(this,Vl,c.now(),"f"),Ir(this,Wl,s,"f"),Ir(this,$l,l,"f")}get ellapsedTimeInMsec(){return zt(this,jl,"f").now()-zt(this,Vl,"f")}get currentInterval(){return zt(this,Gr,"f")}get count(){return zt(this,li,"f")}get randomValueFromInterval(){const t=zt(this,Ml,"f")*zt(this,Gr,"f"),r=zt(this,Gr,"f")-t,n=zt(this,Gr,"f")+t;return Math.random()*(n-r)+r}incrementCurrentInterval(){var t;return Ir(this,Gr,Math.min(zt(this,Gr,"f")*zt(this,Ul,"f"),zt(this,zl,"f")),"f"),Ir(this,li,(t=zt(this,li,"f"),t++,t),"f"),zt(this,Gr,"f")}next(){return this.ellapsedTimeInMsec>=zt(this,Wl,"f")||zt(this,li,"f")>=zt(this,$l,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}Gr=new WeakMap,Ml=new WeakMap,Ul=new WeakMap,zl=new WeakMap,Vl=new WeakMap,Wl=new WeakMap,$l=new WeakMap,jl=new WeakMap,li=new WeakMap;wu.default={initialInterval:Fw,randomizationFactor:Bw,multiplier:Rw,maxInterval:Pw,maxElapsedTime:Ow,maxIterations:Mw,date:Date};var At=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},ve=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Wt,wa,Wi,qr,cn,Ci,ko,ci,Tr,Cr,Ea,ba,To,ui,di,xa,Sa,Uw,Il,Hl,_a,un;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(un||(un={}));const ul=60*1e3,C6="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",B6="aaaaa-aa",R6="ic0.app",F6=".ic0.app",P6="icp0.io",O6=".icp0.io",M6="icp-api.io",U6=".icp-api.io";class Cd extends ct{constructor(t){super(t),this.message=t}}class dl extends ct{constructor(t){super(t),this.message=t}}function z6(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new Cd("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new Cd("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new Cd("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function V6(e){let t;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?t=new URL(window.location.protocol+"//"+e):t=new URL(e);else{const r=["ic0.app","icp0.io","127.0.0.1","localhost"],n=[".github.dev",".gitpod.io"],a=typeof window<"u"?window.location:void 0,o=a==null?void 0:a.hostname;let s;o&&typeof o=="string"&&(n.some(l=>o.endsWith(l))?s=o:s=r.find(l=>o.endsWith(l))),a&&s?t=new URL(`${a.protocol}//${s}${a.port?":"+a.port:""}`):t=new URL("https://icp-api.io")}return t.toString()}class Bi{constructor(t={}){var r,n;Wt.add(this),wa.set(this,null),Wi.set(this,!1),qr.set(this,void 0),cn.set(this,void 0),Ci.set(this,void 0),ko.set(this,void 0),ci.set(this,0),Tr.set(this,void 0),Cr.set(this,void 0),Ea.set(this,void 0),ba.set(this,void 0),this._isAgent=!0,this.config={},To.set(this,0),this.log=new A6,ui.set(this,[]),di.set(this,[]),xa.set(this,new N6({expirationTime:5*60*1e3})),Sa.set(this,!0),Hl.set(this,(s,l)=>{if(ve(this,Sa,"f")===!1)return s;if(!l)throw new Qr("Invalid signature from replica signed query: no matching node key found.");const{status:c,signatures:u=[],requestId:d}=s,g=gn(new TextEncoder().encode("\vic-response"));for(const f of u){const{timestamp:p,identity:h}=f,k=Oe.fromUint8Array(h).toText();let B;if(c==="replied"){const{reply:C}=s;B=_c({status:c,reply:C,timestamp:BigInt(p),request_id:d})}else if(c==="rejected"){const{reject_code:C,reject_message:W,error_code:$}=s;B=_c({status:c,reject_code:C,reject_message:W,error_code:$,timestamp:BigInt(p),request_id:d})}else throw new Error(`Unknown status: ${c}`);const _=Ur(g,gn(new Uint8Array(B))),E=l==null?void 0:l.nodeKeys.get(k);if(!E)throw new Qr("Invalid signature from replica signed query: no matching node key found.");const x=Cw.fromDer(E).rawKey;if(si.verify(f.signature,new Uint8Array(_),new Uint8Array(x)))return s;throw new Qr(`Invalid signature from replica ${k} signed query.`)}return s}),this.config=t,At(this,cn,t.fetch||z6()||fetch.bind(global),"f"),At(this,Ci,t.fetchOptions,"f"),At(this,ko,t.callOptions,"f"),At(this,Wi,(r=t.shouldFetchRootKey)!==null&&r!==void 0?r:!1,"f"),t.rootKey?this.rootKey=t.rootKey:ve(this,Wi,"f")?this.rootKey=null:this.rootKey=xn(C6);const a=V6(t.host);this.host=new URL(a),t.verifyQuerySignatures!==void 0&&At(this,Sa,t.verifyQuerySignatures,"f"),At(this,Cr,(n=t.retryTimes)!==null&&n!==void 0?n:3,"f");const o=()=>new wu({maxIterations:ve(this,Cr,"f")});if(At(this,Ea,t.backoffStrategy||o,"f"),this.host.hostname.endsWith(F6)?this.host.hostname=R6:this.host.hostname.endsWith(O6)?this.host.hostname=P6:this.host.hostname.endsWith(U6)&&(this.host.hostname=M6),t.credentials){const{name:s,password:l}=t.credentials;At(this,Tr,`${s}${l?":"+l:""}`,"f")}if(At(this,qr,Promise.resolve(t.identity||new Sc),"f"),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw new ct(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw new ct(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);At(this,ba,t.ingressExpiryInMinutes||5,"f"),this.addTransform("update",uh(Gf)),t.useQueryNonces&&this.addTransform("query",uh(Gf)),t.logToConsole&&this.log.subscribe(s=>{s.level==="error"?console.error(s.message):s.level==="warn"?console.warn(s.message):console.log(s.message)})}get waterMark(){return ve(this,To,"f")}static createSync(t={}){return new this(Object.assign({},t))}static async create(t={shouldFetchRootKey:!1}){const r=Bi.createSync(t),n=[r.syncTime()];return r.host.toString()!=="https://icp-api.io"&&t.shouldFetchRootKey&&n.push(r.fetchRootKey()),await Promise.all(n),r}static async from(t){var r;try{return"config"in t?await Bi.create(t.config):await Bi.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:(r=t._identity)!==null&&r!==void 0?r:void 0})}catch{throw new ct("Failed to create agent from provided agent")}}isLocal(){const t=this.host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,r,n=r.priority||0){if(t==="update"){const a=ve(this,di,"f").findIndex(o=>(o.priority||0)<n);ve(this,di,"f").splice(a>=0?a:ve(this,di,"f").length,0,Object.assign(r,{priority:n}))}else if(t==="query"){const a=ve(this,ui,"f").findIndex(o=>(o.priority||0)<n);ve(this,ui,"f").splice(a>=0?a:ve(this,ui,"f").length,0,Object.assign(r,{priority:n}))}}async getPrincipal(){if(!ve(this,qr,"f"))throw new dl("This identity has expired due this application's security policy. Please refresh your authentication.");return(await ve(this,qr,"f")).getPrincipal()}async call(t,r,n){var a,o;await ve(this,Wt,"m",_a).call(this);const s=(a=r.callSync)!==null&&a!==void 0?a:!0,l=await(n!==void 0?await n:await ve(this,qr,"f"));if(!l)throw new dl("This identity has expired due this application's security policy. Please refresh your authentication.");const c=Oe.from(t),u=r.effectiveCanisterId?Oe.from(r.effectiveCanisterId):c,d=l.getPrincipal()||Oe.anonymous();let g=new ll(ve(this,ba,"f")*ul);Math.abs(ve(this,ci,"f"))>1e3*30&&(g=new ll(ve(this,ba,"f")*ul+ve(this,ci,"f")));const f={request_type:Hf.Call,canister_id:c,method_name:r.methodName,arg:r.arg,sender:d,ingress_expiry:g};let p=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},ve(this,Tr,"f")?{Authorization:"Basic "+btoa(ve(this,Tr,"f"))}:{})},endpoint:"call",body:f}),h;r!=null&&r.nonce?h=k(r.nonce):p.body.nonce?h=k(p.body.nonce):h=void 0,f.nonce=h;function k(x){return new Uint8Array(x)}p=await l.transformRequest(p);const B=hd(p.body),_=ve(this,Ea,"f").call(this),E=cs(f);try{const x=()=>(this.log.print(`fetching "/api/v3/canister/${u.toText()}/call" with request:`,p),ve(this,cn,"f").call(this,""+new URL(`/api/v3/canister/${u.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},ve(this,ko,"f")),p.request),{body:B}))),U=()=>(this.log.print(`fetching "/api/v2/canister/${u.toText()}/call" with request:`,p),ve(this,cn,"f").call(this,""+new URL(`/api/v2/canister/${u.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},ve(this,ko,"f")),p.request),{body:B}))),W=await ve(this,Wt,"m",Il).call(this,{request:s?x:U,backoff:_,tries:0}),$=await W.arrayBuffer(),P=W.status===200&&$.byteLength>0?yn($):null;if(P&&"certificate"in P){const X=await this.parseTimeFromResponse({certificate:P.certificate});At(this,To,X,"f")}return{requestId:E,response:{ok:W.ok,status:W.status,statusText:W.statusText,body:P,headers:bo(W.headers)},requestDetails:f}}catch(x){if(x.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,Object.assign(Object.assign({},r),{callSync:!1}),n);const U=`Error while making call: ${(o=x.message)!==null&&o!==void 0?o:String(x)}`,C=new sN(U,x,et(E),et(p.body.sender_pubkey),et(p.body.sender_sig),String(p.body.content.ingress_expiry._value));throw this.log.error(U,C),C}}async query(t,r,n){var a,o,s,l;await ve(this,Wt,"m",_a).call(this);const c=ve(this,Ea,"f").call(this),u=r.effectiveCanisterId?Oe.from(r.effectiveCanisterId):Oe.from(t);this.log.print(`ecid ${u.toString()}`),this.log.print(`canisterId ${t.toString()}`);let d,g;const f=await(n!==void 0?n:ve(this,qr,"f"));if(!f)throw new dl("This identity has expired due this application's security policy. Please refresh your authentication.");const p=Oe.from(t),h=(f==null?void 0:f.getPrincipal())||Oe.anonymous(),k={request_type:"query",canister_id:p,method_name:r.methodName,arg:r.arg,sender:h,ingress_expiry:new ll(ve(this,ba,"f")*ul)},B=cs(k);d=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},ve(this,Tr,"f")?{Authorization:"Basic "+btoa(ve(this,Tr,"f"))}:{})},endpoint:"read",body:k}),d=await(f==null?void 0:f.transformRequest(d));const _=hd(d.body),E={canister:p.toText(),ecid:u,transformedRequest:d,body:_,requestId:B,backoff:c,tries:0},x=async()=>({requestDetails:k,query:await ve(this,Wt,"m",Uw).call(this,E)}),U=async()=>{if(!ve(this,Sa,"f"))return;const C=ve(this,xa,"f").get(u.toString());return C||(await this.fetchSubnetKeys(u.toString()),ve(this,xa,"f").get(u.toString()))};try{const[C,W]=await Promise.all([x(),U()]);g=C;const{requestDetails:$,query:P}=g,X=Object.assign(Object.assign({},P),{requestDetails:$});if(this.log.print("Query response:",X),!ve(this,Sa,"f"))return X;try{return ve(this,Hl,"f").call(this,X,W)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),ve(this,xa,"f").delete(t.toString()),await this.fetchSubnetKeys(u.toString());const H=ve(this,xa,"f").get(t.toString());if(!H)throw new Qr("Invalid signature from replica signed query: no matching node key found.");return ve(this,Hl,"f").call(this,X,H)}}catch(C){const W=`Error while making call: ${(a=C.message)!==null&&a!==void 0?a:String(C)}`,$=new lN(W,C,String(B),et((o=d==null?void 0:d.body)===null||o===void 0?void 0:o.sender_pubkey),et((s=d==null?void 0:d.body)===null||s===void 0?void 0:s.sender_sig),String((l=d==null?void 0:d.body)===null||l===void 0?void 0:l.content.ingress_expiry._value));throw this.log.error(W,$),$}}async createReadStateRequest(t,r){await ve(this,Wt,"m",_a).call(this);const n=await(r!==void 0?await r:await ve(this,qr,"f"));if(!n)throw new dl("This identity has expired due this application's security policy. Please refresh your authentication.");const a=(n==null?void 0:n.getPrincipal())||Oe.anonymous(),o=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},ve(this,Tr,"f")?{Authorization:"Basic "+btoa(ve(this,Tr,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:a,ingress_expiry:new ll(ve(this,ba,"f")*ul)}});return n==null?void 0:n.transformRequest(o)}async readState(t,r,n,a){var o,s,l,c;function u(k){for(const B of k.paths){const[_,E]=B,x=gn(new TextEncoder().encode("request_status"));if(Ts(_,x))return E}}const d=u(r);await ve(this,Wt,"m",_a).call(this);const g=typeof t=="string"?Oe.fromText(t):t,f=a??await this.createReadStateRequest(r,n),p=hd(f.body);this.log.print(`fetching "/api/v2/canister/${g}/read_state" with request:`,f);const h=ve(this,Ea,"f").call(this);try{const k=await ve(this,Wt,"m",Il).call(this,{request:()=>ve(this,cn,"f").call(this,""+new URL(`/api/v2/canister/${g.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},ve(this,Ci,"f")),f.request),{body:p})),backoff:h,tries:0});if(!k.ok)throw new Error(`Server returned an error:
  Code: ${k.status} (${k.statusText})
  Body: ${await k.text()}
`);const B=yn(await k.arrayBuffer());this.log.print("Read state response:",B);const _=await this.parseTimeFromResponse(B);return _>0&&(this.log.print("Read state response time:",_),At(this,To,_,"f")),B}catch(k){const B=`Caught exception while attempting to read state: ${(o=k.message)!==null&&o!==void 0?o:String(k)}`,_=new cN(B,k,String(d),et((s=f==null?void 0:f.body)===null||s===void 0?void 0:s.sender_pubkey),et((l=f==null?void 0:f.body)===null||l===void 0?void 0:l.sender_sig),String((c=f==null?void 0:f.body)===null||c===void 0?void 0:c.content.ingress_expiry._value));throw this.log.error(B,_),_}}async parseTimeFromResponse(t){let r;if(t.certificate){const n=yn(t.certificate);if(n&&"tree"in n)r=n.tree;else throw new Error("Could not decode time from response");const a=Ji(["time"],r);if(a.status!==Et.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(a.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(a))throw new Error("Time was not found in the response or was not in its expected format.");const o=wm(gn(a.value));return this.log.print("Time from response:",o),this.log.print("Time from response in milliseconds:",Number(o)),Number(o)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){await ve(this,Wt,"m",_a).call(this);const r=await g1(()=>Promise.resolve().then(()=>c6),void 0),n=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const a=Bi.createSync({identity:new Sc,host:this.host.toString(),fetch:ve(this,cn,"f"),retryTimes:0}),s=(await r.request({canisterId:t??Oe.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:a,paths:["time"]})).get("time");s&&(At(this,ci,Number(s)-Number(n),"f"),this.log.notify({message:`Syncing time: offset of ${ve(this,ci,"f")}`,level:"info"}))}catch(a){this.log.error("Caught exception while attempting to sync time",a)}}async status(){const t=ve(this,Tr,"f")?{Authorization:"Basic "+btoa(ve(this,Tr,"f"))}:{};this.log.print('fetching "/api/v2/status"');const r=ve(this,Ea,"f").call(this),n=await ve(this,Wt,"m",Il).call(this,{backoff:r,request:()=>ve(this,cn,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:t},ve(this,Ci,"f"))),tries:0});return yn(await n.arrayBuffer())}async fetchRootKey(){let t;return ve(this,wa,"f")?t=await ve(this,wa,"f"):(At(this,wa,new Promise((r,n)=>{this.status().then(a=>{const o=a.root_key;this.rootKey=o,r(o)}).catch(n)}),"f"),t=await ve(this,wa,"f")),At(this,wa,null,"f"),t}invalidateIdentity(){At(this,qr,null,"f")}replaceIdentity(t){At(this,qr,Promise.resolve(t),"f")}async fetchSubnetKeys(t){await ve(this,Wt,"m",_a).call(this);const r=Oe.from(t),a=(await xw({canisterId:r,paths:["subnet"],agent:this})).get("subnet");if(a&&typeof a=="object"&&"nodeKeys"in a)return ve(this,xa,"f").set(r.toText(),a),a}_transform(t){let r=Promise.resolve(t);if(t.endpoint==="call")for(const n of ve(this,di,"f"))r=r.then(a=>n(a).then(o=>o||a));else for(const n of ve(this,ui,"f"))r=r.then(a=>n(a).then(o=>o||a));return r}}wa=new WeakMap,Wi=new WeakMap,qr=new WeakMap,cn=new WeakMap,Ci=new WeakMap,ko=new WeakMap,ci=new WeakMap,Tr=new WeakMap,Cr=new WeakMap,Ea=new WeakMap,ba=new WeakMap,To=new WeakMap,ui=new WeakMap,di=new WeakMap,xa=new WeakMap,Sa=new WeakMap,Hl=new WeakMap,Wt=new WeakSet,Uw=async function e(t){var r,n;const{ecid:a,transformedRequest:o,body:s,requestId:l,backoff:c,tries:u}=t,d=u===0?0:c.next();if(this.log.print(`fetching "/api/v2/canister/${a.toString()}/query" with tries:`,{tries:u,backoff:c,delay:d}),d===null)throw new ct(`Timestamp failed to pass the watermark after retrying the configured ${ve(this,Cr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);d>0&&await new Promise(h=>setTimeout(h,d));let g;try{this.log.print(`fetching "/api/v2/canister/${a.toString()}/query" with request:`,o);const h=await ve(this,cn,"f").call(this,""+new URL(`/api/v2/canister/${a.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},ve(this,Ci,"f")),o.request),{body:s}));if(h.status===200){const k=yn(await h.arrayBuffer());g=Object.assign(Object.assign({},k),{httpDetails:{ok:h.ok,status:h.status,statusText:h.statusText,headers:bo(h.headers)},requestId:l})}else throw new gd(`Gateway returned an error:
  Code: ${h.status} (${h.statusText})
  Body: ${await h.text()}
`,{ok:h.ok,status:h.status,statusText:h.statusText,headers:bo(h.headers)})}catch(h){if(u<ve(this,Cr,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${h}
  Retrying query.`),await ve(this,Wt,"m",e).call(this,Object.assign(Object.assign({},t),{tries:u+1}));throw h}const f=(n=(r=g.signatures)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.timestamp;if(!ve(this,Sa,"f"))return g;if(!f)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const p=Number(BigInt(f)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:p}),Number(this.waterMark)>p){const h=new ct("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",h,{timestamp:f,waterMark:this.waterMark}),u<ve(this,Cr,"f"))return await ve(this,Wt,"m",e).call(this,Object.assign(Object.assign({},t),{tries:u+1}));throw new ct(`Timestamp failed to pass the watermark after retrying the configured ${ve(this,Cr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return g},Il=async function e(t){const{request:r,backoff:n,tries:a}=t,o=a===0?0:n.next();if(o===null)throw new ct(`Timestamp failed to pass the watermark after retrying the configured ${ve(this,Cr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);o>0&&await new Promise(u=>setTimeout(u,o));let s;try{s=await r()}catch(u){if(ve(this,Cr,"f")>a)return this.log.warn(`Caught exception while attempting to make request:
  ${u}
  Retrying request.`),await ve(this,Wt,"m",e).call(this,{request:r,backoff:n,tries:a+1});throw u}if(s.ok)return s;const l=await s.clone().text(),c=`Server returned an error:
  Code: ${s.status} (${s.statusText})
  Body: ${l}
`;if(s.status===404&&s.url.includes("api/v3"))throw new gd("v3 api not supported. Fall back to v2",{ok:s.ok,status:s.status,statusText:s.statusText,headers:bo(s.headers)});if(a<ve(this,Cr,"f"))return await ve(this,Wt,"m",e).call(this,{request:r,backoff:n,tries:a+1});throw new gd(c,{ok:s.ok,status:s.status,statusText:s.statusText,headers:bo(s.headers)})},_a=async function(){if(!this.rootKey)if(this.rootKey===null&&ve(this,Wi,"f"))await this.fetchRootKey();else throw new ct(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${ve(this,Wi,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var Oh;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(Oh||(Oh={}));function Mh(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const W6=5*60*1e3;function zw(){return G6(j6($6(),1e3),H6(1e3,1.2),I6(W6))}function $6(){let e=!0;return async()=>e?(e=!1,!0):!1}function j6(e,t){return async(r,n,a)=>{if(await e(r,n,a))return new Promise(o=>setTimeout(o,t))}}function I6(e){const t=Date.now()+e;return async(r,n,a)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${et(n)}
  Request status: ${a}
`)}}function H6(e,t){let r=e;return()=>new Promise(n=>setTimeout(()=>{r*=t,n()},r))}function G6(...e){return async(t,r,n)=>{for(const a of e)await a(t,r,n)}}async function Vw(e,t,r,n=zw(),a,o){var s;const l=[new TextEncoder().encode("request_status"),r],c=a??await((s=e.createReadStateRequest)===null||s===void 0?void 0:s.call(e,{paths:[l]})),u=await e.readState(t,{paths:[l]},void 0,c);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const d=await Ma.create({certificate:u.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:o}),g=vr(d.lookup([...l,new TextEncoder().encode("status")]));let f;switch(typeof g>"u"?f=un.Unknown:f=new TextDecoder().decode(g),f){case un.Replied:return{reply:vr(d.lookup([...l,"reply"])),certificate:d};case un.Received:case un.Unknown:case un.Processing:return await n(t,r,f),Vw(e,t,r,n,c,o);case un.Rejected:{const p=new Uint8Array(vr(d.lookup([...l,"reject_code"])))[0],h=new TextDecoder().decode(vr(d.lookup([...l,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${et(r)}
  Reject code: ${p}
  Reject text: ${h}
`)}case un.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${et(r)}
`)}throw new Error("unreachable")}const q6=({IDL:e})=>{const t=e.Variant({mainnet:e.Null,testnet:e.Null}),r=e.Text,n=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),a=e.Nat64,o=a,s=e.Nat32,l=e.Record({start_height:s,end_height:e.Opt(s),network:t}),c=e.Vec(e.Nat8),u=e.Record({tip_height:s,block_headers:e.Vec(c)}),d=e.Record({network:t}),g=e.Nat64,f=e.Vec(g),p=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),h=e.Vec(e.Nat8),k=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),B=e.Record({height:e.Nat32,value:a,outpoint:k}),_=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:s,tip_block_hash:h,utxos:e.Vec(B)}),E=e.Record({transaction:e.Vec(e.Nat8),network:t}),x=e.Principal,U=e.Record({canister_id:x,num_requested_changes:e.Opt(e.Nat64)}),C=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),W=e.Vec(e.Nat8),$=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:W}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),P=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:C,details:$}),X=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(P),total_num_changes:e.Nat64}),z=e.Record({canister_id:x}),H=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),Y=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:H,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),N=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:Y,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),O=e.Record({canister_id:x}),G=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(H),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),D=e.Record({settings:e.Opt(G),sender_canister_version:e.Opt(e.Nat64)}),ne=e.Record({canister_id:x}),Q=e.Record({canister_id:x}),ae=e.Record({canister_id:x,snapshot_id:W}),fe=e.Record({canister_id:x}),le=e.Variant({secp256k1:e.Null}),de=e.Record({key_id:e.Record({name:e.Text,curve:le}),canister_id:e.Opt(x),derivation_path:e.Vec(e.Vec(e.Nat8))}),_e=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),T=e.Record({canister_id:x}),he=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),we=e.Record({canister_log_records:e.Vec(he)}),ce=e.Record({value:e.Text,name:e.Text}),ue=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(ce)}),ge=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:ue})],[ue],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(ce)}),R=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),V=e.Record({hash:e.Vec(e.Nat8)}),q=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:R,chunk_hashes_list:e.Vec(V),target_canister:x,store_canister:e.Opt(x),sender_canister_version:e.Opt(e.Nat64)}),ee=e.Vec(e.Nat8),Z=e.Record({arg:e.Vec(e.Nat8),wasm_module:ee,mode:R,canister_id:x,sender_canister_version:e.Opt(e.Nat64)}),re=e.Record({canister_id:x}),b=e.Record({id:W,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),m=e.Vec(b),y=e.Record({canister_id:x,sender_canister_version:e.Opt(e.Nat64),snapshot_id:W}),A=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),F=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),K=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(F)})),ie=e.Record({settings:e.Opt(G),specified_id:e.Opt(x),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),pe=e.Record({canister_id:x}),Ee=e.Record({canister_id:x,amount:e.Nat}),be=e.Vec(e.Nat8),Be=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),S=e.Record({key_id:e.Record({algorithm:Be,name:e.Text}),canister_id:e.Opt(x),derivation_path:e.Vec(e.Vec(e.Nat8))}),v=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),w=e.Record({key_id:e.Record({name:e.Text,curve:le}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),j=e.Record({signature:e.Vec(e.Nat8)}),te=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),se=e.Record({aux:e.Opt(te),key_id:e.Record({algorithm:Be,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),oe=e.Record({signature:e.Vec(e.Nat8)}),ke=e.Record({canister_id:x}),Re=e.Record({canister_id:x}),Ce=e.Record({canister_id:x}),Ne=e.Vec(V),Pe=e.Record({subnet_id:e.Principal}),$e=e.Record({replica_version:e.Text}),J=e.Record({replace_snapshot:e.Opt(W),canister_id:x}),Fe=b,Ie=e.Record({canister_id:x,sender_canister_version:e.Opt(e.Nat64)}),I=e.Record({canister_id:e.Principal,settings:G,sender_canister_version:e.Opt(e.Nat64)}),me=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),dt=V;return e.Service({bitcoin_get_balance:e.Func([n],[o],[]),bitcoin_get_block_headers:e.Func([l],[u],[]),bitcoin_get_current_fee_percentiles:e.Func([d],[f],[]),bitcoin_get_utxos:e.Func([p],[_],[]),bitcoin_send_transaction:e.Func([E],[],[]),canister_info:e.Func([U],[X],[]),canister_status:e.Func([z],[N],[]),clear_chunk_store:e.Func([O],[],[]),create_canister:e.Func([D],[ne],[]),delete_canister:e.Func([Q],[],[]),delete_canister_snapshot:e.Func([ae],[],[]),deposit_cycles:e.Func([fe],[],[]),ecdsa_public_key:e.Func([de],[_e],[]),fetch_canister_logs:e.Func([T],[we],["query"]),http_request:e.Func([ge],[ue],[]),install_chunked_code:e.Func([q],[],[]),install_code:e.Func([Z],[],[]),list_canister_snapshots:e.Func([re],[m],[]),load_canister_snapshot:e.Func([y],[],[]),node_metrics_history:e.Func([A],[K],[]),provisional_create_canister_with_cycles:e.Func([ie],[pe],[]),provisional_top_up_canister:e.Func([Ee],[],[]),raw_rand:e.Func([],[be],[]),schnorr_public_key:e.Func([S],[v],[]),sign_with_ecdsa:e.Func([w],[j],[]),sign_with_schnorr:e.Func([se],[oe],[]),start_canister:e.Func([ke],[],[]),stop_canister:e.Func([Re],[],[]),stored_chunks:e.Func([Ce],[Ne],[]),subnet_info:e.Func([Pe],[$e],[]),take_canister_snapshot:e.Func([J],[Fe],[]),uninstall_code:e.Func([Ie],[],[]),update_settings:e.Func([I],[],[]),upload_chunk:e.Func([me],[dt],[])})};class Ww extends ct{constructor(t,r,n,a){super(["Call failed:",`  Canister: ${t.toText()}`,`  Method: ${r} (${n})`,...Object.getOwnPropertyNames(a).map(o=>`  "${o}": ${JSON.stringify(a[o])}`)].join(`
`)),this.canisterId=t,this.methodName=r,this.type=n,this.props=a}}class K6 extends Ww{constructor(t,r,n){var a;super(t,r,"query",{Status:n.status,Code:(a=Pf[n.reject_code])!==null&&a!==void 0?a:`Unknown Code "${n.reject_code}"`,Message:n.reject_message}),this.result=n}}class Uh extends Ww{constructor(t,r,n,a,o,s,l){super(t,r,"update",Object.assign({"Request ID":et(n)},a.body?Object.assign(Object.assign({},l?{"Error code":l}:{}),{"Reject code":String(o),"Reject message":s}):{"HTTP status code":a.status.toString(),"HTTP status text":a.statusText})),this.requestId=n,this.response=a,this.reject_code=o,this.reject_message=s,this.error_code=l}}const hr=Symbol.for("ic-agent-metadata");class Eu{constructor(t){this[hr]=Object.freeze(t)}static agentOf(t){return t[hr].config.agent}static interfaceOf(t){return t[hr].service}static canisterIdOf(t){return Oe.from(t[hr].config.canisterId)}static async install(t,r){const n=t.mode===void 0?{install:null}:t.mode,a=t.arg?[...new Uint8Array(t.arg)]:[],o=[...new Uint8Array(t.module)],s=typeof r.canisterId=="string"?Oe.fromText(r.canisterId):r.canisterId;await zh(r).install_code({mode:n,arg:a,wasm_module:o,canister_id:s,sender_canister_version:[]})}static async createCanister(t,r){function n(o){return[{controllers:o.controllers?[o.controllers]:[],compute_allocation:o.compute_allocation?[o.compute_allocation]:[],freezing_threshold:o.freezing_threshold?[o.freezing_threshold]:[],memory_allocation:o.memory_allocation?[o.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:a}=await zh(t||{}).provisional_create_canister_with_cycles({amount:[],settings:n(r||{}),specified_id:[],sender_canister_version:[]});return a}static async createAndInstallCanister(t,r,n){const a=await this.createCanister(n);return await this.install(Object.assign({},r),Object.assign(Object.assign({},n),{canisterId:a})),this.createActor(t,Object.assign(Object.assign({},n),{canisterId:a}))}static createActorClass(t,r){const n=t({IDL:aS});class a extends Eu{constructor(s){if(!s.canisterId)throw new ct(`Canister ID is required, but received ${typeof s.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const l=typeof s.canisterId=="string"?Oe.fromText(s.canisterId):s.canisterId;super({config:Object.assign(Object.assign(Object.assign({},$w),s),{canisterId:l}),service:n});for(const[c,u]of n._fields)r!=null&&r.httpDetails&&u.annotations.push(Xf),r!=null&&r.certificate&&u.annotations.push(jw),this[c]=Y6(this,c,u,s.blsVerify)}}return a}static createActor(t,r){if(!r.canisterId)throw new ct(`Canister ID is required, but received ${typeof r.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(r)}static createActorWithHttpDetails(t,r){return new(this.createActorClass(t,{httpDetails:!0}))(r)}static createActorWithExtendedDetails(t,r,n={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,n))(r)}}function ii(e,t){const r=rv(e,M1.Buffer.from(t));switch(r.length){case 0:return;case 1:return r[0];default:return r}}const $w={pollingStrategyFactory:zw},Xf="http-details",jw="certificate";function Y6(e,t,r,n){let a;r.annotations.includes("query")||r.annotations.includes("composite_query")?a=async(s,...l)=>{var c,u;s=Object.assign(Object.assign({},s),(u=(c=e[hr].config).queryTransform)===null||u===void 0?void 0:u.call(c,t,l,Object.assign(Object.assign({},e[hr].config),s)));const d=s.agent||e[hr].config.agent||Mh(),g=Oe.from(s.canisterId||e[hr].config.canisterId),f=Mf(r.argTypes,l),p=await d.query(g,{methodName:t,arg:f,effectiveCanisterId:s.effectiveCanisterId}),h=Object.assign(Object.assign({},p.httpDetails),{requestDetails:p.requestDetails});switch(p.status){case"rejected":throw new K6(g,t,p);case"replied":return r.annotations.includes(Xf)?{httpDetails:h,result:ii(r.retTypes,p.reply.arg)}:ii(r.retTypes,p.reply.arg)}}:a=async(s,...l)=>{var c,u;s=Object.assign(Object.assign({},s),(u=(c=e[hr].config).callTransform)===null||u===void 0?void 0:u.call(c,t,l,Object.assign(Object.assign({},e[hr].config),s)));const d=s.agent||e[hr].config.agent||Mh(),{canisterId:g,effectiveCanisterId:f,pollingStrategyFactory:p}=Object.assign(Object.assign(Object.assign({},$w),e[hr].config),s),h=Oe.from(g),k=f!==void 0?Oe.from(f):h,B=Mf(r.argTypes,l),{requestId:_,response:E,requestDetails:x}=await d.call(h,{methodName:t,arg:B,effectiveCanisterId:k});let U,C;if(E.body&&E.body.certificate){if(d.rootKey==null)throw new Error("Agent is missing root key");const X=E.body.certificate;C=await Ma.create({certificate:Ia(X),rootKey:d.rootKey,canisterId:Oe.from(g),blsVerify:n});const z=[new TextEncoder().encode("request_status"),_];switch(new TextDecoder().decode(vr(C.lookup([...z,"status"])))){case"replied":U=vr(C.lookup([...z,"reply"]));break;case"rejected":{const Y=new Uint8Array(vr(C.lookup([...z,"reject_code"])))[0],N=new TextDecoder().decode(vr(C.lookup([...z,"reject_message"]))),O=vr(C.lookup([...z,"error_code"])),G=O?new TextDecoder().decode(O):void 0;throw new Uh(h,t,_,E,Y,N,G)}}}else if(E.body&&"reject_message"in E.body){const{reject_code:X,reject_message:z,error_code:H}=E.body;throw new Uh(h,t,_,E,X,z,H)}if(E.status===202){const X=p(),z=await Vw(d,k,_,X,n);C=z.certificate,U=z.reply}const W=r.annotations.includes(Xf),$=r.annotations.includes(jw),P=Object.assign(Object.assign({},E),{requestDetails:x});if(U!==void 0)return W&&$?{httpDetails:P,certificate:C,result:ii(r.retTypes,U)}:$?{certificate:C,result:ii(r.retTypes,U)}:W?{httpDetails:P,result:ii(r.retTypes,U)}:ii(r.retTypes,U);if(r.retTypes.length===0)return W?{httpDetails:E,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};const o=(...s)=>a({},...s);return o.withOptions=s=>(...l)=>a(s,...l),o}function zh(e){function t(r,n){if(e.effectiveCanisterId)return{effectiveCanisterId:Oe.from(e.effectiveCanisterId)};const a=n[0];let o=Oe.fromHex("");return a&&typeof a=="object"&&a.target_canister&&r==="install_chunked_code"&&(o=Oe.from(a.target_canister)),a&&typeof a=="object"&&a.canister_id&&(o=Oe.from(a.canister_id)),{effectiveCanisterId:o}}return Eu.createActor(q6,Object.assign(Object.assign(Object.assign({},e),{canisterId:Oe.fromHex("")}),{callTransform:t,queryTransform:t}))}var Rc=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},Hn=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Gl,ql,fi,mi;function Vh(e){return e!==null&&typeof e=="object"}class wn{constructor(t){if(Gl.set(this,void 0),ql.set(this,void 0),t.byteLength!==wn.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Rc(this,Gl,gn(t),"f"),Rc(this,ql,wn.derEncode(t),"f")}static from(t){if(typeof t=="string"){const r=xn(t);return this.fromRaw(r)}else if(Vh(t)){const r=t;if(Vh(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){const n=r;return this.fromRaw(gn(n.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new wn(t)}static fromDer(t){return new wn(this.derDecode(t))}static derEncode(t){const r=Tw(t,Bc).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(t){const r=Aw(t,Bc);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return gn(r)}get rawKey(){return Hn(this,Gl,"f")}get derKey(){return Hn(this,ql,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}Gl=new WeakMap,ql=new WeakMap;wn.RAW_KEY_LENGTH=32;class Xn extends mm{constructor(t,r){super(),fi.set(this,void 0),mi.set(this,void 0),Rc(this,fi,wn.from(t),"f"),Rc(this,mi,new Uint8Array(r),"f")}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=si.utils.randomPrivateKey()),Ts(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const r=new Uint8Array(32);for(let a=0;a<32;a++)r[a]=new Uint8Array(t)[a];const n=si.getPublicKey(r);return Xn.fromKeyPair(n,r)}static fromParsedJson(t){const[r,n]=t;return new Xn(wn.fromDer(xn(r)),xn(n))}static fromJSON(t){const r=JSON.parse(t);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,r){return new Xn(wn.fromRaw(t),r)}static fromSecretKey(t){const r=si.getPublicKey(new Uint8Array(t));return Xn.fromKeyPair(r,t)}toJSON(){return[et(Hn(this,fi,"f").toDer()),et(Hn(this,mi,"f"))]}getKeyPair(){return{secretKey:Hn(this,mi,"f"),publicKey:Hn(this,fi,"f")}}getPublicKey(){return Hn(this,fi,"f")}async sign(t){const r=new Uint8Array(t),n=zo(si.sign(r,Hn(this,mi,"f").slice(0,32)));return Object.defineProperty(n,"__signature__",{enumerable:!1,value:void 0}),n}static verify(t,r,n){const[a,o,s]=[t,r,n].map(l=>(typeof l=="string"&&(l=xn(l)),l instanceof Uint8Array&&(l=gn(l.buffer)),new Uint8Array(l)));return si.verify(a,o,s)}}fi=new WeakMap,mi=new WeakMap;class Em extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,Em.prototype)}}function Wh(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new Em("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class Fc extends mm{constructor(t,r,n){super(),this._keyPair=t,this._derKey=r,this._subtleCrypto=n}static async generate(t){const{extractable:r=!1,keyUsages:n=["sign","verify"],subtleCrypto:a}=t??{},o=Wh(a),s=await o.generateKey({name:"ECDSA",namedCurve:"P-256"},r,n),l=await o.exportKey("spki",s.publicKey);return new this(s,l,o)}static async fromKeyPair(t,r){const n=Wh(r),a=await n.exportKey("spki",t.publicKey);return new Fc(t,a,n)}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return t},r}async sign(t){const r={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(r,this._keyPair.privateKey,t)}}var Q6=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},oi=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},sn;class Z6{constructor(t){sn.set(this,void 0),Q6(this,sn,t,"f")}get rawKey(){return oi(this,sn,"f").rawKey}get derKey(){return oi(this,sn,"f").derKey}toDer(){return oi(this,sn,"f").toDer()}getPublicKey(){return oi(this,sn,"f")}getPrincipal(){if(!oi(this,sn,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return Oe.fromUint8Array(new Uint8Array(oi(this,sn,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}sn=new WeakMap;var X6=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},J6=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},L6=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Kl;const D6=new TextEncoder().encode("ic-request-auth-delegation"),e8=new TextEncoder().encode(`
ic-request`);function Bd(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return xn(e)}class bm{constructor(t,r,n){this.pubkey=t,this.expiration=r,this.targets=n}toCBOR(){return er.value.map(Object.assign({pubkey:er.value.bytes(this.pubkey),expiration:er.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:er.value.array(this.targets.map(t=>er.value.bytes(Ia(t.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:et(this.pubkey)},this.targets&&{targets:this.targets.map(t=>t.toHex())})}}async function t8(e,t,r,n){const a=new bm(t.toDer(),BigInt(+r)*BigInt(1e6),n),o=new Uint8Array([...D6,...new Uint8Array(cs(Object.assign({},a)))]),s=await e.sign(Ia(o));return{delegation:a,signature:s}}class Pc{constructor(t,r){this.delegations=t,this.publicKey=r}static async create(t,r,n=new Date(Date.now()+15*60*1e3),a={}){var o,s;const l=await t8(t,r,n,a.targets);return new Pc([...((o=a.previous)===null||o===void 0?void 0:o.delegations)||[],l],((s=a.previous)===null||s===void 0?void 0:s.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:r,delegations:n}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(n))throw new Error("Invalid delegations.");const a=n.map(o=>{const{delegation:s,signature:l}=o,{pubkey:c,expiration:u,targets:d}=s;if(d!==void 0&&!Array.isArray(d))throw new Error("Invalid targets.");return{delegation:new bm(Bd(c),BigInt("0x"+u),d&&d.map(g=>{if(typeof g!="string")throw new Error("Invalid target.");return Oe.fromHex(g)})),signature:Bd(l)}});return new this(a,Bd(r))}static fromDelegations(t,r){return new this(t,r)}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:r,signature:n}=t,{targets:a}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:et(r.pubkey)},a&&{targets:a.map(o=>o.toHex())}),signature:et(n)}}),publicKey:et(this.publicKey)}}}class $h extends mm{constructor(t,r){super(),this._inner=t,this._delegation=r}static fromDelegation(t,r){return new this(t,r)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:r}=t,n=L6(t,["body"]),a=await cs(r);return Object.assign(Object.assign({},n),{body:{content:r,sender_sig:await this.sign(Ia(new Uint8Array([...e8,...new Uint8Array(a)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class Oc extends Z6{constructor(t,r){super(t),Kl.set(this,void 0),X6(this,Kl,r,"f")}get delegation(){return J6(this,Kl,"f")}static fromDelegation(t,r){return new Oc(t,r)}}Kl=new WeakMap;function r8(e,t){for(const{delegation:a}of e.delegations)if(+new Date(Number(a.expiration/BigInt(1e6)))<=+Date.now())return!1;const r=[],n=t==null?void 0:t.scope;n&&(Array.isArray(n)?r.push(...n.map(a=>typeof a=="string"?Oe.fromText(a):a)):r.push(typeof n=="string"?Oe.fromText(n):n));for(const a of r){const o=a.toText();for(const{delegation:s}of e.delegations){if(s.targets===void 0)continue;let l=!0;for(const c of s.targets)if(c.toText()===o){l=!1;break}if(l)return!1}}return!0}var jh;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(jh||(jh={}));const Ih=["mousedown","mousemove","keydown","touchstart","wheel"];class Hh{constructor(t={}){var r;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:n,idleTimeout:a=10*60*1e3}=t||{};this.callbacks=n?[n]:[],this.idleTimeout=a;const o=this._resetTimer.bind(this);window.addEventListener("load",o,!0),Ih.forEach(function(l){document.addEventListener(l,o,!0)});const s=(l,c)=>{let u;return(...d)=>{const g=this,f=function(){u=void 0,l.apply(g,d)};clearTimeout(u),u=window.setTimeout(f,c)}};if(t!=null&&t.captureScroll){const l=s(o,(r=t==null?void 0:t.scrollDebounce)!==null&&r!==void 0?r:100);window.addEventListener("scroll",l,!0)}o()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);Ih.forEach(function(r){document.removeEventListener(r,t,!0)}),this.callbacks.forEach(r=>r())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const n8=(e,t)=>t.some(r=>e instanceof r);let Gh,qh;function a8(){return Gh||(Gh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i8(){return qh||(qh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iw=new WeakMap,Jf=new WeakMap,Hw=new WeakMap,Rd=new WeakMap,xm=new WeakMap;function o8(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{r(oa(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&Iw.set(r,e)}).catch(()=>{}),xm.set(t,e),t}function s8(e){if(Jf.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Jf.set(e,t)}let Lf={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Jf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Hw.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return oa(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function l8(e){Lf=e(Lf)}function c8(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Fd(this),t,...r);return Hw.set(n,t.sort?t.sort():[t]),oa(n)}:i8().includes(e)?function(...t){return e.apply(Fd(this),t),oa(Iw.get(this))}:function(...t){return oa(e.apply(Fd(this),t))}}function u8(e){return typeof e=="function"?c8(e):(e instanceof IDBTransaction&&s8(e),n8(e,a8())?new Proxy(e,Lf):e)}function oa(e){if(e instanceof IDBRequest)return o8(e);if(Rd.has(e))return Rd.get(e);const t=u8(e);return t!==e&&(Rd.set(e,t),xm.set(t,e)),t}const Fd=e=>xm.get(e);function d8(e,t,{blocked:r,upgrade:n,blocking:a,terminated:o}={}){const s=indexedDB.open(e,t),l=oa(s);return n&&s.addEventListener("upgradeneeded",c=>{n(oa(s.result),c.oldVersion,c.newVersion,oa(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const f8=["get","getKey","getAll","getAllKeys","count"],m8=["put","add","delete","clear"],Pd=new Map;function Kh(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=m8.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||f8.includes(r)))return;const o=async function(s,...l){const c=this.transaction(s,a?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),a&&c.done]))[0]};return Pd.set(t,o),o}l8(e=>({...e,get:(t,r,n)=>Kh(t,r)||e.get(t,r,n),has:(t,r)=>!!Kh(t,r)||e.has(t,r)}));const Gw="auth-client-db",qw="ic-keyval",p8=async(e=Gw,t=qw,r)=>(Kw&&(localStorage!=null&&localStorage.getItem(Yn))&&(localStorage.removeItem(Yn),localStorage.removeItem(Gn)),await d8(e,r,{upgrade:n=>{n.objectStoreNames.contains(t)&&n.clear(t),n.createObjectStore(t)}}));async function h8(e,t,r){return await e.get(t,r)}async function g8(e,t,r,n){return await e.put(t,n,r)}async function y8(e,t,r){return await e.delete(t,r)}class _m{constructor(t,r){this._db=t,this._storeName=r}static async create(t){const{dbName:r=Gw,storeName:n=qw,version:a=b8}=t??{},o=await p8(r,n,a);return new _m(o,n)}async set(t,r){return await g8(this._db,this._storeName,t,r)}async get(t){var r;return(r=await h8(this._db,this._storeName,t))!==null&&r!==void 0?r:null}async remove(t){return await y8(this._db,this._storeName,t)}}var v8=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},w8=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Yl;const Gn="identity",Yn="delegation",E8="iv",b8=1,Kw=typeof window<"u";class x8{constructor(t="ic-",r){this.prefix=t,this._localStorage=r}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,r){return this._getLocalStorage().setItem(this.prefix+t,r),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}class _8{constructor(t){Yl.set(this,void 0),v8(this,Yl,t??{},"f")}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}_m.create(w8(this,Yl,"f")).then(r=>{this.initializedDb=r,t(r)})})}async get(t){return await(await this._db).get(t)}async set(t,r){await(await this._db).set(t,r)}async remove(t){await(await this._db).remove(t)}}Yl=new WeakMap;const S8="https://identity.internetcomputer.org",N8="#authorize",Od="ECDSA",Md="Ed25519",k8=500,T8="UserInterrupt";class A8{constructor(t,r,n,a,o,s,l,c){this._identity=t,this._key=r,this._chain=n,this._storage=a,this.idleManager=o,this._createOptions=s,this._idpWindow=l,this._eventHandler=c,this._registerDefaultIdleCallback()}static async create(t={}){var r,n,a;const o=(r=t.storage)!==null&&r!==void 0?r:new _8,s=(n=t.keyType)!==null&&n!==void 0?n:Od;let l=null;if(t.identity)l=t.identity;else{let g=await o.get(Gn);if(!g&&Kw)try{const f=new x8,p=await f.get(Yn),h=await f.get(Gn);p&&h&&s===Od&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await o.set(Yn,p),await o.set(Gn,h),g=p,await f.remove(Yn),await f.remove(Gn))}catch(f){console.error("error while attempting to recover localstorage: "+f)}if(g)try{typeof g=="object"?s===Md&&typeof g=="string"?l=await Xn.fromJSON(g):l=await Fc.fromKeyPair(g):typeof g=="string"&&(l=Xn.fromJSON(g))}catch{}}let c=new Sc,u=null;if(l)try{const g=await o.get(Yn);if(typeof g=="object"&&g!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?c=t.identity:g&&(u=Pc.fromJSON(g),r8(u)?"toDer"in l?c=Oc.fromDelegation(l,u):c=$h.fromDelegation(l,u):(await Ud(o),l=null))}catch(g){console.error(g),await Ud(o),l=null}let d;return!((a=t.idleOptions)===null||a===void 0)&&a.disableIdle?d=void 0:(u||t.identity)&&(d=Hh.create(t.idleOptions)),l||(s===Md?(l=await Xn.generate(),await o.set(Gn,JSON.stringify(l.toJSON()))):(t.storage&&s===Od&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${Md}' as the key type, as it can serialize to a string`),l=await Fc.generate(),await o.set(Gn,l.getKeyPair()))),new this(c,l,u,o,d,t)}_registerDefaultIdleCallback(){var t,r;const n=(t=this._createOptions)===null||t===void 0?void 0:t.idleOptions;!(n!=null&&n.onIdle)&&!(n!=null&&n.disableDefaultIdleCallback)&&((r=this.idleManager)===null||r===void 0||r.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,r){var n,a;const o=t.delegations.map(u=>({delegation:new bm(u.delegation.pubkey,u.delegation.expiration,u.delegation.targets),signature:u.signature.buffer})),s=Pc.fromDelegations(o,t.userPublicKey.buffer),l=this._key;if(!l)return;this._chain=s,"toDer"in l?this._identity=Oc.fromDelegation(l,this._chain):this._identity=$h.fromDelegation(l,this._chain),(n=this._idpWindow)===null||n===void 0||n.close();const c=(a=this._createOptions)===null||a===void 0?void 0:a.idleOptions;!this.idleManager&&!(c!=null&&c.disableIdle)&&(this.idleManager=Hh.create(c),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Yn,JSON.stringify(this._chain.toJSON())),r==null||r(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(t){var r,n,a,o;const s=BigInt(8)*BigInt(36e11),l=new URL(((r=t==null?void 0:t.identityProvider)===null||r===void 0?void 0:r.toString())||S8);l.hash=N8,(n=this._idpWindow)===null||n===void 0||n.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(l,Object.assign({maxTimeToLive:(a=t==null?void 0:t.maxTimeToLive)!==null&&a!==void 0?a:s},t)),window.addEventListener("message",this._eventHandler),this._idpWindow=(o=window.open(l.toString(),"idpWindow",t==null?void 0:t.windowOpenerFeatures))!==null&&o!==void 0?o:void 0;const c=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(T8,t==null?void 0:t.onError):setTimeout(c,k8))};c()}_getEventHandler(t,r){return async n=>{var a,o,s;if(n.origin!==t.origin)return;const l=n.data;switch(l.kind){case"authorize-ready":{const c=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((a=this._key)===null||a===void 0?void 0:a.getPublicKey().toDer()),maxTimeToLive:r==null?void 0:r.maxTimeToLive,allowPinAuthentication:r==null?void 0:r.allowPinAuthentication,derivationOrigin:(o=r==null?void 0:r.derivationOrigin)===null||o===void 0?void 0:o.toString()},r==null?void 0:r.customValues);(s=this._idpWindow)===null||s===void 0||s.postMessage(c,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(l,r==null?void 0:r.onSuccess)}catch(c){this._handleFailure(c.message,r==null?void 0:r.onError)}break;case"authorize-client-failure":this._handleFailure(l.text,r==null?void 0:r.onError);break}}}_handleFailure(t,r){var n;(n=this._idpWindow)===null||n===void 0||n.close(),r==null||r(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await Ud(this._storage),this._identity=new Sc,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function Ud(e){await e.remove(Gn),await e.remove(Yn),await e.remove(E8)}const C8=({IDL:e})=>{const t=e.Principal,r=e.Record({id:e.Text,relationship:e.Text,userId:t,name:e.Text,createdAt:e.Int,email:e.Text,isVerified:e.Bool,verifiedAt:e.Opt(e.Int)}),n=e.Variant({ok:r,err:e.Text}),a=e.Variant({Equitel:e.Null,PayPal:e.Null,Card:e.Null,BankTransfer:e.Null,Custom:e.Null,Mpesa:e.Null,AirtelMoney:e.Null}),o=e.Record({id:e.Text,provider:a,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,isActive:e.Bool,accountName:e.Text,isDefault:e.Bool,accountNumber:e.Opt(e.Text),phoneNumber:e.Opt(e.Text)}),s=e.Variant({ok:o,err:e.Text}),l=e.Variant({Inactive:e.Null,Active:e.Null,Suspended:e.Null,Deprecated:e.Null,Pending:e.Null}),c=e.Variant({WriteWallets:e.Null,ReadTransactions:e.Null,ReadProfile:e.Null,ReadContacts:e.Null,WriteContacts:e.Null,Notifications:e.Null,WriteProfile:e.Null,WriteTransactions:e.Null,ReadWallets:e.Null,ExternalAPIs:e.Null}),u=e.Variant({Productivity:e.Null,Health:e.Null,Social:e.Null,Custom:e.Null,Entertainment:e.Null,Gaming:e.Null,Education:e.Null,Finance:e.Null}),d=e.Record({id:e.Text,status:l,permissions:e.Vec(c),isInstalled:e.Bool,metadata:e.Opt(e.Text),icon:e.Opt(e.Text),name:e.Text,createdAt:e.Int,description:e.Text,author:e.Text,version:e.Text,isEnabled:e.Bool,updatedAt:e.Int,installCount:e.Nat,configSchema:e.Opt(e.Text),entryPoint:e.Text,category:u,rating:e.Float64}),g=e.Variant({ok:d,err:e.Text}),f=e.Record({id:e.Text,methodType:e.Text,value:e.Text,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,isActive:e.Bool,isVerified:e.Bool,verifiedAt:e.Opt(e.Int)}),p=e.Variant({ok:f,err:e.Text}),h=e.Record({id:e.Text,question:e.Text,userId:t,createdAt:e.Int,isActive:e.Bool,answerHash:e.Text}),k=e.Variant({ok:e.Vec(h),err:e.Text}),B=e.Record({id:e.Text,expiresAt:e.Opt(e.Int),metadata:e.Opt(e.Text),userId:t,type:e.Text,gameId:e.Text,description:e.Text,claimedAt:e.Opt(e.Int),currency:e.Opt(e.Text),amount:e.Float64}),_=e.Variant({ok:B,err:e.Text}),E=e.Variant({ok:e.Float64,err:e.Text}),x=e.Variant({Failed:e.Null,Refunded:e.Null,Cancelled:e.Null,Processing:e.Null,Completed:e.Null,Pending:e.Null}),U=e.Record({id:e.Text,fee:e.Float64,status:x,completedAt:e.Opt(e.Int),provider:a,metadata:e.Opt(e.Text),userId:t,recipientPhone:e.Opt(e.Text),type:e.Text,reference:e.Opt(e.Text),currency:e.Text,timestamp:e.Int,amount:e.Float64,recipientName:e.Opt(e.Text)}),C=e.Variant({ok:U,err:e.Text}),W=e.Variant({Sonic:e.Null,Neutrinite:e.Null,InfinitySwap:e.Null,ICDex:e.Null,Custom:e.Null,ICPSwap:e.Null}),$=e.Variant({Swap:e.Null,Lending:e.Null,Custom:e.Null,Borrowing:e.Null,Governance:e.Null,Liquidity:e.Null,YieldFarming:e.Null,Staking:e.Null}),P=e.Record({id:e.Text,apy:e.Float64,protocol:W,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,productType:$,isActive:e.Bool,updatedAt:e.Int,tokenA:e.Text,tokenB:e.Opt(e.Text),rewards:e.Float64,amount:e.Float64}),X=e.Variant({ok:P,err:e.Text}),z=e.Variant({ok:e.Record({userId:e.Principal,instructions:e.Text}),err:e.Text}),H=e.Record({social:e.Bool,push:e.Bool,security:e.Bool,email:e.Bool,goals:e.Bool,transactions:e.Bool}),Y=e.Record({twoFactorEnabled:e.Bool,deviceTracking:e.Bool,loginNotifications:e.Bool}),N=e.Record({profileVisibility:e.Text,allowFriendRequests:e.Bool,transactionVisibility:e.Text}),O=e.Record({theme:e.Text,notifications:H,security:Y,language:e.Text,privacy:N,currency:e.Text}),G=e.Record({id:t,username:e.Text,displayName:e.Text,lastLoginAt:e.Opt(e.Int),createdAt:e.Int,isActive:e.Bool,email:e.Opt(e.Text),preferences:O,recoverySetupCompleted:e.Bool,loginAttempts:e.Nat,updatedAt:e.Int,isLocked:e.Bool,avatar:e.Opt(e.Text)}),D=e.Variant({ok:G,err:e.Text}),ne=e.Record({id:e.Text,lastUsedAt:e.Int,permissions:e.Vec(e.Text),userId:t,walletType:e.Text,isActive:e.Bool,connectedAt:e.Int,address:e.Opt(e.Text),principalId:e.Opt(e.Text)}),Q=e.Variant({ok:ne,err:e.Text}),ae=e.Record({id:e.Text,endDate:e.Int,period:e.Text,userId:t,name:e.Text,isActive:e.Bool,spent:e.Float64,category:e.Text,amount:e.Float64,startDate:e.Int}),fe=e.Variant({ok:ae,err:e.Text}),le=e.Record({id:e.Text,fee:e.Float64,status:e.Text,fromAddress:e.Opt(e.Text),metadata:e.Opt(e.Text),userId:t,type:e.Text,currency:e.Text,blockHeight:e.Opt(e.Nat),timestamp:e.Int,txHash:e.Opt(e.Text),toAddress:e.Opt(e.Text),amount:e.Float64,walletId:e.Text}),de=e.Variant({ok:le,err:e.Text}),_e=e.Variant({CAT:e.Null,ICP:e.Null,MOD:e.Null,NTN:e.Null,GHOST:e.Null,NANAS:e.Null,BOOM:e.Null,CHAT:e.Null,ELNA:e.Null,CKPEPE:e.Null,FIAT:e.Null,FOMO:e.Null,GLDT:e.Null,MEME:e.Null,NICP:e.Null,CYCLES:e.Null,SNS1:e.Null,TRAX:e.Null,YUGE:e.Null,PANDA:e.Null,PARTY:e.Null,ckBTC:e.Null,ckETH:e.Null,WUMBO:e.Null,OPENCHAT:e.Null,DKUMA:e.Null,DOGMI:e.Null,DSCVR:e.Null,KINIC:e.Null,ALPACALB:e.Null,MOTOKO:e.Null,DRAGGINZ:e.Null,DAMONIC:e.Null,CLOWN:e.Null,SHRIMP:e.Null,SEERS:e.Null,SNEED:e.Null,SONIC:e.Null}),T=e.Record({id:e.Text,balance:e.Float64,metadata:e.Opt(e.Text),userId:t,name:e.Text,createdAt:e.Int,isExternal:e.Bool,walletType:_e,isActive:e.Bool,updatedAt:e.Int,currency:e.Text,address:e.Opt(e.Text),lastSyncAt:e.Opt(e.Int),externalWalletType:e.Opt(e.Text)}),he=e.Variant({ok:T,err:e.Text}),we=e.Record({id:e.Text,title:e.Text,userId:t,createdAt:e.Int,description:e.Text,isActive:e.Bool,updatedAt:e.Int,isAchieved:e.Bool,targetAmount:e.Float64,currency:e.Text,targetDate:e.Opt(e.Int),category:e.Text,currentAmount:e.Float64}),ce=e.Variant({ok:we,err:e.Text}),ue=e.Variant({Investment:e.Null,Custom:e.Null,Business:e.Null,Travel:e.Null,Savings:e.Null,Charity:e.Null,Emergency:e.Null,Education:e.Null}),ge=e.Record({id:e.Text,vaultType:ue,members:e.Vec(e.Text),ownerId:t,metadata:e.Opt(e.Text),name:e.Text,createdAt:e.Int,description:e.Opt(e.Text),isActive:e.Bool,updatedAt:e.Int,targetAmount:e.Opt(e.Float64),currency:e.Text,isPublic:e.Bool,totalBalance:e.Float64,rules:e.Opt(e.Text)}),R=e.Variant({ok:ge,err:e.Text}),V=e.Variant({Paused:e.Null,Active:e.Null,Cancelled:e.Null,Completed:e.Null}),q=e.Variant({Prediction:e.Null,Quiz:e.Null,Tournament:e.Null,Trading:e.Null,Custom:e.Null,Lottery:e.Null,Challenge:e.Null}),ee=e.Record({id:e.Text,startTime:e.Int,status:V,endTime:e.Opt(e.Int),metadata:e.Opt(e.Text),currentParticipants:e.Nat,name:e.Text,createdAt:e.Int,createdBy:t,description:e.Text,updatedAt:e.Int,currency:e.Text,gameType:q,maxParticipants:e.Opt(e.Nat),isPublic:e.Bool,entryFee:e.Opt(e.Float64),rules:e.Opt(e.Text),prizePool:e.Float64}),Z=e.Variant({ok:ee,err:e.Text}),re=e.Record({id:e.Text,status:e.Text,metadata:e.Opt(e.Text),userId:t,type:e.Text,description:e.Text,currency:e.Text,timestamp:e.Int,category:e.Text,amount:e.Float64,walletId:e.Text}),b=e.Variant({ok:re,err:e.Text}),m=e.Record({id:e.Text,balance:e.Float64,userId:t,name:e.Text,createdAt:e.Int,type:e.Text,isActive:e.Bool,updatedAt:e.Int,currency:e.Text}),y=e.Variant({ok:m,err:e.Text}),A=e.Record({id:e.Text,status:e.Text,metadata:e.Opt(e.Text),userId:t,type:e.Text,description:e.Text,vaultId:e.Text,currency:e.Text,timestamp:e.Int,amount:e.Float64}),F=e.Variant({ok:A,err:e.Text}),K=e.Record({id:e.Text,title:e.Text,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,type:e.Text,description:e.Text,actionable:e.Bool,confidence:e.Float64}),ie=e.Variant({ok:e.Vec(K),err:e.Text}),pe=e.Record({id:e.Text,title:e.Text,estimatedImpact:e.Float64,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,description:e.Text,isImplemented:e.Bool,category:e.Text,priority:e.Text}),Ee=e.Variant({ok:e.Vec(pe),err:e.Text}),be=e.Variant({ok:e.Text,err:e.Text}),Be=e.Variant({ok:e.Record({implementedRecommendations:e.Nat,totalRecommendations:e.Nat,totalInsights:e.Nat,averageConfidence:e.Float64,totalMessages:e.Nat}),err:e.Text}),S=e.Variant({Error:e.Null,System:e.Null,User:e.Null,Assistant:e.Null}),v=e.Record({id:e.Text,content:e.Text,metadata:e.Opt(e.Text),userId:t,type:S,timestamp:e.Int}),w=e.Variant({ok:e.Vec(v),err:e.Text}),j=e.Variant({ok:e.Vec(ee),err:e.Text}),te=e.Variant({ok:e.Record({activeWallets:e.Nat,monthlySpent:e.Float64,goalsProgress:e.Float64,totalBalance:e.Float64}),err:e.Text}),se=e.Variant({ok:e.Record({totalValue:e.Float64,totalRewards:e.Float64,averageApy:e.Float64,activeProtocols:e.Vec(e.Text),totalPositions:e.Nat}),err:e.Text}),oe=e.Variant({ok:e.Vec(P),err:e.Text}),ke=e.Variant({ok:e.Record({totalVolume:e.Float64,averageApy:e.Float64,totalPositions:e.Nat,totalUsers:e.Nat}),err:e.Text}),Re=e.Record({id:e.Text,fee:e.Float64,protocol:W,status:e.Text,metadata:e.Opt(e.Text),userId:t,type:e.Text,amountA:e.Float64,amountB:e.Opt(e.Float64),tokenA:e.Text,tokenB:e.Opt(e.Text),timestamp:e.Int,txHash:e.Opt(e.Text)}),Ce=e.Variant({ok:e.Vec(Re),err:e.Text}),Ne=e.Variant({ok:e.Vec(e.Tuple(e.Text,e.Text)),err:e.Text}),Pe=e.Record({cryptoWallets:e.Vec(T),externalConnections:e.Vec(ne),totalValueKES:e.Float64,totalValueUSD:e.Float64,userId:t,lastUpdated:e.Int,fiatWallets:e.Vec(m),defiPositions:e.Vec(P)}),$e=e.Variant({ok:Pe,err:e.Text}),J=e.Record({id:e.Text,metadata:e.Opt(e.Text),userId:t,joinedAt:e.Int,rank:e.Opt(e.Nat),gameId:e.Text,isActive:e.Bool,score:e.Float64}),Fe=e.Variant({ok:e.Vec(J),err:e.Text}),Ie=e.Variant({ok:e.Record({topProvider:e.Opt(e.Text),successRate:e.Float64,totalFees:e.Float64,totalPayments:e.Nat,totalAmount:e.Float64}),err:e.Text}),I=e.Variant({ok:e.Vec(U),err:e.Text}),me=e.Record({id:e.Text,status:e.Text,completedAt:e.Opt(e.Int),verificationCode:e.Opt(e.Text),expiresAt:e.Int,metadata:e.Opt(e.Text),userId:e.Opt(t),createdAt:e.Int,recoveryToken:e.Opt(e.Text),recoveryMethod:e.Text,identifier:e.Text,verifiedAt:e.Opt(e.Int)}),dt=e.Record({id:e.Text,action:e.Text,userId:e.Opt(t),timestamp:e.Int,details:e.Text,success:e.Bool,userAgent:e.Opt(e.Text),ipAddress:e.Opt(e.Text)}),Tm=e.Variant({ok:e.Vec(dt),err:e.Text}),Am=e.Variant({ok:e.Vec(ae),err:e.Text}),Cm=e.Variant({ok:e.Vec(le),err:e.Text}),Bm=e.Variant({ok:e.Vec(T),err:e.Text}),gt=e.Variant({ok:e.Vec(ne),err:e.Text}),Rm=e.Variant({ok:e.Vec(B),err:e.Text}),Fm=e.Variant({ok:e.Vec(we),err:e.Text}),Pm=e.Variant({ok:e.Vec(ge),err:e.Text}),Su=e.Record({id:e.Text,service:e.Text,status:e.Text,deliveredAt:e.Opt(e.Int),expiresAt:e.Int,provider:e.Text,metadata:e.Opt(e.Text),code:e.Text,userId:e.Opt(t),createdAt:e.Int,recipient:e.Text,attempts:e.Nat,sentAt:e.Opt(e.Int),purpose:e.Text}),Nu=e.Variant({ok:e.Vec(Su),err:e.Text}),ku=e.Variant({ok:e.Vec(o),err:e.Text}),Tu=e.Variant({ok:e.Vec(f),err:e.Text}),ot=e.Variant({ok:e.Vec(re),err:e.Text}),Au=e.Variant({ok:e.Record({allAddresses:e.Vec(e.Text),principalId:e.Text,accountIdentifier:e.Text,cryptoAddresses:e.Vec(e.Tuple(e.Text,e.Text))}),err:e.Text}),Cu=e.Variant({ok:e.Vec(m),err:e.Text}),Ps=e.Record({id:e.Text,permissions:e.Vec(e.Text),userId:t,joinedAt:e.Int,role:e.Text,isActive:e.Bool,contributionLimit:e.Opt(e.Float64),vaultId:e.Text,withdrawalLimit:e.Opt(e.Float64)}),Bu=e.Variant({ok:e.Record({members:e.Vec(Ps),vault:ge,transactions:e.Vec(A)}),err:e.Text}),Ru=e.Variant({ok:e.Record({recoveryRequestId:e.Text,message:e.Text,securityQuestions:e.Opt(e.Vec(e.Tuple(e.Text,e.Text)))}),err:e.Text}),Os=e.Variant({ok:Ps,err:e.Text}),Ms=e.Variant({ok:J,err:e.Text}),Fu=e.Variant({ok:pe,err:e.Text}),qe=e.Variant({ok:Re,err:e.Text}),Pu=e.Variant({ok:e.Bool,err:e.Text}),Ou=e.Variant({ok:v,err:e.Text}),L=e.Variant({ok:e.Record({expiresIn:e.Int,otpId:e.Text,message:e.Text}),err:e.Text}),Me=e.Variant({ok:e.Record({verified:e.Bool,recipient:e.Text,purpose:e.Text}),err:e.Text});return e.Service({addEmergencyContact:e.Func([e.Text,e.Text,e.Text],[n],[]),addPaymentMethod:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Text,e.Bool],[s],[]),addPlugin:e.Func([d],[g],[]),addRecoveryMethod:e.Func([e.Text,e.Text,e.Opt(e.Text)],[p],[]),addSecurityQuestions:e.Func([e.Vec(e.Tuple(e.Text,e.Text))],[k],[]),awardGameReward:e.Func([e.Text,t,e.Text,e.Float64,e.Opt(e.Text),e.Text],[_],[]),calculateDefiRewards:e.Func([e.Text],[E],[]),cancelPayment:e.Func([e.Text],[C],[]),claimGameReward:e.Func([e.Text],[_],[]),closeDefiPosition:e.Func([e.Text],[X],[]),completeRecovery:e.Func([e.Text,e.Opt(e.Text)],[z],[]),completeRecoverySetup:e.Func([],[D],[]),connectExternalWallet:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Vec(e.Text)],[Q],[]),createBudget:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Int,e.Int],[fe],[]),createCryptoTransaction:e.Func([e.Text,e.Text,e.Float64,e.Opt(e.Text),e.Opt(e.Text),e.Opt(e.Text),e.Float64],[de],[]),createCryptoWallet:e.Func([e.Text,e.Text,e.Bool,e.Opt(e.Text),e.Opt(e.Text)],[he],[]),createDeFiPosition:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text),e.Float64,e.Float64],[X],[]),createDefiPosition:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text),e.Float64,e.Float64],[X],[]),createGoal:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Opt(e.Int),e.Text],[ce],[]),createGroupVault:e.Func([e.Text,e.Opt(e.Text),e.Text,e.Text,e.Opt(e.Float64),e.Bool,e.Opt(e.Text)],[R],[]),createSocialGame:e.Func([e.Text,e.Text,e.Text,e.Int,e.Opt(e.Int),e.Opt(e.Nat),e.Opt(e.Float64),e.Float64,e.Text,e.Opt(e.Text),e.Bool],[Z],[]),createTransaction:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Text],[b],[]),createUser:e.Func([e.Text,e.Text,e.Opt(e.Text)],[D],[]),createWallet:e.Func([e.Text,e.Text,e.Text],[y],[]),depositToVault:e.Func([e.Text,e.Float64,e.Opt(e.Text)],[F],[]),endGame:e.Func([e.Text],[Z],[]),generateAIInsights:e.Func([],[ie],[]),generateAIRecommendations:e.Func([],[Ee],[]),generateDepositAddress:e.Func([e.Text],[be],[]),getAIAnalytics:e.Func([],[Be],[]),getAIConversationHistory:e.Func([],[w],[]),getAvailableGames:e.Func([],[j],[]),getDashboardStats:e.Func([],[te],["query"]),getDefiAnalytics:e.Func([],[se],[]),getDefiPositionsByProductType:e.Func([e.Text],[oe],[]),getDefiPositionsByProtocol:e.Func([e.Text],[oe],[]),getDefiProtocolStats:e.Func([e.Text],[ke],[]),getDefiTransactionsByProtocol:e.Func([e.Text],[Ce],[]),getDepositAddress:e.Func([e.Text],[be],[]),getDepositAddresses:e.Func([],[Ne],[]),getFullWalletPortfolio:e.Func([],[$e],[]),getGameLeaderboard:e.Func([e.Text],[Fe],[]),getGamesByType:e.Func([e.Text],[j],[]),getPaymentStats:e.Func([],[Ie],[]),getPaymentsByProvider:e.Func([e.Text],[I],[]),getPrincipalId:e.Func([],[e.Text],["query"]),getRecoveryRequestStatus:e.Func([e.Text],[e.Opt(me)],["query"]),getSystemStats:e.Func([],[e.Record({totalExternalConnections:e.Nat,totalWallets:e.Nat,totalCryptoWallets:e.Nat,totalRecoveryRequests:e.Nat,totalOTPRequests:e.Nat,totalCryptoTransactions:e.Nat,totalUsers:e.Nat,totalRecoveryMethods:e.Nat,totalTransactions:e.Nat,totalDeFiPositions:e.Nat})],["query"]),getUser:e.Func([],[D],["query"]),getUserAIInsights:e.Func([],[ie],[]),getUserAIRecommendations:e.Func([],[Ee],[]),getUserAuditLogs:e.Func([],[Tm],[]),getUserBudgets:e.Func([],[Am],["query"]),getUserByEmail:e.Func([e.Text],[e.Opt(t)],["query"]),getUserByPhone:e.Func([e.Text],[e.Opt(t)],["query"]),getUserCryptoTransactions:e.Func([],[Cm],[]),getUserCryptoWallets:e.Func([],[Bm],["query"]),getUserDeFiPositions:e.Func([],[oe],[]),getUserDefiPositions:e.Func([],[oe],[]),getUserDefiTransactions:e.Func([],[Ce],[]),getUserExternalConnections:e.Func([],[gt],[]),getUserGameRewards:e.Func([],[Rm],[]),getUserGames:e.Func([],[j],[]),getUserGoals:e.Func([],[Fm],["query"]),getUserGroupVaults:e.Func([],[Pm],[]),getUserOTPRequests:e.Func([],[Nu],[]),getUserPaymentHistory:e.Func([],[I],[]),getUserPaymentMethods:e.Func([],[ku],[]),getUserRecoveryMethods:e.Func([],[Tu],["query"]),getUserTransactions:e.Func([],[ot],["query"]),getUserWalletAddresses:e.Func([],[Au],[]),getUserWallets:e.Func([],[Cu],["query"]),getVaultDetails:e.Func([e.Text],[Bu],[]),getWallet:e.Func([e.Text],[y],[]),getWalletByAddress:e.Func([e.Text],[e.Opt(e.Text)],["query"]),greet:e.Func([e.Text],[e.Text],["query"]),initiateLocalPayment:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Opt(e.Text)],[C],[]),initiateRecovery:e.Func([e.Text,e.Text],[Ru],[]),inviteToVault:e.Func([e.Text,t,e.Text],[Os],[]),joinGame:e.Func([e.Text],[Ms],[]),joinVault:e.Func([e.Text],[Os],[]),linkRecoveredAccount:e.Func([e.Text,e.Principal],[D],[]),loginOrCreateUser:e.Func([],[D],[]),markRecommendationImplemented:e.Func([e.Text],[Fu],[]),processPayment:e.Func([e.Text],[C],[]),recordDefiTransaction:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text),e.Float64,e.Opt(e.Float64),e.Float64,e.Opt(e.Text)],[qe],[]),regenerateWalletAddress:e.Func([e.Text],[be],[]),removePaymentMethod:e.Func([e.Text],[Pu],[]),sendAIMessage:e.Func([e.Text],[Ou],[]),sendOTP:e.Func([e.Text,e.Text,e.Text,e.Text],[L],[]),sendVerificationCode:e.Func([e.Text,e.Text],[be],[]),updateCryptoWalletBalance:e.Func([e.Text,e.Float64],[he],[]),updateDefiPosition:e.Func([e.Text,e.Float64,e.Float64,e.Float64],[X],[]),updateGameScore:e.Func([e.Text,e.Float64],[Ms],[]),updateGoalProgress:e.Func([e.Text,e.Float64],[ce],[]),updatePaymentMethod:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Text,e.Bool],[s],[]),updateUser:e.Func([e.Opt(e.Text),e.Opt(e.Text)],[D],[]),userExists:e.Func([],[e.Bool],[]),validateAddress:e.Func([e.Text,e.Text],[e.Bool],["query"]),verifyCode:e.Func([e.Text,e.Text,e.Text],[be],[]),verifyOTP:e.Func([e.Text,e.Text],[Me],[]),verifyRecovery:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Vec(e.Tuple(e.Text,e.Text)))],[be],[]),verifyRecoveryMethod:e.Func([e.Text,e.Text,e.Text],[p],[]),withdrawFromVault:e.Func([e.Text,e.Float64,e.Opt(e.Text)],[F],[])})},Vo=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"),B8=()=>Vo?{}.VITE_CANISTER_ID_NISTO_BACKEND||{}.CANISTER_ID_NISTO_BACKEND||"uxrrr-q7777-77774-qaaaq-cai":{}.VITE_CANISTER_ID_NISTO_BACKEND||"uxrrr-q7777-77774-qaaaq-cai",R8=()=>Vo?{}.VITE_INTERNET_IDENTITY_CANISTER_ID||{}.CANISTER_ID_INTERNET_IDENTITY||"uzt4z-lp777-77774-qaabq-cai":"rdmx6-jaaaa-aaaaa-aaadq-cai",Yh=B8(),F8=R8();class P8{constructor(){this.authClient=null,this.actor=null,this.isAuthenticated=!1,this.identity=null,this.principal=null}async init(){try{return this.authClient=await A8.create(),await this.authClient.isAuthenticated()&&(this.identity=this.authClient.getIdentity(),this.principal=this.identity.getPrincipal(),this.isAuthenticated=!0),await this.createActor(),this.isAuthenticated}catch(t){return console.error("Failed to initialize backend service:",t),!1}}async createActor(){try{const t=new Bi({identity:this.identity,host:Vo?"http://localhost:4943":"https://ic0.app"});return Vo&&await t.fetchRootKey(),console.log("Creating actor with canister ID:",Yh),this.actor=Eu.createActor(C8,{agent:t,canisterId:Yh}),this.actor}catch(t){throw console.error("Failed to create actor:",t),t}}async ensureActor(){return this.actor||await this.createActor(),this.actor}async login(){try{return this.authClient||await this.init(),new Promise((t,r)=>{const n=Vo?`http://${F8}.localhost:4943`:"https://identity.ic0.app";console.log("Using Internet Identity provider:",n),this.authClient.login({identityProvider:n,onSuccess:async()=>{try{this.identity=this.authClient.getIdentity(),this.principal=this.identity.getPrincipal(),this.isAuthenticated=!0,await this.createActor();const a=await this.loginOrCreateUser(),o={success:!0,user:a};t(o)}catch(a){console.error("Post-login setup failed:",a),r(a)}},onError:a=>{console.error("Login failed:",a),r(a)}})})}catch(t){throw console.error("Login error:",t),t}}async logout(){this.authClient&&(await this.authClient.logout(),this.isAuthenticated=!1,this.identity=null,this.principal=null,this.actor=null)}async loginOrCreateUser(){try{const t=await this.actor.loginOrCreateUser();if(t.ok){const r={...t.ok,createdAt:t.ok.createdAt?t.ok.createdAt.toString():null,updatedAt:t.ok.updatedAt?t.ok.updatedAt.toString():null,lastLoginAt:t.ok.lastLoginAt?t.ok.lastLoginAt.toString():null};return r}else throw new Error(t.err)}catch(t){throw console.error("Login or create user failed:",t),t}}async getUser(){try{const t=await this.actor.getUser();if(t.ok){const r={...t.ok,createdAt:t.ok.createdAt?t.ok.createdAt.toString():null,updatedAt:t.ok.updatedAt?t.ok.updatedAt.toString():null,lastLoginAt:t.ok.lastLoginAt?t.ok.lastLoginAt.toString():null};return r}else throw new Error(t.err)}catch(t){throw console.error("Get user failed:",t),t}}async updateUser(t,r){try{const n=await this.actor.updateUser(t?[t]:[],r?[r]:[]);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Update user failed:",n),n}}async userExists(){try{return await this.actor.userExists()}catch(t){return console.error("User exists check failed:",t),!1}}async getPrincipalId(){try{return await this.actor.getPrincipalId()}catch(t){throw console.error("Get principal ID failed:",t),t}}async addRecoveryMethod(t,r,n=null){try{await this.ensureActor();const a=await this.actor.addRecoveryMethod(t,r,n?[n]:[]);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Add recovery method failed:",a),a}}async getUserRecoveryMethods(){try{await this.ensureActor();const t=await this.actor.getUserRecoveryMethods();if(t.ok){const r=t.ok.map(n=>({...n,createdAt:n.createdAt?n.createdAt.toString():null,verifiedAt:n.verifiedAt?n.verifiedAt.toString():null}));return r}else throw new Error(t.err)}catch(t){if(t.message&&(t.message.includes("has no query method")||t.message.includes("CanisterError")))return[];throw console.error("Get recovery methods failed:",t),t}}async addSecurityQuestions(t){try{const r=await this.actor.addSecurityQuestions(t);if(r.ok)return r.ok;throw new Error(r.err)}catch(r){throw console.error("Add security questions failed:",r),r}}async addEmergencyContact(t,r,n){try{const a=await this.actor.addEmergencyContact(t,r,n);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Add emergency contact failed:",a),a}}async completeRecoverySetup(){try{const t=await this.actor.completeRecoverySetup();if(t.ok)return t.ok;throw new Error(t.err)}catch(t){throw console.error("Complete recovery setup failed:",t),t}}async initiateRecovery(t,r){try{await this.ensureActor();const n=await this.actor.initiateRecovery(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Initiate recovery failed:",n),n}}async verifyRecovery(t,r,n){try{await this.ensureActor();const a=await this.actor.verifyRecovery(t,r?[r]:[],n?[n]:[]);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Verify recovery failed:",a),a}}async completeRecovery(t,r){try{await this.ensureActor();const n=await this.actor.completeRecovery(t,r?[r]:[]);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Complete recovery failed:",n),n}}async linkRecoveredAccount(t,r){try{await this.ensureActor();const n=await this.actor.linkRecoveredAccount(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Link recovered account failed:",n),n}}async createCryptoWallet(t,r,n,a=null,o=null){try{await this.ensureActor();const s=await this.actor.createCryptoWallet(t,r,n,a?[a]:[],o?[o]:[]);if(s.ok)return s.ok;throw new Error(s.err)}catch(s){throw console.error("Create crypto wallet failed:",s),s}}async getUserCryptoWallets(){try{await this.ensureActor();const t=await this.actor.getUserCryptoWallets();if(t.ok){const r=t.ok.map(n=>({...n,createdAt:n.createdAt?n.createdAt.toString():null,updatedAt:n.updatedAt?n.updatedAt.toString():null,lastSyncAt:n.lastSyncAt?n.lastSyncAt.toString():null}));return r}else throw new Error(t.err)}catch(t){if(t.message&&(t.message.includes("has no query method")||t.message.includes("CanisterError")))return[];throw console.error("Get user crypto wallets failed:",t),t}}async updateCryptoWalletBalance(t,r){try{await this.ensureActor();const n=await this.actor.updateCryptoWalletBalance(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Update crypto wallet balance failed:",n),n}}async sendVerificationCode(t,r){try{await this.ensureActor();const n=await this.actor.sendVerificationCode(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Send verification code failed:",n),n}}async verifyCode(t,r,n){try{await this.ensureActor();const a=await this.actor.verifyCode(t,r,n);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Verify code failed:",a),a}}async getRecoveryRequestStatus(t){try{return await this.ensureActor(),await this.actor.getRecoveryRequestStatus(t)}catch(r){throw console.error("Get recovery request status failed:",r),r}}async greet(t){try{return await this.actor.greet(t)}catch(r){throw console.error("Greet failed:",r),r}}async getUserPaymentMethods(){try{await this.ensureActor();const t=await this.actor.getUserPaymentMethods();if(t.ok)return t.ok;throw new Error(t.err)}catch(t){return console.error("Get user payment methods failed:",t),[]}}async addPaymentMethod(t,r,n,a,o){try{await this.ensureActor();const s=await this.actor.addPaymentMethod(t,r?[r]:[],n?[n]:[],a,o);if(s.ok)return s.ok;throw new Error(s.err)}catch(s){throw console.error("Add payment method failed:",s),s}}async updatePaymentMethod(t,r,n,a,o){try{await this.ensureActor();const s=await this.actor.updatePaymentMethod(t,r?[r]:[],n?[n]:[],a,o);if(s.ok)return s.ok;throw new Error(s.err)}catch(s){throw console.error("Update payment method failed:",s),s}}async removePaymentMethod(t){try{await this.ensureActor();const r=await this.actor.removePaymentMethod(t);if(r.ok)return r.ok;throw new Error(r.err)}catch(r){throw console.error("Remove payment method failed:",r),r}}async initiateLocalPayment(t,r,n,a,o,s,l){try{await this.ensureActor();const c=await this.actor.initiateLocalPayment(t,r,n,a,o?[o]:[],s?[s]:[],l?[l]:[]);if(c.ok)return c.ok;throw new Error(c.err)}catch(c){throw console.error("Initiate local payment failed:",c),c}}async getUserPaymentHistory(){try{await this.ensureActor();const t=await this.actor.getUserPaymentHistory();if(t.ok)return t.ok;throw new Error(t.err)}catch(t){return console.error("Get user payment history failed:",t),[]}}async getUserVaults(){await this.ensureActor();try{return await this.actor.getUserVaults()}catch(t){return console.error("Failed to get user vaults:",t),[]}}async getUserGroupVaults(){await this.ensureActor();try{return await this.actor.getUserGroupVaults()}catch(t){throw console.error("Failed to get user group vaults:",t),t}}async getPublicVaults(){await this.ensureActor();try{return await this.actor.getPublicVaults()}catch(t){throw console.error("Failed to get public vaults:",t),t}}async createVault(t,r,n,a,o,s,l,c){await this.ensureActor();try{return await this.actor.createVault(t,r,n,a,o,s,l,c)}catch(u){throw console.error("Failed to create vault:",u),u}}async createGroupVault(t,r,n,a,o,s,l){await this.ensureActor();try{return await this.actor.createGroupVault(t,r?[r]:[],n,a,o?[o]:[],s,l?[l]:[])}catch(c){throw console.error("Failed to create group vault:",c),c}}async joinGroupVault(t){await this.ensureActor();try{return await this.actor.joinVault(t)}catch(r){throw console.error("Failed to join group vault:",r),r}}async getVaultDetails(t){await this.ensureActor();try{return await this.actor.getVaultDetails(t)}catch(r){throw console.error("Failed to get vault details:",r),r}}async inviteVaultMember(t,r,n){await this.ensureActor();try{const a=await this.actor.inviteToVault(t,r,n);if(a.ok)return a;throw new Error(a.err)}catch(a){throw console.error("Failed to invite vault member:",a),a}}async toggleVaultPrivacy(t,r){await this.ensureActor();try{return{ok:{vaultId:t,isPublic:r}}}catch(n){throw console.error("Failed to toggle vault privacy:",n),n}}async removeVaultMember(t,r){await this.ensureActor();try{const n=await this.actor.removeMember(t,r);if(n.ok)return n;throw new Error(n.err)}catch(n){throw console.error("Failed to remove vault member:",n),n}}async changeVaultMemberRole(t,r,n){await this.ensureActor();try{const a=await this.actor.changeMemberRole(t,r,n);if(a.ok)return a;throw new Error(a.err)}catch(a){throw console.error("Failed to change vault member role:",a),a}}async editGroupVault(t,r){await this.ensureActor();try{return{ok:{vaultId:t,fields:r,updated:!0}}}catch(n){throw console.error("Failed to edit group vault:",n),n}}async depositToVault(t,r,n){await this.ensureActor();try{const a=await this.actor.depositToVault(t,parseFloat(r),n?[n]:[]);if(a.ok)return a;throw new Error(a.err)}catch(a){throw console.error("Failed to deposit to vault:",a),a}}async withdrawFromVault(t,r,n){await this.ensureActor();try{const a=await this.actor.withdrawFromVault(t,parseFloat(r),n?[n]:[]);if(a.ok)return a;throw new Error(a.err)}catch(a){throw console.error("Failed to withdraw from vault:",a),a}}async deleteGroupVault(t){await this.ensureActor();try{return{ok:{vaultId:t,deleted:!0}}}catch(r){throw console.error("Failed to delete group vault:",r),r}}async proposeVaultAction(t,r,n=null,a=null){await this.ensureActor();try{return{ok:{vaultId:t,actionType:r,targetId:n,newRole:a,proposed:!0}}}catch(o){throw console.error("Failed to propose vault action:",o),o}}async voteVaultAction(t,r){await this.ensureActor();try{return{ok:{proposalId:t,approve:r,voted:!0}}}catch(n){throw console.error("Failed to vote vault action:",n),n}}async appealVaultAction(t,r){await this.ensureActor();try{return{ok:{proposalId:t,reason:r,appealed:!0}}}catch(n){throw console.error("Failed to appeal vault action:",n),n}}async getVaultProposals(t){await this.ensureActor();try{return{ok:[]}}catch(r){throw console.error("Failed to get vault proposals:",r),r}}}const Yw=M.createContext();function O8({children:e}){const[t,r]=M.useState(null),[n,a]=M.useState(null),[o,s]=M.useState(!1),[l,c]=M.useState(!0),[u,d]=M.useState([]),[g,f]=M.useState([]),p=i.useRef(new P8).current;M.useEffect(()=>{(async()=>{c(!0);try{const ue=await p.init();s(ue),ue&&(await h(),await _(),await E()),a(p.principal?p.principal.toString():null)}catch{s(!1),r(null)}finally{c(!1)}})()},[]);const h=M.useCallback(async()=>{try{const ce=await p.getUser();r(ce)}catch{r(null)}},[p]),k=M.useCallback(async()=>{c(!0);try{const ce=await p.login();return s(!0),a(p.principal?p.principal.toString():null),await h(),await _(),await E(),ce}finally{c(!1)}},[p,h]),B=M.useCallback(async()=>{c(!0);try{await p.logout(),s(!1),r(null),a(null),d([]),f([])}finally{c(!1)}},[p]),_=M.useCallback(async()=>{try{const ce=await p.getUserRecoveryMethods();d(ce||[])}catch{d([])}},[p]),E=M.useCallback(async()=>{try{const ce=await p.getUserCryptoWallets();f(ce||[])}catch{f([])}},[p]),x=M.useCallback(async(...ce)=>p.completeRecoverySetup(...ce),[p]),U=M.useCallback(async(...ce)=>p.initiateRecovery(...ce),[p]),C=M.useCallback(async(...ce)=>p.verifyRecovery(...ce),[p]),W=M.useCallback(async(...ce)=>p.completeRecovery(...ce),[p]),$=M.useCallback(async(...ce)=>p.linkRecoveredAccount(...ce),[p]),P=M.useCallback(async(ce,ue)=>p.updateCryptoWalletBalance(ce,ue),[p]),X=M.useCallback(async()=>{try{const ce=await p.getUserGroupVaults();return ce.ok?ce.ok:(console.error("Failed to get user group vaults:",ce.err),[])}catch(ce){return console.error("Failed to get user group vaults:",ce),[]}},[p]),z=M.useCallback(async()=>{try{const ce=await p.getPublicVaults();return ce.ok?ce.ok:(console.error("Failed to get public vaults:",ce.err),[])}catch(ce){return console.error("Failed to get public vaults:",ce),[]}},[p]),H=M.useCallback(async(ce,ue,ge,R,V,q,ee)=>p.createGroupVault(ce,ue,ge,R,V,q,ee),[p]),Y=M.useCallback(async ce=>p.joinGroupVault(ce),[p]),N=M.useCallback(async ce=>p.getVaultDetails(ce),[p]),O=M.useCallback(async(ce,ue,ge)=>p.inviteVaultMember(ce,ue,ge),[p]),G=M.useCallback(async(ce,ue)=>p.toggleVaultPrivacy(ce,ue),[p]),D=M.useCallback(async(ce,ue)=>p.removeVaultMember(ce,ue),[p]),ne=M.useCallback(async(ce,ue,ge)=>p.changeVaultMemberRole(ce,ue,ge),[p]),Q=M.useCallback(async(ce,ue)=>p.editGroupVault(ce,ue),[p]),ae=M.useCallback(async(ce,ue,ge)=>p.depositToVault(ce,ue,ge),[p]),fe=M.useCallback(async(ce,ue,ge)=>p.withdrawFromVault(ce,ue,ge),[p]),le=M.useCallback(async ce=>p.deleteGroupVault(ce),[p]),de=M.useCallback(async(ce,ue,ge=null,R=null)=>p.proposeVaultAction(ce,ue,ge,R),[p]),_e=M.useCallback(async(ce,ue)=>p.voteVaultAction(ce,ue),[p]),T=M.useCallback(async(ce,ue)=>p.appealVaultAction(ce,ue),[p]),he=M.useCallback(async ce=>p.getVaultProposals(ce),[p]),we={user:t,principal:n,isAuthenticated:o,isLoading:l,login:k,logout:B,completeRecoverySetup:x,recoveryMethods:u,cryptoWallets:g,refreshRecoveryMethods:_,refreshCryptoWallets:E,initiateRecovery:U,verifyRecovery:C,completeRecovery:W,linkRecoveredAccount:$,updateCryptoWalletBalance:P,getUserGroupVaults:X,getPublicVaults:z,createGroupVault:H,joinGroupVault:Y,getVaultDetails:N,inviteVaultMember:O,toggleVaultPrivacy:G,removeVaultMember:D,changeVaultMemberRole:ne,editGroupVault:Q,depositToVault:ae,withdrawFromVault:fe,deleteGroupVault:le,proposeVaultAction:de,voteVaultAction:_e,appealVaultAction:T,getVaultProposals:he};return i.createElement(Yw.Provider,{value:we},e)}function or(){return M.useContext(Yw)}var Qw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qh=i.createContext&&i.createContext(Qw),M8=["attr","size","title"];function U8(e,t){if(e==null)return{};var r=z8(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mc.apply(this,arguments)}function Zh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zh(Object(r),!0).forEach(function(n){V8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V8(e,t,r){return t=W8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W8(e){var t=$8(e,"string");return typeof t=="symbol"?t:t+""}function $8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zw(e){return e&&e.map((t,r)=>i.createElement(t.tag,Uc({key:r},t.attr),Zw(t.child)))}function Ae(e){return t=>i.createElement(j8,Mc({attr:Uc({},e.attr)},t),Zw(e.child))}function j8(e){var t=r=>{var{attr:n,size:a,title:o}=e,s=U8(e,M8),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),i.createElement("svg",Mc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:c,style:Uc(Uc({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return Qh!==void 0?i.createElement(Qh.Consumer,null,r=>t(r)):t(Qw)}function sa(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function Wo(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"8 12 12 16 16 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]}]})(e)}function I8(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function $o(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"16 12 12 8 8 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"8"},child:[]}]})(e)}function Xw(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function Jw(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function Lw(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function Xe(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function Xh(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function H8(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function G8(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Jh(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function q8(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function Sm(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function jo(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function K8(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function zc(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function Y8(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Lh(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(e)}function Dw(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function Q8(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function Z8(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function eE(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function bu(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function Df(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function Vc(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Dh(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Wc(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function X8(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"polyline",attr:{points:"9 21 3 21 3 15"},child:[]},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(e)}function J8(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(e)}function L8(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function eg(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(e)}function Nm(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function D8(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function hs(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function tg(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function rg(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function tE(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function Pr(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function e3(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function t3(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function rE(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function Ql(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function xu(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function e0(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(e)}function km(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function Io(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function _u(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function la(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function Ge(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function t0(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const r3=[{value:"email",label:"Email",icon:i.createElement(Wc,null)},{value:"phone",label:"Phone",icon:i.createElement(Nm,null)},{value:"security",label:"Security Questions",icon:i.createElement(bu,null)},{value:"emergency",label:"Emergency Contact",icon:i.createElement(km,null)}];function n3({isOpen:e,onClose:t,onRecoveryComplete:r}){const{initiateRecovery:n,verifyRecovery:a,completeRecovery:o,linkRecoveredAccount:s}=or(),{showToast:l}=pa(),[c,u]=M.useState(1),[d,g]=M.useState("email"),[f,p]=M.useState(""),[h,k]=M.useState(null),[B,_]=M.useState([]),[E,x]=M.useState([]),[U,C]=M.useState(""),[W,$]=M.useState(null),[P,X]=M.useState(""),[z,H]=M.useState(!1);if(!e)return null;const Y=async G=>{G.preventDefault(),H(!0);try{const D=await n(f,d);k(D.recoveryRequestId),D.securityQuestions?(_(D.securityQuestions),x(D.securityQuestions.map(()=>"")),u(3)):u(2),l({message:D.message,type:"info",icon:i.createElement(Xe,null)})}catch(D){l({message:D.message||"Failed to initiate recovery",type:"error",icon:i.createElement(sa,null)})}finally{H(!1)}},N=async G=>{G.preventDefault(),H(!0);try{let D=null;d==="security"&&(D=B.map((Q,ae)=>[Q[0],E[ae]]));const ne=await a(h,U||null,D);$(ne),u(4),l({message:"Verification successful",type:"success",icon:i.createElement(Xe,null)})}catch(D){l({message:D.message||"Verification failed",type:"error",icon:i.createElement(sa,null)})}finally{H(!1)}},O=async G=>{G.preventDefault(),H(!0);try{const D=await o(W,"Recovered device");X(D.instructions),u(5),l({message:"Account recovery completed",type:"success",icon:i.createElement(Xe,null)}),r&&r(D.instructions)}catch(D){l({message:D.message||"Failed to complete recovery",type:"error",icon:i.createElement(sa,null)})}finally{H(!1)}};return i.createElement("div",{className:"modal-overlay"},i.createElement("div",{className:"account-recovery-modal"},i.createElement("div",{className:"modal-header"},i.createElement("h2",null,i.createElement(bu,null)," Account Recovery"),i.createElement("button",{className:"modal-close",onClick:t},"×")),i.createElement("div",{className:"modal-content"},c===1&&i.createElement("form",{onSubmit:Y,className:"recovery-form"},i.createElement("label",null,"Choose recovery method:"),i.createElement("select",{value:d,onChange:G=>g(G.target.value)},r3.map(G=>i.createElement("option",{key:G.value,value:G.value},G.label))),i.createElement("input",{type:"text",placeholder:d==="phone"?"Enter phone number":"Enter email/identifier",value:f,onChange:G=>p(G.target.value),required:!0}),i.createElement("button",{type:"submit",className:"btn btn-primary",disabled:z},"Start Recovery")),c===2&&i.createElement("form",{onSubmit:N,className:"recovery-form"},i.createElement("label",null,"Enter the verification code sent to your ",d,":"),i.createElement("input",{type:"text",placeholder:"Verification code",value:U,onChange:G=>C(G.target.value),required:!0}),i.createElement("button",{type:"submit",className:"btn btn-primary",disabled:z},"Verify")),c===3&&i.createElement("form",{onSubmit:N,className:"recovery-form"},i.createElement("label",null,"Answer your security questions:"),B.map((G,D)=>i.createElement("div",{key:G[0],className:"security-question-row"},i.createElement("span",null,G[1]),i.createElement("input",{type:"text",placeholder:"Your answer",value:E[D],onChange:ne=>x(Q=>Q.map((ae,fe)=>fe===D?ne.target.value:ae)),required:!0}))),i.createElement("button",{type:"submit",className:"btn btn-primary",disabled:z},"Verify")),c===4&&i.createElement("form",{onSubmit:O,className:"recovery-form"},i.createElement("label",null,"Recovery verified! Complete recovery to regain access."),i.createElement("button",{type:"submit",className:"btn btn-success",disabled:z},"Complete Recovery")),c===5&&i.createElement("div",{className:"recovery-complete"},i.createElement(Xe,{className:"success-icon"}),i.createElement("h3",null,"Account Recovery Complete"),i.createElement("p",null,P),i.createElement("button",{className:"btn btn-primary",onClick:t},"Close")))))}function a3({isOpen:e,onClose:t}){const{login:r,isLoading:n}=or(),a=nu(),[o,s]=M.useState(!1);if(!e)return null;const l=async()=>{try{await r(),t(),a("/dashboard")}catch(d){console.error("Login failed:",d)}},c=d=>{d.target===d.currentTarget&&t()},u=d=>{s(!1),alert("Recovery instructions: "+d),t()};return i.createElement("div",{className:"modal-overlay",onClick:c},i.createElement("div",{className:"login-modal"},i.createElement("div",{className:"modal-header"},i.createElement("h2",null,"Sign in to Nisto"),i.createElement("button",{className:"modal-close",onClick:t},"×")),i.createElement("div",{className:"modal-content"},i.createElement("div",{className:"login-info"},i.createElement("div",{className:"info-icon"},"🔐"),i.createElement("p",null,"Use your Internet Identity to securely access your Nisto account")),i.createElement("button",{className:"btn btn-primary btn-lg login-btn",onClick:l,disabled:n},n?i.createElement(i.Fragment,null,i.createElement("span",{className:"loading-spinner"}),i.createElement("span",null,"Connecting...")):i.createElement(i.Fragment,null,i.createElement("span",{className:"btn-icon"},"🌐"),i.createElement("span",null,"Sign in with Internet Identity"))),i.createElement("div",{className:"login-help"},i.createElement("p",null,"Don't have an Internet Identity?"," ",i.createElement("a",{href:"https://identity.ic0.app",target:"_blank",rel:"noopener noreferrer"},"Create one here")),i.createElement("p",null,"Lost access to your Internet Identity?"," ",i.createElement("button",{className:"btn-link",onClick:()=>s(!0)},"Recover your account"))))),i.createElement(n3,{isOpen:o,onClose:()=>s(!1),onRecoveryComplete:u}))}function i3(){const{isAuthenticated:e,user:t,login:r,logout:n,isLoading:a}=or(),[o,s]=M.useState(!1),[l,c]=M.useState(0),[u,d]=M.useState(!1),g=nu(),[f,p]=M.useState({email:"",role:"user",interests:[]});M.useEffect(()=>{const B=()=>c(window.scrollY);return window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)},[]),M.useEffect(()=>{e&&!a&&g("/dashboard")},[e,a,g]);const h=async B=>{B.preventDefault(),alert(`Thank you ${f.email}! You've been added to our waiting list. We'll notify you when Nisto launches!`),p({email:"",role:"user",interests:[]})},k=async()=>{if(e)g("/dashboard");else try{await r(),g("/dashboard")}catch(B){console.error("Login failed:",B),d(!0)}};return i.createElement("div",{className:"landing-page"},i.createElement("nav",{className:`main-nav ${l>50?"nav-scrolled":""}`},i.createElement("div",{className:"nav-container"},i.createElement("div",{className:"nav-content"},i.createElement("div",{className:"nav-brand"},i.createElement("div",{className:"brand-logo"},i.createElement("span",{className:"logo-text"},"N")),i.createElement("span",{className:"brand-name"},"Nisto")),i.createElement("div",{className:"nav-links-desktop"},i.createElement("a",{href:"#features",className:"nav-link"},"Features"),i.createElement("a",{href:"#extension",className:"nav-link"},"Extension"),i.createElement("a",{href:"#miniapps",className:"nav-link"},"Mini-Apps"),i.createElement("a",{href:"#developers",className:"nav-link"},"Developers"),i.createElement("a",{href:"#tokenomics",className:"nav-link"},"Tokenomics"),!e&&i.createElement("div",{className:"nav-auth-buttons"},i.createElement("button",{onClick:k,className:"btn btn-primary nav-cta",disabled:a},a?"Loading...":"Launch App"))),i.createElement("button",{className:"mobile-menu-toggle",onClick:()=>s(!o)},i.createElement("span",null),i.createElement("span",null),i.createElement("span",null))),o&&i.createElement("div",{className:"mobile-menu"},i.createElement("a",{href:"#features",className:"mobile-nav-link",onClick:()=>s(!1)},"Features"),i.createElement("a",{href:"#extension",className:"mobile-nav-link",onClick:()=>s(!1)},"Extension"),i.createElement("a",{href:"#miniapps",className:"mobile-nav-link",onClick:()=>s(!1)},"Mini-Apps"),i.createElement("a",{href:"#developers",className:"mobile-nav-link",onClick:()=>s(!1)},"Developers"),i.createElement("a",{href:"#tokenomics",className:"mobile-nav-link",onClick:()=>s(!1)},"Tokenomics"),!e&&i.createElement(i.Fragment,null,i.createElement("button",{onClick:()=>{s(!1),k()},className:"btn btn-primary",disabled:a},a?"Loading...":"Launch App"))))),i.createElement("section",{className:"hero-section"},i.createElement("div",{className:"hero-background"},i.createElement("div",{className:"floating-elements"},i.createElement("div",{className:"floating-element crypto"},"₿"),i.createElement("div",{className:"floating-element crypto"},"Ξ"),i.createElement("div",{className:"floating-element crypto"},"💰"),i.createElement("div",{className:"floating-element crypto"},"🚀"),i.createElement("div",{className:"floating-element crypto"},"⚡"),i.createElement("div",{className:"floating-element crypto"},"💎"))),i.createElement("div",{className:"hero-container"},i.createElement("div",{className:"hero-content"},i.createElement("div",{className:"hero-badge"},i.createElement("span",{className:"badge-icon"},"✨"),i.createElement("span",null,"Now Live on Internet Computer")),i.createElement("h1",{className:"hero-title"},i.createElement("span",{className:"title-line"},"The Future of"),i.createElement("span",{className:"title-line gradient-text"},"Social Finance"),i.createElement("span",{className:"title-line"},"is Here")),i.createElement("p",{className:"hero-subtitle"},"Nisto combines DeFi, social trading, and AI-powered insights on the Internet Computer. Manage your portfolio, connect with traders, and access exclusive opportunities in Kenya's first decentralized finance ecosystem."),i.createElement("div",{className:"hero-actions"},i.createElement("button",{onClick:k,className:"btn btn-primary btn-lg hero-cta"},i.createElement("span",{className:"btn-icon"},"🚀"),"Launch App"),i.createElement("button",{onClick:()=>{var B;return(B=document.getElementById("waiting-list"))==null?void 0:B.scrollIntoView({behavior:"smooth"})},className:"btn btn-secondary btn-lg hero-cta"},i.createElement("span",{className:"btn-icon"},"📋"),"Join Waiting List"))),i.createElement("div",{className:"hero-visual"},i.createElement("div",{className:"hero-video-container"},i.createElement("div",{className:"video-intro"},i.createElement("h3",{className:"video-title"},"See Nisto in Action"),i.createElement("p",{className:"video-description"},"Watch our demo to see how Nisto is revolutionizing social finance on the Internet Computer")),i.createElement("div",{className:"youtube-video-wrapper"},i.createElement("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/1xIVECmTqvY",title:"Nisto Demo Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"youtube-video"})))))),i.createElement("section",{id:"features",className:"features-section"},i.createElement("div",{className:"features-container"},i.createElement("div",{className:"section-header"},i.createElement("h2",{className:"section-title"},"Powerful Features"),i.createElement("p",{className:"section-subtitle"},"Everything you need to manage, grow, and socialize your crypto portfolio")),i.createElement("div",{className:"features-grid"},i.createElement("div",{className:"feature-card defi"},i.createElement("div",{className:"feature-hover-effect"}),i.createElement("div",{className:"feature-icon defi-icon"},"🏦"),i.createElement("h3",{className:"feature-title"},"DeFi Integration"),i.createElement("p",{className:"feature-description"},"Access lending, borrowing, and yield farming protocols directly from your dashboard with seamless integration."),i.createElement("div",{className:"feature-stats"},i.createElement("span",{className:"stat"},"50+ Protocols"),i.createElement("span",{className:"stat"},"Auto-compound"))),i.createElement("div",{className:"feature-card social"},i.createElement("div",{className:"feature-hover-effect"}),i.createElement("div",{className:"feature-icon social-icon"},"👥"),i.createElement("h3",{className:"feature-title"},"Social Trading"),i.createElement("p",{className:"feature-description"},"Follow top traders, share strategies, and learn from the community with our advanced social features."),i.createElement("div",{className:"feature-stats"},i.createElement("span",{className:"stat"},"Copy Trading"),i.createElement("span",{className:"stat"},"Leaderboards"))),i.createElement("div",{className:"feature-card ai"},i.createElement("div",{className:"feature-hover-effect"}),i.createElement("div",{className:"feature-icon ai-icon"},"🤖"),i.createElement("h3",{className:"feature-title"},"AI-Powered Insights"),i.createElement("p",{className:"feature-description"},"Get personalized investment recommendations and market analysis powered by advanced machine learning."),i.createElement("div",{className:"feature-stats"},i.createElement("span",{className:"stat"},"Smart Alerts"),i.createElement("span",{className:"stat"},"Risk Analysis"))),i.createElement("div",{className:"feature-card mobile"},i.createElement("div",{className:"feature-hover-effect"}),i.createElement("div",{className:"feature-icon payments-icon"},"📱"),i.createElement("h3",{className:"feature-title"},"Mobile Money"),i.createElement("p",{className:"feature-description"},"Seamlessly connect M-Pesa and Airtel Money for easy crypto on-ramps and off-ramps."),i.createElement("div",{className:"feature-stats"},i.createElement("span",{className:"stat"},"Instant Deposits"),i.createElement("span",{className:"stat"},"Low Fees"))),i.createElement("div",{className:"feature-card security"},i.createElement("div",{className:"feature-hover-effect"}),i.createElement("div",{className:"feature-icon security-icon"},"🔒"),i.createElement("h3",{className:"feature-title"},"Bank-Level Security"),i.createElement("p",{className:"feature-description"},"Multi-signature wallets and hardware security modules protect your assets with institutional-grade security."),i.createElement("div",{className:"feature-stats"},i.createElement("span",{className:"stat"},"Multi-sig"),i.createElement("span",{className:"stat"},"Hardware HSM"))),i.createElement("div",{className:"feature-card plugins"},i.createElement("div",{className:"feature-hover-effect"}),i.createElement("div",{className:"feature-icon plugins-icon"},"🧩"),i.createElement("h3",{className:"feature-title"},"Plugin Ecosystem"),i.createElement("p",{className:"feature-description"},"Build and use mini-apps for trading, gaming, NFTs, and custom financial tools in our marketplace."),i.createElement("div",{className:"feature-stats"},i.createElement("span",{className:"stat"},"50+ Mini-Apps"),i.createElement("span",{className:"stat"},"Developer APIs")))))),i.createElement("section",{id:"miniapps",className:"miniapps-section"},i.createElement("div",{className:"miniapps-container"},i.createElement("div",{className:"section-header"},i.createElement("div",{className:"coming-soon-badge"},i.createElement("span",{className:"badge-icon"},"🚀"),i.createElement("span",null,"Coming Soon")),i.createElement("h2",{className:"section-title"},"Mini-Apps Marketplace"),i.createElement("p",{className:"section-subtitle"},"A revolutionary ecosystem where developers can build and users can discover powerful financial mini-apps. From automated trading bots to yield optimizers, everything you need will be at your fingertips.")),i.createElement("div",{className:"marketplace-preview"},i.createElement("div",{className:"preview-header"},i.createElement("h3",{className:"preview-title"},"What to Expect"),i.createElement("p",{className:"preview-description"},"The Mini-Apps Marketplace will be your gateway to a world of financial tools and services, all seamlessly integrated into the Nisto ecosystem.")),i.createElement("div",{className:"categories-showcase"},i.createElement("div",{className:"category-card defi-category"},i.createElement("div",{className:"category-header"},i.createElement("div",{className:"category-icon"},"📈"),i.createElement("h4",null,"DeFi & Trading"),i.createElement("span",{className:"app-count"},"15+ Apps")),i.createElement("div",{className:"category-apps"},i.createElement("div",{className:"app-preview"},i.createElement("div",{className:"app-icon"},"⚡"),i.createElement("div",{className:"app-info"},i.createElement("span",{className:"app-name"},"Yield Optimizer"),i.createElement("span",{className:"app-desc"},"Automatically find and compound the best yields across protocols")),i.createElement("div",{className:"app-status"},"Coming Soon")),i.createElement("div",{className:"app-preview"},i.createElement("div",{className:"app-icon"},"🤖"),i.createElement("div",{className:"app-info"},i.createElement("span",{className:"app-name"},"Trading Bot Builder"),i.createElement("span",{className:"app-desc"},"Create custom trading strategies with no-code tools")),i.createElement("div",{className:"app-status"},"Q2 2024")),i.createElement("div",{className:"app-preview"},i.createElement("div",{className:"app-icon"},"🔍"),i.createElement("div",{className:"app-info"},i.createElement("span",{className:"app-name"},"Arbitrage Scanner"),i.createElement("span",{className:"app-desc"},"Discover arbitrage opportunities across exchanges")),i.createElement("div",{className:"app-status"},"Beta Soon")))),i.createElement("div",{className:"category-card nft-category"},i.createElement("div",{className:"category-header"},i.createElement("div",{className:"category-icon"},"🖼️"),i.createElement("h4",null,"NFT & Gaming"),i.createElement("span",{className:"app-count"},"12+ Apps")),i.createElement("div",{className:"category-apps"},i.createElement("div",{className:"app-preview"},i.createElement("div",{className:"app-icon"},"📊"),i.createElement("div",{className:"app-info"},i.createElement("span",{className:"app-name"},"NFT Portfolio Tracker"),i.createElement("span",{className:"app-desc"},"Track your NFT collection value and market trends")),i.createElement("div",{className:"app-status"},"Coming Soon")),i.createElement("div",{className:"app-preview"},i.createElement("div",{className:"app-icon"},"🎮"),i.createElement("div",{className:"app-info"},i.createElement("span",{className:"app-name"},"Play-to-Earn Hub"),i.createElement("span",{className:"app-desc"},"Manage gaming assets and track P2E rewards")),i.createElement("div",{className:"app-status"},"Q3 2024")),i.createElement("div",{className:"app-preview"},i.createElement("div",{className:"app-icon"},"🛒"),i.createElement("div",{className:"app-info"},i.createElement("span",{className:"app-name"},"NFT Marketplace"),i.createElement("span",{className:"app-desc"},"Buy, sell, and trade NFTs with integrated wallet")),i.createElement("div",{className:"app-status"},"Planning")))),i.createElement("div",{className:"category-card analytics-category"},i.createElement("div",{className:"category-header"},i.createElement("div",{className:"category-icon"},"📊"),i.createElement("h4",null,"Analytics & Tools"),i.createElement("span",{className:"app-count"},"10+ Apps")),i.createElement("div",{className:"category-apps"},i.createElement("div",{className:"app-preview"},i.createElement("div",{className:"app-icon"},"📈"),i.createElement("div",{className:"app-info"},i.createElement("span",{className:"app-name"},"Portfolio Analytics"),i.createElement("span",{className:"app-desc"},"Advanced analytics and performance tracking")),i.createElement("div",{className:"app-status"},"Beta")),i.createElement("div",{className:"app-preview"},i.createElement("div",{className:"app-icon"},"💰"),i.createElement("div",{className:"app-info"},i.createElement("span",{className:"app-name"},"Tax Calculator"),i.createElement("span",{className:"app-desc"},"Calculate crypto taxes and generate reports")),i.createElement("div",{className:"app-status"},"Q2 2024")),i.createElement("div",{className:"app-preview"},i.createElement("div",{className:"app-icon"},"⚖️"),i.createElement("div",{className:"app-info"},i.createElement("span",{className:"app-name"},"Risk Assessment"),i.createElement("span",{className:"app-desc"},"Analyze portfolio risk and get recommendations")),i.createElement("div",{className:"app-status"},"Coming Soon")))),i.createElement("div",{className:"category-card social-category"},i.createElement("div",{className:"category-header"},i.createElement("div",{className:"category-icon"},"👥"),i.createElement("h4",null,"Social & Community"),i.createElement("span",{className:"app-count"},"8+ Apps")),i.createElement("div",{className:"category-apps"},i.createElement("div",{className:"app-preview"},i.createElement("div",{className:"app-icon"},"📋"),i.createElement("div",{className:"app-info"},i.createElement("span",{className:"app-name"},"Social Trading"),i.createElement("span",{className:"app-desc"},"Follow and copy successful traders' strategies")),i.createElement("div",{className:"app-status"},"Beta")),i.createElement("div",{className:"app-preview"},i.createElement("div",{className:"app-icon"},"👥"),i.createElement("div",{className:"app-info"},i.createElement("span",{className:"app-name"},"Group Investments"),i.createElement("span",{className:"app-desc"},"Pool funds with friends for larger investments")),i.createElement("div",{className:"app-status"},"Q3 2024")),i.createElement("div",{className:"app-preview"},i.createElement("div",{className:"app-icon"},"🗳️"),i.createElement("div",{className:"app-info"},i.createElement("span",{className:"app-name"},"Community Governance"),i.createElement("span",{className:"app-desc"},"Vote on protocol upgrades and decisions")),i.createElement("div",{className:"app-status"},"Live")))))),i.createElement("div",{className:"marketplace-features"},i.createElement("div",{className:"features-grid"},i.createElement("div",{className:"feature-highlight"},i.createElement("div",{className:"feature-icon"},"🔒"),i.createElement("h4",null,"Secure by Design"),i.createElement("p",null,"All mini-apps go through rigorous security audits and approval processes"),i.createElement("div",{className:"feature-badge"},"Security First")),i.createElement("div",{className:"feature-highlight"},i.createElement("div",{className:"feature-icon"},"⚡"),i.createElement("h4",null,"One-Click Integration"),i.createElement("p",null,"Seamlessly integrate with your Nisto wallet and existing portfolio"),i.createElement("div",{className:"feature-badge"},"Instant Setup")),i.createElement("div",{className:"feature-highlight"},i.createElement("div",{className:"feature-icon"},"💰"),i.createElement("h4",null,"Flexible Pricing"),i.createElement("p",null,"Free, freemium, and premium models - choose what works for you"),i.createElement("div",{className:"feature-badge"},"Fair Pricing")),i.createElement("div",{className:"feature-highlight"},i.createElement("div",{className:"feature-icon"},"🛠️"),i.createElement("h4",null,"Developer Friendly"),i.createElement("p",null,"Built with modern APIs and SDKs for easy development and deployment"),i.createElement("div",{className:"feature-badge"},"Open Platform")))),i.createElement("div",{className:"marketplace-cta"},i.createElement("div",{className:"cta-content"},i.createElement("h3",null,"Ready to Explore?"),i.createElement("p",null,"Be the first to know when the Mini-Apps Marketplace launches. Join our waiting list for early access and exclusive rewards!"),i.createElement("button",{onClick:()=>{var B;return(B=document.getElementById("waiting-list"))==null?void 0:B.scrollIntoView({behavior:"smooth"})},className:"btn btn-primary btn-lg marketplace-btn"},i.createElement("span",{className:"btn-icon"},"🚀"),"Get Early Access")),i.createElement("div",{className:"cta-stats"},i.createElement("div",{className:"stat-card"},i.createElement("div",{className:"stat-number"},"50+"),i.createElement("div",{className:"stat-label"},"Mini-Apps Planned"),i.createElement("div",{className:"stat-icon"},"🎯")),i.createElement("div",{className:"stat-card"},i.createElement("div",{className:"stat-number"},"200+"),i.createElement("div",{className:"stat-label"},"Developers Interested"),i.createElement("div",{className:"stat-icon"},"👨‍💻")),i.createElement("div",{className:"stat-card"},i.createElement("div",{className:"stat-number"},"Q2 2024"),i.createElement("div",{className:"stat-label"},"Launch Target"),i.createElement("div",{className:"stat-icon"},"📅")))))),i.createElement("section",{id:"tokenomics",className:"tokenomics-section"},i.createElement("div",{className:"tokenomics-container"},i.createElement("div",{className:"section-header"},i.createElement("h2",{className:"section-title"},"$NESTO Tokenomics"),i.createElement("p",{className:"section-subtitle"},"Fair distribution and sustainable economics for the Nisto ecosystem")),i.createElement("div",{className:"tokenomics-content"},i.createElement("div",{className:"tokenomics-chart"},i.createElement("div",{className:"chart-title"},"Token Distribution"),i.createElement("div",{className:"distribution-items"},i.createElement("div",{className:"distribution-item community"},i.createElement("div",{className:"item-color"}),i.createElement("div",{className:"item-content"},i.createElement("div",{className:"item-header"},i.createElement("span",{className:"item-name"},"Community & Users"),i.createElement("span",{className:"item-percentage"},"40%")),i.createElement("div",{className:"item-description"},"Airdrops, rewards, and incentives"))),i.createElement("div",{className:"distribution-item development"},i.createElement("div",{className:"item-color"}),i.createElement("div",{className:"item-content"},i.createElement("div",{className:"item-header"},i.createElement("span",{className:"item-name"},"Development Fund"),i.createElement("span",{className:"item-percentage"},"25%")),i.createElement("div",{className:"item-description"},"Platform development and maintenance"))),i.createElement("div",{className:"distribution-item team"},i.createElement("div",{className:"item-color"}),i.createElement("div",{className:"item-content"},i.createElement("div",{className:"item-header"},i.createElement("span",{className:"item-name"},"Team & Advisors"),i.createElement("span",{className:"item-percentage"},"15%")),i.createElement("div",{className:"item-description"},"4-year vesting schedule"))),i.createElement("div",{className:"distribution-item liquidity"},i.createElement("div",{className:"item-color"}),i.createElement("div",{className:"item-content"},i.createElement("div",{className:"item-header"},i.createElement("span",{className:"item-name"},"Liquidity & Ecosystem"),i.createElement("span",{className:"item-percentage"},"10%")),i.createElement("div",{className:"item-description"},"DEX liquidity and ecosystem development"))),i.createElement("div",{className:"distribution-item reserve"},i.createElement("div",{className:"item-color"}),i.createElement("div",{className:"item-content"},i.createElement("div",{className:"item-header"},i.createElement("span",{className:"item-name"},"Reserve Fund"),i.createElement("span",{className:"item-percentage"},"10%")),i.createElement("div",{className:"item-description"},"Emergency fund and future initiatives"))))),i.createElement("div",{className:"utility-card"},i.createElement("h3",{className:"utility-title"},"Token Utility"),i.createElement("div",{className:"utility-items"},i.createElement("div",{className:"utility-item"},i.createElement("div",{className:"utility-icon"},"🗳️"),i.createElement("div",{className:"utility-content"},i.createElement("div",{className:"utility-name"},"Governance Voting"),i.createElement("div",{className:"utility-description"},"Vote on platform features and proposals"))),i.createElement("div",{className:"utility-item"},i.createElement("div",{className:"utility-icon"},"💰"),i.createElement("div",{className:"utility-content"},i.createElement("div",{className:"utility-name"},"Staking Rewards"),i.createElement("div",{className:"utility-description"},"Earn yield by staking NESTO tokens"))),i.createElement("div",{className:"utility-item"},i.createElement("div",{className:"utility-icon"},"💳"),i.createElement("div",{className:"utility-content"},i.createElement("div",{className:"utility-name"},"Platform Fees"),i.createElement("div",{className:"utility-description"},"Reduced fees when using NESTO"))),i.createElement("div",{className:"utility-item"},i.createElement("div",{className:"utility-icon"},"🛒"),i.createElement("div",{className:"utility-content"},i.createElement("div",{className:"utility-name"},"Plugin Marketplace"),i.createElement("div",{className:"utility-description"},"Purchase and sell plugins with NESTO")))))))),i.createElement("section",{id:"extension",className:"extension-section"},i.createElement("div",{className:"extension-container"},i.createElement("div",{className:"section-header"},i.createElement("h2",{className:"section-title"},"Install Nisto Extension"),i.createElement("p",{className:"section-subtitle"},"Access Nisto directly from your browser. Trade, manage funds, and interact with DeFi protocols seamlessly.")),i.createElement("div",{className:"extension-content"},i.createElement("div",{className:"extension-preview"},i.createElement("div",{className:"browser-mockup"},i.createElement("div",{className:"browser-header"},i.createElement("div",{className:"browser-controls"},i.createElement("span",{className:"control red"}),i.createElement("span",{className:"control yellow"}),i.createElement("span",{className:"control green"})),i.createElement("div",{className:"browser-url"},"nisto.finance")),i.createElement("div",{className:"browser-content"},i.createElement("div",{className:"extension-popup"},i.createElement("div",{className:"popup-header"},i.createElement("div",{className:"popup-logo"},i.createElement("span",null,"N")),i.createElement("h4",null,"Nisto Wallet")),i.createElement("div",{className:"popup-balance"},i.createElement("div",{className:"balance-label"},"Total Balance"),i.createElement("div",{className:"balance-amount"},"KES 125,890")),i.createElement("div",{className:"popup-actions"},i.createElement("button",{className:"popup-btn send"},"Send"),i.createElement("button",{className:"popup-btn receive"},"Receive"),i.createElement("button",{className:"popup-btn swap"},"Swap")))))),i.createElement("div",{className:"extension-info"},i.createElement("div",{className:"extension-features"},i.createElement("div",{className:"feature-item"},i.createElement("div",{className:"feature-icon"},"🔒"),i.createElement("div",{className:"feature-content"},i.createElement("h4",null,"Secure Wallet"),i.createElement("p",null,"Your keys, your crypto. Non-custodial wallet with hardware wallet support."))),i.createElement("div",{className:"feature-item"},i.createElement("div",{className:"feature-icon"},"⚡"),i.createElement("div",{className:"feature-content"},i.createElement("h4",null,"Instant Transactions"),i.createElement("p",null,"Lightning-fast transactions on ICP with minimal fees."))),i.createElement("div",{className:"feature-item"},i.createElement("div",{className:"feature-icon"},"🌐"),i.createElement("div",{className:"feature-content"},i.createElement("h4",null,"DeFi Integration"),i.createElement("p",null,"Access DEXs, lending protocols, and yield farms directly from your browser.")))),i.createElement("div",{className:"download-buttons"},i.createElement("button",{className:"btn btn-primary btn-lg download-btn"},i.createElement("span",{className:"btn-icon"},"🦊"),"Add to Chrome"),i.createElement("button",{className:"btn btn-secondary btn-lg download-btn"},i.createElement("span",{className:"btn-icon"},"🔥"),"Add to Firefox"),i.createElement("button",{className:"btn btn-secondary btn-lg download-btn"},i.createElement("span",{className:"btn-icon"},"🦁"),"Add to Safari")))))),i.createElement("section",{className:"airdrop-section"},i.createElement("div",{className:"airdrop-container"},i.createElement("div",{className:"airdrop-background"},i.createElement("div",{className:"airdrop-particles"},i.createElement("div",{className:"particle"},"🪂"),i.createElement("div",{className:"particle"},"💎"),i.createElement("div",{className:"particle"},"🎁"),i.createElement("div",{className:"particle"},"⚡"),i.createElement("div",{className:"particle"},"🚀"))),i.createElement("div",{className:"section-header"},i.createElement("h2",{className:"section-title"},i.createElement("span",{className:"airdrop-emoji"},"🪂"),"Massive Airdrop Coming!"),i.createElement("p",{className:"section-subtitle"},"Join Nisto early and earn your share of 100M $NESTO tokens. The earlier you join, the more you earn!")),i.createElement("div",{className:"airdrop-tiers"},i.createElement("div",{className:"tier-card early-bird"},i.createElement("div",{className:"tier-icon"},"🥇"),i.createElement("h3",{className:"tier-title"},"Early Birds"),i.createElement("div",{className:"tier-reward"},"1,000 NESTO"),i.createElement("p",{className:"tier-description"},"First 1,000 users get 1,000 NESTO each"),i.createElement("div",{className:"tier-status"},"Limited Time")),i.createElement("div",{className:"tier-card power-user"},i.createElement("div",{className:"tier-icon"},"💎"),i.createElement("h3",{className:"tier-title"},"Power Users"),i.createElement("div",{className:"tier-reward"},"Up to 10,000 NESTO"),i.createElement("p",{className:"tier-description"},"Complete tasks to earn maximum rewards"),i.createElement("div",{className:"tier-status"},"Task-Based")),i.createElement("div",{className:"tier-card referral"},i.createElement("div",{className:"tier-icon"},"🔗"),i.createElement("h3",{className:"tier-title"},"Referrals"),i.createElement("div",{className:"tier-reward"},"500 NESTO"),i.createElement("p",{className:"tier-description"},"Earn for each successful invitation"),i.createElement("div",{className:"tier-status"},"Unlimited"))),i.createElement("button",{onClick:()=>{var B;return(B=document.getElementById("waiting-list"))==null?void 0:B.scrollIntoView({behavior:"smooth"})},className:"btn btn-success btn-lg airdrop-cta"},i.createElement("span",{className:"btn-icon"},"🎁"),"Claim Your Airdrop"))),i.createElement("section",{id:"waiting-list",className:"waiting-list-section"},i.createElement("div",{className:"waiting-list-container"},i.createElement("div",{className:"section-header"},i.createElement("h2",{className:"section-title"},"Join the Revolution"),i.createElement("p",{className:"section-subtitle"},"Be among the first to experience the future of social finance. Get early access and exclusive rewards.")),i.createElement("div",{className:"waiting-list-form-wrapper"},i.createElement("form",{onSubmit:h,className:"waiting-list-form"},i.createElement("div",{className:"form-header"},i.createElement("div",{className:"form-icon"},"🚀"),i.createElement("h3",null,"Get Early Access")),i.createElement("div",{className:"form-fields"},i.createElement("div",{className:"form-group"},i.createElement("label",{className:"form-label"},"Email Address"),i.createElement("input",{type:"email",className:"form-input",placeholder:"Enter your email address",value:f.email,onChange:B=>p({...f,email:B.target.value}),required:!0})),i.createElement("div",{className:"form-group"},i.createElement("label",{className:"form-label"},"I am a..."),i.createElement("select",{className:"form-input",value:f.role,onChange:B=>p({...f,role:B.target.value})},i.createElement("option",{value:"user"},"👤 Individual User"),i.createElement("option",{value:"developer"},"👨‍💻 Developer"),i.createElement("option",{value:"business"},"🏢 Business/Institution")))),i.createElement("div",{className:"form-benefits"},i.createElement("div",{className:"benefit-item"},i.createElement("span",{className:"benefit-icon"},"⚡"),i.createElement("span",null,"Early Access")),i.createElement("div",{className:"benefit-item"},i.createElement("span",{className:"benefit-icon"},"🎁"),i.createElement("span",null,"Exclusive Airdrops")),i.createElement("div",{className:"benefit-item"},i.createElement("span",{className:"benefit-icon"},"🔥"),i.createElement("span",null,"Beta Features"))),i.createElement("button",{type:"submit",className:"btn btn-primary btn-lg form-submit"},i.createElement("span",{className:"btn-icon"},"🚀"),"Join Waiting List"))))),i.createElement("section",{className:"docs-section"},i.createElement("div",{className:"docs-container"},i.createElement("div",{className:"section-header"},i.createElement("h2",{className:"section-title"},"Learn More"),i.createElement("p",{className:"section-subtitle"},"Dive deeper into Nisto's technology, tokenomics, and ecosystem")),i.createElement("div",{className:"docs-grid"},i.createElement("div",{className:"doc-card"},i.createElement("div",{className:"doc-icon whitepaper-icon"},"📄"),i.createElement("h3",{className:"doc-title"},"Whitepaper"),i.createElement("p",{className:"doc-description"},"Deep dive into Nisto's architecture, tokenomics, and vision for the future"),i.createElement("button",{className:"btn btn-secondary doc-button"},i.createElement("span",{className:"btn-icon"},"📖"),"Read Whitepaper")),i.createElement("div",{className:"doc-card"},i.createElement("div",{className:"doc-icon developer-icon"},"🛠️"),i.createElement("h3",{className:"doc-title"},"Technical Documentation"),i.createElement("p",{className:"doc-description"},"API references, integration guides, and developer resources"),i.createElement("button",{className:"btn btn-secondary doc-button"},i.createElement("span",{className:"btn-icon"},"⚙️"),"View Docs")),i.createElement("div",{className:"doc-card"},i.createElement("div",{className:"doc-icon roadmap-icon"},"🎓"),i.createElement("h3",{className:"doc-title"},"Academy"),i.createElement("p",{className:"doc-description"},"Learn DeFi, trading strategies, and blockchain fundamentals"),i.createElement("button",{className:"btn btn-secondary doc-button"},i.createElement("span",{className:"btn-icon"},"🚀"),"Start Learning"))))),i.createElement("footer",{className:"main-footer"},i.createElement("div",{className:"footer-container"},i.createElement("div",{className:"footer-content"},i.createElement("div",{className:"footer-brand"},i.createElement("div",{className:"footer-logo"},i.createElement("div",{className:"logo-icon"},i.createElement("span",null,"N")),i.createElement("span",{className:"logo-text"},"Nisto")),i.createElement("p",{className:"footer-description"},"The future of social finance on the Internet Computer. Empowering Kenya's crypto ecosystem with DeFi, social trading, and AI-powered insights."),i.createElement("div",{className:"social-links"},i.createElement("a",{href:"#",className:"social-link"},i.createElement("span",{className:"social-icon"},"🐦"),i.createElement("span",null,"Twitter")),i.createElement("a",{href:"#",className:"social-link"},i.createElement("span",{className:"social-icon"},"💼"),i.createElement("span",null,"LinkedIn")),i.createElement("a",{href:"#",className:"social-link"},i.createElement("span",{className:"social-icon"},"📘"),i.createElement("span",null,"Discord")),i.createElement("a",{href:"#",className:"social-link"},i.createElement("span",{className:"social-icon"},"📱"),i.createElement("span",null,"Telegram")))),i.createElement("div",{className:"footer-links"},i.createElement("div",{className:"link-group"},i.createElement("h4",{className:"link-group-title"},"Platform"),i.createElement("div",{className:"link-group-items"},i.createElement("a",{href:"#features",className:"footer-link"},"Features"),i.createElement("a",{href:"#tokenomics",className:"footer-link"},"Tokenomics"),i.createElement("a",{href:"#extension",className:"footer-link"},"Browser Extension"),i.createElement("button",{onClick:k,className:"footer-link"},"Launch App"))),i.createElement("div",{className:"link-group"},i.createElement("h4",{className:"link-group-title"},"Developers"),i.createElement("div",{className:"link-group-items"},i.createElement("a",{href:"#developers",className:"footer-link"},"SDKs & APIs"),i.createElement("a",{href:"#",className:"footer-link"},"Documentation"),i.createElement("a",{href:"#",className:"footer-link"},"GitHub"),i.createElement("a",{href:"#",className:"footer-link"},"Discord"))),i.createElement("div",{className:"link-group"},i.createElement("h4",{className:"link-group-title"},"Company"),i.createElement("div",{className:"link-group-items"},i.createElement("a",{href:"#",className:"footer-link"},"About"),i.createElement("a",{href:"#",className:"footer-link"},"Blog"),i.createElement("a",{href:"#",className:"footer-link"},"Careers"),i.createElement("a",{href:"#",className:"footer-link"},"Press Kit"))))),i.createElement("div",{className:"footer-bottom"},i.createElement("div",{className:"footer-bottom-content"},i.createElement("div",{className:"footer-badges"},i.createElement("div",{className:"badge"},i.createElement("span",{className:"badge-icon"},"🏆"),i.createElement("span",null,"ICP Ecosystem")),i.createElement("div",{className:"badge"},i.createElement("span",{className:"badge-icon"},"🔒"),i.createElement("span",null,"Audited")),i.createElement("div",{className:"badge"},i.createElement("span",{className:"badge-icon"},"🌍"),i.createElement("span",null,"Made in Kenya"))),i.createElement("div",{className:"footer-legal"},i.createElement("p",{className:"copyright"},"© 2024 Nisto Finance. All rights reserved."),i.createElement("div",{className:"legal-links"},i.createElement("a",{href:"#",className:"legal-link"},"Privacy Policy"),i.createElement("a",{href:"#",className:"legal-link"},"Terms of Service"),i.createElement("a",{href:"#",className:"legal-link"},"Cookie Policy"))))))),i.createElement(a3,{isOpen:u,onClose:()=>d(!1)}))}function ng(e){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 12h2v4h-2z"},child:[]},{tag:"path",attr:{d:"M20 7V5c0-1.103-.897-2-2-2H5C3.346 3 2 4.346 2 6v12c0 2.201 1.794 3 3 3h15c1.103 0 2-.897 2-2V9c0-1.103-.897-2-2-2zM5 5h13v2H5a1.001 1.001 0 0 1 0-2zm15 14H5.012C4.55 18.988 4 18.805 4 18V8.815c.314.113.647.185 1 .185h15v10z"},child:[]}]})(e)}function o3(){const{notifications:e,markAllAsRead:t,clearNotifications:r}=pa(),[n,a]=i.useState("all"),o=e.filter(s=>n==="unread"?!s.read:n==="security"?s.type==="warning"||s.type==="security":!0);return i.createElement("div",{className:"notification-center"},i.createElement("div",{className:"notification-header"},i.createElement(Lw,{className:"notification-icon"}),i.createElement("h3",null,"Notifications"),i.createElement("div",{className:"notification-actions"},i.createElement("button",{className:"btn-text",onClick:t},i.createElement(Xe,null)," Mark all as read"),i.createElement("button",{className:"btn-text",onClick:r},i.createElement(Ge,null)," Clear all"))),i.createElement("div",{className:"notification-tabs"},i.createElement("button",{className:`tab${n==="all"?" active":""}`,onClick:()=>a("all")},"All"),i.createElement("button",{className:`tab${n==="unread"?" active":""}`,onClick:()=>a("unread")},"Unread"),i.createElement("button",{className:`tab${n==="security"?" active":""}`,onClick:()=>a("security")},"Security")),i.createElement("div",{className:"notifications-list"},o.length===0?i.createElement("div",{className:"empty-notifications"},i.createElement(sa,{className:"empty-icon"}),i.createElement("p",null,"No notifications")):o.map(s=>i.createElement("div",{key:s.id,className:`notification-item${s.read?"":" unread"}`},i.createElement("div",{className:"notification-content"},i.createElement("div",{className:"notification-title"},s.title||"Notification"),i.createElement("div",{className:"notification-message"},s.message),i.createElement("div",{className:"notification-meta"},i.createElement("span",{className:"notification-time"},s.time||""),i.createElement("span",{className:"notification-type"},s.type)))))))}function s3(){const{toasts:e,removeToast:t}=pa();return i.createElement("div",{className:"toast-container top-right"},e.map(r=>i.createElement("div",{key:r.id,className:`toast${r.type?" "+r.type:""}`},i.createElement("div",{className:"toast-content"},i.createElement("span",null,r.icon),i.createElement("span",null,r.message)),i.createElement("button",{className:"toast-close",onClick:()=>t(r.id)},i.createElement(Ge,null)))))}const l3={email:i.createElement(Wc,null),phone:i.createElement(Nm,null),backup_email:i.createElement(Wc,null),security_qa:i.createElement(bu,null),emergency_contact:i.createElement(km,null)};function nE({onClose:e,initialSetup:t}){const{user:r,recoveryMethods:n,refreshRecoveryMethods:a,addRecoveryMethod:o,completeRecoverySetup:s,addSecurityQuestions:l}=or(),{showToast:c}=pa();M.useState("email"),M.useState(""),M.useState(!1);const[u,d]=M.useState(!1);M.useState([{question:"",answer:""}]),M.useState(!1);const[g,f]=M.useState(r==null?void 0:r.recoverySetupCompleted),[p,h]=M.useState([]),[k,B]=M.useState("");if(M.useEffect(()=>{a(),f(r==null?void 0:r.recoverySetupCompleted)},[r]),t){const _=[{key:"email",label:"Email Recovery",icon:i.createElement(Wc,null),recommended:!0},{key:"phone",label:"SMS Recovery",icon:i.createElement(Nm,null),recommended:!0},{key:"security_qa",label:"Security Questions",icon:i.createElement(bu,null)},{key:"emergency_contact",label:"Emergency Contact",icon:i.createElement(km,null)}],[E,x]=M.useState({email:"",phone:"",security_qa:[{question:"",answer:""}],emergency_contact:{name:"",email:"",relationship:""}}),[U,C]=M.useState(!1),W=N=>{h(O=>O.includes(N)?O.filter(G=>G!==N):[...O,N]),B("")},$=(N,O)=>{x(G=>({...G,[N]:O}))},P=(N,O,G)=>{x(D=>({...D,security_qa:D.security_qa.map((ne,Q)=>Q===N?{...ne,[O]:G}:ne)}))},X=()=>{x(N=>({...N,security_qa:[...N.security_qa,{question:"",answer:""}]}))},z=(N,O)=>{x(G=>({...G,emergency_contact:{...G.emergency_contact,[N]:O}}))},H=p.length>0&&p.every(N=>N==="email"?E.email&&/@/.test(E.email):N==="phone"?E.phone&&E.phone.length>=8:N==="security_qa"?E.security_qa.every(O=>O.question&&O.answer):N==="emergency_contact"?E.emergency_contact.name&&/@/.test(E.emergency_contact.email)&&E.emergency_contact.relationship:!1),Y=async()=>{if(!H){B("Please fill all required fields for selected methods");return}C(!0);try{p.includes("email")&&await o("email",E.email),p.includes("phone")&&await o("phone",E.phone),p.includes("security_qa")&&await l(E.security_qa.map(N=>[N.question,N.answer])),p.includes("emergency_contact")&&await o("emergency_contact",JSON.stringify(E.emergency_contact)),c({message:"Recovery setup complete",type:"success",icon:i.createElement(Xe,null)}),e&&e()}catch{B("Failed to set up recovery. Please try again.")}finally{C(!1)}};return i.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.18)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"}},i.createElement("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 8px 32px 0 rgba(59,130,246,0.10)",maxWidth:520,width:"98vw",overflow:"hidden",display:"flex",flexDirection:"column"}},i.createElement("div",{style:{background:"linear-gradient(90deg, #1976d2 0%, #1565c0 100%)",color:"#fff",padding:"1.2rem 2rem",display:"flex",alignItems:"center",justifyContent:"space-between"}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:12}},i.createElement(Pr,{size:24})," ",i.createElement("span",{style:{fontWeight:700,fontSize:20}},"Account Recovery Setup")),i.createElement("button",{onClick:e,style:{background:"none",border:"none",color:"#fff",fontSize:22,cursor:"pointer",borderRadius:8,padding:4,transition:"background 0.18s"}},"×")),i.createElement("div",{style:{padding:"2rem 2.5rem 0 2.5rem",display:"flex",flexDirection:"column",gap:18}},i.createElement("div",{style:{color:"var(--neutral-700)",fontSize:16,marginBottom:8}},"Choose your recovery methods and fill in the required information:"),i.createElement("div",{style:{fontWeight:700,fontSize:17,color:"var(--neutral-800)",marginBottom:8}},"Select Recovery Methods"),i.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:16,marginBottom:8}},_.map(N=>i.createElement("button",{key:N.key,className:"dashboard-card",style:{minWidth:180,flex:1,display:"flex",alignItems:"center",gap:10,padding:"1.1rem 1.2rem",border:p.includes(N.key)?"2px solid #1976d2":"1.2px solid var(--neutral-200)",boxShadow:p.includes(N.key)?"0 2px 8px 0 rgba(25,118,210,0.08)":"var(--shadow-sm)",background:p.includes(N.key)?"var(--primary-50)":"#fff",cursor:"pointer",position:"relative",fontWeight:600,fontSize:15,transition:"all 0.18s"},onClick:()=>W(N.key)},N.icon,i.createElement("span",null,N.label),N.recommended&&i.createElement("span",{style:{background:"#e6f9ed",color:"#059669",fontWeight:700,fontSize:13,borderRadius:8,padding:"2px 10px",marginLeft:8}},"Recommended")))),i.createElement("div",{style:{display:"flex",flexDirection:"column",gap:14}},p.includes("email")&&i.createElement("input",{type:"email",placeholder:"Enter your email",value:E.email,onChange:N=>$("email",N.target.value),required:!0,className:"dashboard-card",style:{padding:"0.8rem 1rem",fontSize:15,border:"1.2px solid var(--primary-100)",borderRadius:8}}),p.includes("phone")&&i.createElement("input",{type:"tel",placeholder:"Enter your phone number",value:E.phone,onChange:N=>$("phone",N.target.value),required:!0,className:"dashboard-card",style:{padding:"0.8rem 1rem",fontSize:15,border:"1.2px solid var(--primary-100)",borderRadius:8}}),p.includes("security_qa")&&i.createElement("div",{className:"dashboard-card",style:{padding:"1rem",borderRadius:8,display:"flex",flexDirection:"column",gap:10}},i.createElement("div",{style:{fontWeight:600,color:"var(--primary-700)",marginBottom:4}},"Security Questions"),E.security_qa.map((N,O)=>i.createElement("div",{key:O,style:{display:"flex",gap:8}},i.createElement("input",{type:"text",placeholder:"Question",value:N.question,onChange:G=>P(O,"question",G.target.value),required:!0,style:{flex:2,padding:"0.6rem",borderRadius:6,border:"1px solid var(--primary-100)"}}),i.createElement("input",{type:"text",placeholder:"Answer",value:N.answer,onChange:G=>P(O,"answer",G.target.value),required:!0,style:{flex:2,padding:"0.6rem",borderRadius:6,border:"1px solid var(--primary-100)"}}))),i.createElement("button",{type:"button",className:"btn btn-secondary",style:{marginTop:6,alignSelf:"flex-start"},onClick:X},i.createElement(hs,null)," Add Question")),p.includes("emergency_contact")&&i.createElement("div",{className:"dashboard-card",style:{padding:"1rem",borderRadius:8,display:"flex",flexDirection:"column",gap:10}},i.createElement("div",{style:{fontWeight:600,color:"var(--primary-700)",marginBottom:4}},"Emergency Contact"),i.createElement("input",{type:"text",placeholder:"Name",value:E.emergency_contact.name,onChange:N=>z("name",N.target.value),required:!0,style:{padding:"0.6rem",borderRadius:6,border:"1px solid var(--primary-100)"}}),i.createElement("input",{type:"email",placeholder:"Email",value:E.emergency_contact.email,onChange:N=>z("email",N.target.value),required:!0,style:{padding:"0.6rem",borderRadius:6,border:"1px solid var(--primary-100)"}}),i.createElement("input",{type:"text",placeholder:"Relationship",value:E.emergency_contact.relationship,onChange:N=>z("relationship",N.target.value),required:!0,style:{padding:"0.6rem",borderRadius:6,border:"1px solid var(--primary-100)"}}))),i.createElement("div",{style:{background:"#eaf6ff",color:"#1976d2",borderRadius:8,padding:"0.9rem 1.1rem",fontSize:15,display:"flex",alignItems:"center",gap:10}},i.createElement(eE,{style:{fontSize:18}})," ",i.createElement("b",null,"Tip:")," Email and SMS are the most reliable recovery options. Choose at least one method to secure your account."),k&&i.createElement("div",{style:{color:"#dc2626",fontWeight:600,fontSize:15,marginTop:4,display:"flex",alignItems:"center",gap:8}},i.createElement(sa,null)," ",k)),i.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:12,background:"var(--neutral-50)",borderTop:"1.5px solid var(--neutral-100)",padding:"1.1rem 2rem",marginTop:24}},i.createElement("button",{className:"btn btn-secondary",onClick:e},"Skip for now"),i.createElement("button",{className:"btn btn-primary",style:{opacity:H&&!U?1:.6},disabled:!H||U,onClick:Y},i.createElement(Xe,{style:{marginRight:6}})," ",U?"Setting Up...":"Setup Recovery"))))}return i.createElement(i.Fragment,null,i.createElement("section",{className:"dashboard-section",style:{maxWidth:900,margin:"0 auto",marginTop:24}},i.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:18}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:10,fontWeight:700,fontSize:20,color:"var(--primary-700)"}},i.createElement(Pr,{style:{fontSize:22}})," Recovery Methods"),i.createElement("button",{className:"btn btn-primary",onClick:()=>d(!0)},i.createElement(hs,null)," Add Method")),i.createElement("div",{style:{display:"flex",flexDirection:"column",gap:16}},n&&n.length>0?n.map(_=>i.createElement("div",{key:_.id,className:"dashboard-card",style:{display:"flex",alignItems:"center",gap:18,padding:"1.1rem 1.3rem"}},i.createElement("span",{style:{fontSize:22,color:"var(--primary-600)"}},l3[_.methodType]||i.createElement(_u,null)),i.createElement("span",{style:{fontWeight:700,color:"var(--neutral-700)",fontSize:16}},_.methodType.replace("_"," ")),i.createElement("span",{style:{color:"var(--neutral-500)",fontSize:15}},_.value),i.createElement("span",{style:{color:_.isVerified?"var(--success-600)":"var(--error-600)",fontWeight:600,fontSize:15,marginLeft:"auto"}},_.isVerified?i.createElement(i.Fragment,null,i.createElement(Xe,null)," Verified"):i.createElement(i.Fragment,null,i.createElement(sa,null)," Unverified")))):i.createElement("div",{className:"dashboard-card",style:{color:"var(--neutral-400)",padding:"1.1rem 1.3rem",textAlign:"center"}},i.createElement(sa,null)," No recovery methods set up yet."))),u&&i.createElement(nE,{initialSetup:!0,onClose:()=>{d(!1),a()}}))}var c3=Object.defineProperty,$c=Object.getOwnPropertySymbols,aE=Object.prototype.hasOwnProperty,iE=Object.prototype.propertyIsEnumerable,ag=(e,t,r)=>t in e?c3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,r0=(e,t)=>{for(var r in t||(t={}))aE.call(t,r)&&ag(e,r,t[r]);if($c)for(var r of $c(t))iE.call(t,r)&&ag(e,r,t[r]);return e},n0=(e,t)=>{var r={};for(var n in e)aE.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&$c)for(var n of $c(e))t.indexOf(n)<0&&iE.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Qa;(e=>{const t=class Ue{constructor(c,u,d,g){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Ue.MIN_VERSION||c>Ue.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let f=[];for(let h=0;h<this.size;h++)f.push(!1);for(let h=0;h<this.size;h++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),g==-1){let h=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const B=this.getPenaltyScore();B<h&&(g=k,h=B),this.applyMask(k)}}a(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return Ue.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return Ue.encodeSegments([d],u)}static encodeSegments(c,u,d=1,g=40,f=-1,p=!0){if(!(Ue.MIN_VERSION<=d&&d<=g&&g<=Ue.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let h,k;for(h=d;;h++){const x=Ue.getNumDataCodewords(h,u)*8,U=s.getTotalBits(c,h);if(U<=x){k=U;break}if(h>=g)throw new RangeError("Data too long")}for(const x of[Ue.Ecc.MEDIUM,Ue.Ecc.QUARTILE,Ue.Ecc.HIGH])p&&k<=Ue.getNumDataCodewords(h,x)*8&&(u=x);let B=[];for(const x of c){r(x.mode.modeBits,4,B),r(x.numChars,x.mode.numCharCountBits(h),B);for(const U of x.getData())B.push(U)}a(B.length==k);const _=Ue.getNumDataCodewords(h,u)*8;a(B.length<=_),r(0,Math.min(4,_-B.length),B),r(0,(8-B.length%8)%8,B),a(B.length%8==0);for(let x=236;B.length<_;x^=253)r(x,8,B);let E=[];for(;E.length*8<B.length;)E.push(0);return B.forEach((x,U)=>E[U>>>3]|=x<<7-(U&7)),new Ue(h,u,E,f)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let g=0;g<u;g++)d==0&&g==0||d==0&&g==u-1||d==u-1&&g==0||this.drawAlignmentPattern(c[d],c[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let f=0;f<10;f++)d=d<<1^(d>>>9)*1335;const g=(u<<10|d)^21522;a(g>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,n(g,f));this.setFunctionModule(8,7,n(g,6)),this.setFunctionModule(8,8,n(g,7)),this.setFunctionModule(7,8,n(g,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,n(g,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,n(g,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,n(g,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;a(u>>>18==0);for(let d=0;d<18;d++){const g=n(u,d),f=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(f,p,g),this.setFunctionModule(p,f,g)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let g=-4;g<=4;g++){const f=Math.max(Math.abs(g),Math.abs(d)),p=c+g,h=u+d;0<=p&&p<this.size&&0<=h&&h<this.size&&this.setFunctionModule(p,h,f!=2&&f!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let g=-2;g<=2;g++)this.setFunctionModule(c+g,u+d,Math.max(Math.abs(g),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Ue.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const g=Ue.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],f=Ue.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],p=Math.floor(Ue.getNumRawDataModules(u)/8),h=g-p%g,k=Math.floor(p/g);let B=[];const _=Ue.reedSolomonComputeDivisor(f);for(let x=0,U=0;x<g;x++){let C=c.slice(U,U+k-f+(x<h?0:1));U+=C.length;const W=Ue.reedSolomonComputeRemainder(C,_);x<h&&C.push(0),B.push(C.concat(W))}let E=[];for(let x=0;x<B[0].length;x++)B.forEach((U,C)=>{(x!=k-f||C>=h)&&E.push(U[x])});return a(E.length==p),E}drawCodewords(c){if(c.length!=Math.floor(Ue.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let g=0;g<this.size;g++)for(let f=0;f<2;f++){const p=d-f,k=(d+1&2)==0?this.size-1-g:g;!this.isFunction[k][p]&&u<c.length*8&&(this.modules[k][p]=n(c[u>>>3],7-(u&7)),u++)}}a(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let g;switch(c){case 0:g=(d+u)%2==0;break;case 1:g=u%2==0;break;case 2:g=d%3==0;break;case 3:g=(d+u)%3==0;break;case 4:g=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:g=d*u%2+d*u%3==0;break;case 6:g=(d*u%2+d*u%3)%2==0;break;case 7:g=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&g&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let f=0;f<this.size;f++){let p=!1,h=0,k=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[f][B]==p?(h++,h==5?c+=Ue.PENALTY_N1:h>5&&c++):(this.finderPenaltyAddHistory(h,k),p||(c+=this.finderPenaltyCountPatterns(k)*Ue.PENALTY_N3),p=this.modules[f][B],h=1);c+=this.finderPenaltyTerminateAndCount(p,h,k)*Ue.PENALTY_N3}for(let f=0;f<this.size;f++){let p=!1,h=0,k=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[B][f]==p?(h++,h==5?c+=Ue.PENALTY_N1:h>5&&c++):(this.finderPenaltyAddHistory(h,k),p||(c+=this.finderPenaltyCountPatterns(k)*Ue.PENALTY_N3),p=this.modules[B][f],h=1);c+=this.finderPenaltyTerminateAndCount(p,h,k)*Ue.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let p=0;p<this.size-1;p++){const h=this.modules[f][p];h==this.modules[f][p+1]&&h==this.modules[f+1][p]&&h==this.modules[f+1][p+1]&&(c+=Ue.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((p,h)=>p+(h?1:0),u);const d=this.size*this.size,g=Math.ceil(Math.abs(u*20-d*10)/d)-1;return a(0<=g&&g<=9),c+=g*Ue.PENALTY_N4,a(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let g=this.size-7;d.length<c;g-=u)d.splice(1,0,g);return d}}static getNumRawDataModules(c){if(c<Ue.MIN_VERSION||c>Ue.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return a(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Ue.getNumRawDataModules(c)/8)-Ue.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Ue.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let g=0;g<c-1;g++)u.push(0);u.push(1);let d=1;for(let g=0;g<c;g++){for(let f=0;f<u.length;f++)u[f]=Ue.reedSolomonMultiply(u[f],d),f+1<u.length&&(u[f]^=u[f+1]);d=Ue.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(g=>0);for(const g of c){const f=g^d.shift();d.push(0),u.forEach((p,h)=>d[h]^=Ue.reedSolomonMultiply(p,f))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let g=7;g>=0;g--)d=d<<1^(d>>>7)*285,d^=(u>>>g&1)*c;return a(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];a(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function n(l,c){return(l>>>c&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const o=class st{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)r(d,8,u);return new st(st.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!st.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const g=Math.min(c.length-d,3);r(parseInt(c.substring(d,d+g),10),g*3+1,u),d+=g}return new st(st.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!st.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let g=st.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;g+=st.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),r(g,11,u)}return d<c.length&&r(st.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new st(st.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:st.isNumeric(c)?[st.makeNumeric(c)]:st.isAlphanumeric(c)?[st.makeAlphanumeric(c)]:[st.makeBytes(st.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,u);else if(c<16384)r(2,2,u),r(c,14,u);else if(c<1e6)r(6,3,u),r(c,21,u);else throw new RangeError("ECI assignment value out of range");return new st(st.Mode.ECI,0,u)}static isNumeric(c){return st.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return st.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const g of c){const f=g.mode.numCharCountBits(u);if(g.numChars>=1<<f)return 1/0;d+=4+f+g.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=o;e.QrSegment=o})(Qa||(Qa={}));(e=>{(t=>{const r=class{constructor(a,o){this.ordinal=a,this.formatBits=o}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Qa||(Qa={}));(e=>{(t=>{const r=class{constructor(a,o){this.modeBits=a,this.numBitsCharCount=o}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Qa||(Qa={}));var Ri=Qa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var u3={L:Ri.QrCode.Ecc.LOW,M:Ri.QrCode.Ecc.MEDIUM,Q:Ri.QrCode.Ecc.QUARTILE,H:Ri.QrCode.Ecc.HIGH},oE=128,sE="L",lE="#FFFFFF",cE="#000000",uE=!1,dE=1,d3=4,f3=0,m3=.1;function fE(e,t=0){const r=[];return e.forEach(function(n,a){let o=null;n.forEach(function(s,l){if(!s&&o!==null){r.push(`M${o+t} ${a+t}h${l-o}v1H${o+t}z`),o=null;return}if(l===n.length-1){if(!s)return;o===null?r.push(`M${l+t},${a+t} h1v1H${l+t}z`):r.push(`M${o+t},${a+t} h${l+1-o}v1H${o+t}z`);return}s&&o===null&&(o=l)})}),r.join("")}function mE(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((a,o)=>o<t.x||o>=t.x+t.w?a:!1))}function p3(e,t,r,n){if(n==null)return null;const a=e.length+r*2,o=Math.floor(t*m3),s=a/t,l=(n.width||o)*s,c=(n.height||o)*s,u=n.x==null?e.length/2-l/2:n.x*s,d=n.y==null?e.length/2-c/2:n.y*s,g=n.opacity==null?1:n.opacity;let f=null;if(n.excavate){let h=Math.floor(u),k=Math.floor(d),B=Math.ceil(l+u-h),_=Math.ceil(c+d-k);f={x:h,y:k,w:B,h:_}}const p=n.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:f,opacity:g,crossOrigin:p}}function h3(e,t){return t!=null?Math.max(Math.floor(t),0):e?d3:f3}function pE({value:e,level:t,minVersion:r,includeMargin:n,marginSize:a,imageSettings:o,size:s,boostLevel:l}){let c=i.useMemo(()=>{const h=(Array.isArray(e)?e:[e]).reduce((k,B)=>(k.push(...Ri.QrSegment.makeSegments(B)),k),[]);return Ri.QrCode.encodeSegments(h,u3[t],r,void 0,void 0,l)},[e,t,r,l]);const{cells:u,margin:d,numCells:g,calculatedImageSettings:f}=i.useMemo(()=>{let p=c.getModules();const h=h3(n,a),k=p.length+h*2,B=p3(p,s,h,o);return{cells:p,margin:h,numCells:k,calculatedImageSettings:B}},[c,s,o,n,a]);return{qrcode:c,margin:d,cells:u,numCells:g,calculatedImageSettings:f}}var g3=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),y3=i.forwardRef(function(t,r){const n=t,{value:a,size:o=oE,level:s=sE,bgColor:l=lE,fgColor:c=cE,includeMargin:u=uE,minVersion:d=dE,boostLevel:g,marginSize:f,imageSettings:p}=n,k=n0(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:B}=k,_=n0(k,["style"]),E=p==null?void 0:p.src,x=i.useRef(null),U=i.useRef(null),C=i.useCallback(O=>{x.current=O,typeof r=="function"?r(O):r&&(r.current=O)},[r]),[W,$]=i.useState(!1),{margin:P,cells:X,numCells:z,calculatedImageSettings:H}=pE({value:a,level:s,minVersion:d,boostLevel:g,includeMargin:u,marginSize:f,imageSettings:p,size:o});i.useEffect(()=>{if(x.current!=null){const O=x.current,G=O.getContext("2d");if(!G)return;let D=X;const ne=U.current,Q=H!=null&&ne!==null&&ne.complete&&ne.naturalHeight!==0&&ne.naturalWidth!==0;Q&&H.excavation!=null&&(D=mE(X,H.excavation));const ae=window.devicePixelRatio||1;O.height=O.width=o*ae;const fe=o/z*ae;G.scale(fe,fe),G.fillStyle=l,G.fillRect(0,0,z,z),G.fillStyle=c,g3?G.fill(new Path2D(fE(D,P))):X.forEach(function(le,de){le.forEach(function(_e,T){_e&&G.fillRect(T+P,de+P,1,1)})}),H&&(G.globalAlpha=H.opacity),Q&&G.drawImage(ne,H.x+P,H.y+P,H.w,H.h)}}),i.useEffect(()=>{$(!1)},[E]);const Y=r0({height:o,width:o},B);let N=null;return E!=null&&(N=i.createElement("img",{src:E,key:E,style:{display:"none"},onLoad:()=>{$(!0)},ref:U,crossOrigin:H==null?void 0:H.crossOrigin})),i.createElement(i.Fragment,null,i.createElement("canvas",r0({style:Y,height:o,width:o,ref:C,role:"img"},_)),N)});y3.displayName="QRCodeCanvas";var hE=i.forwardRef(function(t,r){const n=t,{value:a,size:o=oE,level:s=sE,bgColor:l=lE,fgColor:c=cE,includeMargin:u=uE,minVersion:d=dE,boostLevel:g,title:f,marginSize:p,imageSettings:h}=n,k=n0(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:B,cells:_,numCells:E,calculatedImageSettings:x}=pE({value:a,level:s,minVersion:d,boostLevel:g,includeMargin:u,marginSize:p,imageSettings:h,size:o});let U=_,C=null;h!=null&&x!=null&&(x.excavation!=null&&(U=mE(_,x.excavation)),C=i.createElement("image",{href:h.src,height:x.h,width:x.w,x:x.x+B,y:x.y+B,preserveAspectRatio:"none",opacity:x.opacity,crossOrigin:x.crossOrigin}));const W=fE(U,B);return i.createElement("svg",r0({height:o,width:o,viewBox:`0 0 ${E} ${E}`,ref:r,role:"img"},k),!!f&&i.createElement("title",null,f),i.createElement("path",{fill:l,d:`M0,0 h${E}v${E}H0z`,shapeRendering:"crispEdges"}),i.createElement("path",{fill:c,d:W,shapeRendering:"crispEdges"}),C)});hE.displayName="QRCodeSVG";function v3(){const{cryptoWallets:e,createCryptoWallet:t,updateCryptoWalletBalance:r,refreshCryptoWallets:n,isLoading:a,actor:o}=or(),[s,l]=M.useState(!1),[c,u]=M.useState(!1),[d,g]=M.useState(!1),[f,p]=M.useState(null),[h,k]=M.useState({name:"",currency:"ICP",isExternal:!1,address:"",externalWalletType:""}),[B,_]=M.useState(""),[E,x]=M.useState(!1),[U,C]=M.useState(null),[W,$]=M.useState({}),[P,X]=M.useState({}),[z,H]=M.useState(!1),Y=["ICP","ckBTC","ckETH","CHAT","SNS1","KINIC","MODCLUB","BOOM","DRAGGINZ","ELNA","GLDT","NANAS","PANDA","SEERS","DSCVR","CYCLES","DKUMA","OPENCHAT"],N=["Plug","Stoic","Bitfinity","NFID","Trust Wallet","Coinbase Wallet"];M.useEffect(()=>{n()},[]),M.useEffect(()=>{d&&f&&!P[f.currency]&&G(f.currency)},[d,f]);const O=async()=>{if(!(!o||!e||e.length===0)){H(!0);try{const T=await o.getDepositAddresses();if("ok"in T){const he={};T.ok.forEach(([we,ce])=>{he[we]=ce}),X(he)}}catch(T){console.error("Failed to load deposit addresses:",T)}finally{H(!1)}}},G=async T=>{if(!o){const he=D(T);return X(we=>({...we,[T]:he})),he}if(P[T])return P[T];try{const he=new Promise((ue,ge)=>{setTimeout(()=>ge(new Error("Address loading timeout")),5e3)}),we=o.getDepositAddress(T),ce=await Promise.race([we,he]);if("ok"in ce)return X(ue=>({...ue,[T]:ce.ok})),ce.ok;{console.error("Failed to get deposit address for",T,":",ce.err);const ue=D(T);return X(ge=>({...ge,[T]:ue})),ue}}catch(he){console.error("Failed to get deposit address for",T,":",he);const we=D(T);return X(ce=>({...ce,[T]:we})),we}},D=T=>{const he=Date.now(),we=Math.floor(Math.random()*1e6);switch(T){case"ICP":return`2vxsx-fae${he}${we}`;case"ckBTC":return`bc1${he}${we}`;case"ckETH":return`0x${he}${we}`;default:return`${T.toLowerCase()}_${he}${we}`}},ne=async()=>{if(!h.name||!h.currency){alert("Please fill in all required fields");return}x(!0);try{await t(h.name,h.currency,h.isExternal,h.isExternal?h.externalWalletType:null,h.address||null),l(!1),k({name:"",currency:"ICP",isExternal:!1,address:"",externalWalletType:""}),await O(),alert("Crypto wallet created successfully!")}catch(T){console.error("Failed to create crypto wallet:",T),alert("Failed to create crypto wallet. Please try again.")}finally{x(!1)}},Q=async()=>{if(!f||!B||isNaN(B)){alert("Please enter a valid balance");return}x(!0);try{const T=parseFloat(B);await r(f.id,T),u(!1),p(null),_(""),alert("Balance updated successfully!")}catch(T){console.error("Failed to update balance:",T),alert("Failed to update balance. Please try again.")}finally{x(!1)}},ae=async(T,he)=>{try{await navigator.clipboard.writeText(T),C(he),setTimeout(()=>C(null),2e3)}catch(we){console.error("Failed to copy address:",we),alert("Failed to copy address. Please copy manually.")}},fe=T=>{if(!T&&T!==0)return"0.000000";let he;return he=Number(T),isNaN(he)?"0.000000":he.toFixed(6)},le=(T,he)=>!T||T==="Loading..."||T==="Error loading address"?T||"No address":W[he]||T.length<=20?T:`${T.slice(0,10)}...${T.slice(-10)}`,de=T=>({ICP:"⭕",ckBTC:"₿",ckETH:"⟠",CHAT:"💬",SNS1:"🔗",KINIC:"🎬",MODCLUB:"🛡️",BOOM:"💥",DRAGGINZ:"🐉",ELNA:"🌟",GLDT:"��",NANAS:"🍌",PANDA:"🐼",SEERS:"👁️",DSCVR:"🔍",CYCLES:"⚡",DKUMA:"🐻",OPENCHAT:"💬"})[T]||"🪙",_e=T=>({ICP:{name:"Internet Computer",explorer:"https://dashboard.internetcomputer.org/account/"},ckBTC:{name:"Bitcoin (ckBTC)",explorer:"https://dashboard.internetcomputer.org/bitcoin"},ckETH:{name:"Ethereum (ckETH)",explorer:"https://dashboard.internetcomputer.org/ethereum"},CHAT:{name:"OpenChat",explorer:"https://oc.app"},SNS1:{name:"SNS DAO",explorer:"https://dashboard.internetcomputer.org/sns"},KINIC:{name:"Kinic",explorer:"https://kinic.io"},MODCLUB:{name:"Modclub",explorer:"https://modclub.ai"},BOOM:{name:"Boom DAO",explorer:"https://boomdao.ooo"},DRAGGINZ:{name:"Dragginz",explorer:"https://dragginz.com"},ELNA:{name:"Elna",explorer:"https://elna.ai"},GLDT:{name:"Gold DAO",explorer:"https://golddao.ooo"},NANAS:{name:"Nanas",explorer:"https://nanas.com"},PANDA:{name:"Panda DAO",explorer:"https://pandadao.ooo"},SEERS:{name:"Seers",explorer:"https://seers.com"},DSCVR:{name:"DSCVR",explorer:"https://dscvr.one"},CYCLES:{name:"Cycles",explorer:"https://dashboard.internetcomputer.org/cycles"},DKUMA:{name:"Dkuma",explorer:"https://dkuma.com"},OPENCHAT:{name:"OpenChat",explorer:"https://oc.app"}})[T]||{name:"Unknown Network",explorer:"#"};return a?i.createElement("div",{className:"crypto-wallets-loading"},i.createElement("div",{className:"loading-spinner"}),i.createElement("p",null,"Loading crypto wallets...")):i.createElement("div",{className:"crypto-wallets"},i.createElement("div",{className:"crypto-wallets-header"},i.createElement("h2",null,"Your Crypto Wallets"),i.createElement("button",{className:"btn btn-primary",onClick:()=>l(!0)},i.createElement("span",{className:"btn-icon"},"+"),"Create Wallet")),i.createElement("div",{className:"crypto-wallets-grid",style:{display:"flex",flexWrap:"wrap",gap:"1.1rem",width:"100%",marginBottom:"1.5rem"}},e.length===0?i.createElement("div",{className:"no-wallets"},i.createElement("div",{className:"no-wallets-icon"},"🪙"),i.createElement("h3",null,"No Crypto Wallets"),i.createElement("p",null,"You don't have any crypto wallets yet. Create your first wallet to get started!")):e.map(T=>i.createElement("div",{key:T.id,className:"dashboard-card",style:{flex:"1 1 260px",minWidth:"260px",maxWidth:"400px",alignItems:"flex-start",padding:"0.9rem 1rem 0.7rem 1rem",gap:"0.5rem",position:"relative",boxShadow:"var(--shadow-sm)"}},i.createElement("div",{className:"wallet-icon",style:{fontSize:"1.5rem",width:"32px",height:"32px",marginBottom:"0.2rem"}},de(T.currency)),i.createElement("div",{className:"stat-number"},fe(T.balance)),i.createElement("div",{className:"stat-label"},T.name," ",i.createElement("span",{style:{color:"var(--primary-600)",fontWeight:600}},T.currency)),i.createElement("div",{className:"wallet-actions",style:{display:"flex",gap:"0.4rem",marginTop:"0.3rem"}},i.createElement("button",{className:"btn btn-primary btn-sm",onClick:()=>{p(T),g(!0)}},i.createElement(K8,null)," Deposit"),i.createElement("button",{className:"btn btn-secondary btn-sm",onClick:()=>{p(T),u(!0)}},"Balance"),i.createElement("button",{className:"btn btn-outline btn-sm",onClick:()=>{p(T),$(he=>({...he,[T.id]:!he[T.id]}))}},"Address")),W[T.id]&&i.createElement("div",{className:"wallet-address",style:{marginTop:"0.3rem",fontSize:"0.92rem",color:"var(--primary-700)",fontFamily:"monospace",wordBreak:"break-all",whiteSpace:"pre-wrap"}},le(T.address||"No address"))))),s&&i.createElement("div",{className:"modal-overlay"},i.createElement("div",{className:"modal"},i.createElement("div",{className:"modal-left"},i.createElement("div",{className:"wallet-icon-large"},"🪙"),i.createElement("p",{className:"desc"},"Create a new wallet to manage your digital assets securely and easily.")),i.createElement("div",{className:"modal-right"},i.createElement("div",{className:"modal-header"},i.createElement("h3",null,"Create New Crypto Wallet"),i.createElement("button",{className:"modal-close",onClick:()=>l(!1)},"×")),i.createElement("div",{className:"modal-body"},i.createElement("div",{className:"form-group"},i.createElement("label",null,"Wallet Name"),i.createElement("input",{type:"text",value:h.name,onChange:T=>k(he=>({...he,name:T.target.value})),placeholder:"e.g., My ICP Wallet"})),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Currency"),i.createElement("select",{value:h.currency,onChange:T=>k(he=>({...he,currency:T.target.value}))},Y.map(T=>i.createElement("option",{key:T,value:T},T)))),i.createElement("div",{className:"form-group"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:h.isExternal,onChange:T=>k(he=>({...he,isExternal:T.target.checked}))}),"External Wallet")),h.isExternal&&i.createElement(i.Fragment,null,i.createElement("div",{className:"form-group"},i.createElement("label",null,"External Wallet Type"),i.createElement("select",{value:h.externalWalletType,onChange:T=>k(he=>({...he,externalWalletType:T.target.value}))},i.createElement("option",{value:""},"Select wallet type"),N.map(T=>i.createElement("option",{key:T,value:T},T)))),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Wallet Address"),i.createElement("input",{type:"text",value:h.address,onChange:T=>k(he=>({...he,address:T.target.value})),placeholder:"Enter external wallet address"})))),i.createElement("div",{className:"modal-footer"},i.createElement("button",{className:"btn btn-secondary",onClick:()=>l(!1)},"Cancel"),i.createElement("button",{className:"btn btn-primary",onClick:ne,disabled:E},E?"Creating...":"Create Wallet"))))),c&&f&&i.createElement("div",{className:"modal-overlay"},i.createElement("div",{className:"modal"},i.createElement("div",{className:"modal-header"},i.createElement("h3",null,"Update Balance"),i.createElement("button",{className:"modal-close",onClick:()=>u(!1)},"×")),i.createElement("div",{className:"modal-body"},i.createElement("div",{className:"form-group"},i.createElement("label",null,"New Balance (",f.currency,")"),i.createElement("input",{type:"number",step:"0.000001",value:B,onChange:T=>_(T.target.value),placeholder:"0.000000"}))),i.createElement("div",{className:"modal-footer"},i.createElement("button",{className:"btn btn-secondary",onClick:()=>u(!1)},"Cancel"),i.createElement("button",{className:"btn btn-primary",onClick:Q,disabled:E},E?"Updating...":"Update Balance")))),d&&f&&i.createElement("div",{className:"modal-overlay"},i.createElement("div",{className:"modal deposit-modal"},i.createElement("div",{className:"modal-header"},i.createElement("h3",null,"Deposit ",f.currency),i.createElement("button",{className:"modal-close",onClick:()=>g(!1)},"×")),i.createElement("div",{className:"modal-body"},i.createElement("div",{className:"qr-section"},i.createElement("div",{className:"qr-code-placeholder"},P[f.currency]?i.createElement(hE,{value:P[f.currency],size:120,level:"H",includeMargin:!0}):i.createElement(X8,{size:120}),i.createElement("p",null,"Scan this QR code or copy the address below to deposit ",f.currency,"."))),i.createElement("div",{className:"instructions"},i.createElement("h4",null,"How to Deposit"),i.createElement("ol",null,i.createElement("li",null,"Scan the QR code or copy the address below."),i.createElement("li",null,"Send ",f.currency," from your external wallet (e.g., Binance, Coinbase)."),i.createElement("li",null,"Wait for network confirmation (usually 2-5 minutes)."),i.createElement("li",null,"Check your balance after deposit is confirmed."))),i.createElement("div",{className:"address-section"},i.createElement("h4",null,"Deposit Address"),i.createElement("div",{className:"address-display"},i.createElement("p",{className:"address-text"},P[f.currency]||"Loading..."),i.createElement("button",{className:"btn btn-secondary btn-sm",onClick:()=>ae(P[f.currency],f.id),disabled:!P[f.currency]},U===f.id?i.createElement(Xe,null):i.createElement(q8,null),U===f.id?"Copied!":"Copy"))),i.createElement("div",{className:"network-info"},i.createElement("h4",null,"Network Information"),i.createElement("p",null,i.createElement("strong",null,"Network:")," ",_e(f.currency).name),i.createElement("p",null,i.createElement("strong",null,"Minimum Deposit:")," 0.000001 ",f.currency),i.createElement("p",null,i.createElement("strong",null,"Confirmation Time:")," ~2-5 minutes"))),i.createElement("div",{className:"modal-footer"},i.createElement("button",{className:"btn btn-secondary",onClick:()=>g(!1)},"Close")))))}function w3(){const{user:e,isAuthenticated:t,isLoading:r,sendAIMessage:n}=or(),{showToast:a}=pa(),[o,s]=M.useState([{type:"assistant",content:"Hi! I am your AI Financial Assistant. How can I help you today?"}]),[l,c]=M.useState(""),[u,d]=M.useState(!1),g=M.useRef(null);M.useEffect(()=>{var p;(p=g.current)==null||p.scrollIntoView({behavior:"smooth"})},[o]);const f=async p=>{if(p.preventDefault(),!!l.trim()){d(!0),s(h=>[...h,{type:"user",content:l}]);try{let h="Sorry, AI is not available right now.";if(n){const k=await n(l);h=(k==null?void 0:k.content)||"AI could not process your request."}s(k=>[...k,{type:"assistant",content:h}])}catch{a({message:"Failed to get AI response",type:"error",icon:i.createElement(L8,null)}),s(k=>[...k,{type:"assistant",content:"Sorry, something went wrong."}])}finally{c(""),d(!1)}}};return i.createElement("div",{className:"ai-assistant-container"},i.createElement("div",{className:"ai-header"},i.createElement(t0,{className:"ai-icon"}),i.createElement("h3",null,"AI Financial Assistant")),i.createElement("div",{className:"ai-chat-window"},o.map((p,h)=>i.createElement("div",{key:h,className:`ai-message ${p.type}`},i.createElement("span",{className:"ai-avatar"},p.type==="assistant"?i.createElement(t0,null):i.createElement(_u,null)),i.createElement("span",{className:"ai-content"},p.content))),i.createElement("div",{ref:g})),i.createElement("form",{className:"ai-input-form",onSubmit:f},i.createElement("input",{type:"text",placeholder:"Ask me anything about your finances...",value:l,onChange:p=>c(p.target.value),disabled:u||r}),i.createElement("button",{type:"submit",className:"btn btn-primary",disabled:u||r||!l.trim()},i.createElement(tE,null))))}const E3={"M-Pesa":i.createElement(t3,null),Card:i.createElement(Sm,null),Bank:i.createElement(jo,null),Cash:i.createElement(e3,null),Online:i.createElement(Dw,null)},b3=["Mpesa","AirtelMoney","Equitel","BankTransfer","Card","PayPal","Custom"],x3=()=>{const{isAuthenticated:e,isLoading:t,backend:r}=or(),[n,a]=M.useState([]),[o,s]=M.useState(!0),[l,c]=M.useState(null),[u,d]=M.useState(!1),[g,f]=M.useState(null),[p,h]=M.useState({provider:"",accountNumber:"",phoneNumber:"",accountName:"",isDefault:!1}),[k,B]=M.useState(!1),_=async()=>{s(!0),c(null);try{const P=await r.getUserPaymentMethods();a(P||[])}catch{c("Failed to load payment methods")}finally{s(!1)}};M.useEffect(()=>{e&&_()},[e]);const E=()=>{f(null),h({provider:"",accountNumber:"",phoneNumber:"",accountName:"",isDefault:!1}),d(!0)},x=P=>{f(P),h({provider:P.provider,accountNumber:P.accountNumber||"",phoneNumber:P.phoneNumber||"",accountName:P.accountName,isDefault:P.isDefault}),d(!0)},U=()=>{d(!1),f(null),h({provider:"",accountNumber:"",phoneNumber:"",accountName:"",isDefault:!1})},C=P=>{const{name:X,value:z,type:H,checked:Y}=P.target;h(N=>({...N,[X]:H==="checkbox"?Y:z}))},W=async P=>{P.preventDefault(),B(!0);try{g?await r.updatePaymentMethod(g.id,p.accountNumber,p.phoneNumber,p.accountName,p.isDefault):await r.addPaymentMethod(p.provider,p.accountNumber,p.phoneNumber,p.accountName,p.isDefault),await _(),U()}catch{c("Failed to save payment method")}finally{B(!1)}},$=async P=>{if(window.confirm("Remove this payment method?")){B(!0);try{await r.removePaymentMethod(P),await _()}catch{c("Failed to remove payment method")}finally{B(!1)}}};return t?i.createElement("div",null,"Loading..."):e?i.createElement("div",{className:"payment-methods-container"},i.createElement("h2",null,"Local Payment Methods"),o&&i.createElement("div",{style:{color:"var(--primary-600)"}},"Loading..."),l&&i.createElement("div",{style:{color:"var(--error-600)",marginBottom:8}},l),i.createElement("ul",{className:"payment-methods-list"},n.map(P=>i.createElement("li",{key:P.id,className:"payment-method-card"},i.createElement("h3",null,P.accountName),i.createElement("div",{className:"meta"},i.createElement(_u,null)," ",P.phoneNumber||P.accountNumber||"N/A"),i.createElement("div",{className:"types"},i.createElement("span",{className:"type-icon"},E3[P.provider]||i.createElement(Sm,null)," ",P.provider),P.isDefault&&i.createElement("span",{className:"type-icon",style:{background:"var(--success-50)",color:"var(--success-600)"}},i.createElement(Xe,null)," Default")),i.createElement("div",{className:"payment-method-actions",style:{display:"flex",gap:8,marginTop:8}},i.createElement("button",{className:"btn btn-secondary btn-sm",onClick:()=>x(P)},i.createElement(zc,null)),i.createElement("button",{className:"btn btn-outline btn-sm",onClick:()=>$(P.id)},i.createElement(Ql,null)))))),i.createElement("button",{className:"btn btn-primary fab",onClick:E,style:{position:"fixed",bottom:32,right:32,borderRadius:"50%",width:56,height:56,fontSize:24,zIndex:200},title:"Add Payment Method"},i.createElement(hs,null)),u&&i.createElement("div",{className:"modal-overlay"},i.createElement("form",{className:"modal",style:{maxWidth:400,minWidth:280},onSubmit:W},i.createElement("div",{className:"modal-header"},i.createElement("h3",null,g?"Edit Payment Method":"Add Payment Method"),i.createElement("button",{className:"modal-close",onClick:U,type:"button"},i.createElement(Ge,null))),i.createElement("div",{className:"modal-body",style:{display:"flex",flexDirection:"column",gap:12}},i.createElement("label",null,"Provider",i.createElement("select",{name:"provider",value:p.provider,onChange:C,required:!0,disabled:!!g},i.createElement("option",{value:""},"Select provider"),b3.map(P=>i.createElement("option",{key:P,value:P},P)))),i.createElement("label",null,"Account Name",i.createElement("input",{name:"accountName",value:p.accountName,onChange:C,required:!0,placeholder:"e.g. My M-Pesa"})),i.createElement("label",null,"Account Number",i.createElement("input",{name:"accountNumber",value:p.accountNumber,onChange:C,placeholder:"(optional)"})),i.createElement("label",null,"Phone Number",i.createElement("input",{name:"phoneNumber",value:p.phoneNumber,onChange:C,placeholder:"(optional)"})),i.createElement("label",{style:{display:"flex",alignItems:"center",gap:8}},i.createElement("input",{type:"checkbox",name:"isDefault",checked:p.isDefault,onChange:C})," Default")),i.createElement("div",{className:"modal-footer",style:{display:"flex",justifyContent:"flex-end",gap:8}},i.createElement("button",{className:"btn btn-secondary",type:"button",onClick:U},"Cancel"),i.createElement("button",{className:"btn btn-primary",type:"submit",disabled:k},k?"Saving...":"Save"))))):i.createElement("div",{style:{color:"var(--primary-600)",textAlign:"center",marginTop:32}},"Please log in to manage payment methods.")};function _3(){const{isAuthenticated:e,isLoading:t,getAvailableGames:r,getUserGames:n,joinGame:a}=or(),{showToast:o}=pa(),[s,l]=M.useState([]),[c,u]=M.useState([]),[d,g]=M.useState(!0);M.useEffect(()=>{(async()=>{g(!0);try{if(r){const h=await r();l(h||[])}if(n){const h=await n();u(h||[])}}catch{o({message:"Failed to load games",type:"error",icon:i.createElement(Lh,null)})}finally{g(!1)}})()},[]);const f=async p=>{if(a)try{if(await a(p),o({message:"Joined game!",type:"success",icon:i.createElement(Xe,null)}),n){const h=await n();u(h||[])}}catch{o({message:"Failed to join game",type:"error",icon:i.createElement(Lh,null)})}};return d?i.createElement("div",null,"Loading social games..."):i.createElement("div",{className:"social-games-container"},i.createElement("div",{className:"social-games-header"},i.createElement(Xw,{className:"social-games-icon"}),i.createElement("h3",null,"Social Games")),i.createElement("div",{className:"social-games-list"},s.length===0?i.createElement("div",null,"No games available right now."):s.map(p=>i.createElement("div",{key:p.id,className:"social-game-card"},i.createElement("div",{className:"game-title"},p.name),i.createElement("div",{className:"game-desc"},p.description),i.createElement("div",{className:"game-meta"},i.createElement("span",null,i.createElement(la,null)," ",p.currentParticipants," / ",p.maxParticipants||"∞"," players"),i.createElement("span",null,i.createElement(rE,null)," Prize: ",p.prizePool," ",p.currency),i.createElement("span",null,i.createElement(xu,null)," Status: ",p.status)),c.some(h=>h.id===p.id)?i.createElement("button",{className:"btn btn-success",disabled:!0},i.createElement(Xe,null)," Joined"):i.createElement("button",{className:"btn btn-primary",onClick:()=>f(p.id)},i.createElement(D8,null)," Join Game")))))}const S3=()=>{or();const[e,t]=M.useState(!0),[r,n]=M.useState(null),[a,o]=M.useState("overview"),[s,l]=M.useState({totalValue:0,totalInvested:0,totalReturn:0,totalReturnPercentage:0,portfolio:[]});if(M.useEffect(()=>{const d=async()=>{try{t(!0),await new Promise(f=>setTimeout(f,1e3)),l({totalValue:12345.67,totalInvested:1e4,totalReturn:2345.67,totalReturnPercentage:23.46,portfolio:[{name:"Asset A",value:5e3,invested:4e3,return:1e3,returnPercentage:25},{name:"Asset B",value:3e3,invested:2500,return:500,returnPercentage:20},{name:"Asset C",value:4345.67,invested:3500,return:845.67,returnPercentage:24.16}]})}catch(f){n(f)}finally{t(!1)}};d();const g=setInterval(d,5e3);return()=>clearInterval(g)},[]),e)return i.createElement("div",null,"Loading...");if(r)return i.createElement("div",null,"Error: ",r.message);const c=[{name:"ICP",value:8e3,change:5.26,amount:"50 ICP"},{name:"ckBTC",value:2500,change:8.7,amount:"0.5 ckBTC"},{name:"ckETH",value:2e3,change:14.29,amount:"2 ckETH"}],u=[{icon:i.createElement(xu,{size:22,style:{color:"#1976d2",background:"#e3f0fa",borderRadius:8,padding:4}}),title:"ICP Staking",desc:"Stake ICP tokens to earn rewards",apy:"8.5%",risk:{label:"Low",icon:i.createElement(Pr,{style:{color:"#059669"}})},min:"1",btn:"Start Earning"},{icon:i.createElement(eg,{size:22,style:{color:"#1976d2",background:"#e3f0fa",borderRadius:8,padding:4}}),title:"ckBTC Lending",desc:"Lend ckBTC to earn interest",apy:"12.3%",risk:{label:"Medium",icon:i.createElement(eE,{style:{color:"#f59e0b"}})},min:"0.001",btn:"Start Earning"},{icon:i.createElement(Jh,{size:22,style:{color:"#1976d2",background:"#e3f0fa",borderRadius:8,padding:4}}),title:"ICP-ckBTC LP",desc:"Provide liquidity to earn fees",apy:"18.7%",risk:{label:"High",icon:i.createElement(sa,{style:{color:"#ef4444"}})},min:"100",btn:"Start Earning"}];return i.createElement("section",{className:"dashboard-section",style:{padding:0,margin:0,background:"transparent",boxShadow:"none",border:"none"}},i.createElement("div",{style:{background:"linear-gradient(90deg, #1976d2 0%, #1565c0 100%)",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",padding:"1.2rem 2rem",color:"#fff",display:"flex",alignItems:"center",gap:16}},i.createElement(Jw,{size:28,style:{marginRight:12}}),i.createElement("div",null,i.createElement("div",{style:{fontWeight:700,fontSize:20}},"DeFi Tools"),i.createElement("div",{style:{fontSize:15,opacity:.92}},"Access decentralized finance with local fiat integration"))),i.createElement("div",{style:{padding:"2rem 2.5rem 0 2.5rem"}},i.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:18}},i.createElement("div",{style:{fontWeight:700,fontSize:18,color:"var(--neutral-700)"}},"Portfolio Overview"),i.createElement("button",{className:"btn btn-secondary",style:{display:"flex",alignItems:"center",gap:6,fontWeight:600,fontSize:15}},i.createElement(tg,null)," Refresh")),i.createElement("div",{className:"dashboard-card",style:{marginBottom:24,maxWidth:340}},i.createElement("div",{style:{fontSize:32,fontWeight:800,color:"var(--primary-700)"}},"$12,500"),i.createElement("div",{style:{color:"var(--success-700)",fontWeight:600,fontSize:18,marginTop:2}},i.createElement("span",{style:{marginRight:4}},"↑ $850"),i.createElement("span",{style:{color:"var(--success-600)",fontWeight:700}},"(+7.28%)"))),i.createElement("div",{className:"dashboard-section",style:{background:"var(--neutral-50)",borderRadius:12,boxShadow:"var(--shadow-sm)",padding:"1.2rem 1.5rem",maxWidth:600}},i.createElement("div",{style:{fontWeight:700,fontSize:16,color:"var(--neutral-700)",marginBottom:12}},"Your Assets"),i.createElement("div",{style:{display:"flex",flexDirection:"column",gap:12}},c.map((d,g)=>i.createElement("div",{key:d.name,style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#fff",borderRadius:8,padding:"0.9rem 1.2rem",boxShadow:"var(--shadow-xs, 0 1px 2px 0 rgb(0 0 0 / 0.03))"}},i.createElement("div",{style:{display:"flex",flexDirection:"column",gap:2}},i.createElement("span",{style:{fontWeight:700,color:"var(--neutral-800)",fontSize:15}},d.name),i.createElement("span",{style:{color:"var(--neutral-400)",fontSize:13}},d.amount)),i.createElement("div",{style:{textAlign:"right"}},i.createElement("div",{style:{fontWeight:700,color:"var(--primary-800)",fontSize:17}},"$",d.value.toLocaleString()),i.createElement("div",{style:{color:"var(--success-700)",fontWeight:600,fontSize:14}},"↑ ",d.change,"%")))))),i.createElement("div",{style:{marginTop:32}},i.createElement("div",{style:{display:"flex",gap:0,borderBottom:"2px solid var(--primary-100)",marginBottom:18}},["overview","swap","lending","yield"].map(d=>i.createElement("button",{key:d,className:"btn",style:{borderRadius:0,border:"none",background:a===d?"var(--primary-50)":"transparent",color:a===d?"var(--primary-700)":"var(--neutral-500)",fontWeight:a===d?700:500,borderBottom:a===d?"2.5px solid var(--primary-500)":"2.5px solid transparent",boxShadow:"none",fontSize:16,padding:"0.7rem 2.2rem",marginRight:2,transition:"all 0.18s"},onClick:()=>o(d)},d==="overview"&&i.createElement(i.Fragment,null,"Overview"),d==="swap"&&i.createElement(i.Fragment,null,i.createElement(tg,{style:{marginRight:6}}),"Swap"),d==="lending"&&i.createElement(i.Fragment,null,i.createElement(eg,{style:{marginRight:6}}),"Lending"),d==="yield"&&i.createElement(i.Fragment,null,i.createElement(Jh,{style:{marginRight:6}}),"Yield Farming")))),i.createElement("div",{style:{fontWeight:700,fontSize:18,color:"var(--neutral-700)",marginBottom:18}},"DeFi Products"),i.createElement("div",{style:{display:"flex",gap:18,flexWrap:"wrap"}},u.map((d,g)=>i.createElement("div",{key:d.title,className:"dashboard-card",style:{minWidth:320,maxWidth:340,flex:1,padding:"1.2rem 1.3rem",display:"flex",flexDirection:"column",gap:8}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:4}},d.icon,i.createElement("span",{style:{fontWeight:700,fontSize:17,color:"var(--primary-800)"}},d.title)),i.createElement("div",{style:{color:"var(--neutral-500)",fontSize:15,marginBottom:6}},d.desc),i.createElement("div",{style:{display:"flex",alignItems:"center",gap:18,fontSize:15,color:"var(--neutral-700)",marginBottom:6}},i.createElement("span",null,"APY: ",i.createElement("b",{style:{color:"var(--primary-700)"}},d.apy)),i.createElement("span",null,"Risk: ",d.risk.icon," ",i.createElement("b",{style:{color:"var(--neutral-700)"}},d.risk.label)),i.createElement("span",null,"Min Amount: ",i.createElement("b",{style:{color:"var(--primary-700)"}},d.min))),i.createElement("button",{className:"btn btn-primary",style:{marginTop:8,fontWeight:600,fontSize:15}},d.btn)))))))};function N3(){or();const[e,t]=M.useState("marketplace"),[r,n]=M.useState(""),[a,o]=M.useState("all"),[s,l]=M.useState([]),[c,u]=M.useState([]),[d,g]=M.useState(!1),[f,p]=M.useState(null),[h,k]=M.useState(!1),[B,_]=M.useState(!1),E=[{id:"all",name:"All",icon:"📦"},{id:"finance",name:"Finance",icon:"💰"},{id:"gaming",name:"Gaming",icon:"🎮"},{id:"productivity",icon:"⚡",name:"Productivity"},{id:"social",name:"Social",icon:"👥"},{id:"utilities",name:"Utilities",icon:"🔧"}];M.useEffect(()=>{l([{id:1,name:"Budget Tracker Pro",description:"Advanced budgeting and expense tracking with AI insights",category:"finance",author:"Nesto Team",version:"1.2.0",rating:4.8,downloads:15420,size:"2.3 MB",price:0,tags:["budgeting","expenses","ai","analytics"],features:["AI-powered insights","Multi-currency support","Export reports"],status:"available",icon:"📊",screenshots:[],reviews:[{user:"Alice",rating:5,comment:"Super useful for my monthly budget!"},{user:"Bob",rating:4,comment:"Great insights, easy to use."}]},{id:2,name:"Crypto Portfolio Manager",description:"Track and manage your cryptocurrency investments",category:"finance",author:"CryptoDev",version:"2.1.0",rating:4.6,downloads:8920,size:"1.8 MB",price:0,tags:["crypto","portfolio","trading","defi"],features:["Real-time prices","Portfolio tracking","DeFi integration"],status:"available",icon:"₿",screenshots:[],reviews:[{user:"Eve",rating:5,comment:"Love the real-time updates!"}]},{id:3,name:"Social Savings Challenge",description:"Create and join savings challenges with friends",category:"social",author:"SocialFinance",version:"1.0.5",rating:4.9,downloads:23450,size:"3.1 MB",price:0,tags:["savings","social","challenges","gamification"],features:["Group challenges","Progress tracking","Rewards system"],status:"available",icon:"🎯",screenshots:[],reviews:[{user:"Charlie",rating:5,comment:"Fun way to save with friends!"}]},{id:4,name:"Bill Reminder",description:"Never miss a bill payment with smart reminders",category:"utilities",author:"UtilitySoft",version:"1.0.0",rating:4.7,downloads:12e3,size:"1.2 MB",price:0,tags:["bills","reminders","utilities"],features:["Smart reminders","Recurring bills","Calendar sync"],status:"available",icon:"⏰",screenshots:[],reviews:[]}]),u([2])},[]);const x=s.filter(P=>{const X=a==="all"||P.category===a,z=P.name.toLowerCase().includes(r.toLowerCase())||P.description.toLowerCase().includes(r.toLowerCase());return X&&z}),U=s.filter(P=>c.includes(P.id)),C=P=>{p(P),g(!0)},W=async P=>{k(!0),setTimeout(()=>{u(X=>[...X,P.id]),k(!1)},1e3)},$=async P=>{_(!0),setTimeout(()=>{u(X=>X.filter(z=>z!==P.id)),_(!1),g(!1)},1e3)};return i.createElement("div",{className:"plugin-marketplace-root",style:{width:"100%",padding:0,margin:0,position:"relative"}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:24,marginBottom:24,borderBottom:"1px solid var(--neutral-100)",padding:"0 2rem 1.2rem 2rem",background:"white",position:"sticky",top:0,zIndex:2}},i.createElement("h2",{style:{fontWeight:700,fontSize:28,margin:0,color:"var(--primary-700)",letterSpacing:"-1px"}},"Plug-in Marketplace"),i.createElement("div",{style:{flex:1}}),i.createElement("div",{style:{display:"flex",gap:8}},i.createElement("button",{className:`tab-btn${e==="marketplace"?" active":""}`,onClick:()=>t("marketplace"),style:{padding:"0.6rem 1.4rem",borderRadius:8,border:"none",background:e==="marketplace"?"var(--primary-600)":"var(--neutral-100)",color:e==="marketplace"?"white":"var(--neutral-600)",fontWeight:600,fontSize:16,transition:"all 0.18s",boxShadow:e==="marketplace"?"0 2px 8px 0 rgba(59,130,246,0.10)":"none",cursor:"pointer"}},"Marketplace"),i.createElement("button",{className:`tab-btn${e==="installed"?" active":""}`,onClick:()=>t("installed"),style:{padding:"0.6rem 1.4rem",borderRadius:8,border:"none",background:e==="installed"?"var(--primary-600)":"var(--neutral-100)",color:e==="installed"?"white":"var(--neutral-600)",fontWeight:600,fontSize:16,transition:"all 0.18s",boxShadow:e==="installed"?"0 2px 8px 0 rgba(59,130,246,0.10)":"none",cursor:"pointer"}},"Installed"))),i.createElement("div",{style:{display:"flex",gap:16,marginBottom:24,flexWrap:"wrap",padding:"0 2rem"}},i.createElement("input",{type:"text",placeholder:"Search plugins...",value:r,onChange:P=>n(P.target.value),style:{flex:1,minWidth:220,padding:"0.7rem 1.2rem",borderRadius:8,border:"1px solid var(--neutral-200)",fontSize:16,background:"var(--neutral-50)",boxShadow:"0 1px 2px 0 rgba(0,0,0,0.03)"}}),i.createElement("select",{value:a,onChange:P=>o(P.target.value),style:{padding:"0.7rem 1.2rem",borderRadius:8,border:"1px solid var(--neutral-200)",fontSize:16,background:"var(--neutral-50)",boxShadow:"0 1px 2px 0 rgba(0,0,0,0.03)"}},E.map(P=>i.createElement("option",{key:P.id,value:P.id},P.icon," ",P.name)))),i.createElement("div",{className:"plugin-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:24,padding:"0 2rem 2rem 2rem"}},(e==="marketplace"?x:U).length===0?i.createElement("div",{style:{gridColumn:"1/-1",textAlign:"center",color:"var(--neutral-400)",fontSize:18,padding:"3rem 0"}},"No plugins found."):(e==="marketplace"?x:U).map(P=>i.createElement("div",{key:P.id,className:"plugin-card",style:{background:"white",borderRadius:14,boxShadow:"0 2px 8px rgba(0,0,0,0.07)",padding:24,display:"flex",flexDirection:"column",alignItems:"flex-start",position:"relative",minHeight:220,transition:"box-shadow 0.2s, transform 0.18s",cursor:"pointer",border:"1px solid var(--neutral-100)"},onClick:()=>C(P),onMouseEnter:X=>X.currentTarget.style.transform="translateY(-4px) scale(1.03)",onMouseLeave:X=>X.currentTarget.style.transform="none"},i.createElement("div",{style:{fontSize:36,marginBottom:12}},P.icon),i.createElement("div",{style:{fontWeight:700,fontSize:18,marginBottom:4}},P.name),i.createElement("div",{style:{color:"var(--neutral-500)",fontSize:15,marginBottom:8}},P.description),i.createElement("div",{style:{display:"flex",gap:8,marginBottom:8}},i.createElement("span",{style:{background:"var(--neutral-100)",borderRadius:6,padding:"2px 8px",fontSize:13}},P.category),i.createElement("span",{style:{color:"#f5b50a",fontWeight:600,fontSize:13}},"★ ",P.rating)),i.createElement("div",{style:{fontSize:13,color:"var(--neutral-400)"}},P.downloads.toLocaleString()," installs"),c.includes(P.id)&&i.createElement("div",{style:{position:"absolute",top:18,right:18,background:"var(--primary-100)",color:"var(--primary-700)",borderRadius:8,padding:"2px 10px",fontSize:13,fontWeight:600}},"Installed")))),d&&f&&i.createElement("div",{className:"plugin-modal-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.18)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",animation:"fadeIn 0.2s"},onClick:()=>g(!1)},i.createElement("div",{className:"plugin-modal",style:{background:"white",borderRadius:16,boxShadow:"0 4px 32px rgba(0,0,0,0.18)",padding:36,minWidth:340,maxWidth:420,width:"100%",position:"relative",animation:"slideUp 0.22s"},onClick:P=>P.stopPropagation()},i.createElement("button",{onClick:()=>g(!1),style:{position:"absolute",top:18,right:18,background:"none",border:"none",fontSize:22,color:"var(--neutral-400)",cursor:"pointer"}},i.createElement(Ge,null)),i.createElement("div",{style:{fontSize:48,marginBottom:12}},f.icon),i.createElement("div",{style:{fontWeight:700,fontSize:22,marginBottom:6}},f.name),i.createElement("div",{style:{color:"var(--neutral-500)",fontSize:15,marginBottom:10}},f.description),i.createElement("div",{style:{display:"flex",gap:8,marginBottom:8}},i.createElement("span",{style:{background:"var(--neutral-100)",borderRadius:6,padding:"2px 8px",fontSize:13}},f.category),i.createElement("span",{style:{color:"#f5b50a",fontWeight:600,fontSize:13}},"★ ",f.rating),i.createElement("span",{style:{fontSize:13,color:"var(--neutral-400)"}},f.downloads.toLocaleString()," installs")),i.createElement("div",{style:{fontSize:13,color:"var(--neutral-400)",marginBottom:8}},"By ",f.author," • v",f.version," • ",f.size),i.createElement("div",{style:{marginBottom:12}},f.features&&f.features.map((P,X)=>i.createElement("span",{key:X,style:{background:"var(--primary-50)",color:"var(--primary-700)",borderRadius:6,padding:"2px 8px",fontSize:13,marginRight:6}},P))),c.includes(f.id)?i.createElement("button",{className:"btn btn-danger",style:{width:"100%",marginBottom:10,fontWeight:600,fontSize:16,borderRadius:8,transition:"all 0.18s"},onClick:()=>$(f),disabled:B},B?"Uninstalling...":"Uninstall"):i.createElement("button",{className:"btn btn-primary",style:{width:"100%",marginBottom:10,fontWeight:600,fontSize:16,borderRadius:8,transition:"all 0.18s"},onClick:()=>W(f),disabled:h},h?"Installing...":"Install"),i.createElement("div",{style:{marginTop:18}},i.createElement("div",{style:{fontWeight:600,fontSize:15,marginBottom:6}},"Reviews"),f.reviews&&f.reviews.length>0?i.createElement("div",{style:{display:"flex",flexDirection:"column",gap:8}},f.reviews.map((P,X)=>i.createElement("div",{key:X,style:{background:"var(--neutral-100)",borderRadius:6,padding:"6px 10px",fontSize:14}},i.createElement("span",{style:{fontWeight:600}},P.user),": ",i.createElement("span",{style:{color:"#f5b50a"}},"★ ",P.rating)," ",i.createElement("span",{style:{color:"var(--neutral-600)"}},P.comment)))):i.createElement("div",{style:{color:"var(--neutral-400)",fontSize:14}},"No reviews yet.")))))}function gE(e){return Ae({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 0 0-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zM512 734.2c-62.1 0-112.6-50.5-112.6-112.6S449.9 509 512 509s112.6 50.5 112.6 112.6S574.1 734.2 512 734.2zm0-160.9c-26.6 0-48.2 21.6-48.2 48.3 0 26.6 21.6 48.3 48.2 48.3s48.2-21.6 48.2-48.3c0-26.6-21.6-48.3-48.2-48.3z"},child:[]}]})(e)}function k3({vault:e,details:t,onBack:r,user:n,showToast:a}){var se,oe,ke,Re,Ce,Ne,Pe,$e;M.useEffect(()=>{const J=document.createElement("style");return J.textContent=`
      @keyframes typing {
        0%, 60%, 100% {
          transform: translateY(0);
          opacity: 0.4;
        }
        30% {
          transform: translateY(-10px);
          opacity: 1;
        }
      }
      
      @keyframes pulse {
        0%, 100% {
          opacity: 1;
          transform: translateX(-50%) scale(1);
        }
        50% {
          opacity: 0.8;
          transform: translateX(-50%) scale(1.05);
        }
      }
      
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes slideUp {
        from { 
          opacity: 0;
          transform: translateY(30px) scale(0.95);
        }
        to { 
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
    `,document.head.appendChild(J),()=>{document.head.removeChild(J)}},[]);const{depositToVault:o,withdrawFromVault:s,editGroupVault:l,deleteGroupVault:c,inviteVaultMember:u,removeVaultMember:d,changeVaultMemberRole:g,toggleVaultPrivacy:f}=or(),[p,h]=M.useState("overview"),[k,B]=M.useState(!1),[_,E]=M.useState(!1),[x,U]=M.useState(!1),[C,W]=M.useState(!1),[$,P]=M.useState(!1),[X,z]=M.useState(!1),[H,Y]=M.useState(null),[N,O]=M.useState(""),[G,D]=M.useState(""),[ne,Q]=M.useState(""),[ae,fe]=M.useState("");M.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",currency:(e==null?void 0:e.currency)||"",targetAmount:(e==null?void 0:e.targetAmount)||"",isPublic:(e==null?void 0:e.isPublic)||!1});const[le,de]=M.useState(""),[_e,T]=M.useState("member"),[he,we]=M.useState([]),[ce,ue]=M.useState(""),[ge,R]=M.useState(!1),[V,q]=M.useState(!1),[ee,Z]=M.useState([]),[re,b]=M.useState(!1),[m,y]=M.useState(0),[A,F]=M.useState(null),K=M.useRef(null),ie=(e==null?void 0:e.ownerId)===(n==null?void 0:n.principal);(se=t==null?void 0:t.members)==null||se.some(J=>J.userId===(n==null?void 0:n.principal)&&J.role==="admin"),M.useEffect(()=>{if($){const J=[{id:1,userId:"user1",userName:"Alice",message:"Great progress on the savings goal! 🎉",timestamp:Date.now()-36e5,type:"message"},{id:2,userId:"user2",userName:"Bob",message:"Should we increase the target amount?",timestamp:Date.now()-18e5,type:"message"},{id:3,userId:n==null?void 0:n.principal,userName:"You",message:"I think we're doing well with the current target",timestamp:Date.now()-9e5,type:"message"},{id:4,userId:"system",userName:"System",message:"Alice joined the vault",timestamp:Date.now()-72e5,type:"system"},{id:5,userId:"user1",userName:"Alice",message:"Just made a deposit of 500 KES 💰",timestamp:Date.now()-3e5,type:"message"}];we(J)}},[$,n]),M.useEffect(()=>{K.current&&he.length>0&&(setTimeout(()=>{K.current.scrollTop=K.current.scrollHeight},100),A&&he.length>0&&he[he.length-1].id!==A&&y(Ie=>Ie+1))},[he,A]),M.useEffect(()=>{if(V){const J=setTimeout(()=>{q(!1),Z(Fe=>Fe.filter(Ie=>Ie!==(n==null?void 0:n.principal)))},3e3);return()=>clearTimeout(J)}},[V,n]),M.useEffect(()=>{if($&&Math.random()>.7){const J=["user1","user2"],Fe=J[Math.floor(Math.random()*J.length)];Z(Ie=>[...Ie,Fe]),setTimeout(()=>{Z(Ie=>Ie.filter(I=>I!==Fe))},2e3+Math.random()*3e3)}},[$,he.length]),M.useEffect(()=>{const J=K.current;if(!J)return;const Fe=()=>{const{scrollTop:Ie,scrollHeight:I,clientHeight:me}=J,dt=I-Ie-me<100;b(!dt),dt&&m>0&&(y(0),he.length>0&&F(he[he.length-1].id))};return J.addEventListener("scroll",Fe),()=>J.removeEventListener("scroll",Fe)},[$,m,he]);const pe=()=>{K.current&&K.current.scrollTo({top:K.current.scrollHeight,behavior:"smooth"})},Ee=async J=>{J.preventDefault(),z(!0),Y(null);try{const Fe=await o(e.id,parseFloat(N),G);Fe.ok?(B(!1),O(""),D(""),a({message:"Deposit successful!",type:"success",icon:i.createElement(Xe,null)}),r()):Y(Fe.err||"Failed to deposit")}catch{Y("Failed to deposit"),a({message:"Deposit failed",type:"error",icon:i.createElement(Ge,null)})}finally{z(!1)}},be=async J=>{J.preventDefault(),z(!0),Y(null);try{const Fe=await s(e.id,parseFloat(ne),ae);Fe.ok?(E(!1),Q(""),fe(""),a({message:"Withdrawal successful!",type:"success",icon:i.createElement(Xe,null)}),r()):Y(Fe.err||"Failed to withdraw")}catch{Y("Failed to withdraw"),a({message:"Withdrawal failed",type:"error",icon:i.createElement(Ge,null)})}finally{z(!1)}},Be=J=>{if(J.preventDefault(),ce.trim()){const Fe={id:Date.now(),userId:n==null?void 0:n.principal,userName:"You",message:ce.trim(),timestamp:Date.now(),type:"message"};we(Ie=>[...Ie,Fe]),ue(""),q(!1),Z(Ie=>Ie.filter(I=>I!==(n==null?void 0:n.principal)))}},S=J=>{ue(J.target.value),!V&&J.target.value.length>0?(q(!0),Z(Fe=>[...Fe,n==null?void 0:n.principal])):V&&J.target.value.length===0&&(q(!1),Z(Fe=>Fe.filter(Ie=>Ie!==(n==null?void 0:n.principal))))},v=J=>{const Fe=new Date(J),I=new Date-Fe;return I<6e4?"Just now":I<36e5?`${Math.floor(I/6e4)}m ago`:I<864e5?`${Math.floor(I/36e5)}h ago`:Fe.toLocaleDateString()},w=J=>{const Fe=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];if(!J)return Fe[0];const Ie=J.toString().split("").reduce((I,me)=>I+me.charCodeAt(0),0)%Fe.length;return Fe[Ie]},j=(J,Fe)=>{we(Ie=>Ie.map(I=>{var me;return I.id===J?{...I,reactions:{...I.reactions,[Fe]:(((me=I.reactions)==null?void 0:me[Fe])||0)+1}}:I}))},te=J=>{if(!J)return"";const Fe=/(https?:\/\/[^\s]+)/g;return J.split(Fe).map((I,me)=>Fe.test(I)?i.createElement("a",{key:me,href:I,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline"}},I):I)};return i.createElement("div",{className:"vault-details-container",style:{width:"100%",height:"100vh",background:"var(--neutral-50)",overflow:"hidden"}},i.createElement("div",{style:{background:"linear-gradient(135deg, var(--primary-600), var(--primary-800))",color:"white",padding:"1rem 1.5rem",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 4px 12px rgba(59,130,246,0.15)",position:"sticky",top:0,zIndex:100}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:"1rem"}},i.createElement("button",{onClick:r,style:{background:"rgba(255,255,255,0.15)",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},onMouseEnter:J=>J.target.style.background="rgba(255,255,255,0.25)",onMouseLeave:J=>J.target.style.background="rgba(255,255,255,0.15)"},i.createElement(H8,{size:18})),i.createElement("div",null,i.createElement("h1",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,lineHeight:"1.2"}},e==null?void 0:e.name),i.createElement("p",{style:{margin:"0.25rem 0 0 0",opacity:.9,fontSize:"0.85rem",lineHeight:"1.3"}},e==null?void 0:e.description))),i.createElement("div",{style:{display:"flex",gap:"0.75rem"}},i.createElement("button",{onClick:()=>P(!$),style:{background:$?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)",border:"none",borderRadius:8,padding:"0.5rem 1rem",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.9rem",transition:"all 0.2s",boxShadow:$?"0 2px 8px rgba(0,0,0,0.2)":"none"},onMouseEnter:J=>J.target.style.background="rgba(255,255,255,0.25)",onMouseLeave:J=>J.target.style.background=$?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)"},i.createElement(J8,{size:16}),"Chat ",$&&"•"),ie&&i.createElement("button",{onClick:()=>U(!0),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:8,padding:"0.5rem 1rem",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.9rem",transition:"all 0.2s"},onMouseEnter:J=>J.target.style.background="rgba(255,255,255,0.2)",onMouseLeave:J=>J.target.style.background="rgba(255,255,255,0.1)"},i.createElement(zc,{size:16}),"Edit"))),i.createElement("div",{style:{display:"flex",height:"calc(100vh - 70px)"}},i.createElement("div",{style:{flex:1,padding:"2rem",overflow:"auto"}},i.createElement("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",borderBottom:"2px solid var(--neutral-100)"}},["overview","members","transactions","governance"].map(J=>i.createElement("button",{key:J,onClick:()=>h(J),style:{background:p===J?"var(--primary-600)":"transparent",color:p===J?"white":"var(--neutral-600)",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px 8px 0 0",cursor:"pointer",fontWeight:600,textTransform:"capitalize"}},J))),p==="overview"&&i.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"}},i.createElement("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},i.createElement("h3",{style:{margin:"0 0 1rem 0",color:"var(--primary-700)"}},"Vault Statistics"),i.createElement("div",{style:{display:"grid",gap:"1rem"}},i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i.createElement("span",null,"Total Balance:"),i.createElement("span",{style:{fontWeight:700,fontSize:"1.2rem",color:"var(--success-600)"}},(e==null?void 0:e.totalBalance)||0," ",e==null?void 0:e.currency)),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i.createElement("span",null,"Target Amount:"),i.createElement("span",{style:{fontWeight:600}},(e==null?void 0:e.targetAmount)||"N/A"," ",e==null?void 0:e.currency)),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i.createElement("span",null,"Members:"),i.createElement("span",{style:{fontWeight:600}},((oe=t==null?void 0:t.members)==null?void 0:oe.length)||0)),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i.createElement("span",null,"Status:"),i.createElement("span",{style:{fontWeight:600,color:e!=null&&e.isPublic?"var(--success-600)":"var(--warning-600)",display:"flex",alignItems:"center",gap:"0.5rem"}},e!=null&&e.isPublic?i.createElement(e0,{size:14}):i.createElement(Vc,{size:14}),e!=null&&e.isPublic?"Public":"Private")))),i.createElement("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},i.createElement("h3",{style:{margin:"0 0 1rem 0",color:"var(--primary-700)"}},"Quick Actions"),i.createElement("div",{style:{display:"grid",gap:"0.75rem"}},i.createElement("button",{onClick:()=>B(!0),style:{background:"var(--success-500)",color:"white",border:"none",borderRadius:8,padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:600}},i.createElement(Wo,{size:16}),"Deposit"),i.createElement("button",{onClick:()=>E(!0),style:{background:"var(--warning-500)",color:"white",border:"none",borderRadius:8,padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:600}},i.createElement($o,{size:16}),"Withdraw"),i.createElement("button",{onClick:()=>W(!0),style:{background:"var(--primary-500)",color:"white",border:"none",borderRadius:8,padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:600}},i.createElement(Io,{size:16}),"Invite Member")))),p==="members"&&i.createElement("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"}},i.createElement("h3",{style:{margin:0,color:"var(--primary-700)"}},"Members"),i.createElement("button",{onClick:()=>W(!0),style:{background:"var(--primary-500)",color:"white",border:"none",borderRadius:8,padding:"0.5rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"}},i.createElement(Io,{size:16}),"Invite Member")),i.createElement("div",{style:{display:"grid",gap:"1rem"}},(ke=t==null?void 0:t.members)==null?void 0:ke.map(J=>i.createElement("div",{key:J.id,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"var(--neutral-50)",borderRadius:8,border:"1px solid var(--neutral-100)"}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:"1rem"}},i.createElement("div",{style:{width:40,height:40,borderRadius:"50%",background:"var(--primary-100)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--primary-600)",fontWeight:600}},J.userId===e.ownerId?i.createElement(gE,{size:20}):i.createElement(la,{size:20})),i.createElement("div",null,i.createElement("div",{style:{fontWeight:600,color:"var(--primary-700)"}},J.userId===(n==null?void 0:n.principal)?"You":`User ${J.userId.toString().slice(0,8)}...`),i.createElement("div",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"}},"Joined ",new Date(Number(J.joinedAt)).toLocaleDateString()))),i.createElement("span",{style:{background:J.role==="owner"?"var(--primary-100)":J.role==="admin"?"var(--success-100)":"var(--neutral-100)",color:J.role==="owner"?"var(--primary-600)":J.role==="admin"?"var(--success-600)":"var(--neutral-600)",padding:"0.25rem 0.75rem",borderRadius:12,fontSize:"0.8rem",fontWeight:600,textTransform:"capitalize"}},J.role))))),p==="transactions"&&i.createElement("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},i.createElement("h3",{style:{margin:"0 0 1rem 0",color:"var(--primary-700)"}},"Transaction History"),i.createElement("div",{style:{textAlign:"center",padding:"2rem",color:"var(--neutral-500)"}},i.createElement(Df,{size:48,style:{marginBottom:"1rem",opacity:.5}}),i.createElement("p",null,"No transactions yet"),i.createElement("p",{style:{fontSize:"0.9rem"}},"Transactions will appear here when members deposit or withdraw"))),p==="governance"&&i.createElement("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},i.createElement("h3",{style:{margin:"0 0 1rem 0",color:"var(--primary-700)"}},"Governance"),i.createElement("div",{style:{textAlign:"center",padding:"2rem",color:"var(--neutral-500)"}},i.createElement(Pr,{size:48,style:{marginBottom:"1rem",opacity:.5}}),i.createElement("p",null,"No proposals yet"),i.createElement("p",{style:{fontSize:"0.9rem"}},"Proposals will appear here when members suggest changes")))),$&&i.createElement("div",{style:{width:ge?"450px":"350px",background:"white",borderLeft:"1px solid var(--neutral-100)",display:"flex",flexDirection:"column",transition:"width 0.3s ease"}},i.createElement("div",{style:{padding:"1rem",borderBottom:"1px solid var(--neutral-100)",background:"linear-gradient(135deg, var(--primary-500), var(--primary-700))",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"}},i.createElement("div",null,i.createElement("h4",{style:{margin:0,fontSize:"1rem",fontWeight:600}},"Vault Chat"),i.createElement("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.8rem",opacity:.9}},((Re=t==null?void 0:t.members)==null?void 0:Re.length)||0," members • ",he.length," messages")),i.createElement("div",{style:{display:"flex",gap:"0.5rem"}},i.createElement("button",{onClick:()=>R(!ge),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:6,padding:"0.5rem",cursor:"pointer",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},title:ge?"Collapse":"Expand"},ge?i.createElement(Xh,{size:16}):i.createElement(G8,{size:16})),i.createElement("button",{onClick:()=>P(!1),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:6,padding:"0.5rem",cursor:"pointer",color:"white",display:"flex",alignItems:"center",justifyContent:"center"}},i.createElement(Ge,{size:16})))),i.createElement("div",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid var(--neutral-100)",background:"var(--neutral-50)"}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"}},i.createElement("span",{style:{fontSize:"0.8rem",color:"var(--neutral-600)",fontWeight:600}},"Online:"),(Ce=t==null?void 0:t.members)==null?void 0:Ce.slice(0,3).map((J,Fe)=>i.createElement("div",{key:J.id,style:{display:"flex",alignItems:"center",gap:"0.25rem",background:"white",padding:"0.25rem 0.5rem",borderRadius:12,border:"1px solid var(--neutral-200)"}},i.createElement("div",{style:{width:8,height:8,borderRadius:"50%",background:"var(--success-500)",marginRight:"0.25rem"}}),i.createElement("span",{style:{fontSize:"0.75rem",color:"var(--neutral-700)"}},J.userId===(n==null?void 0:n.principal)?"You":`User ${Fe+1}`))),((Ne=t==null?void 0:t.members)==null?void 0:Ne.length)>3&&i.createElement("span",{style:{fontSize:"0.75rem",color:"var(--neutral-500)"}},"+",t.members.length-3," more"))),i.createElement("div",{ref:K,style:{flex:1,padding:"1rem",overflowY:"auto",overflowX:"hidden",background:"var(--neutral-25)",maxHeight:"calc(100vh - 300px)",scrollBehavior:"smooth",position:"relative"}},re&&i.createElement("button",{onClick:pe,style:{position:"absolute",bottom:"1rem",right:"1rem",background:m>0?"var(--warning-500)":"var(--primary-500)",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",zIndex:10,transition:"all 0.2s",position:"relative"},onMouseEnter:J=>J.target.style.transform="scale(1.1)",onMouseLeave:J=>J.target.style.transform="scale(1)"},i.createElement(Xh,{size:16}),m>0&&i.createElement("div",{style:{position:"absolute",top:"-5px",right:"-5px",background:"var(--error-500)",color:"white",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",border:"2px solid white"}},m>9?"9+":m)),m>0&&!re&&i.createElement("div",{style:{position:"absolute",bottom:"1rem",left:"50%",transform:"translateX(-50%)",background:"var(--warning-500)",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",zIndex:10,animation:"pulse 2s infinite"},onClick:pe},m," new message",m>1?"s":""," ↓"),i.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"}},he.map((J,Fe)=>{var Ie,I;return i.createElement("div",{key:J.id||Fe,style:{display:"flex",flexDirection:J.userId===(n==null?void 0:n.principal)?"row-reverse":"row",gap:"0.75rem",opacity:J.type==="system"?.7:1}},i.createElement("div",{style:{width:36,height:36,borderRadius:"50%",background:J.type==="system"?"var(--neutral-300)":w(J.userId),display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.8rem",fontWeight:600,flexShrink:0}},J.type==="system"?"⚙️":((I=(Ie=J.userName)==null?void 0:Ie.charAt(0))==null?void 0:I.toUpperCase())||"U"),i.createElement("div",{style:{maxWidth:"70%",display:"flex",flexDirection:"column",gap:"0.25rem"}},J.type!=="system"&&i.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:J.userId===(n==null?void 0:n.principal)?"flex-end":"flex-start"}},i.createElement("span",{style:{fontSize:"0.75rem",fontWeight:600,color:J.userId===(n==null?void 0:n.principal)?"var(--primary-600)":"var(--neutral-600)"}},J.userName),i.createElement("span",{style:{fontSize:"0.7rem",color:"var(--neutral-500)"}},v(J.timestamp))),i.createElement("div",{style:{background:J.type==="system"?"var(--neutral-200)":J.userId===(n==null?void 0:n.principal)?"var(--primary-500)":"white",color:J.type==="system"?"var(--neutral-700)":J.userId===(n==null?void 0:n.principal)?"white":"var(--neutral-800)",padding:J.type==="system"?"0.5rem 0.75rem":"0.75rem 1rem",borderRadius:J.type==="system"?8:12,fontSize:"0.9rem",border:J.type!=="system"&&J.userId!==(n==null?void 0:n.principal)?"1px solid var(--neutral-200)":"none",boxShadow:J.type!=="system"?"0 1px 3px rgba(0,0,0,0.1)":"none",position:"relative"}},i.createElement("div",{style:{lineHeight:"1.4"}},te(J.message||"")),J.reactions&&Object.keys(J.reactions).length>0&&i.createElement("div",{style:{display:"flex",gap:"0.25rem",marginTop:"0.5rem",flexWrap:"wrap"}},Object.entries(J.reactions).map(([me,dt])=>i.createElement("button",{key:me,onClick:()=>j(J.id,me),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:12,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem",color:"inherit"}},i.createElement("span",null,me),i.createElement("span",{style:{fontSize:"0.7rem",opacity:.8}},dt)))),J.type!=="system"&&i.createElement("button",{onClick:()=>j(J.id,"👍"),style:{position:"absolute",top:"0.25rem",right:"0.25rem",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:4,padding:"0.25rem",cursor:"pointer",opacity:0,transition:"opacity 0.2s",fontSize:"0.8rem"},onMouseEnter:me=>me.target.style.opacity="1",onMouseLeave:me=>me.target.style.opacity="0"},"👍"))))}),ee.length>0&&i.createElement("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end",padding:"0.5rem 0"}},i.createElement("div",{style:{width:36,height:36,borderRadius:"50%",background:"var(--neutral-300)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}},i.createElement("span",{style:{fontSize:"0.8rem"}},"👤")),i.createElement("div",{style:{background:"white",padding:"0.75rem 1rem",borderRadius:12,border:"1px solid var(--neutral-200)",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"}},i.createElement("div",{style:{display:"flex",gap:"0.25rem"}},i.createElement("div",{style:{width:6,height:6,borderRadius:"50%",background:"var(--neutral-400)",animation:"typing 1.4s infinite ease-in-out"}}),i.createElement("div",{style:{width:6,height:6,borderRadius:"50%",background:"var(--neutral-400)",animation:"typing 1.4s infinite ease-in-out 0.2s"}}),i.createElement("div",{style:{width:6,height:6,borderRadius:"50%",background:"var(--neutral-400)",animation:"typing 1.4s infinite ease-in-out 0.4s"}})))))),i.createElement("form",{onSubmit:Be,style:{padding:"1rem",borderTop:"1px solid var(--neutral-100)",background:"white"}},i.createElement("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end"}},i.createElement("div",{style:{flex:1}},i.createElement("textarea",{value:ce,onChange:S,placeholder:"Type a message...",style:{width:"100%",minHeight:"40px",maxHeight:"120px",padding:"0.75rem",border:"1px solid var(--neutral-200)",borderRadius:8,fontSize:"0.9rem",resize:"none",fontFamily:"inherit",outline:"none"},onKeyDown:J=>{J.key==="Enter"&&!J.shiftKey&&(J.preventDefault(),Be(J))}})),i.createElement("button",{type:"submit",disabled:!ce.trim(),style:{background:ce.trim()?"var(--primary-500)":"var(--neutral-300)",color:"white",border:"none",borderRadius:8,padding:"0.75rem",cursor:ce.trim()?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"}},i.createElement(tE,{size:16}))),i.createElement("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.75rem",flexWrap:"wrap"}},i.createElement("button",{type:"button",onClick:()=>ue(J=>J+"💰"),style:{background:"var(--success-100)",color:"var(--success-600)",border:"1px solid var(--success-200)",borderRadius:6,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.target.style.transform="scale(1.05)",onMouseLeave:J=>J.target.style.transform="scale(1)"},"💰 Deposit"),i.createElement("button",{type:"button",onClick:()=>ue(J=>J+"📊"),style:{background:"var(--primary-100)",color:"var(--primary-600)",border:"1px solid var(--primary-200)",borderRadius:6,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.target.style.transform="scale(1.05)",onMouseLeave:J=>J.target.style.transform="scale(1)"},"📊 Stats"),i.createElement("button",{type:"button",onClick:()=>ue(J=>J+"🎯"),style:{background:"var(--warning-100)",color:"var(--warning-600)",border:"1px solid var(--warning-200)",borderRadius:6,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.target.style.transform="scale(1.05)",onMouseLeave:J=>J.target.style.transform="scale(1)"},"🎯 Goal"),i.createElement("button",{type:"button",onClick:()=>ue(J=>J+"🎉"),style:{background:"var(--purple-100)",color:"var(--purple-600)",border:"1px solid var(--purple-200)",borderRadius:6,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.target.style.transform="scale(1.05)",onMouseLeave:J=>J.target.style.transform="scale(1)"},"🎉 Celebrate"),i.createElement("button",{type:"button",onClick:()=>ue(J=>J+"📝"),style:{background:"var(--neutral-100)",color:"var(--neutral-600)",border:"1px solid var(--neutral-200)",borderRadius:6,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.target.style.transform="scale(1.05)",onMouseLeave:J=>J.target.style.transform="scale(1)"},"📝 Note"))))),k&&i.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:()=>B(!1)},i.createElement("form",{onClick:J=>J.stopPropagation(),onSubmit:Ee,style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"}},i.createElement("button",{type:"button",onClick:()=>B(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"}},i.createElement(Ge,{size:16})),i.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},i.createElement("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--success-500), var(--success-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"}},i.createElement(Wo,{size:24,color:"white"})),i.createElement("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--success-800)"}},"Deposit to Vault"),i.createElement("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"}},"Add funds to ",i.createElement("strong",null,e==null?void 0:e.name))),i.createElement("div",{style:{display:"grid",gap:"1.5rem"}},i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Amount *"),i.createElement("div",{style:{position:"relative"}},i.createElement("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--neutral-500)",fontWeight:600}},e==null?void 0:e.currency),i.createElement("input",{type:"number",placeholder:"0.00",value:N,onChange:J=>O(J.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1.2rem",fontWeight:600,transition:"all 0.2s",outline:"none"},onFocus:J=>J.target.style.borderColor="var(--success-500)",onBlur:J=>J.target.style.borderColor="var(--neutral-200)"}))),i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Description (Optional)"),i.createElement("textarea",{placeholder:"What is this deposit for?",value:G,onChange:J=>D(J.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:J=>J.target.style.borderColor="var(--success-500)",onBlur:J=>J.target.style.borderColor="var(--neutral-200)"})),i.createElement("div",{style:{background:"var(--success-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--success-200)"}},i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"}},i.createElement("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"}},"Current Balance:"),i.createElement("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--success-700)"}},e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency)),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i.createElement("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"}},"New Balance:"),i.createElement("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--success-700)"}},N?(parseFloat((e==null?void 0:e.totalBalance)||0)+parseFloat(N)).toFixed(2):e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency)))),H&&i.createElement("div",{style:{background:"var(--error-50)",color:"var(--error-700)",padding:"0.75rem 1rem",borderRadius:8,border:"1px solid var(--error-200)",fontSize:"0.9rem",marginTop:"1rem"}},H),i.createElement("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"}},i.createElement("button",{type:"button",onClick:()=>B(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.target.style.borderColor="var(--neutral-400)",onMouseLeave:J=>J.target.style.borderColor="var(--neutral-300)"},"Cancel"),i.createElement("button",{type:"submit",disabled:X||!N,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:X||!N?"var(--neutral-400)":"linear-gradient(135deg, var(--success-500), var(--success-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:X||!N?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:X||!N?"none":"0 4px 12px rgba(16, 185, 129, 0.3)"},onMouseEnter:J=>!X&&N&&(J.target.style.transform="translateY(-1px)"),onMouseLeave:J=>!X&&N&&(J.target.style.transform="translateY(0)")},X?"Depositing...":"Deposit Funds")))),_&&i.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:()=>E(!1)},i.createElement("form",{onClick:J=>J.stopPropagation(),onSubmit:be,style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"}},i.createElement("button",{type:"button",onClick:()=>E(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"}},i.createElement(Ge,{size:16})),i.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},i.createElement("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--warning-500), var(--warning-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(245, 158, 11, 0.3)"}},i.createElement($o,{size:24,color:"white"})),i.createElement("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--warning-800)"}},"Withdraw from Vault"),i.createElement("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"}},"Remove funds from ",i.createElement("strong",null,e==null?void 0:e.name))),i.createElement("div",{style:{display:"grid",gap:"1.5rem"}},i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Amount *"),i.createElement("div",{style:{position:"relative"}},i.createElement("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--neutral-500)",fontWeight:600}},e==null?void 0:e.currency),i.createElement("input",{type:"number",placeholder:"0.00",value:ne,onChange:J=>Q(J.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1.2rem",fontWeight:600,transition:"all 0.2s",outline:"none"},onFocus:J=>J.target.style.borderColor="var(--warning-500)",onBlur:J=>J.target.style.borderColor="var(--neutral-200)"}))),i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Reason (Optional)"),i.createElement("textarea",{placeholder:"Why are you withdrawing these funds?",value:ae,onChange:J=>fe(J.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:J=>J.target.style.borderColor="var(--warning-500)",onBlur:J=>J.target.style.borderColor="var(--neutral-200)"})),i.createElement("div",{style:{background:"var(--warning-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--warning-200)"}},i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"}},i.createElement("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"}},"Current Balance:"),i.createElement("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--warning-700)"}},e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency)),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i.createElement("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"}},"Remaining Balance:"),i.createElement("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--warning-700)"}},ne?(parseFloat((e==null?void 0:e.totalBalance)||0)-parseFloat(ne)).toFixed(2):e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency))),ne&&parseFloat(ne)>parseFloat((e==null?void 0:e.totalBalance)||0)&&i.createElement("div",{style:{background:"var(--error-50)",color:"var(--error-700)",padding:"0.75rem 1rem",borderRadius:8,border:"1px solid var(--error-200)",fontSize:"0.9rem"}},"⚠️ Withdrawal amount exceeds available balance")),H&&i.createElement("div",{style:{background:"var(--error-50)",color:"var(--error-700)",padding:"0.75rem 1rem",borderRadius:8,border:"1px solid var(--error-200)",fontSize:"0.9rem",marginTop:"1rem"}},H),i.createElement("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"}},i.createElement("button",{type:"button",onClick:()=>E(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.target.style.borderColor="var(--neutral-400)",onMouseLeave:J=>J.target.style.borderColor="var(--neutral-300)"},"Cancel"),i.createElement("button",{type:"submit",disabled:X||!ne||parseFloat(ne)>parseFloat((e==null?void 0:e.totalBalance)||0),style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:X||!ne||parseFloat(ne)>parseFloat((e==null?void 0:e.totalBalance)||0)?"var(--neutral-400)":"linear-gradient(135deg, var(--warning-500), var(--warning-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:X||!ne||parseFloat(ne)>parseFloat((e==null?void 0:e.totalBalance)||0)?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:X||!ne||parseFloat(ne)>parseFloat((e==null?void 0:e.totalBalance)||0)?"none":"0 4px 12px rgba(245, 158, 11, 0.3)"},onMouseEnter:J=>!X&&ne&&parseFloat(ne)<=parseFloat((e==null?void 0:e.totalBalance)||0)&&(J.target.style.transform="translateY(-1px)"),onMouseLeave:J=>!X&&ne&&parseFloat(ne)<=parseFloat((e==null?void 0:e.totalBalance)||0)&&(J.target.style.transform="translateY(0)")},X?"Withdrawing...":"Withdraw Funds")))),C&&i.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:()=>W(!1)},i.createElement("form",{onClick:J=>J.stopPropagation(),style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"}},i.createElement("button",{type:"button",onClick:()=>W(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"}},i.createElement(Ge,{size:16})),i.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},i.createElement("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"}},i.createElement(Io,{size:24,color:"white"})),i.createElement("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--primary-800)"}},"Invite Member"),i.createElement("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"}},"Add a new member to ",i.createElement("strong",null,e==null?void 0:e.name))),i.createElement("div",{style:{display:"grid",gap:"1.5rem"}},i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"User ID *"),i.createElement("input",{type:"text",placeholder:"Enter user's principal ID",value:le,onChange:J=>de(J.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:J=>J.target.style.borderColor="var(--primary-500)",onBlur:J=>J.target.style.borderColor="var(--neutral-200)"})),i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Role *"),i.createElement("select",{value:_e,onChange:J=>T(J.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",background:"white"},onFocus:J=>J.target.style.borderColor="var(--primary-500)",onBlur:J=>J.target.style.borderColor="var(--neutral-200)"},i.createElement("option",{value:"member"},"👤 Member - Can deposit, withdraw, and view vault"),i.createElement("option",{value:"admin"},"🛡️ Admin - Can manage vault settings and members"))),i.createElement("div",{style:{background:"var(--primary-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--primary-200)"}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"}},i.createElement(la,{size:16,color:"var(--primary-600)"}),i.createElement("span",{style:{fontSize:"0.9rem",fontWeight:600,color:"var(--primary-700)"}},"Current Members")),i.createElement("div",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--primary-700)"}},((Pe=t==null?void 0:t.members)==null?void 0:Pe.length)||0," member",(($e=t==null?void 0:t.members)==null?void 0:$e.length)!==1?"s":""))),H&&i.createElement("div",{style:{background:"var(--error-50)",color:"var(--error-700)",padding:"0.75rem 1rem",borderRadius:8,border:"1px solid var(--error-200)",fontSize:"0.9rem",marginTop:"1rem"}},H),i.createElement("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"}},i.createElement("button",{type:"button",onClick:()=>W(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.target.style.borderColor="var(--neutral-400)",onMouseLeave:J=>J.target.style.borderColor="var(--neutral-300)"},"Cancel"),i.createElement("button",{type:"submit",disabled:X||!le,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:X||!le?"var(--neutral-400)":"linear-gradient(135deg, var(--primary-500), var(--primary-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:X||!le?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:X||!le?"none":"0 4px 12px rgba(59, 130, 246, 0.3)"},onMouseEnter:J=>!X&&le&&(J.target.style.transform="translateY(-1px)"),onMouseLeave:J=>!X&&le&&(J.target.style.transform="translateY(0)")},X?"Inviting...":"Send Invitation")))))}function T3(){const{getPublicVaults:e,joinGroupVault:t,user:r,isAuthenticated:n}=or(),{showToast:a}=pa(),[o,s]=M.useState([]),[l,c]=M.useState(!0),[u,d]=M.useState(null),[g,f]=M.useState(""),[p,h]=M.useState("all");M.useEffect(()=>{(async()=>{if(!n){c(!1);return}c(!0);try{const U=await e();s(U||[])}catch(U){console.error("Failed to fetch public vaults:",U),s([])}finally{c(!1)}})()},[e,n]);const k=async x=>{d(x);try{const U=await t(x);U.ok?(a({message:"Successfully joined vault!",type:"success",icon:i.createElement(Xe,null)}),s(C=>C.filter(W=>W.id!==x))):a({message:U.err||"Failed to join vault",type:"error",icon:i.createElement(Ge,null)})}catch(U){console.error("Join vault error:",U),a({message:"Failed to join vault",type:"error",icon:i.createElement(Ge,null)})}finally{d(null)}},B=o.filter(x=>{var W;const U=x.name.toLowerCase().includes(g.toLowerCase())||((W=x.description)==null?void 0:W.toLowerCase().includes(g.toLowerCase())),C=p==="all"||x.vaultType.toLowerCase()===p.toLowerCase();return U&&C}),_=x=>{switch(x.toLowerCase()){case"savings":return i.createElement(rE,null);case"investment":return i.createElement(xu,null);case"emergency":return i.createElement(Pr,null);default:return i.createElement(jo,null)}},E=x=>{switch(x.toLowerCase()){case"savings":return"var(--success-500)";case"investment":return"var(--primary-500)";case"emergency":return"var(--warning-500)";default:return"var(--neutral-500)"}};return n?i.createElement("div",{style:{padding:"2rem"}},i.createElement("div",{style:{marginBottom:"2rem"}},i.createElement("h1",{style:{margin:"0 0 0.5rem 0",fontSize:"2rem",fontWeight:700,color:"var(--neutral-800)"}},"Discover Public Vaults"),i.createElement("p",{style:{margin:0,color:"var(--neutral-600)",fontSize:"1.1rem"}},"Join community vaults and start saving together")),i.createElement("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"}},i.createElement("div",{style:{position:"relative",flex:1,minWidth:"300px"}},i.createElement(rg,{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--neutral-400)"}}),i.createElement("input",{type:"text",placeholder:"Search vaults...",value:g,onChange:x=>f(x.target.value),style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",outline:"none",transition:"all 0.2s"},onFocus:x=>x.target.style.borderColor="var(--primary-500)",onBlur:x=>x.target.style.borderColor="var(--neutral-200)"})),i.createElement("select",{value:p,onChange:x=>h(x.target.value),style:{padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",outline:"none",background:"white",cursor:"pointer",minWidth:"150px"}},i.createElement("option",{value:"all"},"All Types"),i.createElement("option",{value:"savings"},"Savings"),i.createElement("option",{value:"investment"},"Investment"),i.createElement("option",{value:"emergency"},"Emergency"))),l&&i.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"}},i.createElement("div",{style:{width:40,height:40,border:"4px solid var(--neutral-200)",borderTop:"4px solid var(--primary-500)",borderRadius:"50%",animation:"spin 1s linear infinite"}})),!l&&i.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"}},B.length===0?i.createElement("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"3rem",color:"var(--neutral-500)"}},i.createElement(rg,{size:48,style:{marginBottom:"1rem"}}),i.createElement("h3",{style:{margin:"0 0 0.5rem 0"}},"No vaults found"),i.createElement("p",{style:{margin:0}},g||p!=="all"?"Try adjusting your search or filters":"No public vaults available at the moment")):B.map(x=>{var U;return i.createElement("div",{key:x.id,style:{background:"white",borderRadius:16,padding:"1.5rem",border:"1px solid var(--neutral-200)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:C=>{C.currentTarget.style.transform="translateY(-2px)",C.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.1)"},onMouseLeave:C=>{C.currentTarget.style.transform="translateY(0)",C.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.05)"}},i.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"}},i.createElement("div",{style:{width:48,height:48,borderRadius:12,background:`linear-gradient(135deg, ${E(x.vaultType)}, ${E(x.vaultType)}dd)`,display:"flex",alignItems:"center",justifyContent:"center",marginRight:"1rem"}},i.createElement("div",{style:{color:"white",fontSize:"1.2rem"}},_(x.vaultType))),i.createElement("div",{style:{flex:1}},i.createElement("h3",{style:{margin:"0 0 0.25rem 0",fontSize:"1.2rem",fontWeight:600,color:"var(--neutral-800)"}},x.name),i.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",color:"var(--neutral-600)"}},i.createElement("span",{style:{padding:"0.25rem 0.5rem",background:"var(--neutral-100)",borderRadius:6,fontWeight:500}},x.vaultType),i.createElement(la,{size:14}),i.createElement("span",null,((U=x.members)==null?void 0:U.length)||0," members")))),x.description&&i.createElement("p",{style:{margin:"0 0 1rem 0",color:"var(--neutral-600)",fontSize:"0.95rem",lineHeight:1.5}},x.description),i.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"}},i.createElement("div",null,i.createElement("div",{style:{fontSize:"0.8rem",color:"var(--neutral-500)",marginBottom:"0.25rem"}},"Current Balance"),i.createElement("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--success-700)"}},x.totalBalance," ",x.currency)),x.targetAmount&&i.createElement("div",null,i.createElement("div",{style:{fontSize:"0.8rem",color:"var(--neutral-500)",marginBottom:"0.25rem"}},"Target Amount"),i.createElement("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--primary-700)"}},x.targetAmount," ",x.currency))),i.createElement("button",{onClick:()=>k(x.id),disabled:u===x.id,style:{width:"100%",padding:"0.75rem 1rem",background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",color:"white",border:"none",borderRadius:12,fontSize:"1rem",fontWeight:600,cursor:u===x.id?"not-allowed":"pointer",opacity:u===x.id?.7:1,transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:C=>{u!==x.id&&(C.target.style.transform="translateY(-1px)")},onMouseLeave:C=>{C.target.style.transform="translateY(0)"}},u===x.id?i.createElement(i.Fragment,null,i.createElement("div",{style:{width:16,height:16,border:"2px solid white",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Joining..."):i.createElement(i.Fragment,null,i.createElement(I8,{size:16}),"Join Vault")))})),i.createElement("style",null,`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `)):i.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",padding:"2rem",textAlign:"center"}},i.createElement(Vc,{size:48,style:{color:"var(--neutral-400)",marginBottom:"1rem"}}),i.createElement("h3",{style:{margin:"0 0 0.5rem 0",color:"var(--neutral-700)"}},"Authentication Required"),i.createElement("p",{style:{margin:0,color:"var(--neutral-600)"}},"Please log in to browse public vaults"))}function A3(){M.useEffect(()=>{const I=document.createElement("style");return I.textContent=`
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes slideUp {
        from { 
          opacity: 0;
          transform: translateY(30px) scale(0.95);
        }
        to { 
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
    `,document.head.appendChild(I),()=>{document.head.removeChild(I)}},[]);const{getUserGroupVaults:e,createGroupVault:t,getVaultDetails:r,depositToVault:n,inviteVaultMember:a,removeVaultMember:o,changeVaultMemberRole:s,user:l,isAuthenticated:c,login:u}=or(),{showToast:d}=pa(),[g,f]=M.useState([]),[p,h]=M.useState(!0),[k,B]=M.useState(null),[_,E]=M.useState(null),[x,U]=M.useState(!1),[C,W]=M.useState({name:"",description:"",vaultType:"Savings",currency:"",targetAmount:"",isPublic:!1}),[$,P]=M.useState(!1),[X,z]=M.useState(null),H=M.useRef(),[Y,N]=M.useState(!1),[O,G]=M.useState(!1),[D,ne]=M.useState(!1),[Q,ae]=M.useState(!1),[fe,le]=M.useState(!1),[de,_e]=M.useState(!1),[T,he]=M.useState(!1),[we,ce]=M.useState(!1),[ue,ge]=M.useState(!1),[R,V]=M.useState(null),[q,ee]=M.useState(null),[Z,re]=M.useState({name:"",description:"",currency:"",targetAmount:"",isPublic:!1}),[b,m]=M.useState(""),[y,A]=M.useState(""),[F,K]=M.useState(""),[ie,pe]=M.useState(""),[Ee,be]=M.useState("DeleteVault"),[Be,S]=M.useState(""),[v,w]=M.useState("member"),[j,te]=M.useState(""),[se,oe]=M.useState("member"),[ke,Re]=M.useState("member"),[Ce,Ne]=M.useState(!1),[Pe,$e]=M.useState("my-vaults");M.useEffect(()=>{(async()=>{if(!c){await u();return}h(!0);try{const me=await e();f(me||[])}catch{f([])}finally{h(!1)}})()},[e,c,u]);const J=async I=>{I.preventDefault(),P(!0),z(null);try{const me=await t(C.name,C.description,C.vaultType,C.currency,C.targetAmount?parseFloat(C.targetAmount):null,C.isPublic,null);if(me.ok){if(U(!1),W({name:"",description:"",vaultType:"Savings",currency:"",targetAmount:"",isPublic:!1}),d({message:"Vault created successfully!",type:"success",icon:i.createElement(Xe,null)}),e){const dt=await e();f(dt||[])}}else z(me.err||"Failed to create vault"),d({message:me.err||"Failed to create vault",type:"error",icon:i.createElement(jo,null)})}catch(me){console.error("Create vault error:",me),z("Failed to create vault"),d({message:"Failed to create vault",type:"error",icon:i.createElement(jo,null)})}finally{P(!1)}},Fe=I=>{V(I),re({name:I.name||"",description:I.description||"",currency:I.currency||"",targetAmount:I.targetAmount||"",isPublic:I.isPublic||!1}),ne(!0)},Ie=async I=>{V(I),Ne(!0);try{const me=await r(I.id);E(me)}catch{E(null),d({message:"Failed to load vault details",type:"error",icon:i.createElement(jo,null)})}};return p?i.createElement("div",{style:{padding:"2rem",color:"var(--primary-600)"}},"Loading group vaults..."):i.createElement("div",{className:"group-vaults-root",style:{width:"100%",padding:"0",margin:0,position:"relative"}},i.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem",background:"white",borderRadius:12,padding:"0.5rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:"1px solid var(--neutral-200)"}},i.createElement("button",{onClick:()=>$e("my-vaults"),style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:Pe==="my-vaults"?"linear-gradient(135deg, var(--primary-500), var(--primary-600))":"transparent",color:Pe==="my-vaults"?"white":"var(--neutral-600)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"}},i.createElement(la,{size:18}),"My Vaults"),i.createElement("button",{onClick:()=>$e("public-vaults"),style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:Pe==="public-vaults"?"linear-gradient(135deg, var(--primary-500), var(--primary-600))":"transparent",color:Pe==="public-vaults"?"white":"var(--neutral-600)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"}},i.createElement(Dw,{size:18}),"Discover Vaults")),Pe==="public-vaults"?i.createElement(T3,null):i.createElement(i.Fragment,null,i.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:"1.5rem",width:"100%"}},i.createElement("button",{ref:H,className:"btn btn-primary",style:{borderRadius:24,boxShadow:"0 2px 8px 0 rgba(59,130,246,0.10)",fontWeight:700,fontSize:16,display:"flex",alignItems:"center",gap:8,padding:"0.6em 1.4em",background:"linear-gradient(90deg, var(--primary-500), var(--primary-700))",color:"#fff",border:"none",transition:"box-shadow 0.2s"},onClick:()=>U(!0)},i.createElement(hs,null)," Create Vault")),x&&i.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:I=>{I.target===I.currentTarget&&U(!1)}},i.createElement("form",{onSubmit:J,style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:500,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"},onClick:I=>I.stopPropagation()},i.createElement("button",{type:"button",onClick:()=>U(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"}},i.createElement(Ge,{size:16})),i.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},i.createElement("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"}},i.createElement(hs,{size:24,color:"white"})),i.createElement("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--primary-800)"}},"Create New Vault"),i.createElement("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"}},"Set up a new group vault for collaborative savings")),i.createElement("div",{style:{display:"grid",gap:"1.5rem"}},i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Vault Name *"),i.createElement("input",{type:"text",placeholder:"Enter vault name",value:C.name,onChange:I=>W(me=>({...me,name:I.target.value})),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:I=>I.target.style.borderColor="var(--primary-500)",onBlur:I=>I.target.style.borderColor="var(--neutral-200)"})),i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Description"),i.createElement("textarea",{placeholder:"Describe the purpose of this vault",value:C.description,onChange:I=>W(me=>({...me,description:I.target.value})),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:I=>I.target.style.borderColor="var(--primary-500)",onBlur:I=>I.target.style.borderColor="var(--neutral-200)"})),i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Vault Type *"),i.createElement("select",{value:C.vaultType,onChange:I=>W(me=>({...me,vaultType:I.target.value})),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",background:"white"},onFocus:I=>I.target.style.borderColor="var(--primary-500)",onBlur:I=>I.target.style.borderColor="var(--neutral-200)"},i.createElement("option",{value:"Savings"},"💰 Savings"),i.createElement("option",{value:"Investment"},"📈 Investment"),i.createElement("option",{value:"Emergency"},"🚨 Emergency"),i.createElement("option",{value:"Travel"},"✈️ Travel"),i.createElement("option",{value:"Education"},"🎓 Education"),i.createElement("option",{value:"Business"},"💼 Business"),i.createElement("option",{value:"Charity"},"🤝 Charity"),i.createElement("option",{value:"Custom"},"🎯 Custom"))),i.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"}},i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Currency *"),i.createElement("input",{type:"text",placeholder:"KES",value:C.currency,onChange:I=>W(me=>({...me,currency:I.target.value})),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:I=>I.target.style.borderColor="var(--primary-500)",onBlur:I=>I.target.style.borderColor="var(--neutral-200)"})),i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Target Amount"),i.createElement("input",{type:"number",placeholder:"0.00",value:C.targetAmount,onChange:I=>W(me=>({...me,targetAmount:I.target.value})),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:I=>I.target.style.borderColor="var(--primary-500)",onBlur:I=>I.target.style.borderColor="var(--neutral-200)"}))),i.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",background:"var(--primary-50)",borderRadius:12,border:"1px solid var(--primary-200)"}},i.createElement("input",{type:"checkbox",checked:C.isPublic,onChange:I=>W(me=>({...me,isPublic:I.target.checked})),style:{width:18,height:18}}),i.createElement("div",null,i.createElement("div",{style:{fontWeight:600,color:"var(--primary-700)",fontSize:"0.9rem"}},"Public Vault"),i.createElement("div",{style:{fontSize:"0.8rem",color:"var(--neutral-600)",marginTop:"0.25rem"}},"Allow others to discover and join this vault")))),X&&i.createElement("div",{style:{background:"var(--error-50)",color:"var(--error-700)",padding:"0.75rem 1rem",borderRadius:8,border:"1px solid var(--error-200)",fontSize:"0.9rem",marginTop:"1rem"}},X),i.createElement("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"}},i.createElement("button",{type:"button",onClick:()=>U(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>I.target.style.borderColor="var(--neutral-400)",onMouseLeave:I=>I.target.style.borderColor="var(--neutral-300)"},"Cancel"),i.createElement("button",{type:"submit",disabled:$,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:$?"var(--neutral-400)":"linear-gradient(135deg, var(--primary-500), var(--primary-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:$?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:$?"none":"0 4px 12px rgba(59, 130, 246, 0.3)"},onMouseEnter:I=>!$&&(I.target.style.transform="translateY(-1px)"),onMouseLeave:I=>!$&&(I.target.style.transform="translateY(0)")},$?"Creating...":"Create Vault")))),Y&&R&&i.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:I=>{I.target===I.currentTarget&&N(!1)}},i.createElement("form",{onClick:I=>I.stopPropagation(),onSubmit:async I=>{I.preventDefault(),P(!0);try{await n(R.id,b,y),N(!1),m(""),A(""),d({message:"Deposit successful!",type:"success",icon:i.createElement(Xe,null)})}catch{d({message:"Deposit failed",type:"error",icon:i.createElement(Ge,null)})}finally{P(!1)}},style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"}},i.createElement("button",{type:"button",onClick:()=>N(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"}},i.createElement(Ge,{size:16})),i.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},i.createElement("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--success-500), var(--success-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"}},i.createElement(Wo,{size:24,color:"white"})),i.createElement("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--success-800)"}},"Deposit to Vault"),i.createElement("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"}},"Add funds to ",i.createElement("strong",null,R.name))),i.createElement("div",{style:{display:"grid",gap:"1.5rem"}},i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Amount *"),i.createElement("div",{style:{position:"relative"}},i.createElement("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--neutral-500)",fontWeight:600}},R.currency),i.createElement("input",{type:"number",placeholder:"0.00",value:b,onChange:I=>m(I.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1.2rem",fontWeight:600,transition:"all 0.2s",outline:"none"},onFocus:I=>I.target.style.borderColor="var(--success-500)",onBlur:I=>I.target.style.borderColor="var(--neutral-200)"}))),i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Description (Optional)"),i.createElement("textarea",{placeholder:"What is this deposit for?",value:y,onChange:I=>A(I.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:I=>I.target.style.borderColor="var(--success-500)",onBlur:I=>I.target.style.borderColor="var(--neutral-200)"})),i.createElement("div",{style:{background:"var(--success-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--success-200)"}},i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"}},i.createElement("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"}},"Current Balance:"),i.createElement("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--success-700)"}},R.totalBalance," ",R.currency)),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i.createElement("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"}},"New Balance:"),i.createElement("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--success-700)"}},b?(parseFloat(R.totalBalance||0)+parseFloat(b)).toFixed(2):R.totalBalance," ",R.currency)))),i.createElement("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"}},i.createElement("button",{type:"button",onClick:()=>N(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>I.target.style.borderColor="var(--neutral-400)",onMouseLeave:I=>I.target.style.borderColor="var(--neutral-300)"},"Cancel"),i.createElement("button",{type:"submit",disabled:$||!b,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:$||!b?"var(--neutral-400)":"linear-gradient(135deg, var(--success-500), var(--success-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:$||!b?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:$||!b?"none":"0 4px 12px rgba(16, 185, 129, 0.3)"},onMouseEnter:I=>!$&&b&&(I.target.style.transform="translateY(-1px)"),onMouseLeave:I=>!$&&b&&(I.target.style.transform="translateY(0)")},$?"Depositing...":"Deposit Funds")))),O&&R&&i.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:I=>{I.target===I.currentTarget&&G(!1)}},i.createElement("form",{onClick:I=>I.stopPropagation(),onSubmit:async I=>{I.preventDefault(),P(!0);try{G(!1),K(""),pe(""),d({message:"Withdraw successful!",type:"success",icon:i.createElement(Xe,null)})}catch{d({message:"Withdraw failed",type:"error",icon:i.createElement(Ge,null)})}finally{P(!1)}},style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"}},i.createElement("button",{type:"button",onClick:()=>G(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"}},i.createElement(Ge,{size:16})),i.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},i.createElement("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--warning-500), var(--warning-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(245, 158, 11, 0.3)"}},i.createElement($o,{size:24,color:"white"})),i.createElement("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--warning-800)"}},"Withdraw from Vault"),i.createElement("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"}},"Remove funds from ",i.createElement("strong",null,R.name))),i.createElement("div",{style:{display:"grid",gap:"1.5rem"}},i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Amount *"),i.createElement("div",{style:{position:"relative"}},i.createElement("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--neutral-500)",fontWeight:600}},R.currency),i.createElement("input",{type:"number",placeholder:"0.00",value:F,onChange:I=>K(I.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1.2rem",fontWeight:600,transition:"all 0.2s",outline:"none"},onFocus:I=>I.target.style.borderColor="var(--warning-500)",onBlur:I=>I.target.style.borderColor="var(--neutral-200)"}))),i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Reason (Optional)"),i.createElement("textarea",{placeholder:"Why are you withdrawing these funds?",value:ie,onChange:I=>pe(I.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:I=>I.target.style.borderColor="var(--warning-500)",onBlur:I=>I.target.style.borderColor="var(--neutral-200)"})),i.createElement("div",{style:{background:"var(--warning-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--warning-200)"}},i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"}},i.createElement("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"}},"Current Balance:"),i.createElement("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--warning-700)"}},R.totalBalance," ",R.currency)),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i.createElement("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"}},"Remaining Balance:"),i.createElement("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--warning-700)"}},F?(parseFloat(R.totalBalance||0)-parseFloat(F)).toFixed(2):R.totalBalance," ",R.currency))),F&&parseFloat(F)>parseFloat(R.totalBalance||0)&&i.createElement("div",{style:{background:"var(--error-50)",color:"var(--error-700)",padding:"0.75rem 1rem",borderRadius:8,border:"1px solid var(--error-200)",fontSize:"0.9rem"}},"⚠️ Withdrawal amount exceeds available balance")),i.createElement("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"}},i.createElement("button",{type:"button",onClick:()=>G(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>I.target.style.borderColor="var(--neutral-400)",onMouseLeave:I=>I.target.style.borderColor="var(--neutral-300)"},"Cancel"),i.createElement("button",{type:"submit",disabled:$||!F||parseFloat(F)>parseFloat(R.totalBalance||0),style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:$||!F||parseFloat(F)>parseFloat(R.totalBalance||0)?"var(--neutral-400)":"linear-gradient(135deg, var(--warning-500), var(--warning-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:$||!F||parseFloat(F)>parseFloat(R.totalBalance||0)?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:$||!F||parseFloat(F)>parseFloat(R.totalBalance||0)?"none":"0 4px 12px rgba(245, 158, 11, 0.3)"},onMouseEnter:I=>!$&&F&&parseFloat(F)<=parseFloat(R.totalBalance||0)&&(I.target.style.transform="translateY(-1px)"),onMouseLeave:I=>!$&&F&&parseFloat(F)<=parseFloat(R.totalBalance||0)&&(I.target.style.transform="translateY(0)")},$?"Withdrawing...":"Withdraw Funds")))),D&&R&&i.createElement("div",{className:"modal-overlay polished modal-fade modal-scale",onClick:I=>{I.target.classList.contains("modal-overlay")&&ne(!1)}},i.createElement("form",{className:"modal-form polished",onClick:I=>I.stopPropagation(),onSubmit:async I=>{I.preventDefault(),P(!0);try{ne(!1),d({message:"Vault updated!",type:"success",icon:i.createElement(Xe,null)})}catch{d({message:"Edit failed",type:"error",icon:i.createElement(Ge,null)})}finally{P(!1)}}},i.createElement("h3",null,"Edit Vault"),i.createElement("input",{type:"text",placeholder:"Name",value:Z.name,onChange:I=>re(me=>({...me,name:I.target.value})),required:!0}),i.createElement("input",{type:"text",placeholder:"Description",value:Z.description,onChange:I=>re(me=>({...me,description:I.target.value}))}),i.createElement("input",{type:"text",placeholder:"Currency",value:Z.currency,onChange:I=>re(me=>({...me,currency:I.target.value})),required:!0}),i.createElement("input",{type:"number",placeholder:"Target Amount",value:Z.targetAmount,onChange:I=>re(me=>({...me,targetAmount:I.target.value}))}),i.createElement("label",{style:{display:"flex",alignItems:"center",gap:8,fontWeight:600,color:"var(--primary-700)",fontSize:14}},i.createElement("input",{type:"checkbox",checked:Z.isPublic,onChange:I=>re(me=>({...me,isPublic:I.target.checked}))})," Public Vault"),i.createElement("div",{className:"modal-actions"},i.createElement("button",{type:"button",onClick:()=>ne(!1)},"Cancel"),i.createElement("button",{type:"submit",disabled:$},$?"Saving...":"Save")))),Q&&R&&i.createElement("div",{className:"modal-overlay polished modal-fade modal-scale",onClick:I=>{I.target.classList.contains("modal-overlay")&&ae(!1)}},i.createElement("div",{className:"modal-form polished",onClick:I=>I.stopPropagation()},i.createElement("h3",null,"Delete Vault"),i.createElement("p",null,"Are you sure you want to delete this vault? This action cannot be undone."),i.createElement("div",{className:"modal-actions"},i.createElement("button",{type:"button",onClick:()=>ae(!1)},"Cancel"),i.createElement("button",{type:"button",disabled:$,onClick:async()=>{P(!0);try{ae(!1),d({message:"Vault deleted!",type:"success",icon:i.createElement(Xe,null)})}catch{d({message:"Delete failed",type:"error",icon:i.createElement(Ge,null)})}finally{P(!1)}}},"Delete")))),fe&&R&&i.createElement("div",{className:"modal-overlay polished modal-fade modal-scale",onClick:I=>{I.target.classList.contains("modal-overlay")&&le(!1)}},i.createElement("div",{className:"modal-form polished",onClick:I=>I.stopPropagation()},i.createElement("h3",null,"Toggle Privacy"),i.createElement("p",null,"Current: ",R.isPublic?"Public":"Private"),i.createElement("div",{className:"modal-actions"},i.createElement("button",{type:"button",onClick:()=>le(!1)},"Cancel"),i.createElement("button",{type:"button",disabled:$,onClick:async()=>{P(!0);try{le(!1),d({message:"Privacy updated!",type:"success",icon:i.createElement(Xe,null)})}catch{d({message:"Privacy update failed",type:"error",icon:i.createElement(Ge,null)})}finally{P(!1)}}},R.isPublic?"Make Private":"Make Public")))),de&&R&&i.createElement("div",{className:"modal-overlay polished modal-fade modal-scale",onClick:I=>{I.target.classList.contains("modal-overlay")&&_e(!1)}},i.createElement("form",{className:"modal-form polished",onClick:I=>I.stopPropagation(),onSubmit:async I=>{I.preventDefault(),P(!0);try{_e(!1),be("DeleteVault"),S(""),w("member"),d({message:"Proposal submitted!",type:"success",icon:i.createElement(Xe,null)})}catch{d({message:"Proposal failed",type:"error",icon:i.createElement(Ge,null)})}finally{P(!1)}}},i.createElement("h3",null,"Propose Vault Action"),i.createElement("select",{value:Ee,onChange:I=>be(I.target.value),required:!0},i.createElement("option",{value:"DeleteVault"},"Delete Vault"),i.createElement("option",{value:"RemoveMember"},"Remove Member"),i.createElement("option",{value:"ChangeRole"},"Change Role"),i.createElement("option",{value:"TogglePrivacy"},"Toggle Privacy")),i.createElement("input",{type:"text",placeholder:"Target User ID (if applicable)",value:Be,onChange:I=>S(I.target.value)}),i.createElement("input",{type:"text",placeholder:"New Role (if applicable)",value:v,onChange:I=>w(I.target.value)}),i.createElement("div",{className:"modal-actions"},i.createElement("button",{type:"button",onClick:()=>_e(!1)},"Cancel"),i.createElement("button",{type:"submit",disabled:$},$?"Submitting...":"Submit")))),T&&R&&i.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:I=>{I.target===I.currentTarget&&he(!1)}},i.createElement("form",{onClick:I=>I.stopPropagation(),onSubmit:async I=>{I.preventDefault(),P(!0);try{const me=await a(R.id,j,se);if(me.ok){if(he(!1),te(""),oe("member"),d({message:"Invitation sent!",type:"success",icon:i.createElement(Xe,null)}),k===R.id){const dt=await r(R.id);E(dt)}}else d({message:me.err||"Invite failed",type:"error",icon:i.createElement(Ge,null)})}catch(me){console.error("Invite error:",me),d({message:"Invite failed",type:"error",icon:i.createElement(Ge,null)})}finally{P(!1)}},style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"}},i.createElement("button",{type:"button",onClick:()=>he(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"}},i.createElement(Ge,{size:16})),i.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},i.createElement("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"}},i.createElement(Io,{size:24,color:"white"})),i.createElement("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--primary-800)"}},"Invite Member"),i.createElement("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"}},"Invite someone to join ",i.createElement("strong",null,R.name))),i.createElement("div",{style:{display:"grid",gap:"1.5rem"}},i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"User ID *"),i.createElement("input",{type:"text",placeholder:"Enter user ID",value:j,onChange:I=>te(I.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:I=>I.target.style.borderColor="var(--primary-500)",onBlur:I=>I.target.style.borderColor="var(--neutral-200)"})),i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"Role *"),i.createElement("select",{value:se,onChange:I=>oe(I.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",background:"white"},onFocus:I=>I.target.style.borderColor="var(--primary-500)",onBlur:I=>I.target.style.borderColor="var(--neutral-200)"},i.createElement("option",{value:"member"},"Member"),i.createElement("option",{value:"admin"},"Admin")))),i.createElement("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"}},i.createElement("button",{type:"button",onClick:()=>he(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>I.target.style.borderColor="var(--neutral-400)",onMouseLeave:I=>I.target.style.borderColor="var(--neutral-300)"},"Cancel"),i.createElement("button",{type:"submit",disabled:$||!j,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:$||!j?"var(--neutral-400)":"linear-gradient(135deg, var(--primary-500), var(--primary-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:$||!j?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:$||!j?"none":"0 4px 12px rgba(59, 130, 246, 0.3)"},onMouseEnter:I=>!$&&j&&(I.target.style.transform="translateY(-1px)"),onMouseLeave:I=>!$&&j&&(I.target.style.transform="translateY(0)")},$?"Inviting...":"Send Invitation")))),we&&R&&q&&i.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:I=>{I.target===I.currentTarget&&ce(!1)}},i.createElement("form",{onClick:I=>I.stopPropagation(),onSubmit:async I=>{I.preventDefault(),P(!0);try{const me=await s(R.id,q.id,ke);if(me.ok){if(ce(!1),Re("member"),d({message:"Role changed successfully!",type:"success",icon:i.createElement(Xe,null)}),k===R.id){const dt=await r(R.id);E(dt)}}else d({message:me.err||"Change role failed",type:"error",icon:i.createElement(Ge,null)})}catch(me){console.error("Change role error:",me),d({message:"Change role failed",type:"error",icon:i.createElement(Ge,null)})}finally{P(!1)}},style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"}},i.createElement("button",{type:"button",onClick:()=>ce(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"}},i.createElement(Ge,{size:16})),i.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},i.createElement("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--warning-500), var(--warning-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(245, 158, 11, 0.3)"}},i.createElement(Pr,{size:24,color:"white"})),i.createElement("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--warning-800)"}},"Change Member Role"),i.createElement("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"}},"Change role for member in ",i.createElement("strong",null,R.name))),i.createElement("div",{style:{display:"grid",gap:"1.5rem"}},i.createElement("div",{style:{background:"var(--neutral-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--neutral-200)"}},i.createElement("div",{style:{fontSize:"0.9rem",color:"var(--neutral-600)",marginBottom:"0.5rem"}},"Current Member"),i.createElement("div",{style:{fontSize:"1rem",fontWeight:600,color:"var(--neutral-800)"}},q.userId),i.createElement("div",{style:{fontSize:"0.9rem",color:"var(--neutral-600)",marginTop:"0.25rem"}},"Current Role: ",i.createElement("span",{style:{fontWeight:600,color:"var(--primary-600)"}},q.role))),i.createElement("div",null,i.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"}},"New Role *"),i.createElement("select",{value:ke,onChange:I=>Re(I.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",background:"white"},onFocus:I=>I.target.style.borderColor="var(--warning-500)",onBlur:I=>I.target.style.borderColor="var(--neutral-200)"},i.createElement("option",{value:"member"},"Member"),i.createElement("option",{value:"admin"},"Admin")))),i.createElement("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"}},i.createElement("button",{type:"button",onClick:()=>ce(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>I.target.style.borderColor="var(--neutral-400)",onMouseLeave:I=>I.target.style.borderColor="var(--neutral-300)"},"Cancel"),i.createElement("button",{type:"submit",disabled:$,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:$?"var(--neutral-400)":"linear-gradient(135deg, var(--warning-500), var(--warning-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:$?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:$?"none":"0 4px 12px rgba(245, 158, 11, 0.3)"},onMouseEnter:I=>!$&&(I.target.style.transform="translateY(-1px)"),onMouseLeave:I=>!$&&(I.target.style.transform="translateY(0)")},$?"Changing...":"Change Role")))),ue&&R&&q&&i.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:I=>{I.target===I.currentTarget&&ge(!1)}},i.createElement("div",{onClick:I=>I.stopPropagation(),style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(239, 68, 68, 0.1)",position:"relative"}},i.createElement("button",{type:"button",onClick:()=>ge(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"}},i.createElement(Ge,{size:16})),i.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},i.createElement("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--error-500), var(--error-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(239, 68, 68, 0.3)"}},i.createElement(Ql,{size:24,color:"white"})),i.createElement("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--error-800)"}},"Remove Member"),i.createElement("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"}},"Remove member from ",i.createElement("strong",null,R.name))),i.createElement("div",{style:{display:"grid",gap:"1.5rem"}},i.createElement("div",{style:{background:"var(--error-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--error-200)"}},i.createElement("div",{style:{fontSize:"0.9rem",color:"var(--error-700)",marginBottom:"0.5rem",fontWeight:600}},"⚠️ Warning: This action cannot be undone"),i.createElement("div",{style:{fontSize:"1rem",fontWeight:600,color:"var(--neutral-800)"}},"Member: ",q.userId),i.createElement("div",{style:{fontSize:"0.9rem",color:"var(--neutral-600)",marginTop:"0.25rem"}},"Role: ",i.createElement("span",{style:{fontWeight:600,color:"var(--primary-600)"}},q.role))),i.createElement("div",{style:{background:"var(--neutral-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--neutral-200)"}},i.createElement("div",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"}},"This member will lose access to the vault and all associated funds. They will no longer be able to deposit, withdraw, or view vault details."))),i.createElement("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"}},i.createElement("button",{type:"button",onClick:()=>ge(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>I.target.style.borderColor="var(--neutral-400)",onMouseLeave:I=>I.target.style.borderColor="var(--neutral-300)"},"Cancel"),i.createElement("button",{type:"button",disabled:$,onClick:async()=>{P(!0);try{const I=await o(R.id,q.id);if(I.ok){if(ge(!1),d({message:"Member removed successfully!",type:"success",icon:i.createElement(Xe,null)}),k===R.id){const me=await r(R.id);E(me)}}else d({message:I.err||"Remove failed",type:"error",icon:i.createElement(Ge,null)})}catch(I){console.error("Remove member error:",I),d({message:"Remove failed",type:"error",icon:i.createElement(Ge,null)})}finally{P(!1)}},style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:$?"var(--neutral-400)":"linear-gradient(135deg, var(--error-500), var(--error-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:$?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:$?"none":"0 4px 12px rgba(239, 68, 68, 0.3)"},onMouseEnter:I=>!$&&(I.target.style.transform="translateY(-1px)"),onMouseLeave:I=>!$&&(I.target.style.transform="translateY(0)")},$?"Removing...":"Remove Member")))),Ce&&R&&_?i.createElement(k3,{vault:R,details:_,onBack:()=>Ne(!1),user:l,showToast:d}):i.createElement("div",{className:"group-vaults-list",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(420px, 1fr))",gap:"1.5rem",justifyItems:"start",alignItems:"start",margin:0,padding:0}},g.length===0?i.createElement("div",{style:{color:"var(--neutral-400)",fontSize:16,padding:"2rem"}},"No group vaults found."):g.map(I=>i.createElement("div",{key:I.id,className:"vault-card vault-card-hover",style:{background:"linear-gradient(135deg, var(--dashboard-card-bg) 0%, rgba(255,255,255,0.95) 100%)",borderRadius:16,boxShadow:k===I.id?"0 8px 32px rgba(59,130,246,0.15), 0 2px 8px rgba(0,0,0,0.1)":"0 4px 16px rgba(0,0,0,0.08), 0 1px 4px rgba(0,0,0,0.05)",border:k===I.id?"2px solid var(--primary-300)":"1px solid rgba(59,130,246,0.1)",margin:0,padding:k===I.id?"1.5rem":"1.2rem",minWidth:420,maxWidth:600,fontSize:14,display:"flex",flexDirection:"column",position:"relative",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",overflow:"visible",cursor:"pointer",backdropFilter:"blur(10px)"},tabIndex:0,onMouseEnter:me=>{k!==I.id&&(me.currentTarget.style.transform="translateY(-4px)",me.currentTarget.style.boxShadow="0 12px 40px rgba(59,130,246,0.2), 0 4px 12px rgba(0,0,0,0.1)")},onMouseLeave:me=>{k!==I.id&&(me.currentTarget.style.transform="translateY(0)",me.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.08), 0 1px 4px rgba(0,0,0,0.05)")},onClick:()=>Ie(I)},i.createElement("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:12}},i.createElement("div",{style:{flex:1}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4}},i.createElement("span",{style:{fontWeight:800,fontSize:20,color:"var(--primary-800)",background:"linear-gradient(135deg, var(--primary-600), var(--primary-800))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}},I.name),i.createElement("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:11,background:I.isPublic?"var(--success-100)":"var(--error-100)",color:I.isPublic?"var(--success-700)":"var(--error-700)",padding:"2px 8px",borderRadius:12,fontWeight:600,border:`1px solid ${I.isPublic?"var(--success-200)":"var(--error-200)"}`}},I.isPublic?i.createElement(e0,{size:12}):i.createElement(Vc,{size:12}),I.isPublic?"Public":"Private")),i.createElement("div",{style:{color:"var(--neutral-500)",fontSize:14,lineHeight:"1.4",fontStyle:"italic"}},I.description||"No description provided"))),i.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:12,marginBottom:16,background:"rgba(59,130,246,0.03)",borderRadius:12,padding:12,border:"1px solid rgba(59,130,246,0.08)"}},i.createElement("div",{style:{textAlign:"center"}},i.createElement("div",{style:{fontSize:11,color:"var(--neutral-500)",marginBottom:2,fontWeight:600}},"CURRENCY"),i.createElement("div",{style:{fontSize:14,color:"var(--primary-700)",fontWeight:700}},I.currency)),i.createElement("div",{style:{textAlign:"center"}},i.createElement("div",{style:{fontSize:11,color:"var(--neutral-500)",marginBottom:2,fontWeight:600}},"TARGET"),i.createElement("div",{style:{fontSize:14,color:"var(--warning-700)",fontWeight:700}},I.targetAmount||"N/A")),i.createElement("div",{style:{textAlign:"center"}},i.createElement("div",{style:{fontSize:11,color:"var(--neutral-500)",marginBottom:2,fontWeight:600}},"BALANCE"),i.createElement("div",{style:{fontSize:14,color:"var(--success-700)",fontWeight:700}},I.totalBalance)),i.createElement("div",{style:{textAlign:"center"}},i.createElement("div",{style:{fontSize:11,color:"var(--neutral-500)",marginBottom:2,fontWeight:600}},"MEMBERS"),i.createElement("div",{style:{fontSize:14,color:"var(--primary-700)",fontWeight:700}},I.members?I.members.length:"—"))),i.createElement("div",{className:"vault-actions",style:{display:"flex",gap:8,flexWrap:"wrap",marginTop:8,marginBottom:k===I.id?16:0,justifyContent:"flex-start",alignItems:"center"}},i.createElement("button",{className:"btn btn-primary btn-xs",title:"View Details",style:{borderRadius:8,padding:"8px 16px",fontSize:12,fontWeight:600,background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",border:"none",color:"white",boxShadow:"0 2px 8px rgba(59,130,246,0.3)",transition:"all 0.2s"},onMouseEnter:me=>me.target.style.transform="translateY(-1px)",onMouseLeave:me=>me.target.style.transform="translateY(0)",onClick:()=>Ie(I)},i.createElement(Y8,{size:14,style:{marginRight:4}}),"View Details"),i.createElement("button",{className:"btn btn-success btn-xs",title:"Deposit",style:{borderRadius:8,padding:"6px 12px",fontSize:12,fontWeight:600,background:"linear-gradient(135deg, var(--success-500), var(--success-600))",border:"none",color:"white",boxShadow:"0 2px 6px rgba(16,185,129,0.3)",transition:"all 0.2s"},onMouseEnter:me=>me.target.style.transform="translateY(-1px)",onMouseLeave:me=>me.target.style.transform="translateY(0)",onClick:me=>{me.stopPropagation(),V(I),N(!0)}},i.createElement(Wo,{size:14})),i.createElement("button",{className:"btn btn-warning btn-xs",title:"Withdraw",style:{borderRadius:8,padding:"6px 12px",fontSize:12,fontWeight:600,background:"linear-gradient(135deg, var(--warning-500), var(--warning-600))",border:"none",color:"white",boxShadow:"0 2px 6px rgba(245,158,11,0.3)",transition:"all 0.2s"},onMouseEnter:me=>me.target.style.transform="translateY(-1px)",onMouseLeave:me=>me.target.style.transform="translateY(0)",onClick:me=>{me.stopPropagation(),V(I),G(!0)}},i.createElement($o,{size:14})),i.createElement("button",{className:"btn btn-outline btn-xs",title:"Edit Vault",style:{borderRadius:8,padding:"6px 12px",fontSize:12,fontWeight:600,background:"rgba(59,130,246,0.1)",border:"1px solid rgba(59,130,246,0.2)",color:"var(--primary-600)",transition:"all 0.2s"},onMouseEnter:me=>me.target.style.transform="translateY(-1px)",onMouseLeave:me=>me.target.style.transform="translateY(0)",onClick:me=>{me.stopPropagation(),Fe(I)}},i.createElement(zc,{size:14}))),k===I.id&&_&&i.createElement("div",{className:"vault-expanded-details",style:{marginTop:18,background:"rgba(245,247,255,0.92)",borderRadius:7,boxShadow:"var(--shadow-xs)",padding:"1.1rem",border:"1.5px solid var(--primary-50)",transition:"all 0.28s cubic-bezier(.4,0,.2,1)"}},i.createElement("div",{style:{marginBottom:18}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8}},i.createElement(la,{style:{color:"var(--primary-600)"}}),i.createElement("span",{style:{fontWeight:700,color:"var(--primary-700)"}},"Members"),i.createElement("button",{className:"btn btn-xs btn-action",style:{marginLeft:"auto",borderRadius:4},title:"Invite Member",onClick:me=>{me.stopPropagation(),V(_.vault),he(!0)}},i.createElement(Io,null))),i.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:10}},_.members&&_.members.length>0?_.members.map(me=>i.createElement("div",{key:me.id,style:{background:"var(--neutral-0)",borderRadius:4,boxShadow:"var(--shadow-xs)",padding:"0.5rem 0.9rem",display:"flex",alignItems:"center",gap:10,minWidth:120}},i.createElement("span",{style:{fontWeight:600,color:"var(--primary-700)"}},me.userId===_.vault.ownerId?i.createElement(gE,null):i.createElement(la,null)," ",me.userId&&me.userId.toString?me.userId.toString():String(me.userId)),i.createElement("span",{style:{background:"var(--neutral-100)",color:me.role==="owner"?"var(--primary-600)":me.role==="admin"?"var(--success-600)":"var(--primary-400)",borderRadius:4,padding:"2px 10px",fontWeight:700,fontSize:13,marginLeft:8}},me.role.charAt(0).toUpperCase()+me.role.slice(1)),i.createElement("span",{style:{fontSize:12,color:"var(--neutral-500)"}},"Joined: ",new Date(Number(me.joinedAt)).toLocaleDateString()),i.createElement("button",{className:"btn btn-outline btn-xs btn-action",style:{borderRadius:4},title:"Change Role",onClick:()=>{V(_.vault),ee(me),ce(!0)}},i.createElement(Pr,null)),i.createElement("button",{className:"btn btn-danger btn-xs btn-action",style:{borderRadius:4},title:"Remove Member",onClick:()=>{V(_.vault),ee(me),ge(!0)}},i.createElement(Ql,null)))):i.createElement("div",{style:{color:"var(--neutral-400)"}},"No members yet."))),i.createElement("div",{style:{marginBottom:18}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8}},i.createElement(xu,{style:{color:"var(--primary-600)"}}),i.createElement("span",{style:{fontWeight:700,color:"var(--primary-700)"}},"Balance & Progress")),i.createElement("div",{style:{display:"flex",gap:18,alignItems:"center",fontSize:14}},i.createElement("span",null,"Total: ",i.createElement("b",null,_.vault.totalBalance)," ",_.vault.currency),i.createElement("span",null,"Target: ",i.createElement("b",null,_.vault.targetAmount||"N/A")),i.createElement("div",{style:{flex:1,minWidth:120,maxWidth:220}},i.createElement("div",{style:{width:"100%",background:"var(--neutral-100)",borderRadius:4,height:7}},i.createElement("div",{style:{width:`${_.vault.targetAmount?Math.min(100,_.vault.totalBalance/_.vault.targetAmount*100):0}%`,background:"linear-gradient(90deg, var(--primary-400), var(--primary-700))",height:"100%",borderRadius:4,transition:"width 0.3s"}}))))),i.createElement("div",{style:{marginBottom:18}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8}},i.createElement(Df,{style:{color:"var(--primary-600)"}}),i.createElement("span",{style:{fontWeight:700,color:"var(--primary-700)"}},"Transaction History")),i.createElement("div",{style:{fontSize:13,color:"var(--neutral-600)"}},"No transactions yet.")),i.createElement("div",{style:{display:"flex",gap:10,marginBottom:18}},i.createElement("button",{className:"btn btn-success btn-xs btn-action",style:{borderRadius:4},title:"Deposit"},i.createElement(Wo,null)),i.createElement("button",{className:"btn btn-warning btn-xs btn-action",style:{borderRadius:4},title:"Withdraw"},i.createElement($o,null)),i.createElement("button",{className:"btn btn-outline btn-xs btn-action",style:{borderRadius:4},title:"Edit Vault"},i.createElement(zc,null)),i.createElement("button",{className:"btn btn-danger btn-xs btn-action",style:{borderRadius:4},title:"Delete Vault"},i.createElement(Ql,null)),i.createElement("button",{className:"btn btn-outline btn-xs btn-action",style:{borderRadius:4},title:"Toggle Privacy"},_.vault.isPublic?i.createElement(Vc,null):i.createElement(e0,null)),i.createElement("button",{className:"btn btn-outline btn-xs btn-action",style:{borderRadius:4},title:"Propose Action"},i.createElement(Pr,null))),i.createElement("div",{style:{marginBottom:18}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8}},i.createElement(Df,{style:{color:"var(--primary-600)"}}),i.createElement("span",{style:{fontWeight:700,color:"var(--primary-700)"}},"Governance Timeline")),i.createElement("div",{style:{fontSize:13,color:"var(--neutral-600)"}},"No proposals yet.")),i.createElement("div",{style:{marginBottom:0}},i.createElement("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8}},i.createElement(Pr,{style:{color:"var(--primary-600)"}}),i.createElement("span",{style:{fontWeight:700,color:"var(--primary-700)"}},"Security & Recovery")),i.createElement("div",{style:{fontSize:13,color:"var(--neutral-600)"}},"No recovery methods set up."))))))))}function C3(){const{user:e,logout:t,isAuthenticated:r,isLoading:n,principal:a,completeRecoverySetup:o,recoveryMethods:s,cryptoWallets:l,refreshRecoveryMethods:c,refreshCryptoWallets:u}=or(),[d,g]=M.useState(!0),[f,p]=M.useState("overview");M.useState(!1),M.useState(!1);const[h,k]=M.useState(!1),[B,_]=M.useState({totalBalance:0,walletCount:0,recoveryMethodsCount:0,recentActivity:[]}),[E]=M.useState([{id:1,message:"New wallet connected successfully",time:"2 min ago",read:!1,type:"success",icon:"💰"},{id:2,message:"Recovery method verified",time:"1 hour ago",read:!1,type:"success",icon:"🔐"},{id:3,message:"Transaction completed",time:"3 hours ago",read:!0,type:"success",icon:"✅"},{id:4,message:"Security check recommended",time:"1 day ago",read:!1,type:"warning",icon:"⚠️"},{id:5,message:"Backup completed",time:"2 days ago",read:!0,type:"success",icon:"☁️"}]);M.useState("all");const x=E.filter(P=>!P.read).length,U=M.useRef(null),C=nu();M.useEffect(()=>{const P=X=>{U.current&&!U.current.contains(X.target)&&k(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]),M.useEffect(()=>{r&&(async()=>{if(!r){C("/");return}g(!0);try{await Promise.all([c(),u()])}catch(X){console.error("Error loading dashboard:",X)}finally{g(!1)}})()},[r,C,c,u]),M.useEffect(()=>{(()=>{const X=(l==null?void 0:l.reduce((Y,N)=>Y+(N.balance||0),0))||0,z=(l==null?void 0:l.length)||0,H=(s==null?void 0:s.length)||0;_({totalBalance:X,walletCount:z,recoveryMethodsCount:H,recentActivity:[{icon:ng,text:"Wallets synced",time:"2 min ago"},{icon:Pr,text:"Recovery verified",time:"1 hour ago"},{icon:Xe,text:"Profile updated",time:"3 hours ago"}]})})()},[l,s]);const W=async()=>{await t(),C("/")},$=P=>!P||isNaN(P)?"$0.00":P>=1e6?`$${(P/1e6).toFixed(1)}M`:P>=1e3?`$${(P/1e3).toFixed(1)}K`:`$${P.toFixed(2)}`;return n||d?i.createElement("div",{className:"dashboard-loading"},i.createElement("div",{className:"loading-spinner"}),i.createElement("p",null,"Loading dashboard...")):i.createElement("div",{className:"dashboard"},i.createElement("aside",{className:"dashboard-sidebar"},i.createElement("div",{className:"sidebar-logo"},i.createElement("div",{className:"logo-icon"},"N"),i.createElement("span",{className:"logo-text"},"Nisto")),i.createElement("nav",{className:"sidebar-nav"},i.createElement("button",{className:`sidebar-link${f==="overview"?" active":""}`,onClick:()=>p("overview")},i.createElement(Z8,null),i.createElement("span",null,"Overview")),i.createElement("button",{className:`sidebar-link${f==="wallets"?" active":""}`,onClick:()=>p("wallets")},i.createElement(ng,null),i.createElement("span",null,"Wallets")),i.createElement("button",{className:`sidebar-link${f==="vaults"?" active":""}`,onClick:()=>p("vaults")},i.createElement(la,null),i.createElement("span",null,"Group Vaults")),i.createElement("button",{className:`sidebar-link${f==="games"?" active":""}`,onClick:()=>p("games")},i.createElement(Xw,null),i.createElement("span",null,"Social Games")),i.createElement("button",{className:`sidebar-link${f==="defi"?" active":""}`,onClick:()=>p("defi")},i.createElement(Jw,null),i.createElement("span",null,"DeFi Tools")),i.createElement("button",{className:`sidebar-link${f==="plugins"?" active":""}`,onClick:()=>p("plugins")},i.createElement(Q8,null),i.createElement("span",null,"Plugins")),i.createElement("button",{className:`sidebar-link${f==="ai"?" active":""}`,onClick:()=>p("ai")},i.createElement(t0,null),i.createElement("span",null,"AI Assistant")),i.createElement("button",{className:`sidebar-link${f==="payments"?" active":""}`,onClick:()=>p("payments")},i.createElement(Sm,null),i.createElement("span",null,"Local Payments")),i.createElement("button",{className:`sidebar-link${f==="recovery"?" active":""}`,onClick:()=>p("recovery")},i.createElement(Pr,null),i.createElement("span",null,"Recovery Setup"))),i.createElement("button",{className:"sidebar-link",onClick:W,style:{color:"var(--dashboard-sidebar-link-logout, var(--error-600))"}},i.createElement(Dh,null),i.createElement("span",null,"Logout"))),i.createElement("div",{className:"dashboard-main"},i.createElement("header",{className:"dashboard-header"},i.createElement("div",{className:"dashboard-header-left"},i.createElement("div",{className:"header-page-indicator"},"🏦")),i.createElement("div",{className:"dashboard-header-right"},i.createElement("div",{className:"dashboard-user-info"},i.createElement("div",{className:"user-avatar"},i.createElement(_u,null)),i.createElement("div",{className:"user-details"},i.createElement("span",{className:"user-name"},(e==null?void 0:e.displayName)||"User"),i.createElement("span",{className:"user-principal"},a?`${a.slice(0,12)}...`:"Loading..."))),i.createElement("button",{className:"notification-btn-header",onClick:()=>k(!h)},i.createElement(Lw,null),x>0&&i.createElement("span",{className:"notification-badge-header"},x)),i.createElement("button",{className:"logout-btn-header",onClick:W},i.createElement(Dh,null)))),i.createElement("main",{className:"dashboard-content"},h&&i.createElement(o3,null),i.createElement(s3,null),f==="overview"&&i.createElement("section",{className:"dashboard-section"},i.createElement("div",{className:"dashboard-cards"},i.createElement("div",{className:"dashboard-card"},i.createElement("div",{className:"stat-number"},$(B.totalBalance)),i.createElement("div",{className:"stat-label"},"Total Balance")),i.createElement("div",{className:"dashboard-card"},i.createElement("div",{className:"stat-number"},B.walletCount),i.createElement("div",{className:"stat-label"},"Crypto Wallets")),i.createElement("div",{className:"dashboard-card"},i.createElement("div",{className:"stat-number"},B.recoveryMethodsCount),i.createElement("div",{className:"stat-label"},"Recovery Methods")),i.createElement("div",{className:"dashboard-card"},i.createElement("div",{className:"stat-number"},"+12%"),i.createElement("div",{className:"stat-label"},"This Month"))),i.createElement("div",{className:"dashboard-section",style:{marginTop:0,marginBottom:"1.5rem",padding:"1.2rem 1.5rem"}},i.createElement("h3",{style:{fontSize:"1.08rem",color:"var(--primary-700)",marginBottom:12}},"Recent Activity"),i.createElement("div",{className:"recent-activity-list",style:{display:"flex",flexDirection:"column",gap:12}},B.recentActivity.map((P,X)=>i.createElement("div",{key:X,className:"recent-activity-item",style:{display:"flex",alignItems:"center",gap:16,background:"var(--neutral-50)",borderRadius:8,padding:"0.7rem 1rem",boxShadow:"var(--shadow-sm)"}},i.createElement("span",{style:{fontSize:20,color:"var(--primary-600)"}},P.icon&&i.createElement(P.icon)),i.createElement("span",{style:{flex:1,color:"var(--neutral-700)",fontWeight:500}},P.text),i.createElement("span",{style:{color:"var(--neutral-400)",fontSize:13}},P.time))))),i.createElement("div",{className:"dashboard-section",style:{marginTop:0,padding:"1.2rem 1.5rem"}},i.createElement("h3",{style:{fontSize:"1.08rem",color:"var(--primary-700)",marginBottom:12}},"Quick Actions"),i.createElement("div",{style:{display:"flex",gap:16}},i.createElement("button",{className:"btn btn-primary",style:{minWidth:120},onClick:()=>p("wallets")},"+ Add Wallet"),i.createElement("button",{className:"btn btn-secondary",style:{minWidth:120},onClick:()=>p("recovery")},"Add Recovery")))),f==="wallets"&&i.createElement(v3,null),f==="vaults"&&i.createElement(A3,null),f==="games"&&i.createElement(_3,null),f==="defi"&&i.createElement(S3,null),f==="plugins"&&i.createElement(N3,null),f==="ai"&&i.createElement(w3,null),f==="payments"&&i.createElement(x3,null),f==="recovery"&&i.createElement(nE,null))))}function B3(){return i.createElement(c_,null,i.createElement(O8,null,i.createElement(Dx,null,i.createElement(Cx,null,i.createElement(Rf,{path:"/",element:i.createElement(i3,null)}),i.createElement(Rf,{path:"/dashboard",element:i.createElement(C3,null)})))))}var yE={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ua,function(){return function(r){function n(o){if(a[o])return a[o].exports;var s=a[o]={exports:{},id:o,loaded:!1};return r[o].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var a={};return n.m=r,n.c=a,n.p="dist/",n(0)}([function(r,n,a){function o(O){return O&&O.__esModule?O:{default:O}}var s=Object.assign||function(O){for(var G=1;G<arguments.length;G++){var D=arguments[G];for(var ne in D)Object.prototype.hasOwnProperty.call(D,ne)&&(O[ne]=D[ne])}return O},l=a(1),c=(o(l),a(6)),u=o(c),d=a(7),g=o(d),f=a(8),p=o(f),h=a(9),k=o(h),B=a(10),_=o(B),E=a(11),x=o(E),U=a(14),C=o(U),W=[],$=!1,P={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},X=function(){var O=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(O&&($=!0),$)return W=(0,x.default)(W,P),(0,_.default)(W,P.once),W},z=function(){W=(0,C.default)(),X()},H=function(){W.forEach(function(O,G){O.node.removeAttribute("data-aos"),O.node.removeAttribute("data-aos-easing"),O.node.removeAttribute("data-aos-duration"),O.node.removeAttribute("data-aos-delay")})},Y=function(O){return O===!0||O==="mobile"&&k.default.mobile()||O==="phone"&&k.default.phone()||O==="tablet"&&k.default.tablet()||typeof O=="function"&&O()===!0},N=function(O){P=s(P,O),W=(0,C.default)();var G=document.all&&!window.atob;return Y(P.disable)||G?H():(P.disableMutationObserver||p.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),P.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",P.easing),document.querySelector("body").setAttribute("data-aos-duration",P.duration),document.querySelector("body").setAttribute("data-aos-delay",P.delay),P.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?X(!0):P.startEvent==="load"?window.addEventListener(P.startEvent,function(){X(!0)}):document.addEventListener(P.startEvent,function(){X(!0)}),window.addEventListener("resize",(0,g.default)(X,P.debounceDelay,!0)),window.addEventListener("orientationchange",(0,g.default)(X,P.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,_.default)(W,P.once)},P.throttleDelay)),P.disableMutationObserver||p.default.ready("[data-aos]",z),W)};r.exports={init:N,refresh:X,refreshHard:z}},function(r,n){},,,,,function(r,n){(function(a){function o(Y,N,O){function G(Z){var re=T,b=he;return T=he=void 0,R=Z,ce=Y.apply(b,re)}function D(Z){return R=Z,ue=setTimeout(ae,N),V?G(Z):ce}function ne(Z){var re=Z-ge,b=Z-R,m=N-re;return q?z(m,we-b):m}function Q(Z){var re=Z-ge,b=Z-R;return ge===void 0||re>=N||re<0||q&&b>=we}function ae(){var Z=H();return Q(Z)?fe(Z):void(ue=setTimeout(ae,ne(Z)))}function fe(Z){return ue=void 0,ee&&T?G(Z):(T=he=void 0,ce)}function le(){ue!==void 0&&clearTimeout(ue),R=0,T=ge=he=ue=void 0}function de(){return ue===void 0?ce:fe(H())}function _e(){var Z=H(),re=Q(Z);if(T=arguments,he=this,ge=Z,re){if(ue===void 0)return D(ge);if(q)return ue=setTimeout(ae,N),G(ge)}return ue===void 0&&(ue=setTimeout(ae,N)),ce}var T,he,we,ce,ue,ge,R=0,V=!1,q=!1,ee=!0;if(typeof Y!="function")throw new TypeError(f);return N=d(N)||0,l(O)&&(V=!!O.leading,q="maxWait"in O,we=q?X(d(O.maxWait)||0,N):we,ee="trailing"in O?!!O.trailing:ee),_e.cancel=le,_e.flush=de,_e}function s(Y,N,O){var G=!0,D=!0;if(typeof Y!="function")throw new TypeError(f);return l(O)&&(G="leading"in O?!!O.leading:G,D="trailing"in O?!!O.trailing:D),o(Y,N,{leading:G,maxWait:N,trailing:D})}function l(Y){var N=typeof Y>"u"?"undefined":g(Y);return!!Y&&(N=="object"||N=="function")}function c(Y){return!!Y&&(typeof Y>"u"?"undefined":g(Y))=="object"}function u(Y){return(typeof Y>"u"?"undefined":g(Y))=="symbol"||c(Y)&&P.call(Y)==h}function d(Y){if(typeof Y=="number")return Y;if(u(Y))return p;if(l(Y)){var N=typeof Y.valueOf=="function"?Y.valueOf():Y;Y=l(N)?N+"":N}if(typeof Y!="string")return Y===0?Y:+Y;Y=Y.replace(k,"");var O=_.test(Y);return O||E.test(Y)?x(Y.slice(2),O?2:8):B.test(Y)?p:+Y}var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},f="Expected a function",p=NaN,h="[object Symbol]",k=/^\s+|\s+$/g,B=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,E=/^0o[0-7]+$/i,x=parseInt,U=(typeof a>"u"?"undefined":g(a))=="object"&&a&&a.Object===Object&&a,C=(typeof self>"u"?"undefined":g(self))=="object"&&self&&self.Object===Object&&self,W=U||C||Function("return this")(),$=Object.prototype,P=$.toString,X=Math.max,z=Math.min,H=function(){return W.Date.now()};r.exports=s}).call(n,function(){return this}())},function(r,n){(function(a){function o(H,Y,N){function O(ee){var Z=_e,re=T;return _e=T=void 0,ge=ee,we=H.apply(re,Z)}function G(ee){return ge=ee,ce=setTimeout(Q,Y),R?O(ee):we}function D(ee){var Z=ee-ue,re=ee-ge,b=Y-Z;return V?X(b,he-re):b}function ne(ee){var Z=ee-ue,re=ee-ge;return ue===void 0||Z>=Y||Z<0||V&&re>=he}function Q(){var ee=z();return ne(ee)?ae(ee):void(ce=setTimeout(Q,D(ee)))}function ae(ee){return ce=void 0,q&&_e?O(ee):(_e=T=void 0,we)}function fe(){ce!==void 0&&clearTimeout(ce),ge=0,_e=ue=T=ce=void 0}function le(){return ce===void 0?we:ae(z())}function de(){var ee=z(),Z=ne(ee);if(_e=arguments,T=this,ue=ee,Z){if(ce===void 0)return G(ue);if(V)return ce=setTimeout(Q,Y),O(ue)}return ce===void 0&&(ce=setTimeout(Q,Y)),we}var _e,T,he,we,ce,ue,ge=0,R=!1,V=!1,q=!0;if(typeof H!="function")throw new TypeError(g);return Y=u(Y)||0,s(N)&&(R=!!N.leading,V="maxWait"in N,he=V?P(u(N.maxWait)||0,Y):he,q="trailing"in N?!!N.trailing:q),de.cancel=fe,de.flush=le,de}function s(H){var Y=typeof H>"u"?"undefined":d(H);return!!H&&(Y=="object"||Y=="function")}function l(H){return!!H&&(typeof H>"u"?"undefined":d(H))=="object"}function c(H){return(typeof H>"u"?"undefined":d(H))=="symbol"||l(H)&&$.call(H)==p}function u(H){if(typeof H=="number")return H;if(c(H))return f;if(s(H)){var Y=typeof H.valueOf=="function"?H.valueOf():H;H=s(Y)?Y+"":Y}if(typeof H!="string")return H===0?H:+H;H=H.replace(h,"");var N=B.test(H);return N||_.test(H)?E(H.slice(2),N?2:8):k.test(H)?f:+H}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},g="Expected a function",f=NaN,p="[object Symbol]",h=/^\s+|\s+$/g,k=/^[-+]0x[0-9a-f]+$/i,B=/^0b[01]+$/i,_=/^0o[0-7]+$/i,E=parseInt,x=(typeof a>"u"?"undefined":d(a))=="object"&&a&&a.Object===Object&&a,U=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,C=x||U||Function("return this")(),W=Object.prototype,$=W.toString,P=Math.max,X=Math.min,z=function(){return C.Date.now()};r.exports=o}).call(n,function(){return this}())},function(r,n){function a(d){var g=void 0,f=void 0;for(g=0;g<d.length;g+=1)if(f=d[g],f.dataset&&f.dataset.aos||f.children&&a(f.children))return!0;return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function s(){return!!o()}function l(d,g){var f=window.document,p=o(),h=new p(c);u=g,h.observe(f.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function c(d){d&&d.forEach(function(g){var f=Array.prototype.slice.call(g.addedNodes),p=Array.prototype.slice.call(g.removedNodes),h=f.concat(p);if(a(h))return u()})}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){};n.default={isSupported:s,ready:l}},function(r,n){function a(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function f(p,h){for(var k=0;k<h.length;k++){var B=h[k];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(p,B.key,B)}}return function(p,h,k){return h&&f(p.prototype,h),k&&f(p,k),p}}(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,g=function(){function f(){a(this,f)}return s(f,[{key:"phone",value:function(){var p=o();return!(!l.test(p)&&!c.test(p.substr(0,4)))}},{key:"mobile",value:function(){var p=o();return!(!u.test(p)&&!d.test(p.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),f}();n.default=new g},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var a=function(s,l,c){var u=s.node.getAttribute("data-aos-once");l>s.position?s.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!c&&u!=="true")&&s.node.classList.remove("aos-animate")},o=function(s,l){var c=window.pageYOffset,u=window.innerHeight;s.forEach(function(d,g){a(d,u+c,l)})};n.default=o},function(r,n,a){function o(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(n,"__esModule",{value:!0});var s=a(12),l=o(s),c=function(u,d){return u.forEach(function(g,f){g.node.classList.add("aos-init"),g.position=(0,l.default)(g.node,d.offset)}),u};n.default=c},function(r,n,a){function o(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(n,"__esModule",{value:!0});var s=a(13),l=o(s),c=function(u,d){var g=0,f=0,p=window.innerHeight,h={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(h.offset&&!isNaN(h.offset)&&(f=parseInt(h.offset)),h.anchor&&document.querySelectorAll(h.anchor)&&(u=document.querySelectorAll(h.anchor)[0]),g=(0,l.default)(u).top,h.anchorPlacement){case"top-bottom":break;case"center-bottom":g+=u.offsetHeight/2;break;case"bottom-bottom":g+=u.offsetHeight;break;case"top-center":g+=p/2;break;case"bottom-center":g+=p/2+u.offsetHeight;break;case"center-center":g+=p/2+u.offsetHeight/2;break;case"top-top":g+=p;break;case"bottom-top":g+=u.offsetHeight+p;break;case"center-top":g+=u.offsetHeight/2+p}return h.anchorPlacement||h.offset||isNaN(d)||(f=d),g+f};n.default=c},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var a=function(o){for(var s=0,l=0;o&&!isNaN(o.offsetLeft)&&!isNaN(o.offsetTop);)s+=o.offsetLeft-(o.tagName!="BODY"?o.scrollLeft:0),l+=o.offsetTop-(o.tagName!="BODY"?o.scrollTop:0),o=o.offsetParent;return{top:l,left:s}};n.default=a},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var a=function(o){return o=o||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(o,function(s){return{node:s}})};n.default=a}])})})(yE);var R3=yE.exports;const F3=a0(R3);typeof global>"u"&&(window.global=window);const P3=document.getElementById("root"),O3=h1(P3);function M3(){return M.useEffect(()=>{F3.init({duration:800,once:!0})},[]),i.createElement(B3,null)}O3.render(i.createElement(M3,null));
