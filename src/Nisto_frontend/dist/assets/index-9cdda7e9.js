(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var $i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hg={exports:{}},qc={},pg={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _a=Symbol.for("react.element"),Ow=Symbol.for("react.portal"),Mw=Symbol.for("react.fragment"),Uw=Symbol.for("react.strict_mode"),zw=Symbol.for("react.profiler"),Vw=Symbol.for("react.provider"),Ww=Symbol.for("react.context"),$w=Symbol.for("react.forward_ref"),Hw=Symbol.for("react.suspense"),Iw=Symbol.for("react.memo"),Gw=Symbol.for("react.lazy"),H0=Symbol.iterator;function qw(e){return e===null||typeof e!="object"?null:(e=H0&&e[H0]||e["@@iterator"],typeof e=="function"?e:null)}var mg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gg=Object.assign,yg={};function so(e,t,r){this.props=e,this.context=t,this.refs=yg,this.updater=r||mg}so.prototype.isReactComponent={};so.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};so.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xg(){}xg.prototype=so.prototype;function ph(e,t,r){this.props=e,this.context=t,this.refs=yg,this.updater=r||mg}var mh=ph.prototype=new xg;mh.constructor=ph;gg(mh,so.prototype);mh.isPureReactComponent=!0;var I0=Array.isArray,vg=Object.prototype.hasOwnProperty,gh={current:null},wg={key:!0,ref:!0,__self:!0,__source:!0};function bg(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)vg.call(t,n)&&!wg.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:_a,type:e,key:o,ref:a,props:i,_owner:gh.current}}function Kw(e,t){return{$$typeof:_a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yh(e){return typeof e=="object"&&e!==null&&e.$$typeof===_a}function Yw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var G0=/\/+/g;function Hu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yw(""+e.key):t.toString(36)}function gl(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case _a:case Ow:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Hu(a,0):n,I0(i)?(r="",e!=null&&(r=e.replace(G0,"$&/")+"/"),gl(i,t,r,"",function(u){return u})):i!=null&&(yh(i)&&(i=Kw(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(G0,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",I0(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Hu(o,l);a+=gl(o,t,r,c,i)}else if(c=qw(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Hu(o,l++),a+=gl(o,t,r,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function $a(e,t,r){if(e==null)return e;var n=[],i=0;return gl(e,n,"","",function(o){return t.call(r,o,i++)}),n}function Qw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lt={current:null},yl={transition:null},Zw={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:yl,ReactCurrentOwner:gh};function _g(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:$a,forEach:function(e,t,r){$a(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $a(e,function(){t++}),t},toArray:function(e){return $a(e,function(t){return t})||[]},only:function(e){if(!yh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ve.Component=so;Ve.Fragment=Mw;Ve.Profiler=zw;Ve.PureComponent=ph;Ve.StrictMode=Uw;Ve.Suspense=Hw;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zw;Ve.act=_g;Ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gg({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=gh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)vg.call(t,c)&&!wg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:_a,type:e.type,key:i,ref:o,props:n,_owner:a}};Ve.createContext=function(e){return e={$$typeof:Ww,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vw,_context:e},e.Consumer=e};Ve.createElement=bg;Ve.createFactory=function(e){var t=bg.bind(null,e);return t.type=e,t};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(e){return{$$typeof:$w,render:e}};Ve.isValidElement=yh;Ve.lazy=function(e){return{$$typeof:Gw,_payload:{_status:-1,_result:e},_init:Qw}};Ve.memo=function(e,t){return{$$typeof:Iw,type:e,compare:t===void 0?null:t}};Ve.startTransition=function(e){var t=yl.transition;yl.transition={};try{e()}finally{yl.transition=t}};Ve.unstable_act=_g;Ve.useCallback=function(e,t){return Lt.current.useCallback(e,t)};Ve.useContext=function(e){return Lt.current.useContext(e)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(e){return Lt.current.useDeferredValue(e)};Ve.useEffect=function(e,t){return Lt.current.useEffect(e,t)};Ve.useId=function(){return Lt.current.useId()};Ve.useImperativeHandle=function(e,t,r){return Lt.current.useImperativeHandle(e,t,r)};Ve.useInsertionEffect=function(e,t){return Lt.current.useInsertionEffect(e,t)};Ve.useLayoutEffect=function(e,t){return Lt.current.useLayoutEffect(e,t)};Ve.useMemo=function(e,t){return Lt.current.useMemo(e,t)};Ve.useReducer=function(e,t,r){return Lt.current.useReducer(e,t,r)};Ve.useRef=function(e){return Lt.current.useRef(e)};Ve.useState=function(e){return Lt.current.useState(e)};Ve.useSyncExternalStore=function(e,t,r){return Lt.current.useSyncExternalStore(e,t,r)};Ve.useTransition=function(){return Lt.current.useTransition()};Ve.version="18.3.1";pg.exports=Ve;var M=pg.exports;const Ge=hh(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw=M,Jw=Symbol.for("react.element"),Lw=Symbol.for("react.fragment"),Dw=Object.prototype.hasOwnProperty,e2=Xw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t2={key:!0,ref:!0,__self:!0,__source:!0};function Eg(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Dw.call(t,n)&&!t2.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Jw,type:e,key:o,ref:a,props:i,_owner:e2.current}}qc.Fragment=Lw;qc.jsx=Eg;qc.jsxs=Eg;hg.exports=qc;var s=hg.exports,Sg={exports:{}},fr={},Ng={exports:{}},jg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,te){var he=Q.length;Q.push(te);e:for(;0<he;){var ce=he-1>>>1,ue=Q[ce];if(0<i(ue,te))Q[ce]=te,Q[he]=ue,he=ce;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var te=Q[0],he=Q.pop();if(he!==te){Q[0]=he;e:for(var ce=0,ue=Q.length,_e=ue>>>1;ce<_e;){var k=2*(ce+1)-1,ye=Q[k],ve=k+1,le=Q[ve];if(0>i(ye,he))ve<ue&&0>i(le,ye)?(Q[ce]=le,Q[ve]=he,ce=ve):(Q[ce]=ye,Q[k]=he,ce=k);else if(ve<ue&&0>i(le,he))Q[ce]=le,Q[ve]=he,ce=ve;else break e}}return te}function i(Q,te){var he=Q.sortIndex-te.sortIndex;return he!==0?he:Q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,g=null,f=3,p=!1,m=!1,j=!1,R=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Q){for(var te=r(u);te!==null;){if(te.callback===null)n(u);else if(te.startTime<=Q)n(u),te.sortIndex=te.expirationTime,t(c,te);else break;te=r(u)}}function O(Q){if(j=!1,_(Q),!m)if(r(c)!==null)m=!0,D(C);else{var te=r(u);te!==null&&ie(O,te.startTime-Q)}}function C(Q,te){m=!1,j&&(j=!1,S(F),F=-1),p=!0;var he=f;try{for(_(te),g=r(c);g!==null&&(!(g.expirationTime>te)||Q&&!I());){var ce=g.callback;if(typeof ce=="function"){g.callback=null,f=g.priorityLevel;var ue=ce(g.expirationTime<=te);te=e.unstable_now(),typeof ue=="function"?g.callback=ue:g===r(c)&&n(c),_(te)}else n(c);g=r(c)}if(g!==null)var _e=!0;else{var k=r(u);k!==null&&ie(O,k.startTime-te),_e=!1}return _e}finally{g=null,f=he,p=!1}}var W=!1,H=null,F=-1,J=5,U=-1;function I(){return!(e.unstable_now()-U<J)}function Y(){if(H!==null){var Q=e.unstable_now();U=Q;var te=!0;try{te=H(!0,Q)}finally{te?N():(W=!1,H=null)}}else W=!1}var N;if(typeof w=="function")N=function(){w(Y)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,G=P.port2;P.port1.onmessage=Y,N=function(){G.postMessage(null)}}else N=function(){R(Y,0)};function D(Q){H=Q,W||(W=!0,N())}function ie(Q,te){F=R(function(){Q(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,D(C))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Q){switch(f){case 1:case 2:case 3:var te=3;break;default:te=f}var he=f;f=te;try{return Q()}finally{f=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,te){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=f;f=Q;try{return te()}finally{f=he}},e.unstable_scheduleCallback=function(Q,te,he){var ce=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ce+he:ce):he=ce,Q){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=he+ue,Q={id:d++,callback:te,priorityLevel:Q,startTime:he,expirationTime:ue,sortIndex:-1},he>ce?(Q.sortIndex=he,t(u,Q),r(c)===null&&Q===r(u)&&(j?(S(F),F=-1):j=!0,ie(O,he-ce))):(Q.sortIndex=ue,t(c,Q),m||p||(m=!0,D(C))),Q},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(Q){var te=f;return function(){var he=f;f=te;try{return Q.apply(this,arguments)}finally{f=he}}}})(jg);Ng.exports=jg;var r2=Ng.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2=M,dr=r2;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tg=new Set,Zo={};function es(e,t){Ys(e,t),Ys(e+"Capture",t)}function Ys(e,t){for(Zo[e]=t,e=0;e<t.length;e++)Tg.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gd=Object.prototype.hasOwnProperty,i2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q0={},K0={};function s2(e){return Gd.call(K0,e)?!0:Gd.call(q0,e)?!1:i2.test(e)?K0[e]=!0:(q0[e]=!0,!1)}function o2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function a2(e,t,r,n){if(t===null||typeof t>"u"||o2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new Dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new Dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new Dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new Dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new Dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new Dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new Dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new Dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new Dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var xh=/[\-:]([a-z])/g;function vh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xh,vh);Ft[t]=new Dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xh,vh);Ft[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xh,vh);Ft[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new Dt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new Dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function wh(e,t,r,n){var i=Ft.hasOwnProperty(t)?Ft[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(a2(t,r,i,n)&&(r=null),n||i===null?s2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Rn=n2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ha=Symbol.for("react.element"),ws=Symbol.for("react.portal"),bs=Symbol.for("react.fragment"),bh=Symbol.for("react.strict_mode"),qd=Symbol.for("react.profiler"),kg=Symbol.for("react.provider"),Cg=Symbol.for("react.context"),_h=Symbol.for("react.forward_ref"),Kd=Symbol.for("react.suspense"),Yd=Symbol.for("react.suspense_list"),Eh=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),Ag=Symbol.for("react.offscreen"),Y0=Symbol.iterator;function po(e){return e===null||typeof e!="object"?null:(e=Y0&&e[Y0]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,Iu;function So(e){if(Iu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Iu=t&&t[1]||""}return`
`+Iu+e}var Gu=!1;function qu(e,t){if(!e||Gu)return"";Gu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Gu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?So(e):""}function l2(e){switch(e.tag){case 5:return So(e.type);case 16:return So("Lazy");case 13:return So("Suspense");case 19:return So("SuspenseList");case 0:case 2:case 15:return e=qu(e.type,!1),e;case 11:return e=qu(e.type.render,!1),e;case 1:return e=qu(e.type,!0),e;default:return""}}function Qd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bs:return"Fragment";case ws:return"Portal";case qd:return"Profiler";case bh:return"StrictMode";case Kd:return"Suspense";case Yd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cg:return(e.displayName||"Context")+".Consumer";case kg:return(e._context.displayName||"Context")+".Provider";case _h:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eh:return t=e.displayName||null,t!==null?t:Qd(e.type)||"Memo";case $n:t=e._payload,e=e._init;try{return Qd(e(t))}catch{}}return null}function c2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qd(t);case 8:return t===bh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function di(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u2(e){var t=Rg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ia(e){e._valueTracker||(e._valueTracker=u2(e))}function Bg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Rg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zd(e,t){var r=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Q0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=di(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fg(e,t){t=t.checked,t!=null&&wh(e,"checked",t,!1)}function Xd(e,t){Fg(e,t);var r=di(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jd(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jd(e,t.type,di(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Z0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jd(e,t,r){(t!=="number"||Dl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var No=Array.isArray;function Vs(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+di(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ld(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function X0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(No(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:di(r)}}function Pg(e,t){var r=di(t.value),n=di(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function J0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Og(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Og(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ga,Mg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ga=Ga||document.createElement("div"),Ga.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ga.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d2=["Webkit","ms","Moz","O"];Object.keys(Oo).forEach(function(e){d2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oo[t]=Oo[e]})});function Ug(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Oo.hasOwnProperty(e)&&Oo[e]?(""+t).trim():t+"px"}function zg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Ug(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var f2=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ef(e,t){if(t){if(f2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function tf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rf=null;function Sh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nf=null,Ws=null,$s=null;function L0(e){if(e=Na(e)){if(typeof nf!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=Xc(t),nf(e.stateNode,e.type,t))}}function Vg(e){Ws?$s?$s.push(e):$s=[e]:Ws=e}function Wg(){if(Ws){var e=Ws,t=$s;if($s=Ws=null,L0(e),t)for(e=0;e<t.length;e++)L0(t[e])}}function $g(e,t){return e(t)}function Hg(){}var Ku=!1;function Ig(e,t,r){if(Ku)return e(t,r);Ku=!0;try{return $g(e,t,r)}finally{Ku=!1,(Ws!==null||$s!==null)&&(Hg(),Wg())}}function Jo(e,t){var r=e.stateNode;if(r===null)return null;var n=Xc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var sf=!1;if(Nn)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){sf=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{sf=!1}function h2(e,t,r,n,i,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Mo=!1,ec=null,tc=!1,of=null,p2={onError:function(e){Mo=!0,ec=e}};function m2(e,t,r,n,i,o,a,l,c){Mo=!1,ec=null,h2.apply(p2,arguments)}function g2(e,t,r,n,i,o,a,l,c){if(m2.apply(this,arguments),Mo){if(Mo){var u=ec;Mo=!1,ec=null}else throw Error(ge(198));tc||(tc=!0,of=u)}}function ts(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Gg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function D0(e){if(ts(e)!==e)throw Error(ge(188))}function y2(e){var t=e.alternate;if(!t){if(t=ts(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return D0(i),e;if(o===n)return D0(i),t;o=o.sibling}throw Error(ge(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function qg(e){return e=y2(e),e!==null?Kg(e):null}function Kg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kg(e);if(t!==null)return t;e=e.sibling}return null}var Yg=dr.unstable_scheduleCallback,ep=dr.unstable_cancelCallback,x2=dr.unstable_shouldYield,v2=dr.unstable_requestPaint,ht=dr.unstable_now,w2=dr.unstable_getCurrentPriorityLevel,Nh=dr.unstable_ImmediatePriority,Qg=dr.unstable_UserBlockingPriority,rc=dr.unstable_NormalPriority,b2=dr.unstable_LowPriority,Zg=dr.unstable_IdlePriority,Kc=null,en=null;function _2(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Kc,e,void 0,(e.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:N2,E2=Math.log,S2=Math.LN2;function N2(e){return e>>>=0,e===0?32:31-(E2(e)/S2|0)|0}var qa=64,Ka=4194304;function jo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=jo(l):(o&=a,o!==0&&(n=jo(o)))}else a=r&~i,a!==0?n=jo(a):o!==0&&(n=jo(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pr(t),i=1<<r,n|=e[r],t&=~i;return n}function j2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Pr(o),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=j2(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function af(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xg(){var e=qa;return qa<<=1,!(qa&4194240)&&(qa=64),e}function Yu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ea(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pr(t),e[t]=r}function k2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Pr(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function jh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ye=0;function Jg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lg,Th,Dg,ey,ty,lf=!1,Ya=[],Dn=null,ei=null,ti=null,Lo=new Map,Do=new Map,Yn=[],C2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tp(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(t.pointerId)}}function go(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Na(t),t!==null&&Th(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function A2(e,t,r,n,i){switch(t){case"focusin":return Dn=go(Dn,e,t,r,n,i),!0;case"dragenter":return ei=go(ei,e,t,r,n,i),!0;case"mouseover":return ti=go(ti,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Lo.set(o,go(Lo.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Do.set(o,go(Do.get(o)||null,e,t,r,n,i)),!0}return!1}function ry(e){var t=Ai(e.target);if(t!==null){var r=ts(t);if(r!==null){if(t=r.tag,t===13){if(t=Gg(r),t!==null){e.blockedOn=t,ty(e.priority,function(){Dg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);rf=n,r.target.dispatchEvent(n),rf=null}else return t=Na(r),t!==null&&Th(t),e.blockedOn=r,!1;t.shift()}return!0}function rp(e,t,r){xl(e)&&r.delete(t)}function R2(){lf=!1,Dn!==null&&xl(Dn)&&(Dn=null),ei!==null&&xl(ei)&&(ei=null),ti!==null&&xl(ti)&&(ti=null),Lo.forEach(rp),Do.forEach(rp)}function yo(e,t){e.blockedOn===t&&(e.blockedOn=null,lf||(lf=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,R2)))}function ea(e){function t(i){return yo(i,e)}if(0<Ya.length){yo(Ya[0],e);for(var r=1;r<Ya.length;r++){var n=Ya[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Dn!==null&&yo(Dn,e),ei!==null&&yo(ei,e),ti!==null&&yo(ti,e),Lo.forEach(t),Do.forEach(t),r=0;r<Yn.length;r++)n=Yn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Yn.length&&(r=Yn[0],r.blockedOn===null);)ry(r),r.blockedOn===null&&Yn.shift()}var Hs=Rn.ReactCurrentBatchConfig,ic=!0;function B2(e,t,r,n){var i=Ye,o=Hs.transition;Hs.transition=null;try{Ye=1,kh(e,t,r,n)}finally{Ye=i,Hs.transition=o}}function F2(e,t,r,n){var i=Ye,o=Hs.transition;Hs.transition=null;try{Ye=4,kh(e,t,r,n)}finally{Ye=i,Hs.transition=o}}function kh(e,t,r,n){if(ic){var i=cf(e,t,r,n);if(i===null)nd(e,t,n,sc,r),tp(e,n);else if(A2(i,e,t,r,n))n.stopPropagation();else if(tp(e,n),t&4&&-1<C2.indexOf(e)){for(;i!==null;){var o=Na(i);if(o!==null&&Lg(o),o=cf(e,t,r,n),o===null&&nd(e,t,n,sc,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else nd(e,t,n,null,r)}}var sc=null;function cf(e,t,r,n){if(sc=null,e=Sh(n),e=Ai(e),e!==null)if(t=ts(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Gg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sc=e,null}function ny(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w2()){case Nh:return 1;case Qg:return 4;case rc:case b2:return 16;case Zg:return 536870912;default:return 16}default:return 16}}var Xn=null,Ch=null,vl=null;function iy(){if(vl)return vl;var e,t=Ch,r=t.length,n,i="value"in Xn?Xn.value:Xn.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return vl=i.slice(e,1<n?1-n:void 0)}function wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qa(){return!0}function np(){return!1}function hr(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qa:np,this.isPropagationStopped=np,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),t}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ah=hr(oo),Sa=ot({},oo,{view:0,detail:0}),P2=hr(Sa),Qu,Zu,xo,Yc=ot({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xo&&(xo&&e.type==="mousemove"?(Qu=e.screenX-xo.screenX,Zu=e.screenY-xo.screenY):Zu=Qu=0,xo=e),Qu)},movementY:function(e){return"movementY"in e?e.movementY:Zu}}),ip=hr(Yc),O2=ot({},Yc,{dataTransfer:0}),M2=hr(O2),U2=ot({},Sa,{relatedTarget:0}),Xu=hr(U2),z2=ot({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),V2=hr(z2),W2=ot({},oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$2=hr(W2),H2=ot({},oo,{data:0}),sp=hr(H2),I2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=q2[e])?!!t[e]:!1}function Rh(){return K2}var Y2=ot({},Sa,{key:function(e){if(e.key){var t=I2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?G2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rh,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q2=hr(Y2),Z2=ot({},Yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=hr(Z2),X2=ot({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rh}),J2=hr(X2),L2=ot({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),D2=hr(L2),eb=ot({},Yc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tb=hr(eb),rb=[9,13,27,32],Bh=Nn&&"CompositionEvent"in window,Uo=null;Nn&&"documentMode"in document&&(Uo=document.documentMode);var nb=Nn&&"TextEvent"in window&&!Uo,sy=Nn&&(!Bh||Uo&&8<Uo&&11>=Uo),ap=String.fromCharCode(32),lp=!1;function oy(e,t){switch(e){case"keyup":return rb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ay(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function ib(e,t){switch(e){case"compositionend":return ay(t);case"keypress":return t.which!==32?null:(lp=!0,ap);case"textInput":return e=t.data,e===ap&&lp?null:e;default:return null}}function sb(e,t){if(_s)return e==="compositionend"||!Bh&&oy(e,t)?(e=iy(),vl=Ch=Xn=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sy&&t.locale!=="ko"?null:t.data;default:return null}}var ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ob[e.type]:t==="textarea"}function ly(e,t,r,n){Vg(n),t=oc(t,"onChange"),0<t.length&&(r=new Ah("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zo=null,ta=null;function ab(e){vy(e,0)}function Qc(e){var t=Ns(e);if(Bg(t))return e}function lb(e,t){if(e==="change")return t}var cy=!1;if(Nn){var Ju;if(Nn){var Lu="oninput"in document;if(!Lu){var up=document.createElement("div");up.setAttribute("oninput","return;"),Lu=typeof up.oninput=="function"}Ju=Lu}else Ju=!1;cy=Ju&&(!document.documentMode||9<document.documentMode)}function dp(){zo&&(zo.detachEvent("onpropertychange",uy),ta=zo=null)}function uy(e){if(e.propertyName==="value"&&Qc(ta)){var t=[];ly(t,ta,e,Sh(e)),Ig(ab,t)}}function cb(e,t,r){e==="focusin"?(dp(),zo=t,ta=r,zo.attachEvent("onpropertychange",uy)):e==="focusout"&&dp()}function ub(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qc(ta)}function db(e,t){if(e==="click")return Qc(t)}function fb(e,t){if(e==="input"||e==="change")return Qc(t)}function hb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ur=typeof Object.is=="function"?Object.is:hb;function ra(e,t){if(Ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Gd.call(t,i)||!Ur(e[i],t[i]))return!1}return!0}function fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hp(e,t){var r=fp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fp(r)}}function dy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fy(){for(var e=window,t=Dl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Dl(e.document)}return t}function Fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pb(e){var t=fy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dy(r.ownerDocument.documentElement,r)){if(n!==null&&Fh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=hp(r,o);var a=hp(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mb=Nn&&"documentMode"in document&&11>=document.documentMode,Es=null,uf=null,Vo=null,df=!1;function pp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;df||Es==null||Es!==Dl(n)||(n=Es,"selectionStart"in n&&Fh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vo&&ra(Vo,n)||(Vo=n,n=oc(uf,"onSelect"),0<n.length&&(t=new Ah("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Es)))}function Za(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ss={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionend:Za("Transition","TransitionEnd")},Du={},hy={};Nn&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Zc(e){if(Du[e])return Du[e];if(!Ss[e])return e;var t=Ss[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hy)return Du[e]=t[r];return e}var py=Zc("animationend"),my=Zc("animationiteration"),gy=Zc("animationstart"),yy=Zc("transitionend"),xy=new Map,mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(e,t){xy.set(e,t),es(t,[e])}for(var ed=0;ed<mp.length;ed++){var td=mp[ed],gb=td.toLowerCase(),yb=td[0].toUpperCase()+td.slice(1);hi(gb,"on"+yb)}hi(py,"onAnimationEnd");hi(my,"onAnimationIteration");hi(gy,"onAnimationStart");hi("dblclick","onDoubleClick");hi("focusin","onFocus");hi("focusout","onBlur");hi(yy,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function gp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,g2(n,t,void 0,e),e.currentTarget=null}function vy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&i.isPropagationStopped())break e;gp(i,l,u),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&i.isPropagationStopped())break e;gp(i,l,u),o=c}}}if(tc)throw e=of,tc=!1,of=null,e}function Le(e,t){var r=t[gf];r===void 0&&(r=t[gf]=new Set);var n=e+"__bubble";r.has(n)||(wy(t,e,2,!1),r.add(n))}function rd(e,t,r){var n=0;t&&(n|=4),wy(r,e,n,t)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function na(e){if(!e[Xa]){e[Xa]=!0,Tg.forEach(function(r){r!=="selectionchange"&&(xb.has(r)||rd(r,!1,e),rd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xa]||(t[Xa]=!0,rd("selectionchange",!1,t))}}function wy(e,t,r,n){switch(ny(t)){case 1:var i=B2;break;case 4:i=F2;break;default:i=kh}r=i.bind(null,t,r,e),i=void 0,!sf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function nd(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Ai(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}Ig(function(){var u=o,d=Sh(r),g=[];e:{var f=xy.get(e);if(f!==void 0){var p=Ah,m=e;switch(e){case"keypress":if(wl(r)===0)break e;case"keydown":case"keyup":p=Q2;break;case"focusin":m="focus",p=Xu;break;case"focusout":m="blur",p=Xu;break;case"beforeblur":case"afterblur":p=Xu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=M2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=J2;break;case py:case my:case gy:p=V2;break;case yy:p=D2;break;case"scroll":p=P2;break;case"wheel":p=tb;break;case"copy":case"cut":case"paste":p=$2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=op}var j=(t&4)!==0,R=!j&&e==="scroll",S=j?f!==null?f+"Capture":null:f;j=[];for(var w=u,_;w!==null;){_=w;var O=_.stateNode;if(_.tag===5&&O!==null&&(_=O,S!==null&&(O=Jo(w,S),O!=null&&j.push(ia(w,O,_)))),R)break;w=w.return}0<j.length&&(f=new p(f,m,null,r,d),g.push({event:f,listeners:j}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==rf&&(m=r.relatedTarget||r.fromElement)&&(Ai(m)||m[jn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Ai(m):null,m!==null&&(R=ts(m),m!==R||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(j=ip,O="onMouseLeave",S="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(j=op,O="onPointerLeave",S="onPointerEnter",w="pointer"),R=p==null?f:Ns(p),_=m==null?f:Ns(m),f=new j(O,w+"leave",p,r,d),f.target=R,f.relatedTarget=_,O=null,Ai(d)===u&&(j=new j(S,w+"enter",m,r,d),j.target=_,j.relatedTarget=R,O=j),R=O,p&&m)t:{for(j=p,S=m,w=0,_=j;_;_=is(_))w++;for(_=0,O=S;O;O=is(O))_++;for(;0<w-_;)j=is(j),w--;for(;0<_-w;)S=is(S),_--;for(;w--;){if(j===S||S!==null&&j===S.alternate)break t;j=is(j),S=is(S)}j=null}else j=null;p!==null&&yp(g,f,p,j,!1),m!==null&&R!==null&&yp(g,R,m,j,!0)}}e:{if(f=u?Ns(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=lb;else if(cp(f))if(cy)C=fb;else{C=ub;var W=cb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=db);if(C&&(C=C(e,u))){ly(g,C,r,d);break e}W&&W(e,f,u),e==="focusout"&&(W=f._wrapperState)&&W.controlled&&f.type==="number"&&Jd(f,"number",f.value)}switch(W=u?Ns(u):window,e){case"focusin":(cp(W)||W.contentEditable==="true")&&(Es=W,uf=u,Vo=null);break;case"focusout":Vo=uf=Es=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,pp(g,r,d);break;case"selectionchange":if(mb)break;case"keydown":case"keyup":pp(g,r,d)}var H;if(Bh)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else _s?oy(e,r)&&(F="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(sy&&r.locale!=="ko"&&(_s||F!=="onCompositionStart"?F==="onCompositionEnd"&&_s&&(H=iy()):(Xn=d,Ch="value"in Xn?Xn.value:Xn.textContent,_s=!0)),W=oc(u,F),0<W.length&&(F=new sp(F,e,null,r,d),g.push({event:F,listeners:W}),H?F.data=H:(H=ay(r),H!==null&&(F.data=H)))),(H=nb?ib(e,r):sb(e,r))&&(u=oc(u,"onBeforeInput"),0<u.length&&(d=new sp("onBeforeInput","beforeinput",null,r,d),g.push({event:d,listeners:u}),d.data=H))}vy(g,t)})}function ia(e,t,r){return{instance:e,listener:t,currentTarget:r}}function oc(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Jo(e,r),o!=null&&n.unshift(ia(e,o,i)),o=Jo(e,t),o!=null&&n.push(ia(e,o,i))),e=e.return}return n}function is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yp(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Jo(r,o),c!=null&&a.unshift(ia(r,c,l))):i||(c=Jo(r,o),c!=null&&a.push(ia(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var vb=/\r\n?/g,wb=/\u0000|\uFFFD/g;function xp(e){return(typeof e=="string"?e:""+e).replace(vb,`
`).replace(wb,"")}function Ja(e,t,r){if(t=xp(t),xp(e)!==t&&r)throw Error(ge(425))}function ac(){}var ff=null,hf=null;function pf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mf=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(e){return vp.resolve(null).then(e).catch(Eb)}:mf;function Eb(e){setTimeout(function(){throw e})}function id(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),ea(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ea(t)}function ri(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Jr="__reactFiber$"+ao,sa="__reactProps$"+ao,jn="__reactContainer$"+ao,gf="__reactEvents$"+ao,Sb="__reactListeners$"+ao,Nb="__reactHandles$"+ao;function Ai(e){var t=e[Jr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jn]||r[Jr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=wp(e);e!==null;){if(r=e[Jr])return r;e=wp(e)}return t}e=r,r=e.parentNode}return null}function Na(e){return e=e[Jr]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ns(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function Xc(e){return e[sa]||null}var yf=[],js=-1;function pi(e){return{current:e}}function De(e){0>js||(e.current=yf[js],yf[js]=null,js--)}function Je(e,t){js++,yf[js]=e.current,e.current=t}var fi={},Ht=pi(fi),ir=pi(!1),Hi=fi;function Qs(e,t){var r=e.type.contextTypes;if(!r)return fi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function sr(e){return e=e.childContextTypes,e!=null}function lc(){De(ir),De(Ht)}function bp(e,t,r){if(Ht.current!==fi)throw Error(ge(168));Je(Ht,t),Je(ir,r)}function by(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ge(108,c2(e)||"Unknown",i));return ot({},r,n)}function cc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,Hi=Ht.current,Je(Ht,e),Je(ir,ir.current),!0}function _p(e,t,r){var n=e.stateNode;if(!n)throw Error(ge(169));r?(e=by(e,t,Hi),n.__reactInternalMemoizedMergedChildContext=e,De(ir),De(Ht),Je(Ht,e)):De(ir),Je(ir,r)}var hn=null,Jc=!1,sd=!1;function _y(e){hn===null?hn=[e]:hn.push(e)}function jb(e){Jc=!0,_y(e)}function mi(){if(!sd&&hn!==null){sd=!0;var e=0,t=Ye;try{var r=hn;for(Ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}hn=null,Jc=!1}catch(i){throw hn!==null&&(hn=hn.slice(e+1)),Yg(Nh,mi),i}finally{Ye=t,sd=!1}}return null}var Ts=[],ks=0,uc=null,dc=0,gr=[],yr=0,Ii=null,gn=1,yn="";function _i(e,t){Ts[ks++]=dc,Ts[ks++]=uc,uc=e,dc=t}function Ey(e,t,r){gr[yr++]=gn,gr[yr++]=yn,gr[yr++]=Ii,Ii=e;var n=gn;e=yn;var i=32-Pr(n)-1;n&=~(1<<i),r+=1;var o=32-Pr(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,gn=1<<32-Pr(t)+i|r<<i|n,yn=o+e}else gn=1<<o|r<<i|n,yn=e}function Ph(e){e.return!==null&&(_i(e,1),Ey(e,1,0))}function Oh(e){for(;e===uc;)uc=Ts[--ks],Ts[ks]=null,dc=Ts[--ks],Ts[ks]=null;for(;e===Ii;)Ii=gr[--yr],gr[yr]=null,yn=gr[--yr],gr[yr]=null,gn=gr[--yr],gr[yr]=null}var ur=null,cr=null,rt=!1,Rr=null;function Sy(e,t){var r=vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ep(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ur=e,cr=ri(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ur=e,cr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ii!==null?{id:gn,overflow:yn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ur=e,cr=null,!0):!1;default:return!1}}function xf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vf(e){if(rt){var t=cr;if(t){var r=t;if(!Ep(e,t)){if(xf(e))throw Error(ge(418));t=ri(r.nextSibling);var n=ur;t&&Ep(e,t)?Sy(n,r):(e.flags=e.flags&-4097|2,rt=!1,ur=e)}}else{if(xf(e))throw Error(ge(418));e.flags=e.flags&-4097|2,rt=!1,ur=e}}}function Sp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ur=e}function La(e){if(e!==ur)return!1;if(!rt)return Sp(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pf(e.type,e.memoizedProps)),t&&(t=cr)){if(xf(e))throw Ny(),Error(ge(418));for(;t;)Sy(e,t),t=ri(t.nextSibling)}if(Sp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){cr=ri(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}cr=null}}else cr=ur?ri(e.stateNode.nextSibling):null;return!0}function Ny(){for(var e=cr;e;)e=ri(e.nextSibling)}function Zs(){cr=ur=null,rt=!1}function Mh(e){Rr===null?Rr=[e]:Rr.push(e)}var Tb=Rn.ReactCurrentBatchConfig;function vo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function Da(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Np(e){var t=e._init;return t(e._payload)}function jy(e){function t(S,w){if(e){var _=S.deletions;_===null?(S.deletions=[w],S.flags|=16):_.push(w)}}function r(S,w){if(!e)return null;for(;w!==null;)t(S,w),w=w.sibling;return null}function n(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(S,w){return S=oi(S,w),S.index=0,S.sibling=null,S}function o(S,w,_){return S.index=_,e?(_=S.alternate,_!==null?(_=_.index,_<w?(S.flags|=2,w):_):(S.flags|=2,w)):(S.flags|=1048576,w)}function a(S){return e&&S.alternate===null&&(S.flags|=2),S}function l(S,w,_,O){return w===null||w.tag!==6?(w=fd(_,S.mode,O),w.return=S,w):(w=i(w,_),w.return=S,w)}function c(S,w,_,O){var C=_.type;return C===bs?d(S,w,_.props.children,O,_.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$n&&Np(C)===w.type)?(O=i(w,_.props),O.ref=vo(S,w,_),O.return=S,O):(O=Tl(_.type,_.key,_.props,null,S.mode,O),O.ref=vo(S,w,_),O.return=S,O)}function u(S,w,_,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=hd(_,S.mode,O),w.return=S,w):(w=i(w,_.children||[]),w.return=S,w)}function d(S,w,_,O,C){return w===null||w.tag!==7?(w=Ui(_,S.mode,O,C),w.return=S,w):(w=i(w,_),w.return=S,w)}function g(S,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=fd(""+w,S.mode,_),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ha:return _=Tl(w.type,w.key,w.props,null,S.mode,_),_.ref=vo(S,null,w),_.return=S,_;case ws:return w=hd(w,S.mode,_),w.return=S,w;case $n:var O=w._init;return g(S,O(w._payload),_)}if(No(w)||po(w))return w=Ui(w,S.mode,_,null),w.return=S,w;Da(S,w)}return null}function f(S,w,_,O){var C=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:l(S,w,""+_,O);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ha:return _.key===C?c(S,w,_,O):null;case ws:return _.key===C?u(S,w,_,O):null;case $n:return C=_._init,f(S,w,C(_._payload),O)}if(No(_)||po(_))return C!==null?null:d(S,w,_,O,null);Da(S,_)}return null}function p(S,w,_,O,C){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(_)||null,l(w,S,""+O,C);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ha:return S=S.get(O.key===null?_:O.key)||null,c(w,S,O,C);case ws:return S=S.get(O.key===null?_:O.key)||null,u(w,S,O,C);case $n:var W=O._init;return p(S,w,_,W(O._payload),C)}if(No(O)||po(O))return S=S.get(_)||null,d(w,S,O,C,null);Da(w,O)}return null}function m(S,w,_,O){for(var C=null,W=null,H=w,F=w=0,J=null;H!==null&&F<_.length;F++){H.index>F?(J=H,H=null):J=H.sibling;var U=f(S,H,_[F],O);if(U===null){H===null&&(H=J);break}e&&H&&U.alternate===null&&t(S,H),w=o(U,w,F),W===null?C=U:W.sibling=U,W=U,H=J}if(F===_.length)return r(S,H),rt&&_i(S,F),C;if(H===null){for(;F<_.length;F++)H=g(S,_[F],O),H!==null&&(w=o(H,w,F),W===null?C=H:W.sibling=H,W=H);return rt&&_i(S,F),C}for(H=n(S,H);F<_.length;F++)J=p(H,S,F,_[F],O),J!==null&&(e&&J.alternate!==null&&H.delete(J.key===null?F:J.key),w=o(J,w,F),W===null?C=J:W.sibling=J,W=J);return e&&H.forEach(function(I){return t(S,I)}),rt&&_i(S,F),C}function j(S,w,_,O){var C=po(_);if(typeof C!="function")throw Error(ge(150));if(_=C.call(_),_==null)throw Error(ge(151));for(var W=C=null,H=w,F=w=0,J=null,U=_.next();H!==null&&!U.done;F++,U=_.next()){H.index>F?(J=H,H=null):J=H.sibling;var I=f(S,H,U.value,O);if(I===null){H===null&&(H=J);break}e&&H&&I.alternate===null&&t(S,H),w=o(I,w,F),W===null?C=I:W.sibling=I,W=I,H=J}if(U.done)return r(S,H),rt&&_i(S,F),C;if(H===null){for(;!U.done;F++,U=_.next())U=g(S,U.value,O),U!==null&&(w=o(U,w,F),W===null?C=U:W.sibling=U,W=U);return rt&&_i(S,F),C}for(H=n(S,H);!U.done;F++,U=_.next())U=p(H,S,F,U.value,O),U!==null&&(e&&U.alternate!==null&&H.delete(U.key===null?F:U.key),w=o(U,w,F),W===null?C=U:W.sibling=U,W=U);return e&&H.forEach(function(Y){return t(S,Y)}),rt&&_i(S,F),C}function R(S,w,_,O){if(typeof _=="object"&&_!==null&&_.type===bs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ha:e:{for(var C=_.key,W=w;W!==null;){if(W.key===C){if(C=_.type,C===bs){if(W.tag===7){r(S,W.sibling),w=i(W,_.props.children),w.return=S,S=w;break e}}else if(W.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$n&&Np(C)===W.type){r(S,W.sibling),w=i(W,_.props),w.ref=vo(S,W,_),w.return=S,S=w;break e}r(S,W);break}else t(S,W);W=W.sibling}_.type===bs?(w=Ui(_.props.children,S.mode,O,_.key),w.return=S,S=w):(O=Tl(_.type,_.key,_.props,null,S.mode,O),O.ref=vo(S,w,_),O.return=S,S=O)}return a(S);case ws:e:{for(W=_.key;w!==null;){if(w.key===W)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(S,w.sibling),w=i(w,_.children||[]),w.return=S,S=w;break e}else{r(S,w);break}else t(S,w);w=w.sibling}w=hd(_,S.mode,O),w.return=S,S=w}return a(S);case $n:return W=_._init,R(S,w,W(_._payload),O)}if(No(_))return m(S,w,_,O);if(po(_))return j(S,w,_,O);Da(S,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(S,w.sibling),w=i(w,_),w.return=S,S=w):(r(S,w),w=fd(_,S.mode,O),w.return=S,S=w),a(S)):r(S,w)}return R}var Xs=jy(!0),Ty=jy(!1),fc=pi(null),hc=null,Cs=null,Uh=null;function zh(){Uh=Cs=hc=null}function Vh(e){var t=fc.current;De(fc),e._currentValue=t}function wf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Is(e,t){hc=e,Uh=Cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rr=!0),e.firstContext=null)}function br(e){var t=e._currentValue;if(Uh!==e)if(e={context:e,memoizedValue:t,next:null},Cs===null){if(hc===null)throw Error(ge(308));Cs=e,hc.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var Ri=null;function Wh(e){Ri===null?Ri=[e]:Ri.push(e)}function ky(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Wh(t)):(r.next=i.next,i.next=r),t.interleaved=r,Tn(e,n)}function Tn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hn=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ni(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,He&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Tn(e,r)}return i=n.interleaved,i===null?(t.next=t,Wh(n)):(t.next=i.next,i.next=t),n.interleaved=t,Tn(e,r)}function bl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jh(e,r)}}function jp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pc(e,t,r,n){var i=e.updateQueue;Hn=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var g=i.baseState;a=0,d=u=c=null,l=o;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,j=l;switch(f=t,p=r,j.tag){case 1:if(m=j.payload,typeof m=="function"){g=m.call(p,g,f);break e}g=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=j.payload,f=typeof m=="function"?m.call(p,g,f):m,f==null)break e;g=ot({},g,f);break e;case 2:Hn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=g):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(c=g),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);qi|=a,e.lanes=a,e.memoizedState=g}}function Tp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ge(191,i));i.call(n)}}}var ja={},tn=pi(ja),oa=pi(ja),aa=pi(ja);function Bi(e){if(e===ja)throw Error(ge(174));return e}function Hh(e,t){switch(Je(aa,t),Je(oa,e),Je(tn,ja),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dd(t,e)}De(tn),Je(tn,t)}function Js(){De(tn),De(oa),De(aa)}function Ay(e){Bi(aa.current);var t=Bi(tn.current),r=Dd(t,e.type);t!==r&&(Je(oa,e),Je(tn,r))}function Ih(e){oa.current===e&&(De(tn),De(oa))}var nt=pi(0);function mc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var od=[];function Gh(){for(var e=0;e<od.length;e++)od[e]._workInProgressVersionPrimary=null;od.length=0}var _l=Rn.ReactCurrentDispatcher,ad=Rn.ReactCurrentBatchConfig,Gi=0,it=null,vt=null,Nt=null,gc=!1,Wo=!1,la=0,kb=0;function Pt(){throw Error(ge(321))}function qh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ur(e[r],t[r]))return!1;return!0}function Kh(e,t,r,n,i,o){if(Gi=o,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_l.current=e===null||e.memoizedState===null?Bb:Fb,e=r(n,i),Wo){o=0;do{if(Wo=!1,la=0,25<=o)throw Error(ge(301));o+=1,Nt=vt=null,t.updateQueue=null,_l.current=Pb,e=r(n,i)}while(Wo)}if(_l.current=yc,t=vt!==null&&vt.next!==null,Gi=0,Nt=vt=it=null,gc=!1,t)throw Error(ge(300));return e}function Yh(){var e=la!==0;return la=0,e}function Qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?it.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function _r(){if(vt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=Nt===null?it.memoizedState:Nt.next;if(t!==null)Nt=t,vt=e;else{if(e===null)throw Error(ge(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Nt===null?it.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function ca(e,t){return typeof t=="function"?t(e):t}function ld(e){var t=_r(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=vt,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Gi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var g={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,a=n):c=c.next=g,it.lanes|=d,qi|=d}u=u.next}while(u!==null&&u!==o);c===null?a=n:c.next=l,Ur(n,t.memoizedState)||(rr=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,it.lanes|=o,qi|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cd(e){var t=_r(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Ur(o,t.memoizedState)||(rr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Ry(){}function By(e,t){var r=it,n=_r(),i=t(),o=!Ur(n.memoizedState,i);if(o&&(n.memoizedState=i,rr=!0),n=n.queue,Qh(Oy.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,ua(9,Py.bind(null,r,n,i,t),void 0,null),Tt===null)throw Error(ge(349));Gi&30||Fy(r,t,i)}return i}function Fy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Py(e,t,r,n){t.value=r,t.getSnapshot=n,My(t)&&Uy(e)}function Oy(e,t,r){return r(function(){My(t)&&Uy(e)})}function My(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ur(e,r)}catch{return!0}}function Uy(e){var t=Tn(e,1);t!==null&&Or(t,e,1,-1)}function kp(e){var t=Qr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t.queue=e,e=e.dispatch=Rb.bind(null,it,e),[t.memoizedState,e]}function ua(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function zy(){return _r().memoizedState}function El(e,t,r,n){var i=Qr();it.flags|=e,i.memoizedState=ua(1|t,r,void 0,n===void 0?null:n)}function Lc(e,t,r,n){var i=_r();n=n===void 0?null:n;var o=void 0;if(vt!==null){var a=vt.memoizedState;if(o=a.destroy,n!==null&&qh(n,a.deps)){i.memoizedState=ua(t,r,o,n);return}}it.flags|=e,i.memoizedState=ua(1|t,r,o,n)}function Cp(e,t){return El(8390656,8,e,t)}function Qh(e,t){return Lc(2048,8,e,t)}function Vy(e,t){return Lc(4,2,e,t)}function Wy(e,t){return Lc(4,4,e,t)}function $y(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hy(e,t,r){return r=r!=null?r.concat([e]):null,Lc(4,4,$y.bind(null,t,e),r)}function Zh(){}function Iy(e,t){var r=_r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Gy(e,t){var r=_r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qy(e,t,r){return Gi&21?(Ur(r,t)||(r=Xg(),it.lanes|=r,qi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rr=!0),e.memoizedState=r)}function Cb(e,t){var r=Ye;Ye=r!==0&&4>r?r:4,e(!0);var n=ad.transition;ad.transition={};try{e(!1),t()}finally{Ye=r,ad.transition=n}}function Ky(){return _r().memoizedState}function Ab(e,t,r){var n=si(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yy(e))Qy(t,r);else if(r=ky(e,t,r,n),r!==null){var i=Xt();Or(r,e,n,i),Zy(r,t,n)}}function Rb(e,t,r){var n=si(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yy(e))Qy(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(i.hasEagerState=!0,i.eagerState=l,Ur(l,a)){var c=t.interleaved;c===null?(i.next=i,Wh(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=ky(e,t,i,n),r!==null&&(i=Xt(),Or(r,e,n,i),Zy(r,t,n))}}function Yy(e){var t=e.alternate;return e===it||t!==null&&t===it}function Qy(e,t){Wo=gc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Zy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jh(e,r)}}var yc={readContext:br,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},Bb={readContext:br,useCallback:function(e,t){return Qr().memoizedState=[e,t===void 0?null:t],e},useContext:br,useEffect:Cp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,El(4194308,4,$y.bind(null,t,e),r)},useLayoutEffect:function(e,t){return El(4194308,4,e,t)},useInsertionEffect:function(e,t){return El(4,2,e,t)},useMemo:function(e,t){var r=Qr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ab.bind(null,it,e),[n.memoizedState,e]},useRef:function(e){var t=Qr();return e={current:e},t.memoizedState=e},useState:kp,useDebugValue:Zh,useDeferredValue:function(e){return Qr().memoizedState=e},useTransition:function(){var e=kp(!1),t=e[0];return e=Cb.bind(null,e[1]),Qr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=it,i=Qr();if(rt){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),Tt===null)throw Error(ge(349));Gi&30||Fy(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Cp(Oy.bind(null,n,o,e),[e]),n.flags|=2048,ua(9,Py.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Qr(),t=Tt.identifierPrefix;if(rt){var r=yn,n=gn;r=(n&~(1<<32-Pr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=la++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kb++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fb={readContext:br,useCallback:Iy,useContext:br,useEffect:Qh,useImperativeHandle:Hy,useInsertionEffect:Vy,useLayoutEffect:Wy,useMemo:Gy,useReducer:ld,useRef:zy,useState:function(){return ld(ca)},useDebugValue:Zh,useDeferredValue:function(e){var t=_r();return qy(t,vt.memoizedState,e)},useTransition:function(){var e=ld(ca)[0],t=_r().memoizedState;return[e,t]},useMutableSource:Ry,useSyncExternalStore:By,useId:Ky,unstable_isNewReconciler:!1},Pb={readContext:br,useCallback:Iy,useContext:br,useEffect:Qh,useImperativeHandle:Hy,useInsertionEffect:Vy,useLayoutEffect:Wy,useMemo:Gy,useReducer:cd,useRef:zy,useState:function(){return cd(ca)},useDebugValue:Zh,useDeferredValue:function(e){var t=_r();return vt===null?t.memoizedState=e:qy(t,vt.memoizedState,e)},useTransition:function(){var e=cd(ca)[0],t=_r().memoizedState;return[e,t]},useMutableSource:Ry,useSyncExternalStore:By,useId:Ky,unstable_isNewReconciler:!1};function kr(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dc={isMounted:function(e){return(e=e._reactInternals)?ts(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xt(),i=si(e),o=_n(n,i);o.payload=t,r!=null&&(o.callback=r),t=ni(e,o,i),t!==null&&(Or(t,e,i,n),bl(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xt(),i=si(e),o=_n(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=ni(e,o,i),t!==null&&(Or(t,e,i,n),bl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xt(),n=si(e),i=_n(r,n);i.tag=2,t!=null&&(i.callback=t),t=ni(e,i,n),t!==null&&(Or(t,e,n,r),bl(t,e,n))}};function Ap(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!ra(r,n)||!ra(i,o):!0}function Xy(e,t,r){var n=!1,i=fi,o=t.contextType;return typeof o=="object"&&o!==null?o=br(o):(i=sr(t)?Hi:Ht.current,n=t.contextTypes,o=(n=n!=null)?Qs(e,i):fi),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Rp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function _f(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},$h(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=br(o):(o=sr(t)?Hi:Ht.current,i.context=Qs(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(bf(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Dc.enqueueReplaceState(i,i.state,null),pc(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ls(e,t){try{var r="",n=t;do r+=l2(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ud(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ef(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ob=typeof WeakMap=="function"?WeakMap:Map;function Jy(e,t,r){r=_n(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){vc||(vc=!0,Ff=n),Ef(e,t)},r}function Ly(e,t,r){r=_n(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Ef(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Ef(e,t),typeof n!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Bp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ob;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Zb.bind(null,e,t,r),t.then(e,e))}function Fp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pp(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_n(-1,1),t.tag=2,ni(r,t,1))),r.lanes|=1),e)}var Mb=Rn.ReactCurrentOwner,rr=!1;function Qt(e,t,r,n){t.child=e===null?Ty(t,null,r,n):Xs(t,e.child,r,n)}function Op(e,t,r,n,i){r=r.render;var o=t.ref;return Is(t,i),n=Kh(e,t,r,n,o,i),r=Yh(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kn(e,t,i)):(rt&&r&&Ph(t),t.flags|=1,Qt(e,t,n,i),t.child)}function Mp(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!n0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Dy(e,t,o,n,i)):(e=Tl(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:ra,r(a,n)&&e.ref===t.ref)return kn(e,t,i)}return t.flags|=1,e=oi(o,n),e.ref=t.ref,e.return=t,t.child=e}function Dy(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(ra(o,n)&&e.ref===t.ref)if(rr=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(rr=!0);else return t.lanes=e.lanes,kn(e,t,i)}return Sf(e,t,r,n,i)}function e1(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Rs,ar),ar|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(Rs,ar),ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Je(Rs,ar),ar|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Je(Rs,ar),ar|=n;return Qt(e,t,i,r),t.child}function t1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sf(e,t,r,n,i){var o=sr(r)?Hi:Ht.current;return o=Qs(t,o),Is(t,i),r=Kh(e,t,r,n,o,i),n=Yh(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kn(e,t,i)):(rt&&n&&Ph(t),t.flags|=1,Qt(e,t,r,i),t.child)}function Up(e,t,r,n,i){if(sr(r)){var o=!0;cc(t)}else o=!1;if(Is(t,i),t.stateNode===null)Sl(e,t),Xy(t,r,n),_f(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=br(u):(u=sr(r)?Hi:Ht.current,u=Qs(t,u));var d=r.getDerivedStateFromProps,g=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Rp(t,a,n,u),Hn=!1;var f=t.memoizedState;a.state=f,pc(t,n,a,i),c=t.memoizedState,l!==n||f!==c||ir.current||Hn?(typeof d=="function"&&(bf(t,r,d,n),c=t.memoizedState),(l=Hn||Ap(t,r,l,n,f,c,u))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Cy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:kr(t.type,l),a.props=u,g=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=br(c):(c=sr(r)?Hi:Ht.current,c=Qs(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||f!==c)&&Rp(t,a,n,c),Hn=!1,f=t.memoizedState,a.state=f,pc(t,n,a,i);var m=t.memoizedState;l!==g||f!==m||ir.current||Hn?(typeof p=="function"&&(bf(t,r,p,n),m=t.memoizedState),(u=Hn||Ap(t,r,u,n,f,m,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),a.props=n,a.state=m,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Nf(e,t,r,n,o,i)}function Nf(e,t,r,n,i,o){t1(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&_p(t,r,!1),kn(e,t,o);n=t.stateNode,Mb.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Xs(t,e.child,null,o),t.child=Xs(t,null,l,o)):Qt(e,t,l,o),t.memoizedState=n.state,i&&_p(t,r,!0),t.child}function r1(e){var t=e.stateNode;t.pendingContext?bp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bp(e,t.context,!1),Hh(e,t.containerInfo)}function zp(e,t,r,n,i){return Zs(),Mh(i),t.flags|=256,Qt(e,t,r,n),t.child}var jf={dehydrated:null,treeContext:null,retryLane:0};function Tf(e){return{baseLanes:e,cachePool:null,transitions:null}}function n1(e,t,r){var n=t.pendingProps,i=nt.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Je(nt,i&1),e===null)return vf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=ru(a,n,0,null),e=Ui(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Tf(r),t.memoizedState=jf,e):Xh(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Ub(e,t,a,n,l,i,r);if(o){o=n.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=oi(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=oi(l,o):(o=Ui(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?Tf(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=jf,n}return o=e.child,e=o.sibling,n=oi(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Xh(e,t){return t=ru({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function el(e,t,r,n){return n!==null&&Mh(n),Xs(t,e.child,null,r),e=Xh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ub(e,t,r,n,i,o,a){if(r)return t.flags&256?(t.flags&=-257,n=ud(Error(ge(422))),el(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=ru({mode:"visible",children:n.children},i,0,null),o=Ui(o,i,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Xs(t,e.child,null,a),t.child.memoizedState=Tf(a),t.memoizedState=jf,o);if(!(t.mode&1))return el(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(ge(419)),n=ud(o,n,void 0),el(e,t,a,n)}if(l=(a&e.childLanes)!==0,rr||l){if(n=Tt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Tn(e,i),Or(n,e,i,-1))}return r0(),n=ud(Error(ge(421))),el(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Xb.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,cr=ri(i.nextSibling),ur=t,rt=!0,Rr=null,e!==null&&(gr[yr++]=gn,gr[yr++]=yn,gr[yr++]=Ii,gn=e.id,yn=e.overflow,Ii=t),t=Xh(t,n.children),t.flags|=4096,t)}function Vp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),wf(e.return,t,r)}function dd(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function i1(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Qt(e,t,n.children,r),n=nt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vp(e,r,t);else if(e.tag===19)Vp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Je(nt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&mc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),dd(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&mc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}dd(t,!0,r,null,o);break;case"together":dd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),qi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=oi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=oi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zb(e,t,r){switch(t.tag){case 3:r1(t),Zs();break;case 5:Ay(t);break;case 1:sr(t.type)&&cc(t);break;case 4:Hh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Je(fc,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Je(nt,nt.current&1),t.flags|=128,null):r&t.child.childLanes?n1(e,t,r):(Je(nt,nt.current&1),e=kn(e,t,r),e!==null?e.sibling:null);Je(nt,nt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return i1(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(nt,nt.current),n)break;return null;case 22:case 23:return t.lanes=0,e1(e,t,r)}return kn(e,t,r)}var s1,kf,o1,a1;s1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kf=function(){};o1=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Bi(tn.current);var o=null;switch(r){case"input":i=Zd(e,i),n=Zd(e,n),o=[];break;case"select":i=ot({},i,{value:void 0}),n=ot({},n,{value:void 0}),o=[];break;case"textarea":i=Ld(e,i),n=Ld(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ac)}ef(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};a1=function(e,t,r,n){r!==n&&(t.flags|=4)};function wo(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Vb(e,t,r){var n=t.pendingProps;switch(Oh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return sr(t.type)&&lc(),Ot(t),null;case 3:return n=t.stateNode,Js(),De(ir),De(Ht),Gh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(La(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rr!==null&&(Mf(Rr),Rr=null))),kf(e,t),Ot(t),null;case 5:Ih(t);var i=Bi(aa.current);if(r=t.type,e!==null&&t.stateNode!=null)o1(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ge(166));return Ot(t),null}if(e=Bi(tn.current),La(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Jr]=t,n[sa]=o,e=(t.mode&1)!==0,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(i=0;i<To.length;i++)Le(To[i],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Q0(n,o),Le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Le("invalid",n);break;case"textarea":X0(n,o),Le("invalid",n)}ef(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ja(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ja(n.textContent,l,e),i=["children",""+l]):Zo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Le("scroll",n)}switch(r){case"input":Ia(n),Z0(n,o,!0);break;case"textarea":Ia(n),J0(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ac)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Og(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Jr]=t,e[sa]=n,s1(e,t,!1,!1),t.stateNode=e;e:{switch(a=tf(r,n),r){case"dialog":Le("cancel",e),Le("close",e),i=n;break;case"iframe":case"object":case"embed":Le("load",e),i=n;break;case"video":case"audio":for(i=0;i<To.length;i++)Le(To[i],e);i=n;break;case"source":Le("error",e),i=n;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=n;break;case"details":Le("toggle",e),i=n;break;case"input":Q0(e,n),i=Zd(e,n),Le("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ot({},n,{value:void 0}),Le("invalid",e);break;case"textarea":X0(e,n),i=Ld(e,n),Le("invalid",e);break;default:i=n}ef(r,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?zg(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Mg(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Xo(e,c):typeof c=="number"&&Xo(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Zo.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Le("scroll",e):c!=null&&wh(e,o,c,a))}switch(r){case"input":Ia(e),Z0(e,n,!1);break;case"textarea":Ia(e),J0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+di(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Vs(e,!!n.multiple,o,!1):n.defaultValue!=null&&Vs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ac)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ot(t),null;case 6:if(e&&t.stateNode!=null)a1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ge(166));if(r=Bi(aa.current),Bi(tn.current),La(t)){if(n=t.stateNode,r=t.memoizedProps,n[Jr]=t,(o=n.nodeValue!==r)&&(e=ur,e!==null))switch(e.tag){case 3:Ja(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ja(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jr]=t,t.stateNode=n}return Ot(t),null;case 13:if(De(nt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&cr!==null&&t.mode&1&&!(t.flags&128))Ny(),Zs(),t.flags|=98560,o=!1;else if(o=La(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ge(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ge(317));o[Jr]=t}else Zs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ot(t),o=!1}else Rr!==null&&(Mf(Rr),Rr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?bt===0&&(bt=3):r0())),t.updateQueue!==null&&(t.flags|=4),Ot(t),null);case 4:return Js(),kf(e,t),e===null&&na(t.stateNode.containerInfo),Ot(t),null;case 10:return Vh(t.type._context),Ot(t),null;case 17:return sr(t.type)&&lc(),Ot(t),null;case 19:if(De(nt),o=t.memoizedState,o===null)return Ot(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)wo(o,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=mc(e),a!==null){for(t.flags|=128,wo(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Je(nt,nt.current&1|2),t.child}e=e.sibling}o.tail!==null&&ht()>Ds&&(t.flags|=128,n=!0,wo(o,!1),t.lanes=4194304)}else{if(!n)if(e=mc(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!rt)return Ot(t),null}else 2*ht()-o.renderingStartTime>Ds&&r!==1073741824&&(t.flags|=128,n=!0,wo(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ht(),t.sibling=null,r=nt.current,Je(nt,n?r&1|2:r&1),t):(Ot(t),null);case 22:case 23:return t0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ar&1073741824&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function Wb(e,t){switch(Oh(t),t.tag){case 1:return sr(t.type)&&lc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Js(),De(ir),De(Ht),Gh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ih(t),null;case 13:if(De(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));Zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(nt),null;case 4:return Js(),null;case 10:return Vh(t.type._context),null;case 22:case 23:return t0(),null;case 24:return null;default:return null}}var tl=!1,Wt=!1,$b=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function As(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ct(e,t,n)}else r.current=null}function Cf(e,t,r){try{r()}catch(n){ct(e,t,n)}}var Wp=!1;function Hb(e,t){if(ff=ic,e=fy(),Fh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,g=e,f=null;t:for(;;){for(var p;g!==r||i!==0&&g.nodeType!==3||(l=a+i),g!==o||n!==0&&g.nodeType!==3||(c=a+n),g.nodeType===3&&(a+=g.nodeValue.length),(p=g.firstChild)!==null;)f=g,g=p;for(;;){if(g===e)break t;if(f===r&&++u===i&&(l=a),f===o&&++d===n&&(c=a),(p=g.nextSibling)!==null)break;g=f,f=g.parentNode}g=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(hf={focusedElem:e,selectionRange:r},ic=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var j=m.memoizedProps,R=m.memoizedState,S=t.stateNode,w=S.getSnapshotBeforeUpdate(t.elementType===t.type?j:kr(t.type,j),R);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(O){ct(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return m=Wp,Wp=!1,m}function $o(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Cf(t,r,o)}i=i.next}while(i!==n)}}function eu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Af(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function l1(e){var t=e.alternate;t!==null&&(e.alternate=null,l1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jr],delete t[sa],delete t[gf],delete t[Sb],delete t[Nb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c1(e){return e.tag===5||e.tag===3||e.tag===4}function $p(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ac));else if(n!==4&&(e=e.child,e!==null))for(Rf(e,t,r),e=e.sibling;e!==null;)Rf(e,t,r),e=e.sibling}function Bf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Bf(e,t,r),e=e.sibling;e!==null;)Bf(e,t,r),e=e.sibling}var Ct=null,Ar=!1;function Pn(e,t,r){for(r=r.child;r!==null;)u1(e,t,r),r=r.sibling}function u1(e,t,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Kc,r)}catch{}switch(r.tag){case 5:Wt||As(r,t);case 6:var n=Ct,i=Ar;Ct=null,Pn(e,t,r),Ct=n,Ar=i,Ct!==null&&(Ar?(e=Ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ct.removeChild(r.stateNode));break;case 18:Ct!==null&&(Ar?(e=Ct,r=r.stateNode,e.nodeType===8?id(e.parentNode,r):e.nodeType===1&&id(e,r),ea(e)):id(Ct,r.stateNode));break;case 4:n=Ct,i=Ar,Ct=r.stateNode.containerInfo,Ar=!0,Pn(e,t,r),Ct=n,Ar=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Cf(r,t,a),i=i.next}while(i!==n)}Pn(e,t,r);break;case 1:if(!Wt&&(As(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ct(r,t,l)}Pn(e,t,r);break;case 21:Pn(e,t,r);break;case 22:r.mode&1?(Wt=(n=Wt)||r.memoizedState!==null,Pn(e,t,r),Wt=n):Pn(e,t,r);break;default:Pn(e,t,r)}}function Hp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $b),t.forEach(function(n){var i=Jb.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Sr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,Ar=!1;break e;case 3:Ct=l.stateNode.containerInfo,Ar=!0;break e;case 4:Ct=l.stateNode.containerInfo,Ar=!0;break e}l=l.return}if(Ct===null)throw Error(ge(160));u1(o,a,i),Ct=null,Ar=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ct(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d1(t,e),t=t.sibling}function d1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sr(t,e),$r(e),n&4){try{$o(3,e,e.return),eu(3,e)}catch(j){ct(e,e.return,j)}try{$o(5,e,e.return)}catch(j){ct(e,e.return,j)}}break;case 1:Sr(t,e),$r(e),n&512&&r!==null&&As(r,r.return);break;case 5:if(Sr(t,e),$r(e),n&512&&r!==null&&As(r,r.return),e.flags&32){var i=e.stateNode;try{Xo(i,"")}catch(j){ct(e,e.return,j)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Fg(i,o),tf(l,a);var u=tf(l,o);for(a=0;a<c.length;a+=2){var d=c[a],g=c[a+1];d==="style"?zg(i,g):d==="dangerouslySetInnerHTML"?Mg(i,g):d==="children"?Xo(i,g):wh(i,d,g,u)}switch(l){case"input":Xd(i,o);break;case"textarea":Pg(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Vs(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Vs(i,!!o.multiple,o.defaultValue,!0):Vs(i,!!o.multiple,o.multiple?[]:"",!1))}i[sa]=o}catch(j){ct(e,e.return,j)}}break;case 6:if(Sr(t,e),$r(e),n&4){if(e.stateNode===null)throw Error(ge(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(j){ct(e,e.return,j)}}break;case 3:if(Sr(t,e),$r(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ea(t.containerInfo)}catch(j){ct(e,e.return,j)}break;case 4:Sr(t,e),$r(e);break;case 13:Sr(t,e),$r(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Dh=ht())),n&4&&Hp(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Wt=(u=Wt)||d,Sr(t,e),Wt=u):Sr(t,e),$r(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ee=e,d=e.child;d!==null;){for(g=Ee=d;Ee!==null;){switch(f=Ee,p=f.child,f.tag){case 0:case 11:case 14:case 15:$o(4,f,f.return);break;case 1:As(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(j){ct(n,r,j)}}break;case 5:As(f,f.return);break;case 22:if(f.memoizedState!==null){Gp(g);continue}}p!==null?(p.return=f,Ee=p):Gp(g)}d=d.sibling}e:for(d=null,g=e;;){if(g.tag===5){if(d===null){d=g;try{i=g.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ug("display",a))}catch(j){ct(e,e.return,j)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(j){ct(e,e.return,j)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Sr(t,e),$r(e),n&4&&Hp(e);break;case 21:break;default:Sr(t,e),$r(e)}}function $r(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(c1(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Xo(i,""),n.flags&=-33);var o=$p(e);Bf(e,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=$p(e);Rf(e,l,a);break;default:throw Error(ge(161))}}catch(c){ct(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ib(e,t,r){Ee=e,f1(e)}function f1(e,t,r){for(var n=(e.mode&1)!==0;Ee!==null;){var i=Ee,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||tl;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Wt;l=tl;var u=Wt;if(tl=a,(Wt=c)&&!u)for(Ee=i;Ee!==null;)a=Ee,c=a.child,a.tag===22&&a.memoizedState!==null?qp(i):c!==null?(c.return=a,Ee=c):qp(i);for(;o!==null;)Ee=o,f1(o),o=o.sibling;Ee=i,tl=l,Wt=u}Ip(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ee=o):Ip(e)}}function Ip(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wt||eu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Wt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:kr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Tp(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Tp(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&ea(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}Wt||t.flags&512&&Af(t)}catch(f){ct(t,t.return,f)}}if(t===e){Ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function Gp(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function qp(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{eu(4,t)}catch(c){ct(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){ct(t,i,c)}}var o=t.return;try{Af(t)}catch(c){ct(t,o,c)}break;case 5:var a=t.return;try{Af(t)}catch(c){ct(t,a,c)}}}catch(c){ct(t,t.return,c)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var Gb=Math.ceil,xc=Rn.ReactCurrentDispatcher,Jh=Rn.ReactCurrentOwner,wr=Rn.ReactCurrentBatchConfig,He=0,Tt=null,yt=null,Rt=0,ar=0,Rs=pi(0),bt=0,da=null,qi=0,tu=0,Lh=0,Ho=null,er=null,Dh=0,Ds=1/0,un=null,vc=!1,Ff=null,ii=null,rl=!1,Jn=null,wc=0,Io=0,Pf=null,Nl=-1,jl=0;function Xt(){return He&6?ht():Nl!==-1?Nl:Nl=ht()}function si(e){return e.mode&1?He&2&&Rt!==0?Rt&-Rt:Tb.transition!==null?(jl===0&&(jl=Xg()),jl):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:ny(e.type)),e):1}function Or(e,t,r,n){if(50<Io)throw Io=0,Pf=null,Error(ge(185));Ea(e,r,n),(!(He&2)||e!==Tt)&&(e===Tt&&(!(He&2)&&(tu|=r),bt===4&&Qn(e,Rt)),or(e,n),r===1&&He===0&&!(t.mode&1)&&(Ds=ht()+500,Jc&&mi()))}function or(e,t){var r=e.callbackNode;T2(e,t);var n=nc(e,e===Tt?Rt:0);if(n===0)r!==null&&ep(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ep(r),t===1)e.tag===0?jb(Kp.bind(null,e)):_y(Kp.bind(null,e)),_b(function(){!(He&6)&&mi()}),r=null;else{switch(Jg(n)){case 1:r=Nh;break;case 4:r=Qg;break;case 16:r=rc;break;case 536870912:r=Zg;break;default:r=rc}r=w1(r,h1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function h1(e,t){if(Nl=-1,jl=0,He&6)throw Error(ge(327));var r=e.callbackNode;if(Gs()&&e.callbackNode!==r)return null;var n=nc(e,e===Tt?Rt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bc(e,n);else{t=n;var i=He;He|=2;var o=m1();(Tt!==e||Rt!==t)&&(un=null,Ds=ht()+500,Mi(e,t));do try{Yb();break}catch(l){p1(e,l)}while(1);zh(),xc.current=o,He=i,yt!==null?t=0:(Tt=null,Rt=0,t=bt)}if(t!==0){if(t===2&&(i=af(e),i!==0&&(n=i,t=Of(e,i))),t===1)throw r=da,Mi(e,0),Qn(e,n),or(e,ht()),r;if(t===6)Qn(e,n);else{if(i=e.current.alternate,!(n&30)&&!qb(i)&&(t=bc(e,n),t===2&&(o=af(e),o!==0&&(n=o,t=Of(e,o))),t===1))throw r=da,Mi(e,0),Qn(e,n),or(e,ht()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ge(345));case 2:Ei(e,er,un);break;case 3:if(Qn(e,n),(n&130023424)===n&&(t=Dh+500-ht(),10<t)){if(nc(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Xt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mf(Ei.bind(null,e,er,un),t);break}Ei(e,er,un);break;case 4:if(Qn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Pr(n);o=1<<a,a=t[a],a>i&&(i=a),n&=~o}if(n=i,n=ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Gb(n/1960))-n,10<n){e.timeoutHandle=mf(Ei.bind(null,e,er,un),n);break}Ei(e,er,un);break;case 5:Ei(e,er,un);break;default:throw Error(ge(329))}}}return or(e,ht()),e.callbackNode===r?h1.bind(null,e):null}function Of(e,t){var r=Ho;return e.current.memoizedState.isDehydrated&&(Mi(e,t).flags|=256),e=bc(e,t),e!==2&&(t=er,er=r,t!==null&&Mf(t)),e}function Mf(e){er===null?er=e:er.push.apply(er,e)}function qb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Ur(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~Lh,t&=~tu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pr(t),n=1<<r;e[r]=-1,t&=~n}}function Kp(e){if(He&6)throw Error(ge(327));Gs();var t=nc(e,0);if(!(t&1))return or(e,ht()),null;var r=bc(e,t);if(e.tag!==0&&r===2){var n=af(e);n!==0&&(t=n,r=Of(e,n))}if(r===1)throw r=da,Mi(e,0),Qn(e,t),or(e,ht()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ei(e,er,un),or(e,ht()),null}function e0(e,t){var r=He;He|=1;try{return e(t)}finally{He=r,He===0&&(Ds=ht()+500,Jc&&mi())}}function Ki(e){Jn!==null&&Jn.tag===0&&!(He&6)&&Gs();var t=He;He|=1;var r=wr.transition,n=Ye;try{if(wr.transition=null,Ye=1,e)return e()}finally{Ye=n,wr.transition=r,He=t,!(He&6)&&mi()}}function t0(){ar=Rs.current,De(Rs)}function Mi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bb(r)),yt!==null)for(r=yt.return;r!==null;){var n=r;switch(Oh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lc();break;case 3:Js(),De(ir),De(Ht),Gh();break;case 5:Ih(n);break;case 4:Js();break;case 13:De(nt);break;case 19:De(nt);break;case 10:Vh(n.type._context);break;case 22:case 23:t0()}r=r.return}if(Tt=e,yt=e=oi(e.current,null),Rt=ar=t,bt=0,da=null,Lh=tu=qi=0,er=Ho=null,Ri!==null){for(t=0;t<Ri.length;t++)if(r=Ri[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}Ri=null}return e}function p1(e,t){do{var r=yt;try{if(zh(),_l.current=yc,gc){for(var n=it.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gc=!1}if(Gi=0,Nt=vt=it=null,Wo=!1,la=0,Jh.current=null,r===null||r.return===null){bt=1,da=t,yt=null;break}e:{var o=e,a=r.return,l=r,c=t;if(t=Rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Fp(a);if(p!==null){p.flags&=-257,Pp(p,a,l,o,t),p.mode&1&&Bp(o,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var j=new Set;j.add(c),t.updateQueue=j}else m.add(c);break e}else{if(!(t&1)){Bp(o,u,t),r0();break e}c=Error(ge(426))}}else if(rt&&l.mode&1){var R=Fp(a);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Pp(R,a,l,o,t),Mh(Ls(c,l));break e}}o=c=Ls(c,l),bt!==4&&(bt=2),Ho===null?Ho=[o]:Ho.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var S=Jy(o,c,t);jp(o,S);break e;case 1:l=c;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ii===null||!ii.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var O=Ly(o,l,t);jp(o,O);break e}}o=o.return}while(o!==null)}y1(r)}catch(C){t=C,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(1)}function m1(){var e=xc.current;return xc.current=yc,e===null?yc:e}function r0(){(bt===0||bt===3||bt===2)&&(bt=4),Tt===null||!(qi&268435455)&&!(tu&268435455)||Qn(Tt,Rt)}function bc(e,t){var r=He;He|=2;var n=m1();(Tt!==e||Rt!==t)&&(un=null,Mi(e,t));do try{Kb();break}catch(i){p1(e,i)}while(1);if(zh(),He=r,xc.current=n,yt!==null)throw Error(ge(261));return Tt=null,Rt=0,bt}function Kb(){for(;yt!==null;)g1(yt)}function Yb(){for(;yt!==null&&!x2();)g1(yt)}function g1(e){var t=v1(e.alternate,e,ar);e.memoizedProps=e.pendingProps,t===null?y1(e):yt=t,Jh.current=null}function y1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Wb(r,t),r!==null){r.flags&=32767,yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,yt=null;return}}else if(r=Vb(r,t,ar),r!==null){yt=r;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);bt===0&&(bt=5)}function Ei(e,t,r){var n=Ye,i=wr.transition;try{wr.transition=null,Ye=1,Qb(e,t,r,n)}finally{wr.transition=i,Ye=n}return null}function Qb(e,t,r,n){do Gs();while(Jn!==null);if(He&6)throw Error(ge(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(k2(e,o),e===Tt&&(yt=Tt=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rl||(rl=!0,w1(rc,function(){return Gs(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=wr.transition,wr.transition=null;var a=Ye;Ye=1;var l=He;He|=4,Jh.current=null,Hb(e,r),d1(r,e),pb(hf),ic=!!ff,hf=ff=null,e.current=r,Ib(r),v2(),He=l,Ye=a,wr.transition=o}else e.current=r;if(rl&&(rl=!1,Jn=e,wc=i),o=e.pendingLanes,o===0&&(ii=null),_2(r.stateNode),or(e,ht()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(vc)throw vc=!1,e=Ff,Ff=null,e;return wc&1&&e.tag!==0&&Gs(),o=e.pendingLanes,o&1?e===Pf?Io++:(Io=0,Pf=e):Io=0,mi(),null}function Gs(){if(Jn!==null){var e=Jg(wc),t=wr.transition,r=Ye;try{if(wr.transition=null,Ye=16>e?16:e,Jn===null)var n=!1;else{if(e=Jn,Jn=null,wc=0,He&6)throw Error(ge(331));var i=He;for(He|=4,Ee=e.current;Ee!==null;){var o=Ee,a=o.child;if(Ee.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ee=u;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:$o(8,d,o)}var g=d.child;if(g!==null)g.return=d,Ee=g;else for(;Ee!==null;){d=Ee;var f=d.sibling,p=d.return;if(l1(d),d===u){Ee=null;break}if(f!==null){f.return=p,Ee=f;break}Ee=p}}}var m=o.alternate;if(m!==null){var j=m.child;if(j!==null){m.child=null;do{var R=j.sibling;j.sibling=null,j=R}while(j!==null)}}Ee=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ee=a;else e:for(;Ee!==null;){if(o=Ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:$o(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,Ee=S;break e}Ee=o.return}}var w=e.current;for(Ee=w;Ee!==null;){a=Ee;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Ee=_;else e:for(a=w;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:eu(9,l)}}catch(C){ct(l,l.return,C)}if(l===a){Ee=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,Ee=O;break e}Ee=l.return}}if(He=i,mi(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Kc,e)}catch{}n=!0}return n}finally{Ye=r,wr.transition=t}}return!1}function Yp(e,t,r){t=Ls(r,t),t=Jy(e,t,1),e=ni(e,t,1),t=Xt(),e!==null&&(Ea(e,1,t),or(e,t))}function ct(e,t,r){if(e.tag===3)Yp(e,e,r);else for(;t!==null;){if(t.tag===3){Yp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ii===null||!ii.has(n))){e=Ls(r,e),e=Ly(t,e,1),t=ni(t,e,1),e=Xt(),t!==null&&(Ea(t,1,e),or(t,e));break}}t=t.return}}function Zb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xt(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(Rt&r)===r&&(bt===4||bt===3&&(Rt&130023424)===Rt&&500>ht()-Dh?Mi(e,0):Lh|=r),or(e,t)}function x1(e,t){t===0&&(e.mode&1?(t=Ka,Ka<<=1,!(Ka&130023424)&&(Ka=4194304)):t=1);var r=Xt();e=Tn(e,t),e!==null&&(Ea(e,t,r),or(e,r))}function Xb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),x1(e,r)}function Jb(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(t),x1(e,r)}var v1;v1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ir.current)rr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return rr=!1,zb(e,t,r);rr=!!(e.flags&131072)}else rr=!1,rt&&t.flags&1048576&&Ey(t,dc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sl(e,t),e=t.pendingProps;var i=Qs(t,Ht.current);Is(t,r),i=Kh(null,t,n,e,i,r);var o=Yh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(n)?(o=!0,cc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$h(t),i.updater=Dc,t.stateNode=i,i._reactInternals=t,_f(t,n,e,r),t=Nf(null,t,n,!0,o,r)):(t.tag=0,rt&&o&&Ph(t),Qt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sl(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Db(n),e=kr(n,e),i){case 0:t=Sf(null,t,n,e,r);break e;case 1:t=Up(null,t,n,e,r);break e;case 11:t=Op(null,t,n,e,r);break e;case 14:t=Mp(null,t,n,kr(n.type,e),r);break e}throw Error(ge(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kr(n,i),Sf(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kr(n,i),Up(e,t,n,i,r);case 3:e:{if(r1(t),e===null)throw Error(ge(387));n=t.pendingProps,o=t.memoizedState,i=o.element,Cy(e,t),pc(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ls(Error(ge(423)),t),t=zp(e,t,n,r,i);break e}else if(n!==i){i=Ls(Error(ge(424)),t),t=zp(e,t,n,r,i);break e}else for(cr=ri(t.stateNode.containerInfo.firstChild),ur=t,rt=!0,Rr=null,r=Ty(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zs(),n===i){t=kn(e,t,r);break e}Qt(e,t,n,r)}t=t.child}return t;case 5:return Ay(t),e===null&&vf(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,pf(n,i)?a=null:o!==null&&pf(n,o)&&(t.flags|=32),t1(e,t),Qt(e,t,a,r),t.child;case 6:return e===null&&vf(t),null;case 13:return n1(e,t,r);case 4:return Hh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xs(t,null,n,r):Qt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kr(n,i),Op(e,t,n,i,r);case 7:return Qt(e,t,t.pendingProps,r),t.child;case 8:return Qt(e,t,t.pendingProps.children,r),t.child;case 12:return Qt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Je(fc,n._currentValue),n._currentValue=a,o!==null)if(Ur(o.value,a)){if(o.children===i.children&&!ir.current){t=kn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=_n(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),wf(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ge(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),wf(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Qt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Is(t,r),i=br(i),n=n(i),t.flags|=1,Qt(e,t,n,r),t.child;case 14:return n=t.type,i=kr(n,t.pendingProps),i=kr(n.type,i),Mp(e,t,n,i,r);case 15:return Dy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kr(n,i),Sl(e,t),t.tag=1,sr(n)?(e=!0,cc(t)):e=!1,Is(t,r),Xy(t,n,i),_f(t,n,i,r),Nf(null,t,n,!0,e,r);case 19:return i1(e,t,r);case 22:return e1(e,t,r)}throw Error(ge(156,t.tag))};function w1(e,t){return Yg(e,t)}function Lb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(e,t,r,n){return new Lb(e,t,r,n)}function n0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Db(e){if(typeof e=="function")return n0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_h)return 11;if(e===Eh)return 14}return 2}function oi(e,t){var r=e.alternate;return r===null?(r=vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tl(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")n0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case bs:return Ui(r.children,i,o,t);case bh:a=8,i|=8;break;case qd:return e=vr(12,r,t,i|2),e.elementType=qd,e.lanes=o,e;case Kd:return e=vr(13,r,t,i),e.elementType=Kd,e.lanes=o,e;case Yd:return e=vr(19,r,t,i),e.elementType=Yd,e.lanes=o,e;case Ag:return ru(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kg:a=10;break e;case Cg:a=9;break e;case _h:a=11;break e;case Eh:a=14;break e;case $n:a=16,n=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=vr(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Ui(e,t,r,n){return e=vr(7,e,n,t),e.lanes=r,e}function ru(e,t,r,n){return e=vr(22,e,n,t),e.elementType=Ag,e.lanes=r,e.stateNode={isHidden:!1},e}function fd(e,t,r){return e=vr(6,e,null,t),e.lanes=r,e}function hd(e,t,r){return t=vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e_(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yu(0),this.expirationTimes=Yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yu(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function i0(e,t,r,n,i,o,a,l,c){return e=new e_(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=vr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$h(o),e}function t_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function b1(e){if(!e)return fi;e=e._reactInternals;e:{if(ts(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(sr(r))return by(e,r,t)}return t}function _1(e,t,r,n,i,o,a,l,c){return e=i0(r,n,!0,e,i,o,a,l,c),e.context=b1(null),r=e.current,n=Xt(),i=si(r),o=_n(n,i),o.callback=t??null,ni(r,o,i),e.current.lanes=i,Ea(e,i,n),or(e,n),e}function nu(e,t,r,n){var i=t.current,o=Xt(),a=si(i);return r=b1(r),t.context===null?t.context=r:t.pendingContext=r,t=_n(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ni(i,t,a),e!==null&&(Or(e,i,a,o),bl(e,i,a)),a}function _c(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function s0(e,t){Qp(e,t),(e=e.alternate)&&Qp(e,t)}function r_(){return null}var E1=typeof reportError=="function"?reportError:function(e){console.error(e)};function o0(e){this._internalRoot=e}iu.prototype.render=o0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));nu(e,t,null,null)};iu.prototype.unmount=o0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ki(function(){nu(null,e,null,null)}),t[jn]=null}};function iu(e){this._internalRoot=e}iu.prototype.unstable_scheduleHydration=function(e){if(e){var t=ey();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Yn.length&&t!==0&&t<Yn[r].priority;r++);Yn.splice(r,0,e),r===0&&ry(e)}};function a0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zp(){}function n_(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=_c(a);o.call(u)}}var a=_1(t,n,e,0,null,!1,!1,"",Zp);return e._reactRootContainer=a,e[jn]=a.current,na(e.nodeType===8?e.parentNode:e),Ki(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=_c(c);l.call(u)}}var c=i0(e,0,!1,null,null,!1,!1,"",Zp);return e._reactRootContainer=c,e[jn]=c.current,na(e.nodeType===8?e.parentNode:e),Ki(function(){nu(t,c,r,n)}),c}function ou(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var c=_c(a);l.call(c)}}nu(t,a,e,i)}else a=n_(r,t,e,i,n);return _c(a)}Lg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jo(t.pendingLanes);r!==0&&(jh(t,r|1),or(t,ht()),!(He&6)&&(Ds=ht()+500,mi()))}break;case 13:Ki(function(){var n=Tn(e,1);if(n!==null){var i=Xt();Or(n,e,1,i)}}),s0(e,1)}};Th=function(e){if(e.tag===13){var t=Tn(e,134217728);if(t!==null){var r=Xt();Or(t,e,134217728,r)}s0(e,134217728)}};Dg=function(e){if(e.tag===13){var t=si(e),r=Tn(e,t);if(r!==null){var n=Xt();Or(r,e,t,n)}s0(e,t)}};ey=function(){return Ye};ty=function(e,t){var r=Ye;try{return Ye=e,t()}finally{Ye=r}};nf=function(e,t,r){switch(t){case"input":if(Xd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Xc(n);if(!i)throw Error(ge(90));Bg(n),Xd(n,i)}}}break;case"textarea":Pg(e,r);break;case"select":t=r.value,t!=null&&Vs(e,!!r.multiple,t,!1)}};$g=e0;Hg=Ki;var i_={usingClientEntryPoint:!1,Events:[Na,Ns,Xc,Vg,Wg,e0]},bo={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s_={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qg(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||r_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Kc=nl.inject(s_),en=nl}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i_;fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a0(t))throw Error(ge(200));return t_(e,t,null,r)};fr.createRoot=function(e,t){if(!a0(e))throw Error(ge(299));var r=!1,n="",i=E1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=i0(e,1,!1,null,null,r,!1,n,i),e[jn]=t.current,na(e.nodeType===8?e.parentNode:e),new o0(t)};fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=qg(t),e=e===null?null:e.stateNode,e};fr.flushSync=function(e){return Ki(e)};fr.hydrate=function(e,t,r){if(!su(t))throw Error(ge(200));return ou(null,e,t,!0,r)};fr.hydrateRoot=function(e,t,r){if(!a0(e))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=E1;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=_1(t,null,e,1,r??null,i,!1,o,a),e[jn]=t.current,na(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new iu(t)};fr.render=function(e,t,r){if(!su(t))throw Error(ge(200));return ou(null,e,t,!1,r)};fr.unmountComponentAtNode=function(e){if(!su(e))throw Error(ge(40));return e._reactRootContainer?(Ki(function(){ou(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};fr.unstable_batchedUpdates=e0;fr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!su(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return ou(e,t,r,!1,n)};fr.version="18.3.1-next-f1338f8080-20240426";function S1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S1)}catch(e){console.error(e)}}S1(),Sg.exports=fr;var o_=Sg.exports,N1,Xp=o_;N1=Xp.createRoot,Xp.hydrateRoot;const a_="modulepreload",l_=function(e,t){return new URL(e,t).href},Jp={},j1=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=l_(o,n),o in Jp)return;Jp[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const g=i[d];if(g.href===o&&(!a||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":a_,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((d,g)=>{u.addEventListener("load",d),u.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};var Lp="popstate";function c_(e={}){function t(n,i){let{pathname:o,search:a,hash:l}=n.location;return Uf("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:fa(i)}return d_(t,r,null,e)}function st(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function u_(){return Math.random().toString(36).substring(2,10)}function Dp(e,t){return{usr:e.state,key:e.key,idx:t}}function Uf(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?lo(t):t,state:r,key:t&&t.key||n||u_()}}function fa({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function d_(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function g(){l="POP";let R=d(),S=R==null?null:R-u;u=R,c&&c({action:l,location:j.location,delta:S})}function f(R,S){l="PUSH";let w=Uf(j.location,R,S);r&&r(w,R),u=d()+1;let _=Dp(w,u),O=j.createHref(w);try{a.pushState(_,"",O)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(O)}o&&c&&c({action:l,location:j.location,delta:1})}function p(R,S){l="REPLACE";let w=Uf(j.location,R,S);r&&r(w,R),u=d();let _=Dp(w,u),O=j.createHref(w);a.replaceState(_,"",O),o&&c&&c({action:l,location:j.location,delta:0})}function m(R){return f_(R)}let j={get action(){return l},get location(){return e(i,a)},listen(R){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Lp,g),c=R,()=>{i.removeEventListener(Lp,g),c=null}},createHref(R){return t(i,R)},createURL:m,encodeLocation(R){let S=m(R);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:f,replace:p,go(R){return a.go(R)}};return j}function f_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),st(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:fa(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function T1(e,t,r="/"){return h_(e,t,r,!1)}function h_(e,t,r,n){let i=typeof t=="string"?lo(t):t,o=Cn(i.pathname||"/",r);if(o==null)return null;let a=k1(e);p_(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=N_(o);l=E_(a[c],u,n)}return l}function k1(e,t=[],r=[],n=""){let i=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=En([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(st(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),k1(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:b_(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of C1(o.path))i(o,a,c)}),t}function C1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=C1(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function p_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:__(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var m_=/^:[\w-]+$/,g_=3,y_=2,x_=1,v_=10,w_=-2,em=e=>e==="*";function b_(e,t){let r=e.split("/"),n=r.length;return r.some(em)&&(n+=w_),t&&(n+=y_),r.filter(i=>!em(i)).reduce((i,o)=>i+(m_.test(o)?g_:o===""?x_:v_),n)}function __(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function E_(e,t,r=!1){let{routesMeta:n}=e,i={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",g=Ec({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!g&&u&&r&&!n[n.length-1].route.index&&(g=Ec({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:En([o,g.pathname]),pathnameBase:C_(En([o,g.pathnameBase])),route:f}),g.pathnameBase!=="/"&&(o=En([o,g.pathnameBase]))}return a}function Ec(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=S_(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:g},f)=>{if(d==="*"){let m=l[f]||"";a=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=l[f];return g&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function S_(e,t=!1,r=!0){nn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function N_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function j_(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?lo(e):e;return{pathname:r?r.startsWith("/")?r:T_(r,t):t,search:A_(n),hash:R_(i)}}function T_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function pd(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function A1(e){let t=k_(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function R1(e,t,r,n=!1){let i;typeof e=="string"?i=lo(e):(i={...e},st(!i.pathname||!i.pathname.includes("?"),pd("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),pd("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),pd("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=r;else{let g=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),g-=1;i.pathname=f.join("/")}l=g>=0?t[g]:"/"}let c=j_(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var En=e=>e.join("/").replace(/\/\/+/g,"/"),C_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),A_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,R_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function B_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var B1=["POST","PUT","PATCH","DELETE"];new Set(B1);var F_=["GET",...B1];new Set(F_);var co=M.createContext(null);co.displayName="DataRouter";var au=M.createContext(null);au.displayName="DataRouterState";M.createContext(!1);var F1=M.createContext({isTransitioning:!1});F1.displayName="ViewTransition";var P_=M.createContext(new Map);P_.displayName="Fetchers";var O_=M.createContext(null);O_.displayName="Await";var sn=M.createContext(null);sn.displayName="Navigation";var Ta=M.createContext(null);Ta.displayName="Location";var Bn=M.createContext({outlet:null,matches:[],isDataRoute:!1});Bn.displayName="Route";var l0=M.createContext(null);l0.displayName="RouteError";function M_(e,{relative:t}={}){st(ka(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=M.useContext(sn),{hash:i,pathname:o,search:a}=Ca(e,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:En([r,o])),n.createHref({pathname:l,search:a,hash:i})}function ka(){return M.useContext(Ta)!=null}function rs(){return st(ka(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Ta).location}var P1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O1(e){M.useContext(sn).static||M.useLayoutEffect(e)}function lu(){let{isDataRoute:e}=M.useContext(Bn);return e?Z_():U_()}function U_(){st(ka(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(co),{basename:t,navigator:r}=M.useContext(sn),{matches:n}=M.useContext(Bn),{pathname:i}=rs(),o=JSON.stringify(A1(n)),a=M.useRef(!1);return O1(()=>{a.current=!0}),M.useCallback((c,u={})=>{if(nn(a.current,P1),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=R1(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:En([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,o,i,e])}M.createContext(null);function Ca(e,{relative:t}={}){let{matches:r}=M.useContext(Bn),{pathname:n}=rs(),i=JSON.stringify(A1(r));return M.useMemo(()=>R1(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function z_(e,t){return M1(e,t)}function M1(e,t,r,n){var S;st(ka(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=M.useContext(sn),{matches:o}=M.useContext(Bn),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let w=d&&d.path||"";U1(c,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let g=rs(),f;if(t){let w=typeof t=="string"?lo(t):t;st(u==="/"||((S=w.pathname)==null?void 0:S.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),f=w}else f=g;let p=f.pathname||"/",m=p;if(u!=="/"){let w=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=T1(e,{pathname:m});nn(d||j!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),nn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=I_(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:En([u,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:En([u,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&R?M.createElement(Ta.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},R):R}function V_(){let e=Q_(),t=B_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),r?M.createElement("pre",{style:i},r):null,a)}var W_=M.createElement(V_,null),$_=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?M.createElement(Bn.Provider,{value:this.props.routeContext},M.createElement(l0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function H_({routeContext:e,match:t,children:r}){let n=M.useContext(co);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(Bn.Provider,{value:e},r)}function I_(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let c=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);st(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(r)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:g}=r,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!g||g[u.route.id]===void 0);if(u.route.lazy||f){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,u,d)=>{let g,f=!1,p=null,m=null;r&&(g=o&&u.route.id?o[u.route.id]:void 0,p=u.route.errorElement||W_,a&&(l<0&&d===0?(U1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):l===d&&(f=!0,m=u.route.hydrateFallbackElement||null)));let j=t.concat(i.slice(0,d+1)),R=()=>{let S;return g?S=p:f?S=m:u.route.Component?S=M.createElement(u.route.Component,null):u.route.element?S=u.route.element:S=c,M.createElement(H_,{match:u,routeContext:{outlet:c,matches:j,isDataRoute:r!=null},children:S})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?M.createElement($_,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:R(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):R()},null)}function c0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G_(e){let t=M.useContext(co);return st(t,c0(e)),t}function q_(e){let t=M.useContext(au);return st(t,c0(e)),t}function K_(e){let t=M.useContext(Bn);return st(t,c0(e)),t}function u0(e){let t=K_(e),r=t.matches[t.matches.length-1];return st(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Y_(){return u0("useRouteId")}function Q_(){var n;let e=M.useContext(l0),t=q_("useRouteError"),r=u0("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Z_(){let{router:e}=G_("useNavigate"),t=u0("useNavigate"),r=M.useRef(!1);return O1(()=>{r.current=!0}),M.useCallback(async(i,o={})=>{nn(r.current,P1),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var tm={};function U1(e,t,r){!t&&!tm[e]&&(tm[e]=!0,nn(!1,r))}M.memo(X_);function X_({routes:e,future:t,state:r}){return M1(e,void 0,r,t)}function zf(e){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J_({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){st(!ka(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=M.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof r=="string"&&(r=lo(r));let{pathname:c="/",search:u="",hash:d="",state:g=null,key:f="default"}=r,p=M.useMemo(()=>{let m=Cn(c,a);return m==null?null:{location:{pathname:m,search:u,hash:d,state:g,key:f},navigationType:n}},[a,c,u,d,g,f,n]);return nn(p!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:M.createElement(sn.Provider,{value:l},M.createElement(Ta.Provider,{children:t,value:p}))}function L_({children:e,location:t}){return z_(Vf(e),t)}function Vf(e,t=[]){let r=[];return M.Children.forEach(e,(n,i)=>{if(!M.isValidElement(n))return;let o=[...t,i];if(n.type===M.Fragment){r.push.apply(r,Vf(n.props.children,o));return}st(n.type===zf,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Vf(n.props.children,o)),r.push(a)}),r}var kl="get",Cl="application/x-www-form-urlencoded";function cu(e){return e!=null&&typeof e.tagName=="string"}function D_(e){return cu(e)&&e.tagName.toLowerCase()==="button"}function eE(e){return cu(e)&&e.tagName.toLowerCase()==="form"}function tE(e){return cu(e)&&e.tagName.toLowerCase()==="input"}function rE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nE(e,t){return e.button===0&&(!t||t==="_self")&&!rE(e)}var il=null;function iE(){if(il===null)try{new FormData(document.createElement("form"),0),il=!1}catch{il=!0}return il}var sE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function md(e){return e!=null&&!sE.has(e)?(nn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cl}"`),null):e}function oE(e,t){let r,n,i,o,a;if(eE(e)){let l=e.getAttribute("action");n=l?Cn(l,t):null,r=e.getAttribute("method")||kl,i=md(e.getAttribute("enctype"))||Cl,o=new FormData(e)}else if(D_(e)||tE(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Cn(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||kl,i=md(e.getAttribute("formenctype"))||md(l.getAttribute("enctype"))||Cl,o=new FormData(l,e),!iE()){let{name:u,type:d,value:g}=e;if(d==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,g)}}else{if(cu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=kl,n=null,i=Cl,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function d0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aE(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Cn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function lE(e,t){if(e.id in t)return t[e.id];try{let r=await j1(()=>import(e.module),[],import.meta.url);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cE(e){return e!=null&&typeof e.page=="string"}function uE(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function dE(e,t,r){let n=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await lE(o,r);return a.links?a.links():[]}return[]}));return mE(n.flat(1).filter(uE).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rm(e,t,r,n,i,o){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,u)=>a(c,u)||l(c,u)):o==="data"?t.filter((c,u)=>{var g;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function fE(e,t,{includeHydrateFallback:r}={}){return hE(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function hE(e){return[...new Set(e)]}function pE(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function mE(e,t){let r=new Set,n=new Set(t);return e.reduce((i,o)=>{if(t&&!cE(o)&&o.as==="script"&&o.href&&n.has(o.href))return i;let l=JSON.stringify(pE(o));return r.has(l)||(r.add(l),i.push({key:l,link:o})),i},[])}function z1(){let e=M.useContext(co);return d0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function gE(){let e=M.useContext(au);return d0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var f0=M.createContext(void 0);f0.displayName="FrameworkContext";function V1(){let e=M.useContext(f0);return d0(e,"You must render this element inside a <HydratedRouter> element"),e}function yE(e,t){let r=M.useContext(f0),[n,i]=M.useState(!1),[o,a]=M.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:g}=t,f=M.useRef(null);M.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let j=S=>{S.forEach(w=>{a(w.isIntersecting)})},R=new IntersectionObserver(j,{threshold:.5});return f.current&&R.observe(f.current),()=>{R.disconnect()}}},[e]),M.useEffect(()=>{if(n){let j=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(j)}}},[n]);let p=()=>{i(!0)},m=()=>{i(!1),a(!1)};return r?e!=="intent"?[o,f,{}]:[o,f,{onFocus:_o(l,p),onBlur:_o(c,m),onMouseEnter:_o(u,p),onMouseLeave:_o(d,m),onTouchStart:_o(g,p)}]:[!1,f,{}]}function _o(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function xE({page:e,...t}){let{router:r}=z1(),n=M.useMemo(()=>T1(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?M.createElement(wE,{page:e,matches:n,...t}):null}function vE(e){let{manifest:t,routeModules:r}=V1(),[n,i]=M.useState([]);return M.useEffect(()=>{let o=!1;return dE(e,t,r).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,r]),n}function wE({page:e,matches:t,...r}){let n=rs(),{manifest:i,routeModules:o}=V1(),{basename:a}=z1(),{loaderData:l,matches:c}=gE(),u=M.useMemo(()=>rm(e,t,c,i,n,"data"),[e,t,c,i,n]),d=M.useMemo(()=>rm(e,t,c,i,n,"assets"),[e,t,c,i,n]),g=M.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,j=!1;if(t.forEach(S=>{var _;let w=i.routes[S.route.id];!w||!w.hasLoader||(!u.some(O=>O.route.id===S.route.id)&&S.route.id in l&&((_=o[S.route.id])!=null&&_.shouldRevalidate)||w.hasClientLoader?j=!0:m.add(S.route.id))}),m.size===0)return[];let R=aE(e,a,"data");return j&&m.size>0&&R.searchParams.set("_routes",t.filter(S=>m.has(S.route.id)).map(S=>S.route.id).join(",")),[R.pathname+R.search]},[a,l,n,i,u,t,e,o]),f=M.useMemo(()=>fE(d,i),[d,i]),p=vE(d);return M.createElement(M.Fragment,null,g.map(m=>M.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),f.map(m=>M.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),p.map(({key:m,link:j})=>M.createElement("link",{key:m,...j})))}function bE(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var W1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W1&&(window.__reactRouterVersion="7.7.0")}catch{}function _E({basename:e,children:t,window:r}){let n=M.useRef();n.current==null&&(n.current=c_({window:r,v5Compat:!0}));let i=n.current,[o,a]=M.useState({action:i.action,location:i.location}),l=M.useCallback(c=>{M.startTransition(()=>a(c))},[a]);return M.useLayoutEffect(()=>i.listen(l),[i,l]),M.createElement(J_,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var $1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H1=M.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:g,...f},p){let{basename:m}=M.useContext(sn),j=typeof u=="string"&&$1.test(u),R,S=!1;if(typeof u=="string"&&j&&(R=u,W1))try{let J=new URL(window.location.href),U=u.startsWith("//")?new URL(J.protocol+u):new URL(u),I=Cn(U.pathname,m);U.origin===J.origin&&I!=null?u=I+U.search+U.hash:S=!0}catch{nn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=M_(u,{relative:i}),[_,O,C]=yE(n,f),W=jE(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:g});function H(J){t&&t(J),J.defaultPrevented||W(J)}let F=M.createElement("a",{...f,...C,href:R||w,onClick:S||o?t:H,ref:bE(p,O),target:c,"data-discover":!j&&r==="render"?"true":void 0});return _&&!j?M.createElement(M.Fragment,null,F,M.createElement(xE,{page:w})):F});H1.displayName="Link";var EE=M.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:a,viewTransition:l,children:c,...u},d){let g=Ca(a,{relative:u.relative}),f=rs(),p=M.useContext(au),{navigator:m,basename:j}=M.useContext(sn),R=p!=null&&RE(g)&&l===!0,S=m.encodeLocation?m.encodeLocation(g).pathname:g.pathname,w=f.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),_=_?_.toLowerCase():null,S=S.toLowerCase()),_&&j&&(_=Cn(_,j)||_);const O=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let C=w===S||!i&&w.startsWith(S)&&w.charAt(O)==="/",W=_!=null&&(_===S||!i&&_.startsWith(S)&&_.charAt(S.length)==="/"),H={isActive:C,isPending:W,isTransitioning:R},F=C?t:void 0,J;typeof n=="function"?J=n(H):J=[n,C?"active":null,W?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(H):o;return M.createElement(H1,{...u,"aria-current":F,className:J,ref:d,style:U,to:a,viewTransition:l},typeof c=="function"?c(H):c)});EE.displayName="NavLink";var SE=M.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:o,method:a=kl,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:g,...f},p)=>{let m=CE(),j=AE(l,{relative:u}),R=a.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&$1.test(l),w=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let O=_.nativeEvent.submitter,C=(O==null?void 0:O.getAttribute("formmethod"))||a;m(O||_.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:i,state:o,relative:u,preventScrollReset:d,viewTransition:g})};return M.createElement("form",{ref:p,method:R,action:j,onSubmit:n?c:w,...f,"data-discover":!S&&e==="render"?"true":void 0})});SE.displayName="Form";function NE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I1(e){let t=M.useContext(co);return st(t,NE(e)),t}function jE(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:a}={}){let l=lu(),c=rs(),u=Ca(e,{relative:o});return M.useCallback(d=>{if(nE(d,t)){d.preventDefault();let g=r!==void 0?r:fa(c)===fa(u);l(e,{replace:g,state:n,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,n,t,e,i,o,a])}var TE=0,kE=()=>`__${String(++TE)}__`;function CE(){let{router:e}=I1("useSubmit"),{basename:t}=M.useContext(sn),r=Y_();return M.useCallback(async(n,i={})=>{let{action:o,method:a,encType:l,formData:c,body:u}=oE(n,t);if(i.navigate===!1){let d=i.fetcherKey||kE();await e.fetch(d,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function AE(e,{relative:t}={}){let{basename:r}=M.useContext(sn),n=M.useContext(Bn);st(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...Ca(e||".",{relative:t})},a=rs();if(e==null){o.search=a.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(g=>g).forEach(g=>l.append("index",g));let d=l.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:En([r,o.pathname])),fa(o)}function RE(e,t={}){let r=M.useContext(F1);st(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=I1("useViewTransitionState"),i=Ca(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=Cn(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Cn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ec(i.pathname,a)!=null||Ec(i.pathname,o)!=null}const G1=M.createContext();function BE({children:e}){const[t,r]=M.useState([]),[n,i]=M.useState([]);let o=0;const a=M.useCallback(p=>{r(m=>[{...p,id:p.id||Date.now()},...m])},[]),l=M.useCallback(p=>{r(m=>m.filter(j=>j.id!==p))},[]),c=M.useCallback(()=>{r(p=>p.map(m=>({...m,read:!0})))},[]),u=M.useCallback(()=>{r([])},[]),d=M.useCallback(p=>{const m=++o;i(j=>[...j,{...p,id:m}]),setTimeout(()=>{i(j=>j.filter(R=>R.id!==m))},p.duration||4e3)},[]),g=M.useCallback(p=>{i(m=>m.filter(j=>j.id!==p))},[]),f={notifications:t,toasts:n,addNotification:a,removeNotification:l,markAllAsRead:c,clearNotifications:u,showToast:d,removeToast:g};return s.jsx(G1.Provider,{value:f,children:e})}function gi(){return M.useContext(G1)}var q1={},Aa={};Aa.byteLength=OE;Aa.toByteArray=UE;Aa.fromByteArray=WE;var Lr=[],pr=[],FE=typeof Uint8Array<"u"?Uint8Array:Array,gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ss=0,PE=gd.length;ss<PE;++ss)Lr[ss]=gd[ss],pr[gd.charCodeAt(ss)]=ss;pr["-".charCodeAt(0)]=62;pr["_".charCodeAt(0)]=63;function K1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function OE(e){var t=K1(e),r=t[0],n=t[1];return(r+n)*3/4-n}function ME(e,t,r){return(t+r)*3/4-r}function UE(e){var t,r=K1(e),n=r[0],i=r[1],o=new FE(ME(e,n,i)),a=0,l=i>0?n-4:n,c;for(c=0;c<l;c+=4)t=pr[e.charCodeAt(c)]<<18|pr[e.charCodeAt(c+1)]<<12|pr[e.charCodeAt(c+2)]<<6|pr[e.charCodeAt(c+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=pr[e.charCodeAt(c)]<<2|pr[e.charCodeAt(c+1)]>>4,o[a++]=t&255),i===1&&(t=pr[e.charCodeAt(c)]<<10|pr[e.charCodeAt(c+1)]<<4|pr[e.charCodeAt(c+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function zE(e){return Lr[e>>18&63]+Lr[e>>12&63]+Lr[e>>6&63]+Lr[e&63]}function VE(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(zE(n));return i.join("")}function WE(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,l=r-n;a<l;a+=o)i.push(VE(e,a,a+o>l?l:a+o));return n===1?(t=e[r-1],i.push(Lr[t>>2]+Lr[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Lr[t>>10]+Lr[t>>4&63]+Lr[t<<2&63]+"=")),i.join("")}var Ra={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ra.read=function(e,t,r,n,i){var o,a,l=i*8-n-1,c=(1<<l)-1,u=c>>1,d=-7,g=r?i-1:0,f=r?-1:1,p=e[t+g];for(g+=f,o=p&(1<<-d)-1,p>>=-d,d+=l;d>0;o=o*256+e[t+g],g+=f,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=n;d>0;a=a*256+e[t+g],g+=f,d-=8);if(o===0)o=1-u;else{if(o===c)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(p?-1:1)*a*Math.pow(2,o-n)};Ra.write=function(e,t,r,n,i,o){var a,l,c,u=o*8-i-1,d=(1<<u)-1,g=d>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,m=n?1:-1,j=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+g>=1?t+=f/c:t+=f*Math.pow(2,1-g),t*c>=2&&(a++,c/=2),a+g>=d?(l=0,a=d):a+g>=1?(l=(t*c-1)*Math.pow(2,i),a=a+g):(l=t*Math.pow(2,g-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=l&255,p+=m,l/=256,i-=8);for(a=a<<i|l,u+=i;u>0;e[r+p]=a&255,p+=m,a/=256,u-=8);e[r+p-m]|=j*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Aa,r=Ra,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=w,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const E=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(E,x),E.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(E){if(E>i)throw new RangeError('The value "'+E+'" is invalid for option "size"');const x=new Uint8Array(E);return Object.setPrototypeOf(x,l.prototype),x}function l(E,x,v){if(typeof E=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(E)}return c(E,x,v)}l.poolSize=8192;function c(E,x,v){if(typeof E=="string")return f(E,x);if(ArrayBuffer.isView(E))return m(E);if(E==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(se(E,ArrayBuffer)||E&&se(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(E,SharedArrayBuffer)||E&&se(E.buffer,SharedArrayBuffer)))return j(E,x,v);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=E.valueOf&&E.valueOf();if($!=null&&$!==E)return l.from($,x,v);const re=R(E);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return l.from(E[Symbol.toPrimitive]("string"),x,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}l.from=function(E,x,v){return c(E,x,v)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function d(E,x,v){return u(E),E<=0?a(E):x!==void 0?typeof v=="string"?a(E).fill(x,v):a(E).fill(x):a(E)}l.alloc=function(E,x,v){return d(E,x,v)};function g(E){return u(E),a(E<0?0:S(E)|0)}l.allocUnsafe=function(E){return g(E)},l.allocUnsafeSlow=function(E){return g(E)};function f(E,x){if((typeof x!="string"||x==="")&&(x="utf8"),!l.isEncoding(x))throw new TypeError("Unknown encoding: "+x);const v=_(E,x)|0;let $=a(v);const re=$.write(E,x);return re!==v&&($=$.slice(0,re)),$}function p(E){const x=E.length<0?0:S(E.length)|0,v=a(x);for(let $=0;$<x;$+=1)v[$]=E[$]&255;return v}function m(E){if(se(E,Uint8Array)){const x=new Uint8Array(E);return j(x.buffer,x.byteOffset,x.byteLength)}return p(E)}function j(E,x,v){if(x<0||E.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<x+(v||0))throw new RangeError('"length" is outside of buffer bounds');let $;return x===void 0&&v===void 0?$=new Uint8Array(E):v===void 0?$=new Uint8Array(E,x):$=new Uint8Array(E,x,v),Object.setPrototypeOf($,l.prototype),$}function R(E){if(l.isBuffer(E)){const x=S(E.length)|0,v=a(x);return v.length===0||E.copy(v,0,0,x),v}if(E.length!==void 0)return typeof E.length!="number"||pe(E.length)?a(0):p(E);if(E.type==="Buffer"&&Array.isArray(E.data))return p(E.data)}function S(E){if(E>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return E|0}function w(E){return+E!=E&&(E=0),l.alloc(+E)}l.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==l.prototype},l.compare=function(x,v){if(se(x,Uint8Array)&&(x=l.from(x,x.offset,x.byteLength)),se(v,Uint8Array)&&(v=l.from(v,v.offset,v.byteLength)),!l.isBuffer(x)||!l.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===v)return 0;let $=x.length,re=v.length;for(let oe=0,ae=Math.min($,re);oe<ae;++oe)if(x[oe]!==v[oe]){$=x[oe],re=v[oe];break}return $<re?-1:re<$?1:0},l.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(x,v){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return l.alloc(0);let $;if(v===void 0)for(v=0,$=0;$<x.length;++$)v+=x[$].length;const re=l.allocUnsafe(v);let oe=0;for($=0;$<x.length;++$){let ae=x[$];if(se(ae,Uint8Array))oe+ae.length>re.length?(l.isBuffer(ae)||(ae=l.from(ae)),ae.copy(re,oe)):Uint8Array.prototype.set.call(re,ae,oe);else if(l.isBuffer(ae))ae.copy(re,oe);else throw new TypeError('"list" argument must be an Array of Buffers');oe+=ae.length}return re};function _(E,x){if(l.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||se(E,ArrayBuffer))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);const v=E.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&v===0)return 0;let re=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return h(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return B(E).length;default:if(re)return $?-1:h(E).length;x=(""+x).toLowerCase(),re=!0}}l.byteLength=_;function O(E,x,v){let $=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,x>>>=0,v<=x))return"";for(E||(E="utf8");;)switch(E){case"hex":return te(this,x,v);case"utf8":case"utf-8":return P(this,x,v);case"ascii":return ie(this,x,v);case"latin1":case"binary":return Q(this,x,v);case"base64":return N(this,x,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,x,v);default:if($)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),$=!0}}l.prototype._isBuffer=!0;function C(E,x,v){const $=E[x];E[x]=E[v],E[v]=$}l.prototype.swap16=function(){const x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let v=0;v<x;v+=2)C(this,v,v+1);return this},l.prototype.swap32=function(){const x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let v=0;v<x;v+=4)C(this,v,v+3),C(this,v+1,v+2);return this},l.prototype.swap64=function(){const x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let v=0;v<x;v+=8)C(this,v,v+7),C(this,v+1,v+6),C(this,v+2,v+5),C(this,v+3,v+4);return this},l.prototype.toString=function(){const x=this.length;return x===0?"":arguments.length===0?P(this,0,x):O.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(x){if(!l.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:l.compare(this,x)===0},l.prototype.inspect=function(){let x="";const v=e.INSPECT_MAX_BYTES;return x=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(x+=" ... "),"<Buffer "+x+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(x,v,$,re,oe){if(se(x,Uint8Array)&&(x=l.from(x,x.offset,x.byteLength)),!l.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(v===void 0&&(v=0),$===void 0&&($=x?x.length:0),re===void 0&&(re=0),oe===void 0&&(oe=this.length),v<0||$>x.length||re<0||oe>this.length)throw new RangeError("out of range index");if(re>=oe&&v>=$)return 0;if(re>=oe)return-1;if(v>=$)return 1;if(v>>>=0,$>>>=0,re>>>=0,oe>>>=0,this===x)return 0;let ae=oe-re,je=$-v;const Re=Math.min(ae,je),Ce=this.slice(re,oe),Se=x.slice(v,$);for(let Fe=0;Fe<Re;++Fe)if(Ce[Fe]!==Se[Fe]){ae=Ce[Fe],je=Se[Fe];break}return ae<je?-1:je<ae?1:0};function W(E,x,v,$,re){if(E.length===0)return-1;if(typeof v=="string"?($=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,pe(v)&&(v=re?0:E.length-1),v<0&&(v=E.length+v),v>=E.length){if(re)return-1;v=E.length-1}else if(v<0)if(re)v=0;else return-1;if(typeof x=="string"&&(x=l.from(x,$)),l.isBuffer(x))return x.length===0?-1:H(E,x,v,$,re);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(E,x,v):Uint8Array.prototype.lastIndexOf.call(E,x,v):H(E,[x],v,$,re);throw new TypeError("val must be string, number or Buffer")}function H(E,x,v,$,re){let oe=1,ae=E.length,je=x.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(E.length<2||x.length<2)return-1;oe=2,ae/=2,je/=2,v/=2}function Re(Se,Fe){return oe===1?Se[Fe]:Se.readUInt16BE(Fe*oe)}let Ce;if(re){let Se=-1;for(Ce=v;Ce<ae;Ce++)if(Re(E,Ce)===Re(x,Se===-1?0:Ce-Se)){if(Se===-1&&(Se=Ce),Ce-Se+1===je)return Se*oe}else Se!==-1&&(Ce-=Ce-Se),Se=-1}else for(v+je>ae&&(v=ae-je),Ce=v;Ce>=0;Ce--){let Se=!0;for(let Fe=0;Fe<je;Fe++)if(Re(E,Ce+Fe)!==Re(x,Fe)){Se=!1;break}if(Se)return Ce}return-1}l.prototype.includes=function(x,v,$){return this.indexOf(x,v,$)!==-1},l.prototype.indexOf=function(x,v,$){return W(this,x,v,$,!0)},l.prototype.lastIndexOf=function(x,v,$){return W(this,x,v,$,!1)};function F(E,x,v,$){v=Number(v)||0;const re=E.length-v;$?($=Number($),$>re&&($=re)):$=re;const oe=x.length;$>oe/2&&($=oe/2);let ae;for(ae=0;ae<$;++ae){const je=parseInt(x.substr(ae*2,2),16);if(pe(je))return ae;E[v+ae]=je}return ae}function J(E,x,v,$){return K(h(x,E.length-v),E,v,$)}function U(E,x,v,$){return K(y(x),E,v,$)}function I(E,x,v,$){return K(B(x),E,v,$)}function Y(E,x,v,$){return K(T(x,E.length-v),E,v,$)}l.prototype.write=function(x,v,$,re){if(v===void 0)re="utf8",$=this.length,v=0;else if($===void 0&&typeof v=="string")re=v,$=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite($)?($=$>>>0,re===void 0&&(re="utf8")):(re=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const oe=this.length-v;if(($===void 0||$>oe)&&($=oe),x.length>0&&($<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");let ae=!1;for(;;)switch(re){case"hex":return F(this,x,v,$);case"utf8":case"utf-8":return J(this,x,v,$);case"ascii":case"latin1":case"binary":return U(this,x,v,$);case"base64":return I(this,x,v,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,x,v,$);default:if(ae)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),ae=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(E,x,v){return x===0&&v===E.length?t.fromByteArray(E):t.fromByteArray(E.slice(x,v))}function P(E,x,v){v=Math.min(E.length,v);const $=[];let re=x;for(;re<v;){const oe=E[re];let ae=null,je=oe>239?4:oe>223?3:oe>191?2:1;if(re+je<=v){let Re,Ce,Se,Fe;switch(je){case 1:oe<128&&(ae=oe);break;case 2:Re=E[re+1],(Re&192)===128&&(Fe=(oe&31)<<6|Re&63,Fe>127&&(ae=Fe));break;case 3:Re=E[re+1],Ce=E[re+2],(Re&192)===128&&(Ce&192)===128&&(Fe=(oe&15)<<12|(Re&63)<<6|Ce&63,Fe>2047&&(Fe<55296||Fe>57343)&&(ae=Fe));break;case 4:Re=E[re+1],Ce=E[re+2],Se=E[re+3],(Re&192)===128&&(Ce&192)===128&&(Se&192)===128&&(Fe=(oe&15)<<18|(Re&63)<<12|(Ce&63)<<6|Se&63,Fe>65535&&Fe<1114112&&(ae=Fe))}}ae===null?(ae=65533,je=1):ae>65535&&(ae-=65536,$.push(ae>>>10&1023|55296),ae=56320|ae&1023),$.push(ae),re+=je}return D($)}const G=4096;function D(E){const x=E.length;if(x<=G)return String.fromCharCode.apply(String,E);let v="",$=0;for(;$<x;)v+=String.fromCharCode.apply(String,E.slice($,$+=G));return v}function ie(E,x,v){let $="";v=Math.min(E.length,v);for(let re=x;re<v;++re)$+=String.fromCharCode(E[re]&127);return $}function Q(E,x,v){let $="";v=Math.min(E.length,v);for(let re=x;re<v;++re)$+=String.fromCharCode(E[re]);return $}function te(E,x,v){const $=E.length;(!x||x<0)&&(x=0),(!v||v<0||v>$)&&(v=$);let re="";for(let oe=x;oe<v;++oe)re+=we[E[oe]];return re}function he(E,x,v){const $=E.slice(x,v);let re="";for(let oe=0;oe<$.length-1;oe+=2)re+=String.fromCharCode($[oe]+$[oe+1]*256);return re}l.prototype.slice=function(x,v){const $=this.length;x=~~x,v=v===void 0?$:~~v,x<0?(x+=$,x<0&&(x=0)):x>$&&(x=$),v<0?(v+=$,v<0&&(v=0)):v>$&&(v=$),v<x&&(v=x);const re=this.subarray(x,v);return Object.setPrototypeOf(re,l.prototype),re};function ce(E,x,v){if(E%1!==0||E<0)throw new RangeError("offset is not uint");if(E+x>v)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(x,v,$){x=x>>>0,v=v>>>0,$||ce(x,v,this.length);let re=this[x],oe=1,ae=0;for(;++ae<v&&(oe*=256);)re+=this[x+ae]*oe;return re},l.prototype.readUintBE=l.prototype.readUIntBE=function(x,v,$){x=x>>>0,v=v>>>0,$||ce(x,v,this.length);let re=this[x+--v],oe=1;for(;v>0&&(oe*=256);)re+=this[x+--v]*oe;return re},l.prototype.readUint8=l.prototype.readUInt8=function(x,v){return x=x>>>0,v||ce(x,1,this.length),this[x]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(x,v){return x=x>>>0,v||ce(x,2,this.length),this[x]|this[x+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(x,v){return x=x>>>0,v||ce(x,2,this.length),this[x]<<8|this[x+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(x,v){return x=x>>>0,v||ce(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(x,v){return x=x>>>0,v||ce(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},l.prototype.readBigUInt64LE=be(function(x){x=x>>>0,ee(x,"offset");const v=this[x],$=this[x+7];(v===void 0||$===void 0)&&Z(x,this.length-8);const re=v+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24,oe=this[++x]+this[++x]*2**8+this[++x]*2**16+$*2**24;return BigInt(re)+(BigInt(oe)<<BigInt(32))}),l.prototype.readBigUInt64BE=be(function(x){x=x>>>0,ee(x,"offset");const v=this[x],$=this[x+7];(v===void 0||$===void 0)&&Z(x,this.length-8);const re=v*2**24+this[++x]*2**16+this[++x]*2**8+this[++x],oe=this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+$;return(BigInt(re)<<BigInt(32))+BigInt(oe)}),l.prototype.readIntLE=function(x,v,$){x=x>>>0,v=v>>>0,$||ce(x,v,this.length);let re=this[x],oe=1,ae=0;for(;++ae<v&&(oe*=256);)re+=this[x+ae]*oe;return oe*=128,re>=oe&&(re-=Math.pow(2,8*v)),re},l.prototype.readIntBE=function(x,v,$){x=x>>>0,v=v>>>0,$||ce(x,v,this.length);let re=v,oe=1,ae=this[x+--re];for(;re>0&&(oe*=256);)ae+=this[x+--re]*oe;return oe*=128,ae>=oe&&(ae-=Math.pow(2,8*v)),ae},l.prototype.readInt8=function(x,v){return x=x>>>0,v||ce(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},l.prototype.readInt16LE=function(x,v){x=x>>>0,v||ce(x,2,this.length);const $=this[x]|this[x+1]<<8;return $&32768?$|4294901760:$},l.prototype.readInt16BE=function(x,v){x=x>>>0,v||ce(x,2,this.length);const $=this[x+1]|this[x]<<8;return $&32768?$|4294901760:$},l.prototype.readInt32LE=function(x,v){return x=x>>>0,v||ce(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},l.prototype.readInt32BE=function(x,v){return x=x>>>0,v||ce(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},l.prototype.readBigInt64LE=be(function(x){x=x>>>0,ee(x,"offset");const v=this[x],$=this[x+7];(v===void 0||$===void 0)&&Z(x,this.length-8);const re=this[x+4]+this[x+5]*2**8+this[x+6]*2**16+($<<24);return(BigInt(re)<<BigInt(32))+BigInt(v+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24)}),l.prototype.readBigInt64BE=be(function(x){x=x>>>0,ee(x,"offset");const v=this[x],$=this[x+7];(v===void 0||$===void 0)&&Z(x,this.length-8);const re=(v<<24)+this[++x]*2**16+this[++x]*2**8+this[++x];return(BigInt(re)<<BigInt(32))+BigInt(this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+$)}),l.prototype.readFloatLE=function(x,v){return x=x>>>0,v||ce(x,4,this.length),r.read(this,x,!0,23,4)},l.prototype.readFloatBE=function(x,v){return x=x>>>0,v||ce(x,4,this.length),r.read(this,x,!1,23,4)},l.prototype.readDoubleLE=function(x,v){return x=x>>>0,v||ce(x,8,this.length),r.read(this,x,!0,52,8)},l.prototype.readDoubleBE=function(x,v){return x=x>>>0,v||ce(x,8,this.length),r.read(this,x,!1,52,8)};function ue(E,x,v,$,re,oe){if(!l.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>re||x<oe)throw new RangeError('"value" argument is out of bounds');if(v+$>E.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(x,v,$,re){if(x=+x,v=v>>>0,$=$>>>0,!re){const je=Math.pow(2,8*$)-1;ue(this,x,v,$,je,0)}let oe=1,ae=0;for(this[v]=x&255;++ae<$&&(oe*=256);)this[v+ae]=x/oe&255;return v+$},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(x,v,$,re){if(x=+x,v=v>>>0,$=$>>>0,!re){const je=Math.pow(2,8*$)-1;ue(this,x,v,$,je,0)}let oe=$-1,ae=1;for(this[v+oe]=x&255;--oe>=0&&(ae*=256);)this[v+oe]=x/ae&255;return v+$},l.prototype.writeUint8=l.prototype.writeUInt8=function(x,v,$){return x=+x,v=v>>>0,$||ue(this,x,v,1,255,0),this[v]=x&255,v+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(x,v,$){return x=+x,v=v>>>0,$||ue(this,x,v,2,65535,0),this[v]=x&255,this[v+1]=x>>>8,v+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(x,v,$){return x=+x,v=v>>>0,$||ue(this,x,v,2,65535,0),this[v]=x>>>8,this[v+1]=x&255,v+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(x,v,$){return x=+x,v=v>>>0,$||ue(this,x,v,4,4294967295,0),this[v+3]=x>>>24,this[v+2]=x>>>16,this[v+1]=x>>>8,this[v]=x&255,v+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(x,v,$){return x=+x,v=v>>>0,$||ue(this,x,v,4,4294967295,0),this[v]=x>>>24,this[v+1]=x>>>16,this[v+2]=x>>>8,this[v+3]=x&255,v+4};function _e(E,x,v,$,re){q(x,$,re,E,v,7);let oe=Number(x&BigInt(4294967295));E[v++]=oe,oe=oe>>8,E[v++]=oe,oe=oe>>8,E[v++]=oe,oe=oe>>8,E[v++]=oe;let ae=Number(x>>BigInt(32)&BigInt(4294967295));return E[v++]=ae,ae=ae>>8,E[v++]=ae,ae=ae>>8,E[v++]=ae,ae=ae>>8,E[v++]=ae,v}function k(E,x,v,$,re){q(x,$,re,E,v,7);let oe=Number(x&BigInt(4294967295));E[v+7]=oe,oe=oe>>8,E[v+6]=oe,oe=oe>>8,E[v+5]=oe,oe=oe>>8,E[v+4]=oe;let ae=Number(x>>BigInt(32)&BigInt(4294967295));return E[v+3]=ae,ae=ae>>8,E[v+2]=ae,ae=ae>>8,E[v+1]=ae,ae=ae>>8,E[v]=ae,v+8}l.prototype.writeBigUInt64LE=be(function(x,v=0){return _e(this,x,v,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=be(function(x,v=0){return k(this,x,v,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(x,v,$,re){if(x=+x,v=v>>>0,!re){const Re=Math.pow(2,8*$-1);ue(this,x,v,$,Re-1,-Re)}let oe=0,ae=1,je=0;for(this[v]=x&255;++oe<$&&(ae*=256);)x<0&&je===0&&this[v+oe-1]!==0&&(je=1),this[v+oe]=(x/ae>>0)-je&255;return v+$},l.prototype.writeIntBE=function(x,v,$,re){if(x=+x,v=v>>>0,!re){const Re=Math.pow(2,8*$-1);ue(this,x,v,$,Re-1,-Re)}let oe=$-1,ae=1,je=0;for(this[v+oe]=x&255;--oe>=0&&(ae*=256);)x<0&&je===0&&this[v+oe+1]!==0&&(je=1),this[v+oe]=(x/ae>>0)-je&255;return v+$},l.prototype.writeInt8=function(x,v,$){return x=+x,v=v>>>0,$||ue(this,x,v,1,127,-128),x<0&&(x=255+x+1),this[v]=x&255,v+1},l.prototype.writeInt16LE=function(x,v,$){return x=+x,v=v>>>0,$||ue(this,x,v,2,32767,-32768),this[v]=x&255,this[v+1]=x>>>8,v+2},l.prototype.writeInt16BE=function(x,v,$){return x=+x,v=v>>>0,$||ue(this,x,v,2,32767,-32768),this[v]=x>>>8,this[v+1]=x&255,v+2},l.prototype.writeInt32LE=function(x,v,$){return x=+x,v=v>>>0,$||ue(this,x,v,4,2147483647,-2147483648),this[v]=x&255,this[v+1]=x>>>8,this[v+2]=x>>>16,this[v+3]=x>>>24,v+4},l.prototype.writeInt32BE=function(x,v,$){return x=+x,v=v>>>0,$||ue(this,x,v,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[v]=x>>>24,this[v+1]=x>>>16,this[v+2]=x>>>8,this[v+3]=x&255,v+4},l.prototype.writeBigInt64LE=be(function(x,v=0){return _e(this,x,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=be(function(x,v=0){return k(this,x,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ye(E,x,v,$,re,oe){if(v+$>E.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function ve(E,x,v,$,re){return x=+x,v=v>>>0,re||ye(E,x,v,4),r.write(E,x,v,$,23,4),v+4}l.prototype.writeFloatLE=function(x,v,$){return ve(this,x,v,!0,$)},l.prototype.writeFloatBE=function(x,v,$){return ve(this,x,v,!1,$)};function le(E,x,v,$,re){return x=+x,v=v>>>0,re||ye(E,x,v,8),r.write(E,x,v,$,52,8),v+8}l.prototype.writeDoubleLE=function(x,v,$){return le(this,x,v,!0,$)},l.prototype.writeDoubleBE=function(x,v,$){return le(this,x,v,!1,$)},l.prototype.copy=function(x,v,$,re){if(!l.isBuffer(x))throw new TypeError("argument should be a Buffer");if($||($=0),!re&&re!==0&&(re=this.length),v>=x.length&&(v=x.length),v||(v=0),re>0&&re<$&&(re=$),re===$||x.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),x.length-v<re-$&&(re=x.length-v+$);const oe=re-$;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,$,re):Uint8Array.prototype.set.call(x,this.subarray($,re),v),oe},l.prototype.fill=function(x,v,$,re){if(typeof x=="string"){if(typeof v=="string"?(re=v,v=0,$=this.length):typeof $=="string"&&(re=$,$=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!l.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(x.length===1){const ae=x.charCodeAt(0);(re==="utf8"&&ae<128||re==="latin1")&&(x=ae)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(v<0||this.length<v||this.length<$)throw new RangeError("Out of range index");if($<=v)return this;v=v>>>0,$=$===void 0?this.length:$>>>0,x||(x=0);let oe;if(typeof x=="number")for(oe=v;oe<$;++oe)this[oe]=x;else{const ae=l.isBuffer(x)?x:l.from(x,re),je=ae.length;if(je===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(oe=0;oe<$-v;++oe)this[oe+v]=ae[oe%je]}return this};const fe={};function me(E,x,v){fe[E]=class extends v{constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${E}]`,this.stack,delete this.name}get code(){return E}set code(re){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:re,writable:!0})}toString(){return`${this.name} [${E}]: ${this.message}`}}}me("ERR_BUFFER_OUT_OF_BOUNDS",function(E){return E?`${E} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(E,x){return`The "${E}" argument must be of type number. Received type ${typeof x}`},TypeError),me("ERR_OUT_OF_RANGE",function(E,x,v){let $=`The value of "${E}" is out of range.`,re=v;return Number.isInteger(v)&&Math.abs(v)>2**32?re=A(String(v)):typeof v=="bigint"&&(re=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(re=A(re)),re+="n"),$+=` It must be ${x}. Received ${re}`,$},RangeError);function A(E){let x="",v=E.length;const $=E[0]==="-"?1:0;for(;v>=$+4;v-=3)x=`_${E.slice(v-3,v)}${x}`;return`${E.slice(0,v)}${x}`}function z(E,x,v){ee(x,"offset"),(E[x]===void 0||E[x+v]===void 0)&&Z(x,E.length-(v+1))}function q(E,x,v,$,re,oe){if(E>v||E<x){const ae=typeof x=="bigint"?"n":"";let je;throw oe>3?x===0||x===BigInt(0)?je=`>= 0${ae} and < 2${ae} ** ${(oe+1)*8}${ae}`:je=`>= -(2${ae} ** ${(oe+1)*8-1}${ae}) and < 2 ** ${(oe+1)*8-1}${ae}`:je=`>= ${x}${ae} and <= ${v}${ae}`,new fe.ERR_OUT_OF_RANGE("value",je,E)}z($,re,oe)}function ee(E,x){if(typeof E!="number")throw new fe.ERR_INVALID_ARG_TYPE(x,"number",E)}function Z(E,x,v){throw Math.floor(E)!==E?(ee(E,v),new fe.ERR_OUT_OF_RANGE(v||"offset","an integer",E)):x<0?new fe.ERR_BUFFER_OUT_OF_BOUNDS:new fe.ERR_OUT_OF_RANGE(v||"offset",`>= ${v?1:0} and <= ${x}`,E)}const ne=/[^+/0-9A-Za-z-_]/g;function b(E){if(E=E.split("=")[0],E=E.trim().replace(ne,""),E.length<2)return"";for(;E.length%4!==0;)E=E+"=";return E}function h(E,x){x=x||1/0;let v;const $=E.length;let re=null;const oe=[];for(let ae=0;ae<$;++ae){if(v=E.charCodeAt(ae),v>55295&&v<57344){if(!re){if(v>56319){(x-=3)>-1&&oe.push(239,191,189);continue}else if(ae+1===$){(x-=3)>-1&&oe.push(239,191,189);continue}re=v;continue}if(v<56320){(x-=3)>-1&&oe.push(239,191,189),re=v;continue}v=(re-55296<<10|v-56320)+65536}else re&&(x-=3)>-1&&oe.push(239,191,189);if(re=null,v<128){if((x-=1)<0)break;oe.push(v)}else if(v<2048){if((x-=2)<0)break;oe.push(v>>6|192,v&63|128)}else if(v<65536){if((x-=3)<0)break;oe.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((x-=4)<0)break;oe.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return oe}function y(E){const x=[];for(let v=0;v<E.length;++v)x.push(E.charCodeAt(v)&255);return x}function T(E,x){let v,$,re;const oe=[];for(let ae=0;ae<E.length&&!((x-=2)<0);++ae)v=E.charCodeAt(ae),$=v>>8,re=v%256,oe.push(re),oe.push($);return oe}function B(E){return t.toByteArray(b(E))}function K(E,x,v,$){let re;for(re=0;re<$&&!(re+v>=x.length||re>=E.length);++re)x[re+v]=E[re];return re}function se(E,x){return E instanceof x||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===x.name}function pe(E){return E!==E}const we=function(){const E="0123456789abcdef",x=new Array(256);for(let v=0;v<16;++v){const $=v*16;for(let re=0;re<16;++re)x[$+re]=E[v]+E[re]}return x}();function be(E){return typeof BigInt>"u"?Ae:E}function Ae(){throw new Error("BigInt not supported")}})(q1);var Wf;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(Wf||(Wf={}));const Sc="abcdefghijklmnopqrstuvwxyz234567",eo=Object.create(null);for(let e=0;e<Sc.length;e++)eo[Sc[e]]=e;eo[0]=eo.o;eo[1]=eo.i;function $E(e){let t=0,r=0,n="";function i(o){return t<0?r|=o>>-t:r=o<<t&248,t>3?(t-=8,1):(t<4&&(n+=Sc[r>>3],t+=5),0)}for(let o=0;o<e.length;)o+=i(e[o]);return n+(t<0?Sc[r>>3]:"")}function HE(e){let t=0,r=0;const n=new Uint8Array(e.length*4/3|0);let i=0;function o(a){let l=eo[a.toLowerCase()];if(l===void 0)throw new Error(`Invalid character: ${JSON.stringify(a)}`);l<<=3,r|=l>>>t,t+=5,t>=8&&(n[i++]=r,t-=8,t>0?r=l<<5-t&255:r=0)}for(const a of e)o(a);return n.slice(0,i)}const IE=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function GE(e){const t=new Uint8Array(e);let r=-1;for(let n=0;n<t.length;n++){const o=(t[n]^r)&255;r=IE[o]^r>>>8}return(r^-1)>>>0}const os=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function h0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function qE(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function It(e,...t){if(!h0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function nm(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function KE(e,t){It(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function ha(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function yd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Hr(e,t){return e<<32-t|e>>>t}const Y1=(()=>typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function")(),YE=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function to(e){if(It(e),Y1)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=YE[e[r]];return t}const on={_0:48,_9:57,A:65,F:70,a:97,f:102};function im(e){if(e>=on._0&&e<=on._9)return e-on._0;if(e>=on.A&&e<=on.F)return e-(on.A-10);if(e>=on.a&&e<=on.f)return e-(on.a-10)}function Q1(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Y1)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const a=im(e.charCodeAt(o)),l=im(e.charCodeAt(o+1));if(a===void 0||l===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=a*16+l}return n}function Ba(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Z1(e){return typeof e=="string"&&(e=Ba(e)),It(e),e}function pt(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];It(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}class QE{}function p0(e){const t=n=>e().update(Z1(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function X1(e=32){if(os&&typeof os.getRandomValues=="function")return os.getRandomValues(new Uint8Array(e));if(os&&typeof os.randomBytes=="function")return Uint8Array.from(os.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function ZE(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),l=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+u,l,n)}function XE(e,t,r){return e&t^~e&r}function JE(e,t,r){return e&t^e&r^t&r}class J1 extends QE{constructor(t,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(t),this.view=yd(this.buffer)}update(t){nm(this),t=Z1(t),It(t);const{view:r,buffer:n,blockLen:i}=this,o=t.length;for(let a=0;a<o;){const l=Math.min(i-this.pos,o-a);if(l===i){const c=yd(t);for(;i<=o-a;a+=i)this.process(c,a);continue}n.set(t.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){nm(this),KE(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:a}=this;r[a++]=128,ha(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;ZE(n,i-8,BigInt(this.length*8),o),this.process(n,0);const l=yd(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<u;g++)l.setUint32(4*g,d[g],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:l}=this;return t.destroyed=a,t.finished=o,t.length=i,t.pos=l,i%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const On=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mn=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Mt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),sl=BigInt(2**32-1),sm=BigInt(32);function LE(e,t=!1){return t?{h:Number(e&sl),l:Number(e>>sm&sl)}:{h:Number(e>>sm&sl)|0,l:Number(e&sl)|0}}function DE(e,t=!1){const r=e.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l}=LE(e[o],t);[n[o],i[o]]=[a,l]}return[n,i]}const om=(e,t,r)=>e>>>r,am=(e,t,r)=>e<<32-r|t>>>r,as=(e,t,r)=>e>>>r|t<<32-r,ls=(e,t,r)=>e<<32-r|t>>>r,ol=(e,t,r)=>e<<64-r|t>>>r-32,al=(e,t,r)=>e>>>r-32|t<<64-r;function an(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const eS=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),tS=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,rS=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),nS=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,iS=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),sS=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,oS=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Un=new Uint32Array(64);class L1 extends J1{constructor(t=32){super(64,t,8,!1),this.A=On[0]|0,this.B=On[1]|0,this.C=On[2]|0,this.D=On[3]|0,this.E=On[4]|0,this.F=On[5]|0,this.G=On[6]|0,this.H=On[7]|0}get(){const{A:t,B:r,C:n,D:i,E:o,F:a,G:l,H:c}=this;return[t,r,n,i,o,a,l,c]}set(t,r,n,i,o,a,l,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=l|0,this.H=c|0}process(t,r){for(let g=0;g<16;g++,r+=4)Un[g]=t.getUint32(r,!1);for(let g=16;g<64;g++){const f=Un[g-15],p=Un[g-2],m=Hr(f,7)^Hr(f,18)^f>>>3,j=Hr(p,17)^Hr(p,19)^p>>>10;Un[g]=j+Un[g-7]+m+Un[g-16]|0}let{A:n,B:i,C:o,D:a,E:l,F:c,G:u,H:d}=this;for(let g=0;g<64;g++){const f=Hr(l,6)^Hr(l,11)^Hr(l,25),p=d+f+XE(l,c,u)+oS[g]+Un[g]|0,j=(Hr(n,2)^Hr(n,13)^Hr(n,22))+JE(n,i,o)|0;d=u,u=c,c=l,l=a+p|0,a=o,o=i,i=n,n=p+j|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(n,i,o,a,l,c,u,d)}roundClean(){ha(Un)}destroy(){this.set(0,0,0,0,0,0,0,0),ha(this.buffer)}}class aS extends L1{constructor(){super(28),this.A=Mn[0]|0,this.B=Mn[1]|0,this.C=Mn[2]|0,this.D=Mn[3]|0,this.E=Mn[4]|0,this.F=Mn[5]|0,this.G=Mn[6]|0,this.H=Mn[7]|0}}const D1=(()=>DE(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),lS=(()=>D1[0])(),cS=(()=>D1[1])(),zn=new Uint32Array(80),Vn=new Uint32Array(80);class uS extends J1{constructor(t=64){super(128,t,16,!1),this.Ah=Mt[0]|0,this.Al=Mt[1]|0,this.Bh=Mt[2]|0,this.Bl=Mt[3]|0,this.Ch=Mt[4]|0,this.Cl=Mt[5]|0,this.Dh=Mt[6]|0,this.Dl=Mt[7]|0,this.Eh=Mt[8]|0,this.El=Mt[9]|0,this.Fh=Mt[10]|0,this.Fl=Mt[11]|0,this.Gh=Mt[12]|0,this.Gl=Mt[13]|0,this.Hh=Mt[14]|0,this.Hl=Mt[15]|0}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:g,Fl:f,Gh:p,Gl:m,Hh:j,Hl:R}=this;return[t,r,n,i,o,a,l,c,u,d,g,f,p,m,j,R]}set(t,r,n,i,o,a,l,c,u,d,g,f,p,m,j,R){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=g|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=j|0,this.Hl=R|0}process(t,r){for(let _=0;_<16;_++,r+=4)zn[_]=t.getUint32(r),Vn[_]=t.getUint32(r+=4);for(let _=16;_<80;_++){const O=zn[_-15]|0,C=Vn[_-15]|0,W=as(O,C,1)^as(O,C,8)^om(O,C,7),H=ls(O,C,1)^ls(O,C,8)^am(O,C,7),F=zn[_-2]|0,J=Vn[_-2]|0,U=as(F,J,19)^ol(F,J,61)^om(F,J,6),I=ls(F,J,19)^al(F,J,61)^am(F,J,6),Y=rS(H,I,Vn[_-7],Vn[_-16]),N=nS(Y,W,U,zn[_-7],zn[_-16]);zn[_]=N|0,Vn[_]=Y|0}let{Ah:n,Al:i,Bh:o,Bl:a,Ch:l,Cl:c,Dh:u,Dl:d,Eh:g,El:f,Fh:p,Fl:m,Gh:j,Gl:R,Hh:S,Hl:w}=this;for(let _=0;_<80;_++){const O=as(g,f,14)^as(g,f,18)^ol(g,f,41),C=ls(g,f,14)^ls(g,f,18)^al(g,f,41),W=g&p^~g&j,H=f&m^~f&R,F=iS(w,C,H,cS[_],Vn[_]),J=sS(F,S,O,W,lS[_],zn[_]),U=F|0,I=as(n,i,28)^ol(n,i,34)^ol(n,i,39),Y=ls(n,i,28)^al(n,i,34)^al(n,i,39),N=n&o^n&l^o&l,P=i&a^i&c^a&c;S=j|0,w=R|0,j=p|0,R=m|0,p=g|0,m=f|0,{h:g,l:f}=an(u|0,d|0,J|0,U|0),u=l|0,d=c|0,l=o|0,c=a|0,o=n|0,a=i|0;const G=eS(U,Y,P);n=tS(G,J,I,N),i=G|0}({h:n,l:i}=an(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:a}=an(this.Bh|0,this.Bl|0,o|0,a|0),{h:l,l:c}=an(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:d}=an(this.Dh|0,this.Dl|0,u|0,d|0),{h:g,l:f}=an(this.Eh|0,this.El|0,g|0,f|0),{h:p,l:m}=an(this.Fh|0,this.Fl|0,p|0,m|0),{h:j,l:R}=an(this.Gh|0,this.Gl|0,j|0,R|0),{h:S,l:w}=an(this.Hh|0,this.Hl|0,S|0,w|0),this.set(n,i,o,a,l,c,u,d,g,f,p,m,j,R,S,w)}roundClean(){ha(zn,Vn)}destroy(){ha(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const m0=p0(()=>new L1),dS=p0(()=>new aS),fS=p0(()=>new uS),hS=m0,pS=dS;function mS(e){return pS.create().update(new Uint8Array(e)).digest()}const ll="__principal__",gS=2,lm=4,yS="aaaaa-aa",xS=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},vS=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"");let Pe=class Al{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([lm]))}static managementCanister(){return this.fromText(yS)}static selfAuthenticating(t){const r=mS(t);return new this(new Uint8Array([...r,gS]))}static from(t){if(typeof t=="string")return Al.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new Al(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new Al(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(xS(t))}static fromText(t){let r=t;if(t.includes(ll)){const a=JSON.parse(t);ll in a&&(r=a[ll])}const n=r.toLowerCase().replace(/-/g,"");let i=HE(n);i=i.slice(4,i.length);const o=new this(i);if(o.toText()!==r)throw new Error(`Principal "${o.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return o}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===lm}toUint8Array(){return this._arr}toHex(){return vS(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,GE(this._arr));const n=new Uint8Array(t),i=Uint8Array.from(this._arr),o=new Uint8Array([...n,...i]),l=$E(o).match(/.{1,5}/g);if(!l)throw new Error;return l.join("-")}toString(){return this.toText()}toJSON(){return{[ll]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){const r=this.compareTo(t);return r=="gt"||r=="eq"}};function Mr(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t.buffer}function tt(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const wS=new RegExp(/^[0-9a-fA-F]+$/);function Sn(e){if(!wS.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((r,n,i)=>(r[i/2|0]=(r[i/2|0]||"")+n,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function ex(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return r[i]-n[i];return 0}function Fa(e,t){return ex(e,t)===0}function Go(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function xn(e){return e instanceof Uint8Array?Go(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Go(new Uint8Array(e)):"buffer"in e?xn(e.buffer):Go(new Uint8Array(e))}class ut extends Error{constructor(t){super(t),this.message=t,this.name="AgentError",this.__proto__=ut.prototype,Object.setPrototypeOf(this,ut.prototype)}}function Ke(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t}class uo{constructor(t,r=(t==null?void 0:t.byteLength)||0){this._buffer=Yi(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,r)}save(){return this._view}restore(t){this._view=t}get buffer(){return Yi(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const r=this._view.subarray(0,t);return this._view=this._view.subarray(t),r.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const r=new Uint8Array(t),n=this._view.byteLength;this._view.byteOffset+this._view.byteLength+r.byteLength>=this._buffer.byteLength?this.alloc(r.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+r.byteLength),this._view.set(r,n)}get end(){return this._view.byteLength===0}alloc(t){const r=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),n=new Uint8Array(r,0,this._view.byteLength+t);n.set(this._view),this._buffer=r,this._view=n}}function xd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Yi(e){return e instanceof Uint8Array?xd(e):e instanceof ArrayBuffer?e:Array.isArray(e)?xd(new Uint8Array(e)):"buffer"in e?Yi(e.buffer):xd(new Uint8Array(e))}function bS(e){const r=new TextEncoder().encode(e);let n=0;for(const i of r)n=(n*223+i)%2**32;return n}function Dr(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return bS(e)}function tx(){throw new Error("unexpected end of buffer")}function Qi(e,t){return e.byteLength<t&&tx(),e.read(t)}function Zi(e){const t=e.readUint8();return t===void 0&&tx(),t}function dt(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new uo(new ArrayBuffer(t),0);for(;;){const n=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([n]));break}else r.write(new Uint8Array([n|128]))}return r.buffer}function St(e){let t=BigInt(1),r=BigInt(0),n;do n=Zi(e),r+=BigInt(n&127).valueOf()*t,t*=BigInt(128);while(n>=128);return r}function _t(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new uo(new ArrayBuffer(r),0);for(;;){const o=i(e);if(e/=BigInt(128),t&&e===BigInt(0)&&o&64||!t&&e===BigInt(0)&&!(o&64)){n.write(new Uint8Array([o]));break}else n.write(new Uint8Array([o|128]))}function i(o){const a=o%BigInt(128);return Number(t?BigInt(128)-a-BigInt(1):a)}return n.buffer}function Wn(e){const t=new Uint8Array(e.buffer);let r=0;for(;r<t.byteLength;r++)if(t[r]<128){if(!(t[r]&64))return St(e);break}const n=new Uint8Array(Qi(e,r+1));let i=BigInt(0);for(let o=n.byteLength-1;o>=0;o--)i=i*BigInt(128)+BigInt(128-(n[o]&127)-1);return-i-BigInt(1)}function _S(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return rx(e,t)}function rx(e,t){e=BigInt(e);const r=new uo(new ArrayBuffer(Math.min(1,t)),0);let n=0,i=BigInt(256),o=BigInt(0),a=Number(e%i);for(r.write(new Uint8Array([a]));++n<t;)e<0&&o===BigInt(0)&&a!==0&&(o=BigInt(1)),a=Number((e/i-o)%BigInt(256)),r.write(new Uint8Array([a])),i*=BigInt(256);return r.buffer}function nx(e,t){let r=BigInt(Zi(e)),n=BigInt(1),i=0;for(;++i<t;){n*=BigInt(256);const o=BigInt(Zi(e));r=r+n*o}return r}function ES(e,t){let r=nx(e,t);const n=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}function $f(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const Rl="DIDL",cm=400;function pa(e,t,r){return e.map((n,i)=>r(n,t[i]))}class SS{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,r){const n=this._typs.length;this._idx.set(t.name,n),this._typs.push(r)}merge(t,r){const n=this._idx.get(t.name),i=this._idx.get(r);if(n===void 0)throw new Error("Missing type index for "+t);if(i===void 0)throw new Error("Missing type index for "+r);this._typs[n]=this._typs[i],this._typs.splice(i,1),this._idx.delete(r)}encode(){const t=dt(this._typs.length),r=Ke(...this._typs);return Ke(t,r)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return _t(this._idx.get(t)||0)}}class NS{visitType(t,r){throw new Error("Not implemented")}visitPrimitive(t,r){return this.visitType(t,r)}visitEmpty(t,r){return this.visitPrimitive(t,r)}visitBool(t,r){return this.visitPrimitive(t,r)}visitNull(t,r){return this.visitPrimitive(t,r)}visitReserved(t,r){return this.visitPrimitive(t,r)}visitText(t,r){return this.visitPrimitive(t,r)}visitNumber(t,r){return this.visitPrimitive(t,r)}visitInt(t,r){return this.visitNumber(t,r)}visitNat(t,r){return this.visitNumber(t,r)}visitFloat(t,r){return this.visitPrimitive(t,r)}visitFixedInt(t,r){return this.visitNumber(t,r)}visitFixedNat(t,r){return this.visitNumber(t,r)}visitPrincipal(t,r){return this.visitPrimitive(t,r)}visitConstruct(t,r){return this.visitType(t,r)}visitVec(t,r,n){return this.visitConstruct(t,n)}visitOpt(t,r,n){return this.visitConstruct(t,n)}visitRecord(t,r,n){return this.visitConstruct(t,n)}visitTuple(t,r,n){const i=r.map((o,a)=>[`_${a}_`,o]);return this.visitRecord(t,i,n)}visitVariant(t,r,n){return this.visitConstruct(t,n)}visitRec(t,r,n){return this.visitConstruct(r,n)}visitFunc(t,r){return this.visitConstruct(t,r)}visitService(t,r){return this.visitConstruct(t,r)}}class uu{display(){return this.name}valueToString(t){return mt(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class Er extends uu{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class yi extends uu{checkType(t){if(t instanceof Fn){const r=t.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class ix extends Er{accept(t,r){return t.visitEmpty(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return _t(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class sx extends uu{checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,r){throw t.visitType(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,r){let n=r.decodeValue(t,r);Object(n)!==n&&(n=Object(n));let i;return r instanceof Fn?i=()=>r.getType():i=()=>r,Object.defineProperty(n,"type",{value:i,writable:!0,enumerable:!1,configurable:!0}),n}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class ox extends Er{accept(t,r){return t.visitBool(this,r)}covariant(t){if(typeof t=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return _t(-2)}decodeValue(t,r){switch(this.checkType(r),Zi(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class Nc extends Er{accept(t,r){return t.visitNull(this,r)}covariant(t){if(t===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return _t(-1)}decodeValue(t,r){return this.checkType(r),null}get name(){return"null"}}class ro extends Er{accept(t,r){return t.visitReserved(this,r)}covariant(t){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return _t(-16)}decodeValue(t,r){return r.name!==this.name&&r.decodeValue(t,r),null}get name(){return"reserved"}}class ax extends Er{accept(t,r){return t.visitText(this,r)}covariant(t){if(typeof t=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){const r=new TextEncoder().encode(t),n=dt(r.byteLength);return Ke(n,r)}encodeType(){return _t(-15)}decodeValue(t,r){this.checkType(r);const n=St(t),i=Qi(t,Number(n));return new TextDecoder("utf8",{fatal:!0}).decode(i)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class lx extends Er{accept(t,r){return t.visitInt(this,r)}covariant(t){if(typeof t=="bigint"||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){return _t(t)}encodeType(){return _t(-4)}decodeValue(t,r){return this.checkType(r),Wn(t)}get name(){return"int"}valueToString(t){return t.toString()}}class cx extends Er{accept(t,r){return t.visitNat(this,r)}covariant(t){if(typeof t=="bigint"&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){return dt(t)}encodeType(){return _t(-3)}decodeValue(t,r){return this.checkType(r),St(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class g0 extends Er{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){const r=new ArrayBuffer(this._bits/8),n=new DataView(r);return this._bits===32?n.setFloat32(0,t,!0):n.setFloat64(0,t,!0),r}encodeType(){const t=this._bits===32?-13:-14;return _t(t)}decodeValue(t,r){this.checkType(r);const n=Qi(t,this._bits/8),i=new DataView(n);return this._bits===32?i.getFloat32(0,!0):i.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class Xi extends Er{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){const r=$f(this._bits-1)*BigInt(-1),n=$f(this._bits-1)-BigInt(1);let i=!1;if(typeof t=="bigint")i=t>=r&&t<=n;else if(Number.isInteger(t)){const o=BigInt(t);i=o>=r&&o<=n}else i=!1;if(i)return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){return rx(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return _t(-9-t)}decodeValue(t,r){this.checkType(r);const n=ES(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class ai extends Er{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedNat(this,r)}covariant(t){const r=$f(this._bits);let n=!1;if(typeof t=="bigint"&&t>=BigInt(0)?n=t<r:Number.isInteger(t)&&t>=0?n=BigInt(t)<r:n=!1,n)return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){return _S(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return _t(-5-t)}decodeValue(t,r){this.checkType(r);const n=nx(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class du extends yi{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof ai&&t._bits===8&&(this._blobOptimization=!0)}accept(t,r){return t.visitVec(this,this._type,r)}covariant(t){const r=this._type instanceof ai?this._type._bits:this._type instanceof Xi?this._type._bits:0;if(ArrayBuffer.isView(t)&&r==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((n,i)=>{try{return this._type.covariant(n)}catch(o){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){const r=dt(t.length);if(this._blobOptimization)return Ke(r,new Uint8Array(t));if(ArrayBuffer.isView(t))return Ke(r,new Uint8Array(t.buffer));const n=new uo(new ArrayBuffer(r.byteLength+t.length),0);n.write(r);for(const i of t){const o=this._type.encodeValue(i);n.write(new Uint8Array(o))}return n.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=_t(-19),n=this._type.encodeType(t);t.add(this,Ke(r,n))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof du))throw new Error("Not a vector type");const i=Number(St(t));if(this._type instanceof ai){if(this._type._bits==8)return new Uint8Array(t.read(i));if(this._type._bits==16)return new Uint16Array(t.read(i*2));if(this._type._bits==32)return new Uint32Array(t.read(i*4));if(this._type._bits==64)return new BigUint64Array(t.read(i*8))}if(this._type instanceof Xi){if(this._type._bits==8)return new Int8Array(t.read(i));if(this._type._bits==16)return new Int16Array(t.read(i*2));if(this._type._bits==32)return new Int32Array(t.read(i*4));if(this._type._bits==64)return new BigInt64Array(t.read(i*8))}const o=[];for(let a=0;a<i;a++)o.push(this._type.decodeValue(t,n._type));return o}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(n=>this._type.valueToString(n)).join("; ")+"}"}}class Ji extends yi{constructor(t){super(),this._type=t}accept(t,r){return t.visitOpt(this,this._type,r)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(r){throw new Error(`Invalid ${this.display()} argument: ${mt(t)} 

-> ${r.message}`)}throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):Ke(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=_t(-18),n=this._type.encodeType(t);t.add(this,Ke(r,n))}decodeValue(t,r){if(r instanceof Nc)return[];if(r instanceof ro)return[];let n=r;if(r instanceof Fn){const i=r.getType();if(typeof i>"u")throw new Error("type mismatch with uninitialized type");n=i}if(n instanceof Ji)switch(Zi(t)){case 0:return[];case 1:{const i=t.save();try{return[this._type.decodeValue(t,n._type)]}catch{return t.restore(i),n._type.decodeValue(t,n._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof Nc||this._type instanceof Ji||this._type instanceof ro)return n.decodeValue(t,n),[];{const i=t.save();try{return[this._type.decodeValue(t,r)]}catch{return t.restore(i),n.decodeValue(t,r),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}}class Pa extends yi{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>Dr(r[0])-Dr(n[0]))}accept(t,r){return t.visitRecord(this,this._fields,r)}tryAsTuple(){const t=[];for(let r=0;r<this._fields.length;r++){const[n,i]=this._fields[r];if(n!==`_${r}_`)return null;t.push(i)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([r,n])=>{if(!t.hasOwnProperty(r))throw new Error(`Record is missing key "${r}".`);try{return n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

field ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){const r=this._fields.map(([i])=>t[i]),n=pa(this._fields,r,([,i],o)=>i.encodeValue(o));return Ke(...n)}_buildTypeTableImpl(t){this._fields.forEach(([o,a])=>a.buildTypeTable(t));const r=_t(-20),n=dt(this._fields.length),i=this._fields.map(([o,a])=>Ke(dt(Dr(o)),a.encodeType(t)));t.add(this,Ke(r,n,Ke(...i)))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof Pa))throw new Error("Not a record type");const i={};let o=0,a=0;for(;a<n._fields.length;){const[l,c]=n._fields[a];if(o>=this._fields.length){c.decodeValue(t,c),a++;continue}const[u,d]=this._fields[o],g=Dr(this._fields[o][0]),f=Dr(l);if(g===f)i[u]=d.decodeValue(t,c),o++,a++;else if(f>g)if(d instanceof Ji||d instanceof ro)i[u]=[],o++;else throw new Error("Cannot find required field "+u);else c.decodeValue(t,c),a++}for(const[l,c]of this._fields.slice(o))if(c instanceof Ji||c instanceof ro)i[l]=[];else throw new Error("Cannot find required field "+l);return i}get name(){return`record {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`record {${this._fields.map(([r,n])=>r+":"+n.display()).join("; ")}}`}valueToString(t){const r=this._fields.map(([i])=>t[i]);return`record {${pa(this._fields,r,([i,o],a)=>i+"="+o.valueToString(a)).join("; ")}}`}}class fu extends Pa{constructor(t){const r={};t.forEach((n,i)=>r["_"+i+"_"]=n),super(r),this._components=t}accept(t,r){return t.visitTuple(this,this._components,r)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((r,n)=>{try{return r.covariant(t[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){const r=pa(this._components,t,(n,i)=>n.encodeValue(i));return Ke(...r)}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof fu))throw new Error("not a tuple type");if(n._components.length<this._components.length)throw new Error("tuple mismatch");const i=[];for(const[o,a]of n._components.entries())o>=this._components.length?a.decodeValue(t,a):i.push(this._components[o].decodeValue(t,a));return i}display(){return`record {${this._components.map(r=>r.display()).join("; ")}}`}valueToString(t){return`record {${pa(this._components,t,(n,i)=>n.valueToString(i)).join("; ")}}`}}class hu extends yi{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>Dr(r[0])-Dr(n[0]))}accept(t,r){return t.visitVariant(this,this._fields,r)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([r,n])=>{try{return!t.hasOwnProperty(r)||n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

variant ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){for(let r=0;r<this._fields.length;r++){const[n,i]=this._fields[r];if(t.hasOwnProperty(n)){const o=dt(r),a=i.encodeValue(t[n]);return Ke(o,a)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,o])=>{o.buildTypeTable(t)});const r=_t(-21),n=dt(this._fields.length),i=this._fields.map(([o,a])=>Ke(dt(Dr(o)),a.encodeType(t)));t.add(this,Ke(r,n,...i))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof hu))throw new Error("Not a variant type");const i=Number(St(t));if(i>=n._fields.length)throw Error("Invalid variant index: "+i);const[o,a]=n._fields[i];for(const[l,c]of this._fields)if(Dr(o)===Dr(l)){const u=c.decodeValue(t,a);return{[l]:u}}throw new Error("Cannot find field hash "+o)}get name(){return`variant {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`variant {${this._fields.map(([r,n])=>r+(n.name==="null"?"":`:${n.display()}`)).join("; ")}}`}valueToString(t){for(const[r,n]of this._fields)if(t.hasOwnProperty(r)){const i=n.valueToString(t[r]);return i==="null"?`variant {${r}}`:`variant {${r}=${i}}`}throw new Error("Variant has no data: "+t)}}class Fn extends yi{constructor(){super(...arguments),this._id=Fn._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}Fn._counter=0;function y0(e){if(Zi(e)!==1)throw new Error("Cannot decode principal");const r=Number(St(e));return Pe.fromUint8Array(new Uint8Array(Qi(e,r)))}class ux extends Er{accept(t,r){return t.visitPrincipal(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=dt(r.byteLength);return Ke(new Uint8Array([1]),n,r)}encodeType(){return _t(-24)}decodeValue(t,r){return this.checkType(r),y0(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class x0 extends yi{constructor(t,r,n=[]){super(),this.argTypes=t,this.retTypes=r,this.annotations=n}static argsToString(t,r){if(t.length!==r.length)throw new Error("arity mismatch");return"("+t.map((n,i)=>n.valueToString(r[i])).join(", ")+")"}accept(t,r){return t.visitFunc(this,r)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue([t,r]){const n=t.toUint8Array(),i=dt(n.byteLength),o=Ke(new Uint8Array([1]),i,n),a=new TextEncoder().encode(r),l=dt(a.byteLength);return Ke(new Uint8Array([1]),o,l,a)}_buildTypeTableImpl(t){this.argTypes.forEach(u=>u.buildTypeTable(t)),this.retTypes.forEach(u=>u.buildTypeTable(t));const r=_t(-22),n=dt(this.argTypes.length),i=Ke(...this.argTypes.map(u=>u.encodeType(t))),o=dt(this.retTypes.length),a=Ke(...this.retTypes.map(u=>u.encodeType(t))),l=dt(this.annotations.length),c=Ke(...this.annotations.map(u=>this.encodeAnnotation(u)));t.add(this,Ke(r,n,i,o,a,l,c))}decodeValue(t){if(Zi(t)!==1)throw new Error("Cannot decode function reference");const n=y0(t),i=Number(St(t)),o=Qi(t,i),l=new TextDecoder("utf8",{fatal:!0}).decode(o);return[n,l]}get name(){const t=this.argTypes.map(i=>i.name).join(", "),r=this.retTypes.map(i=>i.name).join(", "),n=" "+this.annotations.join(" ");return`(${t}) -> (${r})${n}`}valueToString([t,r]){return`func "${t.toText()}".${r}`}display(){const t=this.argTypes.map(i=>i.display()).join(", "),r=this.retTypes.map(i=>i.display()).join(", "),n=" "+this.annotations.join(" ");return`(${t}) → (${r})${n}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class dx extends yi{constructor(t){super(),this._fields=Object.entries(t).sort((r,n)=>r[0]<n[0]?-1:r[0]>n[0]?1:0)}accept(t,r){return t.visitService(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${mt(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=dt(r.length);return Ke(new Uint8Array([1]),n,r)}_buildTypeTableImpl(t){this._fields.forEach(([o,a])=>a.buildTypeTable(t));const r=_t(-23),n=dt(this._fields.length),i=this._fields.map(([o,a])=>{const l=new TextEncoder().encode(o),c=dt(l.length);return Ke(c,l,a.encodeType(t))});t.add(this,Ke(r,n,...i))}decodeValue(t){return y0(t)}get name(){return`service {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}}function mt(e){const t=JSON.stringify(e,(r,n)=>typeof n=="bigint"?`BigInt(${n})`:n);return t&&t.length>cm?t.substring(0,cm-3)+"...":t}function Hf(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const r=new SS;e.forEach(c=>c.buildTypeTable(r));const n=new TextEncoder().encode(Rl),i=r.encode(),o=dt(t.length),a=Ke(...e.map(c=>c.encodeType(r))),l=Ke(...pa(e,t,(c,u)=>{try{c.covariant(u)}catch(d){throw new Error(d.message+`

`)}return c.encodeValue(u)}));return Ke(n,i,o,a,l)}function fx(e,t){const r=new uo(t);if(t.byteLength<Rl.length)throw new Error("Message length smaller than magic number");const n=Qi(r,Rl.length),i=new TextDecoder().decode(n);if(i!==Rl)throw new Error("Wrong magic number: "+JSON.stringify(i));function o(p){const m=[],j=Number(St(p));for(let w=0;w<j;w++){const _=Number(Wn(p));switch(_){case-18:case-19:{const O=Number(Wn(p));m.push([_,O]);break}case-20:case-21:{const O=[];let C=Number(St(p)),W;for(;C--;){const H=Number(St(p));if(H>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof W=="number"&&W>=H)throw new Error("field id collision or not sorted");W=H;const F=Number(Wn(p));O.push([H,F])}m.push([_,O]);break}case-22:{const O=[];let C=Number(St(p));for(;C--;)O.push(Number(Wn(p)));const W=[];let H=Number(St(p));for(;H--;)W.push(Number(Wn(p)));const F=[];let J=Number(St(p));for(;J--;)switch(Number(St(p))){case 1:{F.push("query");break}case 2:{F.push("oneway");break}case 3:{F.push("composite_query");break}default:throw new Error("unknown annotation")}m.push([_,[O,W,F]]);break}case-23:{let O=Number(St(p));const C=[];for(;O--;){const W=Number(St(p)),H=new TextDecoder().decode(Qi(p,W)),F=Wn(p);C.push([H,F])}m.push([_,C]);break}default:throw new Error("Illegal op_code: "+_)}}const R=[],S=Number(St(p));for(let w=0;w<S;w++)R.push(Number(Wn(p)));return[m,R]}const[a,l]=o(r);if(l.length<e.length)throw new Error("Wrong number of return values");const c=a.map(p=>Mx());function u(p){if(p<-24)throw new Error("future value not supported");if(p<0)switch(p){case-1:return gx;case-2:return mx;case-3:return vx;case-4:return xx;case-5:return jx;case-6:return Tx;case-7:return kx;case-8:return Cx;case-9:return _x;case-10:return Ex;case-11:return Sx;case-12:return Nx;case-13:return wx;case-14:return bx;case-15:return yx;case-16:return px;case-17:return hx;case-24:return Ax;default:throw new Error("Illegal op_code: "+p)}if(p>=a.length)throw new Error("type index out of range");return c[p]}function d(p){switch(p[0]){case-19:{const m=u(p[1]);return Bx(m)}case-18:{const m=u(p[1]);return Fx(m)}case-20:{const m={};for(const[S,w]of p[1]){const _=`_${S}_`;m[_]=u(w)}const j=Px(m),R=j.tryAsTuple();return Array.isArray(R)?Rx(...R):j}case-21:{const m={};for(const[j,R]of p[1]){const S=`_${j}_`;m[S]=u(R)}return Ox(m)}case-22:{const[m,j,R]=p[1];return Ux(m.map(S=>u(S)),j.map(S=>u(S)),R)}case-23:{const m={},j=p[1];for(const[R,S]of j){let w=u(S);if(w instanceof Fn&&(w=w.getType()),!(w instanceof x0))throw new Error("Illegal service definition: services can only contain functions");m[R]=w}return zx(m)}default:throw new Error("Illegal op_code: "+p[0])}}a.forEach((p,m)=>{if(p[0]===-22){const j=d(p);c[m].fill(j)}}),a.forEach((p,m)=>{if(p[0]!==-22){const j=d(p);c[m].fill(j)}});const g=l.map(p=>u(p)),f=e.map((p,m)=>p.decodeValue(r,g[m]));for(let p=e.length;p<g.length;p++)g[p].decodeValue(r,g[p]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return f}const hx=new ix,px=new ro,jS=new sx,mx=new ox,gx=new Nc,yx=new ax,xx=new lx,vx=new cx,wx=new g0(32),bx=new g0(64),_x=new Xi(8),Ex=new Xi(16),Sx=new Xi(32),Nx=new Xi(64),jx=new ai(8),Tx=new ai(16),kx=new ai(32),Cx=new ai(64),Ax=new ux;function Rx(...e){return new fu(e)}function Bx(e){return new du(e)}function Fx(e){return new Ji(e)}function Px(e){return new Pa(e)}function Ox(e){return new hu(e)}function Mx(){return new Fn}function Ux(e,t,r=[]){return new x0(e,t,r)}function zx(e){return new dx(e)}const TS=Object.freeze(Object.defineProperty({__proto__:null,Bool:mx,BoolClass:ox,ConstructType:yi,Empty:hx,EmptyClass:ix,FixedIntClass:Xi,FixedNatClass:ai,Float32:wx,Float64:bx,FloatClass:g0,Func:Ux,FuncClass:x0,Int:xx,Int16:Ex,Int32:Sx,Int64:Nx,Int8:_x,IntClass:lx,Nat:vx,Nat16:Tx,Nat32:kx,Nat64:Cx,Nat8:jx,NatClass:cx,Null:gx,NullClass:Nc,Opt:Fx,OptClass:Ji,PrimitiveType:Er,Principal:Ax,PrincipalClass:ux,Rec:Mx,RecClass:Fn,Record:Px,RecordClass:Pa,Reserved:px,ReservedClass:ro,Service:zx,ServiceClass:dx,Text:yx,TextClass:ax,Tuple:Rx,TupleClass:fu,Type:uu,Unknown:jS,UnknownClass:sx,Variant:Ox,VariantClass:hu,Vec:Bx,VecClass:du,Visitor:NS,decode:fx,encode:Hf},Symbol.toStringTag,{value:"Module"}));var Vx={},Oa={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Aa,r=Ra,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=w,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var b=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(b,h),b.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(b){if(b>i)throw new RangeError('The value "'+b+'" is invalid for option "size"');var h=new Uint8Array(b);return Object.setPrototypeOf(h,l.prototype),h}function l(b,h,y){if(typeof b=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(b)}return c(b,h,y)}l.poolSize=8192;function c(b,h,y){if(typeof b=="string")return f(b,h);if(ArrayBuffer.isView(b))return m(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(ee(b,ArrayBuffer)||b&&ee(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(b,SharedArrayBuffer)||b&&ee(b.buffer,SharedArrayBuffer)))return j(b,h,y);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var T=b.valueOf&&b.valueOf();if(T!=null&&T!==b)return l.from(T,h,y);var B=R(b);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return l.from(b[Symbol.toPrimitive]("string"),h,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}l.from=function(b,h,y){return c(b,h,y)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function d(b,h,y){return u(b),b<=0?a(b):h!==void 0?typeof y=="string"?a(b).fill(h,y):a(b).fill(h):a(b)}l.alloc=function(b,h,y){return d(b,h,y)};function g(b){return u(b),a(b<0?0:S(b)|0)}l.allocUnsafe=function(b){return g(b)},l.allocUnsafeSlow=function(b){return g(b)};function f(b,h){if((typeof h!="string"||h==="")&&(h="utf8"),!l.isEncoding(h))throw new TypeError("Unknown encoding: "+h);var y=_(b,h)|0,T=a(y),B=T.write(b,h);return B!==y&&(T=T.slice(0,B)),T}function p(b){for(var h=b.length<0?0:S(b.length)|0,y=a(h),T=0;T<h;T+=1)y[T]=b[T]&255;return y}function m(b){if(ee(b,Uint8Array)){var h=new Uint8Array(b);return j(h.buffer,h.byteOffset,h.byteLength)}return p(b)}function j(b,h,y){if(h<0||b.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<h+(y||0))throw new RangeError('"length" is outside of buffer bounds');var T;return h===void 0&&y===void 0?T=new Uint8Array(b):y===void 0?T=new Uint8Array(b,h):T=new Uint8Array(b,h,y),Object.setPrototypeOf(T,l.prototype),T}function R(b){if(l.isBuffer(b)){var h=S(b.length)|0,y=a(h);return y.length===0||b.copy(y,0,0,h),y}if(b.length!==void 0)return typeof b.length!="number"||Z(b.length)?a(0):p(b);if(b.type==="Buffer"&&Array.isArray(b.data))return p(b.data)}function S(b){if(b>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return b|0}function w(b){return+b!=b&&(b=0),l.alloc(+b)}l.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==l.prototype},l.compare=function(h,y){if(ee(h,Uint8Array)&&(h=l.from(h,h.offset,h.byteLength)),ee(y,Uint8Array)&&(y=l.from(y,y.offset,y.byteLength)),!l.isBuffer(h)||!l.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===y)return 0;for(var T=h.length,B=y.length,K=0,se=Math.min(T,B);K<se;++K)if(h[K]!==y[K]){T=h[K],B=y[K];break}return T<B?-1:B<T?1:0},l.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(h,y){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return l.alloc(0);var T;if(y===void 0)for(y=0,T=0;T<h.length;++T)y+=h[T].length;var B=l.allocUnsafe(y),K=0;for(T=0;T<h.length;++T){var se=h[T];if(ee(se,Uint8Array))K+se.length>B.length?l.from(se).copy(B,K):Uint8Array.prototype.set.call(B,se,K);else if(l.isBuffer(se))se.copy(B,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=se.length}return B};function _(b,h){if(l.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||ee(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);var y=b.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&y===0)return 0;for(var B=!1;;)switch(h){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return fe(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return z(b).length;default:if(B)return T?-1:fe(b).length;h=(""+h).toLowerCase(),B=!0}}l.byteLength=_;function O(b,h,y){var T=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,h>>>=0,y<=h))return"";for(b||(b="utf8");;)switch(b){case"hex":return te(this,h,y);case"utf8":case"utf-8":return P(this,h,y);case"ascii":return ie(this,h,y);case"latin1":case"binary":return Q(this,h,y);case"base64":return N(this,h,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,h,y);default:if(T)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),T=!0}}l.prototype._isBuffer=!0;function C(b,h,y){var T=b[h];b[h]=b[y],b[y]=T}l.prototype.swap16=function(){var h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var y=0;y<h;y+=2)C(this,y,y+1);return this},l.prototype.swap32=function(){var h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<h;y+=4)C(this,y,y+3),C(this,y+1,y+2);return this},l.prototype.swap64=function(){var h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<h;y+=8)C(this,y,y+7),C(this,y+1,y+6),C(this,y+2,y+5),C(this,y+3,y+4);return this},l.prototype.toString=function(){var h=this.length;return h===0?"":arguments.length===0?P(this,0,h):O.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(h){if(!l.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:l.compare(this,h)===0},l.prototype.inspect=function(){var h="",y=e.INSPECT_MAX_BYTES;return h=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(h+=" ... "),"<Buffer "+h+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(h,y,T,B,K){if(ee(h,Uint8Array)&&(h=l.from(h,h.offset,h.byteLength)),!l.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(y===void 0&&(y=0),T===void 0&&(T=h?h.length:0),B===void 0&&(B=0),K===void 0&&(K=this.length),y<0||T>h.length||B<0||K>this.length)throw new RangeError("out of range index");if(B>=K&&y>=T)return 0;if(B>=K)return-1;if(y>=T)return 1;if(y>>>=0,T>>>=0,B>>>=0,K>>>=0,this===h)return 0;for(var se=K-B,pe=T-y,we=Math.min(se,pe),be=this.slice(B,K),Ae=h.slice(y,T),E=0;E<we;++E)if(be[E]!==Ae[E]){se=be[E],pe=Ae[E];break}return se<pe?-1:pe<se?1:0};function W(b,h,y,T,B){if(b.length===0)return-1;if(typeof y=="string"?(T=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,Z(y)&&(y=B?0:b.length-1),y<0&&(y=b.length+y),y>=b.length){if(B)return-1;y=b.length-1}else if(y<0)if(B)y=0;else return-1;if(typeof h=="string"&&(h=l.from(h,T)),l.isBuffer(h))return h.length===0?-1:H(b,h,y,T,B);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(b,h,y):Uint8Array.prototype.lastIndexOf.call(b,h,y):H(b,[h],y,T,B);throw new TypeError("val must be string, number or Buffer")}function H(b,h,y,T,B){var K=1,se=b.length,pe=h.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(b.length<2||h.length<2)return-1;K=2,se/=2,pe/=2,y/=2}function we(v,$){return K===1?v[$]:v.readUInt16BE($*K)}var be;if(B){var Ae=-1;for(be=y;be<se;be++)if(we(b,be)===we(h,Ae===-1?0:be-Ae)){if(Ae===-1&&(Ae=be),be-Ae+1===pe)return Ae*K}else Ae!==-1&&(be-=be-Ae),Ae=-1}else for(y+pe>se&&(y=se-pe),be=y;be>=0;be--){for(var E=!0,x=0;x<pe;x++)if(we(b,be+x)!==we(h,x)){E=!1;break}if(E)return be}return-1}l.prototype.includes=function(h,y,T){return this.indexOf(h,y,T)!==-1},l.prototype.indexOf=function(h,y,T){return W(this,h,y,T,!0)},l.prototype.lastIndexOf=function(h,y,T){return W(this,h,y,T,!1)};function F(b,h,y,T){y=Number(y)||0;var B=b.length-y;T?(T=Number(T),T>B&&(T=B)):T=B;var K=h.length;T>K/2&&(T=K/2);for(var se=0;se<T;++se){var pe=parseInt(h.substr(se*2,2),16);if(Z(pe))return se;b[y+se]=pe}return se}function J(b,h,y,T){return q(fe(h,b.length-y),b,y,T)}function U(b,h,y,T){return q(me(h),b,y,T)}function I(b,h,y,T){return q(z(h),b,y,T)}function Y(b,h,y,T){return q(A(h,b.length-y),b,y,T)}l.prototype.write=function(h,y,T,B){if(y===void 0)B="utf8",T=this.length,y=0;else if(T===void 0&&typeof y=="string")B=y,T=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(T)?(T=T>>>0,B===void 0&&(B="utf8")):(B=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var K=this.length-y;if((T===void 0||T>K)&&(T=K),h.length>0&&(T<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");for(var se=!1;;)switch(B){case"hex":return F(this,h,y,T);case"utf8":case"utf-8":return J(this,h,y,T);case"ascii":case"latin1":case"binary":return U(this,h,y,T);case"base64":return I(this,h,y,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,h,y,T);default:if(se)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),se=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(b,h,y){return h===0&&y===b.length?t.fromByteArray(b):t.fromByteArray(b.slice(h,y))}function P(b,h,y){y=Math.min(b.length,y);for(var T=[],B=h;B<y;){var K=b[B],se=null,pe=K>239?4:K>223?3:K>191?2:1;if(B+pe<=y){var we,be,Ae,E;switch(pe){case 1:K<128&&(se=K);break;case 2:we=b[B+1],(we&192)===128&&(E=(K&31)<<6|we&63,E>127&&(se=E));break;case 3:we=b[B+1],be=b[B+2],(we&192)===128&&(be&192)===128&&(E=(K&15)<<12|(we&63)<<6|be&63,E>2047&&(E<55296||E>57343)&&(se=E));break;case 4:we=b[B+1],be=b[B+2],Ae=b[B+3],(we&192)===128&&(be&192)===128&&(Ae&192)===128&&(E=(K&15)<<18|(we&63)<<12|(be&63)<<6|Ae&63,E>65535&&E<1114112&&(se=E))}}se===null?(se=65533,pe=1):se>65535&&(se-=65536,T.push(se>>>10&1023|55296),se=56320|se&1023),T.push(se),B+=pe}return D(T)}var G=4096;function D(b){var h=b.length;if(h<=G)return String.fromCharCode.apply(String,b);for(var y="",T=0;T<h;)y+=String.fromCharCode.apply(String,b.slice(T,T+=G));return y}function ie(b,h,y){var T="";y=Math.min(b.length,y);for(var B=h;B<y;++B)T+=String.fromCharCode(b[B]&127);return T}function Q(b,h,y){var T="";y=Math.min(b.length,y);for(var B=h;B<y;++B)T+=String.fromCharCode(b[B]);return T}function te(b,h,y){var T=b.length;(!h||h<0)&&(h=0),(!y||y<0||y>T)&&(y=T);for(var B="",K=h;K<y;++K)B+=ne[b[K]];return B}function he(b,h,y){for(var T=b.slice(h,y),B="",K=0;K<T.length-1;K+=2)B+=String.fromCharCode(T[K]+T[K+1]*256);return B}l.prototype.slice=function(h,y){var T=this.length;h=~~h,y=y===void 0?T:~~y,h<0?(h+=T,h<0&&(h=0)):h>T&&(h=T),y<0?(y+=T,y<0&&(y=0)):y>T&&(y=T),y<h&&(y=h);var B=this.subarray(h,y);return Object.setPrototypeOf(B,l.prototype),B};function ce(b,h,y){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+h>y)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(h,y,T){h=h>>>0,y=y>>>0,T||ce(h,y,this.length);for(var B=this[h],K=1,se=0;++se<y&&(K*=256);)B+=this[h+se]*K;return B},l.prototype.readUintBE=l.prototype.readUIntBE=function(h,y,T){h=h>>>0,y=y>>>0,T||ce(h,y,this.length);for(var B=this[h+--y],K=1;y>0&&(K*=256);)B+=this[h+--y]*K;return B},l.prototype.readUint8=l.prototype.readUInt8=function(h,y){return h=h>>>0,y||ce(h,1,this.length),this[h]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(h,y){return h=h>>>0,y||ce(h,2,this.length),this[h]|this[h+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(h,y){return h=h>>>0,y||ce(h,2,this.length),this[h]<<8|this[h+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(h,y){return h=h>>>0,y||ce(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(h,y){return h=h>>>0,y||ce(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},l.prototype.readIntLE=function(h,y,T){h=h>>>0,y=y>>>0,T||ce(h,y,this.length);for(var B=this[h],K=1,se=0;++se<y&&(K*=256);)B+=this[h+se]*K;return K*=128,B>=K&&(B-=Math.pow(2,8*y)),B},l.prototype.readIntBE=function(h,y,T){h=h>>>0,y=y>>>0,T||ce(h,y,this.length);for(var B=y,K=1,se=this[h+--B];B>0&&(K*=256);)se+=this[h+--B]*K;return K*=128,se>=K&&(se-=Math.pow(2,8*y)),se},l.prototype.readInt8=function(h,y){return h=h>>>0,y||ce(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},l.prototype.readInt16LE=function(h,y){h=h>>>0,y||ce(h,2,this.length);var T=this[h]|this[h+1]<<8;return T&32768?T|4294901760:T},l.prototype.readInt16BE=function(h,y){h=h>>>0,y||ce(h,2,this.length);var T=this[h+1]|this[h]<<8;return T&32768?T|4294901760:T},l.prototype.readInt32LE=function(h,y){return h=h>>>0,y||ce(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},l.prototype.readInt32BE=function(h,y){return h=h>>>0,y||ce(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},l.prototype.readFloatLE=function(h,y){return h=h>>>0,y||ce(h,4,this.length),r.read(this,h,!0,23,4)},l.prototype.readFloatBE=function(h,y){return h=h>>>0,y||ce(h,4,this.length),r.read(this,h,!1,23,4)},l.prototype.readDoubleLE=function(h,y){return h=h>>>0,y||ce(h,8,this.length),r.read(this,h,!0,52,8)},l.prototype.readDoubleBE=function(h,y){return h=h>>>0,y||ce(h,8,this.length),r.read(this,h,!1,52,8)};function ue(b,h,y,T,B,K){if(!l.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>B||h<K)throw new RangeError('"value" argument is out of bounds');if(y+T>b.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(h,y,T,B){if(h=+h,y=y>>>0,T=T>>>0,!B){var K=Math.pow(2,8*T)-1;ue(this,h,y,T,K,0)}var se=1,pe=0;for(this[y]=h&255;++pe<T&&(se*=256);)this[y+pe]=h/se&255;return y+T},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(h,y,T,B){if(h=+h,y=y>>>0,T=T>>>0,!B){var K=Math.pow(2,8*T)-1;ue(this,h,y,T,K,0)}var se=T-1,pe=1;for(this[y+se]=h&255;--se>=0&&(pe*=256);)this[y+se]=h/pe&255;return y+T},l.prototype.writeUint8=l.prototype.writeUInt8=function(h,y,T){return h=+h,y=y>>>0,T||ue(this,h,y,1,255,0),this[y]=h&255,y+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(h,y,T){return h=+h,y=y>>>0,T||ue(this,h,y,2,65535,0),this[y]=h&255,this[y+1]=h>>>8,y+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(h,y,T){return h=+h,y=y>>>0,T||ue(this,h,y,2,65535,0),this[y]=h>>>8,this[y+1]=h&255,y+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(h,y,T){return h=+h,y=y>>>0,T||ue(this,h,y,4,4294967295,0),this[y+3]=h>>>24,this[y+2]=h>>>16,this[y+1]=h>>>8,this[y]=h&255,y+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(h,y,T){return h=+h,y=y>>>0,T||ue(this,h,y,4,4294967295,0),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=h&255,y+4},l.prototype.writeIntLE=function(h,y,T,B){if(h=+h,y=y>>>0,!B){var K=Math.pow(2,8*T-1);ue(this,h,y,T,K-1,-K)}var se=0,pe=1,we=0;for(this[y]=h&255;++se<T&&(pe*=256);)h<0&&we===0&&this[y+se-1]!==0&&(we=1),this[y+se]=(h/pe>>0)-we&255;return y+T},l.prototype.writeIntBE=function(h,y,T,B){if(h=+h,y=y>>>0,!B){var K=Math.pow(2,8*T-1);ue(this,h,y,T,K-1,-K)}var se=T-1,pe=1,we=0;for(this[y+se]=h&255;--se>=0&&(pe*=256);)h<0&&we===0&&this[y+se+1]!==0&&(we=1),this[y+se]=(h/pe>>0)-we&255;return y+T},l.prototype.writeInt8=function(h,y,T){return h=+h,y=y>>>0,T||ue(this,h,y,1,127,-128),h<0&&(h=255+h+1),this[y]=h&255,y+1},l.prototype.writeInt16LE=function(h,y,T){return h=+h,y=y>>>0,T||ue(this,h,y,2,32767,-32768),this[y]=h&255,this[y+1]=h>>>8,y+2},l.prototype.writeInt16BE=function(h,y,T){return h=+h,y=y>>>0,T||ue(this,h,y,2,32767,-32768),this[y]=h>>>8,this[y+1]=h&255,y+2},l.prototype.writeInt32LE=function(h,y,T){return h=+h,y=y>>>0,T||ue(this,h,y,4,2147483647,-2147483648),this[y]=h&255,this[y+1]=h>>>8,this[y+2]=h>>>16,this[y+3]=h>>>24,y+4},l.prototype.writeInt32BE=function(h,y,T){return h=+h,y=y>>>0,T||ue(this,h,y,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=h&255,y+4};function _e(b,h,y,T,B,K){if(y+T>b.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function k(b,h,y,T,B){return h=+h,y=y>>>0,B||_e(b,h,y,4),r.write(b,h,y,T,23,4),y+4}l.prototype.writeFloatLE=function(h,y,T){return k(this,h,y,!0,T)},l.prototype.writeFloatBE=function(h,y,T){return k(this,h,y,!1,T)};function ye(b,h,y,T,B){return h=+h,y=y>>>0,B||_e(b,h,y,8),r.write(b,h,y,T,52,8),y+8}l.prototype.writeDoubleLE=function(h,y,T){return ye(this,h,y,!0,T)},l.prototype.writeDoubleBE=function(h,y,T){return ye(this,h,y,!1,T)},l.prototype.copy=function(h,y,T,B){if(!l.isBuffer(h))throw new TypeError("argument should be a Buffer");if(T||(T=0),!B&&B!==0&&(B=this.length),y>=h.length&&(y=h.length),y||(y=0),B>0&&B<T&&(B=T),B===T||h.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),h.length-y<B-T&&(B=h.length-y+T);var K=B-T;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,T,B):Uint8Array.prototype.set.call(h,this.subarray(T,B),y),K},l.prototype.fill=function(h,y,T,B){if(typeof h=="string"){if(typeof y=="string"?(B=y,y=0,T=this.length):typeof T=="string"&&(B=T,T=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!l.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(h.length===1){var K=h.charCodeAt(0);(B==="utf8"&&K<128||B==="latin1")&&(h=K)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(y<0||this.length<y||this.length<T)throw new RangeError("Out of range index");if(T<=y)return this;y=y>>>0,T=T===void 0?this.length:T>>>0,h||(h=0);var se;if(typeof h=="number")for(se=y;se<T;++se)this[se]=h;else{var pe=l.isBuffer(h)?h:l.from(h,B),we=pe.length;if(we===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(se=0;se<T-y;++se)this[se+y]=pe[se%we]}return this};var ve=/[^+/0-9A-Za-z-_]/g;function le(b){if(b=b.split("=")[0],b=b.trim().replace(ve,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function fe(b,h){h=h||1/0;for(var y,T=b.length,B=null,K=[],se=0;se<T;++se){if(y=b.charCodeAt(se),y>55295&&y<57344){if(!B){if(y>56319){(h-=3)>-1&&K.push(239,191,189);continue}else if(se+1===T){(h-=3)>-1&&K.push(239,191,189);continue}B=y;continue}if(y<56320){(h-=3)>-1&&K.push(239,191,189),B=y;continue}y=(B-55296<<10|y-56320)+65536}else B&&(h-=3)>-1&&K.push(239,191,189);if(B=null,y<128){if((h-=1)<0)break;K.push(y)}else if(y<2048){if((h-=2)<0)break;K.push(y>>6|192,y&63|128)}else if(y<65536){if((h-=3)<0)break;K.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((h-=4)<0)break;K.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return K}function me(b){for(var h=[],y=0;y<b.length;++y)h.push(b.charCodeAt(y)&255);return h}function A(b,h){for(var y,T,B,K=[],se=0;se<b.length&&!((h-=2)<0);++se)y=b.charCodeAt(se),T=y>>8,B=y%256,K.push(B),K.push(T);return K}function z(b){return t.toByteArray(le(b))}function q(b,h,y,T){for(var B=0;B<T&&!(B+y>=h.length||B>=b.length);++B)h[B+y]=b[B];return B}function ee(b,h){return b instanceof h||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===h.name}function Z(b){return b!==b}var ne=function(){for(var b="0123456789abcdef",h=new Array(256),y=0;y<16;++y)for(var T=y*16,B=0;B<16;++B)h[T+B]=b[y]+b[B];return h}()})(Oa);var Wx={exports:{}};(function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,a="[BigNumber Error] ",l=a+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,d=9007199254740991,g=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,p=1e9;function m(W){var H,F,J,U=k.prototype={constructor:k,toString:null,valueOf:null},I=new k(1),Y=20,N=4,P=-7,G=21,D=-1e7,ie=1e7,Q=!1,te=1,he=0,ce={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},ue="0123456789abcdefghijklmnopqrstuvwxyz",_e=!0;function k(A,z){var q,ee,Z,ne,b,h,y,T,B=this;if(!(B instanceof k))return new k(A,z);if(z==null){if(A&&A._isBigNumber===!0){B.s=A.s,!A.c||A.e>ie?B.c=B.e=null:A.e<D?B.c=[B.e=0]:(B.e=A.e,B.c=A.c.slice());return}if((h=typeof A=="number")&&A*0==0){if(B.s=1/A<0?(A=-A,-1):1,A===~~A){for(ne=0,b=A;b>=10;b/=10,ne++);ne>ie?B.c=B.e=null:(B.e=ne,B.c=[A]);return}T=String(A)}else{if(!n.test(T=String(A)))return J(B,T,h);B.s=T.charCodeAt(0)==45?(T=T.slice(1),-1):1}(ne=T.indexOf("."))>-1&&(T=T.replace(".","")),(b=T.search(/e/i))>0?(ne<0&&(ne=b),ne+=+T.slice(b+1),T=T.substring(0,b)):ne<0&&(ne=T.length)}else{if(w(z,2,ue.length,"Base"),z==10&&_e)return B=new k(A),fe(B,Y+B.e+1,N);if(T=String(A),h=typeof A=="number"){if(A*0!=0)return J(B,T,h,z);if(B.s=1/A<0?(T=T.slice(1),-1):1,k.DEBUG&&T.replace(/^0\.0*|\./,"").length>15)throw Error(l+A)}else B.s=T.charCodeAt(0)===45?(T=T.slice(1),-1):1;for(q=ue.slice(0,z),ne=b=0,y=T.length;b<y;b++)if(q.indexOf(ee=T.charAt(b))<0){if(ee=="."){if(b>ne){ne=y;continue}}else if(!Z&&(T==T.toUpperCase()&&(T=T.toLowerCase())||T==T.toLowerCase()&&(T=T.toUpperCase()))){Z=!0,b=-1,ne=0;continue}return J(B,String(A),h,z)}h=!1,T=F(T,z,10,B.s),(ne=T.indexOf("."))>-1?T=T.replace(".",""):ne=T.length}for(b=0;T.charCodeAt(b)===48;b++);for(y=T.length;T.charCodeAt(--y)===48;);if(T=T.slice(b,++y)){if(y-=b,h&&k.DEBUG&&y>15&&(A>d||A!==o(A)))throw Error(l+B.s*A);if((ne=ne-b-1)>ie)B.c=B.e=null;else if(ne<D)B.c=[B.e=0];else{if(B.e=ne,B.c=[],b=(ne+1)%u,ne<0&&(b+=u),b<y){for(b&&B.c.push(+T.slice(0,b)),y-=u;b<y;)B.c.push(+T.slice(b,b+=u));b=u-(T=T.slice(b)).length}else b-=y;for(;b--;T+="0");B.c.push(+T)}}else B.c=[B.e=0]}k.clone=m,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(A){var z,q;if(A!=null)if(typeof A=="object"){if(A.hasOwnProperty(z="DECIMAL_PLACES")&&(q=A[z],w(q,0,p,z),Y=q),A.hasOwnProperty(z="ROUNDING_MODE")&&(q=A[z],w(q,0,8,z),N=q),A.hasOwnProperty(z="EXPONENTIAL_AT")&&(q=A[z],q&&q.pop?(w(q[0],-p,0,z),w(q[1],0,p,z),P=q[0],G=q[1]):(w(q,-p,p,z),P=-(G=q<0?-q:q))),A.hasOwnProperty(z="RANGE"))if(q=A[z],q&&q.pop)w(q[0],-p,-1,z),w(q[1],1,p,z),D=q[0],ie=q[1];else if(w(q,-p,p,z),q)D=-(ie=q<0?-q:q);else throw Error(a+z+" cannot be zero: "+q);if(A.hasOwnProperty(z="CRYPTO"))if(q=A[z],q===!!q)if(q)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Q=q;else throw Q=!q,Error(a+"crypto unavailable");else Q=q;else throw Error(a+z+" not true or false: "+q);if(A.hasOwnProperty(z="MODULO_MODE")&&(q=A[z],w(q,0,9,z),te=q),A.hasOwnProperty(z="POW_PRECISION")&&(q=A[z],w(q,0,p,z),he=q),A.hasOwnProperty(z="FORMAT"))if(q=A[z],typeof q=="object")ce=q;else throw Error(a+z+" not an object: "+q);if(A.hasOwnProperty(z="ALPHABET"))if(q=A[z],typeof q=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(q))_e=q.slice(0,10)=="0123456789",ue=q;else throw Error(a+z+" invalid: "+q)}else throw Error(a+"Object expected: "+A);return{DECIMAL_PLACES:Y,ROUNDING_MODE:N,EXPONENTIAL_AT:[P,G],RANGE:[D,ie],CRYPTO:Q,MODULO_MODE:te,POW_PRECISION:he,FORMAT:ce,ALPHABET:ue}},k.isBigNumber=function(A){if(!A||A._isBigNumber!==!0)return!1;if(!k.DEBUG)return!0;var z,q,ee=A.c,Z=A.e,ne=A.s;e:if({}.toString.call(ee)=="[object Array]"){if((ne===1||ne===-1)&&Z>=-p&&Z<=p&&Z===o(Z)){if(ee[0]===0){if(Z===0&&ee.length===1)return!0;break e}if(z=(Z+1)%u,z<1&&(z+=u),String(ee[0]).length==z){for(z=0;z<ee.length;z++)if(q=ee[z],q<0||q>=c||q!==o(q))break e;if(q!==0)return!0}}}else if(ee===null&&Z===null&&(ne===null||ne===1||ne===-1))return!0;throw Error(a+"Invalid BigNumber: "+A)},k.maximum=k.max=function(){return ve(arguments,-1)},k.minimum=k.min=function(){return ve(arguments,1)},k.random=function(){var A=9007199254740992,z=Math.random()*A&2097151?function(){return o(Math.random()*A)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(q){var ee,Z,ne,b,h,y=0,T=[],B=new k(I);if(q==null?q=Y:w(q,0,p),b=i(q/u),Q)if(crypto.getRandomValues){for(ee=crypto.getRandomValues(new Uint32Array(b*=2));y<b;)h=ee[y]*131072+(ee[y+1]>>>11),h>=9e15?(Z=crypto.getRandomValues(new Uint32Array(2)),ee[y]=Z[0],ee[y+1]=Z[1]):(T.push(h%1e14),y+=2);y=b/2}else if(crypto.randomBytes){for(ee=crypto.randomBytes(b*=7);y<b;)h=(ee[y]&31)*281474976710656+ee[y+1]*1099511627776+ee[y+2]*4294967296+ee[y+3]*16777216+(ee[y+4]<<16)+(ee[y+5]<<8)+ee[y+6],h>=9e15?crypto.randomBytes(7).copy(ee,y):(T.push(h%1e14),y+=7);y=b/7}else throw Q=!1,Error(a+"crypto unavailable");if(!Q)for(;y<b;)h=z(),h<9e15&&(T[y++]=h%1e14);for(b=T[--y],q%=u,b&&q&&(h=g[u-q],T[y]=o(b/h)*h);T[y]===0;T.pop(),y--);if(y<0)T=[ne=0];else{for(ne=-1;T[0]===0;T.splice(0,1),ne-=u);for(y=1,h=T[0];h>=10;h/=10,y++);y<u&&(ne-=u-y)}return B.e=ne,B.c=T,B}}(),k.sum=function(){for(var A=1,z=arguments,q=new k(z[0]);A<z.length;)q=q.plus(z[A++]);return q},F=function(){var A="0123456789";function z(q,ee,Z,ne){for(var b,h=[0],y,T=0,B=q.length;T<B;){for(y=h.length;y--;h[y]*=ee);for(h[0]+=ne.indexOf(q.charAt(T++)),b=0;b<h.length;b++)h[b]>Z-1&&(h[b+1]==null&&(h[b+1]=0),h[b+1]+=h[b]/Z|0,h[b]%=Z)}return h.reverse()}return function(q,ee,Z,ne,b){var h,y,T,B,K,se,pe,we,be=q.indexOf("."),Ae=Y,E=N;for(be>=0&&(B=he,he=0,q=q.replace(".",""),we=new k(ee),se=we.pow(q.length-be),he=B,we.c=z(C(R(se.c),se.e,"0"),10,Z,A),we.e=we.c.length),pe=z(q,ee,Z,b?(h=ue,A):(h=A,ue)),T=B=pe.length;pe[--B]==0;pe.pop());if(!pe[0])return h.charAt(0);if(be<0?--T:(se.c=pe,se.e=T,se.s=ne,se=H(se,we,Ae,E,Z),pe=se.c,K=se.r,T=se.e),y=T+Ae+1,be=pe[y],B=Z/2,K=K||y<0||pe[y+1]!=null,K=E<4?(be!=null||K)&&(E==0||E==(se.s<0?3:2)):be>B||be==B&&(E==4||K||E==6&&pe[y-1]&1||E==(se.s<0?8:7)),y<1||!pe[0])q=K?C(h.charAt(1),-Ae,h.charAt(0)):h.charAt(0);else{if(pe.length=y,K)for(--Z;++pe[--y]>Z;)pe[y]=0,y||(++T,pe=[1].concat(pe));for(B=pe.length;!pe[--B];);for(be=0,q="";be<=B;q+=h.charAt(pe[be++]));q=C(q,T,h.charAt(0))}return q}}(),H=function(){function A(ee,Z,ne){var b,h,y,T,B=0,K=ee.length,se=Z%f,pe=Z/f|0;for(ee=ee.slice();K--;)y=ee[K]%f,T=ee[K]/f|0,b=pe*y+T*se,h=se*y+b%f*f+B,B=(h/ne|0)+(b/f|0)+pe*T,ee[K]=h%ne;return B&&(ee=[B].concat(ee)),ee}function z(ee,Z,ne,b){var h,y;if(ne!=b)y=ne>b?1:-1;else for(h=y=0;h<ne;h++)if(ee[h]!=Z[h]){y=ee[h]>Z[h]?1:-1;break}return y}function q(ee,Z,ne,b){for(var h=0;ne--;)ee[ne]-=h,h=ee[ne]<Z[ne]?1:0,ee[ne]=h*b+ee[ne]-Z[ne];for(;!ee[0]&&ee.length>1;ee.splice(0,1));}return function(ee,Z,ne,b,h){var y,T,B,K,se,pe,we,be,Ae,E,x,v,$,re,oe,ae,je,Re=ee.s==Z.s?1:-1,Ce=ee.c,Se=Z.c;if(!Ce||!Ce[0]||!Se||!Se[0])return new k(!ee.s||!Z.s||(Ce?Se&&Ce[0]==Se[0]:!Se)?NaN:Ce&&Ce[0]==0||!Se?Re*0:Re/0);for(be=new k(Re),Ae=be.c=[],T=ee.e-Z.e,Re=ne+T+1,h||(h=c,T=j(ee.e/u)-j(Z.e/u),Re=Re/u|0),B=0;Se[B]==(Ce[B]||0);B++);if(Se[B]>(Ce[B]||0)&&T--,Re<0)Ae.push(1),K=!0;else{for(re=Ce.length,ae=Se.length,B=0,Re+=2,se=o(h/(Se[0]+1)),se>1&&(Se=A(Se,se,h),Ce=A(Ce,se,h),ae=Se.length,re=Ce.length),$=ae,E=Ce.slice(0,ae),x=E.length;x<ae;E[x++]=0);je=Se.slice(),je=[0].concat(je),oe=Se[0],Se[1]>=h/2&&oe++;do{if(se=0,y=z(Se,E,ae,x),y<0){if(v=E[0],ae!=x&&(v=v*h+(E[1]||0)),se=o(v/oe),se>1)for(se>=h&&(se=h-1),pe=A(Se,se,h),we=pe.length,x=E.length;z(pe,E,we,x)==1;)se--,q(pe,ae<we?je:Se,we,h),we=pe.length,y=1;else se==0&&(y=se=1),pe=Se.slice(),we=pe.length;if(we<x&&(pe=[0].concat(pe)),q(E,pe,x,h),x=E.length,y==-1)for(;z(Se,E,ae,x)<1;)se++,q(E,ae<x?je:Se,x,h),x=E.length}else y===0&&(se++,E=[0]);Ae[B++]=se,E[0]?E[x++]=Ce[$]||0:(E=[Ce[$]],x=1)}while(($++<re||E[0]!=null)&&Re--);K=E[0]!=null,Ae[0]||Ae.splice(0,1)}if(h==c){for(B=1,Re=Ae[0];Re>=10;Re/=10,B++);fe(be,ne+(be.e=B+T*u-1)+1,b,K)}else be.e=T,be.r=+K;return be}}();function ye(A,z,q,ee){var Z,ne,b,h,y;if(q==null?q=N:w(q,0,8),!A.c)return A.toString();if(Z=A.c[0],b=A.e,z==null)y=R(A.c),y=ee==1||ee==2&&(b<=P||b>=G)?O(y,b):C(y,b,"0");else if(A=fe(new k(A),z,q),ne=A.e,y=R(A.c),h=y.length,ee==1||ee==2&&(z<=ne||ne<=P)){for(;h<z;y+="0",h++);y=O(y,ne)}else if(z-=b+(ee===2&&ne>b),y=C(y,ne,"0"),ne+1>h){if(--z>0)for(y+=".";z--;y+="0");}else if(z+=ne-h,z>0)for(ne+1==h&&(y+=".");z--;y+="0");return A.s<0&&Z?"-"+y:y}function ve(A,z){for(var q,ee,Z=1,ne=new k(A[0]);Z<A.length;Z++)ee=new k(A[Z]),(!ee.s||(q=S(ne,ee))===z||q===0&&ne.s===z)&&(ne=ee);return ne}function le(A,z,q){for(var ee=1,Z=z.length;!z[--Z];z.pop());for(Z=z[0];Z>=10;Z/=10,ee++);return(q=ee+q*u-1)>ie?A.c=A.e=null:q<D?A.c=[A.e=0]:(A.e=q,A.c=z),A}J=function(){var A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,z=/^([^.]+)\.$/,q=/^\.([^.]+)$/,ee=/^-?(Infinity|NaN)$/,Z=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ne,b,h,y){var T,B=h?b:b.replace(Z,"");if(ee.test(B))ne.s=isNaN(B)?null:B<0?-1:1;else{if(!h&&(B=B.replace(A,function(K,se,pe){return T=(pe=pe.toLowerCase())=="x"?16:pe=="b"?2:8,!y||y==T?se:K}),y&&(T=y,B=B.replace(z,"$1").replace(q,"0.$1")),b!=B))return new k(B,T);if(k.DEBUG)throw Error(a+"Not a"+(y?" base "+y:"")+" number: "+b);ne.s=null}ne.c=ne.e=null}}();function fe(A,z,q,ee){var Z,ne,b,h,y,T,B,K=A.c,se=g;if(K){e:{for(Z=1,h=K[0];h>=10;h/=10,Z++);if(ne=z-Z,ne<0)ne+=u,b=z,y=K[T=0],B=o(y/se[Z-b-1]%10);else if(T=i((ne+1)/u),T>=K.length)if(ee){for(;K.length<=T;K.push(0));y=B=0,Z=1,ne%=u,b=ne-u+1}else break e;else{for(y=h=K[T],Z=1;h>=10;h/=10,Z++);ne%=u,b=ne-u+Z,B=b<0?0:o(y/se[Z-b-1]%10)}if(ee=ee||z<0||K[T+1]!=null||(b<0?y:y%se[Z-b-1]),ee=q<4?(B||ee)&&(q==0||q==(A.s<0?3:2)):B>5||B==5&&(q==4||ee||q==6&&(ne>0?b>0?y/se[Z-b]:0:K[T-1])%10&1||q==(A.s<0?8:7)),z<1||!K[0])return K.length=0,ee?(z-=A.e+1,K[0]=se[(u-z%u)%u],A.e=-z||0):K[0]=A.e=0,A;if(ne==0?(K.length=T,h=1,T--):(K.length=T+1,h=se[u-ne],K[T]=b>0?o(y/se[Z-b]%se[b])*h:0),ee)for(;;)if(T==0){for(ne=1,b=K[0];b>=10;b/=10,ne++);for(b=K[0]+=h,h=1;b>=10;b/=10,h++);ne!=h&&(A.e++,K[0]==c&&(K[0]=1));break}else{if(K[T]+=h,K[T]!=c)break;K[T--]=0,h=1}for(ne=K.length;K[--ne]===0;K.pop());}A.e>ie?A.c=A.e=null:A.e<D&&(A.c=[A.e=0])}return A}function me(A){var z,q=A.e;return q===null?A.toString():(z=R(A.c),z=q<=P||q>=G?O(z,q):C(z,q,"0"),A.s<0?"-"+z:z)}return U.absoluteValue=U.abs=function(){var A=new k(this);return A.s<0&&(A.s=1),A},U.comparedTo=function(A,z){return S(this,new k(A,z))},U.decimalPlaces=U.dp=function(A,z){var q,ee,Z,ne=this;if(A!=null)return w(A,0,p),z==null?z=N:w(z,0,8),fe(new k(ne),A+ne.e+1,z);if(!(q=ne.c))return null;if(ee=((Z=q.length-1)-j(this.e/u))*u,Z=q[Z])for(;Z%10==0;Z/=10,ee--);return ee<0&&(ee=0),ee},U.dividedBy=U.div=function(A,z){return H(this,new k(A,z),Y,N)},U.dividedToIntegerBy=U.idiv=function(A,z){return H(this,new k(A,z),0,1)},U.exponentiatedBy=U.pow=function(A,z){var q,ee,Z,ne,b,h,y,T,B,K=this;if(A=new k(A),A.c&&!A.isInteger())throw Error(a+"Exponent not an integer: "+me(A));if(z!=null&&(z=new k(z)),h=A.e>14,!K.c||!K.c[0]||K.c[0]==1&&!K.e&&K.c.length==1||!A.c||!A.c[0])return B=new k(Math.pow(+me(K),h?A.s*(2-_(A)):+me(A))),z?B.mod(z):B;if(y=A.s<0,z){if(z.c?!z.c[0]:!z.s)return new k(NaN);ee=!y&&K.isInteger()&&z.isInteger(),ee&&(K=K.mod(z))}else{if(A.e>9&&(K.e>0||K.e<-1||(K.e==0?K.c[0]>1||h&&K.c[1]>=24e7:K.c[0]<8e13||h&&K.c[0]<=9999975e7)))return ne=K.s<0&&_(A)?-0:0,K.e>-1&&(ne=1/ne),new k(y?1/ne:ne);he&&(ne=i(he/u+2))}for(h?(q=new k(.5),y&&(A.s=1),T=_(A)):(Z=Math.abs(+me(A)),T=Z%2),B=new k(I);;){if(T){if(B=B.times(K),!B.c)break;ne?B.c.length>ne&&(B.c.length=ne):ee&&(B=B.mod(z))}if(Z){if(Z=o(Z/2),Z===0)break;T=Z%2}else if(A=A.times(q),fe(A,A.e+1,1),A.e>14)T=_(A);else{if(Z=+me(A),Z===0)break;T=Z%2}K=K.times(K),ne?K.c&&K.c.length>ne&&(K.c.length=ne):ee&&(K=K.mod(z))}return ee?B:(y&&(B=I.div(B)),z?B.mod(z):ne?fe(B,he,N,b):B)},U.integerValue=function(A){var z=new k(this);return A==null?A=N:w(A,0,8),fe(z,z.e+1,A)},U.isEqualTo=U.eq=function(A,z){return S(this,new k(A,z))===0},U.isFinite=function(){return!!this.c},U.isGreaterThan=U.gt=function(A,z){return S(this,new k(A,z))>0},U.isGreaterThanOrEqualTo=U.gte=function(A,z){return(z=S(this,new k(A,z)))===1||z===0},U.isInteger=function(){return!!this.c&&j(this.e/u)>this.c.length-2},U.isLessThan=U.lt=function(A,z){return S(this,new k(A,z))<0},U.isLessThanOrEqualTo=U.lte=function(A,z){return(z=S(this,new k(A,z)))===-1||z===0},U.isNaN=function(){return!this.s},U.isNegative=function(){return this.s<0},U.isPositive=function(){return this.s>0},U.isZero=function(){return!!this.c&&this.c[0]==0},U.minus=function(A,z){var q,ee,Z,ne,b=this,h=b.s;if(A=new k(A,z),z=A.s,!h||!z)return new k(NaN);if(h!=z)return A.s=-z,b.plus(A);var y=b.e/u,T=A.e/u,B=b.c,K=A.c;if(!y||!T){if(!B||!K)return B?(A.s=-z,A):new k(K?b:NaN);if(!B[0]||!K[0])return K[0]?(A.s=-z,A):new k(B[0]?b:N==3?-0:0)}if(y=j(y),T=j(T),B=B.slice(),h=y-T){for((ne=h<0)?(h=-h,Z=B):(T=y,Z=K),Z.reverse(),z=h;z--;Z.push(0));Z.reverse()}else for(ee=(ne=(h=B.length)<(z=K.length))?h:z,h=z=0;z<ee;z++)if(B[z]!=K[z]){ne=B[z]<K[z];break}if(ne&&(Z=B,B=K,K=Z,A.s=-A.s),z=(ee=K.length)-(q=B.length),z>0)for(;z--;B[q++]=0);for(z=c-1;ee>h;){if(B[--ee]<K[ee]){for(q=ee;q&&!B[--q];B[q]=z);--B[q],B[ee]+=c}B[ee]-=K[ee]}for(;B[0]==0;B.splice(0,1),--T);return B[0]?le(A,B,T):(A.s=N==3?-1:1,A.c=[A.e=0],A)},U.modulo=U.mod=function(A,z){var q,ee,Z=this;return A=new k(A,z),!Z.c||!A.s||A.c&&!A.c[0]?new k(NaN):!A.c||Z.c&&!Z.c[0]?new k(Z):(te==9?(ee=A.s,A.s=1,q=H(Z,A,0,3),A.s=ee,q.s*=ee):q=H(Z,A,0,te),A=Z.minus(q.times(A)),!A.c[0]&&te==1&&(A.s=Z.s),A)},U.multipliedBy=U.times=function(A,z){var q,ee,Z,ne,b,h,y,T,B,K,se,pe,we,be,Ae,E=this,x=E.c,v=(A=new k(A,z)).c;if(!x||!v||!x[0]||!v[0])return!E.s||!A.s||x&&!x[0]&&!v||v&&!v[0]&&!x?A.c=A.e=A.s=null:(A.s*=E.s,!x||!v?A.c=A.e=null:(A.c=[0],A.e=0)),A;for(ee=j(E.e/u)+j(A.e/u),A.s*=E.s,y=x.length,K=v.length,y<K&&(we=x,x=v,v=we,Z=y,y=K,K=Z),Z=y+K,we=[];Z--;we.push(0));for(be=c,Ae=f,Z=K;--Z>=0;){for(q=0,se=v[Z]%Ae,pe=v[Z]/Ae|0,b=y,ne=Z+b;ne>Z;)T=x[--b]%Ae,B=x[b]/Ae|0,h=pe*T+B*se,T=se*T+h%Ae*Ae+we[ne]+q,q=(T/be|0)+(h/Ae|0)+pe*B,we[ne--]=T%be;we[ne]=q}return q?++ee:we.splice(0,1),le(A,we,ee)},U.negated=function(){var A=new k(this);return A.s=-A.s||null,A},U.plus=function(A,z){var q,ee=this,Z=ee.s;if(A=new k(A,z),z=A.s,!Z||!z)return new k(NaN);if(Z!=z)return A.s=-z,ee.minus(A);var ne=ee.e/u,b=A.e/u,h=ee.c,y=A.c;if(!ne||!b){if(!h||!y)return new k(Z/0);if(!h[0]||!y[0])return y[0]?A:new k(h[0]?ee:Z*0)}if(ne=j(ne),b=j(b),h=h.slice(),Z=ne-b){for(Z>0?(b=ne,q=y):(Z=-Z,q=h),q.reverse();Z--;q.push(0));q.reverse()}for(Z=h.length,z=y.length,Z-z<0&&(q=y,y=h,h=q,z=Z),Z=0;z;)Z=(h[--z]=h[z]+y[z]+Z)/c|0,h[z]=c===h[z]?0:h[z]%c;return Z&&(h=[Z].concat(h),++b),le(A,h,b)},U.precision=U.sd=function(A,z){var q,ee,Z,ne=this;if(A!=null&&A!==!!A)return w(A,1,p),z==null?z=N:w(z,0,8),fe(new k(ne),A,z);if(!(q=ne.c))return null;if(Z=q.length-1,ee=Z*u+1,Z=q[Z]){for(;Z%10==0;Z/=10,ee--);for(Z=q[0];Z>=10;Z/=10,ee++);}return A&&ne.e+1>ee&&(ee=ne.e+1),ee},U.shiftedBy=function(A){return w(A,-d,d),this.times("1e"+A)},U.squareRoot=U.sqrt=function(){var A,z,q,ee,Z,ne=this,b=ne.c,h=ne.s,y=ne.e,T=Y+4,B=new k("0.5");if(h!==1||!b||!b[0])return new k(!h||h<0&&(!b||b[0])?NaN:b?ne:1/0);if(h=Math.sqrt(+me(ne)),h==0||h==1/0?(z=R(b),(z.length+y)%2==0&&(z+="0"),h=Math.sqrt(+z),y=j((y+1)/2)-(y<0||y%2),h==1/0?z="5e"+y:(z=h.toExponential(),z=z.slice(0,z.indexOf("e")+1)+y),q=new k(z)):q=new k(h+""),q.c[0]){for(y=q.e,h=y+T,h<3&&(h=0);;)if(Z=q,q=B.times(Z.plus(H(ne,Z,T,1))),R(Z.c).slice(0,h)===(z=R(q.c)).slice(0,h))if(q.e<y&&--h,z=z.slice(h-3,h+1),z=="9999"||!ee&&z=="4999"){if(!ee&&(fe(Z,Z.e+Y+2,0),Z.times(Z).eq(ne))){q=Z;break}T+=4,h+=4,ee=1}else{(!+z||!+z.slice(1)&&z.charAt(0)=="5")&&(fe(q,q.e+Y+2,1),A=!q.times(q).eq(ne));break}}return fe(q,q.e+Y+1,N,A)},U.toExponential=function(A,z){return A!=null&&(w(A,0,p),A++),ye(this,A,z,1)},U.toFixed=function(A,z){return A!=null&&(w(A,0,p),A=A+this.e+1),ye(this,A,z)},U.toFormat=function(A,z,q){var ee,Z=this;if(q==null)A!=null&&z&&typeof z=="object"?(q=z,z=null):A&&typeof A=="object"?(q=A,A=z=null):q=ce;else if(typeof q!="object")throw Error(a+"Argument not an object: "+q);if(ee=Z.toFixed(A,z),Z.c){var ne,b=ee.split("."),h=+q.groupSize,y=+q.secondaryGroupSize,T=q.groupSeparator||"",B=b[0],K=b[1],se=Z.s<0,pe=se?B.slice(1):B,we=pe.length;if(y&&(ne=h,h=y,y=ne,we-=ne),h>0&&we>0){for(ne=we%h||h,B=pe.substr(0,ne);ne<we;ne+=h)B+=T+pe.substr(ne,h);y>0&&(B+=T+pe.slice(ne)),se&&(B="-"+B)}ee=K?B+(q.decimalSeparator||"")+((y=+q.fractionGroupSize)?K.replace(new RegExp("\\d{"+y+"}\\B","g"),"$&"+(q.fractionGroupSeparator||"")):K):B}return(q.prefix||"")+ee+(q.suffix||"")},U.toFraction=function(A){var z,q,ee,Z,ne,b,h,y,T,B,K,se,pe=this,we=pe.c;if(A!=null&&(h=new k(A),!h.isInteger()&&(h.c||h.s!==1)||h.lt(I)))throw Error(a+"Argument "+(h.isInteger()?"out of range: ":"not an integer: ")+me(h));if(!we)return new k(pe);for(z=new k(I),T=q=new k(I),ee=y=new k(I),se=R(we),ne=z.e=se.length-pe.e-1,z.c[0]=g[(b=ne%u)<0?u+b:b],A=!A||h.comparedTo(z)>0?ne>0?z:T:h,b=ie,ie=1/0,h=new k(se),y.c[0]=0;B=H(h,z,0,1),Z=q.plus(B.times(ee)),Z.comparedTo(A)!=1;)q=ee,ee=Z,T=y.plus(B.times(Z=T)),y=Z,z=h.minus(B.times(Z=z)),h=Z;return Z=H(A.minus(q),ee,0,1),y=y.plus(Z.times(T)),q=q.plus(Z.times(ee)),y.s=T.s=pe.s,ne=ne*2,K=H(T,ee,ne,N).minus(pe).abs().comparedTo(H(y,q,ne,N).minus(pe).abs())<1?[T,ee]:[y,q],ie=b,K},U.toNumber=function(){return+me(this)},U.toPrecision=function(A,z){return A!=null&&w(A,1,p),ye(this,A,z,2)},U.toString=function(A){var z,q=this,ee=q.s,Z=q.e;return Z===null?ee?(z="Infinity",ee<0&&(z="-"+z)):z="NaN":(A==null?z=Z<=P||Z>=G?O(R(q.c),Z):C(R(q.c),Z,"0"):A===10&&_e?(q=fe(new k(q),Y+Z+1,N),z=C(R(q.c),q.e,"0")):(w(A,2,ue.length,"Base"),z=F(C(R(q.c),Z,"0"),10,A,ee,!0)),ee<0&&q.c[0]&&(z="-"+z)),z},U.valueOf=U.toJSON=function(){return me(this)},U._isBigNumber=!0,W!=null&&k.set(W),k}function j(W){var H=W|0;return W>0||W===H?H:H-1}function R(W){for(var H,F,J=1,U=W.length,I=W[0]+"";J<U;){for(H=W[J++]+"",F=u-H.length;F--;H="0"+H);I+=H}for(U=I.length;I.charCodeAt(--U)===48;);return I.slice(0,U+1||1)}function S(W,H){var F,J,U=W.c,I=H.c,Y=W.s,N=H.s,P=W.e,G=H.e;if(!Y||!N)return null;if(F=U&&!U[0],J=I&&!I[0],F||J)return F?J?0:-N:Y;if(Y!=N)return Y;if(F=Y<0,J=P==G,!U||!I)return J?0:!U^F?1:-1;if(!J)return P>G^F?1:-1;for(N=(P=U.length)<(G=I.length)?P:G,Y=0;Y<N;Y++)if(U[Y]!=I[Y])return U[Y]>I[Y]^F?1:-1;return P==G?0:P>G^F?1:-1}function w(W,H,F,J){if(W<H||W>F||W!==o(W))throw Error(a+(J||"Argument")+(typeof W=="number"?W<H||W>F?" out of range: ":" not an integer: ":" not a primitive number: ")+String(W))}function _(W){var H=W.c.length-1;return j(W.e/u)==H&&W.c[H]%2!=0}function O(W,H){return(W.length>1?W.charAt(0)+"."+W.slice(1):W)+(H<0?"e":"e+")+H}function C(W,H,F){var J,U;if(H<0){for(U=F+".";++H;U+=F);W=U+W}else if(J=W.length,++H>J){for(U=F,H-=J;--H;U+=F);W+=U}else H<J&&(W=W.slice(0,H)+"."+W.slice(H));return W}r=m(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})($i)})(Wx);var pu=Wx.exports,kS=function(t,r,n){var i=new t.Uint8Array(n),o=r.pushInt,a=r.pushInt32,l=r.pushInt32Neg,c=r.pushInt64,u=r.pushInt64Neg,d=r.pushFloat,g=r.pushFloatSingle,f=r.pushFloatDouble,p=r.pushTrue,m=r.pushFalse,j=r.pushUndefined,R=r.pushNull,S=r.pushInfinity,w=r.pushInfinityNeg,_=r.pushNaN,O=r.pushNaNNeg,C=r.pushArrayStart,W=r.pushArrayStartFixed,H=r.pushArrayStartFixed32,F=r.pushArrayStartFixed64,J=r.pushObjectStart,U=r.pushObjectStartFixed,I=r.pushObjectStartFixed32,Y=r.pushObjectStartFixed64,N=r.pushByteString,P=r.pushByteStringStart,G=r.pushUtf8String,D=r.pushUtf8StringStart,ie=r.pushSimpleUnassigned,Q=r.pushTagStart,te=r.pushTagStart4,he=r.pushTagStart8,ce=r.pushTagUnassigned,ue=r.pushBreak,_e=t.Math.pow,k=0,ye=0,ve=0;function le(L){for(L=L|0,k=0,ye=L;(k|0)<(ye|0)&&(ve=Wa[i[k]&255](i[k]|0)|0,!((ve|0)>0)););return ve|0}function fe(L){return L=L|0,((k|0)+(L|0)|0)<(ye|0)?0:1}function me(L){return L=L|0,i[L|0]<<8|i[L+1|0]|0}function A(L){return L=L|0,i[L|0]<<24|i[L+1|0]<<16|i[L+2|0]<<8|i[L+3|0]|0}function z(L){return L=L|0,o(L|0),k=k+1|0,0}function q(L){return L=L|0,fe(1)|0?1:(o(i[k+1|0]|0),k=k+2|0,0)}function ee(L){return L=L|0,fe(2)|0?1:(o(me(k+1|0)|0),k=k+3|0,0)}function Z(L){return L=L|0,fe(4)|0?1:(a(me(k+1|0)|0,me(k+3|0)|0),k=k+5|0,0)}function ne(L){return L=L|0,fe(8)|0?1:(c(me(k+1|0)|0,me(k+3|0)|0,me(k+5|0)|0,me(k+7|0)|0),k=k+9|0,0)}function b(L){return L=L|0,o(-1-(L-32|0)|0),k=k+1|0,0}function h(L){return L=L|0,fe(1)|0?1:(o(-1-(i[k+1|0]|0)|0),k=k+2|0,0)}function y(L){L=L|0;var Me=0;return fe(2)|0?1:(Me=me(k+1|0)|0,o(-1-(Me|0)|0),k=k+3|0,0)}function T(L){return L=L|0,fe(4)|0?1:(l(me(k+1|0)|0,me(k+3|0)|0),k=k+5|0,0)}function B(L){return L=L|0,fe(8)|0?1:(u(me(k+1|0)|0,me(k+3|0)|0,me(k+5|0)|0,me(k+7|0)|0),k=k+9|0,0)}function K(L){L=L|0;var Me=0,Ue=0,Oe=0;return Oe=L-64|0,fe(Oe|0)|0?1:(Me=k+1|0,Ue=(k+1|0)+(Oe|0)|0,N(Me|0,Ue|0),k=Ue|0,0)}function se(L){L=L|0;var Me=0,Ue=0,Oe=0;return fe(1)|0||(Oe=i[k+1|0]|0,Me=k+2|0,Ue=(k+2|0)+(Oe|0)|0,fe(Oe+1|0)|0)?1:(N(Me|0,Ue|0),k=Ue|0,0)}function pe(L){L=L|0;var Me=0,Ue=0,Oe=0;return fe(2)|0||(Oe=me(k+1|0)|0,Me=k+3|0,Ue=(k+3|0)+(Oe|0)|0,fe(Oe+2|0)|0)?1:(N(Me|0,Ue|0),k=Ue|0,0)}function we(L){L=L|0;var Me=0,Ue=0,Oe=0;return fe(4)|0||(Oe=A(k+1|0)|0,Me=k+5|0,Ue=(k+5|0)+(Oe|0)|0,fe(Oe+4|0)|0)?1:(N(Me|0,Ue|0),k=Ue|0,0)}function be(L){return L=L|0,1}function Ae(L){return L=L|0,P(),k=k+1|0,0}function E(L){L=L|0;var Me=0,Ue=0,Oe=0;return Oe=L-96|0,fe(Oe|0)|0?1:(Me=k+1|0,Ue=(k+1|0)+(Oe|0)|0,G(Me|0,Ue|0),k=Ue|0,0)}function x(L){L=L|0;var Me=0,Ue=0,Oe=0;return fe(1)|0||(Oe=i[k+1|0]|0,Me=k+2|0,Ue=(k+2|0)+(Oe|0)|0,fe(Oe+1|0)|0)?1:(G(Me|0,Ue|0),k=Ue|0,0)}function v(L){L=L|0;var Me=0,Ue=0,Oe=0;return fe(2)|0||(Oe=me(k+1|0)|0,Me=k+3|0,Ue=(k+3|0)+(Oe|0)|0,fe(Oe+2|0)|0)?1:(G(Me|0,Ue|0),k=Ue|0,0)}function $(L){L=L|0;var Me=0,Ue=0,Oe=0;return fe(4)|0||(Oe=A(k+1|0)|0,Me=k+5|0,Ue=(k+5|0)+(Oe|0)|0,fe(Oe+4|0)|0)?1:(G(Me|0,Ue|0),k=Ue|0,0)}function re(L){return L=L|0,1}function oe(L){return L=L|0,D(),k=k+1|0,0}function ae(L){return L=L|0,W(L-128|0),k=k+1|0,0}function je(L){return L=L|0,fe(1)|0?1:(W(i[k+1|0]|0),k=k+2|0,0)}function Re(L){return L=L|0,fe(2)|0?1:(W(me(k+1|0)|0),k=k+3|0,0)}function Ce(L){return L=L|0,fe(4)|0?1:(H(me(k+1|0)|0,me(k+3|0)|0),k=k+5|0,0)}function Se(L){return L=L|0,fe(8)|0?1:(F(me(k+1|0)|0,me(k+3|0)|0,me(k+5|0)|0,me(k+7|0)|0),k=k+9|0,0)}function Fe(L){return L=L|0,C(),k=k+1|0,0}function $e(L){L=L|0;var Me=0;return Me=L-160|0,fe(Me|0)|0?1:(U(Me|0),k=k+1|0,0)}function Vr(L){return L=L|0,fe(1)|0?1:(U(i[k+1|0]|0),k=k+2|0,0)}function Wr(L){return L=L|0,fe(2)|0?1:(U(me(k+1|0)|0),k=k+3|0,0)}function X(L){return L=L|0,fe(4)|0?1:(I(me(k+1|0)|0,me(k+3|0)|0),k=k+5|0,0)}function V(L){return L=L|0,fe(8)|0?1:(Y(me(k+1|0)|0,me(k+3|0)|0,me(k+5|0)|0,me(k+7|0)|0),k=k+9|0,0)}function de(L){return L=L|0,J(),k=k+1|0,0}function Be(L){return L=L|0,Q(L-192|0|0),k=k+1|0,0}function et(L){return L=L|0,Q(L|0),k=k+1|0,0}function vi(L){return L=L|0,Q(L|0),k=k+1|0,0}function Va(L){return L=L|0,Q(L|0),k=k+1|0,0}function ns(L){return L=L|0,Q(L|0),k=k+1|0,0}function gt(L){return L=L|0,Q(L-192|0|0),k=k+1|0,0}function M0(L){return L=L|0,Q(L|0),k=k+1|0,0}function U0(L){return L=L|0,Q(L|0),k=k+1|0,0}function z0(L){return L=L|0,Q(L|0),k=k+1|0,0}function Cu(L){return L=L|0,fe(1)|0?1:(Q(i[k+1|0]|0),k=k+2|0,0)}function Au(L){return L=L|0,fe(2)|0?1:(Q(me(k+1|0)|0),k=k+3|0,0)}function Ru(L){return L=L|0,fe(4)|0?1:(te(me(k+1|0)|0,me(k+3|0)|0),k=k+5|0,0)}function Bu(L){return L=L|0,fe(8)|0?1:(he(me(k+1|0)|0,me(k+3|0)|0,me(k+5|0)|0,me(k+7|0)|0),k=k+9|0,0)}function at(L){return L=L|0,ie((L|0)-224|0),k=k+1|0,0}function Fu(L){return L=L|0,m(),k=k+1|0,0}function Pu(L){return L=L|0,p(),k=k+1|0,0}function Ou(L){return L=L|0,R(),k=k+1|0,0}function Mu(L){return L=L|0,j(),k=k+1|0,0}function Uu(L){return L=L|0,fe(1)|0?1:(ie(i[k+1|0]|0),k=k+2|0,0)}function zu(L){L=L|0;var Me=0,Ue=0,Oe=1,wi=0,bi=0,V0=0;return fe(2)|0?1:(Me=i[k+1|0]|0,Ue=i[k+2|0]|0,(Me|0)&128&&(Oe=-1),wi=+(((Me|0)&124)>>2),bi=+(((Me|0)&3)<<8|Ue),+wi==0?d(+(+Oe*5960464477539063e-23*+bi)):+wi==31?+Oe==1?+bi>0?_():S():+bi>0?O():w():d(+(+Oe*_e(2,+(+wi-25))*+(1024+bi))),k=k+3|0,0)}function Vu(L){return L=L|0,fe(4)|0?1:(g(i[k+1|0]|0,i[k+2|0]|0,i[k+3|0]|0,i[k+4|0]|0),k=k+5|0,0)}function Wu(L){return L=L|0,fe(8)|0?1:(f(i[k+1|0]|0,i[k+2|0]|0,i[k+3|0]|0,i[k+4|0]|0,i[k+5|0]|0,i[k+6|0]|0,i[k+7|0]|0,i[k+8|0]|0),k=k+9|0,0)}function qe(L){return L=L|0,1}function $u(L){return L=L|0,ue(),k=k+1|0,0}var Wa=[z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,q,ee,Z,ne,qe,qe,qe,qe,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,h,y,T,B,qe,qe,qe,qe,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,se,pe,we,be,qe,qe,qe,Ae,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,x,v,$,re,qe,qe,qe,oe,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,je,Re,Ce,Se,qe,qe,qe,Fe,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,Vr,Wr,X,V,qe,qe,qe,de,Be,Be,Be,Be,Be,Be,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,gt,Cu,Au,Ru,Bu,qe,qe,qe,qe,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,Fu,Pu,Ou,Mu,Uu,zu,Vu,Wu,qe,qe,qe,$u];return{parse:le}},mu={},Gt={};const v0=pu.BigNumber;Gt.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Gt.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Gt.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Gt.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Gt.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Gt.SHIFT32=Math.pow(2,32);Gt.SHIFT16=Math.pow(2,16);Gt.MAX_SAFE_HIGH=2097151;Gt.NEG_ONE=new v0(-1);Gt.TEN=new v0(10);Gt.TWO=new v0(2);Gt.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(e){const{Buffer:t}=Oa,r=pu.BigNumber,n=Gt,i=n.SHIFT32,o=n.SHIFT16,a=2097151;e.parseHalf=function(u){var d,g,f;return f=u[0]&128?-1:1,d=(u[0]&124)>>2,g=(u[0]&3)<<8|u[1],d?d===31?f*(g?0/0:1/0):f*Math.pow(2,d-25)*(1024+g):f*5960464477539063e-23*g};function l(c){return c<16?"0"+c.toString(16):c.toString(16)}e.arrayBufferToBignumber=function(c){const u=c.byteLength;let d="";for(let g=0;g<u;g++)d+=l(c[g]);return new r(d,16)},e.buildMap=c=>{const u=new Map,d=Object.keys(c),g=d.length;for(let f=0;f<g;f++)u.set(d[f],c[d[f]]);return u},e.buildInt32=(c,u)=>c*o+u,e.buildInt64=(c,u,d,g)=>{const f=e.buildInt32(c,u),p=e.buildInt32(d,g);return f>a?new r(f).times(i).plus(p):f*i+p},e.writeHalf=function(u,d){const g=t.allocUnsafe(4);g.writeFloatBE(d,0);const f=g.readUInt32BE(0);if(f&8191)return!1;var p=f>>16&32768;const m=f>>23&255,j=f&8388607;if(m>=113&&m<=142)p+=(m-112<<10)+(j>>13);else if(m>=103&&m<113){if(j&(1<<126-m)-1)return!1;p+=j+8388608>>126-m}else return!1;return u.writeUInt16BE(p,0),!0},e.keySorter=function(c,u){var d=c[0].byteLength,g=u[0].byteLength;return d>g?1:g>d?-1:c[0].compare(u[0])},e.isNegativeZero=c=>c===0&&1/c<0,e.nextPowerOf2=c=>{let u=0;if(c&&!(c&c-1))return c;for(;c!==0;)c>>=1,u+=1;return 1<<u}})(mu);const w0=Gt,CS=w0.MT,cl=w0.SIMPLE,vd=w0.SYMS;let AS=class If{constructor(t){if(typeof t!="number")throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(t|0)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,CS.SIMPLE_FLOAT)}static isSimple(t){return t instanceof If}static decode(t,r){switch(r==null&&(r=!0),t){case cl.FALSE:return!1;case cl.TRUE:return!0;case cl.NULL:return r?null:vd.NULL;case cl.UNDEFINED:return r?void 0:vd.UNDEFINED;case-1:if(!r)throw new Error("Invalid BREAK");return vd.BREAK;default:return new If(t)}}};var $x=AS;let RS=class Gf{constructor(t,r,n){if(this.tag=t,this.value=r,this.err=n,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var r,n;if(n=t!=null?t[this.tag]:void 0,typeof n!="function"&&(n=Gf["_tag"+this.tag],typeof n!="function"))return this;try{return n.call(Gf,this.value)}catch(i){return r=i,this.err=r,this}}};var Hx=RS;const Ix=self.location?self.location.protocol+"//"+self.location.host:"",qf=self.URL;let BS=class{constructor(t="",r=Ix){this.super=new qf(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function FS(e){if(typeof e=="string")return new qf(e).toString();if(!(e instanceof qf)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",a=e.hostname||"",l=e.search||(e.query?"?"+e.query:""),c=e.hash||"",u=e.pathname||"",d=e.path||u+l;return`${i}${t||r}${o||a+n}${d}${c}`}}var Gx={URLWithLegacySupport:BS,URLSearchParams:self.URLSearchParams,defaultBase:Ix,format:FS};const{URLWithLegacySupport:um,format:PS}=Gx;var OS=(e,t={},r={},n)=>{let i=t.protocol?t.protocol.replace(":",""):"http";i=(r[i]||n||i)+":";let o;try{o=new um(e)}catch{o={}}const a=Object.assign({},t,{protocol:i||o.protocol,host:t.host||o.host});return new um(e,PS(a)).toString()};const{URLWithLegacySupport:MS,format:US,URLSearchParams:zS,defaultBase:VS}=Gx,WS=OS;var qx={URL:MS,URLSearchParams:zS,format:US,relative:WS,defaultBase:VS};const{Buffer:cs}=Oa,dm=Ra,$S=pu.BigNumber,HS=kS,qt=mu,Qe=Gt,IS=$x,GS=Hx,{URL:qS}=qx;let Kf=class Yf{constructor(t){t=t||{},!t.size||t.size<65536?t.size=65536:t.size=qt.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=cs.from(this._heap),this._reset(),this._knownTags=Object.assign({0:r=>new Date(r),1:r=>new Date(r*1e3),2:r=>qt.arrayBufferToBignumber(r),3:r=>Qe.NEG_ONE.minus(qt.arrayBufferToBignumber(r)),4:r=>Qe.TEN.pow(r[0]).times(r[1]),5:r=>Qe.TWO.pow(r[0]).times(r[1]),32:r=>new qS(r),35:r=>new RegExp(r)},t.tags),this.parser=HS($i,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case Qe.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case Qe.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case Qe.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case Qe.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case Qe.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case Qe.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length));break}this._currentParent&&this._currentParent.type===Qe.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,t.length===0&&this._closeParent())}_push(t,r){const n=this._currentParent;switch(n.values++,n.type){case Qe.PARENT.ARRAY:case Qe.PARENT.BYTE_STRING:case Qe.PARENT.UTF8_STRING:n.length>-1?this._ref[this._ref.length-n.length]=t:this._ref.push(t),this._dec();break;case Qe.PARENT.OBJECT:n.tmpKey!=null?(this._ref[n.tmpKey]=t,n.tmpKey=null,this._dec()):(n.tmpKey=t,typeof n.tmpKey!="string"&&(n.type=Qe.PARENT.MAP,n.ref=qt.buildMap(n.ref)));break;case Qe.PARENT.MAP:n.tmpKey!=null?(this._ref.set(n.tmpKey,t),n.tmpKey=null,this._dec()):n.tmpKey=t;break;case Qe.PARENT.TAG:this._ref.push(t),r||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,r,n){this._parents[this._depth]={type:r,length:n,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Qe.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,r){const n=this._knownTags[t];return n?n(r):new GS(t,r)}createMap(t,r){return t}createObject(t,r){return t}createArray(t,r){return t}createByteString(t,r){return cs.concat(t)}createByteStringFromHeap(t,r){return t===r?cs.alloc(0):cs.from(this._heap.slice(t,r))}createInt(t){return t}createInt32(t,r){return qt.buildInt32(t,r)}createInt64(t,r,n,i){return qt.buildInt64(t,r,n,i)}createFloat(t){return t}createFloatSingle(t,r,n,i){return dm.read([t,r,n,i],0,!1,23,4)}createFloatDouble(t,r,n,i,o,a,l,c){return dm.read([t,r,n,i,o,a,l,c],0,!1,52,8)}createInt32Neg(t,r){return-1-qt.buildInt32(t,r)}createInt64Neg(t,r,n,i){const o=qt.buildInt32(t,r),a=qt.buildInt32(n,i);return o>Qe.MAX_SAFE_HIGH?Qe.NEG_ONE.minus(new $S(o).times(Qe.SHIFT32).plus(a)):-1-(o*Qe.SHIFT32+a)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,r){return t.join("")}createUtf8StringFromHeap(t,r){return t===r?"":this._buffer.toString("utf8",t,r)}createSimpleUnassigned(t){return new IS(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,r){this._push(this.createInt32(t,r))}pushInt64(t,r,n,i){this._push(this.createInt64(t,r,n,i))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,r,n,i){this._push(this.createFloatSingle(t,r,n,i))}pushFloatDouble(t,r,n,i,o,a,l,c){this._push(this.createFloatDouble(t,r,n,i,o,a,l,c))}pushInt32Neg(t,r){this._push(this.createInt32Neg(t,r))}pushInt64Neg(t,r,n,i){this._push(this.createInt64Neg(t,r,n,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Qe.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,r){const n=qt.buildInt32(t,r);this._createArrayStartFixed(n)}pushArrayStartFixed64(t,r,n,i){const o=qt.buildInt64(t,r,n,i);this._createArrayStartFixed(o)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,r){const n=qt.buildInt32(t,r);this._createObjectStartFixed(n)}pushObjectStartFixed64(t,r,n,i){const o=qt.buildInt64(t,r,n,i);this._createObjectStartFixed(o)}pushByteStringStart(){this._parents[this._depth]={type:Qe.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,r){this._push(this.createByteStringFromHeap(t,r))}pushUtf8StringStart(){this._parents[this._depth]={type:Qe.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,r){this._push(this.createUtf8StringFromHeap(t,r))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:Qe.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,r){this.pushTagStart(qt.buildInt32(t,r))}pushTagStart8(t,r,n,i){this.pushTagStart(qt.buildInt64(t,r,n,i))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){if(t===0){this._push(this.createObject({}));return}this._createParent({},Qe.PARENT.OBJECT,t)}_createArrayStartFixed(t){if(t===0){this._push(this.createArray([]));return}this._createParent(new Array(t),Qe.PARENT.ARRAY,t)}_decode(t){if(t.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(t);const r=this.parser.parse(t.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(r>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,r){return typeof t=="string"&&(t=cs.from(t,r||"hex")),new Yf({size:t.length}).decodeFirst(t)}static decodeAll(t,r){return typeof t=="string"&&(t=cs.from(t,r||"hex")),new Yf({size:t.length}).decodeAll(t)}};Kf.decodeFirst=Kf.decode;var Kx=Kf;const{Buffer:wd}=Oa,KS=Kx,YS=mu;class b0 extends KS{createTag(t,r){return`${t}(${r})`}createInt(t){return super.createInt(t).toString()}createInt32(t,r){return super.createInt32(t,r).toString()}createInt64(t,r,n,i){return super.createInt64(t,r,n,i).toString()}createInt32Neg(t,r){return super.createInt32Neg(t,r).toString()}createInt64Neg(t,r,n,i){return super.createInt64Neg(t,r,n,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const r=super.createFloat(t);return YS.isNegativeZero(t)?"-0_1":`${r}_1`}createFloatSingle(t,r,n,i){return`${super.createFloatSingle(t,r,n,i)}_2`}createFloatDouble(t,r,n,i,o,a,l,c){return`${super.createFloatDouble(t,r,n,i,o,a,l,c)}_3`}createByteString(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`h'${n}`}createByteStringFromHeap(t,r){return`h'${wd.from(super.createByteStringFromHeap(t,r)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,r){const n=super.createArray(t,r);return r===-1?`[_ ${n.join(", ")}]`:`[${n.join(", ")}]`}createMap(t,r){const n=super.createMap(t),i=Array.from(n.keys()).reduce(fm(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createObject(t,r){const n=super.createObject(t),i=Object.keys(n).reduce(fm(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`"${n}"`}createUtf8StringFromHeap(t,r){return`"${wd.from(super.createUtf8StringFromHeap(t,r)).toString("utf8")}"`}static diagnose(t,r){return typeof t=="string"&&(t=wd.from(t,r||"hex")),new b0().decodeFirst(t)}}var QS=b0;function fm(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}const{Buffer:Zr}=Oa,{URL:ZS}=qx,Qf=pu.BigNumber,bd=mu,Et=Gt,Nr=Et.MT,ul=Et.NUMBYTES,hm=Et.SHIFT32,pm=Et.SYMS,us=Et.TAG,XS=Et.MT.SIMPLE_FLOAT<<5|Et.NUMBYTES.TWO,JS=Et.MT.SIMPLE_FLOAT<<5|Et.NUMBYTES.FOUR,LS=Et.MT.SIMPLE_FLOAT<<5|Et.NUMBYTES.EIGHT,DS=Et.MT.SIMPLE_FLOAT<<5|Et.SIMPLE.TRUE,eN=Et.MT.SIMPLE_FLOAT<<5|Et.SIMPLE.FALSE,tN=Et.MT.SIMPLE_FLOAT<<5|Et.SIMPLE.UNDEFINED,mm=Et.MT.SIMPLE_FLOAT<<5|Et.SIMPLE.NULL,rN=new Qf("0x20000000000000"),nN=Zr.from("f97e00","hex"),iN=Zr.from("f9fc00","hex"),sN=Zr.from("f97c00","hex");function oN(e){return{}.toString.call(e).slice(8,-1)}class jc{constructor(t){t=t||{},this.streaming=typeof t.stream=="function",this.onData=t.stream,this.semanticTypes=[[ZS,this._pushUrl],[Qf,this._pushBigNumber]];const r=t.genTypes||[],n=r.length;for(let i=0;i<n;i++)this.addSemanticType(r[i][0],r[i][1]);this._reset()}addSemanticType(t,r){const n=this.semanticTypes.length;for(let i=0;i<n;i++)if(this.semanticTypes[i][0]===t){const a=this.semanticTypes[i][1];return this.semanticTypes[i][1]=r,a}return this.semanticTypes.push([t,r]),null}push(t){return t&&(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(t,r,n){return this.result[this.offset]=t,this.resultMethod[this.offset]=r,this.resultLength[this.offset]=n,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(nN)}_pushInfinity(t){const r=t<0?iN:sN;return this.push(r)}_pushFloat(t){const r=Zr.allocUnsafe(2);if(bd.writeHalf(r,t)&&bd.parseHalf(r)===t)return this._pushUInt8(XS)&&this.push(r);const n=Zr.allocUnsafe(4);return n.writeFloatBE(t,0),n.readFloatBE(0)===t?this._pushUInt8(JS)&&this.push(n):this._pushUInt8(LS)&&this._pushDoubleBE(t)}_pushInt(t,r,n){const i=r<<5;return t<24?this._pushUInt8(i|t):t<=255?this._pushUInt8(i|ul.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(i|ul.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(i|ul.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|ul.EIGHT)&&this._pushUInt32BE(Math.floor(t/hm))&&this._pushUInt32BE(t%hm):r===Nr.NEG_INT?this._pushFloat(n):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,Nr.NEG_INT,t):this._pushInt(t,Nr.POS_INT)}_pushNumber(t){switch(!1){case t===t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!==0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const r=Zr.byteLength(t,"utf8");return this._pushInt(r,Nr.UTF8_STRING)&&this.pushWrite(t,5,r)}_pushBoolean(t){return this._pushUInt8(t?DS:eN)}_pushUndefined(t){return this._pushUInt8(tN)}_pushArray(t,r){const n=r.length;if(!t._pushInt(n,Nr.ARRAY))return!1;for(let i=0;i<n;i++)if(!t.pushAny(r[i]))return!1;return!0}_pushTag(t){return this._pushInt(t,Nr.TAG)}_pushDate(t,r){return t._pushTag(us.DATE_EPOCH)&&t.pushAny(Math.round(r/1e3))}_pushBuffer(t,r){return t._pushInt(r.length,Nr.BYTE_STRING)&&t.push(r)}_pushNoFilter(t,r){return t._pushBuffer(t,r.slice())}_pushRegexp(t,r){return t._pushTag(us.REGEXP)&&t.pushAny(r.source)}_pushSet(t,r){if(!t._pushInt(r.size,Nr.ARRAY))return!1;for(const n of r)if(!t.pushAny(n))return!1;return!0}_pushUrl(t,r){return t._pushTag(us.URI)&&t.pushAny(r.format())}_pushBigint(t){let r=us.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),r=us.NEG_BIGINT);let n=t.toString(16);n.length%2&&(n="0"+n);const i=Zr.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,i)}_pushBigNumber(t,r){if(r.isNaN())return t._pushNaN();if(!r.isFinite())return t._pushInfinity(r.isNegative()?-1/0:1/0);if(r.isInteger())return t._pushBigint(r);if(!(t._pushTag(us.DECIMAL_FRAC)&&t._pushInt(2,Nr.ARRAY)))return!1;const n=r.decimalPlaces(),i=r.multipliedBy(new Qf(10).pow(n));return t._pushIntNum(-n)?i.abs().isLessThan(rN)?t._pushIntNum(i.toNumber()):t._pushBigint(i):!1}_pushMap(t,r){return t._pushInt(r.size,Nr.MAP)?this._pushRawMap(r.size,Array.from(r)):!1}_pushObject(t){if(!t)return this._pushUInt8(mm);for(var r=this.semanticTypes.length,n=0;n<r;n++)if(t instanceof this.semanticTypes[n][0])return this.semanticTypes[n][1].call(t,this,t);var i=t.encodeCBOR;if(typeof i=="function")return i.call(t,this);var o=Object.keys(t),a=o.length;return this._pushInt(a,Nr.MAP)?this._pushRawMap(a,o.map(l=>[l,t[l]])):!1}_pushRawMap(t,r){r=r.map(function(i){return i[0]=jc.encode(i[0]),i}).sort(bd.keySorter);for(var n=0;n<t;n++)if(!this.push(r[n][0])||!this.pushAny(r[n][1]))return!1;return!0}write(t){return this.pushAny(t)}pushAny(t){var r=oN(t);switch(r){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,Zr.isBuffer(t)?t:Zr.from(t));case"Null":return this._pushUInt8(mm);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"URL":return this._pushUrl(this,t);case"BigNumber":return this._pushBigNumber(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case pm.NULL:return this._pushObject(null);case pm.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(this.offset===0)return null;for(var t=this.result,r=this.resultLength,n=this.resultMethod,i=this.offset,o=0,a=0;a<i;a++)o+=r[a];var l=Zr.allocUnsafe(o),c=0,u=0;for(a=0;a<i;a++){switch(u=r[a],n[a]){case 0:t[a].copy(l,c);break;case 1:l.writeUInt8(t[a],c,!0);break;case 2:l.writeUInt16BE(t[a],c,!0);break;case 3:l.writeUInt32BE(t[a],c,!0);break;case 4:l.writeDoubleBE(t[a],c,!0);break;case 5:l.write(t[a],c,u,"utf8");break;default:throw new Error("unkown method")}c+=u}var d=l;return this._reset(),d}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const r=new jc;if(!r.pushAny(t))throw new Error("Failed to encode input");return r.finalize()}}var aN=jc;(function(e){e.Diagnose=QS,e.Decoder=Kx,e.Encoder=aN,e.Simple=$x,e.Tagged=Hx,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}})(Vx);const Yx=hh(Vx);function Br(e){return Go(hS.create().update(new Uint8Array(e)).digest())}function Bl(e){if(e instanceof Yx.Tagged)return Bl(e.value);if(typeof e=="string")return Qx(e);if(typeof e=="number")return Br(dt(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return Br(e);if(Array.isArray(e)){const t=e.map(Bl);return Br(Mr(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return Br(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return Bl(e.toHash());if(typeof e=="object")return Tc(e);if(typeof e=="bigint")return Br(dt(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const Qx=e=>{const t=new TextEncoder().encode(e);return Br(t)};function ma(e){return Tc(e)}function Tc(e){const n=Object.entries(e).filter(([,a])=>a!==void 0).map(([a,l])=>{const c=Qx(a),u=Bl(l);return[c,u]}).sort(([a],[l])=>ex(a,l)),i=Mr(...n.map(a=>Mr(...a)));return Br(i)}var lN=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const cN=new TextEncoder().encode(`
ic-request`);class _0{getPrincipal(){return this._principal||(this._principal=Pe.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:r}=t,n=lN(t,["body"]),i=ma(r);return Object.assign(Object.assign({},n),{body:{content:r,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(Mr(cN,i))}})}}class kc{getPrincipal(){return Pe.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var tr={},fo={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});const uN=9007199254740992;function An(e,...t){const r=new Uint8Array(e.byteLength+t.reduce((i,o)=>i+o.byteLength,0));r.set(new Uint8Array(e),0);let n=e.byteLength;for(const i of t)r.set(new Uint8Array(i),n),n+=i.byteLength;return r.buffer}function zr(e,t,r){r=r.replace(/[^0-9a-fA-F]/g,"");const n=2**(t-24);r=r.slice(-n*2).padStart(n*2,"0");const i=[(e<<5)+t].concat(r.match(/../g).map(o=>parseInt(o,16)));return new Uint8Array(i).buffer}function gu(e,t){if(t<24)return new Uint8Array([(e<<5)+t]).buffer;{const r=t<=255?24:t<=65535?25:t<=4294967295?26:27;return zr(e,r,t.toString(16))}}function Zx(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|n&63):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|n&63):(r++,n=(n&1023)<<10|e.charCodeAt(r)&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63))}return An(new Uint8Array(gu(3,e.length)),new Uint8Array(t))}function dN(e,t){if(e==14277111)return An(new Uint8Array([217,217,247]),t);if(e<24)return An(new Uint8Array([192+e]),t);{const r=e<=255?24:e<=65535?25:e<=4294967295?26:27,n=2**(r-24),i=e.toString(16).slice(-n*2).padStart(n*2,"0"),o=[192+r].concat(i.match(/../g).map(a=>parseInt(a,16)));return new Uint8Array(o).buffer}}Ze.tagged=dN;function Ma(e){return new Uint8Array(e).buffer}Ze.raw=Ma;function E0(e){if(isNaN(e))throw new RangeError("Invalid number.");e=Math.min(Math.max(0,e),23);const t=[0+e];return new Uint8Array(t).buffer}Ze.uSmall=E0;function Xx(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),255),e=e.toString(16),zr(0,24,e)}Ze.u8=Xx;function Jx(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),65535),e=e.toString(16),zr(0,25,e)}Ze.u16=Jx;function Lx(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),4294967295),e=e.toString(16),zr(0,26,e)}Ze.u32=Lx;function S0(e,t){if(typeof e=="string"&&t==16){if(e.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return zr(0,27,e)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),uN),e=e.toString(16),zr(0,27,e)}Ze.u64=S0;function Dx(e){if(isNaN(e))throw new RangeError("Invalid number.");if(e===0)return E0(0);e=Math.min(Math.max(0,-e),24)-1;const t=[32+e];return new Uint8Array(t).buffer}Ze.iSmall=Dx;function ev(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),255),e=e.toString(16),zr(1,24,e)}Ze.i8=ev;function tv(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),65535),e=e.toString(16),zr(1,25,e)}Ze.i16=tv;function rv(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),4294967295),e=e.toString(16),zr(1,26,e)}Ze.i32=rv;function nv(e,t){if(typeof e=="string"&&t==16){if(e.startsWith("-")?e=e.slice(1):e="0",e.match(/[^0-9a-fA-F]/)||e.length>16)throw new RangeError("Invalid number.");let r=!1,n=e.split("").reduceRight((i,o)=>{if(r)return o+i;let a=parseInt(o,16)-1;return a>=0?(r=!0,a.toString(16)+i):"f"+i},"");return r?zr(1,27,n):S0(0)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),9007199254740992),e=e.toString(16),zr(1,27,e)}Ze.i64=nv;function fN(e){return e>=0?e<24?E0(e):e<=255?Xx(e):e<=65535?Jx(e):e<=4294967295?Lx(e):S0(e):e>=-24?Dx(e):e>=-255?ev(e):e>=-65535?tv(e):e>=-4294967295?rv(e):nv(e)}Ze.number=fN;function hN(e){return An(gu(2,e.byteLength),e)}Ze.bytes=hN;function pN(e){return Zx(e)}Ze.string=pN;function mN(e){return An(gu(4,e.length),...e)}Ze.array=mN;function gN(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let r=Array.from(e.entries());return t&&(r=r.sort(([n],[i])=>n.localeCompare(i))),An(gu(5,e.size),...r.map(([n,i])=>An(Zx(n),i)))}Ze.map=gN;function yN(e){const t=new Float32Array([e]);return An(new Uint8Array([224+26]),new Uint8Array(t.buffer))}Ze.singleFloat=yN;function xN(e){const t=new Float64Array([e]);return An(new Uint8Array([224+27]),new Uint8Array(t.buffer))}Ze.doubleFloat=xN;function vN(e){return e?iv():sv()}Ze.bool=vN;function iv(){return Ma(new Uint8Array([224+21]))}Ze.true_=iv;function sv(){return Ma(new Uint8Array([224+20]))}Ze.false_=sv;function wN(){return Ma(new Uint8Array([224+22]))}Ze.null_=wN;function bN(){return Ma(new Uint8Array([224+23]))}Ze.undefined_=bN;var _N=$i&&$i.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(fo,"__esModule",{value:!0});const jr=_N(Ze),EN=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class ov{constructor(t,r=!1){this._serializer=t,this._stable=r,this.name="jsonDefault",this.priority=-100}match(t){return["undefined","boolean","number","string","object"].indexOf(typeof t)!=-1}encode(t){switch(typeof t){case"undefined":return jr.undefined_();case"boolean":return jr.bool(t);case"number":return Math.floor(t)===t?jr.number(t):jr.doubleFloat(t);case"string":return jr.string(t);case"object":if(t===null)return jr.null_();if(Array.isArray(t))return jr.array(t.map(r=>this._serializer.serializeValue(r)));if(EN.find(r=>t instanceof r))return jr.bytes(t.buffer);if(Object.getOwnPropertyNames(t).indexOf("toJSON")!==-1)return this.encode(t.toJSON());if(t instanceof Map){const r=new Map;for(const[n,i]of t.entries())r.set(n,this._serializer.serializeValue(i));return jr.map(r,this._stable)}else{const r=new Map;for(const[n,i]of Object.entries(t))r.set(n,this._serializer.serializeValue(i));return jr.map(r,this._stable)}default:throw new Error("Invalid value.")}}}fo.JsonDefaultCborEncoder=ov;class av{constructor(){this.name="cborEncoder",this.priority=-90}match(t){return typeof t=="object"&&typeof t.toCBOR=="function"}encode(t){return t.toCBOR()}}fo.ToCborEncoder=av;class lv{constructor(){this._encoders=new Set}static withDefaultEncoders(t=!1){const r=new this;return r.addEncoder(new ov(r,t)),r.addEncoder(new av),r}removeEncoder(t){for(const r of this._encoders.values())r.name==t&&this._encoders.delete(r)}addEncoder(t){this._encoders.add(t)}getEncoderFor(t){let r=null;for(const n of this._encoders)(!r||n.priority>r.priority)&&n.match(t)&&(r=n);if(r===null)throw new Error("Could not find an encoder for value.");return r}serializeValue(t){return this.getEncoderFor(t).encode(t)}serialize(t){return this.serializeValue(t)}}fo.CborSerializer=lv;class SN extends lv{serialize(t){return jr.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(t))]))}}fo.SelfDescribeCborSerializer=SN;(function(e){function t(i){for(var o in i)e.hasOwnProperty(o)||(e[o]=i[o])}var r=$i&&$i.__importStar||function(i){if(i&&i.__esModule)return i;var o={};if(i!=null)for(var a in i)Object.hasOwnProperty.call(i,a)&&(o[a]=i[a]);return o.default=i,o};Object.defineProperty(e,"__esModule",{value:!0}),t(fo);const n=r(Ze);e.value=n})(tr);class NN{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return tr.value.bytes(t.toUint8Array())}}class jN{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return tr.value.bytes(new Uint8Array(t))}}class TN{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?tr.value.tagged(2,tr.value.bytes(Sn(t.toString(16)))):tr.value.tagged(3,tr.value.bytes(Sn((BigInt("-1")*t).toString(16))))}}const yu=tr.SelfDescribeCborSerializer.withDefaultEncoders(!0);yu.addEncoder(new NN);yu.addEncoder(new jN);yu.addEncoder(new TN);var Zf;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(Zf||(Zf={}));function _d(e){return yu.serialize(e)}function gm(e){const t=e.byteLength;let r=BigInt(0);for(let n=0;n<t;n++)r=r*BigInt(256)+BigInt(e[n]);return r}class kN extends Yx.Decoder{createByteString(t){return Mr(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}}function vn(e){const t=new Uint8Array(e),r=new kN({size:t.byteLength,tags:{2:n=>gm(n),3:n=>-gm(n),[Zf.Semantic]:n=>n}});try{return r.decodeFirst(t)}catch(n){throw new Error(`Failed to decode CBOR: ${n}, input: ${tt(t)}`)}}const dl=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var Xf;(function(e){e.Call="call"})(Xf||(Xf={}));function Jf(){const e=new ArrayBuffer(16),t=new DataView(e),r=dl(),n=dl(),i=dl(),o=dl();return t.setUint32(0,r),t.setUint32(4,n),t.setUint32(8,i),t.setUint32(12,o),e}const ym=BigInt(1e6),CN=60*1e3;class fl{constructor(t){if(t<90*1e3){const l=BigInt(Date.now()+t)*ym/BigInt(1e9);this._value=l*BigInt(1e9);return}const o=BigInt(Math.floor(Date.now()+t-CN))*ym/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=o}toCBOR(){return tr.value.u64(this._value.toString(16),16)}toHash(){return dt(this._value)}}function xm(e=Jf){return async t=>{const r=t.request.headers;t.request.headers=r,t.endpoint==="call"&&(t.body.nonce=e())}}function ko(e){const t=[];return e.forEach((r,n)=>{t.push([n,r])}),t}class Ed extends ut{constructor(t,r){super(t),this.response=r,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class AN extends ut{constructor(t,r,n,i,o,a){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=o,this.ingressExpiry=a,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class RN extends ut{constructor(t,r,n,i,o,a){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=o,this.ingressExpiry=a,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class BN extends ut{constructor(t,r,n,i,o,a){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=o,this.ingressExpiry=a,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N0=BigInt(0),Cc=BigInt(1);function ga(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function cv(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?N0:BigInt("0x"+e)}function rn(e){return cv(to(e))}function ya(e){return It(e),cv(to(Uint8Array.from(e).reverse()))}function At(e,t){return Q1(e.toString(16).padStart(t*2,"0"))}function xu(e,t){return At(e,t).reverse()}function Zt(e,t,r){let n;if(typeof t=="string")try{n=Q1(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(h0(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}const Sd=e=>typeof e=="bigint"&&N0<=e;function uv(e,t,r){return Sd(e)&&Sd(t)&&Sd(r)&&t<=e&&e<r}function Co(e,t,r,n){if(!uv(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function qs(e){let t;for(t=0;e>N0;e>>=Cc,t+=1);return t}function FN(e,t){return e>>BigInt(t)&Cc}const zi=e=>(Cc<<BigInt(e))-Cc;function PN(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function Ua(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(i,o,a){const l=e[i];if(a&&l===void 0)return;const c=typeof l;if(c!==o||l===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${c}`)}Object.entries(t).forEach(([i,o])=>n(i,o,!1)),Object.entries(r).forEach(([i,o])=>n(i,o,!0))}const vm=()=>{throw new Error("not implemented")};function xa(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const o=e(r,...n);return t.set(r,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nr=BigInt(0),Bt=BigInt(1),Fi=BigInt(2),dv=BigInt(3),fv=BigInt(4),hv=BigInt(5),ON=BigInt(7),pv=BigInt(8),MN=BigInt(9),mv=BigInt(16);function ft(e,t){const r=e%t;return r>=nr?r:t+r}function Ir(e,t,r){let n=e;for(;t-- >nr;)n*=n,n%=r;return n}function wm(e,t){if(e===nr)throw new Error("invert: expected non-zero number");if(t<=nr)throw new Error("invert: expected positive modulus, got "+t);let r=ft(e,t),n=t,i=nr,o=Bt;for(;r!==nr;){const l=n/r,c=n%r,u=i-o*l;n=r,r=c,i=o,o=u}if(n!==Bt)throw new Error("invert: does not exist");return ft(i,t)}function j0(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function gv(e,t){const r=(e.ORDER+Bt)/fv,n=e.pow(t,r);return j0(e,n,t),n}function UN(e,t){const r=(e.ORDER-hv)/pv,n=e.mul(t,Fi),i=e.pow(n,r),o=e.mul(t,i),a=e.mul(e.mul(o,Fi),i),l=e.mul(o,e.sub(a,e.ONE));return j0(e,l,t),l}function zN(e){const t=xi(e),r=yv(e),n=r(t,t.neg(t.ONE)),i=r(t,n),o=r(t,t.neg(n)),a=(e+ON)/mv;return(l,c)=>{let u=l.pow(c,a),d=l.mul(u,n);const g=l.mul(u,i),f=l.mul(u,o),p=l.eql(l.sqr(d),c),m=l.eql(l.sqr(g),c);u=l.cmov(u,d,p),d=l.cmov(f,g,m);const j=l.eql(l.sqr(d),c),R=l.cmov(u,d,j);return j0(l,R,c),R}}function yv(e){if(e<dv)throw new Error("sqrt is not defined for small field");let t=e-Bt,r=0;for(;t%Fi===nr;)t/=Fi,r++;let n=Fi;const i=xi(e);for(;Ac(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return gv;let o=i.pow(n,t);const a=(t+Bt)/Fi;return function(c,u){if(c.is0(u))return u;if(Ac(c,u)!==1)throw new Error("Cannot find square root");let d=r,g=c.mul(c.ONE,o),f=c.pow(u,t),p=c.pow(u,a);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let m=1,j=c.sqr(f);for(;!c.eql(j,c.ONE);)if(m++,j=c.sqr(j),m===d)throw new Error("Cannot find square root");const R=Bt<<BigInt(d-m-1),S=c.pow(g,R);d=m,g=c.sqr(S),f=c.mul(f,g),p=c.mul(p,S)}return p}}function VN(e){return e%fv===dv?gv:e%pv===hv?UN:e%mv===MN?zN(e):yv(e)}const WN=(e,t)=>(ft(e,t)&Bt)===Bt,$N=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xv(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=$N.reduce((n,i)=>(n[i]="function",n),t);return Ua(e,r),e}function Fl(e,t,r){if(r<nr)throw new Error("invalid exponent, negatives unsupported");if(r===nr)return e.ONE;if(r===Bt)return t;let n=e.ONE,i=t;for(;r>nr;)r&Bt&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Bt;return n}function Vi(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((a,l,c)=>e.is0(l)?a:(n[c]=a,e.mul(a,l)),e.ONE),o=e.inv(i);return t.reduceRight((a,l,c)=>e.is0(l)?a:(n[c]=e.mul(a,n[c]),e.mul(a,l)),o),n}function Ac(e,t){const r=(e.ORDER-Bt)/Fi,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!a)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function HN(e,t){t!==void 0&&qE(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function xi(e,t,r=!1,n={}){if(e<=nr)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,o,a=!1,l;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const f=t;f.BITS&&(i=f.BITS),f.sqrt&&(o=f.sqrt),typeof f.isLE=="boolean"&&(r=f.isLE),typeof f.modOnDecode=="boolean"&&(a=f.modOnDecode),l=f.allowedLengths}else typeof t=="number"&&(i=t),n.sqrt&&(o=n.sqrt);const{nBitLength:c,nByteLength:u}=HN(e,i);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const g=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:u,MASK:zi(c),ZERO:nr,ONE:Bt,allowedLengths:l,create:f=>ft(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return nr<=f&&f<e},is0:f=>f===nr,isValidNot0:f=>!g.is0(f)&&g.isValid(f),isOdd:f=>(f&Bt)===Bt,neg:f=>ft(-f,e),eql:(f,p)=>f===p,sqr:f=>ft(f*f,e),add:(f,p)=>ft(f+p,e),sub:(f,p)=>ft(f-p,e),mul:(f,p)=>ft(f*p,e),pow:(f,p)=>Fl(g,f,p),div:(f,p)=>ft(f*wm(p,e),e),sqrN:f=>f*f,addN:(f,p)=>f+p,subN:(f,p)=>f-p,mulN:(f,p)=>f*p,inv:f=>wm(f,e),sqrt:o||(f=>(d||(d=VN(e)),d(g,f))),toBytes:f=>r?xu(f,u):At(f,u),fromBytes:(f,p=!0)=>{if(l){if(!l.includes(f.length)||f.length>u)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+f.length);const j=new Uint8Array(u);j.set(f,r?0:j.length-f.length),f=j}if(f.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+f.length);let m=r?ya(f):rn(f);if(a&&(m=ft(m,e)),!p&&!g.isValid(m))throw new Error("invalid field element: outside of range 0..ORDER");return m},invertBatch:f=>Vi(g,f),cmov:(f,p,m)=>m?p:f});return Object.freeze(g)}function vv(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function wv(e){const t=vv(e);return t+Math.ceil(t/2)}function IN(e,t,r=!1){const n=e.length,i=vv(t),o=wv(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const a=r?ya(e):rn(e),l=ft(a,t-Bt)+Bt;return r?xu(l,i):At(l,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const no=BigInt(0),Pi=BigInt(1);function Rc(e,t){const r=t.negate();return e?r:t}function wn(e,t){const r=Vi(e.Fp,t.map(n=>n.Z));return t.map((n,i)=>e.fromAffine(n.toAffine(r[i])))}function bv(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Nd(e,t){bv(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e,o=zi(e),a=BigInt(e);return{windows:r,windowSize:n,mask:o,maxNumber:i,shiftBy:a}}function bm(e,t,r){const{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r;let l=Number(e&i),c=e>>a;l>n&&(l-=o,c+=Pi);const u=t*n,d=u+Math.abs(l)-1,g=l===0,f=l<0,p=t%2!==0;return{nextN:c,offset:d,isZero:g,isNeg:f,isNegF:p,offsetF:u}}function GN(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function qN(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const jd=new WeakMap,_v=new WeakMap;function Td(e){return _v.get(e)||1}function _m(e){if(e!==no)throw new Error("invalid wNAF")}class Ev{constructor(t,r){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=r}_unsafeLadder(t,r,n=this.ZERO){let i=t;for(;r>no;)r&Pi&&(n=n.add(i)),i=i.double(),r>>=Pi;return n}precomputeWindow(t,r){const{windows:n,windowSize:i}=Nd(r,this.bits),o=[];let a=t,l=a;for(let c=0;c<n;c++){l=a,o.push(l);for(let u=1;u<i;u++)l=l.add(a),o.push(l);a=l.double()}return o}wNAF(t,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const a=Nd(t,this.bits);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:d,isNeg:g,isNegF:f,offsetF:p}=bm(n,l,a);n=c,d?o=o.add(Rc(f,r[p])):i=i.add(Rc(g,r[u]))}return _m(n),{p:i,f:o}}wNAFUnsafe(t,r,n,i=this.ZERO){const o=Nd(t,this.bits);for(let a=0;a<o.windows&&n!==no;a++){const{nextN:l,offset:c,isZero:u,isNeg:d}=bm(n,a,o);if(n=l,!u){const g=r[c];i=i.add(d?g.negate():g)}}return _m(n),i}getPrecomputes(t,r,n){let i=jd.get(r);return i||(i=this.precomputeWindow(r,t),t!==1&&(typeof n=="function"&&(i=n(i)),jd.set(r,i))),i}cached(t,r,n){const i=Td(t);return this.wNAF(i,this.getPrecomputes(i,t,n),r)}unsafe(t,r,n,i){const o=Td(t);return o===1?this._unsafeLadder(t,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),r,i)}createCache(t,r){bv(r,this.bits),_v.set(t,r),jd.delete(t)}hasCache(t){return Td(t)!==1}}function KN(e,t,r,n){let i=t,o=e.ZERO,a=e.ZERO;for(;r>no||n>no;)r&Pi&&(o=o.add(i)),n&Pi&&(a=a.add(i)),i=i.double(),r>>=Pi,n>>=Pi;return{p1:o,p2:a}}function Sv(e,t,r,n){GN(r,e),qN(n,t);const i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,l=qs(BigInt(i));let c=1;l>12?c=l-3:l>4?c=l-2:l>0&&(c=2);const u=zi(c),d=new Array(Number(u)+1).fill(a),g=Math.floor((t.BITS-1)/c)*c;let f=a;for(let p=g;p>=0;p-=c){d.fill(a);for(let j=0;j<o;j++){const R=n[j],S=Number(R>>BigInt(p)&u);d[S]=d[S].add(r[j])}let m=a;for(let j=d.length-1,R=a;j>0;j--)R=R.add(d[j]),m=m.add(R);if(f=f.add(m),p!==0)for(let j=0;j<c;j++)f=f.double()}return f}function Em(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return xv(t),t}else return xi(e)}function Nv(e,t,r={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const l of["p","n","h"]){const c=t[l];if(!(typeof c=="bigint"&&c>no))throw new Error(`CURVE.${l} must be positive bigint`)}const n=Em(t.p,r.Fp),i=Em(t.n,r.Fn),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const l of a)if(!n.isValid(t[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}const YN=rn;function In(e,t){if(va(e),va(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function QN(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function va(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function jv(e){if(!h0(e)&&typeof e!="string")throw new Error("DST must be Uint8Array or string");return typeof e=="string"?Ba(e):e}function ZN(e,t,r,n){It(e),va(r),t=jv(t),t.length>255&&(t=n(pt(Ba("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:o}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");const l=pt(t,In(t.length,1)),c=In(0,o),u=In(r,2),d=new Array(a),g=n(pt(c,e,u,In(0,1),l));d[0]=n(pt(g,In(1,1),l));for(let p=1;p<=a;p++){const m=[QN(g,d[p-1]),In(p+1,1),l];d[p]=n(pt(...m))}return pt(...d).slice(0,r)}function XN(e,t,r,n,i){if(It(e),va(r),t=jv(t),t.length>255){const o=Math.ceil(2*n/8);t=i.create({dkLen:o}).update(Ba("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(In(r,2)).update(t).update(In(t.length,1)).digest()}function kd(e,t,r){Ua(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:n,k:i,m:o,hash:a,expand:l,DST:c}=r;if(!PN(r.hash))throw new Error("expected valid hash");It(e),va(t);const u=n.toString(2).length,d=Math.ceil((u+i)/8),g=t*o*d;let f;if(l==="xmd")f=ZN(e,c,g,a);else if(l==="xof")f=XN(e,c,g,i,a);else if(l==="_internal_pass")f=e;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(t);for(let m=0;m<t;m++){const j=new Array(o);for(let R=0;R<o;R++){const S=d*(R+m*o),w=f.subarray(S,S+d);j[R]=ft(YN(w),n)}p[m]=j}return p}function Tv(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[o,a,l,c]=r.map(g=>g.reduce((f,p)=>e.add(e.mul(f,n),p))),[u,d]=Vi(e,[a,c],!0);return n=e.mul(o,u),i=e.mul(i,e.mul(l,d)),{x:n,y:i}}}const JN=Ba("HashToScalar-");function Sm(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function n(o){return e.fromAffine(t(o))}function i(o){const a=o.clearCofactor();return a.equals(e.ZERO)?e.ZERO:(a.assertValidity(),a)}return{defaults:r,hashToCurve(o,a){const l=Object.assign({},r,a),c=kd(o,2,l),u=n(c[0]),d=n(c[1]);return i(u.add(d))},encodeToCurve(o,a){const l=r.encodeDST?{DST:r.encodeDST}:{},c=Object.assign({},r,l,a),u=kd(o,1,c),d=n(u[0]);return i(d)},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(const a of o)if(typeof a!="bigint")throw new Error("expected array of bigints");return i(n(o))},hashToScalar(o,a){const l=e.Fn.ORDER,c=Object.assign({},r,{p:l,m:1,DST:JN},a);return kd(o,1,c)[0][0]}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nm=(e,t)=>(e+(e>=0?t:-t)/ln)/t;function LN(e,t,r){const[[n,i],[o,a]]=t,l=Nm(a*e,r),c=Nm(-i*e,r);let u=e-l*n-c*o,d=-l*i-c*a;const g=u<Oi,f=d<Oi;g&&(u=-u),f&&(d=-d);const p=zi(Math.ceil(qs(r)/2))+Yt;if(u<Oi||u>=p||d<Oi||d>=p)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:g,k1:u,k2neg:f,k2:d}}const Oi=BigInt(0),Yt=BigInt(1),ln=BigInt(2),Bs=BigInt(3),Lf=BigInt(4);function kv(e,t,r){function n(i){const o=e.sqr(i),a=e.mul(o,i);return e.add(e.add(a,e.mul(i,t)),r)}return n}function Bc(e,t){const{BYTES:r}=e;let n;if(typeof t=="bigint")n=t;else{let i=Zt("private key",t);try{n=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function DN(e,t={}){const{Fp:r,Fn:n}=Nv("weierstrass",e,t),{h:i,n:o}=e;Ua(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:a}=t;if(a&&(!r.is0(e.a)||typeof a.beta!="bigint"||!Array.isArray(a.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');function l(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(J,U,I){const{x:Y,y:N}=U.toAffine(),P=r.toBytes(Y);if(ga("isCompressed",I),I){l();const G=!r.isOdd(N);return pt(e6(G),P)}else return pt(Uint8Array.of(4),P,r.toBytes(N))}function u(J){It(J);const U=r.BYTES,I=U+1,Y=2*U+1,N=J.length,P=J[0],G=J.subarray(1);if(N===I&&(P===2||P===3)){const D=r.fromBytes(G);if(!r.isValid(D))throw new Error("bad point: is not on curve, wrong x");const ie=f(D);let Q;try{Q=r.sqrt(ie)}catch(ce){const ue=ce instanceof Error?": "+ce.message:"";throw new Error("bad point: is not on curve, sqrt error"+ue)}l();const te=r.isOdd(Q);return(P&1)===1!==te&&(Q=r.neg(Q)),{x:D,y:Q}}else if(N===Y&&P===4){const D=r.fromBytes(G.subarray(U*0,U*1)),ie=r.fromBytes(G.subarray(U*1,U*2));if(!p(D,ie))throw new Error("bad point: is not on curve");return{x:D,y:ie}}else throw new Error(`bad point: got length ${N}, expected compressed=${I} or uncompressed=${Y}`)}const d=t.toBytes||c,g=t.fromBytes||u,f=kv(r,e.a,e.b);function p(J,U){const I=r.sqr(U),Y=f(J);return r.eql(I,Y)}if(!p(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const m=r.mul(r.pow(e.a,Bs),Lf),j=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(m,j)))throw new Error("bad curve params: a or b");function R(J,U,I=!1){if(!r.isValid(U)||I&&r.is0(U))throw new Error(`bad point coordinate ${J}`);return U}function S(J){if(!(J instanceof W))throw new Error("ProjectivePoint expected")}function w(J){if(!a||!a.basises)throw new Error("no endo");return LN(J,a.basises,n.ORDER)}const _=xa((J,U)=>{const{X:I,Y,Z:N}=J;if(r.eql(N,r.ONE))return{x:I,y:Y};const P=J.is0();U==null&&(U=P?r.ONE:r.inv(N));const G=r.mul(I,U),D=r.mul(Y,U),ie=r.mul(N,U);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(ie,r.ONE))throw new Error("invZ was invalid");return{x:G,y:D}}),O=xa(J=>{if(J.is0()){if(t.allowInfinityPoint&&!r.is0(J.Y))return;throw new Error("bad point: ZERO")}const{x:U,y:I}=J.toAffine();if(!r.isValid(U)||!r.isValid(I))throw new Error("bad point: x or y not field elements");if(!p(U,I))throw new Error("bad point: equation left != right");if(!J.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function C(J,U,I,Y,N){return I=new W(r.mul(I.X,J),I.Y,I.Z),U=Rc(Y,U),I=Rc(N,I),U.add(I)}class W{constructor(U,I,Y){this.X=R("x",U),this.Y=R("y",I,!0),this.Z=R("z",Y),Object.freeze(this)}static fromAffine(U){const{x:I,y:Y}=U||{};if(!U||!r.isValid(I)||!r.isValid(Y))throw new Error("invalid affine point");if(U instanceof W)throw new Error("projective point not allowed");return r.is0(I)&&r.is0(Y)?W.ZERO:new W(I,Y,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}static normalizeZ(U){return wn(W,U)}static fromBytes(U){return It(U),W.fromHex(U)}static fromHex(U){const I=W.fromAffine(g(Zt("pointHex",U)));return I.assertValidity(),I}static fromPrivateKey(U){return W.BASE.multiply(Bc(n,U))}static msm(U,I){return Sv(W,n,U,I)}_setWindowSize(U){this.precompute(U)}precompute(U=8,I=!0){return F.createCache(this,U),I||this.multiply(Bs),this}assertValidity(){O(this)}hasEvenY(){const{y:U}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(U)}equals(U){S(U);const{X:I,Y,Z:N}=this,{X:P,Y:G,Z:D}=U,ie=r.eql(r.mul(I,D),r.mul(P,N)),Q=r.eql(r.mul(Y,D),r.mul(G,N));return ie&&Q}negate(){return new W(this.X,r.neg(this.Y),this.Z)}double(){const{a:U,b:I}=e,Y=r.mul(I,Bs),{X:N,Y:P,Z:G}=this;let D=r.ZERO,ie=r.ZERO,Q=r.ZERO,te=r.mul(N,N),he=r.mul(P,P),ce=r.mul(G,G),ue=r.mul(N,P);return ue=r.add(ue,ue),Q=r.mul(N,G),Q=r.add(Q,Q),D=r.mul(U,Q),ie=r.mul(Y,ce),ie=r.add(D,ie),D=r.sub(he,ie),ie=r.add(he,ie),ie=r.mul(D,ie),D=r.mul(ue,D),Q=r.mul(Y,Q),ce=r.mul(U,ce),ue=r.sub(te,ce),ue=r.mul(U,ue),ue=r.add(ue,Q),Q=r.add(te,te),te=r.add(Q,te),te=r.add(te,ce),te=r.mul(te,ue),ie=r.add(ie,te),ce=r.mul(P,G),ce=r.add(ce,ce),te=r.mul(ce,ue),D=r.sub(D,te),Q=r.mul(ce,he),Q=r.add(Q,Q),Q=r.add(Q,Q),new W(D,ie,Q)}add(U){S(U);const{X:I,Y,Z:N}=this,{X:P,Y:G,Z:D}=U;let ie=r.ZERO,Q=r.ZERO,te=r.ZERO;const he=e.a,ce=r.mul(e.b,Bs);let ue=r.mul(I,P),_e=r.mul(Y,G),k=r.mul(N,D),ye=r.add(I,Y),ve=r.add(P,G);ye=r.mul(ye,ve),ve=r.add(ue,_e),ye=r.sub(ye,ve),ve=r.add(I,N);let le=r.add(P,D);return ve=r.mul(ve,le),le=r.add(ue,k),ve=r.sub(ve,le),le=r.add(Y,N),ie=r.add(G,D),le=r.mul(le,ie),ie=r.add(_e,k),le=r.sub(le,ie),te=r.mul(he,ve),ie=r.mul(ce,k),te=r.add(ie,te),ie=r.sub(_e,te),te=r.add(_e,te),Q=r.mul(ie,te),_e=r.add(ue,ue),_e=r.add(_e,ue),k=r.mul(he,k),ve=r.mul(ce,ve),_e=r.add(_e,k),k=r.sub(ue,k),k=r.mul(he,k),ve=r.add(ve,k),ue=r.mul(_e,ve),Q=r.add(Q,ue),ue=r.mul(le,ve),ie=r.mul(ye,ie),ie=r.sub(ie,ue),ue=r.mul(ye,_e),te=r.mul(le,te),te=r.add(te,ue),new W(ie,Q,te)}subtract(U){return this.add(U.negate())}is0(){return this.equals(W.ZERO)}multiply(U){const{endo:I}=t;if(!n.isValidNot0(U))throw new Error("invalid scalar: out of range");let Y,N;const P=G=>F.cached(this,G,D=>wn(W,D));if(I){const{k1neg:G,k1:D,k2neg:ie,k2:Q}=w(U),{p:te,f:he}=P(D),{p:ce,f:ue}=P(Q);N=he.add(ue),Y=C(I.beta,te,ce,G,ie)}else{const{p:G,f:D}=P(U);Y=G,N=D}return wn(W,[Y,N])[0]}multiplyUnsafe(U){const{endo:I}=t,Y=this;if(!n.isValid(U))throw new Error("invalid scalar: out of range");if(U===Oi||Y.is0())return W.ZERO;if(U===Yt)return Y;if(F.hasCache(this))return this.multiply(U);if(I){const{k1neg:N,k1:P,k2neg:G,k2:D}=w(U),{p1:ie,p2:Q}=KN(W,Y,P,D);return C(I.beta,ie,Q,N,G)}else return F.unsafe(Y,U)}multiplyAndAddUnsafe(U,I,Y){const N=this.multiplyUnsafe(I).add(U.multiplyUnsafe(Y));return N.is0()?void 0:N}toAffine(U){return _(this,U)}isTorsionFree(){const{isTorsionFree:U}=t;return i===Yt?!0:U?U(W,this):F.unsafe(this,o).is0()}clearCofactor(){const{clearCofactor:U}=t;return i===Yt?this:U?U(W,this):this.multiplyUnsafe(i)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}toBytes(U=!0){return ga("isCompressed",U),this.assertValidity(),d(W,this,U)}toRawBytes(U=!0){return this.toBytes(U)}toHex(U=!0){return to(this.toBytes(U))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}W.BASE=new W(e.Gx,e.Gy,r.ONE),W.ZERO=new W(r.ZERO,r.ONE,r.ZERO),W.Fp=r,W.Fn=n;const H=n.BITS,F=new Ev(W,t.endo?Math.ceil(H/2):H);return W}function jm(e){const{CURVE:t,curveOpts:r}=r6(e),n=DN(t,r);return n6(e,n)}function e6(e){return Uint8Array.of(e?2:3)}function t6(e,t){const r=e.ORDER;let n=Oi;for(let m=r-Yt;m%ln===Oi;m/=ln)n+=Yt;const i=n,o=ln<<i-Yt-Yt,a=o*ln,l=(r-Yt)/a,c=(l-Yt)/ln,u=a-Yt,d=o,g=e.pow(t,l),f=e.pow(t,(l+Yt)/ln);let p=(m,j)=>{let R=g,S=e.pow(j,u),w=e.sqr(S);w=e.mul(w,j);let _=e.mul(m,w);_=e.pow(_,c),_=e.mul(_,S),S=e.mul(_,j),w=e.mul(_,m);let O=e.mul(w,S);_=e.pow(O,d);let C=e.eql(_,e.ONE);S=e.mul(w,f),_=e.mul(O,R),w=e.cmov(S,w,C),O=e.cmov(_,O,C);for(let W=i;W>Yt;W--){let H=W-ln;H=ln<<H-Yt;let F=e.pow(O,H);const J=e.eql(F,e.ONE);S=e.mul(w,R),R=e.mul(R,R),F=e.mul(O,R),w=e.cmov(S,w,J),O=e.cmov(F,O,J)}return{isValid:C,value:w}};if(e.ORDER%Lf===Bs){const m=(e.ORDER-Bs)/Lf,j=e.sqrt(e.neg(t));p=(R,S)=>{let w=e.sqr(S);const _=e.mul(R,S);w=e.mul(w,_);let O=e.pow(w,m);O=e.mul(O,_);const C=e.mul(O,j),W=e.mul(e.sqr(O),S),H=e.eql(W,R);let F=e.cmov(C,O,H);return{isValid:H,value:F}}}return p}function Cv(e,t){xv(e);const{A:r,B:n,Z:i}=t;if(!e.isValid(r)||!e.isValid(n)||!e.isValid(i))throw new Error("mapToCurveSimpleSWU: invalid opts");const o=t6(e,i);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return a=>{let l,c,u,d,g,f,p,m;l=e.sqr(a),l=e.mul(l,i),c=e.sqr(l),c=e.add(c,l),u=e.add(c,e.ONE),u=e.mul(u,n),d=e.cmov(i,e.neg(c),!e.eql(c,e.ZERO)),d=e.mul(d,r),c=e.sqr(u),f=e.sqr(d),g=e.mul(f,r),c=e.add(c,g),c=e.mul(c,u),f=e.mul(f,d),g=e.mul(f,n),c=e.add(c,g),p=e.mul(l,u);const{isValid:j,value:R}=o(c,f);m=e.mul(l,a),m=e.mul(m,R),p=e.cmov(p,u,j),m=e.cmov(m,R,j);const S=e.isOdd(a)===e.isOdd(m);m=e.cmov(e.neg(m),m,S);const w=Vi(e,[d],!0)[0];return p=e.mul(p,w),{x:p,y:m}}}function r6(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp;let n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const i=xi(t.n,{BITS:e.nBitLength,allowedLengths:n,modOnDecode:e.wrapPrivateKey}),o={Fp:r,Fn:i,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:o}}function n6(e,t){const{Fp:r,Fn:n}=t;function i(a){return uv(a,Yt,n.ORDER)}const o=kv(r,e.a,e.b);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:a=>Bc(n,a),weierstrassEquation:o,isWithinCurveOrder:i})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i6=BigInt(0),hl=BigInt(1),Tm=BigInt(2),Fs=BigInt(3);function s6(e){const t=[];for(;e>hl;e>>=hl)(e&hl)===i6?t.unshift(0):(e&Fs)===Fs?(t.unshift(-1),e+=hl):t.unshift(1);return t}function Cd(e){if(!Array.isArray(e)||e.length===0)throw new Error("expected non-empty array")}function o6(e,t,r,n){const{Fp2:i,Fp12:o}=e,{twistType:a,ateLoopSize:l,xNegative:c,postPrecompute:u}=n;let d;if(a==="multiplicative")d=(_,O,C,W,H,F)=>o.mul014(W,_,i.mul(O,H),i.mul(C,F));else if(a==="divisive")d=(_,O,C,W,H,F)=>o.mul034(W,i.mul(C,F),i.mul(O,H),_);else throw new Error("bls: unknown twist type");const g=i.div(i.ONE,i.mul(i.ONE,Tm));function f(_,O,C,W){const H=i.sqr(C),F=i.sqr(W),J=i.mulByB(i.mul(F,Fs)),U=i.mul(J,Fs),I=i.sub(i.sub(i.sqr(i.add(C,W)),F),H),Y=i.sub(J,H),N=i.mul(i.sqr(O),Fs),P=i.neg(I);return _.push([Y,N,P]),O=i.mul(i.mul(i.mul(i.sub(H,U),O),C),g),C=i.sub(i.sqr(i.mul(i.add(H,U),g)),i.mul(i.sqr(J),Fs)),W=i.mul(H,I),{Rx:O,Ry:C,Rz:W}}function p(_,O,C,W,H,F){const J=i.sub(C,i.mul(F,W)),U=i.sub(O,i.mul(H,W)),I=i.sub(i.mul(J,H),i.mul(U,F)),Y=i.neg(J),N=U;_.push([I,Y,N]);const P=i.sqr(U),G=i.mul(P,U),D=i.mul(P,O),ie=i.add(i.sub(G,i.mul(D,Tm)),i.mul(i.sqr(J),W));return O=i.mul(U,ie),C=i.sub(i.mul(i.sub(D,ie),J),i.mul(G,C)),W=i.mul(W,G),{Rx:O,Ry:C,Rz:W}}const m=s6(l),j=xa(_=>{const O=_,{x:C,y:W}=O.toAffine(),H=C,F=W,J=i.neg(W);let U=H,I=F,Y=i.ONE;const N=[];for(const P of m){const G=[];({Rx:U,Ry:I,Rz:Y}=f(G,U,I,Y)),P&&({Rx:U,Ry:I,Rz:Y}=p(G,U,I,Y,H,P===-1?J:F)),N.push(G)}if(u){const P=N[N.length-1];u(U,I,Y,H,F,p.bind(null,P))}return N});function R(_,O=!1){let C=o.ONE;if(_.length){const W=_[0][0].length;for(let H=0;H<W;H++){C=o.sqr(C);for(const[F,J,U]of _)for(const[I,Y,N]of F[H])C=d(I,Y,N,C,J,U)}}return c&&(C=o.conjugate(C)),O?o.finalExponentiate(C):C}function S(_,O=!0){const C=[];wn(t,_.map(({g1:W})=>W)),wn(r,_.map(({g2:W})=>W));for(const{g1:W,g2:H}of _){if(W.is0()||H.is0())throw new Error("pairing is not available for ZERO point");W.assertValidity(),H.assertValidity();const F=W.toAffine();C.push([j(H),F.x,F.y])}return R(C,O)}function w(_,O,C=!0){return S([{g1:_,g2:O}],C)}return{Fp12:o,millerLoopBatch:R,pairing:w,pairingBatch:S,calcPairingPrecomputes:j}}function km(e,t,r,n,i){const{Fp12:o,pairingBatch:a}=e;function l(g){return g instanceof t.Point?g:t.Point.fromHex(g)}function c(g){return g instanceof r.Point?g:r.Point.fromHex(g)}function u(g){if(!(g instanceof r.Point))throw new Error(`expected valid message hashed to ${i?"G1":"G2"} curve`);return g}const d=i?(g,f)=>({g1:f,g2:g}):(g,f)=>({g1:g,g2:f});return{getPublicKey(g){const f=Bc(t.Point.Fn,g);return t.Point.BASE.multiply(f)},sign(g,f,p){if(p!=null)throw new Error("sign() expects 2 arguments");const m=Bc(t.Point.Fn,f);return u(g).assertValidity(),g.multiply(m)},verify(g,f,p,m){if(m!=null)throw new Error("verify() expects 3 arguments");g=c(g),p=l(p);const j=p.negate(),R=t.Point.BASE,S=u(f),w=g,_=a([d(j,S),d(R,w)]);return o.eql(_,o.ONE)},verifyBatch(g,f,p){if(Cd(f),p.length!==f.length)throw new Error("amount of public keys and messages should be equal");const m=c(g),j=f,R=p.map(l),S=new Map;for(let O=0;O<R.length;O++){const C=R[O],W=j[O];let H=S.get(W);H===void 0&&(H=[],S.set(W,H)),H.push(C)}const w=[],_=t.Point.BASE;try{for(const[O,C]of S){const W=C.reduce((H,F)=>H.add(F));w.push(d(W,O))}return w.push(d(_.negate(),m)),o.eql(a(w),o.ONE)}catch{return!1}},aggregatePublicKeys(g){Cd(g),g=g.map(p=>l(p));const f=g.reduce((p,m)=>p.add(m),t.Point.ZERO);return f.assertValidity(),f},aggregateSignatures(g){Cd(g),g=g.map(p=>c(p));const f=g.reduce((p,m)=>p.add(m),r.Point.ZERO);return f.assertValidity(),f},hash(g,f){It(g);const p=f?{DST:f}:void 0;return r.hashToCurve(g,p)},Signature:n}}function a6(e){const{Fp:t,Fr:r,Fp2:n,Fp6:i,Fp12:o}=e.fields,a=jm(e.G1),l=Object.assign(a,Sm(a.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),c=jm(e.G2),u=Object.assign(c,Sm(c.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults})),d=o6(e.fields,l.Point,u.Point,{...e.params,postPrecompute:e.postPrecompute}),{millerLoopBatch:g,pairing:f,pairingBatch:p,calcPairingPrecomputes:m}=d,j=km(d,l,u,e.G2.Signature,!1),R=km(d,u,l,e.G1.ShortSignature,!0),S=e.randomBytes||X1,w=()=>{const Q=wv(r.ORDER);return IN(S(Q),r.ORDER)},_={randomSecretKey:w,randomPrivateKey:w,calcPairingPrecomputes:m},{ShortSignature:O}=e.G1,{Signature:C}=e.G2;function W(Q,te){return Q instanceof l.Point?Q:R.hash(Zt("point",Q),te==null?void 0:te.DST)}function H(Q,te){return Q instanceof u.Point?Q:j.hash(Zt("point",Q),te==null?void 0:te.DST)}function F(Q){return j.getPublicKey(Q).toBytes(!0)}function J(Q){return R.getPublicKey(Q).toBytes(!0)}function U(Q,te,he){const ce=H(Q,he),ue=j.sign(ce,te);return Q instanceof u.Point?ue:C.toBytes(ue)}function I(Q,te,he){const ce=W(Q,he),ue=R.sign(ce,te);return Q instanceof l.Point?ue:O.toBytes(ue)}function Y(Q,te,he,ce){const ue=H(te,ce);return j.verify(Q,ue,he)}function N(Q,te,he,ce){const ue=W(te,ce);return R.verify(Q,ue,he)}function P(Q){const te=j.aggregatePublicKeys(Q);return Q[0]instanceof l.Point?te:te.toBytes(!0)}function G(Q){const te=j.aggregateSignatures(Q);return Q[0]instanceof u.Point?te:C.toBytes(te)}function D(Q){const te=R.aggregateSignatures(Q);return Q[0]instanceof l.Point?te:O.toBytes(te)}function ie(Q,te,he,ce){const ue=te.map(_e=>H(_e,ce));return j.verifyBatch(Q,ue,he)}return l.Point.BASE.precompute(4),{longSignatures:j,shortSignatures:R,millerLoopBatch:g,pairing:f,pairingBatch:p,verifyBatch:ie,fields:{Fr:r,Fp:t,Fp2:n,Fp6:i,Fp12:o},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:_,getPublicKey:F,getPublicKeyForShortSignatures:J,sign:U,signShortSignature:I,verify:Y,verifyShortSignature:N,aggregatePublicKeys:P,aggregateSignatures:G,aggregateShortSignatures:D,G1:l,G2:u,Signature:C,ShortSignature:O}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cm=BigInt(0),Ps=BigInt(1),pn=BigInt(2),Am=BigInt(3);function Ad(e,t,r,n,i=1,o){const a=BigInt(o===void 0?n:o),l=r**BigInt(n),c=[];for(let u=0;u<i;u++){const d=BigInt(u+1),g=[];for(let f=0,p=Ps;f<n;f++){const m=(d*p-d)/a%l;g.push(e.pow(t,m)),p*=r}c.push(g)}return c}function l6(e,t,r){const n=t.pow(r,(e.ORDER-Ps)/Am),i=t.pow(r,(e.ORDER-Ps)/pn);function o(f,p){const m=t.mul(t.frobeniusMap(f,1),n),j=t.mul(t.frobeniusMap(p,1),i);return[m,j]}const a=t.pow(r,(e.ORDER**pn-Ps)/Am),l=t.pow(r,(e.ORDER**pn-Ps)/pn);if(!t.eql(l,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function c(f,p){return[t.mul(f,a),t.neg(p)]}const u=f=>(p,m)=>{const j=m.toAffine(),R=f(j.x,j.y);return p.fromAffine({x:R[0],y:R[1]})},d=u(o),g=u(c);return{psi:o,psi2:c,G2psi:d,G2psi2:g,PSI_X:n,PSI_Y:i,PSI2_X:a,PSI2_Y:l}}function c6(e){const{ORDER:t}=e,r=xi(t),n=r.create(e.NONRESIDUE||BigInt(-1)),i=r.div(r.ONE,pn),o=Ad(r,n,r.ORDER,2)[0],a=({c0:N,c1:P},{c0:G,c1:D})=>({c0:r.add(N,G),c1:r.add(P,D)}),l=({c0:N,c1:P},{c0:G,c1:D})=>({c0:r.sub(N,G),c1:r.sub(P,D)}),c=({c0:N,c1:P},G)=>{if(typeof G=="bigint")return{c0:r.mul(N,G),c1:r.mul(P,G)};const{c0:D,c1:ie}=G;let Q=r.mul(N,D),te=r.mul(P,ie);const he=r.sub(Q,te),ce=r.sub(r.mul(r.add(N,P),r.add(D,ie)),r.add(Q,te));return{c0:he,c1:ce}},u=({c0:N,c1:P})=>{const G=r.add(N,P),D=r.sub(N,P),ie=r.add(N,N);return{c0:r.mul(G,D),c1:r.mul(ie,P)}},d=N=>{if(N.length!==2)throw new Error("invalid tuple");const P=N.map(G=>r.create(G));return{c0:P[0],c1:P[1]}};function g(N,P){return typeof N=="bigint"&&Cm<=N&&N<P}const f=t*t,p=d(e.FP2_NONRESIDUE),m={ORDER:f,isLE:r.isLE,NONRESIDUE:p,BITS:qs(f),BYTES:Math.ceil(qs(f)/8),MASK:zi(qs(f)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:N=>N,isValid:({c0:N,c1:P})=>g(N,f)&&g(P,f),is0:({c0:N,c1:P})=>r.is0(N)&&r.is0(P),isValidNot0:N=>!m.is0(N)&&m.isValid(N),eql:({c0:N,c1:P},{c0:G,c1:D})=>r.eql(N,G)&&r.eql(P,D),neg:({c0:N,c1:P})=>({c0:r.neg(N),c1:r.neg(P)}),pow:(N,P)=>Fl(m,N,P),invertBatch:N=>Vi(m,N),add:a,sub:l,mul:c,sqr:u,addN:a,subN:l,mulN:c,sqrN:u,div:(N,P)=>m.mul(N,typeof P=="bigint"?r.inv(r.create(P)):m.inv(P)),inv:({c0:N,c1:P})=>{const G=r.inv(r.create(N*N+P*P));return{c0:r.mul(G,r.create(N)),c1:r.mul(G,r.create(-P))}},sqrt:N=>{if(e.Fp2sqrt)return e.Fp2sqrt(N);const{c0:P,c1:G}=N;if(r.is0(G))return Ac(r,P)===1?m.create({c0:r.sqrt(P),c1:r.ZERO}):m.create({c0:r.ZERO,c1:r.sqrt(r.div(P,n))});const D=r.sqrt(r.sub(r.sqr(P),r.mul(r.sqr(G),n)));let ie=r.mul(r.add(D,P),i);Ac(r,ie)===-1&&(ie=r.sub(ie,D));const te=r.sqrt(ie),he=m.create({c0:te,c1:r.div(r.mul(G,i),te)});if(!m.eql(m.sqr(he),N))throw new Error("Cannot find square root");const ce=he,ue=m.neg(ce),{re:_e,im:k}=m.reim(ce),{re:ye,im:ve}=m.reim(ue);return k>ve||k===ve&&_e>ye?ce:ue},isOdd:N=>{const{re:P,im:G}=m.reim(N),D=P%pn,ie=P===Cm,Q=G%pn;return BigInt(D||ie&&Q)==Ps},fromBytes(N){if(N.length!==m.BYTES)throw new Error("fromBytes invalid length="+N.length);return{c0:r.fromBytes(N.subarray(0,r.BYTES)),c1:r.fromBytes(N.subarray(r.BYTES))}},toBytes:({c0:N,c1:P})=>pt(r.toBytes(N),r.toBytes(P)),cmov:({c0:N,c1:P},{c0:G,c1:D},ie)=>({c0:r.cmov(N,G,ie),c1:r.cmov(P,D,ie)}),reim:({c0:N,c1:P})=>({re:N,im:P}),mulByNonresidue:({c0:N,c1:P})=>m.mul({c0:N,c1:P},p),mulByB:e.Fp2mulByB,fromBigTuple:d,frobeniusMap:({c0:N,c1:P},G)=>({c0:N,c1:r.mul(P,o[G%2])})},j=({c0:N,c1:P,c2:G},{c0:D,c1:ie,c2:Q})=>({c0:m.add(N,D),c1:m.add(P,ie),c2:m.add(G,Q)}),R=({c0:N,c1:P,c2:G},{c0:D,c1:ie,c2:Q})=>({c0:m.sub(N,D),c1:m.sub(P,ie),c2:m.sub(G,Q)}),S=({c0:N,c1:P,c2:G},D)=>{if(typeof D=="bigint")return{c0:m.mul(N,D),c1:m.mul(P,D),c2:m.mul(G,D)};const{c0:ie,c1:Q,c2:te}=D,he=m.mul(N,ie),ce=m.mul(P,Q),ue=m.mul(G,te);return{c0:m.add(he,m.mulByNonresidue(m.sub(m.mul(m.add(P,G),m.add(Q,te)),m.add(ce,ue)))),c1:m.add(m.sub(m.mul(m.add(N,P),m.add(ie,Q)),m.add(he,ce)),m.mulByNonresidue(ue)),c2:m.sub(m.add(ce,m.mul(m.add(N,G),m.add(ie,te))),m.add(he,ue))}},w=({c0:N,c1:P,c2:G})=>{let D=m.sqr(N),ie=m.mul(m.mul(N,P),pn),Q=m.mul(m.mul(P,G),pn),te=m.sqr(G);return{c0:m.add(m.mulByNonresidue(Q),D),c1:m.add(m.mulByNonresidue(te),ie),c2:m.sub(m.sub(m.add(m.add(ie,m.sqr(m.add(m.sub(N,P),G))),Q),D),te)}},[_,O]=Ad(m,p,r.ORDER,6,2,3),C={ORDER:m.ORDER,isLE:m.isLE,BITS:3*m.BITS,BYTES:3*m.BYTES,MASK:zi(3*m.BITS),ZERO:{c0:m.ZERO,c1:m.ZERO,c2:m.ZERO},ONE:{c0:m.ONE,c1:m.ZERO,c2:m.ZERO},create:N=>N,isValid:({c0:N,c1:P,c2:G})=>m.isValid(N)&&m.isValid(P)&&m.isValid(G),is0:({c0:N,c1:P,c2:G})=>m.is0(N)&&m.is0(P)&&m.is0(G),isValidNot0:N=>!C.is0(N)&&C.isValid(N),neg:({c0:N,c1:P,c2:G})=>({c0:m.neg(N),c1:m.neg(P),c2:m.neg(G)}),eql:({c0:N,c1:P,c2:G},{c0:D,c1:ie,c2:Q})=>m.eql(N,D)&&m.eql(P,ie)&&m.eql(G,Q),sqrt:vm,div:(N,P)=>C.mul(N,typeof P=="bigint"?r.inv(r.create(P)):C.inv(P)),pow:(N,P)=>Fl(C,N,P),invertBatch:N=>Vi(C,N),add:j,sub:R,mul:S,sqr:w,addN:j,subN:R,mulN:S,sqrN:w,inv:({c0:N,c1:P,c2:G})=>{let D=m.sub(m.sqr(N),m.mulByNonresidue(m.mul(G,P))),ie=m.sub(m.mulByNonresidue(m.sqr(G)),m.mul(N,P)),Q=m.sub(m.sqr(P),m.mul(N,G)),te=m.inv(m.add(m.mulByNonresidue(m.add(m.mul(G,ie),m.mul(P,Q))),m.mul(N,D)));return{c0:m.mul(te,D),c1:m.mul(te,ie),c2:m.mul(te,Q)}},fromBytes:N=>{if(N.length!==C.BYTES)throw new Error("fromBytes invalid length="+N.length);return{c0:m.fromBytes(N.subarray(0,m.BYTES)),c1:m.fromBytes(N.subarray(m.BYTES,2*m.BYTES)),c2:m.fromBytes(N.subarray(2*m.BYTES))}},toBytes:({c0:N,c1:P,c2:G})=>pt(m.toBytes(N),m.toBytes(P),m.toBytes(G)),cmov:({c0:N,c1:P,c2:G},{c0:D,c1:ie,c2:Q},te)=>({c0:m.cmov(N,D,te),c1:m.cmov(P,ie,te),c2:m.cmov(G,Q,te)}),fromBigSix:N=>{if(!Array.isArray(N)||N.length!==6)throw new Error("invalid Fp6 usage");return{c0:m.fromBigTuple(N.slice(0,2)),c1:m.fromBigTuple(N.slice(2,4)),c2:m.fromBigTuple(N.slice(4,6))}},frobeniusMap:({c0:N,c1:P,c2:G},D)=>({c0:m.frobeniusMap(N,D),c1:m.mul(m.frobeniusMap(P,D),_[D%6]),c2:m.mul(m.frobeniusMap(G,D),O[D%6])}),mulByFp2:({c0:N,c1:P,c2:G},D)=>({c0:m.mul(N,D),c1:m.mul(P,D),c2:m.mul(G,D)}),mulByNonresidue:({c0:N,c1:P,c2:G})=>({c0:m.mulByNonresidue(G),c1:N,c2:P}),mul1:({c0:N,c1:P,c2:G},D)=>({c0:m.mulByNonresidue(m.mul(G,D)),c1:m.mul(N,D),c2:m.mul(P,D)}),mul01({c0:N,c1:P,c2:G},D,ie){let Q=m.mul(N,D),te=m.mul(P,ie);return{c0:m.add(m.mulByNonresidue(m.sub(m.mul(m.add(P,G),ie),te)),Q),c1:m.sub(m.sub(m.mul(m.add(D,ie),m.add(N,P)),Q),te),c2:m.add(m.sub(m.mul(m.add(N,G),D),Q),te)}}},W=Ad(m,p,r.ORDER,12,1,6)[0],H=({c0:N,c1:P},{c0:G,c1:D})=>({c0:C.add(N,G),c1:C.add(P,D)}),F=({c0:N,c1:P},{c0:G,c1:D})=>({c0:C.sub(N,G),c1:C.sub(P,D)}),J=({c0:N,c1:P},G)=>{if(typeof G=="bigint")return{c0:C.mul(N,G),c1:C.mul(P,G)};let{c0:D,c1:ie}=G,Q=C.mul(N,D),te=C.mul(P,ie);return{c0:C.add(Q,C.mulByNonresidue(te)),c1:C.sub(C.mul(C.add(N,P),C.add(D,ie)),C.add(Q,te))}},U=({c0:N,c1:P})=>{let G=C.mul(N,P);return{c0:C.sub(C.sub(C.mul(C.add(C.mulByNonresidue(P),N),C.add(N,P)),G),C.mulByNonresidue(G)),c1:C.add(G,G)}};function I(N,P){const G=m.sqr(N),D=m.sqr(P);return{first:m.add(m.mulByNonresidue(D),G),second:m.sub(m.sub(m.sqr(m.add(N,P)),G),D)}}const Y={ORDER:m.ORDER,isLE:C.isLE,BITS:2*C.BITS,BYTES:2*C.BYTES,MASK:zi(2*C.BITS),ZERO:{c0:C.ZERO,c1:C.ZERO},ONE:{c0:C.ONE,c1:C.ZERO},create:N=>N,isValid:({c0:N,c1:P})=>C.isValid(N)&&C.isValid(P),is0:({c0:N,c1:P})=>C.is0(N)&&C.is0(P),isValidNot0:N=>!Y.is0(N)&&Y.isValid(N),neg:({c0:N,c1:P})=>({c0:C.neg(N),c1:C.neg(P)}),eql:({c0:N,c1:P},{c0:G,c1:D})=>C.eql(N,G)&&C.eql(P,D),sqrt:vm,inv:({c0:N,c1:P})=>{let G=C.inv(C.sub(C.sqr(N),C.mulByNonresidue(C.sqr(P))));return{c0:C.mul(N,G),c1:C.neg(C.mul(P,G))}},div:(N,P)=>Y.mul(N,typeof P=="bigint"?r.inv(r.create(P)):Y.inv(P)),pow:(N,P)=>Fl(Y,N,P),invertBatch:N=>Vi(Y,N),add:H,sub:F,mul:J,sqr:U,addN:H,subN:F,mulN:J,sqrN:U,fromBytes:N=>{if(N.length!==Y.BYTES)throw new Error("fromBytes invalid length="+N.length);return{c0:C.fromBytes(N.subarray(0,C.BYTES)),c1:C.fromBytes(N.subarray(C.BYTES))}},toBytes:({c0:N,c1:P})=>pt(C.toBytes(N),C.toBytes(P)),cmov:({c0:N,c1:P},{c0:G,c1:D},ie)=>({c0:C.cmov(N,G,ie),c1:C.cmov(P,D,ie)}),fromBigTwelve:N=>({c0:C.fromBigSix(N.slice(0,6)),c1:C.fromBigSix(N.slice(6,12))}),frobeniusMap(N,P){const{c0:G,c1:D,c2:ie}=C.frobeniusMap(N.c1,P),Q=W[P%12];return{c0:C.frobeniusMap(N.c0,P),c1:C.create({c0:m.mul(G,Q),c1:m.mul(D,Q),c2:m.mul(ie,Q)})}},mulByFp2:({c0:N,c1:P},G)=>({c0:C.mulByFp2(N,G),c1:C.mulByFp2(P,G)}),conjugate:({c0:N,c1:P})=>({c0:N,c1:C.neg(P)}),mul014:({c0:N,c1:P},G,D,ie)=>{let Q=C.mul01(N,G,D),te=C.mul1(P,ie);return{c0:C.add(C.mulByNonresidue(te),Q),c1:C.sub(C.sub(C.mul01(C.add(P,N),G,m.add(D,ie)),Q),te)}},mul034:({c0:N,c1:P},G,D,ie)=>{const Q=C.create({c0:m.mul(N.c0,G),c1:m.mul(N.c1,G),c2:m.mul(N.c2,G)}),te=C.mul01(P,D,ie),he=C.mul01(C.add(N,P),m.add(G,D),ie);return{c0:C.add(C.mulByNonresidue(te),Q),c1:C.sub(he,C.add(Q,te))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:r,Fp2:m,Fp6:C,Fp12:Y,Fp4Square:I}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $t=BigInt(0),Fc=BigInt(1),jt=BigInt(2),vu=BigInt(3),wa=BigInt(4),Gn=BigInt("0xd201000000010000"),u6=qs(Gn),Li={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:$t,b:wa,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},d6=xi(Li.n,{modOnDecode:!0}),{Fp:Te,Fp2:Ne,Fp6:Df,Fp4Square:Rd,Fp12:We}=c6({ORDER:Li.p,FP2_NONRESIDUE:[Fc,Fc],Fp2mulByB:({c0:e,c1:t})=>{const r=Te.mul(e,wa),n=Te.mul(t,wa);return{c0:Te.sub(r,n),c1:Te.add(r,n)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:r,c1:n,c2:i}=e,{c0:o,c1:a,c2:l}=t,{first:c,second:u}=Rd(r,a),{first:d,second:g}=Rd(o,i),{first:f,second:p}=Rd(n,l),m=Ne.mulByNonresidue(p);return{c0:Df.create({c0:Ne.add(Ne.mul(Ne.sub(c,r),jt),c),c1:Ne.add(Ne.mul(Ne.sub(d,n),jt),d),c2:Ne.add(Ne.mul(Ne.sub(f,i),jt),f)}),c1:Df.create({c0:Ne.add(Ne.mul(Ne.add(m,o),jt),m),c1:Ne.add(Ne.mul(Ne.add(u,a),jt),u),c2:Ne.add(Ne.mul(Ne.add(g,l),jt),g)})}},Fp12cyclotomicExp(e,t){let r=We.ONE;for(let n=u6-1;n>=0;n--)r=We._cyclotomicSquare(r),FN(t,n)&&(r=We.mul(r,e));return r},Fp12finalExponentiate:e=>{const t=Gn,r=We.div(We.frobeniusMap(e,6),e),n=We.mul(We.frobeniusMap(r,2),r),i=We.conjugate(We._cyclotomicExp(n,t)),o=We.mul(We.conjugate(We._cyclotomicSquare(n)),i),a=We.conjugate(We._cyclotomicExp(o,t)),l=We.conjugate(We._cyclotomicExp(a,t)),c=We.mul(We.conjugate(We._cyclotomicExp(l,t)),We._cyclotomicSquare(i)),u=We.conjugate(We._cyclotomicExp(c,t)),d=We.frobeniusMap(We.mul(i,l),2),g=We.frobeniusMap(We.mul(a,n),3),f=We.frobeniusMap(We.mul(c,We.conjugate(n)),1),p=We.mul(We.mul(u,We.conjugate(o)),n);return We.mul(We.mul(We.mul(d,g),f),p)}}),{G2psi:Rm,G2psi2:f6}=l6(Te,Ne,Ne.div(Ne.ONE,Ne.NONRESIDUE)),Bd=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Te.ORDER,m:2,k:128,expand:"xmd",hash:m0}),T0={p:Ne.ORDER,n:Li.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Ne.ZERO,b:Ne.fromBigTuple([wa,wa]),Gx:Ne.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ne.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},wu=za(Te.toBytes($t),{infinity:!0,compressed:!0});function bu(e){e=e.slice();const t=e[0]&224,r=!!(t>>7&1),n=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:n,sort:i,value:e}}function za(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function h6(e,t,r){const{BYTES:n,ORDER:i}=Te,o=t.is0(),{x:a,y:l}=t.toAffine();if(r){if(o)return wu.slice();const c=!!(l*jt/i);return za(At(a,n),{compressed:!0,sort:c})}else return o?pt(Uint8Array.of(64),new Uint8Array(2*n-1)):pt(At(a,n),At(l,n))}function Fd(e){e.assertValidity();const{BYTES:t,ORDER:r}=Te,{x:n,y:i}=e.toAffine();if(e.is0())return wu.slice();const o=!!(i*jt/r);return za(At(n,t),{compressed:!0,sort:o})}function p6(e){const{compressed:t,infinity:r,sort:n,value:i}=bu(e),{BYTES:o,ORDER:a}=Te;if(i.length===48&&t){const l=rn(i),c=Te.create(l&Te.MASK);if(r){if(c!==$t)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:$t,y:$t}}const u=Te.add(Te.pow(c,vu),Te.create(Li.b));let d=Te.sqrt(u);if(!d)throw new Error("invalid G1 point: compressed point");return d*jt/a!==BigInt(n)&&(d=Te.neg(d)),{x:Te.create(c),y:Te.create(d)}}else if(i.length===96&&!t){const l=rn(i.subarray(0,o)),c=rn(i.subarray(o));if(r){if(l!==$t||c!==$t)throw new Error("G1: non-empty point at infinity");return _u.G1.Point.ZERO.toAffine()}return{x:Te.create(l),y:Te.create(c)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function Bm(e){const{infinity:t,sort:r,value:n}=bu(Zt("signatureHex",e,48)),i=Te.ORDER,o=_u.G1.Point,a=rn(n);if(t)return o.ZERO;const l=Te.create(a&Te.MASK),c=Te.add(Te.pow(l,vu),Te.create(Li.b));let u=Te.sqrt(c);if(!u)throw new Error("invalid G1 point: compressed");const d=BigInt(r);u*jt/i!==d&&(u=Te.neg(u));const g=o.fromAffine({x:l,y:u});return g.assertValidity(),g}function m6(e,t,r){const{BYTES:n,ORDER:i}=Te,o=t.is0(),{x:a,y:l}=t.toAffine();if(r){if(o)return pt(wu,At($t,n));const c=!!(l.c1===$t?l.c0*jt/i:l.c1*jt/i);return pt(za(At(a.c1,n),{compressed:!0,sort:c}),At(a.c0,n))}else{if(o)return pt(Uint8Array.of(64),new Uint8Array(4*n-1));const{re:c,im:u}=Ne.reim(a),{re:d,im:g}=Ne.reim(l);return pt(At(u,n),At(c,n),At(g,n),At(d,n))}}function Pd(e){e.assertValidity();const{BYTES:t}=Te;if(e.is0())return pt(wu,At($t,t));const{x:r,y:n}=e.toAffine(),{re:i,im:o}=Ne.reim(r),{re:a,im:l}=Ne.reim(n),u=!!((l>$t?l*jt:a*jt)/Te.ORDER&Fc),d=i;return pt(za(At(o,t),{sort:u,compressed:!0}),At(d,t))}function g6(e){const{BYTES:t,ORDER:r}=Te,{compressed:n,infinity:i,sort:o,value:a}=bu(e);if(!n&&!i&&o||!n&&i&&o||o&&i&&n)throw new Error("invalid encoding flag: "+(e[0]&224));const l=(c,u,d)=>rn(c.slice(u,d));if(a.length===96&&n){if(i){if(a.reduce((m,j)=>m!==0?j+1:j,0)>0)throw new Error("invalid G2 point: compressed");return{x:Ne.ZERO,y:Ne.ZERO}}const c=l(a,0,t),u=l(a,t,2*t),d=Ne.create({c0:Te.create(u),c1:Te.create(c)}),g=Ne.add(Ne.pow(d,vu),T0.b);let f=Ne.sqrt(g);const p=f.c1===$t?f.c0*jt/r:f.c1*jt/r?Fc:$t;return f=o&&p>0?f:Ne.neg(f),{x:d,y:f}}else if(a.length===192&&!n){if(i){if(a.reduce((f,p)=>f!==0?p+1:p,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Ne.ZERO,y:Ne.ZERO}}const c=l(a,0*t,1*t),u=l(a,1*t,2*t),d=l(a,2*t,3*t),g=l(a,3*t,4*t);return{x:Ne.fromBigTuple([u,c]),y:Ne.fromBigTuple([g,d])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function Fm(e){const{ORDER:t}=Te,{infinity:r,sort:n,value:i}=bu(Zt("signatureHex",e)),o=_u.G2.Point,a=i.length/2;if(a!==48&&a!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const l=rn(i.slice(0,a)),c=rn(i.slice(a));if(r)return o.ZERO;const u=Te.create(l&Te.MASK),d=Te.create(c),g=Ne.create({c0:d,c1:u}),f=Ne.add(Ne.pow(g,vu),T0.b);let p=Ne.sqrt(f);if(!p)throw new Error("Failed to find a square root");const{re:m,im:j}=Ne.reim(p),R=BigInt(n),S=j>$t&&j*jt/t!==R,w=j===$t&&m*jt/t!==R;(S||w)&&(p=Ne.neg(p));const _=o.fromAffine({x:g,y:p});return _.assertValidity(),_}const _u=a6({fields:{Fp:Te,Fp2:Ne,Fp6:Df,Fp12:We,Fr:d6},G1:{...Li,Fp:Te,htfDefaults:{...Bd,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new e(Te.mul(t.X,r),t.Y,t.Z);return t.multiplyUnsafe(Gn).negate().multiplyUnsafe(Gn).equals(n)},clearCofactor:(e,t)=>t.multiplyUnsafe(Gn).add(t),mapToCurve:b6,fromBytes:p6,toBytes:h6,ShortSignature:{fromBytes(e){return It(e),Bm(e)},fromHex(e){return Bm(e)},toBytes(e){return Fd(e)},toRawBytes(e){return Fd(e)},toHex(e){return to(Fd(e))}}},G2:{...T0,Fp:Ne,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Bd},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:_6,isTorsionFree:(e,t)=>t.multiplyUnsafe(Gn).negate().equals(Rm(e,t)),clearCofactor:(e,t)=>{const r=Gn;let n=t.multiplyUnsafe(r).negate(),i=Rm(e,t),o=t.double();return o=f6(e,o),o=o.subtract(i),i=n.add(i),i=i.multiplyUnsafe(r).negate(),o=o.add(i),o=o.subtract(n),o.subtract(t)},fromBytes:g6,toBytes:m6,Signature:{fromBytes(e){return It(e),Fm(e)},fromHex(e){return Fm(e)},toBytes(e){return Pd(e)},toRawBytes(e){return Pd(e)},toHex(e){return to(Pd(e))}}},params:{ateLoopSize:Gn,r:Li.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:Bd,hash:m0}),y6=Tv(Ne,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>Ne.fromBigTuple(t.map(BigInt))))),x6=Tv(Te,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),v6=Cv(Te,{A:Te.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Te.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Te.create(BigInt(11))}),w6=Cv(Ne,{A:Ne.create({c0:Te.create($t),c1:Te.create(BigInt(240))}),B:Ne.create({c0:Te.create(BigInt(1012)),c1:Te.create(BigInt(1012))}),Z:Ne.create({c0:Te.create(BigInt(-2)),c1:Te.create(BigInt(-1))})});function b6(e){const{x:t,y:r}=v6(Te.create(e[0]));return x6(t,r)}function _6(e){const{x:t,y:r}=w6(Ne.fromBigTuple(e));return y6(t,r)}function E6(e,t,r){const n=typeof e=="string"?e:tt(e),i=typeof t=="string"?t:tt(t),o=typeof r=="string"?r:tt(r);return _u.verifyShortSignature(i,o,n)}const Av=e=>St(new uo(e)),k0=e=>{const t=Av(e);return new Date(Number(t)/1e6)};var S6=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},N6=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Pl;class Xr extends ut{constructor(t){super(`Invalid certificate: ${t}`)}}var lr;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(lr||(lr={}));function j6(e,t){const r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]>n[i])return!0;return!1}class Wi{constructor(t,r,n,i,o=5,a=!1){this._rootKey=r,this._canisterId=n,this._blsVerify=i,this._maxAgeInMinutes=o,Pl.set(this,!1),S6(this,Pl,a,"f"),this.cert=vn(new Uint8Array(t))}static async create(t){const r=Wi.createUnverified(t);return await r.verify(),r}static createUnverified(t){let r=t.blsVerify;return r||(r=E6),new Wi(t.certificate,t.rootKey,t.canisterId,r,t.maxAgeInMinutes,t.disableTimeVerification)}lookup(t){return io(t,this.cert.tree)}lookup_label(t){return this.lookup([t])}async verify(){const t=await Ol(this.cert.tree),r=await this._checkDelegationAndGetKey(this.cert.delegation),n=this.cert.signature,i=k6(r),o=Mr(Ao("ic-state-root"),t);let a=!1;const l=xr(this.lookup(["time"]));if(!l)throw new Xr("Certificate does not contain a time");if(!N6(this,Pl,"f")){const u=this._maxAgeInMinutes*60*1e3,d=Date.now(),g=d-u,f=d+3e5,p=k0(l);if(p.getTime()<g)throw new Xr(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+p.toISOString()+" Current time: "+new Date(d).toISOString());if(p.getTime()>f)throw new Xr("Certificate is signed more than 5 minutes in the future. Certificate time: "+p.toISOString()+" Current time: "+new Date(d).toISOString())}try{a=await this._blsVerify(new Uint8Array(i),new Uint8Array(n),new Uint8Array(o))}catch{a=!1}if(!a)throw new Xr("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const r=await Wi.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(r.cert.delegation)throw new Xr("Delegation certificates cannot be nested");if(await r.verify(),this._canisterId.toString()!==D6&&!Rv({canisterId:this._canisterId,subnetId:Pe.fromUint8Array(new Uint8Array(t.subnet_id)),tree:r.cert.tree}))throw new Xr(`Canister ${this._canisterId} not in range of delegations for subnet 0x${tt(t.subnet_id)}`);const n=xr(r.lookup(["subnet",t.subnet_id,"public_key"]));if(!n)throw new Error(`Could not find subnet key for subnet 0x${tt(t.subnet_id)}`);return n}}Pl=new WeakMap;const Eo=Sn("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),T6=96;function k6(e){const t=Eo.byteLength+T6;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);const r=e.slice(0,Eo.byteLength);if(!Fa(r,Eo))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${Eo}, but get ${r}`);return e.slice(Eo.byteLength)}function xr(e){if(e.status===wt.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function Ol(e){switch(e[0]){case lr.Empty:return Br(Ao("ic-hashtree-empty"));case lr.Pruned:return e[1];case lr.Leaf:return Br(Mr(Ao("ic-hashtree-leaf"),e[1]));case lr.Labeled:return Br(Mr(Ao("ic-hashtree-labeled"),e[1],await Ol(e[2])));case lr.Fork:return Br(Mr(Ao("ic-hashtree-fork"),await Ol(e[1]),await Ol(e[2])));default:throw new Error("unreachable")}}function Ao(e){const t=new Uint8Array([e.length]),r=new TextEncoder().encode(e);return Mr(t,r)}var wt;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(wt||(wt={}));var mn;(function(e){e.Less="less",e.Greater="greater"})(mn||(mn={}));function io(e,t){if(e.length===0)switch(t[0]){case lr.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:wt.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:wt.Found,value:t[1].buffer}:{status:wt.Found,value:t[1]}}default:return{status:wt.Found,value:t}}const r=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],n=Ml(r,t);switch(n.status){case wt.Found:return io(e.slice(1),n.value);case mn.Greater:case mn.Less:return{status:wt.Absent};default:return n}}function eh(e){switch(e[0]){case lr.Empty:return[];case lr.Fork:return eh(e[1]).concat(eh(e[2]));default:return[e]}}function Ml(e,t){switch(t[0]){case lr.Labeled:return j6(e,t[1])?{status:mn.Greater}:Fa(e,t[1])?{status:wt.Found,value:t[2]}:{status:mn.Less};case lr.Fork:const r=Ml(e,t[1]);switch(r.status){case mn.Greater:{const n=Ml(e,t[2]);return n.status===mn.Less?{status:wt.Absent}:n}case wt.Unknown:{let n=Ml(e,t[2]);return n.status===mn.Less?{status:wt.Unknown}:n}default:return r}case lr.Pruned:return{status:wt.Unknown};default:return{status:wt.Absent}}}function Rv(e){const{canisterId:t,subnetId:r,tree:n}=e,i=io(["subnet",r.toUint8Array(),"canister_ranges"],n);if(i.status!==wt.Found||!(i.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);return vn(i.value).map(c=>[Pe.fromUint8Array(c[0]),Pe.fromUint8Array(c[1])]).some(c=>c[0].ltEq(t)&&c[1].gtEq(t))}class C6{constructor(t,r,n){this.key=t,this.path=r,this.decodeStrategy=n}}const Bv=async e=>{const{agent:t,paths:r}=e,n=Pe.from(e.canisterId),i=[...new Set(r)],o=i.map(c=>th(c,n)),a=new Map,l=i.map((c,u)=>(async()=>{var d;try{const g=await t.readState(n,{paths:[o[u]]});if(t.rootKey==null)throw new Error("Agent is missing root key");const f=await Wi.create({certificate:g.certificate,rootKey:t.rootKey,canisterId:n,disableTimeVerification:!0}),p=(R,S)=>{if(S==="subnet"){if(t.rootKey==null)throw new Error("Agent is missing root key");const w=Fv(g.certificate,n,t.rootKey);return{path:S,data:w}}else return{path:S,data:xr(R.lookup(th(S,n)))}},{path:m,data:j}=p(f,i[u]);if(!j)console.warn(`Expected to find result for path ${m}, but instead found nothing.`),typeof m=="string"?a.set(m,null):a.set(m.key,null);else switch(m){case"time":{a.set(m,k0(j));break}case"controllers":{a.set(m,R6(j));break}case"module_hash":{a.set(m,Pm(j));break}case"subnet":{a.set(m,j);break}case"candid":{a.set(m,new TextDecoder().decode(j));break}default:if(typeof m!="string"&&"key"in m&&"path"in m)switch(m.decodeStrategy){case"raw":a.set(m.key,j);break;case"leb128":{a.set(m.key,Av(j));break}case"cbor":{a.set(m.key,Pv(j));break}case"hex":{a.set(m.key,Pm(j));break}case"utf-8":a.set(m.key,A6(j))}}}catch(g){if(!((d=g==null?void 0:g.message)===null||d===void 0)&&d.includes("Invalid certificate"))throw new ut(g.message);typeof c!="string"&&"key"in c&&"path"in c?a.set(c.key,null):a.set(c,null),console.group(),console.warn(`Expected to find result for path ${c}, but instead found nothing.`),console.warn(g),console.groupEnd()}})());return await Promise.all(l),a},Fv=(e,t,r)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");const n=vn(new Uint8Array(e)),i=n.tree;let o=n.delegation,a;if(o&&o.subnet_id?a=Pe.fromUint8Array(new Uint8Array(o.subnet_id)):!o&&typeof r<"u"?(a=Pe.selfAuthenticating(new Uint8Array(r)),o={subnet_id:a.toUint8Array(),certificate:new ArrayBuffer(0)}):(a=Pe.selfAuthenticating(Pe.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),o={subnet_id:a.toUint8Array(),certificate:new ArrayBuffer(0)}),!Rv({canisterId:t,subnetId:a,tree:i}))throw new Error("Canister not in range");const c=io(["subnet",o.subnet_id,"node"],i);if(c.status!==wt.Found)throw new Error("Node not found");if(c.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const u=eh(c.value),d=new Map;return u.forEach(g=>{const f=Pe.from(new Uint8Array(g[1])).toText(),p=io(["public_key"],g[2]);if(p.status!==wt.Found)throw new Error("Public key not found");const m=p.value;if(m.byteLength!==44)throw new Error("Invalid public key length");d.set(f,m)}),{subnetId:Pe.fromUint8Array(new Uint8Array(o.subnet_id)).toText(),nodeKeys:d}},th=(e,t)=>{const r=new TextEncoder,n=o=>new DataView(r.encode(o).buffer).buffer,i=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[n("time")];case"controllers":return[n("canister"),i,n("controllers")];case"module_hash":return[n("canister"),i,n("module_hash")];case"subnet":return[n("subnet")];case"candid":return[n("canister"),i,n("metadata"),n("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const o=e.path,a=typeof o=="string"?n(o):o;return[n("canister"),i,n("metadata"),a]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},Pm=e=>tt(e),Pv=e=>vn(e),A6=e=>new TextDecoder().decode(e),R6=e=>Pv(e).map(r=>Pe.fromUint8Array(new Uint8Array(r))),B6=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:C6,encodePath:th,fetchNodeKeys:Fv,request:Bv},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qr=BigInt(0),xt=BigInt(1),Od=BigInt(2),F6=BigInt(8);function P6(e,t,r,n){const i=e.sqr(r),o=e.sqr(n),a=e.add(e.mul(t.a,i),o),l=e.add(e.ONE,e.mul(t.d,e.mul(i,o)));return e.eql(a,l)}function O6(e,t={}){const{Fp:r,Fn:n}=Nv("edwards",e,t),{h:i,n:o}=e;Ua(t,{},{uvRatio:"function"});const a=Od<<BigInt(n.BYTES*8)-xt,l=j=>r.create(j),c=t.uvRatio||((j,R)=>{try{return{isValid:!0,value:r.sqrt(r.div(j,R))}}catch{return{isValid:!1,value:qr}}});if(!P6(r,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function u(j,R,S=!1){const w=S?xt:qr;return Co("coordinate "+j,R,w,a),R}function d(j){if(!(j instanceof p))throw new Error("ExtendedPoint expected")}const g=xa((j,R)=>{const{X:S,Y:w,Z:_}=j,O=j.is0();R==null&&(R=O?F6:r.inv(_));const C=l(S*R),W=l(w*R),H=r.mul(_,R);if(O)return{x:qr,y:xt};if(H!==xt)throw new Error("invZ was invalid");return{x:C,y:W}}),f=xa(j=>{const{a:R,d:S}=e;if(j.is0())throw new Error("bad point: ZERO");const{X:w,Y:_,Z:O,T:C}=j,W=l(w*w),H=l(_*_),F=l(O*O),J=l(F*F),U=l(W*R),I=l(F*l(U+H)),Y=l(J+l(S*l(W*H)));if(I!==Y)throw new Error("bad point: equation left != right (1)");const N=l(w*_),P=l(O*C);if(N!==P)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(R,S,w,_){this.X=u("x",R),this.Y=u("y",S),this.Z=u("z",w,!0),this.T=u("t",_),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(R){return wn(p,R)}static msm(R,S){return Sv(p,n,R,S)}_setWindowSize(R){this.precompute(R)}static fromAffine(R){if(R instanceof p)throw new Error("extended point not allowed");const{x:S,y:w}=R||{};return u("x",S),u("y",w),new p(S,w,xt,l(S*w))}precompute(R=8,S=!0){return m.createCache(this,R),S||this.multiply(Od),this}assertValidity(){f(this)}equals(R){d(R);const{X:S,Y:w,Z:_}=this,{X:O,Y:C,Z:W}=R,H=l(S*W),F=l(O*_),J=l(w*W),U=l(C*_);return H===F&&J===U}is0(){return this.equals(p.ZERO)}negate(){return new p(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:R}=e,{X:S,Y:w,Z:_}=this,O=l(S*S),C=l(w*w),W=l(Od*l(_*_)),H=l(R*O),F=S+w,J=l(l(F*F)-O-C),U=H+C,I=U-W,Y=H-C,N=l(J*I),P=l(U*Y),G=l(J*Y),D=l(I*U);return new p(N,P,D,G)}add(R){d(R);const{a:S,d:w}=e,{X:_,Y:O,Z:C,T:W}=this,{X:H,Y:F,Z:J,T:U}=R,I=l(_*H),Y=l(O*F),N=l(W*w*U),P=l(C*J),G=l((_+O)*(H+F)-I-Y),D=P-N,ie=P+N,Q=l(Y-S*I),te=l(G*D),he=l(ie*Q),ce=l(G*Q),ue=l(D*ie);return new p(te,he,ue,ce)}subtract(R){return this.add(R.negate())}multiply(R){const S=R;Co("scalar",S,xt,o);const{p:w,f:_}=m.cached(this,S,O=>wn(p,O));return wn(p,[w,_])[0]}multiplyUnsafe(R,S=p.ZERO){const w=R;return Co("scalar",w,qr,o),w===qr?p.ZERO:this.is0()||w===xt?this:m.unsafe(this,w,_=>wn(p,_),S)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return m.unsafe(this,o).is0()}toAffine(R){return g(this,R)}clearCofactor(){return i===xt?this:this.multiplyUnsafe(i)}static fromBytes(R,S=!1){return It(R),p.fromHex(R,S)}static fromHex(R,S=!1){const{d:w,a:_}=e,O=r.BYTES;R=Zt("pointHex",R,O),ga("zip215",S);const C=R.slice(),W=R[O-1];C[O-1]=W&-129;const H=ya(C),F=S?a:r.ORDER;Co("pointHex.y",H,qr,F);const J=l(H*H),U=l(J-xt),I=l(w*J-_);let{isValid:Y,value:N}=c(U,I);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const P=(N&xt)===xt,G=(W&128)!==0;if(!S&&N===qr&&G)throw new Error("Point.fromHex: x=0 and x_0=1");return G!==P&&(N=l(-N)),p.fromAffine({x:N,y:H})}toBytes(){const{x:R,y:S}=this.toAffine(),w=xu(S,r.BYTES);return w[w.length-1]|=R&xt?128:0,w}toRawBytes(){return this.toBytes()}toHex(){return to(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}p.BASE=new p(e.Gx,e.Gy,xt,l(e.Gx*e.Gy)),p.ZERO=new p(qr,xt,xt,qr),p.Fp=r,p.Fn=n;const m=new Ev(p,n.BYTES*8);return p}function M6(e,t,r){if(typeof t!="function")throw new Error('"hash" function param is required');Ua(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n}=r,{BASE:i,Fp:o,Fn:a}=e,l=a.ORDER,c=r.randomBytes||X1,u=r.adjustScalarBytes||(I=>I),d=r.domain||((I,Y,N)=>{if(ga("phflag",N),Y.length||N)throw new Error("Contexts/pre-hash are not supported");return I});function g(I){return a.create(I)}function f(I){return g(ya(I))}function p(I){const Y=o.BYTES;I=Zt("private key",I,Y);const N=Zt("hashed private key",t(I),2*Y),P=u(N.slice(0,Y)),G=N.slice(Y,2*Y),D=f(P);return{head:P,prefix:G,scalar:D}}function m(I){const{head:Y,prefix:N,scalar:P}=p(I),G=i.multiply(P),D=G.toBytes();return{head:Y,prefix:N,scalar:P,point:G,pointBytes:D}}function j(I){return m(I).pointBytes}function R(I=Uint8Array.of(),...Y){const N=pt(...Y);return f(t(d(N,Zt("context",I),!!n)))}function S(I,Y,N={}){I=Zt("message",I),n&&(I=n(I));const{prefix:P,scalar:G,pointBytes:D}=m(Y),ie=R(N.context,P,I),Q=i.multiply(ie).toBytes(),te=R(N.context,Q,D,I),he=g(ie+te*G);Co("signature.s",he,qr,l);const ce=o.BYTES,ue=pt(Q,xu(he,ce));return Zt("result",ue,ce*2)}const w={zip215:!0};function _(I,Y,N,P=w){const{context:G,zip215:D}=P,ie=o.BYTES;I=Zt("signature",I,2*ie),Y=Zt("message",Y),N=Zt("publicKey",N,ie),D!==void 0&&ga("zip215",D),n&&(Y=n(Y));const Q=ya(I.slice(ie,2*ie));let te,he,ce;try{te=e.fromHex(N,D),he=e.fromHex(I.slice(0,ie),D),ce=i.multiplyUnsafe(Q)}catch{return!1}if(!D&&te.isSmallOrder())return!1;const ue=R(G,he.toBytes(),te.toBytes(),Y);return he.add(te.multiplyUnsafe(ue)).subtract(ce).clearCofactor().is0()}i.precompute(8);const O=o.BYTES,C={secret:O,public:O,signature:2*O,seed:O};function W(I=c(C.seed)){return I}const H={getExtendedPublicKey:m,randomSecretKey:W,isValidSecretKey:J,isValidPublicKey:U,randomPrivateKey:W,toMontgomery(I){const{y:Y}=e.fromBytes(I),N=O===32;if(!N&&O!==57)throw new Error("only defined for 25519 and 448");const P=N?o.div(xt+Y,xt-Y):o.div(Y-xt,Y+xt);return o.toBytes(P)},toMontgomeryPriv(I){It(I,O);const Y=t(I.subarray(0,O));return u(Y).subarray(0,O)},precompute(I=8,Y=e.BASE){return Y.precompute(I,!1)}};function F(I){const Y=H.randomSecretKey(I);return{secretKey:Y,publicKey:j(Y)}}function J(I){try{return!!a.fromBytes(I,!1)}catch{return!1}}function U(I,Y){try{return!!e.fromBytes(I,Y)}catch{return!1}}return Object.freeze({keygen:F,getPublicKey:j,sign:S,verify:_,utils:H,Point:e,info:{type:"edwards",lengths:C}})}function U6(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=xi(t.n,e.nBitLength,!0),i={Fp:r,Fn:n,uvRatio:e.uvRatio},o={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:i,hash:e.hash,eddsaOpts:o}}function z6(e,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e})}function V6(e){const{CURVE:t,curveOpts:r,hash:n,eddsaOpts:i}=U6(e),o=O6(t,r),a=M6(o,n,i);return z6(e,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const W6=BigInt(1),Om=BigInt(2);BigInt(3);const $6=BigInt(5),H6=BigInt(8),Eu={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:H6,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function I6(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=Eu.p,l=e*e%o*e%o,c=Ir(l,Om,o)*l%o,u=Ir(c,W6,o)*e%o,d=Ir(u,$6,o)*u%o,g=Ir(d,t,o)*d%o,f=Ir(g,r,o)*g%o,p=Ir(f,n,o)*f%o,m=Ir(p,i,o)*p%o,j=Ir(m,i,o)*p%o,R=Ir(j,t,o)*d%o;return{pow_p_5_8:Ir(R,Om,o)*e%o,b2:l}}function G6(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Mm=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function q6(e,t){const r=Eu.p,n=ft(t*t*t,r),i=ft(n*n*t,r),o=I6(e*i).pow_p_5_8;let a=ft(e*n*o,r);const l=ft(t*a*a,r),c=a,u=ft(a*Mm,r),d=l===e,g=l===ft(-e,r),f=l===ft(-e*Mm,r);return d&&(a=c),(g||f)&&(a=u),WN(a,r)&&(a=ft(-a,r)),{isValid:d||g,value:a}}const K6=(()=>xi(Eu.p,{isLE:!0}))(),Y6=(()=>({...Eu,Fp:K6,hash:fS,adjustScalarBytes:G6,uvRatio:q6}))(),hs=(()=>V6(Y6))();var Um=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Kt=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},zt,Ro,Ov,Mv;class Q6{constructor(t={}){zt.set(this,void 0),Ro.set(this,void 0),this[Ov]=this.entries.bind(this),this[Mv]="ExpirableMap";const{source:r=[],expirationTime:n=10*60*1e3}=t,i=Date.now();Um(this,zt,new Map([...r].map(([o,a])=>[o,{value:a,timestamp:i}])),"f"),Um(this,Ro,n,"f")}prune(){const t=Date.now();for(const[r,n]of Kt(this,zt,"f").entries())t-n.timestamp>Kt(this,Ro,"f")&&Kt(this,zt,"f").delete(r);return this}set(t,r){this.prune();const n={value:r,timestamp:Date.now()};return Kt(this,zt,"f").set(t,n),this}get(t){const r=Kt(this,zt,"f").get(t);if(r!==void 0){if(Date.now()-r.timestamp>Kt(this,Ro,"f")){Kt(this,zt,"f").delete(t);return}return r.value}}clear(){Kt(this,zt,"f").clear()}entries(){const t=Kt(this,zt,"f").entries();return function*(){for(const[n,i]of t)yield[n,i.value]}()}values(){const t=Kt(this,zt,"f").values();return function*(){for(const n of t)yield n.value}()}keys(){return Kt(this,zt,"f").keys()}forEach(t,r){for(const[n,i]of Kt(this,zt,"f").entries())t.call(r,i.value,n,this)}has(t){return Kt(this,zt,"f").has(t)}delete(t){return Kt(this,zt,"f").delete(t)}get size(){return Kt(this,zt,"f").size}}zt=new WeakMap,Ro=new WeakMap,Ov=Symbol.iterator,Mv=Symbol.toStringTag;const zm=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},Vm=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},rh=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},Z6=(e,t)=>{const r=rh(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const Pc=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function Uv(e,t){const r=2+zm(e.byteLength+1),n=t.byteLength+r+e.byteLength;let i=0;const o=new Uint8Array(1+zm(n)+n);return o[i++]=48,i+=Vm(o,i,n),o.set(t,i),i+=t.byteLength,o[i++]=3,i+=Vm(o,i,e.byteLength+1),o[i++]=0,o.set(new Uint8Array(e),i),o}const zv=(e,t)=>{let r=0;const n=(l,c)=>{if(i[r++]!==l)throw new Error("Expected: "+c)},i=new Uint8Array(e);if(n(48,"sequence"),r+=rh(i,r),!Fa(i.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,n(3,"bit string");const o=Z6(i,r)-1;r+=rh(i,r),n(0,"0 padding");const a=i.slice(r);if(o!==a.length)throw new Error(`DER payload mismatch: Expected length ${o} actual length ${a.length}`);return a};var Wm=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},$m=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ul,zl;let Vv=class Bo{constructor(t){if(Ul.set(this,void 0),zl.set(this,void 0),t.byteLength!==Bo.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Wm(this,Ul,t,"f"),Wm(this,zl,Bo.derEncode(t),"f")}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new Bo(t)}static fromDer(t){return new Bo(this.derDecode(t))}static derEncode(t){return Uv(t,Pc).buffer}static derDecode(t){const r=zv(t,Pc);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return $m(this,Ul,"f")}get derKey(){return $m(this,zl,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Ul=new WeakMap,zl=new WeakMap;Vv.RAW_KEY_LENGTH=32;class X6{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(r=>r!==t)}notify(t,...r){this.observers.forEach(n=>n(t,...r))}}class J6 extends X6{constructor(){super()}print(t,...r){this.notify({message:t,level:"info"},...r)}warn(t,...r){this.notify({message:t,level:"warn"},...r)}error(t,r,...n){this.notify({message:t,level:"error",error:r},...n)}}var Gr=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Ut=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Kr,Vl,Wl,$l,Hl,Il,Gl,ql,ps;const Wv=.5,$v=1.5,Hv=500,Iv=6e4,Gv=9e5,qv=10;class Su{constructor(t=Su.default){Kr.set(this,void 0),Vl.set(this,void 0),Wl.set(this,void 0),$l.set(this,void 0),Hl.set(this,void 0),Il.set(this,void 0),Gl.set(this,void 0),ql.set(this,void 0),ps.set(this,0);const{initialInterval:r=Hv,randomizationFactor:n=Wv,multiplier:i=$v,maxInterval:o=Iv,maxElapsedTime:a=Gv,maxIterations:l=qv,date:c=Date}=t;Gr(this,Kr,r,"f"),Gr(this,Vl,n,"f"),Gr(this,Wl,i,"f"),Gr(this,$l,o,"f"),Gr(this,ql,c,"f"),Gr(this,Hl,c.now(),"f"),Gr(this,Il,a,"f"),Gr(this,Gl,l,"f")}get ellapsedTimeInMsec(){return Ut(this,ql,"f").now()-Ut(this,Hl,"f")}get currentInterval(){return Ut(this,Kr,"f")}get count(){return Ut(this,ps,"f")}get randomValueFromInterval(){const t=Ut(this,Vl,"f")*Ut(this,Kr,"f"),r=Ut(this,Kr,"f")-t,n=Ut(this,Kr,"f")+t;return Math.random()*(n-r)+r}incrementCurrentInterval(){var t;return Gr(this,Kr,Math.min(Ut(this,Kr,"f")*Ut(this,Wl,"f"),Ut(this,$l,"f")),"f"),Gr(this,ps,(t=Ut(this,ps,"f"),t++,t),"f"),Ut(this,Kr,"f")}next(){return this.ellapsedTimeInMsec>=Ut(this,Il,"f")||Ut(this,ps,"f")>=Ut(this,Gl,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}Kr=new WeakMap,Vl=new WeakMap,Wl=new WeakMap,$l=new WeakMap,Hl=new WeakMap,Il=new WeakMap,Gl=new WeakMap,ql=new WeakMap,ps=new WeakMap;Su.default={initialInterval:Hv,randomizationFactor:Wv,multiplier:$v,maxInterval:Iv,maxElapsedTime:Gv,maxIterations:qv,date:Date};var kt=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},xe=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Vt,Si,Ks,Yr,dn,Os,Fo,ms,Tr,Cr,Ni,ji,Po,gs,ys,Ti,Ci,Kv,Kl,Yl,ki,fn;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(fn||(fn={}));const pl=60*1e3,L6="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",D6="aaaaa-aa",ej="ic0.app",tj=".ic0.app",rj="icp0.io",nj=".icp0.io",ij="icp-api.io",sj=".icp-api.io";class Md extends ut{constructor(t){super(t),this.message=t}}class ml extends ut{constructor(t){super(t),this.message=t}}function oj(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new Md("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new Md("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new Md("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function aj(e){let t;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?t=new URL(window.location.protocol+"//"+e):t=new URL(e);else{const r=["ic0.app","icp0.io","127.0.0.1","localhost"],n=[".github.dev",".gitpod.io"],i=typeof window<"u"?window.location:void 0,o=i==null?void 0:i.hostname;let a;o&&typeof o=="string"&&(n.some(l=>o.endsWith(l))?a=o:a=r.find(l=>o.endsWith(l))),i&&a?t=new URL(`${i.protocol}//${a}${i.port?":"+i.port:""}`):t=new URL("https://icp-api.io")}return t.toString()}class Ms{constructor(t={}){var r,n;Vt.add(this),Si.set(this,null),Ks.set(this,!1),Yr.set(this,void 0),dn.set(this,void 0),Os.set(this,void 0),Fo.set(this,void 0),ms.set(this,0),Tr.set(this,void 0),Cr.set(this,void 0),Ni.set(this,void 0),ji.set(this,void 0),this._isAgent=!0,this.config={},Po.set(this,0),this.log=new J6,gs.set(this,[]),ys.set(this,[]),Ti.set(this,new Q6({expirationTime:5*60*1e3})),Ci.set(this,!0),Yl.set(this,(a,l)=>{if(xe(this,Ci,"f")===!1)return a;if(!l)throw new Xr("Invalid signature from replica signed query: no matching node key found.");const{status:c,signatures:u=[],requestId:d}=a,g=xn(new TextEncoder().encode("\vic-response"));for(const f of u){const{timestamp:p,identity:m}=f,j=Pe.fromUint8Array(m).toText();let R;if(c==="replied"){const{reply:C}=a;R=Tc({status:c,reply:C,timestamp:BigInt(p),request_id:d})}else if(c==="rejected"){const{reject_code:C,reject_message:W,error_code:H}=a;R=Tc({status:c,reject_code:C,reject_message:W,error_code:H,timestamp:BigInt(p),request_id:d})}else throw new Error(`Unknown status: ${c}`);const S=Mr(g,xn(new Uint8Array(R))),w=l==null?void 0:l.nodeKeys.get(j);if(!w)throw new Xr("Invalid signature from replica signed query: no matching node key found.");const _=Vv.fromDer(w).rawKey;if(hs.verify(f.signature,new Uint8Array(S),new Uint8Array(_)))return a;throw new Xr(`Invalid signature from replica ${j} signed query.`)}return a}),this.config=t,kt(this,dn,t.fetch||oj()||fetch.bind(global),"f"),kt(this,Os,t.fetchOptions,"f"),kt(this,Fo,t.callOptions,"f"),kt(this,Ks,(r=t.shouldFetchRootKey)!==null&&r!==void 0?r:!1,"f"),t.rootKey?this.rootKey=t.rootKey:xe(this,Ks,"f")?this.rootKey=null:this.rootKey=Sn(L6);const i=aj(t.host);this.host=new URL(i),t.verifyQuerySignatures!==void 0&&kt(this,Ci,t.verifyQuerySignatures,"f"),kt(this,Cr,(n=t.retryTimes)!==null&&n!==void 0?n:3,"f");const o=()=>new Su({maxIterations:xe(this,Cr,"f")});if(kt(this,Ni,t.backoffStrategy||o,"f"),this.host.hostname.endsWith(tj)?this.host.hostname=ej:this.host.hostname.endsWith(nj)?this.host.hostname=rj:this.host.hostname.endsWith(sj)&&(this.host.hostname=ij),t.credentials){const{name:a,password:l}=t.credentials;kt(this,Tr,`${a}${l?":"+l:""}`,"f")}if(kt(this,Yr,Promise.resolve(t.identity||new kc),"f"),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw new ut(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw new ut(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);kt(this,ji,t.ingressExpiryInMinutes||5,"f"),this.addTransform("update",xm(Jf)),t.useQueryNonces&&this.addTransform("query",xm(Jf)),t.logToConsole&&this.log.subscribe(a=>{a.level==="error"?console.error(a.message):a.level==="warn"?console.warn(a.message):console.log(a.message)})}get waterMark(){return xe(this,Po,"f")}static createSync(t={}){return new this(Object.assign({},t))}static async create(t={shouldFetchRootKey:!1}){const r=Ms.createSync(t),n=[r.syncTime()];return r.host.toString()!=="https://icp-api.io"&&t.shouldFetchRootKey&&n.push(r.fetchRootKey()),await Promise.all(n),r}static async from(t){var r;try{return"config"in t?await Ms.create(t.config):await Ms.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:(r=t._identity)!==null&&r!==void 0?r:void 0})}catch{throw new ut("Failed to create agent from provided agent")}}isLocal(){const t=this.host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,r,n=r.priority||0){if(t==="update"){const i=xe(this,ys,"f").findIndex(o=>(o.priority||0)<n);xe(this,ys,"f").splice(i>=0?i:xe(this,ys,"f").length,0,Object.assign(r,{priority:n}))}else if(t==="query"){const i=xe(this,gs,"f").findIndex(o=>(o.priority||0)<n);xe(this,gs,"f").splice(i>=0?i:xe(this,gs,"f").length,0,Object.assign(r,{priority:n}))}}async getPrincipal(){if(!xe(this,Yr,"f"))throw new ml("This identity has expired due this application's security policy. Please refresh your authentication.");return(await xe(this,Yr,"f")).getPrincipal()}async call(t,r,n){var i,o;await xe(this,Vt,"m",ki).call(this);const a=(i=r.callSync)!==null&&i!==void 0?i:!0,l=await(n!==void 0?await n:await xe(this,Yr,"f"));if(!l)throw new ml("This identity has expired due this application's security policy. Please refresh your authentication.");const c=Pe.from(t),u=r.effectiveCanisterId?Pe.from(r.effectiveCanisterId):c,d=l.getPrincipal()||Pe.anonymous();let g=new fl(xe(this,ji,"f")*pl);Math.abs(xe(this,ms,"f"))>1e3*30&&(g=new fl(xe(this,ji,"f")*pl+xe(this,ms,"f")));const f={request_type:Xf.Call,canister_id:c,method_name:r.methodName,arg:r.arg,sender:d,ingress_expiry:g};let p=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},xe(this,Tr,"f")?{Authorization:"Basic "+btoa(xe(this,Tr,"f"))}:{})},endpoint:"call",body:f}),m;r!=null&&r.nonce?m=j(r.nonce):p.body.nonce?m=j(p.body.nonce):m=void 0,f.nonce=m;function j(_){return new Uint8Array(_)}p=await l.transformRequest(p);const R=_d(p.body),S=xe(this,Ni,"f").call(this),w=ma(f);try{const _=()=>(this.log.print(`fetching "/api/v3/canister/${u.toText()}/call" with request:`,p),xe(this,dn,"f").call(this,""+new URL(`/api/v3/canister/${u.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,Fo,"f")),p.request),{body:R}))),O=()=>(this.log.print(`fetching "/api/v2/canister/${u.toText()}/call" with request:`,p),xe(this,dn,"f").call(this,""+new URL(`/api/v2/canister/${u.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,Fo,"f")),p.request),{body:R}))),W=await xe(this,Vt,"m",Kl).call(this,{request:a?_:O,backoff:S,tries:0}),H=await W.arrayBuffer(),F=W.status===200&&H.byteLength>0?vn(H):null;if(F&&"certificate"in F){const J=await this.parseTimeFromResponse({certificate:F.certificate});kt(this,Po,J,"f")}return{requestId:w,response:{ok:W.ok,status:W.status,statusText:W.statusText,body:F,headers:ko(W.headers)},requestDetails:f}}catch(_){if(_.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,Object.assign(Object.assign({},r),{callSync:!1}),n);const O=`Error while making call: ${(o=_.message)!==null&&o!==void 0?o:String(_)}`,C=new AN(O,_,tt(w),tt(p.body.sender_pubkey),tt(p.body.sender_sig),String(p.body.content.ingress_expiry._value));throw this.log.error(O,C),C}}async query(t,r,n){var i,o,a,l;await xe(this,Vt,"m",ki).call(this);const c=xe(this,Ni,"f").call(this),u=r.effectiveCanisterId?Pe.from(r.effectiveCanisterId):Pe.from(t);this.log.print(`ecid ${u.toString()}`),this.log.print(`canisterId ${t.toString()}`);let d,g;const f=await(n!==void 0?n:xe(this,Yr,"f"));if(!f)throw new ml("This identity has expired due this application's security policy. Please refresh your authentication.");const p=Pe.from(t),m=(f==null?void 0:f.getPrincipal())||Pe.anonymous(),j={request_type:"query",canister_id:p,method_name:r.methodName,arg:r.arg,sender:m,ingress_expiry:new fl(xe(this,ji,"f")*pl)},R=ma(j);d=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},xe(this,Tr,"f")?{Authorization:"Basic "+btoa(xe(this,Tr,"f"))}:{})},endpoint:"read",body:j}),d=await(f==null?void 0:f.transformRequest(d));const S=_d(d.body),w={canister:p.toText(),ecid:u,transformedRequest:d,body:S,requestId:R,backoff:c,tries:0},_=async()=>({requestDetails:j,query:await xe(this,Vt,"m",Kv).call(this,w)}),O=async()=>{if(!xe(this,Ci,"f"))return;const C=xe(this,Ti,"f").get(u.toString());return C||(await this.fetchSubnetKeys(u.toString()),xe(this,Ti,"f").get(u.toString()))};try{const[C,W]=await Promise.all([_(),O()]);g=C;const{requestDetails:H,query:F}=g,J=Object.assign(Object.assign({},F),{requestDetails:H});if(this.log.print("Query response:",J),!xe(this,Ci,"f"))return J;try{return xe(this,Yl,"f").call(this,J,W)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),xe(this,Ti,"f").delete(t.toString()),await this.fetchSubnetKeys(u.toString());const I=xe(this,Ti,"f").get(t.toString());if(!I)throw new Xr("Invalid signature from replica signed query: no matching node key found.");return xe(this,Yl,"f").call(this,J,I)}}catch(C){const W=`Error while making call: ${(i=C.message)!==null&&i!==void 0?i:String(C)}`,H=new RN(W,C,String(R),tt((o=d==null?void 0:d.body)===null||o===void 0?void 0:o.sender_pubkey),tt((a=d==null?void 0:d.body)===null||a===void 0?void 0:a.sender_sig),String((l=d==null?void 0:d.body)===null||l===void 0?void 0:l.content.ingress_expiry._value));throw this.log.error(W,H),H}}async createReadStateRequest(t,r){await xe(this,Vt,"m",ki).call(this);const n=await(r!==void 0?await r:await xe(this,Yr,"f"));if(!n)throw new ml("This identity has expired due this application's security policy. Please refresh your authentication.");const i=(n==null?void 0:n.getPrincipal())||Pe.anonymous(),o=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},xe(this,Tr,"f")?{Authorization:"Basic "+btoa(xe(this,Tr,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:i,ingress_expiry:new fl(xe(this,ji,"f")*pl)}});return n==null?void 0:n.transformRequest(o)}async readState(t,r,n,i){var o,a,l,c;function u(j){for(const R of j.paths){const[S,w]=R,_=xn(new TextEncoder().encode("request_status"));if(Fa(S,_))return w}}const d=u(r);await xe(this,Vt,"m",ki).call(this);const g=typeof t=="string"?Pe.fromText(t):t,f=i??await this.createReadStateRequest(r,n),p=_d(f.body);this.log.print(`fetching "/api/v2/canister/${g}/read_state" with request:`,f);const m=xe(this,Ni,"f").call(this);try{const j=await xe(this,Vt,"m",Kl).call(this,{request:()=>xe(this,dn,"f").call(this,""+new URL(`/api/v2/canister/${g.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,Os,"f")),f.request),{body:p})),backoff:m,tries:0});if(!j.ok)throw new Error(`Server returned an error:
  Code: ${j.status} (${j.statusText})
  Body: ${await j.text()}
`);const R=vn(await j.arrayBuffer());this.log.print("Read state response:",R);const S=await this.parseTimeFromResponse(R);return S>0&&(this.log.print("Read state response time:",S),kt(this,Po,S,"f")),R}catch(j){const R=`Caught exception while attempting to read state: ${(o=j.message)!==null&&o!==void 0?o:String(j)}`,S=new BN(R,j,String(d),tt((a=f==null?void 0:f.body)===null||a===void 0?void 0:a.sender_pubkey),tt((l=f==null?void 0:f.body)===null||l===void 0?void 0:l.sender_sig),String((c=f==null?void 0:f.body)===null||c===void 0?void 0:c.content.ingress_expiry._value));throw this.log.error(R,S),S}}async parseTimeFromResponse(t){let r;if(t.certificate){const n=vn(t.certificate);if(n&&"tree"in n)r=n.tree;else throw new Error("Could not decode time from response");const i=io(["time"],r);if(i.status!==wt.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(i.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(i))throw new Error("Time was not found in the response or was not in its expected format.");const o=k0(xn(i.value));return this.log.print("Time from response:",o),this.log.print("Time from response in milliseconds:",Number(o)),Number(o)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){await xe(this,Vt,"m",ki).call(this);const r=await j1(()=>Promise.resolve().then(()=>B6),void 0,import.meta.url),n=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const i=Ms.createSync({identity:new kc,host:this.host.toString(),fetch:xe(this,dn,"f"),retryTimes:0}),a=(await r.request({canisterId:t??Pe.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:i,paths:["time"]})).get("time");a&&(kt(this,ms,Number(a)-Number(n),"f"),this.log.notify({message:`Syncing time: offset of ${xe(this,ms,"f")}`,level:"info"}))}catch(i){this.log.error("Caught exception while attempting to sync time",i)}}async status(){const t=xe(this,Tr,"f")?{Authorization:"Basic "+btoa(xe(this,Tr,"f"))}:{};this.log.print('fetching "/api/v2/status"');const r=xe(this,Ni,"f").call(this),n=await xe(this,Vt,"m",Kl).call(this,{backoff:r,request:()=>xe(this,dn,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:t},xe(this,Os,"f"))),tries:0});return vn(await n.arrayBuffer())}async fetchRootKey(){let t;return xe(this,Si,"f")?t=await xe(this,Si,"f"):(kt(this,Si,new Promise((r,n)=>{this.status().then(i=>{const o=i.root_key;this.rootKey=o,r(o)}).catch(n)}),"f"),t=await xe(this,Si,"f")),kt(this,Si,null,"f"),t}invalidateIdentity(){kt(this,Yr,null,"f")}replaceIdentity(t){kt(this,Yr,Promise.resolve(t),"f")}async fetchSubnetKeys(t){await xe(this,Vt,"m",ki).call(this);const r=Pe.from(t),i=(await Bv({canisterId:r,paths:["subnet"],agent:this})).get("subnet");if(i&&typeof i=="object"&&"nodeKeys"in i)return xe(this,Ti,"f").set(r.toText(),i),i}_transform(t){let r=Promise.resolve(t);if(t.endpoint==="call")for(const n of xe(this,ys,"f"))r=r.then(i=>n(i).then(o=>o||i));else for(const n of xe(this,gs,"f"))r=r.then(i=>n(i).then(o=>o||i));return r}}Si=new WeakMap,Ks=new WeakMap,Yr=new WeakMap,dn=new WeakMap,Os=new WeakMap,Fo=new WeakMap,ms=new WeakMap,Tr=new WeakMap,Cr=new WeakMap,Ni=new WeakMap,ji=new WeakMap,Po=new WeakMap,gs=new WeakMap,ys=new WeakMap,Ti=new WeakMap,Ci=new WeakMap,Yl=new WeakMap,Vt=new WeakSet,Kv=async function e(t){var r,n;const{ecid:i,transformedRequest:o,body:a,requestId:l,backoff:c,tries:u}=t,d=u===0?0:c.next();if(this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:u,backoff:c,delay:d}),d===null)throw new ut(`Timestamp failed to pass the watermark after retrying the configured ${xe(this,Cr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);d>0&&await new Promise(m=>setTimeout(m,d));let g;try{this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,o);const m=await xe(this,dn,"f").call(this,""+new URL(`/api/v2/canister/${i.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,Os,"f")),o.request),{body:a}));if(m.status===200){const j=vn(await m.arrayBuffer());g=Object.assign(Object.assign({},j),{httpDetails:{ok:m.ok,status:m.status,statusText:m.statusText,headers:ko(m.headers)},requestId:l})}else throw new Ed(`Gateway returned an error:
  Code: ${m.status} (${m.statusText})
  Body: ${await m.text()}
`,{ok:m.ok,status:m.status,statusText:m.statusText,headers:ko(m.headers)})}catch(m){if(u<xe(this,Cr,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${m}
  Retrying query.`),await xe(this,Vt,"m",e).call(this,Object.assign(Object.assign({},t),{tries:u+1}));throw m}const f=(n=(r=g.signatures)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.timestamp;if(!xe(this,Ci,"f"))return g;if(!f)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const p=Number(BigInt(f)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:p}),Number(this.waterMark)>p){const m=new ut("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",m,{timestamp:f,waterMark:this.waterMark}),u<xe(this,Cr,"f"))return await xe(this,Vt,"m",e).call(this,Object.assign(Object.assign({},t),{tries:u+1}));throw new ut(`Timestamp failed to pass the watermark after retrying the configured ${xe(this,Cr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return g},Kl=async function e(t){const{request:r,backoff:n,tries:i}=t,o=i===0?0:n.next();if(o===null)throw new ut(`Timestamp failed to pass the watermark after retrying the configured ${xe(this,Cr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);o>0&&await new Promise(u=>setTimeout(u,o));let a;try{a=await r()}catch(u){if(xe(this,Cr,"f")>i)return this.log.warn(`Caught exception while attempting to make request:
  ${u}
  Retrying request.`),await xe(this,Vt,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw u}if(a.ok)return a;const l=await a.clone().text(),c=`Server returned an error:
  Code: ${a.status} (${a.statusText})
  Body: ${l}
`;if(a.status===404&&a.url.includes("api/v3"))throw new Ed("v3 api not supported. Fall back to v2",{ok:a.ok,status:a.status,statusText:a.statusText,headers:ko(a.headers)});if(i<xe(this,Cr,"f"))return await xe(this,Vt,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw new Ed(c,{ok:a.ok,status:a.status,statusText:a.statusText,headers:ko(a.headers)})},ki=async function(){if(!this.rootKey)if(this.rootKey===null&&xe(this,Ks,"f"))await this.fetchRootKey();else throw new ut(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${xe(this,Ks,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var Hm;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(Hm||(Hm={}));function Im(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const lj=5*60*1e3;function Yv(){return hj(uj(cj(),1e3),fj(1e3,1.2),dj(lj))}function cj(){let e=!0;return async()=>e?(e=!1,!0):!1}function uj(e,t){return async(r,n,i)=>{if(await e(r,n,i))return new Promise(o=>setTimeout(o,t))}}function dj(e){const t=Date.now()+e;return async(r,n,i)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${tt(n)}
  Request status: ${i}
`)}}function fj(e,t){let r=e;return()=>new Promise(n=>setTimeout(()=>{r*=t,n()},r))}function hj(...e){return async(t,r,n)=>{for(const i of e)await i(t,r,n)}}async function Qv(e,t,r,n=Yv(),i,o){var a;const l=[new TextEncoder().encode("request_status"),r],c=i??await((a=e.createReadStateRequest)===null||a===void 0?void 0:a.call(e,{paths:[l]})),u=await e.readState(t,{paths:[l]},void 0,c);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const d=await Wi.create({certificate:u.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:o}),g=xr(d.lookup([...l,new TextEncoder().encode("status")]));let f;switch(typeof g>"u"?f=fn.Unknown:f=new TextDecoder().decode(g),f){case fn.Replied:return{reply:xr(d.lookup([...l,"reply"])),certificate:d};case fn.Received:case fn.Unknown:case fn.Processing:return await n(t,r,f),Qv(e,t,r,n,c,o);case fn.Rejected:{const p=new Uint8Array(xr(d.lookup([...l,"reject_code"])))[0],m=new TextDecoder().decode(xr(d.lookup([...l,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${tt(r)}
  Reject code: ${p}
  Reject text: ${m}
`)}case fn.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${tt(r)}
`)}throw new Error("unreachable")}const pj=({IDL:e})=>{const t=e.Variant({mainnet:e.Null,testnet:e.Null}),r=e.Text,n=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),i=e.Nat64,o=i,a=e.Nat32,l=e.Record({start_height:a,end_height:e.Opt(a),network:t}),c=e.Vec(e.Nat8),u=e.Record({tip_height:a,block_headers:e.Vec(c)}),d=e.Record({network:t}),g=e.Nat64,f=e.Vec(g),p=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),m=e.Vec(e.Nat8),j=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),R=e.Record({height:e.Nat32,value:i,outpoint:j}),S=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:a,tip_block_hash:m,utxos:e.Vec(R)}),w=e.Record({transaction:e.Vec(e.Nat8),network:t}),_=e.Principal,O=e.Record({canister_id:_,num_requested_changes:e.Opt(e.Nat64)}),C=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),W=e.Vec(e.Nat8),H=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:W}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),F=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:C,details:H}),J=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(F),total_num_changes:e.Nat64}),U=e.Record({canister_id:_}),I=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),Y=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:I,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),N=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:Y,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),P=e.Record({canister_id:_}),G=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(I),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),D=e.Record({settings:e.Opt(G),sender_canister_version:e.Opt(e.Nat64)}),ie=e.Record({canister_id:_}),Q=e.Record({canister_id:_}),te=e.Record({canister_id:_,snapshot_id:W}),he=e.Record({canister_id:_}),ce=e.Variant({secp256k1:e.Null}),ue=e.Record({key_id:e.Record({name:e.Text,curve:ce}),canister_id:e.Opt(_),derivation_path:e.Vec(e.Vec(e.Nat8))}),_e=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),k=e.Record({canister_id:_}),ye=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),ve=e.Record({canister_log_records:e.Vec(ye)}),le=e.Record({value:e.Text,name:e.Text}),fe=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(le)}),me=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:fe})],[fe],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(le)}),A=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),z=e.Record({hash:e.Vec(e.Nat8)}),q=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:A,chunk_hashes_list:e.Vec(z),target_canister:_,store_canister:e.Opt(_),sender_canister_version:e.Opt(e.Nat64)}),ee=e.Vec(e.Nat8),Z=e.Record({arg:e.Vec(e.Nat8),wasm_module:ee,mode:A,canister_id:_,sender_canister_version:e.Opt(e.Nat64)}),ne=e.Record({canister_id:_}),b=e.Record({id:W,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),h=e.Vec(b),y=e.Record({canister_id:_,sender_canister_version:e.Opt(e.Nat64),snapshot_id:W}),T=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),B=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),K=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(B)})),se=e.Record({settings:e.Opt(G),specified_id:e.Opt(_),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),pe=e.Record({canister_id:_}),we=e.Record({canister_id:_,amount:e.Nat}),be=e.Vec(e.Nat8),Ae=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),E=e.Record({key_id:e.Record({algorithm:Ae,name:e.Text}),canister_id:e.Opt(_),derivation_path:e.Vec(e.Vec(e.Nat8))}),x=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),v=e.Record({key_id:e.Record({name:e.Text,curve:ce}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),$=e.Record({signature:e.Vec(e.Nat8)}),re=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),oe=e.Record({aux:e.Opt(re),key_id:e.Record({algorithm:Ae,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),ae=e.Record({signature:e.Vec(e.Nat8)}),je=e.Record({canister_id:_}),Re=e.Record({canister_id:_}),Ce=e.Record({canister_id:_}),Se=e.Vec(z),Fe=e.Record({subnet_id:e.Principal}),$e=e.Record({replica_version:e.Text}),Vr=e.Record({replace_snapshot:e.Opt(W),canister_id:_}),Wr=b,X=e.Record({canister_id:_,sender_canister_version:e.Opt(e.Nat64)}),V=e.Record({canister_id:e.Principal,settings:G,sender_canister_version:e.Opt(e.Nat64)}),de=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),Be=z;return e.Service({bitcoin_get_balance:e.Func([n],[o],[]),bitcoin_get_block_headers:e.Func([l],[u],[]),bitcoin_get_current_fee_percentiles:e.Func([d],[f],[]),bitcoin_get_utxos:e.Func([p],[S],[]),bitcoin_send_transaction:e.Func([w],[],[]),canister_info:e.Func([O],[J],[]),canister_status:e.Func([U],[N],[]),clear_chunk_store:e.Func([P],[],[]),create_canister:e.Func([D],[ie],[]),delete_canister:e.Func([Q],[],[]),delete_canister_snapshot:e.Func([te],[],[]),deposit_cycles:e.Func([he],[],[]),ecdsa_public_key:e.Func([ue],[_e],[]),fetch_canister_logs:e.Func([k],[ve],["query"]),http_request:e.Func([me],[fe],[]),install_chunked_code:e.Func([q],[],[]),install_code:e.Func([Z],[],[]),list_canister_snapshots:e.Func([ne],[h],[]),load_canister_snapshot:e.Func([y],[],[]),node_metrics_history:e.Func([T],[K],[]),provisional_create_canister_with_cycles:e.Func([se],[pe],[]),provisional_top_up_canister:e.Func([we],[],[]),raw_rand:e.Func([],[be],[]),schnorr_public_key:e.Func([E],[x],[]),sign_with_ecdsa:e.Func([v],[$],[]),sign_with_schnorr:e.Func([oe],[ae],[]),start_canister:e.Func([je],[],[]),stop_canister:e.Func([Re],[],[]),stored_chunks:e.Func([Ce],[Se],[]),subnet_info:e.Func([Fe],[$e],[]),take_canister_snapshot:e.Func([Vr],[Wr],[]),uninstall_code:e.Func([X],[],[]),update_settings:e.Func([V],[],[]),upload_chunk:e.Func([de],[Be],[])})};class Zv extends ut{constructor(t,r,n,i){super(["Call failed:",`  Canister: ${t.toText()}`,`  Method: ${r} (${n})`,...Object.getOwnPropertyNames(i).map(o=>`  "${o}": ${JSON.stringify(i[o])}`)].join(`
`)),this.canisterId=t,this.methodName=r,this.type=n,this.props=i}}class mj extends Zv{constructor(t,r,n){var i;super(t,r,"query",{Status:n.status,Code:(i=Wf[n.reject_code])!==null&&i!==void 0?i:`Unknown Code "${n.reject_code}"`,Message:n.reject_message}),this.result=n}}class Gm extends Zv{constructor(t,r,n,i,o,a,l){super(t,r,"update",Object.assign({"Request ID":tt(n)},i.body?Object.assign(Object.assign({},l?{"Error code":l}:{}),{"Reject code":String(o),"Reject message":a}):{"HTTP status code":i.status.toString(),"HTTP status text":i.statusText})),this.requestId=n,this.response=i,this.reject_code=o,this.reject_message=a,this.error_code=l}}const mr=Symbol.for("ic-agent-metadata");class Nu{constructor(t){this[mr]=Object.freeze(t)}static agentOf(t){return t[mr].config.agent}static interfaceOf(t){return t[mr].service}static canisterIdOf(t){return Pe.from(t[mr].config.canisterId)}static async install(t,r){const n=t.mode===void 0?{install:null}:t.mode,i=t.arg?[...new Uint8Array(t.arg)]:[],o=[...new Uint8Array(t.module)],a=typeof r.canisterId=="string"?Pe.fromText(r.canisterId):r.canisterId;await qm(r).install_code({mode:n,arg:i,wasm_module:o,canister_id:a,sender_canister_version:[]})}static async createCanister(t,r){function n(o){return[{controllers:o.controllers?[o.controllers]:[],compute_allocation:o.compute_allocation?[o.compute_allocation]:[],freezing_threshold:o.freezing_threshold?[o.freezing_threshold]:[],memory_allocation:o.memory_allocation?[o.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:i}=await qm(t||{}).provisional_create_canister_with_cycles({amount:[],settings:n(r||{}),specified_id:[],sender_canister_version:[]});return i}static async createAndInstallCanister(t,r,n){const i=await this.createCanister(n);return await this.install(Object.assign({},r),Object.assign(Object.assign({},n),{canisterId:i})),this.createActor(t,Object.assign(Object.assign({},n),{canisterId:i}))}static createActorClass(t,r){const n=t({IDL:TS});class i extends Nu{constructor(a){if(!a.canisterId)throw new ut(`Canister ID is required, but received ${typeof a.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const l=typeof a.canisterId=="string"?Pe.fromText(a.canisterId):a.canisterId;super({config:Object.assign(Object.assign(Object.assign({},Xv),a),{canisterId:l}),service:n});for(const[c,u]of n._fields)r!=null&&r.httpDetails&&u.annotations.push(nh),r!=null&&r.certificate&&u.annotations.push(Jv),this[c]=gj(this,c,u,a.blsVerify)}}return i}static createActor(t,r){if(!r.canisterId)throw new ut(`Canister ID is required, but received ${typeof r.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(r)}static createActorWithHttpDetails(t,r){return new(this.createActorClass(t,{httpDetails:!0}))(r)}static createActorWithExtendedDetails(t,r,n={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,n))(r)}}function ds(e,t){const r=fx(e,q1.Buffer.from(t));switch(r.length){case 0:return;case 1:return r[0];default:return r}}const Xv={pollingStrategyFactory:Yv},nh="http-details",Jv="certificate";function gj(e,t,r,n){let i;r.annotations.includes("query")||r.annotations.includes("composite_query")?i=async(a,...l)=>{var c,u;a=Object.assign(Object.assign({},a),(u=(c=e[mr].config).queryTransform)===null||u===void 0?void 0:u.call(c,t,l,Object.assign(Object.assign({},e[mr].config),a)));const d=a.agent||e[mr].config.agent||Im(),g=Pe.from(a.canisterId||e[mr].config.canisterId),f=Hf(r.argTypes,l),p=await d.query(g,{methodName:t,arg:f,effectiveCanisterId:a.effectiveCanisterId}),m=Object.assign(Object.assign({},p.httpDetails),{requestDetails:p.requestDetails});switch(p.status){case"rejected":throw new mj(g,t,p);case"replied":return r.annotations.includes(nh)?{httpDetails:m,result:ds(r.retTypes,p.reply.arg)}:ds(r.retTypes,p.reply.arg)}}:i=async(a,...l)=>{var c,u;a=Object.assign(Object.assign({},a),(u=(c=e[mr].config).callTransform)===null||u===void 0?void 0:u.call(c,t,l,Object.assign(Object.assign({},e[mr].config),a)));const d=a.agent||e[mr].config.agent||Im(),{canisterId:g,effectiveCanisterId:f,pollingStrategyFactory:p}=Object.assign(Object.assign(Object.assign({},Xv),e[mr].config),a),m=Pe.from(g),j=f!==void 0?Pe.from(f):m,R=Hf(r.argTypes,l),{requestId:S,response:w,requestDetails:_}=await d.call(m,{methodName:t,arg:R,effectiveCanisterId:j});let O,C;if(w.body&&w.body.certificate){if(d.rootKey==null)throw new Error("Agent is missing root key");const J=w.body.certificate;C=await Wi.create({certificate:Yi(J),rootKey:d.rootKey,canisterId:Pe.from(g),blsVerify:n});const U=[new TextEncoder().encode("request_status"),S];switch(new TextDecoder().decode(xr(C.lookup([...U,"status"])))){case"replied":O=xr(C.lookup([...U,"reply"]));break;case"rejected":{const Y=new Uint8Array(xr(C.lookup([...U,"reject_code"])))[0],N=new TextDecoder().decode(xr(C.lookup([...U,"reject_message"]))),P=xr(C.lookup([...U,"error_code"])),G=P?new TextDecoder().decode(P):void 0;throw new Gm(m,t,S,w,Y,N,G)}}}else if(w.body&&"reject_message"in w.body){const{reject_code:J,reject_message:U,error_code:I}=w.body;throw new Gm(m,t,S,w,J,U,I)}if(w.status===202){const J=p(),U=await Qv(d,j,S,J,n);C=U.certificate,O=U.reply}const W=r.annotations.includes(nh),H=r.annotations.includes(Jv),F=Object.assign(Object.assign({},w),{requestDetails:_});if(O!==void 0)return W&&H?{httpDetails:F,certificate:C,result:ds(r.retTypes,O)}:H?{certificate:C,result:ds(r.retTypes,O)}:W?{httpDetails:F,result:ds(r.retTypes,O)}:ds(r.retTypes,O);if(r.retTypes.length===0)return W?{httpDetails:w,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};const o=(...a)=>i({},...a);return o.withOptions=a=>(...l)=>i(a,...l),o}function qm(e){function t(r,n){if(e.effectiveCanisterId)return{effectiveCanisterId:Pe.from(e.effectiveCanisterId)};const i=n[0];let o=Pe.fromHex("");return i&&typeof i=="object"&&i.target_canister&&r==="install_chunked_code"&&(o=Pe.from(i.target_canister)),i&&typeof i=="object"&&i.canister_id&&(o=Pe.from(i.canister_id)),{effectiveCanisterId:o}}return Nu.createActor(pj,Object.assign(Object.assign(Object.assign({},e),{canisterId:Pe.fromHex("")}),{callTransform:t,queryTransform:t}))}var Oc=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},qn=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ql,Zl,xs,vs;function Km(e){return e!==null&&typeof e=="object"}class bn{constructor(t){if(Ql.set(this,void 0),Zl.set(this,void 0),t.byteLength!==bn.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Oc(this,Ql,xn(t),"f"),Oc(this,Zl,bn.derEncode(t),"f")}static from(t){if(typeof t=="string"){const r=Sn(t);return this.fromRaw(r)}else if(Km(t)){const r=t;if(Km(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){const n=r;return this.fromRaw(xn(n.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new bn(t)}static fromDer(t){return new bn(this.derDecode(t))}static derEncode(t){const r=Uv(t,Pc).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(t){const r=zv(t,Pc);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return xn(r)}get rawKey(){return qn(this,Ql,"f")}get derKey(){return qn(this,Zl,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}Ql=new WeakMap,Zl=new WeakMap;bn.RAW_KEY_LENGTH=32;class Ln extends _0{constructor(t,r){super(),xs.set(this,void 0),vs.set(this,void 0),Oc(this,xs,bn.from(t),"f"),Oc(this,vs,new Uint8Array(r),"f")}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=hs.utils.randomPrivateKey()),Fa(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const r=new Uint8Array(32);for(let i=0;i<32;i++)r[i]=new Uint8Array(t)[i];const n=hs.getPublicKey(r);return Ln.fromKeyPair(n,r)}static fromParsedJson(t){const[r,n]=t;return new Ln(bn.fromDer(Sn(r)),Sn(n))}static fromJSON(t){const r=JSON.parse(t);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,r){return new Ln(bn.fromRaw(t),r)}static fromSecretKey(t){const r=hs.getPublicKey(new Uint8Array(t));return Ln.fromKeyPair(r,t)}toJSON(){return[tt(qn(this,xs,"f").toDer()),tt(qn(this,vs,"f"))]}getKeyPair(){return{secretKey:qn(this,vs,"f"),publicKey:qn(this,xs,"f")}}getPublicKey(){return qn(this,xs,"f")}async sign(t){const r=new Uint8Array(t),n=Go(hs.sign(r,qn(this,vs,"f").slice(0,32)));return Object.defineProperty(n,"__signature__",{enumerable:!1,value:void 0}),n}static verify(t,r,n){const[i,o,a]=[t,r,n].map(l=>(typeof l=="string"&&(l=Sn(l)),l instanceof Uint8Array&&(l=xn(l.buffer)),new Uint8Array(l)));return hs.verify(i,o,a)}}xs=new WeakMap,vs=new WeakMap;class C0 extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,C0.prototype)}}function Ym(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new C0("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class Mc extends _0{constructor(t,r,n){super(),this._keyPair=t,this._derKey=r,this._subtleCrypto=n}static async generate(t){const{extractable:r=!1,keyUsages:n=["sign","verify"],subtleCrypto:i}=t??{},o=Ym(i),a=await o.generateKey({name:"ECDSA",namedCurve:"P-256"},r,n),l=await o.exportKey("spki",a.publicKey);return new this(a,l,o)}static async fromKeyPair(t,r){const n=Ym(r),i=await n.exportKey("spki",t.publicKey);return new Mc(t,i,n)}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return t},r}async sign(t){const r={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(r,this._keyPair.privateKey,t)}}var yj=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},fs=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},cn;class xj{constructor(t){cn.set(this,void 0),yj(this,cn,t,"f")}get rawKey(){return fs(this,cn,"f").rawKey}get derKey(){return fs(this,cn,"f").derKey}toDer(){return fs(this,cn,"f").toDer()}getPublicKey(){return fs(this,cn,"f")}getPrincipal(){if(!fs(this,cn,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return Pe.fromUint8Array(new Uint8Array(fs(this,cn,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}cn=new WeakMap;var vj=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},wj=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},bj=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Xl;const _j=new TextEncoder().encode("ic-request-auth-delegation"),Ej=new TextEncoder().encode(`
ic-request`);function Ud(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return Sn(e)}class A0{constructor(t,r,n){this.pubkey=t,this.expiration=r,this.targets=n}toCBOR(){return tr.value.map(Object.assign({pubkey:tr.value.bytes(this.pubkey),expiration:tr.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:tr.value.array(this.targets.map(t=>tr.value.bytes(Yi(t.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:tt(this.pubkey)},this.targets&&{targets:this.targets.map(t=>t.toHex())})}}async function Sj(e,t,r,n){const i=new A0(t.toDer(),BigInt(+r)*BigInt(1e6),n),o=new Uint8Array([..._j,...new Uint8Array(ma(Object.assign({},i)))]),a=await e.sign(Yi(o));return{delegation:i,signature:a}}class Uc{constructor(t,r){this.delegations=t,this.publicKey=r}static async create(t,r,n=new Date(Date.now()+15*60*1e3),i={}){var o,a;const l=await Sj(t,r,n,i.targets);return new Uc([...((o=i.previous)===null||o===void 0?void 0:o.delegations)||[],l],((a=i.previous)===null||a===void 0?void 0:a.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:r,delegations:n}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(n))throw new Error("Invalid delegations.");const i=n.map(o=>{const{delegation:a,signature:l}=o,{pubkey:c,expiration:u,targets:d}=a;if(d!==void 0&&!Array.isArray(d))throw new Error("Invalid targets.");return{delegation:new A0(Ud(c),BigInt("0x"+u),d&&d.map(g=>{if(typeof g!="string")throw new Error("Invalid target.");return Pe.fromHex(g)})),signature:Ud(l)}});return new this(i,Ud(r))}static fromDelegations(t,r){return new this(t,r)}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:r,signature:n}=t,{targets:i}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:tt(r.pubkey)},i&&{targets:i.map(o=>o.toHex())}),signature:tt(n)}}),publicKey:tt(this.publicKey)}}}class Qm extends _0{constructor(t,r){super(),this._inner=t,this._delegation=r}static fromDelegation(t,r){return new this(t,r)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:r}=t,n=bj(t,["body"]),i=await ma(r);return Object.assign(Object.assign({},n),{body:{content:r,sender_sig:await this.sign(Yi(new Uint8Array([...Ej,...new Uint8Array(i)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class zc extends xj{constructor(t,r){super(t),Xl.set(this,void 0),vj(this,Xl,r,"f")}get delegation(){return wj(this,Xl,"f")}static fromDelegation(t,r){return new zc(t,r)}}Xl=new WeakMap;function Nj(e,t){for(const{delegation:i}of e.delegations)if(+new Date(Number(i.expiration/BigInt(1e6)))<=+Date.now())return!1;const r=[],n=t==null?void 0:t.scope;n&&(Array.isArray(n)?r.push(...n.map(i=>typeof i=="string"?Pe.fromText(i):i)):r.push(typeof n=="string"?Pe.fromText(n):n));for(const i of r){const o=i.toText();for(const{delegation:a}of e.delegations){if(a.targets===void 0)continue;let l=!0;for(const c of a.targets)if(c.toText()===o){l=!1;break}if(l)return!1}}return!0}var Zm;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(Zm||(Zm={}));const Xm=["mousedown","mousemove","keydown","touchstart","wheel"];class Jm{constructor(t={}){var r;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:n,idleTimeout:i=10*60*1e3}=t||{};this.callbacks=n?[n]:[],this.idleTimeout=i;const o=this._resetTimer.bind(this);window.addEventListener("load",o,!0),Xm.forEach(function(l){document.addEventListener(l,o,!0)});const a=(l,c)=>{let u;return(...d)=>{const g=this,f=function(){u=void 0,l.apply(g,d)};clearTimeout(u),u=window.setTimeout(f,c)}};if(t!=null&&t.captureScroll){const l=a(o,(r=t==null?void 0:t.scrollDebounce)!==null&&r!==void 0?r:100);window.addEventListener("scroll",l,!0)}o()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);Xm.forEach(function(r){document.removeEventListener(r,t,!0)}),this.callbacks.forEach(r=>r())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const jj=(e,t)=>t.some(r=>e instanceof r);let Lm,Dm;function Tj(){return Lm||(Lm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kj(){return Dm||(Dm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lv=new WeakMap,ih=new WeakMap,Dv=new WeakMap,zd=new WeakMap,R0=new WeakMap;function Cj(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{r(li(e.result)),i()},a=()=>{n(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&Lv.set(r,e)}).catch(()=>{}),R0.set(t,e),t}function Aj(e){if(ih.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{r(),i()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});ih.set(e,t)}let sh={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return ih.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Dv.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return li(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Rj(e){sh=e(sh)}function Bj(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Vd(this),t,...r);return Dv.set(n,t.sort?t.sort():[t]),li(n)}:kj().includes(e)?function(...t){return e.apply(Vd(this),t),li(Lv.get(this))}:function(...t){return li(e.apply(Vd(this),t))}}function Fj(e){return typeof e=="function"?Bj(e):(e instanceof IDBTransaction&&Aj(e),jj(e,Tj())?new Proxy(e,sh):e)}function li(e){if(e instanceof IDBRequest)return Cj(e);if(zd.has(e))return zd.get(e);const t=Fj(e);return t!==e&&(zd.set(e,t),R0.set(t,e)),t}const Vd=e=>R0.get(e);function Pj(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),l=li(a);return n&&a.addEventListener("upgradeneeded",c=>{n(li(a.result),c.oldVersion,c.newVersion,li(a.transaction),c)}),r&&a.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Oj=["get","getKey","getAll","getAllKeys","count"],Mj=["put","add","delete","clear"],Wd=new Map;function eg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Wd.get(t))return Wd.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=Mj.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Oj.includes(r)))return;const o=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),i&&c.done]))[0]};return Wd.set(t,o),o}Rj(e=>({...e,get:(t,r,n)=>eg(t,r)||e.get(t,r,n),has:(t,r)=>!!eg(t,r)||e.has(t,r)}));const ew="auth-client-db",tw="ic-keyval",Uj=async(e=ew,t=tw,r)=>(rw&&(localStorage!=null&&localStorage.getItem(Zn))&&(localStorage.removeItem(Zn),localStorage.removeItem(Kn)),await Pj(e,r,{upgrade:n=>{n.objectStoreNames.contains(t)&&n.clear(t),n.createObjectStore(t)}}));async function zj(e,t,r){return await e.get(t,r)}async function Vj(e,t,r,n){return await e.put(t,n,r)}async function Wj(e,t,r){return await e.delete(t,r)}class B0{constructor(t,r){this._db=t,this._storeName=r}static async create(t){const{dbName:r=ew,storeName:n=tw,version:i=Gj}=t??{},o=await Uj(r,n,i);return new B0(o,n)}async set(t,r){return await Vj(this._db,this._storeName,t,r)}async get(t){var r;return(r=await zj(this._db,this._storeName,t))!==null&&r!==void 0?r:null}async remove(t){return await Wj(this._db,this._storeName,t)}}var $j=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Hj=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Jl;const Kn="identity",Zn="delegation",Ij="iv",Gj=1,rw=typeof window<"u";class qj{constructor(t="ic-",r){this.prefix=t,this._localStorage=r}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,r){return this._getLocalStorage().setItem(this.prefix+t,r),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}class Kj{constructor(t){Jl.set(this,void 0),$j(this,Jl,t??{},"f")}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}B0.create(Hj(this,Jl,"f")).then(r=>{this.initializedDb=r,t(r)})})}async get(t){return await(await this._db).get(t)}async set(t,r){await(await this._db).set(t,r)}async remove(t){await(await this._db).remove(t)}}Jl=new WeakMap;const Yj="https://identity.internetcomputer.org",Qj="#authorize",$d="ECDSA",Hd="Ed25519",Zj=500,Xj="UserInterrupt";class tg{constructor(t,r,n,i,o,a,l,c){this._identity=t,this._key=r,this._chain=n,this._storage=i,this.idleManager=o,this._createOptions=a,this._idpWindow=l,this._eventHandler=c,this._registerDefaultIdleCallback()}static async create(t={}){var r,n,i;const o=(r=t.storage)!==null&&r!==void 0?r:new Kj,a=(n=t.keyType)!==null&&n!==void 0?n:$d;let l=null;if(t.identity)l=t.identity;else{let g=await o.get(Kn);if(!g&&rw)try{const f=new qj,p=await f.get(Zn),m=await f.get(Kn);p&&m&&a===$d&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await o.set(Zn,p),await o.set(Kn,m),g=p,await f.remove(Zn),await f.remove(Kn))}catch(f){console.error("error while attempting to recover localstorage: "+f)}if(g)try{typeof g=="object"?a===Hd&&typeof g=="string"?l=await Ln.fromJSON(g):l=await Mc.fromKeyPair(g):typeof g=="string"&&(l=Ln.fromJSON(g))}catch{}}let c=new kc,u=null;if(l)try{const g=await o.get(Zn);if(typeof g=="object"&&g!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?c=t.identity:g&&(u=Uc.fromJSON(g),Nj(u)?"toDer"in l?c=zc.fromDelegation(l,u):c=Qm.fromDelegation(l,u):(await Id(o),l=null))}catch(g){console.error(g),await Id(o),l=null}let d;return!((i=t.idleOptions)===null||i===void 0)&&i.disableIdle?d=void 0:(u||t.identity)&&(d=Jm.create(t.idleOptions)),l||(a===Hd?(l=await Ln.generate(),await o.set(Kn,JSON.stringify(l.toJSON()))):(t.storage&&a===$d&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${Hd}' as the key type, as it can serialize to a string`),l=await Mc.generate(),await o.set(Kn,l.getKeyPair()))),new this(c,l,u,o,d,t)}_registerDefaultIdleCallback(){var t,r;const n=(t=this._createOptions)===null||t===void 0?void 0:t.idleOptions;!(n!=null&&n.onIdle)&&!(n!=null&&n.disableDefaultIdleCallback)&&((r=this.idleManager)===null||r===void 0||r.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,r){var n,i;const o=t.delegations.map(u=>({delegation:new A0(u.delegation.pubkey,u.delegation.expiration,u.delegation.targets),signature:u.signature.buffer})),a=Uc.fromDelegations(o,t.userPublicKey.buffer),l=this._key;if(!l)return;this._chain=a,"toDer"in l?this._identity=zc.fromDelegation(l,this._chain):this._identity=Qm.fromDelegation(l,this._chain),(n=this._idpWindow)===null||n===void 0||n.close();const c=(i=this._createOptions)===null||i===void 0?void 0:i.idleOptions;!this.idleManager&&!(c!=null&&c.disableIdle)&&(this.idleManager=Jm.create(c),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Zn,JSON.stringify(this._chain.toJSON())),r==null||r(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(t){var r,n,i,o;const a=BigInt(8)*BigInt(36e11),l=new URL(((r=t==null?void 0:t.identityProvider)===null||r===void 0?void 0:r.toString())||Yj);l.hash=Qj,(n=this._idpWindow)===null||n===void 0||n.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(l,Object.assign({maxTimeToLive:(i=t==null?void 0:t.maxTimeToLive)!==null&&i!==void 0?i:a},t)),window.addEventListener("message",this._eventHandler),this._idpWindow=(o=window.open(l.toString(),"idpWindow",t==null?void 0:t.windowOpenerFeatures))!==null&&o!==void 0?o:void 0;const c=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(Xj,t==null?void 0:t.onError):setTimeout(c,Zj))};c()}_getEventHandler(t,r){return async n=>{var i,o,a;if(n.origin!==t.origin)return;const l=n.data;switch(l.kind){case"authorize-ready":{const c=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((i=this._key)===null||i===void 0?void 0:i.getPublicKey().toDer()),maxTimeToLive:r==null?void 0:r.maxTimeToLive,allowPinAuthentication:r==null?void 0:r.allowPinAuthentication,derivationOrigin:(o=r==null?void 0:r.derivationOrigin)===null||o===void 0?void 0:o.toString()},r==null?void 0:r.customValues);(a=this._idpWindow)===null||a===void 0||a.postMessage(c,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(l,r==null?void 0:r.onSuccess)}catch(c){this._handleFailure(c.message,r==null?void 0:r.onError)}break;case"authorize-client-failure":this._handleFailure(l.text,r==null?void 0:r.onError);break}}}_handleFailure(t,r){var n;(n=this._idpWindow)===null||n===void 0||n.close(),r==null||r(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await Id(this._storage),this._identity=new kc,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function Id(e){await e.remove(Kn),await e.remove(Zn),await e.remove(Ij)}const Jj=({IDL:e})=>{const t=e.Principal,r=e.Record({id:e.Text,relationship:e.Text,userId:t,name:e.Text,createdAt:e.Int,email:e.Text,isVerified:e.Bool,verifiedAt:e.Opt(e.Int)}),n=e.Variant({ok:r,err:e.Text}),i=e.Variant({Equitel:e.Null,PayPal:e.Null,Card:e.Null,BankTransfer:e.Null,Custom:e.Null,Mpesa:e.Null,AirtelMoney:e.Null}),o=e.Record({id:e.Text,provider:i,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,isActive:e.Bool,accountName:e.Text,isDefault:e.Bool,accountNumber:e.Opt(e.Text),phoneNumber:e.Opt(e.Text)}),a=e.Variant({ok:o,err:e.Text}),l=e.Variant({Inactive:e.Null,Active:e.Null,Suspended:e.Null,Deprecated:e.Null,Pending:e.Null}),c=e.Variant({WriteWallets:e.Null,ReadTransactions:e.Null,ReadProfile:e.Null,ReadContacts:e.Null,WriteContacts:e.Null,Notifications:e.Null,WriteProfile:e.Null,WriteTransactions:e.Null,ReadWallets:e.Null,ExternalAPIs:e.Null}),u=e.Variant({Productivity:e.Null,Health:e.Null,Social:e.Null,Custom:e.Null,Entertainment:e.Null,Gaming:e.Null,Education:e.Null,Finance:e.Null}),d=e.Record({id:e.Text,status:l,permissions:e.Vec(c),isInstalled:e.Bool,metadata:e.Opt(e.Text),icon:e.Opt(e.Text),name:e.Text,createdAt:e.Int,description:e.Text,author:e.Text,version:e.Text,isEnabled:e.Bool,updatedAt:e.Int,installCount:e.Nat,configSchema:e.Opt(e.Text),entryPoint:e.Text,category:u,rating:e.Float64}),g=e.Variant({ok:d,err:e.Text}),f=e.Record({id:e.Text,methodType:e.Text,value:e.Text,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,isActive:e.Bool,isVerified:e.Bool,verifiedAt:e.Opt(e.Int)}),p=e.Variant({ok:f,err:e.Text}),m=e.Record({id:e.Text,question:e.Text,userId:t,createdAt:e.Int,isActive:e.Bool,answerHash:e.Text}),j=e.Variant({ok:e.Vec(m),err:e.Text}),R=e.Record({id:e.Text,expiresAt:e.Opt(e.Int),metadata:e.Opt(e.Text),userId:t,type:e.Text,gameId:e.Text,description:e.Text,claimedAt:e.Opt(e.Int),currency:e.Opt(e.Text),amount:e.Float64}),S=e.Variant({ok:R,err:e.Text}),w=e.Variant({ok:e.Float64,err:e.Text}),_=e.Variant({Failed:e.Null,Refunded:e.Null,Cancelled:e.Null,Processing:e.Null,Completed:e.Null,Pending:e.Null}),O=e.Record({id:e.Text,fee:e.Float64,status:_,completedAt:e.Opt(e.Int),provider:i,metadata:e.Opt(e.Text),userId:t,recipientPhone:e.Opt(e.Text),type:e.Text,reference:e.Opt(e.Text),currency:e.Text,timestamp:e.Int,amount:e.Float64,recipientName:e.Opt(e.Text)}),C=e.Variant({ok:O,err:e.Text}),W=e.Variant({Sonic:e.Null,Neutrinite:e.Null,InfinitySwap:e.Null,ICDex:e.Null,Custom:e.Null,ICPSwap:e.Null}),H=e.Variant({Swap:e.Null,Lending:e.Null,Custom:e.Null,Borrowing:e.Null,Governance:e.Null,Liquidity:e.Null,YieldFarming:e.Null,Staking:e.Null}),F=e.Record({id:e.Text,apy:e.Float64,protocol:W,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,productType:H,isActive:e.Bool,updatedAt:e.Int,tokenA:e.Text,tokenB:e.Opt(e.Text),rewards:e.Float64,amount:e.Float64}),J=e.Variant({ok:F,err:e.Text}),U=e.Variant({ok:e.Record({userId:e.Principal,instructions:e.Text}),err:e.Text}),I=e.Record({social:e.Bool,push:e.Bool,security:e.Bool,email:e.Bool,goals:e.Bool,transactions:e.Bool}),Y=e.Record({twoFactorEnabled:e.Bool,deviceTracking:e.Bool,loginNotifications:e.Bool}),N=e.Record({profileVisibility:e.Text,allowFriendRequests:e.Bool,transactionVisibility:e.Text}),P=e.Record({theme:e.Text,notifications:I,security:Y,language:e.Text,privacy:N,currency:e.Text}),G=e.Record({id:t,username:e.Text,displayName:e.Text,lastLoginAt:e.Opt(e.Int),createdAt:e.Int,isActive:e.Bool,email:e.Opt(e.Text),preferences:P,recoverySetupCompleted:e.Bool,loginAttempts:e.Nat,updatedAt:e.Int,isLocked:e.Bool,avatar:e.Opt(e.Text)}),D=e.Variant({ok:G,err:e.Text}),ie=e.Record({id:e.Text,lastUsedAt:e.Int,permissions:e.Vec(e.Text),userId:t,walletType:e.Text,isActive:e.Bool,connectedAt:e.Int,address:e.Opt(e.Text),principalId:e.Opt(e.Text)}),Q=e.Variant({ok:ie,err:e.Text}),te=e.Record({id:e.Text,endDate:e.Int,period:e.Text,userId:t,name:e.Text,isActive:e.Bool,spent:e.Float64,category:e.Text,amount:e.Float64,startDate:e.Int}),he=e.Variant({ok:te,err:e.Text}),ce=e.Record({id:e.Text,fee:e.Float64,status:e.Text,fromAddress:e.Opt(e.Text),metadata:e.Opt(e.Text),userId:t,type:e.Text,currency:e.Text,blockHeight:e.Opt(e.Nat),timestamp:e.Int,txHash:e.Opt(e.Text),toAddress:e.Opt(e.Text),amount:e.Float64,walletId:e.Text}),ue=e.Variant({ok:ce,err:e.Text}),_e=e.Variant({CAT:e.Null,ICP:e.Null,MOD:e.Null,NTN:e.Null,GHOST:e.Null,NANAS:e.Null,BOOM:e.Null,CHAT:e.Null,ELNA:e.Null,CKPEPE:e.Null,FIAT:e.Null,FOMO:e.Null,GLDT:e.Null,MEME:e.Null,NICP:e.Null,CYCLES:e.Null,SNS1:e.Null,TRAX:e.Null,YUGE:e.Null,PANDA:e.Null,PARTY:e.Null,ckBTC:e.Null,ckETH:e.Null,WUMBO:e.Null,OPENCHAT:e.Null,DKUMA:e.Null,DOGMI:e.Null,DSCVR:e.Null,KINIC:e.Null,ALPACALB:e.Null,MOTOKO:e.Null,DRAGGINZ:e.Null,DAMONIC:e.Null,CLOWN:e.Null,SHRIMP:e.Null,SEERS:e.Null,SNEED:e.Null,SONIC:e.Null}),k=e.Record({id:e.Text,balance:e.Float64,metadata:e.Opt(e.Text),userId:t,name:e.Text,createdAt:e.Int,isExternal:e.Bool,walletType:_e,isActive:e.Bool,updatedAt:e.Int,currency:e.Text,address:e.Opt(e.Text),lastSyncAt:e.Opt(e.Int),externalWalletType:e.Opt(e.Text)}),ye=e.Variant({ok:k,err:e.Text}),ve=e.Record({id:e.Text,title:e.Text,userId:t,createdAt:e.Int,description:e.Text,isActive:e.Bool,updatedAt:e.Int,isAchieved:e.Bool,targetAmount:e.Float64,currency:e.Text,targetDate:e.Opt(e.Int),category:e.Text,currentAmount:e.Float64}),le=e.Variant({ok:ve,err:e.Text}),fe=e.Variant({Investment:e.Null,Custom:e.Null,Business:e.Null,Travel:e.Null,Savings:e.Null,Charity:e.Null,Emergency:e.Null,Education:e.Null}),me=e.Record({id:e.Text,vaultType:fe,members:e.Vec(e.Text),ownerId:t,metadata:e.Opt(e.Text),name:e.Text,createdAt:e.Int,description:e.Opt(e.Text),isActive:e.Bool,updatedAt:e.Int,targetAmount:e.Opt(e.Float64),currency:e.Text,isPublic:e.Bool,totalBalance:e.Float64,rules:e.Opt(e.Text)}),A=e.Variant({ok:me,err:e.Text}),z=e.Variant({Paused:e.Null,Active:e.Null,Cancelled:e.Null,Completed:e.Null}),q=e.Variant({Prediction:e.Null,Quiz:e.Null,Tournament:e.Null,Trading:e.Null,Custom:e.Null,Lottery:e.Null,Challenge:e.Null}),ee=e.Record({id:e.Text,startTime:e.Int,status:z,endTime:e.Opt(e.Int),metadata:e.Opt(e.Text),currentParticipants:e.Nat,name:e.Text,createdAt:e.Int,createdBy:t,description:e.Text,updatedAt:e.Int,currency:e.Text,gameType:q,maxParticipants:e.Opt(e.Nat),isPublic:e.Bool,entryFee:e.Opt(e.Float64),rules:e.Opt(e.Text),prizePool:e.Float64}),Z=e.Variant({ok:ee,err:e.Text}),ne=e.Record({id:e.Text,status:e.Text,metadata:e.Opt(e.Text),userId:t,type:e.Text,description:e.Text,currency:e.Text,timestamp:e.Int,category:e.Text,amount:e.Float64,walletId:e.Text}),b=e.Variant({ok:ne,err:e.Text}),h=e.Record({id:e.Text,lastMessageAt:e.Opt(e.Int),metadata:e.Opt(e.Text),name:e.Text,createdAt:e.Int,memberCount:e.Nat,description:e.Opt(e.Text),isActive:e.Bool,updatedAt:e.Int,vaultId:e.Text}),y=e.Variant({ok:h,err:e.Text}),T=e.Record({id:e.Text,balance:e.Float64,userId:t,name:e.Text,createdAt:e.Int,type:e.Text,isActive:e.Bool,updatedAt:e.Int,currency:e.Text}),B=e.Variant({ok:T,err:e.Text}),K=e.Record({id:e.Text,status:e.Text,metadata:e.Opt(e.Text),userId:t,type:e.Text,description:e.Text,vaultId:e.Text,currency:e.Text,timestamp:e.Int,amount:e.Float64}),se=e.Variant({ok:K,err:e.Text}),pe=e.Record({id:e.Text,title:e.Text,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,type:e.Text,description:e.Text,actionable:e.Bool,confidence:e.Float64}),we=e.Variant({ok:e.Vec(pe),err:e.Text}),be=e.Record({id:e.Text,title:e.Text,estimatedImpact:e.Float64,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,description:e.Text,isImplemented:e.Bool,category:e.Text,priority:e.Text}),Ae=e.Variant({ok:e.Vec(be),err:e.Text}),E=e.Variant({ok:e.Text,err:e.Text}),x=e.Variant({ok:e.Record({implementedRecommendations:e.Nat,totalRecommendations:e.Nat,totalInsights:e.Nat,averageConfidence:e.Float64,totalMessages:e.Nat}),err:e.Text}),v=e.Variant({Error:e.Null,System:e.Null,User:e.Null,Assistant:e.Null}),$=e.Record({id:e.Text,content:e.Text,metadata:e.Opt(e.Text),userId:t,type:v,timestamp:e.Int}),re=e.Variant({ok:e.Vec($),err:e.Text}),oe=e.Variant({ok:e.Vec(ee),err:e.Text}),ae=e.Variant({ok:e.Record({activeWallets:e.Nat,monthlySpent:e.Float64,goalsProgress:e.Float64,totalBalance:e.Float64}),err:e.Text}),je=e.Variant({ok:e.Record({totalValue:e.Float64,totalRewards:e.Float64,averageApy:e.Float64,activeProtocols:e.Vec(e.Text),totalPositions:e.Nat}),err:e.Text}),Re=e.Variant({ok:e.Vec(F),err:e.Text}),Ce=e.Variant({ok:e.Record({totalVolume:e.Float64,averageApy:e.Float64,totalPositions:e.Nat,totalUsers:e.Nat}),err:e.Text}),Se=e.Record({id:e.Text,fee:e.Float64,protocol:W,status:e.Text,metadata:e.Opt(e.Text),userId:t,type:e.Text,amountA:e.Float64,amountB:e.Opt(e.Float64),tokenA:e.Text,tokenB:e.Opt(e.Text),timestamp:e.Int,txHash:e.Opt(e.Text)}),Fe=e.Variant({ok:e.Vec(Se),err:e.Text}),$e=e.Variant({ok:e.Vec(e.Tuple(e.Text,e.Text)),err:e.Text}),Vr=e.Record({cryptoWallets:e.Vec(k),externalConnections:e.Vec(ie),totalValueKES:e.Float64,totalValueUSD:e.Float64,userId:t,lastUpdated:e.Int,fiatWallets:e.Vec(T),defiPositions:e.Vec(F)}),Wr=e.Variant({ok:Vr,err:e.Text}),X=e.Record({id:e.Text,metadata:e.Opt(e.Text),userId:t,joinedAt:e.Int,rank:e.Opt(e.Nat),gameId:e.Text,isActive:e.Bool,score:e.Float64}),V=e.Variant({ok:e.Vec(X),err:e.Text}),de=e.Variant({ok:e.Record({topProvider:e.Opt(e.Text),successRate:e.Float64,totalFees:e.Float64,totalPayments:e.Nat,totalAmount:e.Float64}),err:e.Text}),Be=e.Variant({ok:e.Vec(O),err:e.Text}),et=e.Record({id:e.Text,status:e.Text,completedAt:e.Opt(e.Int),verificationCode:e.Opt(e.Text),expiresAt:e.Int,metadata:e.Opt(e.Text),userId:e.Opt(t),createdAt:e.Int,recoveryToken:e.Opt(e.Text),recoveryMethod:e.Text,identifier:e.Text,verifiedAt:e.Opt(e.Int)}),vi=e.Record({userName:e.Text,startedAt:e.Int,userId:t,isTyping:e.Bool}),Va=e.Variant({ok:e.Vec(vi),err:e.Text}),ns=e.Record({id:e.Text,action:e.Text,userId:e.Opt(t),timestamp:e.Int,details:e.Text,success:e.Bool,userAgent:e.Opt(e.Text),ipAddress:e.Opt(e.Text)}),gt=e.Variant({ok:e.Vec(ns),err:e.Text}),M0=e.Variant({ok:e.Vec(te),err:e.Text}),U0=e.Record({id:e.Text,title:e.Text,metadata:e.Opt(e.Text),body:e.Text,userId:t,notificationType:e.Text,isRead:e.Bool,vaultId:e.Text,timestamp:e.Int}),z0=e.Variant({ok:e.Vec(U0),err:e.Text}),Cu=e.Variant({ok:e.Vec(ce),err:e.Text}),Au=e.Variant({ok:e.Vec(k),err:e.Text}),Ru=e.Variant({ok:e.Vec(ie),err:e.Text}),Bu=e.Variant({ok:e.Vec(R),err:e.Text}),at=e.Variant({ok:e.Vec(ve),err:e.Text}),Fu=e.Variant({ok:e.Vec(me),err:e.Text}),Pu=e.Record({id:e.Text,service:e.Text,status:e.Text,deliveredAt:e.Opt(e.Int),expiresAt:e.Int,provider:e.Text,metadata:e.Opt(e.Text),code:e.Text,userId:e.Opt(t),createdAt:e.Int,recipient:e.Text,attempts:e.Nat,sentAt:e.Opt(e.Int),purpose:e.Text}),Ou=e.Variant({ok:e.Vec(Pu),err:e.Text}),Mu=e.Variant({ok:e.Vec(o),err:e.Text}),Uu=e.Variant({ok:e.Vec(f),err:e.Text}),zu=e.Variant({ok:e.Vec(ne),err:e.Text}),Vu=e.Variant({ok:e.Record({allAddresses:e.Vec(e.Text),principalId:e.Text,accountIdentifier:e.Text,cryptoAddresses:e.Vec(e.Tuple(e.Text,e.Text))}),err:e.Text}),Wu=e.Variant({ok:e.Vec(T),err:e.Text}),qe=e.Record({userName:e.Text,typingSince:e.Opt(e.Int),lastSeenAt:e.Int,userId:t,joinedAt:e.Int,role:e.Text,unreadCount:e.Nat,isMuted:e.Bool,isTyping:e.Bool}),$u=e.Variant({ok:e.Vec(qe),err:e.Text}),Wa=e.Record({id:e.Text,permissions:e.Vec(e.Text),userId:t,joinedAt:e.Int,role:e.Text,isActive:e.Bool,contributionLimit:e.Opt(e.Float64),vaultId:e.Text,withdrawalLimit:e.Opt(e.Float64)}),L=e.Variant({ok:e.Record({members:e.Vec(Wa),vault:me,transactions:e.Vec(K)}),err:e.Text}),Me=e.Variant({Failed:e.Null,Read:e.Null,Sent:e.Null,Delivered:e.Null}),Ue=e.Variant({System:e.Null,File:e.Null,Transaction:e.Null,Text:e.Null,Image:e.Null,Reaction:e.Null}),Oe=e.Record({userId:t,timestamp:e.Int,reaction:e.Text}),wi=e.Record({id:e.Text,status:Me,userName:e.Text,content:e.Text,metadata:e.Opt(e.Text),userId:t,messageType:Ue,vaultId:e.Text,timestamp:e.Int,replyTo:e.Opt(e.Text),editedAt:e.Opt(e.Int),reactions:e.Vec(Oe)}),bi=e.Variant({ok:e.Vec(wi),err:e.Text}),V0=e.Variant({ok:e.Record({recoveryRequestId:e.Text,message:e.Text,securityQuestions:e.Opt(e.Vec(e.Tuple(e.Text,e.Text)))}),err:e.Text}),W0=e.Variant({ok:Wa,err:e.Text}),$0=e.Variant({ok:X,err:e.Text}),ho=e.Variant({ok:e.Bool,err:e.Text}),Cw=e.Variant({ok:be,err:e.Text}),Aw=e.Variant({ok:Se,err:e.Text}),Rw=e.Variant({ok:$,err:e.Text}),Bw=e.Variant({ok:e.Record({expiresIn:e.Int,otpId:e.Text,message:e.Text}),err:e.Text}),Fw=e.Variant({ok:wi,err:e.Text}),Pw=e.Variant({ok:e.Record({verified:e.Bool,recipient:e.Text,purpose:e.Text}),err:e.Text});return e.Service({addEmergencyContact:e.Func([e.Text,e.Text,e.Text],[n],[]),addPaymentMethod:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Text,e.Bool],[a],[]),addPlugin:e.Func([d],[g],[]),addRecoveryMethod:e.Func([e.Text,e.Text,e.Opt(e.Text)],[p],[]),addSecurityQuestions:e.Func([e.Vec(e.Tuple(e.Text,e.Text))],[j],[]),awardGameReward:e.Func([e.Text,t,e.Text,e.Float64,e.Opt(e.Text),e.Text],[S],[]),calculateDefiRewards:e.Func([e.Text],[w],[]),cancelPayment:e.Func([e.Text],[C],[]),claimGameReward:e.Func([e.Text],[S],[]),closeDefiPosition:e.Func([e.Text],[J],[]),completeRecovery:e.Func([e.Text,e.Opt(e.Text)],[U],[]),completeRecoverySetup:e.Func([],[D],[]),connectExternalWallet:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Vec(e.Text)],[Q],[]),createBudget:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Int,e.Int],[he],[]),createCryptoTransaction:e.Func([e.Text,e.Text,e.Float64,e.Opt(e.Text),e.Opt(e.Text),e.Opt(e.Text),e.Float64],[ue],[]),createCryptoWallet:e.Func([e.Text,e.Text,e.Bool,e.Opt(e.Text),e.Opt(e.Text)],[ye],[]),createDeFiPosition:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text),e.Float64,e.Float64],[J],[]),createDefiPosition:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text),e.Float64,e.Float64],[J],[]),createGoal:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Opt(e.Int),e.Text],[le],[]),createGroupVault:e.Func([e.Text,e.Opt(e.Text),e.Text,e.Text,e.Opt(e.Float64),e.Bool,e.Opt(e.Text)],[A],[]),createSocialGame:e.Func([e.Text,e.Text,e.Text,e.Int,e.Opt(e.Int),e.Opt(e.Nat),e.Opt(e.Float64),e.Float64,e.Text,e.Opt(e.Text),e.Bool],[Z],[]),createTransaction:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Text],[b],[]),createUser:e.Func([e.Text,e.Text,e.Opt(e.Text)],[D],[]),createVaultChatRoom:e.Func([e.Text,e.Text,e.Opt(e.Text)],[y],[]),createWallet:e.Func([e.Text,e.Text,e.Text],[B],[]),depositToVault:e.Func([e.Text,e.Float64,e.Opt(e.Text)],[se],[]),endGame:e.Func([e.Text],[Z],[]),generateAIInsights:e.Func([],[we],[]),generateAIRecommendations:e.Func([],[Ae],[]),generateDepositAddress:e.Func([e.Text],[E],[]),getAIAnalytics:e.Func([],[x],[]),getAIConversationHistory:e.Func([],[re],[]),getAvailableGames:e.Func([],[oe],[]),getDashboardStats:e.Func([],[ae],["query"]),getDefiAnalytics:e.Func([],[je],[]),getDefiPositionsByProductType:e.Func([e.Text],[Re],[]),getDefiPositionsByProtocol:e.Func([e.Text],[Re],[]),getDefiProtocolStats:e.Func([e.Text],[Ce],[]),getDefiTransactionsByProtocol:e.Func([e.Text],[Fe],[]),getDepositAddress:e.Func([e.Text],[E],[]),getDepositAddresses:e.Func([],[$e],[]),getFullWalletPortfolio:e.Func([],[Wr],[]),getGameLeaderboard:e.Func([e.Text],[V],[]),getGamesByType:e.Func([e.Text],[oe],[]),getPaymentStats:e.Func([],[de],[]),getPaymentsByProvider:e.Func([e.Text],[Be],[]),getPrincipalId:e.Func([],[e.Text],["query"]),getRecoveryRequestStatus:e.Func([e.Text],[e.Opt(et)],["query"]),getSystemStats:e.Func([],[e.Record({totalExternalConnections:e.Nat,totalWallets:e.Nat,totalCryptoWallets:e.Nat,totalRecoveryRequests:e.Nat,totalOTPRequests:e.Nat,totalCryptoTransactions:e.Nat,totalUsers:e.Nat,totalRecoveryMethods:e.Nat,totalTransactions:e.Nat,totalDeFiPositions:e.Nat})],["query"]),getTypingIndicators:e.Func([e.Text],[Va],[]),getUser:e.Func([],[D],["query"]),getUserAIInsights:e.Func([],[we],[]),getUserAIRecommendations:e.Func([],[Ae],[]),getUserAuditLogs:e.Func([],[gt],[]),getUserBudgets:e.Func([],[M0],["query"]),getUserByEmail:e.Func([e.Text],[e.Opt(t)],["query"]),getUserByPhone:e.Func([e.Text],[e.Opt(t)],["query"]),getUserChatNotifications:e.Func([e.Nat,e.Nat],[z0],[]),getUserCryptoTransactions:e.Func([],[Cu],[]),getUserCryptoWallets:e.Func([],[Au],["query"]),getUserDeFiPositions:e.Func([],[Re],[]),getUserDefiPositions:e.Func([],[Re],[]),getUserDefiTransactions:e.Func([],[Fe],[]),getUserExternalConnections:e.Func([],[Ru],[]),getUserGameRewards:e.Func([],[Bu],[]),getUserGames:e.Func([],[oe],[]),getUserGoals:e.Func([],[at],["query"]),getUserGroupVaults:e.Func([],[Fu],[]),getUserOTPRequests:e.Func([],[Ou],[]),getUserPaymentHistory:e.Func([],[Be],[]),getUserPaymentMethods:e.Func([],[Mu],[]),getUserRecoveryMethods:e.Func([],[Uu],["query"]),getUserTransactions:e.Func([],[zu],["query"]),getUserWalletAddresses:e.Func([],[Vu],[]),getUserWallets:e.Func([],[Wu],["query"]),getVaultChatMembers:e.Func([e.Text],[$u],[]),getVaultDetails:e.Func([e.Text],[L],[]),getVaultMessages:e.Func([e.Text,e.Nat,e.Nat],[bi],[]),getWallet:e.Func([e.Text],[B],[]),getWalletByAddress:e.Func([e.Text],[e.Opt(e.Text)],["query"]),greet:e.Func([e.Text],[e.Text],["query"]),initiateLocalPayment:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Opt(e.Text)],[C],[]),initiateRecovery:e.Func([e.Text,e.Text],[V0],[]),inviteToVault:e.Func([e.Text,t,e.Text],[W0],[]),joinGame:e.Func([e.Text],[$0],[]),joinVault:e.Func([e.Text],[W0],[]),joinVaultChat:e.Func([e.Text,e.Text],[ho],[]),leaveVaultChat:e.Func([e.Text],[ho],[]),linkRecoveredAccount:e.Func([e.Text,e.Principal],[D],[]),loginOrCreateUser:e.Func([],[D],[]),markMessagesAsRead:e.Func([e.Text,e.Vec(e.Text)],[ho],[]),markRecommendationImplemented:e.Func([e.Text],[Cw],[]),processPayment:e.Func([e.Text],[C],[]),recordDefiTransaction:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text),e.Float64,e.Opt(e.Float64),e.Float64,e.Opt(e.Text)],[Aw],[]),regenerateWalletAddress:e.Func([e.Text],[E],[]),removePaymentMethod:e.Func([e.Text],[ho],[]),sendAIMessage:e.Func([e.Text],[Rw],[]),sendOTP:e.Func([e.Text,e.Text,e.Text,e.Text],[Bw],[]),sendVaultMessage:e.Func([e.Text,e.Text,Ue,e.Opt(e.Text)],[Fw],[]),sendVerificationCode:e.Func([e.Text,e.Text],[E],[]),updateCryptoWalletBalance:e.Func([e.Text,e.Float64],[ye],[]),updateDefiPosition:e.Func([e.Text,e.Float64,e.Float64,e.Float64],[J],[]),updateGameScore:e.Func([e.Text,e.Float64],[$0],[]),updateGoalProgress:e.Func([e.Text,e.Float64],[le],[]),updatePaymentMethod:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Text,e.Bool],[a],[]),updateTypingStatus:e.Func([e.Text,e.Bool],[ho],[]),updateUser:e.Func([e.Opt(e.Text),e.Opt(e.Text)],[D],[]),userExists:e.Func([],[e.Bool],[]),validateAddress:e.Func([e.Text,e.Text],[e.Bool],["query"]),verifyCode:e.Func([e.Text,e.Text,e.Text],[E],[]),verifyOTP:e.Func([e.Text,e.Text],[Pw],[]),verifyRecovery:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Vec(e.Tuple(e.Text,e.Text)))],[E],[]),verifyRecoveryMethod:e.Func([e.Text,e.Text,e.Text],[p],[]),withdrawFromVault:e.Func([e.Text,e.Float64,e.Opt(e.Text)],[se],[])})},Us=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"),Lj=()=>Us?{}.VITE_CANISTER_ID_NISTO_BACKEND||{}.CANISTER_ID_NISTO_BACKEND||"uxrrr-q7777-77774-qaaaq-cai":{}.VITE_CANISTER_ID_NISTO_BACKEND||"uxrrr-q7777-77774-qaaaq-cai",Dj=()=>{if(!Us)return"rdmx6-jaaaa-aaaaa-aaadq-cai";const e={}.VITE_INTERNET_IDENTITY_CANISTER_ID||{}.CANISTER_ID_INTERNET_IDENTITY;return e||"umunu-kh777-77774-qaaca-cai"},oh=Lj(),ah=Dj();console.log("Backend canister ID:",oh);console.log("Internet Identity canister ID:",ah);class nw{constructor(){this.authClient=null,this.actor=null,this.isAuthenticated=!1,this.identity=null,this.principal=null}async init(){try{console.log("Initializing BackendService..."),this.authClient=await tg.create();const t=await this.authClient.isAuthenticated();return console.log("User authentication status:",t),t&&(this.identity=this.authClient.getIdentity(),this.principal=this.identity.getPrincipal(),this.isAuthenticated=!0,console.log("User already authenticated with principal:",this.principal.toString())),await this.createActor(),this.isAuthenticated}catch(t){return console.error("Failed to initialize backend service:",t),!1}}async createActor(){try{console.log("Creating actor with canister ID:",oh),console.log("Using identity:",this.identity?"authenticated":"anonymous");const t=new Ms({identity:this.identity,host:Us?"http://localhost:4943":"https://ic0.app"});return Us&&(await t.fetchRootKey(),console.log("Root key fetched for local development")),this.actor=Nu.createActor(Jj,{agent:t,canisterId:oh}),console.log("Actor created successfully"),this.actor}catch(t){throw console.error("Failed to create actor:",t),t}}async ensureActor(){return this.actor||await this.createActor(),this.actor}async login(){try{return this.authClient||(this.authClient=await tg.create()),new Promise((t,r)=>{const n=Us?`http://${ah}.localhost:4943`:"https://identity.ic0.app";console.log("Initiating Internet Identity login with provider:",n),console.log("INTERNET_IDENTITY_CANISTER_ID value:",ah),console.log("isLocal value:",Us),this.authClient.login({identityProvider:n,onSuccess:async()=>{try{console.log("Internet Identity login successful"),this.identity=this.authClient.getIdentity(),this.principal=this.identity.getPrincipal(),this.isAuthenticated=!0,console.log("User principal:",this.principal.toString()),await this.createActor();const i=await this.loginOrCreateUser(),o={success:!0,user:i};t(o)}catch(i){console.error("Post-login setup failed:",i),r(i)}},onError:i=>{console.error("Internet Identity login failed:",i),r(i)}})})}catch(t){throw console.error("Login initialization failed:",t),t}}async logout(){this.authClient&&(await this.authClient.logout(),this.isAuthenticated=!1,this.identity=null,this.principal=null,this.actor=null)}async loginOrCreateUser(){try{const t=await this.actor.loginOrCreateUser();if(t.ok){const r={...t.ok,createdAt:t.ok.createdAt?t.ok.createdAt.toString():null,updatedAt:t.ok.updatedAt?t.ok.updatedAt.toString():null,lastLoginAt:t.ok.lastLoginAt?t.ok.lastLoginAt.toString():null};return r}else throw new Error(t.err)}catch(t){throw console.error("Login or create user failed:",t),t}}async getUser(){try{const t=await this.actor.getUser();if(t.ok){const r={...t.ok,createdAt:t.ok.createdAt?t.ok.createdAt.toString():null,updatedAt:t.ok.updatedAt?t.ok.updatedAt.toString():null,lastLoginAt:t.ok.lastLoginAt?t.ok.lastLoginAt.toString():null};return r}else throw new Error(t.err)}catch(t){throw console.error("Get user failed:",t),t}}async updateUser(t,r){try{const n=await this.actor.updateUser(t?[t]:[],r?[r]:[]);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Update user failed:",n),n}}async userExists(){try{return await this.actor.userExists()}catch(t){return console.error("User exists check failed:",t),!1}}async getPrincipalId(){try{return await this.actor.getPrincipalId()}catch(t){throw console.error("Get principal ID failed:",t),t}}async addRecoveryMethod(t,r,n=null){try{await this.ensureActor();const i=await this.actor.addRecoveryMethod(t,r,n?[n]:[]);if(i.ok)return i.ok;throw new Error(i.err)}catch(i){throw console.error("Add recovery method failed:",i),i}}async getUserRecoveryMethods(){try{await this.ensureActor();const t=await this.actor.getUserRecoveryMethods();if(t.ok){const r=t.ok.map(n=>({...n,createdAt:n.createdAt?n.createdAt.toString():null,verifiedAt:n.verifiedAt?n.verifiedAt.toString():null}));return r}else throw new Error(t.err)}catch(t){if(t.message&&(t.message.includes("has no query method")||t.message.includes("CanisterError")))return[];throw console.error("Get recovery methods failed:",t),t}}async addSecurityQuestions(t){try{const r=await this.actor.addSecurityQuestions(t);if(r.ok)return r.ok;throw new Error(r.err)}catch(r){throw console.error("Add security questions failed:",r),r}}async addEmergencyContact(t,r,n){try{const i=await this.actor.addEmergencyContact(t,r,n);if(i.ok)return i.ok;throw new Error(i.err)}catch(i){throw console.error("Add emergency contact failed:",i),i}}async completeRecoverySetup(){try{const t=await this.actor.completeRecoverySetup();if(t.ok)return t.ok;throw new Error(t.err)}catch(t){throw console.error("Complete recovery setup failed:",t),t}}async initiateRecovery(t,r){try{await this.ensureActor();const n=await this.actor.initiateRecovery(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Initiate recovery failed:",n),n}}async verifyRecovery(t,r,n){try{await this.ensureActor();const i=await this.actor.verifyRecovery(t,r?[r]:[],n?[n]:[]);if(i.ok)return i.ok;throw new Error(i.err)}catch(i){throw console.error("Verify recovery failed:",i),i}}async completeRecovery(t,r){try{await this.ensureActor();const n=await this.actor.completeRecovery(t,r?[r]:[]);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Complete recovery failed:",n),n}}async linkRecoveredAccount(t,r){try{await this.ensureActor();const n=await this.actor.linkRecoveredAccount(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Link recovered account failed:",n),n}}async createCryptoWallet(t,r,n,i=null,o=null){try{await this.ensureActor();const a=await this.actor.createCryptoWallet(t,r,n,i?[i]:[],o?[o]:[]);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Create crypto wallet failed:",a),a}}async getUserCryptoWallets(){try{await this.ensureActor();const t=await this.actor.getUserCryptoWallets();if(t.ok){const r=t.ok.map(n=>({...n,createdAt:n.createdAt?n.createdAt.toString():null,updatedAt:n.updatedAt?n.updatedAt.toString():null,lastSyncAt:n.lastSyncAt?n.lastSyncAt.toString():null}));return r}else throw new Error(t.err)}catch(t){if(t.message&&(t.message.includes("has no query method")||t.message.includes("CanisterError")))return[];throw console.error("Get user crypto wallets failed:",t),t}}async updateCryptoWalletBalance(t,r){try{await this.ensureActor();const n=await this.actor.updateCryptoWalletBalance(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Update crypto wallet balance failed:",n),n}}async sendVerificationCode(t,r){try{await this.ensureActor();const n=await this.actor.sendVerificationCode(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Send verification code failed:",n),n}}async verifyCode(t,r,n){try{await this.ensureActor();const i=await this.actor.verifyCode(t,r,n);if(i.ok)return i.ok;throw new Error(i.err)}catch(i){throw console.error("Verify code failed:",i),i}}async getRecoveryRequestStatus(t){try{return await this.ensureActor(),await this.actor.getRecoveryRequestStatus(t)}catch(r){throw console.error("Get recovery request status failed:",r),r}}async greet(t){try{return await this.actor.greet(t)}catch(r){throw console.error("Greet failed:",r),r}}async getUserPaymentMethods(){try{await this.ensureActor();const t=await this.actor.getUserPaymentMethods();if(t.ok)return t.ok;throw new Error(t.err)}catch(t){return console.error("Get user payment methods failed:",t),[]}}async addPaymentMethod(t,r,n,i,o){try{await this.ensureActor();const a=await this.actor.addPaymentMethod(t,r?[r]:[],n?[n]:[],i,o);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Add payment method failed:",a),a}}async updatePaymentMethod(t,r,n,i,o){try{await this.ensureActor();const a=await this.actor.updatePaymentMethod(t,r?[r]:[],n?[n]:[],i,o);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Update payment method failed:",a),a}}async removePaymentMethod(t){try{await this.ensureActor();const r=await this.actor.removePaymentMethod(t);if(r.ok)return r.ok;throw new Error(r.err)}catch(r){throw console.error("Remove payment method failed:",r),r}}async initiateLocalPayment(t,r,n,i,o,a,l){try{await this.ensureActor();const c=await this.actor.initiateLocalPayment(t,r,n,i,o?[o]:[],a?[a]:[],l?[l]:[]);if(c.ok)return c.ok;throw new Error(c.err)}catch(c){throw console.error("Initiate local payment failed:",c),c}}async getUserPaymentHistory(){try{await this.ensureActor();const t=await this.actor.getUserPaymentHistory();if(t.ok)return t.ok;throw new Error(t.err)}catch(t){return console.error("Get user payment history failed:",t),[]}}async getUserVaults(){await this.ensureActor();try{return await this.actor.getUserVaults()}catch(t){return console.error("Failed to get user vaults:",t),[]}}async getUserGroupVaults(){await this.ensureActor();try{return await this.actor.getUserGroupVaults()}catch(t){throw console.error("Failed to get user group vaults:",t),t}}async getPublicVaults(){await this.ensureActor();try{return await this.actor.getPublicVaults()}catch(t){throw console.error("Failed to get public vaults:",t),t}}async createVault(t,r,n,i,o,a,l,c){await this.ensureActor();try{return await this.actor.createVault(t,r,n,i,o,a,l,c)}catch(u){throw console.error("Failed to create vault:",u),u}}async createGroupVault(t,r,n,i,o,a,l){await this.ensureActor();try{return await this.actor.createGroupVault(t,r?[r]:[],n,i,o?[o]:[],a,l?[l]:[])}catch(c){throw console.error("Failed to create group vault:",c),c}}async joinGroupVault(t){await this.ensureActor();try{return await this.actor.joinVault(t)}catch(r){throw console.error("Failed to join group vault:",r),r}}async getVaultDetails(t){await this.ensureActor();try{return await this.actor.getVaultDetails(t)}catch(r){throw console.error("Failed to get vault details:",r),r}}async inviteVaultMember(t,r,n){await this.ensureActor();try{const i=await this.actor.inviteToVault(t,r,n);if(i.ok)return i;throw new Error(i.err)}catch(i){throw console.error("Failed to invite vault member:",i),i}}async toggleVaultPrivacy(t,r){await this.ensureActor();try{return{ok:{vaultId:t,isPublic:r}}}catch(n){throw console.error("Failed to toggle vault privacy:",n),n}}async removeVaultMember(t,r){await this.ensureActor();try{const n=await this.actor.removeMember(t,r);if(n.ok)return n;throw new Error(n.err)}catch(n){throw console.error("Failed to remove vault member:",n),n}}async changeVaultMemberRole(t,r,n){await this.ensureActor();try{const i=await this.actor.changeMemberRole(t,r,n);if(i.ok)return i;throw new Error(i.err)}catch(i){throw console.error("Failed to change vault member role:",i),i}}async editGroupVault(t,r){await this.ensureActor();try{return{ok:{vaultId:t,fields:r,updated:!0}}}catch(n){throw console.error("Failed to edit group vault:",n),n}}async depositToVault(t,r,n){await this.ensureActor();try{const i=await this.actor.depositToVault(t,parseFloat(r),n?[n]:[]);if(i.ok)return i;throw new Error(i.err)}catch(i){throw console.error("Failed to deposit to vault:",i),i}}async withdrawFromVault(t,r,n){await this.ensureActor();try{const i=await this.actor.withdrawFromVault(t,parseFloat(r),n?[n]:[]);if(i.ok)return i;throw new Error(i.err)}catch(i){throw console.error("Failed to withdraw from vault:",i),i}}async deleteGroupVault(t){await this.ensureActor();try{return{ok:{vaultId:t,deleted:!0}}}catch(r){throw console.error("Failed to delete group vault:",r),r}}async proposeVaultAction(t,r,n=null,i=null){await this.ensureActor();try{return{ok:{vaultId:t,actionType:r,targetId:n,newRole:i,proposed:!0}}}catch(o){throw console.error("Failed to propose vault action:",o),o}}async voteVaultAction(t,r){await this.ensureActor();try{return{ok:{proposalId:t,approve:r,voted:!0}}}catch(n){throw console.error("Failed to vote vault action:",n),n}}async appealVaultAction(t,r){await this.ensureActor();try{return{ok:{proposalId:t,reason:r,appealed:!0}}}catch(n){throw console.error("Failed to appeal vault action:",n),n}}async getVaultProposals(t){await this.ensureActor();try{return{ok:[]}}catch(r){throw console.error("Failed to get vault proposals:",r),r}}async createVaultChatRoom(t,r,n=null){try{return await this.ensureActor(),await this.actor.createVaultChatRoom(t,r,n?[n]:[])}catch(i){throw console.error("Failed to create vault chat room:",i),i}}async joinVaultChat(t,r){try{return await this.ensureActor(),await this.actor.joinVaultChat(t,r)}catch(n){throw console.error("Failed to join vault chat:",n),n}}async sendVaultMessage(t,r,n="Text",i=null){try{await this.ensureActor();let o;switch(n){case"Text":o={Text:null};break;case"System":o={System:null};break;case"Transaction":o={Transaction:null};break;case"Image":o={Image:null};break;case"File":o={File:null};break;case"Reaction":o={Reaction:null};break;default:o={Text:null}}return await this.actor.sendVaultMessage(t,r,o,i?[i]:[])}catch(o){throw console.error("Failed to send vault message:",o),o}}async getVaultMessages(t,r=50,n=0){var i;try{return await this.ensureActor(),console.log("Getting vault messages for vaultId:",t),console.log("Current principal:",(i=this.principal)==null?void 0:i.toString()),console.log("Is authenticated:",this.isAuthenticated),await this.actor.getVaultMessages(t,r,n)}catch(o){throw console.error("Failed to get vault messages:",o),o}}async updateTypingStatus(t,r){try{return await this.ensureActor(),await this.actor.updateTypingStatus(t,r)}catch(n){throw console.error("Failed to update typing status:",n),n}}async getTypingIndicators(t){try{return await this.ensureActor(),await this.actor.getTypingIndicators(t)}catch(r){throw console.error("Failed to get typing indicators:",r),r}}async markMessagesAsRead(t,r){try{return await this.ensureActor(),await this.actor.markMessagesAsRead(t,r)}catch(n){throw console.error("Failed to mark messages as read:",n),n}}async getUserChatNotifications(t=20,r=0){try{return await this.ensureActor(),await this.actor.getUserChatNotifications(t,r)}catch(n){throw console.error("Failed to get user chat notifications:",n),n}}async leaveVaultChat(t){try{return await this.ensureActor(),await this.actor.leaveVaultChat(t)}catch(r){throw console.error("Failed to leave vault chat:",r),r}}async getVaultChatMembers(t){try{return await this.ensureActor(),await this.actor.getVaultChatMembers(t)}catch(r){throw console.error("Failed to get vault chat members:",r),r}}}const iw=M.createContext();function e8({children:e}){const[t,r]=M.useState(null),[n,i]=M.useState(null),[o,a]=M.useState(!1),[l,c]=M.useState(!0),[u,d]=M.useState([]),[g,f]=M.useState([]),p=Ge.useRef(new nw).current;M.useEffect(()=>{(async()=>{c(!0);try{const fe=await p.init();a(fe),fe&&(await m(),await S(),await w()),i(p.principal?p.principal.toString():null)}catch{a(!1),r(null)}finally{c(!1)}})()},[]);const m=M.useCallback(async()=>{try{const le=await p.getUser();r(le)}catch{r(null)}},[p]),j=M.useCallback(async()=>{c(!0);try{const le=await p.login();return a(!0),i(p.principal?p.principal.toString():null),await m(),await S(),await w(),le}finally{c(!1)}},[p,m]),R=M.useCallback(async()=>{c(!0);try{await p.logout(),a(!1),r(null),i(null),d([]),f([])}finally{c(!1)}},[p]),S=M.useCallback(async()=>{try{const le=await p.getUserRecoveryMethods();d(le||[])}catch{d([])}},[p]),w=M.useCallback(async()=>{try{const le=await p.getUserCryptoWallets();f(le||[])}catch{f([])}},[p]),_=M.useCallback(async(...le)=>p.completeRecoverySetup(...le),[p]),O=M.useCallback(async(...le)=>p.initiateRecovery(...le),[p]),C=M.useCallback(async(...le)=>p.verifyRecovery(...le),[p]),W=M.useCallback(async(...le)=>p.completeRecovery(...le),[p]),H=M.useCallback(async(...le)=>p.linkRecoveredAccount(...le),[p]),F=M.useCallback(async(le,fe)=>p.updateCryptoWalletBalance(le,fe),[p]),J=M.useCallback(async()=>{try{const le=await p.getUserGroupVaults();return le.ok?le.ok:(console.error("Failed to get user group vaults:",le.err),[])}catch(le){return console.error("Failed to get user group vaults:",le),[]}},[p]),U=M.useCallback(async()=>{try{const le=await p.getPublicVaults();return le.ok?le.ok:(console.error("Failed to get public vaults:",le.err),[])}catch(le){return console.error("Failed to get public vaults:",le),[]}},[p]),I=M.useCallback(async(le,fe,me,A,z,q,ee)=>p.createGroupVault(le,fe,me,A,z,q,ee),[p]),Y=M.useCallback(async le=>p.joinGroupVault(le),[p]),N=M.useCallback(async le=>p.getVaultDetails(le),[p]),P=M.useCallback(async(le,fe,me)=>p.inviteVaultMember(le,fe,me),[p]),G=M.useCallback(async(le,fe)=>p.toggleVaultPrivacy(le,fe),[p]),D=M.useCallback(async(le,fe)=>p.removeVaultMember(le,fe),[p]),ie=M.useCallback(async(le,fe,me)=>p.changeVaultMemberRole(le,fe,me),[p]),Q=M.useCallback(async(le,fe)=>p.editGroupVault(le,fe),[p]),te=M.useCallback(async(le,fe,me)=>p.depositToVault(le,fe,me),[p]),he=M.useCallback(async(le,fe,me)=>p.withdrawFromVault(le,fe,me),[p]),ce=M.useCallback(async le=>p.deleteGroupVault(le),[p]),ue=M.useCallback(async(le,fe,me=null,A=null)=>p.proposeVaultAction(le,fe,me,A),[p]),_e=M.useCallback(async(le,fe)=>p.voteVaultAction(le,fe),[p]),k=M.useCallback(async(le,fe)=>p.appealVaultAction(le,fe),[p]),ye=M.useCallback(async le=>p.getVaultProposals(le),[p]),ve={user:t,principal:n,isAuthenticated:o,isLoading:l,login:j,logout:R,completeRecoverySetup:_,recoveryMethods:u,cryptoWallets:g,refreshRecoveryMethods:S,refreshCryptoWallets:w,initiateRecovery:O,verifyRecovery:C,completeRecovery:W,linkRecoveredAccount:H,updateCryptoWalletBalance:F,getUserGroupVaults:J,getPublicVaults:U,createGroupVault:I,joinGroupVault:Y,getVaultDetails:N,inviteVaultMember:P,toggleVaultPrivacy:G,removeVaultMember:D,changeVaultMemberRole:ie,editGroupVault:Q,depositToVault:te,withdrawFromVault:he,deleteGroupVault:ce,proposeVaultAction:ue,voteVaultAction:_e,appealVaultAction:k,getVaultProposals:ye};return s.jsx(iw.Provider,{value:ve,children:e})}function Jt(){return M.useContext(iw)}var sw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rg=Ge.createContext&&Ge.createContext(sw),t8=["attr","size","title"];function r8(e,t){if(e==null)return{};var r=n8(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(this,arguments)}function ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(r),!0).forEach(function(n){i8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i8(e,t,r){return t=s8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=o8(e,"string");return typeof t=="symbol"?t:t+""}function o8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ow(e){return e&&e.map((t,r)=>Ge.createElement(t.tag,Wc({key:r},t.attr),ow(t.child)))}function ke(e){return t=>Ge.createElement(a8,Vc({attr:Wc({},e.attr)},t),ow(e.child))}function a8(e){var t=r=>{var{attr:n,size:i,title:o}=e,a=r8(e,t8),l=i||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Ge.createElement("svg",Vc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:c,style:Wc(Wc({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&Ge.createElement("title",null,o),e.children)};return rg!==void 0?Ge.createElement(rg.Consumer,null,r=>t(r)):t(sw)}function ci(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function qo(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"8 12 12 16 16 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]}]})(e)}function l8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function Ko(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"16 12 12 8 8 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"8"},child:[]}]})(e)}function aw(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function lw(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function cw(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function Xe(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function ig(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function c8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function u8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function sg(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function d8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function F0(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function Yo(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function f8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function $c(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function h8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function og(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(e)}function uw(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function p8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function m8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function dw(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function ju(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function lh(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function Hc(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function ag(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Ic(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function g8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"polyline",attr:{points:"9 21 3 21 3 15"},child:[]},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(e)}function y8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(e)}function x8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function lg(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(e)}function P0(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function v8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function ba(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function cg(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function ug(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function fw(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function Fr(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function w8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function b8(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function hw(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function Ll(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Tu(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function ch(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(e)}function O0(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function Qo(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function ku(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function ui(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function Ie(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function uh(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const _8=[{value:"email",label:"Email",icon:s.jsx(Ic,{})},{value:"phone",label:"Phone",icon:s.jsx(P0,{})},{value:"security",label:"Security Questions",icon:s.jsx(ju,{})},{value:"emergency",label:"Emergency Contact",icon:s.jsx(O0,{})}];function E8({isOpen:e,onClose:t,onRecoveryComplete:r}){const{initiateRecovery:n,verifyRecovery:i,completeRecovery:o,linkRecoveredAccount:a}=Jt(),{showToast:l}=gi(),[c,u]=M.useState(1),[d,g]=M.useState("email"),[f,p]=M.useState(""),[m,j]=M.useState(null),[R,S]=M.useState([]),[w,_]=M.useState([]),[O,C]=M.useState(""),[W,H]=M.useState(null),[F,J]=M.useState(""),[U,I]=M.useState(!1);if(!e)return null;const Y=async G=>{G.preventDefault(),I(!0);try{const D=await n(f,d);j(D.recoveryRequestId),D.securityQuestions?(S(D.securityQuestions),_(D.securityQuestions.map(()=>"")),u(3)):u(2),l({message:D.message,type:"info",icon:s.jsx(Xe,{})})}catch(D){l({message:D.message||"Failed to initiate recovery",type:"error",icon:s.jsx(ci,{})})}finally{I(!1)}},N=async G=>{G.preventDefault(),I(!0);try{let D=null;d==="security"&&(D=R.map((Q,te)=>[Q[0],w[te]]));const ie=await i(m,O||null,D);H(ie),u(4),l({message:"Verification successful",type:"success",icon:s.jsx(Xe,{})})}catch(D){l({message:D.message||"Verification failed",type:"error",icon:s.jsx(ci,{})})}finally{I(!1)}},P=async G=>{G.preventDefault(),I(!0);try{const D=await o(W,"Recovered device");J(D.instructions),u(5),l({message:"Account recovery completed",type:"success",icon:s.jsx(Xe,{})}),r&&r(D.instructions)}catch(D){l({message:D.message||"Failed to complete recovery",type:"error",icon:s.jsx(ci,{})})}finally{I(!1)}};return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"account-recovery-modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h2",{children:[s.jsx(ju,{})," Account Recovery"]}),s.jsx("button",{className:"modal-close",onClick:t,children:"×"})]}),s.jsxs("div",{className:"modal-content",children:[c===1&&s.jsxs("form",{onSubmit:Y,className:"recovery-form",children:[s.jsx("label",{children:"Choose recovery method:"}),s.jsx("select",{value:d,onChange:G=>g(G.target.value),children:_8.map(G=>s.jsx("option",{value:G.value,children:G.label},G.value))}),s.jsx("input",{type:"text",placeholder:d==="phone"?"Enter phone number":"Enter email/identifier",value:f,onChange:G=>p(G.target.value),required:!0}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:U,children:"Start Recovery"})]}),c===2&&s.jsxs("form",{onSubmit:N,className:"recovery-form",children:[s.jsxs("label",{children:["Enter the verification code sent to your ",d,":"]}),s.jsx("input",{type:"text",placeholder:"Verification code",value:O,onChange:G=>C(G.target.value),required:!0}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:U,children:"Verify"})]}),c===3&&s.jsxs("form",{onSubmit:N,className:"recovery-form",children:[s.jsx("label",{children:"Answer your security questions:"}),R.map((G,D)=>s.jsxs("div",{className:"security-question-row",children:[s.jsx("span",{children:G[1]}),s.jsx("input",{type:"text",placeholder:"Your answer",value:w[D],onChange:ie=>_(Q=>Q.map((te,he)=>he===D?ie.target.value:te)),required:!0})]},G[0])),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:U,children:"Verify"})]}),c===4&&s.jsxs("form",{onSubmit:P,className:"recovery-form",children:[s.jsx("label",{children:"Recovery verified! Complete recovery to regain access."}),s.jsx("button",{type:"submit",className:"btn btn-success",disabled:U,children:"Complete Recovery"})]}),c===5&&s.jsxs("div",{className:"recovery-complete",children:[s.jsx(Xe,{className:"success-icon"}),s.jsx("h3",{children:"Account Recovery Complete"}),s.jsx("p",{children:F}),s.jsx("button",{className:"btn btn-primary",onClick:t,children:"Close"})]})]})]})})}function S8({isOpen:e,onClose:t}){const{login:r,isLoading:n}=Jt(),i=lu(),[o,a]=M.useState(!1);if(!e)return null;const l=async()=>{try{await r(),t(),i("/dashboard")}catch(d){console.error("Login failed:",d)}},c=d=>{d.target===d.currentTarget&&t()},u=d=>{a(!1),alert("Recovery instructions: "+d),t()};return s.jsxs("div",{className:"modal-overlay",onClick:c,children:[s.jsxs("div",{className:"login-modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Sign in to Nisto"}),s.jsx("button",{className:"modal-close",onClick:t,children:"×"})]}),s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"login-info",children:[s.jsx("div",{className:"info-icon",children:"🔐"}),s.jsx("p",{children:"Use your Internet Identity to securely access your Nisto account"})]}),s.jsx("button",{className:"btn btn-primary btn-lg login-btn",onClick:l,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"loading-spinner"}),s.jsx("span",{children:"Connecting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"btn-icon",children:"🌐"}),s.jsx("span",{children:"Sign in with Internet Identity"})]})}),s.jsxs("div",{className:"login-help",children:[s.jsxs("p",{children:["Don't have an Internet Identity?"," ",s.jsx("a",{href:"https://identity.ic0.app",target:"_blank",rel:"noopener noreferrer",children:"Create one here"})]}),s.jsxs("p",{children:["Lost access to your Internet Identity?"," ",s.jsx("button",{className:"btn-link",onClick:()=>a(!0),children:"Recover your account"})]})]})]})]}),s.jsx(E8,{isOpen:o,onClose:()=>a(!1),onRecoveryComplete:u})]})}function N8(){const{isAuthenticated:e,user:t,login:r,logout:n,isLoading:i}=Jt(),[o,a]=M.useState(!1),[l,c]=M.useState(0),[u,d]=M.useState(!1),g=lu(),[f,p]=M.useState({email:"",role:"user",interests:[]});M.useEffect(()=>{const R=()=>c(window.scrollY);return window.addEventListener("scroll",R),()=>window.removeEventListener("scroll",R)},[]),M.useEffect(()=>{e&&!i&&g("/dashboard")},[e,i,g]);const m=async R=>{R.preventDefault(),alert(`Thank you ${f.email}! You've been added to our waiting list. We'll notify you when Nisto launches!`),p({email:"",role:"user",interests:[]})},j=()=>{e?g("/dashboard"):d(!0)};return s.jsxs("div",{className:"landing-page",children:[s.jsx("nav",{className:`main-nav ${l>50?"nav-scrolled":""}`,children:s.jsxs("div",{className:"nav-container",children:[s.jsxs("div",{className:"nav-content",children:[s.jsxs("div",{className:"nav-brand",children:[s.jsx("div",{className:"brand-logo",children:s.jsx("span",{className:"logo-text",children:"N"})}),s.jsx("span",{className:"brand-name",children:"Nisto"})]}),s.jsxs("div",{className:"nav-links-desktop",children:[s.jsx("a",{href:"#features",className:"nav-link",children:"Features"}),s.jsx("a",{href:"#extension",className:"nav-link",children:"Extension"}),s.jsx("a",{href:"#miniapps",className:"nav-link",children:"Mini-Apps"}),s.jsx("a",{href:"#developers",className:"nav-link",children:"Developers"}),s.jsx("a",{href:"#tokenomics",className:"nav-link",children:"Tokenomics"}),!e&&s.jsx("div",{className:"nav-auth-buttons",children:s.jsx("button",{onClick:j,className:"btn btn-primary nav-cta",disabled:i,children:i?"Loading...":"Launch App"})})]}),s.jsxs("button",{className:"mobile-menu-toggle",onClick:()=>a(!o),children:[s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{})]})]}),o&&s.jsxs("div",{className:"mobile-menu",children:[s.jsx("a",{href:"#features",className:"mobile-nav-link",onClick:()=>a(!1),children:"Features"}),s.jsx("a",{href:"#extension",className:"mobile-nav-link",onClick:()=>a(!1),children:"Extension"}),s.jsx("a",{href:"#miniapps",className:"mobile-nav-link",onClick:()=>a(!1),children:"Mini-Apps"}),s.jsx("a",{href:"#developers",className:"mobile-nav-link",onClick:()=>a(!1),children:"Developers"}),s.jsx("a",{href:"#tokenomics",className:"mobile-nav-link",onClick:()=>a(!1),children:"Tokenomics"}),!e&&s.jsx(s.Fragment,{children:s.jsx("button",{onClick:()=>{a(!1),j()},className:"btn btn-primary",disabled:i,children:i?"Loading...":"Launch App"})})]})]})}),s.jsxs("section",{className:"hero-section",children:[s.jsx("div",{className:"hero-background",children:s.jsxs("div",{className:"floating-elements",children:[s.jsx("div",{className:"floating-element crypto",children:"₿"}),s.jsx("div",{className:"floating-element crypto",children:"Ξ"}),s.jsx("div",{className:"floating-element crypto",children:"💰"}),s.jsx("div",{className:"floating-element crypto",children:"🚀"}),s.jsx("div",{className:"floating-element crypto",children:"⚡"}),s.jsx("div",{className:"floating-element crypto",children:"💎"})]})}),s.jsxs("div",{className:"hero-container",children:[s.jsxs("div",{className:"hero-content",children:[s.jsxs("div",{className:"hero-badge",children:[s.jsx("span",{className:"badge-icon",children:"✨"}),s.jsx("span",{children:"Now Live on Internet Computer"})]}),s.jsxs("h1",{className:"hero-title",children:[s.jsx("span",{className:"title-line",children:"The Future of"}),s.jsx("span",{className:"title-line gradient-text",children:"Social Finance"}),s.jsx("span",{className:"title-line",children:"is Here"})]}),s.jsx("p",{className:"hero-subtitle",children:"Nisto combines DeFi, social trading, and AI-powered insights on the Internet Computer. Manage your portfolio, connect with traders, and access exclusive opportunities in Kenya's first decentralized finance ecosystem."}),s.jsxs("div",{className:"hero-actions",children:[s.jsxs("button",{onClick:j,className:"btn btn-primary btn-lg hero-cta",children:[s.jsx("span",{className:"btn-icon",children:"🚀"}),"Launch App"]}),s.jsxs("button",{onClick:()=>{var R;return(R=document.getElementById("waiting-list"))==null?void 0:R.scrollIntoView({behavior:"smooth"})},className:"btn btn-secondary btn-lg hero-cta",children:[s.jsx("span",{className:"btn-icon",children:"📋"}),"Join Waiting List"]})]})]}),s.jsx("div",{className:"hero-visual",children:s.jsxs("div",{className:"hero-video-container",children:[s.jsxs("div",{className:"video-intro",children:[s.jsx("h3",{className:"video-title",children:"See Nisto in Action"}),s.jsx("p",{className:"video-description",children:"Watch our demo to see how Nisto is revolutionizing social finance on the Internet Computer"})]}),s.jsx("div",{className:"youtube-video-wrapper",children:s.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/1xIVECmTqvY",title:"Nisto Demo Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"youtube-video"})})]})})]})]}),s.jsx("section",{id:"features",className:"features-section",children:s.jsxs("div",{className:"features-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Powerful Features"}),s.jsx("p",{className:"section-subtitle",children:"Everything you need to manage, grow, and socialize your crypto portfolio"})]}),s.jsxs("div",{className:"features-grid",children:[s.jsxs("div",{className:"feature-card defi",children:[s.jsx("div",{className:"feature-hover-effect"}),s.jsx("div",{className:"feature-icon defi-icon",children:"🏦"}),s.jsx("h3",{className:"feature-title",children:"DeFi Integration"}),s.jsx("p",{className:"feature-description",children:"Access lending, borrowing, and yield farming protocols directly from your dashboard with seamless integration."}),s.jsxs("div",{className:"feature-stats",children:[s.jsx("span",{className:"stat",children:"50+ Protocols"}),s.jsx("span",{className:"stat",children:"Auto-compound"})]})]}),s.jsxs("div",{className:"feature-card social",children:[s.jsx("div",{className:"feature-hover-effect"}),s.jsx("div",{className:"feature-icon social-icon",children:"👥"}),s.jsx("h3",{className:"feature-title",children:"Social Trading"}),s.jsx("p",{className:"feature-description",children:"Follow top traders, share strategies, and learn from the community with our advanced social features."}),s.jsxs("div",{className:"feature-stats",children:[s.jsx("span",{className:"stat",children:"Copy Trading"}),s.jsx("span",{className:"stat",children:"Leaderboards"})]})]}),s.jsxs("div",{className:"feature-card ai",children:[s.jsx("div",{className:"feature-hover-effect"}),s.jsx("div",{className:"feature-icon ai-icon",children:"🤖"}),s.jsx("h3",{className:"feature-title",children:"AI-Powered Insights"}),s.jsx("p",{className:"feature-description",children:"Get personalized investment recommendations and market analysis powered by advanced machine learning."}),s.jsxs("div",{className:"feature-stats",children:[s.jsx("span",{className:"stat",children:"Smart Alerts"}),s.jsx("span",{className:"stat",children:"Risk Analysis"})]})]}),s.jsxs("div",{className:"feature-card mobile",children:[s.jsx("div",{className:"feature-hover-effect"}),s.jsx("div",{className:"feature-icon payments-icon",children:"📱"}),s.jsx("h3",{className:"feature-title",children:"Mobile Money"}),s.jsx("p",{className:"feature-description",children:"Seamlessly connect M-Pesa and Airtel Money for easy crypto on-ramps and off-ramps."}),s.jsxs("div",{className:"feature-stats",children:[s.jsx("span",{className:"stat",children:"Instant Deposits"}),s.jsx("span",{className:"stat",children:"Low Fees"})]})]}),s.jsxs("div",{className:"feature-card security",children:[s.jsx("div",{className:"feature-hover-effect"}),s.jsx("div",{className:"feature-icon security-icon",children:"🔒"}),s.jsx("h3",{className:"feature-title",children:"Bank-Level Security"}),s.jsx("p",{className:"feature-description",children:"Multi-signature wallets and hardware security modules protect your assets with institutional-grade security."}),s.jsxs("div",{className:"feature-stats",children:[s.jsx("span",{className:"stat",children:"Multi-sig"}),s.jsx("span",{className:"stat",children:"Hardware HSM"})]})]}),s.jsxs("div",{className:"feature-card plugins",children:[s.jsx("div",{className:"feature-hover-effect"}),s.jsx("div",{className:"feature-icon plugins-icon",children:"🧩"}),s.jsx("h3",{className:"feature-title",children:"Plugin Ecosystem"}),s.jsx("p",{className:"feature-description",children:"Build and use mini-apps for trading, gaming, NFTs, and custom financial tools in our marketplace."}),s.jsxs("div",{className:"feature-stats",children:[s.jsx("span",{className:"stat",children:"50+ Mini-Apps"}),s.jsx("span",{className:"stat",children:"Developer APIs"})]})]})]})]})}),s.jsx("section",{id:"miniapps",className:"miniapps-section",children:s.jsxs("div",{className:"miniapps-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsxs("div",{className:"coming-soon-badge",children:[s.jsx("span",{className:"badge-icon",children:"🚀"}),s.jsx("span",{children:"Coming Soon"})]}),s.jsx("h2",{className:"section-title",children:"Mini-Apps Marketplace"}),s.jsx("p",{className:"section-subtitle",children:"A revolutionary ecosystem where developers can build and users can discover powerful financial mini-apps. From automated trading bots to yield optimizers, everything you need will be at your fingertips."})]}),s.jsxs("div",{className:"marketplace-preview",children:[s.jsxs("div",{className:"preview-header",children:[s.jsx("h3",{className:"preview-title",children:"What to Expect"}),s.jsx("p",{className:"preview-description",children:"The Mini-Apps Marketplace will be your gateway to a world of financial tools and services, all seamlessly integrated into the Nisto ecosystem."})]}),s.jsxs("div",{className:"categories-showcase",children:[s.jsxs("div",{className:"category-card defi-category",children:[s.jsxs("div",{className:"category-header",children:[s.jsx("div",{className:"category-icon",children:"📈"}),s.jsx("h4",{children:"DeFi & Trading"}),s.jsx("span",{className:"app-count",children:"15+ Apps"})]}),s.jsxs("div",{className:"category-apps",children:[s.jsxs("div",{className:"app-preview",children:[s.jsx("div",{className:"app-icon",children:"⚡"}),s.jsxs("div",{className:"app-info",children:[s.jsx("span",{className:"app-name",children:"Yield Optimizer"}),s.jsx("span",{className:"app-desc",children:"Automatically find and compound the best yields across protocols"})]}),s.jsx("div",{className:"app-status",children:"Coming Soon"})]}),s.jsxs("div",{className:"app-preview",children:[s.jsx("div",{className:"app-icon",children:"🤖"}),s.jsxs("div",{className:"app-info",children:[s.jsx("span",{className:"app-name",children:"Trading Bot Builder"}),s.jsx("span",{className:"app-desc",children:"Create custom trading strategies with no-code tools"})]}),s.jsx("div",{className:"app-status",children:"Q2 2024"})]}),s.jsxs("div",{className:"app-preview",children:[s.jsx("div",{className:"app-icon",children:"🔍"}),s.jsxs("div",{className:"app-info",children:[s.jsx("span",{className:"app-name",children:"Arbitrage Scanner"}),s.jsx("span",{className:"app-desc",children:"Discover arbitrage opportunities across exchanges"})]}),s.jsx("div",{className:"app-status",children:"Beta Soon"})]})]})]}),s.jsxs("div",{className:"category-card nft-category",children:[s.jsxs("div",{className:"category-header",children:[s.jsx("div",{className:"category-icon",children:"🖼️"}),s.jsx("h4",{children:"NFT & Gaming"}),s.jsx("span",{className:"app-count",children:"12+ Apps"})]}),s.jsxs("div",{className:"category-apps",children:[s.jsxs("div",{className:"app-preview",children:[s.jsx("div",{className:"app-icon",children:"📊"}),s.jsxs("div",{className:"app-info",children:[s.jsx("span",{className:"app-name",children:"NFT Portfolio Tracker"}),s.jsx("span",{className:"app-desc",children:"Track your NFT collection value and market trends"})]}),s.jsx("div",{className:"app-status",children:"Coming Soon"})]}),s.jsxs("div",{className:"app-preview",children:[s.jsx("div",{className:"app-icon",children:"🎮"}),s.jsxs("div",{className:"app-info",children:[s.jsx("span",{className:"app-name",children:"Play-to-Earn Hub"}),s.jsx("span",{className:"app-desc",children:"Manage gaming assets and track P2E rewards"})]}),s.jsx("div",{className:"app-status",children:"Q3 2024"})]}),s.jsxs("div",{className:"app-preview",children:[s.jsx("div",{className:"app-icon",children:"🛒"}),s.jsxs("div",{className:"app-info",children:[s.jsx("span",{className:"app-name",children:"NFT Marketplace"}),s.jsx("span",{className:"app-desc",children:"Buy, sell, and trade NFTs with integrated wallet"})]}),s.jsx("div",{className:"app-status",children:"Planning"})]})]})]}),s.jsxs("div",{className:"category-card analytics-category",children:[s.jsxs("div",{className:"category-header",children:[s.jsx("div",{className:"category-icon",children:"📊"}),s.jsx("h4",{children:"Analytics & Tools"}),s.jsx("span",{className:"app-count",children:"10+ Apps"})]}),s.jsxs("div",{className:"category-apps",children:[s.jsxs("div",{className:"app-preview",children:[s.jsx("div",{className:"app-icon",children:"📈"}),s.jsxs("div",{className:"app-info",children:[s.jsx("span",{className:"app-name",children:"Portfolio Analytics"}),s.jsx("span",{className:"app-desc",children:"Advanced analytics and performance tracking"})]}),s.jsx("div",{className:"app-status",children:"Beta"})]}),s.jsxs("div",{className:"app-preview",children:[s.jsx("div",{className:"app-icon",children:"💰"}),s.jsxs("div",{className:"app-info",children:[s.jsx("span",{className:"app-name",children:"Tax Calculator"}),s.jsx("span",{className:"app-desc",children:"Calculate crypto taxes and generate reports"})]}),s.jsx("div",{className:"app-status",children:"Q2 2024"})]}),s.jsxs("div",{className:"app-preview",children:[s.jsx("div",{className:"app-icon",children:"⚖️"}),s.jsxs("div",{className:"app-info",children:[s.jsx("span",{className:"app-name",children:"Risk Assessment"}),s.jsx("span",{className:"app-desc",children:"Analyze portfolio risk and get recommendations"})]}),s.jsx("div",{className:"app-status",children:"Coming Soon"})]})]})]}),s.jsxs("div",{className:"category-card social-category",children:[s.jsxs("div",{className:"category-header",children:[s.jsx("div",{className:"category-icon",children:"👥"}),s.jsx("h4",{children:"Social & Community"}),s.jsx("span",{className:"app-count",children:"8+ Apps"})]}),s.jsxs("div",{className:"category-apps",children:[s.jsxs("div",{className:"app-preview",children:[s.jsx("div",{className:"app-icon",children:"📋"}),s.jsxs("div",{className:"app-info",children:[s.jsx("span",{className:"app-name",children:"Social Trading"}),s.jsx("span",{className:"app-desc",children:"Follow and copy successful traders' strategies"})]}),s.jsx("div",{className:"app-status",children:"Beta"})]}),s.jsxs("div",{className:"app-preview",children:[s.jsx("div",{className:"app-icon",children:"👥"}),s.jsxs("div",{className:"app-info",children:[s.jsx("span",{className:"app-name",children:"Group Investments"}),s.jsx("span",{className:"app-desc",children:"Pool funds with friends for larger investments"})]}),s.jsx("div",{className:"app-status",children:"Q3 2024"})]}),s.jsxs("div",{className:"app-preview",children:[s.jsx("div",{className:"app-icon",children:"🗳️"}),s.jsxs("div",{className:"app-info",children:[s.jsx("span",{className:"app-name",children:"Community Governance"}),s.jsx("span",{className:"app-desc",children:"Vote on protocol upgrades and decisions"})]}),s.jsx("div",{className:"app-status",children:"Live"})]})]})]})]})]}),s.jsx("div",{className:"marketplace-features",children:s.jsxs("div",{className:"features-grid",children:[s.jsxs("div",{className:"feature-highlight",children:[s.jsx("div",{className:"feature-icon",children:"🔒"}),s.jsx("h4",{children:"Secure by Design"}),s.jsx("p",{children:"All mini-apps go through rigorous security audits and approval processes"}),s.jsx("div",{className:"feature-badge",children:"Security First"})]}),s.jsxs("div",{className:"feature-highlight",children:[s.jsx("div",{className:"feature-icon",children:"⚡"}),s.jsx("h4",{children:"One-Click Integration"}),s.jsx("p",{children:"Seamlessly integrate with your Nisto wallet and existing portfolio"}),s.jsx("div",{className:"feature-badge",children:"Instant Setup"})]}),s.jsxs("div",{className:"feature-highlight",children:[s.jsx("div",{className:"feature-icon",children:"💰"}),s.jsx("h4",{children:"Flexible Pricing"}),s.jsx("p",{children:"Free, freemium, and premium models - choose what works for you"}),s.jsx("div",{className:"feature-badge",children:"Fair Pricing"})]}),s.jsxs("div",{className:"feature-highlight",children:[s.jsx("div",{className:"feature-icon",children:"🛠️"}),s.jsx("h4",{children:"Developer Friendly"}),s.jsx("p",{children:"Built with modern APIs and SDKs for easy development and deployment"}),s.jsx("div",{className:"feature-badge",children:"Open Platform"})]})]})}),s.jsxs("div",{className:"marketplace-cta",children:[s.jsxs("div",{className:"cta-content",children:[s.jsx("h3",{children:"Ready to Explore?"}),s.jsx("p",{children:"Be the first to know when the Mini-Apps Marketplace launches. Join our waiting list for early access and exclusive rewards!"}),s.jsxs("button",{onClick:()=>{var R;return(R=document.getElementById("waiting-list"))==null?void 0:R.scrollIntoView({behavior:"smooth"})},className:"btn btn-primary btn-lg marketplace-btn",children:[s.jsx("span",{className:"btn-icon",children:"🚀"}),"Get Early Access"]})]}),s.jsxs("div",{className:"cta-stats",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-number",children:"50+"}),s.jsx("div",{className:"stat-label",children:"Mini-Apps Planned"}),s.jsx("div",{className:"stat-icon",children:"🎯"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-number",children:"200+"}),s.jsx("div",{className:"stat-label",children:"Developers Interested"}),s.jsx("div",{className:"stat-icon",children:"👨‍💻"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-number",children:"Q2 2024"}),s.jsx("div",{className:"stat-label",children:"Launch Target"}),s.jsx("div",{className:"stat-icon",children:"📅"})]})]})]})]})}),s.jsx("section",{id:"tokenomics",className:"tokenomics-section",children:s.jsxs("div",{className:"tokenomics-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"$NESTO Tokenomics"}),s.jsx("p",{className:"section-subtitle",children:"Fair distribution and sustainable economics for the Nisto ecosystem"})]}),s.jsxs("div",{className:"tokenomics-content",children:[s.jsxs("div",{className:"tokenomics-chart",children:[s.jsx("div",{className:"chart-title",children:"Token Distribution"}),s.jsxs("div",{className:"distribution-items",children:[s.jsxs("div",{className:"distribution-item community",children:[s.jsx("div",{className:"item-color"}),s.jsxs("div",{className:"item-content",children:[s.jsxs("div",{className:"item-header",children:[s.jsx("span",{className:"item-name",children:"Community & Users"}),s.jsx("span",{className:"item-percentage",children:"40%"})]}),s.jsx("div",{className:"item-description",children:"Airdrops, rewards, and incentives"})]})]}),s.jsxs("div",{className:"distribution-item development",children:[s.jsx("div",{className:"item-color"}),s.jsxs("div",{className:"item-content",children:[s.jsxs("div",{className:"item-header",children:[s.jsx("span",{className:"item-name",children:"Development Fund"}),s.jsx("span",{className:"item-percentage",children:"25%"})]}),s.jsx("div",{className:"item-description",children:"Platform development and maintenance"})]})]}),s.jsxs("div",{className:"distribution-item team",children:[s.jsx("div",{className:"item-color"}),s.jsxs("div",{className:"item-content",children:[s.jsxs("div",{className:"item-header",children:[s.jsx("span",{className:"item-name",children:"Team & Advisors"}),s.jsx("span",{className:"item-percentage",children:"15%"})]}),s.jsx("div",{className:"item-description",children:"4-year vesting schedule"})]})]}),s.jsxs("div",{className:"distribution-item liquidity",children:[s.jsx("div",{className:"item-color"}),s.jsxs("div",{className:"item-content",children:[s.jsxs("div",{className:"item-header",children:[s.jsx("span",{className:"item-name",children:"Liquidity & Ecosystem"}),s.jsx("span",{className:"item-percentage",children:"10%"})]}),s.jsx("div",{className:"item-description",children:"DEX liquidity and ecosystem development"})]})]}),s.jsxs("div",{className:"distribution-item reserve",children:[s.jsx("div",{className:"item-color"}),s.jsxs("div",{className:"item-content",children:[s.jsxs("div",{className:"item-header",children:[s.jsx("span",{className:"item-name",children:"Reserve Fund"}),s.jsx("span",{className:"item-percentage",children:"10%"})]}),s.jsx("div",{className:"item-description",children:"Emergency fund and future initiatives"})]})]})]})]}),s.jsxs("div",{className:"utility-card",children:[s.jsx("h3",{className:"utility-title",children:"Token Utility"}),s.jsxs("div",{className:"utility-items",children:[s.jsxs("div",{className:"utility-item",children:[s.jsx("div",{className:"utility-icon",children:"🗳️"}),s.jsxs("div",{className:"utility-content",children:[s.jsx("div",{className:"utility-name",children:"Governance Voting"}),s.jsx("div",{className:"utility-description",children:"Vote on platform features and proposals"})]})]}),s.jsxs("div",{className:"utility-item",children:[s.jsx("div",{className:"utility-icon",children:"💰"}),s.jsxs("div",{className:"utility-content",children:[s.jsx("div",{className:"utility-name",children:"Staking Rewards"}),s.jsx("div",{className:"utility-description",children:"Earn yield by staking NESTO tokens"})]})]}),s.jsxs("div",{className:"utility-item",children:[s.jsx("div",{className:"utility-icon",children:"💳"}),s.jsxs("div",{className:"utility-content",children:[s.jsx("div",{className:"utility-name",children:"Platform Fees"}),s.jsx("div",{className:"utility-description",children:"Reduced fees when using NESTO"})]})]}),s.jsxs("div",{className:"utility-item",children:[s.jsx("div",{className:"utility-icon",children:"🛒"}),s.jsxs("div",{className:"utility-content",children:[s.jsx("div",{className:"utility-name",children:"Plugin Marketplace"}),s.jsx("div",{className:"utility-description",children:"Purchase and sell plugins with NESTO"})]})]})]})]})]})]})}),s.jsx("section",{id:"extension",className:"extension-section",children:s.jsxs("div",{className:"extension-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Install Nisto Extension"}),s.jsx("p",{className:"section-subtitle",children:"Access Nisto directly from your browser. Trade, manage funds, and interact with DeFi protocols seamlessly."})]}),s.jsxs("div",{className:"extension-content",children:[s.jsx("div",{className:"extension-preview",children:s.jsxs("div",{className:"browser-mockup",children:[s.jsxs("div",{className:"browser-header",children:[s.jsxs("div",{className:"browser-controls",children:[s.jsx("span",{className:"control red"}),s.jsx("span",{className:"control yellow"}),s.jsx("span",{className:"control green"})]}),s.jsx("div",{className:"browser-url",children:"nisto.finance"})]}),s.jsx("div",{className:"browser-content",children:s.jsxs("div",{className:"extension-popup",children:[s.jsxs("div",{className:"popup-header",children:[s.jsx("div",{className:"popup-logo",children:s.jsx("span",{children:"N"})}),s.jsx("h4",{children:"Nisto Wallet"})]}),s.jsxs("div",{className:"popup-balance",children:[s.jsx("div",{className:"balance-label",children:"Total Balance"}),s.jsx("div",{className:"balance-amount",children:"KES 125,890"})]}),s.jsxs("div",{className:"popup-actions",children:[s.jsx("button",{className:"popup-btn send",children:"Send"}),s.jsx("button",{className:"popup-btn receive",children:"Receive"}),s.jsx("button",{className:"popup-btn swap",children:"Swap"})]})]})})]})}),s.jsxs("div",{className:"extension-info",children:[s.jsxs("div",{className:"extension-features",children:[s.jsxs("div",{className:"feature-item",children:[s.jsx("div",{className:"feature-icon",children:"🔒"}),s.jsxs("div",{className:"feature-content",children:[s.jsx("h4",{children:"Secure Wallet"}),s.jsx("p",{children:"Your keys, your crypto. Non-custodial wallet with hardware wallet support."})]})]}),s.jsxs("div",{className:"feature-item",children:[s.jsx("div",{className:"feature-icon",children:"⚡"}),s.jsxs("div",{className:"feature-content",children:[s.jsx("h4",{children:"Instant Transactions"}),s.jsx("p",{children:"Lightning-fast transactions on ICP with minimal fees."})]})]}),s.jsxs("div",{className:"feature-item",children:[s.jsx("div",{className:"feature-icon",children:"🌐"}),s.jsxs("div",{className:"feature-content",children:[s.jsx("h4",{children:"DeFi Integration"}),s.jsx("p",{children:"Access DEXs, lending protocols, and yield farms directly from your browser."})]})]})]}),s.jsxs("div",{className:"download-buttons",children:[s.jsxs("button",{className:"btn btn-primary btn-lg download-btn",children:[s.jsx("span",{className:"btn-icon",children:"🦊"}),"Add to Chrome"]}),s.jsxs("button",{className:"btn btn-secondary btn-lg download-btn",children:[s.jsx("span",{className:"btn-icon",children:"🔥"}),"Add to Firefox"]}),s.jsxs("button",{className:"btn btn-secondary btn-lg download-btn",children:[s.jsx("span",{className:"btn-icon",children:"🦁"}),"Add to Safari"]})]})]})]})]})}),s.jsx("section",{className:"airdrop-section",children:s.jsxs("div",{className:"airdrop-container",children:[s.jsx("div",{className:"airdrop-background",children:s.jsxs("div",{className:"airdrop-particles",children:[s.jsx("div",{className:"particle",children:"🪂"}),s.jsx("div",{className:"particle",children:"💎"}),s.jsx("div",{className:"particle",children:"🎁"}),s.jsx("div",{className:"particle",children:"⚡"}),s.jsx("div",{className:"particle",children:"🚀"})]})}),s.jsxs("div",{className:"section-header",children:[s.jsxs("h2",{className:"section-title",children:[s.jsx("span",{className:"airdrop-emoji",children:"🪂"}),"Massive Airdrop Coming!"]}),s.jsx("p",{className:"section-subtitle",children:"Join Nisto early and earn your share of 100M $NESTO tokens. The earlier you join, the more you earn!"})]}),s.jsxs("div",{className:"airdrop-tiers",children:[s.jsxs("div",{className:"tier-card early-bird",children:[s.jsx("div",{className:"tier-icon",children:"🥇"}),s.jsx("h3",{className:"tier-title",children:"Early Birds"}),s.jsx("div",{className:"tier-reward",children:"1,000 NESTO"}),s.jsx("p",{className:"tier-description",children:"First 1,000 users get 1,000 NESTO each"}),s.jsx("div",{className:"tier-status",children:"Limited Time"})]}),s.jsxs("div",{className:"tier-card power-user",children:[s.jsx("div",{className:"tier-icon",children:"💎"}),s.jsx("h3",{className:"tier-title",children:"Power Users"}),s.jsx("div",{className:"tier-reward",children:"Up to 10,000 NESTO"}),s.jsx("p",{className:"tier-description",children:"Complete tasks to earn maximum rewards"}),s.jsx("div",{className:"tier-status",children:"Task-Based"})]}),s.jsxs("div",{className:"tier-card referral",children:[s.jsx("div",{className:"tier-icon",children:"🔗"}),s.jsx("h3",{className:"tier-title",children:"Referrals"}),s.jsx("div",{className:"tier-reward",children:"500 NESTO"}),s.jsx("p",{className:"tier-description",children:"Earn for each successful invitation"}),s.jsx("div",{className:"tier-status",children:"Unlimited"})]})]}),s.jsxs("button",{onClick:()=>{var R;return(R=document.getElementById("waiting-list"))==null?void 0:R.scrollIntoView({behavior:"smooth"})},className:"btn btn-success btn-lg airdrop-cta",children:[s.jsx("span",{className:"btn-icon",children:"🎁"}),"Claim Your Airdrop"]})]})}),s.jsx("section",{id:"waiting-list",className:"waiting-list-section",children:s.jsxs("div",{className:"waiting-list-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Join the Revolution"}),s.jsx("p",{className:"section-subtitle",children:"Be among the first to experience the future of social finance. Get early access and exclusive rewards."})]}),s.jsx("div",{className:"waiting-list-form-wrapper",children:s.jsxs("form",{onSubmit:m,className:"waiting-list-form",children:[s.jsxs("div",{className:"form-header",children:[s.jsx("div",{className:"form-icon",children:"🚀"}),s.jsx("h3",{children:"Get Early Access"})]}),s.jsxs("div",{className:"form-fields",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Email Address"}),s.jsx("input",{type:"email",className:"form-input",placeholder:"Enter your email address",value:f.email,onChange:R=>p({...f,email:R.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"I am a..."}),s.jsxs("select",{className:"form-input",value:f.role,onChange:R=>p({...f,role:R.target.value}),children:[s.jsx("option",{value:"user",children:"👤 Individual User"}),s.jsx("option",{value:"developer",children:"👨‍💻 Developer"}),s.jsx("option",{value:"business",children:"🏢 Business/Institution"})]})]})]}),s.jsxs("div",{className:"form-benefits",children:[s.jsxs("div",{className:"benefit-item",children:[s.jsx("span",{className:"benefit-icon",children:"⚡"}),s.jsx("span",{children:"Early Access"})]}),s.jsxs("div",{className:"benefit-item",children:[s.jsx("span",{className:"benefit-icon",children:"🎁"}),s.jsx("span",{children:"Exclusive Airdrops"})]}),s.jsxs("div",{className:"benefit-item",children:[s.jsx("span",{className:"benefit-icon",children:"🔥"}),s.jsx("span",{children:"Beta Features"})]})]}),s.jsxs("button",{type:"submit",className:"btn btn-primary btn-lg form-submit",children:[s.jsx("span",{className:"btn-icon",children:"🚀"}),"Join Waiting List"]})]})})]})}),s.jsx("section",{className:"docs-section",children:s.jsxs("div",{className:"docs-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Learn More"}),s.jsx("p",{className:"section-subtitle",children:"Dive deeper into Nisto's technology, tokenomics, and ecosystem"})]}),s.jsxs("div",{className:"docs-grid",children:[s.jsxs("div",{className:"doc-card",children:[s.jsx("div",{className:"doc-icon whitepaper-icon",children:"📄"}),s.jsx("h3",{className:"doc-title",children:"Whitepaper"}),s.jsx("p",{className:"doc-description",children:"Deep dive into Nisto's architecture, tokenomics, and vision for the future"}),s.jsxs("button",{className:"btn btn-secondary doc-button",children:[s.jsx("span",{className:"btn-icon",children:"📖"}),"Read Whitepaper"]})]}),s.jsxs("div",{className:"doc-card",children:[s.jsx("div",{className:"doc-icon developer-icon",children:"🛠️"}),s.jsx("h3",{className:"doc-title",children:"Technical Documentation"}),s.jsx("p",{className:"doc-description",children:"API references, integration guides, and developer resources"}),s.jsxs("button",{className:"btn btn-secondary doc-button",children:[s.jsx("span",{className:"btn-icon",children:"⚙️"}),"View Docs"]})]}),s.jsxs("div",{className:"doc-card",children:[s.jsx("div",{className:"doc-icon roadmap-icon",children:"🎓"}),s.jsx("h3",{className:"doc-title",children:"Academy"}),s.jsx("p",{className:"doc-description",children:"Learn DeFi, trading strategies, and blockchain fundamentals"}),s.jsxs("button",{className:"btn btn-secondary doc-button",children:[s.jsx("span",{className:"btn-icon",children:"🚀"}),"Start Learning"]})]})]})]})}),s.jsx("footer",{className:"main-footer",children:s.jsxs("div",{className:"footer-container",children:[s.jsxs("div",{className:"footer-content",children:[s.jsxs("div",{className:"footer-brand",children:[s.jsxs("div",{className:"footer-logo",children:[s.jsx("div",{className:"logo-icon",children:s.jsx("span",{children:"N"})}),s.jsx("span",{className:"logo-text",children:"Nisto"})]}),s.jsx("p",{className:"footer-description",children:"The future of social finance on the Internet Computer. Empowering Kenya's crypto ecosystem with DeFi, social trading, and AI-powered insights."}),s.jsxs("div",{className:"social-links",children:[s.jsxs("a",{href:"#",className:"social-link",children:[s.jsx("span",{className:"social-icon",children:"🐦"}),s.jsx("span",{children:"Twitter"})]}),s.jsxs("a",{href:"#",className:"social-link",children:[s.jsx("span",{className:"social-icon",children:"💼"}),s.jsx("span",{children:"LinkedIn"})]}),s.jsxs("a",{href:"#",className:"social-link",children:[s.jsx("span",{className:"social-icon",children:"📘"}),s.jsx("span",{children:"Discord"})]}),s.jsxs("a",{href:"#",className:"social-link",children:[s.jsx("span",{className:"social-icon",children:"📱"}),s.jsx("span",{children:"Telegram"})]})]})]}),s.jsxs("div",{className:"footer-links",children:[s.jsxs("div",{className:"link-group",children:[s.jsx("h4",{className:"link-group-title",children:"Platform"}),s.jsxs("div",{className:"link-group-items",children:[s.jsx("a",{href:"#features",className:"footer-link",children:"Features"}),s.jsx("a",{href:"#tokenomics",className:"footer-link",children:"Tokenomics"}),s.jsx("a",{href:"#extension",className:"footer-link",children:"Browser Extension"}),s.jsx("button",{onClick:j,className:"footer-link",children:"Launch App"})]})]}),s.jsxs("div",{className:"link-group",children:[s.jsx("h4",{className:"link-group-title",children:"Developers"}),s.jsxs("div",{className:"link-group-items",children:[s.jsx("a",{href:"#developers",className:"footer-link",children:"SDKs & APIs"}),s.jsx("a",{href:"#",className:"footer-link",children:"Documentation"}),s.jsx("a",{href:"#",className:"footer-link",children:"GitHub"}),s.jsx("a",{href:"#",className:"footer-link",children:"Discord"})]})]}),s.jsxs("div",{className:"link-group",children:[s.jsx("h4",{className:"link-group-title",children:"Company"}),s.jsxs("div",{className:"link-group-items",children:[s.jsx("a",{href:"#",className:"footer-link",children:"About"}),s.jsx("a",{href:"#",className:"footer-link",children:"Blog"}),s.jsx("a",{href:"#",className:"footer-link",children:"Careers"}),s.jsx("a",{href:"#",className:"footer-link",children:"Press Kit"})]})]})]})]}),s.jsx("div",{className:"footer-bottom",children:s.jsxs("div",{className:"footer-bottom-content",children:[s.jsxs("div",{className:"footer-badges",children:[s.jsxs("div",{className:"badge",children:[s.jsx("span",{className:"badge-icon",children:"🏆"}),s.jsx("span",{children:"ICP Ecosystem"})]}),s.jsxs("div",{className:"badge",children:[s.jsx("span",{className:"badge-icon",children:"🔒"}),s.jsx("span",{children:"Audited"})]}),s.jsxs("div",{className:"badge",children:[s.jsx("span",{className:"badge-icon",children:"🌍"}),s.jsx("span",{children:"Made in Kenya"})]})]}),s.jsxs("div",{className:"footer-legal",children:[s.jsx("p",{className:"copyright",children:"© 2024 Nisto Finance. All rights reserved."}),s.jsxs("div",{className:"legal-links",children:[s.jsx("a",{href:"#",className:"legal-link",children:"Privacy Policy"}),s.jsx("a",{href:"#",className:"legal-link",children:"Terms of Service"}),s.jsx("a",{href:"#",className:"legal-link",children:"Cookie Policy"})]})]})]})})]})}),s.jsx(S8,{isOpen:u,onClose:()=>d(!1)})]})}function dg(e){return ke({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 12h2v4h-2z"},child:[]},{tag:"path",attr:{d:"M20 7V5c0-1.103-.897-2-2-2H5C3.346 3 2 4.346 2 6v12c0 2.201 1.794 3 3 3h15c1.103 0 2-.897 2-2V9c0-1.103-.897-2-2-2zM5 5h13v2H5a1.001 1.001 0 0 1 0-2zm15 14H5.012C4.55 18.988 4 18.805 4 18V8.815c.314.113.647.185 1 .185h15v10z"},child:[]}]})(e)}function j8(){const{notifications:e,markAllAsRead:t,clearNotifications:r}=gi(),[n,i]=Ge.useState("all"),o=e.filter(a=>n==="unread"?!a.read:n==="security"?a.type==="warning"||a.type==="security":!0);return s.jsxs("div",{className:"notification-center",children:[s.jsxs("div",{className:"notification-header",children:[s.jsx(cw,{className:"notification-icon"}),s.jsx("h3",{children:"Notifications"}),s.jsxs("div",{className:"notification-actions",children:[s.jsxs("button",{className:"btn-text",onClick:t,children:[s.jsx(Xe,{})," Mark all as read"]}),s.jsxs("button",{className:"btn-text",onClick:r,children:[s.jsx(Ie,{})," Clear all"]})]})]}),s.jsxs("div",{className:"notification-tabs",children:[s.jsx("button",{className:`tab${n==="all"?" active":""}`,onClick:()=>i("all"),children:"All"}),s.jsx("button",{className:`tab${n==="unread"?" active":""}`,onClick:()=>i("unread"),children:"Unread"}),s.jsx("button",{className:`tab${n==="security"?" active":""}`,onClick:()=>i("security"),children:"Security"})]}),s.jsx("div",{className:"notifications-list",children:o.length===0?s.jsxs("div",{className:"empty-notifications",children:[s.jsx(ci,{className:"empty-icon"}),s.jsx("p",{children:"No notifications"})]}):o.map(a=>s.jsx("div",{className:`notification-item${a.read?"":" unread"}`,children:s.jsxs("div",{className:"notification-content",children:[s.jsx("div",{className:"notification-title",children:a.title||"Notification"}),s.jsx("div",{className:"notification-message",children:a.message}),s.jsxs("div",{className:"notification-meta",children:[s.jsx("span",{className:"notification-time",children:a.time||""}),s.jsx("span",{className:"notification-type",children:a.type})]})]})},a.id))})]})}function T8(){const{toasts:e,removeToast:t}=gi();return s.jsx("div",{className:"toast-container top-right",children:e.map(r=>s.jsxs("div",{className:`toast${r.type?" "+r.type:""}`,children:[s.jsxs("div",{className:"toast-content",children:[s.jsx("span",{children:r.icon}),s.jsx("span",{children:r.message})]}),s.jsx("button",{className:"toast-close",onClick:()=>t(r.id),children:s.jsx(Ie,{})})]},r.id))})}const k8={email:s.jsx(Ic,{}),phone:s.jsx(P0,{}),backup_email:s.jsx(Ic,{}),security_qa:s.jsx(ju,{}),emergency_contact:s.jsx(O0,{})};function pw({onClose:e,initialSetup:t}){const{user:r,recoveryMethods:n,refreshRecoveryMethods:i,addRecoveryMethod:o,completeRecoverySetup:a,addSecurityQuestions:l}=Jt(),{showToast:c}=gi();M.useState("email"),M.useState(""),M.useState(!1);const[u,d]=M.useState(!1);M.useState([{question:"",answer:""}]),M.useState(!1);const[g,f]=M.useState(r==null?void 0:r.recoverySetupCompleted),[p,m]=M.useState([]),[j,R]=M.useState("");if(M.useEffect(()=>{i(),f(r==null?void 0:r.recoverySetupCompleted)},[r]),t){const S=[{key:"email",label:"Email Recovery",icon:s.jsx(Ic,{}),recommended:!0},{key:"phone",label:"SMS Recovery",icon:s.jsx(P0,{}),recommended:!0},{key:"security_qa",label:"Security Questions",icon:s.jsx(ju,{})},{key:"emergency_contact",label:"Emergency Contact",icon:s.jsx(O0,{})}],[w,_]=M.useState({email:"",phone:"",security_qa:[{question:"",answer:""}],emergency_contact:{name:"",email:"",relationship:""}}),[O,C]=M.useState(!1),W=N=>{m(P=>P.includes(N)?P.filter(G=>G!==N):[...P,N]),R("")},H=(N,P)=>{_(G=>({...G,[N]:P}))},F=(N,P,G)=>{_(D=>({...D,security_qa:D.security_qa.map((ie,Q)=>Q===N?{...ie,[P]:G}:ie)}))},J=()=>{_(N=>({...N,security_qa:[...N.security_qa,{question:"",answer:""}]}))},U=(N,P)=>{_(G=>({...G,emergency_contact:{...G.emergency_contact,[N]:P}}))},I=p.length>0&&p.every(N=>N==="email"?w.email&&/@/.test(w.email):N==="phone"?w.phone&&w.phone.length>=8:N==="security_qa"?w.security_qa.every(P=>P.question&&P.answer):N==="emergency_contact"?w.emergency_contact.name&&/@/.test(w.emergency_contact.email)&&w.emergency_contact.relationship:!1),Y=async()=>{if(!I){R("Please fill all required fields for selected methods");return}C(!0);try{p.includes("email")&&await o("email",w.email),p.includes("phone")&&await o("phone",w.phone),p.includes("security_qa")&&await l(w.security_qa.map(N=>[N.question,N.answer])),p.includes("emergency_contact")&&await o("emergency_contact",JSON.stringify(w.emergency_contact)),c({message:"Recovery setup complete",type:"success",icon:s.jsx(Xe,{})}),e&&e()}catch{R("Failed to set up recovery. Please try again.")}finally{C(!1)}};return s.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.18)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 8px 32px 0 rgba(59,130,246,0.10)",maxWidth:520,width:"98vw",overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{background:"linear-gradient(90deg, #1976d2 0%, #1565c0 100%)",color:"#fff",padding:"1.2rem 2rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx(Fr,{size:24})," ",s.jsx("span",{style:{fontWeight:700,fontSize:20},children:"Account Recovery Setup"})]}),s.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"#fff",fontSize:22,cursor:"pointer",borderRadius:8,padding:4,transition:"background 0.18s"},children:"×"})]}),s.jsxs("div",{style:{padding:"2rem 2.5rem 0 2.5rem",display:"flex",flexDirection:"column",gap:18},children:[s.jsx("div",{style:{color:"var(--neutral-700)",fontSize:16,marginBottom:8},children:"Choose your recovery methods and fill in the required information:"}),s.jsx("div",{style:{fontWeight:700,fontSize:17,color:"var(--neutral-800)",marginBottom:8},children:"Select Recovery Methods"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16,marginBottom:8},children:S.map(N=>s.jsxs("button",{className:"dashboard-card",style:{minWidth:180,flex:1,display:"flex",alignItems:"center",gap:10,padding:"1.1rem 1.2rem",border:p.includes(N.key)?"2px solid #1976d2":"1.2px solid var(--neutral-200)",boxShadow:p.includes(N.key)?"0 2px 8px 0 rgba(25,118,210,0.08)":"var(--shadow-sm)",background:p.includes(N.key)?"var(--primary-50)":"#fff",cursor:"pointer",position:"relative",fontWeight:600,fontSize:15,transition:"all 0.18s"},onClick:()=>W(N.key),children:[N.icon,s.jsx("span",{children:N.label}),N.recommended&&s.jsx("span",{style:{background:"#e6f9ed",color:"#059669",fontWeight:700,fontSize:13,borderRadius:8,padding:"2px 10px",marginLeft:8},children:"Recommended"})]},N.key))}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:14},children:[p.includes("email")&&s.jsx("input",{type:"email",placeholder:"Enter your email",value:w.email,onChange:N=>H("email",N.target.value),required:!0,className:"dashboard-card",style:{padding:"0.8rem 1rem",fontSize:15,border:"1.2px solid var(--primary-100)",borderRadius:8}}),p.includes("phone")&&s.jsx("input",{type:"tel",placeholder:"Enter your phone number",value:w.phone,onChange:N=>H("phone",N.target.value),required:!0,className:"dashboard-card",style:{padding:"0.8rem 1rem",fontSize:15,border:"1.2px solid var(--primary-100)",borderRadius:8}}),p.includes("security_qa")&&s.jsxs("div",{className:"dashboard-card",style:{padding:"1rem",borderRadius:8,display:"flex",flexDirection:"column",gap:10},children:[s.jsx("div",{style:{fontWeight:600,color:"var(--primary-700)",marginBottom:4},children:"Security Questions"}),w.security_qa.map((N,P)=>s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("input",{type:"text",placeholder:"Question",value:N.question,onChange:G=>F(P,"question",G.target.value),required:!0,style:{flex:2,padding:"0.6rem",borderRadius:6,border:"1px solid var(--primary-100)"}}),s.jsx("input",{type:"text",placeholder:"Answer",value:N.answer,onChange:G=>F(P,"answer",G.target.value),required:!0,style:{flex:2,padding:"0.6rem",borderRadius:6,border:"1px solid var(--primary-100)"}})]},P)),s.jsxs("button",{type:"button",className:"btn btn-secondary",style:{marginTop:6,alignSelf:"flex-start"},onClick:J,children:[s.jsx(ba,{})," Add Question"]})]}),p.includes("emergency_contact")&&s.jsxs("div",{className:"dashboard-card",style:{padding:"1rem",borderRadius:8,display:"flex",flexDirection:"column",gap:10},children:[s.jsx("div",{style:{fontWeight:600,color:"var(--primary-700)",marginBottom:4},children:"Emergency Contact"}),s.jsx("input",{type:"text",placeholder:"Name",value:w.emergency_contact.name,onChange:N=>U("name",N.target.value),required:!0,style:{padding:"0.6rem",borderRadius:6,border:"1px solid var(--primary-100)"}}),s.jsx("input",{type:"email",placeholder:"Email",value:w.emergency_contact.email,onChange:N=>U("email",N.target.value),required:!0,style:{padding:"0.6rem",borderRadius:6,border:"1px solid var(--primary-100)"}}),s.jsx("input",{type:"text",placeholder:"Relationship",value:w.emergency_contact.relationship,onChange:N=>U("relationship",N.target.value),required:!0,style:{padding:"0.6rem",borderRadius:6,border:"1px solid var(--primary-100)"}})]})]}),s.jsxs("div",{style:{background:"#eaf6ff",color:"#1976d2",borderRadius:8,padding:"0.9rem 1.1rem",fontSize:15,display:"flex",alignItems:"center",gap:10},children:[s.jsx(dw,{style:{fontSize:18}})," ",s.jsx("b",{children:"Tip:"})," Email and SMS are the most reliable recovery options. Choose at least one method to secure your account."]}),j&&s.jsxs("div",{style:{color:"#dc2626",fontWeight:600,fontSize:15,marginTop:4,display:"flex",alignItems:"center",gap:8},children:[s.jsx(ci,{})," ",j]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:12,background:"var(--neutral-50)",borderTop:"1.5px solid var(--neutral-100)",padding:"1.1rem 2rem",marginTop:24},children:[s.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Skip for now"}),s.jsxs("button",{className:"btn btn-primary",style:{opacity:I&&!O?1:.6},disabled:!I||O,onClick:Y,children:[s.jsx(Xe,{style:{marginRight:6}})," ",O?"Setting Up...":"Setup Recovery"]})]})]})})}return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"dashboard-section",style:{maxWidth:900,margin:"0 auto",marginTop:24},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:18},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,fontWeight:700,fontSize:20,color:"var(--primary-700)"},children:[s.jsx(Fr,{style:{fontSize:22}})," Recovery Methods"]}),s.jsxs("button",{className:"btn btn-primary",onClick:()=>d(!0),children:[s.jsx(ba,{})," Add Method"]})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:n&&n.length>0?n.map(S=>s.jsxs("div",{className:"dashboard-card",style:{display:"flex",alignItems:"center",gap:18,padding:"1.1rem 1.3rem"},children:[s.jsx("span",{style:{fontSize:22,color:"var(--primary-600)"},children:k8[S.methodType]||s.jsx(ku,{})}),s.jsx("span",{style:{fontWeight:700,color:"var(--neutral-700)",fontSize:16},children:S.methodType.replace("_"," ")}),s.jsx("span",{style:{color:"var(--neutral-500)",fontSize:15},children:S.value}),s.jsx("span",{style:{color:S.isVerified?"var(--success-600)":"var(--error-600)",fontWeight:600,fontSize:15,marginLeft:"auto"},children:S.isVerified?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{})," Verified"]}):s.jsxs(s.Fragment,{children:[s.jsx(ci,{})," Unverified"]})})]},S.id)):s.jsxs("div",{className:"dashboard-card",style:{color:"var(--neutral-400)",padding:"1.1rem 1.3rem",textAlign:"center"},children:[s.jsx(ci,{})," No recovery methods set up yet."]})})]}),u&&s.jsx(pw,{initialSetup:!0,onClose:()=>{d(!1),i()}})]})}var C8=Object.defineProperty,Gc=Object.getOwnPropertySymbols,mw=Object.prototype.hasOwnProperty,gw=Object.prototype.propertyIsEnumerable,fg=(e,t,r)=>t in e?C8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dh=(e,t)=>{for(var r in t||(t={}))mw.call(t,r)&&fg(e,r,t[r]);if(Gc)for(var r of Gc(t))gw.call(t,r)&&fg(e,r,t[r]);return e},fh=(e,t)=>{var r={};for(var n in e)mw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Gc)for(var n of Gc(e))t.indexOf(n)<0&&gw.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Di;(e=>{const t=class ze{constructor(c,u,d,g){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<ze.MIN_VERSION||c>ze.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let f=[];for(let m=0;m<this.size;m++)f.push(!1);for(let m=0;m<this.size;m++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),g==-1){let m=1e9;for(let j=0;j<8;j++){this.applyMask(j),this.drawFormatBits(j);const R=this.getPenaltyScore();R<m&&(g=j,m=R),this.applyMask(j)}}i(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return ze.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return ze.encodeSegments([d],u)}static encodeSegments(c,u,d=1,g=40,f=-1,p=!0){if(!(ze.MIN_VERSION<=d&&d<=g&&g<=ze.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let m,j;for(m=d;;m++){const _=ze.getNumDataCodewords(m,u)*8,O=a.getTotalBits(c,m);if(O<=_){j=O;break}if(m>=g)throw new RangeError("Data too long")}for(const _ of[ze.Ecc.MEDIUM,ze.Ecc.QUARTILE,ze.Ecc.HIGH])p&&j<=ze.getNumDataCodewords(m,_)*8&&(u=_);let R=[];for(const _ of c){r(_.mode.modeBits,4,R),r(_.numChars,_.mode.numCharCountBits(m),R);for(const O of _.getData())R.push(O)}i(R.length==j);const S=ze.getNumDataCodewords(m,u)*8;i(R.length<=S),r(0,Math.min(4,S-R.length),R),r(0,(8-R.length%8)%8,R),i(R.length%8==0);for(let _=236;R.length<S;_^=253)r(_,8,R);let w=[];for(;w.length*8<R.length;)w.push(0);return R.forEach((_,O)=>w[O>>>3]|=_<<7-(O&7)),new ze(m,u,w,f)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let g=0;g<u;g++)d==0&&g==0||d==0&&g==u-1||d==u-1&&g==0||this.drawAlignmentPattern(c[d],c[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let f=0;f<10;f++)d=d<<1^(d>>>9)*1335;const g=(u<<10|d)^21522;i(g>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,n(g,f));this.setFunctionModule(8,7,n(g,6)),this.setFunctionModule(8,8,n(g,7)),this.setFunctionModule(7,8,n(g,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,n(g,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,n(g,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,n(g,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;i(u>>>18==0);for(let d=0;d<18;d++){const g=n(u,d),f=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(f,p,g),this.setFunctionModule(p,f,g)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let g=-4;g<=4;g++){const f=Math.max(Math.abs(g),Math.abs(d)),p=c+g,m=u+d;0<=p&&p<this.size&&0<=m&&m<this.size&&this.setFunctionModule(p,m,f!=2&&f!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let g=-2;g<=2;g++)this.setFunctionModule(c+g,u+d,Math.max(Math.abs(g),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=ze.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const g=ze.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],f=ze.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],p=Math.floor(ze.getNumRawDataModules(u)/8),m=g-p%g,j=Math.floor(p/g);let R=[];const S=ze.reedSolomonComputeDivisor(f);for(let _=0,O=0;_<g;_++){let C=c.slice(O,O+j-f+(_<m?0:1));O+=C.length;const W=ze.reedSolomonComputeRemainder(C,S);_<m&&C.push(0),R.push(C.concat(W))}let w=[];for(let _=0;_<R[0].length;_++)R.forEach((O,C)=>{(_!=j-f||C>=m)&&w.push(O[_])});return i(w.length==p),w}drawCodewords(c){if(c.length!=Math.floor(ze.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let g=0;g<this.size;g++)for(let f=0;f<2;f++){const p=d-f,j=(d+1&2)==0?this.size-1-g:g;!this.isFunction[j][p]&&u<c.length*8&&(this.modules[j][p]=n(c[u>>>3],7-(u&7)),u++)}}i(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let g;switch(c){case 0:g=(d+u)%2==0;break;case 1:g=u%2==0;break;case 2:g=d%3==0;break;case 3:g=(d+u)%3==0;break;case 4:g=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:g=d*u%2+d*u%3==0;break;case 6:g=(d*u%2+d*u%3)%2==0;break;case 7:g=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&g&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let f=0;f<this.size;f++){let p=!1,m=0,j=[0,0,0,0,0,0,0];for(let R=0;R<this.size;R++)this.modules[f][R]==p?(m++,m==5?c+=ze.PENALTY_N1:m>5&&c++):(this.finderPenaltyAddHistory(m,j),p||(c+=this.finderPenaltyCountPatterns(j)*ze.PENALTY_N3),p=this.modules[f][R],m=1);c+=this.finderPenaltyTerminateAndCount(p,m,j)*ze.PENALTY_N3}for(let f=0;f<this.size;f++){let p=!1,m=0,j=[0,0,0,0,0,0,0];for(let R=0;R<this.size;R++)this.modules[R][f]==p?(m++,m==5?c+=ze.PENALTY_N1:m>5&&c++):(this.finderPenaltyAddHistory(m,j),p||(c+=this.finderPenaltyCountPatterns(j)*ze.PENALTY_N3),p=this.modules[R][f],m=1);c+=this.finderPenaltyTerminateAndCount(p,m,j)*ze.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let p=0;p<this.size-1;p++){const m=this.modules[f][p];m==this.modules[f][p+1]&&m==this.modules[f+1][p]&&m==this.modules[f+1][p+1]&&(c+=ze.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((p,m)=>p+(m?1:0),u);const d=this.size*this.size,g=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=g&&g<=9),c+=g*ze.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let g=this.size-7;d.length<c;g-=u)d.splice(1,0,g);return d}}static getNumRawDataModules(c){if(c<ze.MIN_VERSION||c>ze.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(ze.getNumRawDataModules(c)/8)-ze.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*ze.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let g=0;g<c-1;g++)u.push(0);u.push(1);let d=1;for(let g=0;g<c;g++){for(let f=0;f<u.length;f++)u[f]=ze.reedSolomonMultiply(u[f],d),f+1<u.length&&(u[f]^=u[f+1]);d=ze.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(g=>0);for(const g of c){const f=g^d.shift();d.push(0),u.forEach((p,m)=>d[m]^=ze.reedSolomonMultiply(p,f))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let g=7;g>=0;g--)d=d<<1^(d>>>7)*285,d^=(u>>>g&1)*c;return i(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];i(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function n(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const o=class lt{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)r(d,8,u);return new lt(lt.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!lt.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const g=Math.min(c.length-d,3);r(parseInt(c.substring(d,d+g),10),g*3+1,u),d+=g}return new lt(lt.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!lt.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let g=lt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;g+=lt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),r(g,11,u)}return d<c.length&&r(lt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new lt(lt.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:lt.isNumeric(c)?[lt.makeNumeric(c)]:lt.isAlphanumeric(c)?[lt.makeAlphanumeric(c)]:[lt.makeBytes(lt.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,u);else if(c<16384)r(2,2,u),r(c,14,u);else if(c<1e6)r(6,3,u),r(c,21,u);else throw new RangeError("ECI assignment value out of range");return new lt(lt.Mode.ECI,0,u)}static isNumeric(c){return lt.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return lt.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const g of c){const f=g.mode.numCharCountBits(u);if(g.numChars>=1<<f)return 1/0;d+=4+f+g.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=o;e.QrSegment=o})(Di||(Di={}));(e=>{(t=>{const r=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Di||(Di={}));(e=>{(t=>{const r=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Di||(Di={}));var zs=Di;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var A8={L:zs.QrCode.Ecc.LOW,M:zs.QrCode.Ecc.MEDIUM,Q:zs.QrCode.Ecc.QUARTILE,H:zs.QrCode.Ecc.HIGH},yw=128,xw="L",vw="#FFFFFF",ww="#000000",bw=!1,_w=1,R8=4,B8=0,F8=.1;function Ew(e,t=0){const r=[];return e.forEach(function(n,i){let o=null;n.forEach(function(a,l){if(!a&&o!==null){r.push(`M${o+t} ${i+t}h${l-o}v1H${o+t}z`),o=null;return}if(l===n.length-1){if(!a)return;o===null?r.push(`M${l+t},${i+t} h1v1H${l+t}z`):r.push(`M${o+t},${i+t} h${l+1-o}v1H${o+t}z`);return}a&&o===null&&(o=l)})}),r.join("")}function Sw(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,o)=>o<t.x||o>=t.x+t.w?i:!1))}function P8(e,t,r,n){if(n==null)return null;const i=e.length+r*2,o=Math.floor(t*F8),a=i/t,l=(n.width||o)*a,c=(n.height||o)*a,u=n.x==null?e.length/2-l/2:n.x*a,d=n.y==null?e.length/2-c/2:n.y*a,g=n.opacity==null?1:n.opacity;let f=null;if(n.excavate){let m=Math.floor(u),j=Math.floor(d),R=Math.ceil(l+u-m),S=Math.ceil(c+d-j);f={x:m,y:j,w:R,h:S}}const p=n.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:f,opacity:g,crossOrigin:p}}function O8(e,t){return t!=null?Math.max(Math.floor(t),0):e?R8:B8}function Nw({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:o,size:a,boostLevel:l}){let c=Ge.useMemo(()=>{const m=(Array.isArray(e)?e:[e]).reduce((j,R)=>(j.push(...zs.QrSegment.makeSegments(R)),j),[]);return zs.QrCode.encodeSegments(m,A8[t],r,void 0,void 0,l)},[e,t,r,l]);const{cells:u,margin:d,numCells:g,calculatedImageSettings:f}=Ge.useMemo(()=>{let p=c.getModules();const m=O8(n,i),j=p.length+m*2,R=P8(p,a,m,o);return{cells:p,margin:m,numCells:j,calculatedImageSettings:R}},[c,a,o,n,i]);return{qrcode:c,margin:d,cells:u,numCells:g,calculatedImageSettings:f}}var M8=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),U8=Ge.forwardRef(function(t,r){const n=t,{value:i,size:o=yw,level:a=xw,bgColor:l=vw,fgColor:c=ww,includeMargin:u=bw,minVersion:d=_w,boostLevel:g,marginSize:f,imageSettings:p}=n,j=fh(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:R}=j,S=fh(j,["style"]),w=p==null?void 0:p.src,_=Ge.useRef(null),O=Ge.useRef(null),C=Ge.useCallback(P=>{_.current=P,typeof r=="function"?r(P):r&&(r.current=P)},[r]),[W,H]=Ge.useState(!1),{margin:F,cells:J,numCells:U,calculatedImageSettings:I}=Nw({value:i,level:a,minVersion:d,boostLevel:g,includeMargin:u,marginSize:f,imageSettings:p,size:o});Ge.useEffect(()=>{if(_.current!=null){const P=_.current,G=P.getContext("2d");if(!G)return;let D=J;const ie=O.current,Q=I!=null&&ie!==null&&ie.complete&&ie.naturalHeight!==0&&ie.naturalWidth!==0;Q&&I.excavation!=null&&(D=Sw(J,I.excavation));const te=window.devicePixelRatio||1;P.height=P.width=o*te;const he=o/U*te;G.scale(he,he),G.fillStyle=l,G.fillRect(0,0,U,U),G.fillStyle=c,M8?G.fill(new Path2D(Ew(D,F))):J.forEach(function(ce,ue){ce.forEach(function(_e,k){_e&&G.fillRect(k+F,ue+F,1,1)})}),I&&(G.globalAlpha=I.opacity),Q&&G.drawImage(ie,I.x+F,I.y+F,I.w,I.h)}}),Ge.useEffect(()=>{H(!1)},[w]);const Y=dh({height:o,width:o},R);let N=null;return w!=null&&(N=Ge.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{H(!0)},ref:O,crossOrigin:I==null?void 0:I.crossOrigin})),Ge.createElement(Ge.Fragment,null,Ge.createElement("canvas",dh({style:Y,height:o,width:o,ref:C,role:"img"},S)),N)});U8.displayName="QRCodeCanvas";var jw=Ge.forwardRef(function(t,r){const n=t,{value:i,size:o=yw,level:a=xw,bgColor:l=vw,fgColor:c=ww,includeMargin:u=bw,minVersion:d=_w,boostLevel:g,title:f,marginSize:p,imageSettings:m}=n,j=fh(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:R,cells:S,numCells:w,calculatedImageSettings:_}=Nw({value:i,level:a,minVersion:d,boostLevel:g,includeMargin:u,marginSize:p,imageSettings:m,size:o});let O=S,C=null;m!=null&&_!=null&&(_.excavation!=null&&(O=Sw(S,_.excavation)),C=Ge.createElement("image",{href:m.src,height:_.h,width:_.w,x:_.x+R,y:_.y+R,preserveAspectRatio:"none",opacity:_.opacity,crossOrigin:_.crossOrigin}));const W=Ew(O,R);return Ge.createElement("svg",dh({height:o,width:o,viewBox:`0 0 ${w} ${w}`,ref:r,role:"img"},j),!!f&&Ge.createElement("title",null,f),Ge.createElement("path",{fill:l,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),Ge.createElement("path",{fill:c,d:W,shapeRendering:"crispEdges"}),C)});jw.displayName="QRCodeSVG";function z8(){const{cryptoWallets:e,createCryptoWallet:t,updateCryptoWalletBalance:r,refreshCryptoWallets:n,isLoading:i,actor:o}=Jt(),[a,l]=M.useState(!1),[c,u]=M.useState(!1),[d,g]=M.useState(!1),[f,p]=M.useState(null),[m,j]=M.useState({name:"",currency:"ICP",isExternal:!1,address:"",externalWalletType:""}),[R,S]=M.useState(""),[w,_]=M.useState(!1),[O,C]=M.useState(null),[W,H]=M.useState({}),[F,J]=M.useState({}),[U,I]=M.useState(!1),Y=["ICP","ckBTC","ckETH","CHAT","SNS1","KINIC","MODCLUB","BOOM","DRAGGINZ","ELNA","GLDT","NANAS","PANDA","SEERS","DSCVR","CYCLES","DKUMA","OPENCHAT"],N=["Plug","Stoic","Bitfinity","NFID","Trust Wallet","Coinbase Wallet"];M.useEffect(()=>{n()},[]),M.useEffect(()=>{d&&f&&!F[f.currency]&&G(f.currency)},[d,f]);const P=async()=>{if(!(!o||!e||e.length===0)){I(!0);try{const k=await o.getDepositAddresses();if("ok"in k){const ye={};k.ok.forEach(([ve,le])=>{ye[ve]=le}),J(ye)}}catch(k){console.error("Failed to load deposit addresses:",k)}finally{I(!1)}}},G=async k=>{if(!o){const ye=D(k);return J(ve=>({...ve,[k]:ye})),ye}if(F[k])return F[k];try{const ye=new Promise((fe,me)=>{setTimeout(()=>me(new Error("Address loading timeout")),5e3)}),ve=o.getDepositAddress(k),le=await Promise.race([ve,ye]);if("ok"in le)return J(fe=>({...fe,[k]:le.ok})),le.ok;{console.error("Failed to get deposit address for",k,":",le.err);const fe=D(k);return J(me=>({...me,[k]:fe})),fe}}catch(ye){console.error("Failed to get deposit address for",k,":",ye);const ve=D(k);return J(le=>({...le,[k]:ve})),ve}},D=k=>{const ye=Date.now(),ve=Math.floor(Math.random()*1e6);switch(k){case"ICP":return`2vxsx-fae${ye}${ve}`;case"ckBTC":return`bc1${ye}${ve}`;case"ckETH":return`0x${ye}${ve}`;default:return`${k.toLowerCase()}_${ye}${ve}`}},ie=async()=>{if(!m.name||!m.currency){alert("Please fill in all required fields");return}_(!0);try{await t(m.name,m.currency,m.isExternal,m.isExternal?m.externalWalletType:null,m.address||null),l(!1),j({name:"",currency:"ICP",isExternal:!1,address:"",externalWalletType:""}),await P(),alert("Crypto wallet created successfully!")}catch(k){console.error("Failed to create crypto wallet:",k),alert("Failed to create crypto wallet. Please try again.")}finally{_(!1)}},Q=async()=>{if(!f||!R||isNaN(R)){alert("Please enter a valid balance");return}_(!0);try{const k=parseFloat(R);await r(f.id,k),u(!1),p(null),S(""),alert("Balance updated successfully!")}catch(k){console.error("Failed to update balance:",k),alert("Failed to update balance. Please try again.")}finally{_(!1)}},te=async(k,ye)=>{try{await navigator.clipboard.writeText(k),C(ye),setTimeout(()=>C(null),2e3)}catch(ve){console.error("Failed to copy address:",ve),alert("Failed to copy address. Please copy manually.")}},he=k=>{if(!k&&k!==0)return"0.000000";let ye;return ye=Number(k),isNaN(ye)?"0.000000":ye.toFixed(6)},ce=(k,ye)=>!k||k==="Loading..."||k==="Error loading address"?k||"No address":W[ye]||k.length<=20?k:`${k.slice(0,10)}...${k.slice(-10)}`,ue=k=>({ICP:"⭕",ckBTC:"₿",ckETH:"⟠",CHAT:"💬",SNS1:"🔗",KINIC:"🎬",MODCLUB:"🛡️",BOOM:"💥",DRAGGINZ:"🐉",ELNA:"🌟",GLDT:"��",NANAS:"🍌",PANDA:"🐼",SEERS:"👁️",DSCVR:"🔍",CYCLES:"⚡",DKUMA:"🐻",OPENCHAT:"💬"})[k]||"🪙",_e=k=>({ICP:{name:"Internet Computer",explorer:"https://dashboard.internetcomputer.org/account/"},ckBTC:{name:"Bitcoin (ckBTC)",explorer:"https://dashboard.internetcomputer.org/bitcoin"},ckETH:{name:"Ethereum (ckETH)",explorer:"https://dashboard.internetcomputer.org/ethereum"},CHAT:{name:"OpenChat",explorer:"https://oc.app"},SNS1:{name:"SNS DAO",explorer:"https://dashboard.internetcomputer.org/sns"},KINIC:{name:"Kinic",explorer:"https://kinic.io"},MODCLUB:{name:"Modclub",explorer:"https://modclub.ai"},BOOM:{name:"Boom DAO",explorer:"https://boomdao.ooo"},DRAGGINZ:{name:"Dragginz",explorer:"https://dragginz.com"},ELNA:{name:"Elna",explorer:"https://elna.ai"},GLDT:{name:"Gold DAO",explorer:"https://golddao.ooo"},NANAS:{name:"Nanas",explorer:"https://nanas.com"},PANDA:{name:"Panda DAO",explorer:"https://pandadao.ooo"},SEERS:{name:"Seers",explorer:"https://seers.com"},DSCVR:{name:"DSCVR",explorer:"https://dscvr.one"},CYCLES:{name:"Cycles",explorer:"https://dashboard.internetcomputer.org/cycles"},DKUMA:{name:"Dkuma",explorer:"https://dkuma.com"},OPENCHAT:{name:"OpenChat",explorer:"https://oc.app"}})[k]||{name:"Unknown Network",explorer:"#"};return i?s.jsxs("div",{className:"crypto-wallets-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading crypto wallets..."})]}):s.jsxs("div",{className:"crypto-wallets",children:[s.jsxs("div",{className:"crypto-wallets-header",children:[s.jsx("h2",{children:"Your Crypto Wallets"}),s.jsxs("button",{className:"btn btn-primary",onClick:()=>l(!0),children:[s.jsx("span",{className:"btn-icon",children:"+"}),"Create Wallet"]})]}),s.jsx("div",{className:"crypto-wallets-grid",style:{display:"flex",flexWrap:"wrap",gap:"1.1rem",width:"100%",marginBottom:"1.5rem"},children:e.length===0?s.jsxs("div",{className:"no-wallets",children:[s.jsx("div",{className:"no-wallets-icon",children:"🪙"}),s.jsx("h3",{children:"No Crypto Wallets"}),s.jsx("p",{children:"You don't have any crypto wallets yet. Create your first wallet to get started!"})]}):e.map(k=>s.jsxs("div",{className:"dashboard-card",style:{flex:"1 1 260px",minWidth:"260px",maxWidth:"400px",alignItems:"flex-start",padding:"0.9rem 1rem 0.7rem 1rem",gap:"0.5rem",position:"relative",boxShadow:"var(--shadow-sm)"},children:[s.jsx("div",{className:"wallet-icon",style:{fontSize:"1.5rem",width:"32px",height:"32px",marginBottom:"0.2rem"},children:ue(k.currency)}),s.jsx("div",{className:"stat-number",children:he(k.balance)}),s.jsxs("div",{className:"stat-label",children:[k.name," ",s.jsx("span",{style:{color:"var(--primary-600)",fontWeight:600},children:k.currency})]}),s.jsxs("div",{className:"wallet-actions",style:{display:"flex",gap:"0.4rem",marginTop:"0.3rem"},children:[s.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>{p(k),g(!0)},children:[s.jsx(f8,{})," Deposit"]}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>{p(k),u(!0)},children:"Balance"}),s.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>{p(k),H(ye=>({...ye,[k.id]:!ye[k.id]}))},children:"Address"})]}),W[k.id]&&s.jsx("div",{className:"wallet-address",style:{marginTop:"0.3rem",fontSize:"0.92rem",color:"var(--primary-700)",fontFamily:"monospace",wordBreak:"break-all",whiteSpace:"pre-wrap"},children:ce(k.address||"No address")})]},k.id))}),a&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal",children:[s.jsxs("div",{className:"modal-left",children:[s.jsx("div",{className:"wallet-icon-large",children:"🪙"}),s.jsx("p",{className:"desc",children:"Create a new wallet to manage your digital assets securely and easily."})]}),s.jsxs("div",{className:"modal-right",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{children:"Create New Crypto Wallet"}),s.jsx("button",{className:"modal-close",onClick:()=>l(!1),children:"×"})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Wallet Name"}),s.jsx("input",{type:"text",value:m.name,onChange:k=>j(ye=>({...ye,name:k.target.value})),placeholder:"e.g., My ICP Wallet"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Currency"}),s.jsx("select",{value:m.currency,onChange:k=>j(ye=>({...ye,currency:k.target.value})),children:Y.map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsx("div",{className:"form-group",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:m.isExternal,onChange:k=>j(ye=>({...ye,isExternal:k.target.checked}))}),"External Wallet"]})}),m.isExternal&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"External Wallet Type"}),s.jsxs("select",{value:m.externalWalletType,onChange:k=>j(ye=>({...ye,externalWalletType:k.target.value})),children:[s.jsx("option",{value:"",children:"Select wallet type"}),N.map(k=>s.jsx("option",{value:k,children:k},k))]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Wallet Address"}),s.jsx("input",{type:"text",value:m.address,onChange:k=>j(ye=>({...ye,address:k.target.value})),placeholder:"Enter external wallet address"})]})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>l(!1),children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:ie,disabled:w,children:w?"Creating...":"Create Wallet"})]})]})]})}),c&&f&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{children:"Update Balance"}),s.jsx("button",{className:"modal-close",onClick:()=>u(!1),children:"×"})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{children:["New Balance (",f.currency,")"]}),s.jsx("input",{type:"number",step:"0.000001",value:R,onChange:k=>S(k.target.value),placeholder:"0.000000"})]})}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>u(!1),children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:Q,disabled:w,children:w?"Updating...":"Update Balance"})]})]})}),d&&f&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal deposit-modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h3",{children:["Deposit ",f.currency]}),s.jsx("button",{className:"modal-close",onClick:()=>g(!1),children:"×"})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("div",{className:"qr-section",children:s.jsxs("div",{className:"qr-code-placeholder",children:[F[f.currency]?s.jsx(jw,{value:F[f.currency],size:120,level:"H",includeMargin:!0}):s.jsx(g8,{size:120}),s.jsxs("p",{children:["Scan this QR code or copy the address below to deposit ",f.currency,"."]})]})}),s.jsxs("div",{className:"instructions",children:[s.jsx("h4",{children:"How to Deposit"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Scan the QR code or copy the address below."}),s.jsxs("li",{children:["Send ",f.currency," from your external wallet (e.g., Binance, Coinbase)."]}),s.jsx("li",{children:"Wait for network confirmation (usually 2-5 minutes)."}),s.jsx("li",{children:"Check your balance after deposit is confirmed."})]})]}),s.jsxs("div",{className:"address-section",children:[s.jsx("h4",{children:"Deposit Address"}),s.jsxs("div",{className:"address-display",children:[s.jsx("p",{className:"address-text",children:F[f.currency]||"Loading..."}),s.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>te(F[f.currency],f.id),disabled:!F[f.currency],children:[O===f.id?s.jsx(Xe,{}):s.jsx(d8,{}),O===f.id?"Copied!":"Copy"]})]})]}),s.jsxs("div",{className:"network-info",children:[s.jsx("h4",{children:"Network Information"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Network:"})," ",_e(f.currency).name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Minimum Deposit:"})," 0.000001 ",f.currency]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Confirmation Time:"})," ~2-5 minutes"]})]})]}),s.jsx("div",{className:"modal-footer",children:s.jsx("button",{className:"btn btn-secondary",onClick:()=>g(!1),children:"Close"})})]})})]})}function V8(){const{user:e,isAuthenticated:t,isLoading:r,sendAIMessage:n}=Jt(),{showToast:i}=gi(),[o,a]=M.useState([{type:"assistant",content:"Hi! I am your AI Financial Assistant. How can I help you today?"}]),[l,c]=M.useState(""),[u,d]=M.useState(!1),g=M.useRef(null);M.useEffect(()=>{var p;(p=g.current)==null||p.scrollIntoView({behavior:"smooth"})},[o]);const f=async p=>{if(p.preventDefault(),!!l.trim()){d(!0),a(m=>[...m,{type:"user",content:l}]);try{let m="Sorry, AI is not available right now.";if(n){const j=await n(l);m=(j==null?void 0:j.content)||"AI could not process your request."}a(j=>[...j,{type:"assistant",content:m}])}catch{i({message:"Failed to get AI response",type:"error",icon:s.jsx(x8,{})}),a(j=>[...j,{type:"assistant",content:"Sorry, something went wrong."}])}finally{c(""),d(!1)}}};return s.jsxs("div",{className:"ai-assistant-container",children:[s.jsxs("div",{className:"ai-header",children:[s.jsx(uh,{className:"ai-icon"}),s.jsx("h3",{children:"AI Financial Assistant"})]}),s.jsxs("div",{className:"ai-chat-window",children:[o.map((p,m)=>s.jsxs("div",{className:`ai-message ${p.type}`,children:[s.jsx("span",{className:"ai-avatar",children:p.type==="assistant"?s.jsx(uh,{}):s.jsx(ku,{})}),s.jsx("span",{className:"ai-content",children:p.content})]},m)),s.jsx("div",{ref:g})]}),s.jsxs("form",{className:"ai-input-form",onSubmit:f,children:[s.jsx("input",{type:"text",placeholder:"Ask me anything about your finances...",value:l,onChange:p=>c(p.target.value),disabled:u||r}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u||r||!l.trim(),children:s.jsx(fw,{})})]})]})}const W8={"M-Pesa":s.jsx(b8,{}),Card:s.jsx(F0,{}),Bank:s.jsx(Yo,{}),Cash:s.jsx(w8,{}),Online:s.jsx(uw,{})},$8=["Mpesa","AirtelMoney","Equitel","BankTransfer","Card","PayPal","Custom"],H8=()=>{const{isAuthenticated:e,isLoading:t,backend:r}=Jt(),[n,i]=M.useState([]),[o,a]=M.useState(!0),[l,c]=M.useState(null),[u,d]=M.useState(!1),[g,f]=M.useState(null),[p,m]=M.useState({provider:"",accountNumber:"",phoneNumber:"",accountName:"",isDefault:!1}),[j,R]=M.useState(!1),S=async()=>{a(!0),c(null);try{const F=await r.getUserPaymentMethods();i(F||[])}catch{c("Failed to load payment methods")}finally{a(!1)}};M.useEffect(()=>{e&&S()},[e]);const w=()=>{f(null),m({provider:"",accountNumber:"",phoneNumber:"",accountName:"",isDefault:!1}),d(!0)},_=F=>{f(F),m({provider:F.provider,accountNumber:F.accountNumber||"",phoneNumber:F.phoneNumber||"",accountName:F.accountName,isDefault:F.isDefault}),d(!0)},O=()=>{d(!1),f(null),m({provider:"",accountNumber:"",phoneNumber:"",accountName:"",isDefault:!1})},C=F=>{const{name:J,value:U,type:I,checked:Y}=F.target;m(N=>({...N,[J]:I==="checkbox"?Y:U}))},W=async F=>{F.preventDefault(),R(!0);try{g?await r.updatePaymentMethod(g.id,p.accountNumber,p.phoneNumber,p.accountName,p.isDefault):await r.addPaymentMethod(p.provider,p.accountNumber,p.phoneNumber,p.accountName,p.isDefault),await S(),O()}catch{c("Failed to save payment method")}finally{R(!1)}},H=async F=>{if(window.confirm("Remove this payment method?")){R(!0);try{await r.removePaymentMethod(F),await S()}catch{c("Failed to remove payment method")}finally{R(!1)}}};return t?s.jsx("div",{children:"Loading..."}):e?s.jsxs("div",{className:"payment-methods-container",children:[s.jsx("h2",{children:"Local Payment Methods"}),o&&s.jsx("div",{style:{color:"var(--primary-600)"},children:"Loading..."}),l&&s.jsx("div",{style:{color:"var(--error-600)",marginBottom:8},children:l}),s.jsx("ul",{className:"payment-methods-list",children:n.map(F=>s.jsxs("li",{className:"payment-method-card",children:[s.jsx("h3",{children:F.accountName}),s.jsxs("div",{className:"meta",children:[s.jsx(ku,{})," ",F.phoneNumber||F.accountNumber||"N/A"]}),s.jsxs("div",{className:"types",children:[s.jsxs("span",{className:"type-icon",children:[W8[F.provider]||s.jsx(F0,{})," ",F.provider]}),F.isDefault&&s.jsxs("span",{className:"type-icon",style:{background:"var(--success-50)",color:"var(--success-600)"},children:[s.jsx(Xe,{})," Default"]})]}),s.jsxs("div",{className:"payment-method-actions",style:{display:"flex",gap:8,marginTop:8},children:[s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>_(F),children:s.jsx($c,{})}),s.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>H(F.id),children:s.jsx(Ll,{})})]})]},F.id))}),s.jsx("button",{className:"btn btn-primary fab",onClick:w,style:{position:"fixed",bottom:32,right:32,borderRadius:"50%",width:56,height:56,fontSize:24,zIndex:200},title:"Add Payment Method",children:s.jsx(ba,{})}),u&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("form",{className:"modal",style:{maxWidth:400,minWidth:280},onSubmit:W,children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{children:g?"Edit Payment Method":"Add Payment Method"}),s.jsx("button",{className:"modal-close",onClick:O,type:"button",children:s.jsx(Ie,{})})]}),s.jsxs("div",{className:"modal-body",style:{display:"flex",flexDirection:"column",gap:12},children:[s.jsxs("label",{children:["Provider",s.jsxs("select",{name:"provider",value:p.provider,onChange:C,required:!0,disabled:!!g,children:[s.jsx("option",{value:"",children:"Select provider"}),$8.map(F=>s.jsx("option",{value:F,children:F},F))]})]}),s.jsxs("label",{children:["Account Name",s.jsx("input",{name:"accountName",value:p.accountName,onChange:C,required:!0,placeholder:"e.g. My M-Pesa"})]}),s.jsxs("label",{children:["Account Number",s.jsx("input",{name:"accountNumber",value:p.accountNumber,onChange:C,placeholder:"(optional)"})]}),s.jsxs("label",{children:["Phone Number",s.jsx("input",{name:"phoneNumber",value:p.phoneNumber,onChange:C,placeholder:"(optional)"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",name:"isDefault",checked:p.isDefault,onChange:C})," Default"]})]}),s.jsxs("div",{className:"modal-footer",style:{display:"flex",justifyContent:"flex-end",gap:8},children:[s.jsx("button",{className:"btn btn-secondary",type:"button",onClick:O,children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",type:"submit",disabled:j,children:j?"Saving...":"Save"})]})]})})]}):s.jsx("div",{style:{color:"var(--primary-600)",textAlign:"center",marginTop:32},children:"Please log in to manage payment methods."})};function I8(){const{isAuthenticated:e,isLoading:t,getAvailableGames:r,getUserGames:n,joinGame:i}=Jt(),{showToast:o}=gi(),[a,l]=M.useState([]),[c,u]=M.useState([]),[d,g]=M.useState(!0);M.useEffect(()=>{(async()=>{g(!0);try{if(r){const m=await r();l(m||[])}if(n){const m=await n();u(m||[])}}catch{o({message:"Failed to load games",type:"error",icon:s.jsx(og,{})})}finally{g(!1)}})()},[]);const f=async p=>{if(i)try{if(await i(p),o({message:"Joined game!",type:"success",icon:s.jsx(Xe,{})}),n){const m=await n();u(m||[])}}catch{o({message:"Failed to join game",type:"error",icon:s.jsx(og,{})})}};return d?s.jsx("div",{children:"Loading social games..."}):s.jsxs("div",{className:"social-games-container",children:[s.jsxs("div",{className:"social-games-header",children:[s.jsx(aw,{className:"social-games-icon"}),s.jsx("h3",{children:"Social Games"})]}),s.jsx("div",{className:"social-games-list",children:a.length===0?s.jsx("div",{children:"No games available right now."}):a.map(p=>s.jsxs("div",{className:"social-game-card",children:[s.jsx("div",{className:"game-title",children:p.name}),s.jsx("div",{className:"game-desc",children:p.description}),s.jsxs("div",{className:"game-meta",children:[s.jsxs("span",{children:[s.jsx(ui,{})," ",p.currentParticipants," / ",p.maxParticipants||"∞"," players"]}),s.jsxs("span",{children:[s.jsx(hw,{})," Prize: ",p.prizePool," ",p.currency]}),s.jsxs("span",{children:[s.jsx(Tu,{})," Status: ",p.status]})]}),c.some(m=>m.id===p.id)?s.jsxs("button",{className:"btn btn-success",disabled:!0,children:[s.jsx(Xe,{})," Joined"]}):s.jsxs("button",{className:"btn btn-primary",onClick:()=>f(p.id),children:[s.jsx(v8,{})," Join Game"]})]},p.id))})]})}const G8=()=>{Jt();const[e,t]=M.useState(!0),[r,n]=M.useState(null),[i,o]=M.useState("overview"),[a,l]=M.useState({totalValue:0,totalInvested:0,totalReturn:0,totalReturnPercentage:0,portfolio:[]});if(M.useEffect(()=>{const d=async()=>{try{t(!0),await new Promise(f=>setTimeout(f,1e3)),l({totalValue:12345.67,totalInvested:1e4,totalReturn:2345.67,totalReturnPercentage:23.46,portfolio:[{name:"Asset A",value:5e3,invested:4e3,return:1e3,returnPercentage:25},{name:"Asset B",value:3e3,invested:2500,return:500,returnPercentage:20},{name:"Asset C",value:4345.67,invested:3500,return:845.67,returnPercentage:24.16}]})}catch(f){n(f)}finally{t(!1)}};d();const g=setInterval(d,5e3);return()=>clearInterval(g)},[]),e)return s.jsx("div",{children:"Loading..."});if(r)return s.jsxs("div",{children:["Error: ",r.message]});const c=[{name:"ICP",value:8e3,change:5.26,amount:"50 ICP"},{name:"ckBTC",value:2500,change:8.7,amount:"0.5 ckBTC"},{name:"ckETH",value:2e3,change:14.29,amount:"2 ckETH"}],u=[{icon:s.jsx(Tu,{size:22,style:{color:"#1976d2",background:"#e3f0fa",borderRadius:8,padding:4}}),title:"ICP Staking",desc:"Stake ICP tokens to earn rewards",apy:"8.5%",risk:{label:"Low",icon:s.jsx(Fr,{style:{color:"#059669"}})},min:"1",btn:"Start Earning"},{icon:s.jsx(lg,{size:22,style:{color:"#1976d2",background:"#e3f0fa",borderRadius:8,padding:4}}),title:"ckBTC Lending",desc:"Lend ckBTC to earn interest",apy:"12.3%",risk:{label:"Medium",icon:s.jsx(dw,{style:{color:"#f59e0b"}})},min:"0.001",btn:"Start Earning"},{icon:s.jsx(sg,{size:22,style:{color:"#1976d2",background:"#e3f0fa",borderRadius:8,padding:4}}),title:"ICP-ckBTC LP",desc:"Provide liquidity to earn fees",apy:"18.7%",risk:{label:"High",icon:s.jsx(ci,{style:{color:"#ef4444"}})},min:"100",btn:"Start Earning"}];return s.jsxs("section",{className:"dashboard-section",style:{padding:0,margin:0,background:"transparent",boxShadow:"none",border:"none"},children:[s.jsxs("div",{style:{background:"linear-gradient(90deg, #1976d2 0%, #1565c0 100%)",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",padding:"1.2rem 2rem",color:"#fff",display:"flex",alignItems:"center",gap:16},children:[s.jsx(lw,{size:28,style:{marginRight:12}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700,fontSize:20},children:"DeFi Tools"}),s.jsx("div",{style:{fontSize:15,opacity:.92},children:"Access decentralized finance with local fiat integration"})]})]}),s.jsxs("div",{style:{padding:"2rem 2.5rem 0 2.5rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:18},children:[s.jsx("div",{style:{fontWeight:700,fontSize:18,color:"var(--neutral-700)"},children:"Portfolio Overview"}),s.jsxs("button",{className:"btn btn-secondary",style:{display:"flex",alignItems:"center",gap:6,fontWeight:600,fontSize:15},children:[s.jsx(cg,{})," Refresh"]})]}),s.jsxs("div",{className:"dashboard-card",style:{marginBottom:24,maxWidth:340},children:[s.jsx("div",{style:{fontSize:32,fontWeight:800,color:"var(--primary-700)"},children:"$12,500"}),s.jsxs("div",{style:{color:"var(--success-700)",fontWeight:600,fontSize:18,marginTop:2},children:[s.jsx("span",{style:{marginRight:4},children:"↑ $850"}),s.jsx("span",{style:{color:"var(--success-600)",fontWeight:700},children:"(+7.28%)"})]})]}),s.jsxs("div",{className:"dashboard-section",style:{background:"var(--neutral-50)",borderRadius:12,boxShadow:"var(--shadow-sm)",padding:"1.2rem 1.5rem",maxWidth:600},children:[s.jsx("div",{style:{fontWeight:700,fontSize:16,color:"var(--neutral-700)",marginBottom:12},children:"Your Assets"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:c.map((d,g)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#fff",borderRadius:8,padding:"0.9rem 1.2rem",boxShadow:"var(--shadow-xs, 0 1px 2px 0 rgb(0 0 0 / 0.03))"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[s.jsx("span",{style:{fontWeight:700,color:"var(--neutral-800)",fontSize:15},children:d.name}),s.jsx("span",{style:{color:"var(--neutral-400)",fontSize:13},children:d.amount})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsxs("div",{style:{fontWeight:700,color:"var(--primary-800)",fontSize:17},children:["$",d.value.toLocaleString()]}),s.jsxs("div",{style:{color:"var(--success-700)",fontWeight:600,fontSize:14},children:["↑ ",d.change,"%"]})]})]},d.name))})]}),s.jsxs("div",{style:{marginTop:32},children:[s.jsx("div",{style:{display:"flex",gap:0,borderBottom:"2px solid var(--primary-100)",marginBottom:18},children:["overview","swap","lending","yield"].map(d=>s.jsxs("button",{className:"btn",style:{borderRadius:0,border:"none",background:i===d?"var(--primary-50)":"transparent",color:i===d?"var(--primary-700)":"var(--neutral-500)",fontWeight:i===d?700:500,borderBottom:i===d?"2.5px solid var(--primary-500)":"2.5px solid transparent",boxShadow:"none",fontSize:16,padding:"0.7rem 2.2rem",marginRight:2,transition:"all 0.18s"},onClick:()=>o(d),children:[d==="overview"&&s.jsx(s.Fragment,{children:"Overview"}),d==="swap"&&s.jsxs(s.Fragment,{children:[s.jsx(cg,{style:{marginRight:6}}),"Swap"]}),d==="lending"&&s.jsxs(s.Fragment,{children:[s.jsx(lg,{style:{marginRight:6}}),"Lending"]}),d==="yield"&&s.jsxs(s.Fragment,{children:[s.jsx(sg,{style:{marginRight:6}}),"Yield Farming"]})]},d))}),s.jsx("div",{style:{fontWeight:700,fontSize:18,color:"var(--neutral-700)",marginBottom:18},children:"DeFi Products"}),s.jsx("div",{style:{display:"flex",gap:18,flexWrap:"wrap"},children:u.map((d,g)=>s.jsxs("div",{className:"dashboard-card",style:{minWidth:320,maxWidth:340,flex:1,padding:"1.2rem 1.3rem",display:"flex",flexDirection:"column",gap:8},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:4},children:[d.icon,s.jsx("span",{style:{fontWeight:700,fontSize:17,color:"var(--primary-800)"},children:d.title})]}),s.jsx("div",{style:{color:"var(--neutral-500)",fontSize:15,marginBottom:6},children:d.desc}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,fontSize:15,color:"var(--neutral-700)",marginBottom:6},children:[s.jsxs("span",{children:["APY: ",s.jsx("b",{style:{color:"var(--primary-700)"},children:d.apy})]}),s.jsxs("span",{children:["Risk: ",d.risk.icon," ",s.jsx("b",{style:{color:"var(--neutral-700)"},children:d.risk.label})]}),s.jsxs("span",{children:["Min Amount: ",s.jsx("b",{style:{color:"var(--primary-700)"},children:d.min})]})]}),s.jsx("button",{className:"btn btn-primary",style:{marginTop:8,fontWeight:600,fontSize:15},children:d.btn})]},d.title))})]})]})]})};function q8(){Jt();const[e,t]=M.useState("marketplace"),[r,n]=M.useState(""),[i,o]=M.useState("all"),[a,l]=M.useState([]),[c,u]=M.useState([]),[d,g]=M.useState(!1),[f,p]=M.useState(null),[m,j]=M.useState(!1),[R,S]=M.useState(!1),w=[{id:"all",name:"All",icon:"📦"},{id:"finance",name:"Finance",icon:"💰"},{id:"gaming",name:"Gaming",icon:"🎮"},{id:"productivity",icon:"⚡",name:"Productivity"},{id:"social",name:"Social",icon:"👥"},{id:"utilities",name:"Utilities",icon:"🔧"}];M.useEffect(()=>{l([{id:1,name:"Budget Tracker Pro",description:"Advanced budgeting and expense tracking with AI insights",category:"finance",author:"Nesto Team",version:"1.2.0",rating:4.8,downloads:15420,size:"2.3 MB",price:0,tags:["budgeting","expenses","ai","analytics"],features:["AI-powered insights","Multi-currency support","Export reports"],status:"available",icon:"📊",screenshots:[],reviews:[{user:"Alice",rating:5,comment:"Super useful for my monthly budget!"},{user:"Bob",rating:4,comment:"Great insights, easy to use."}]},{id:2,name:"Crypto Portfolio Manager",description:"Track and manage your cryptocurrency investments",category:"finance",author:"CryptoDev",version:"2.1.0",rating:4.6,downloads:8920,size:"1.8 MB",price:0,tags:["crypto","portfolio","trading","defi"],features:["Real-time prices","Portfolio tracking","DeFi integration"],status:"available",icon:"₿",screenshots:[],reviews:[{user:"Eve",rating:5,comment:"Love the real-time updates!"}]},{id:3,name:"Social Savings Challenge",description:"Create and join savings challenges with friends",category:"social",author:"SocialFinance",version:"1.0.5",rating:4.9,downloads:23450,size:"3.1 MB",price:0,tags:["savings","social","challenges","gamification"],features:["Group challenges","Progress tracking","Rewards system"],status:"available",icon:"🎯",screenshots:[],reviews:[{user:"Charlie",rating:5,comment:"Fun way to save with friends!"}]},{id:4,name:"Bill Reminder",description:"Never miss a bill payment with smart reminders",category:"utilities",author:"UtilitySoft",version:"1.0.0",rating:4.7,downloads:12e3,size:"1.2 MB",price:0,tags:["bills","reminders","utilities"],features:["Smart reminders","Recurring bills","Calendar sync"],status:"available",icon:"⏰",screenshots:[],reviews:[]}]),u([2])},[]);const _=a.filter(F=>{const J=i==="all"||F.category===i,U=F.name.toLowerCase().includes(r.toLowerCase())||F.description.toLowerCase().includes(r.toLowerCase());return J&&U}),O=a.filter(F=>c.includes(F.id)),C=F=>{p(F),g(!0)},W=async F=>{j(!0),setTimeout(()=>{u(J=>[...J,F.id]),j(!1)},1e3)},H=async F=>{S(!0),setTimeout(()=>{u(J=>J.filter(U=>U!==F.id)),S(!1),g(!1)},1e3)};return s.jsxs("div",{className:"plugin-marketplace-root",style:{width:"100%",padding:0,margin:0,position:"relative"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:24,marginBottom:24,borderBottom:"1px solid var(--neutral-100)",padding:"0 2rem 1.2rem 2rem",background:"white",position:"sticky",top:0,zIndex:2},children:[s.jsx("h2",{style:{fontWeight:700,fontSize:28,margin:0,color:"var(--primary-700)",letterSpacing:"-1px"},children:"Plug-in Marketplace"}),s.jsx("div",{style:{flex:1}}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{className:`tab-btn${e==="marketplace"?" active":""}`,onClick:()=>t("marketplace"),style:{padding:"0.6rem 1.4rem",borderRadius:8,border:"none",background:e==="marketplace"?"var(--primary-600)":"var(--neutral-100)",color:e==="marketplace"?"white":"var(--neutral-600)",fontWeight:600,fontSize:16,transition:"all 0.18s",boxShadow:e==="marketplace"?"0 2px 8px 0 rgba(59,130,246,0.10)":"none",cursor:"pointer"},children:"Marketplace"}),s.jsx("button",{className:`tab-btn${e==="installed"?" active":""}`,onClick:()=>t("installed"),style:{padding:"0.6rem 1.4rem",borderRadius:8,border:"none",background:e==="installed"?"var(--primary-600)":"var(--neutral-100)",color:e==="installed"?"white":"var(--neutral-600)",fontWeight:600,fontSize:16,transition:"all 0.18s",boxShadow:e==="installed"?"0 2px 8px 0 rgba(59,130,246,0.10)":"none",cursor:"pointer"},children:"Installed"})]})]}),s.jsxs("div",{style:{display:"flex",gap:16,marginBottom:24,flexWrap:"wrap",padding:"0 2rem"},children:[s.jsx("input",{type:"text",placeholder:"Search plugins...",value:r,onChange:F=>n(F.target.value),style:{flex:1,minWidth:220,padding:"0.7rem 1.2rem",borderRadius:8,border:"1px solid var(--neutral-200)",fontSize:16,background:"var(--neutral-50)",boxShadow:"0 1px 2px 0 rgba(0,0,0,0.03)"}}),s.jsx("select",{value:i,onChange:F=>o(F.target.value),style:{padding:"0.7rem 1.2rem",borderRadius:8,border:"1px solid var(--neutral-200)",fontSize:16,background:"var(--neutral-50)",boxShadow:"0 1px 2px 0 rgba(0,0,0,0.03)"},children:w.map(F=>s.jsxs("option",{value:F.id,children:[F.icon," ",F.name]},F.id))})]}),s.jsx("div",{className:"plugin-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:24,padding:"0 2rem 2rem 2rem"},children:(e==="marketplace"?_:O).length===0?s.jsx("div",{style:{gridColumn:"1/-1",textAlign:"center",color:"var(--neutral-400)",fontSize:18,padding:"3rem 0"},children:"No plugins found."}):(e==="marketplace"?_:O).map(F=>s.jsxs("div",{className:"plugin-card",style:{background:"white",borderRadius:14,boxShadow:"0 2px 8px rgba(0,0,0,0.07)",padding:24,display:"flex",flexDirection:"column",alignItems:"flex-start",position:"relative",minHeight:220,transition:"box-shadow 0.2s, transform 0.18s",cursor:"pointer",border:"1px solid var(--neutral-100)"},onClick:()=>C(F),onMouseEnter:J=>J.currentTarget.style.transform="translateY(-4px) scale(1.03)",onMouseLeave:J=>J.currentTarget.style.transform="none",children:[s.jsx("div",{style:{fontSize:36,marginBottom:12},children:F.icon}),s.jsx("div",{style:{fontWeight:700,fontSize:18,marginBottom:4},children:F.name}),s.jsx("div",{style:{color:"var(--neutral-500)",fontSize:15,marginBottom:8},children:F.description}),s.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[s.jsx("span",{style:{background:"var(--neutral-100)",borderRadius:6,padding:"2px 8px",fontSize:13},children:F.category}),s.jsxs("span",{style:{color:"#f5b50a",fontWeight:600,fontSize:13},children:["★ ",F.rating]})]}),s.jsxs("div",{style:{fontSize:13,color:"var(--neutral-400)"},children:[F.downloads.toLocaleString()," installs"]}),c.includes(F.id)&&s.jsx("div",{style:{position:"absolute",top:18,right:18,background:"var(--primary-100)",color:"var(--primary-700)",borderRadius:8,padding:"2px 10px",fontSize:13,fontWeight:600},children:"Installed"})]},F.id))}),d&&f&&s.jsx("div",{className:"plugin-modal-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.18)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",animation:"fadeIn 0.2s"},onClick:()=>g(!1),children:s.jsxs("div",{className:"plugin-modal",style:{background:"white",borderRadius:16,boxShadow:"0 4px 32px rgba(0,0,0,0.18)",padding:36,minWidth:340,maxWidth:420,width:"100%",position:"relative",animation:"slideUp 0.22s"},onClick:F=>F.stopPropagation(),children:[s.jsx("button",{onClick:()=>g(!1),style:{position:"absolute",top:18,right:18,background:"none",border:"none",fontSize:22,color:"var(--neutral-400)",cursor:"pointer"},children:s.jsx(Ie,{})}),s.jsx("div",{style:{fontSize:48,marginBottom:12},children:f.icon}),s.jsx("div",{style:{fontWeight:700,fontSize:22,marginBottom:6},children:f.name}),s.jsx("div",{style:{color:"var(--neutral-500)",fontSize:15,marginBottom:10},children:f.description}),s.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[s.jsx("span",{style:{background:"var(--neutral-100)",borderRadius:6,padding:"2px 8px",fontSize:13},children:f.category}),s.jsxs("span",{style:{color:"#f5b50a",fontWeight:600,fontSize:13},children:["★ ",f.rating]}),s.jsxs("span",{style:{fontSize:13,color:"var(--neutral-400)"},children:[f.downloads.toLocaleString()," installs"]})]}),s.jsxs("div",{style:{fontSize:13,color:"var(--neutral-400)",marginBottom:8},children:["By ",f.author," • v",f.version," • ",f.size]}),s.jsx("div",{style:{marginBottom:12},children:f.features&&f.features.map((F,J)=>s.jsx("span",{style:{background:"var(--primary-50)",color:"var(--primary-700)",borderRadius:6,padding:"2px 8px",fontSize:13,marginRight:6},children:F},J))}),c.includes(f.id)?s.jsx("button",{className:"btn btn-danger",style:{width:"100%",marginBottom:10,fontWeight:600,fontSize:16,borderRadius:8,transition:"all 0.18s"},onClick:()=>H(f),disabled:R,children:R?"Uninstalling...":"Uninstall"}):s.jsx("button",{className:"btn btn-primary",style:{width:"100%",marginBottom:10,fontWeight:600,fontSize:16,borderRadius:8,transition:"all 0.18s"},onClick:()=>W(f),disabled:m,children:m?"Installing...":"Install"}),s.jsxs("div",{style:{marginTop:18},children:[s.jsx("div",{style:{fontWeight:600,fontSize:15,marginBottom:6},children:"Reviews"}),f.reviews&&f.reviews.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:f.reviews.map((F,J)=>s.jsxs("div",{style:{background:"var(--neutral-100)",borderRadius:6,padding:"6px 10px",fontSize:14},children:[s.jsx("span",{style:{fontWeight:600},children:F.user}),": ",s.jsxs("span",{style:{color:"#f5b50a"},children:["★ ",F.rating]})," ",s.jsx("span",{style:{color:"var(--neutral-600)"},children:F.comment})]},J))}):s.jsx("div",{style:{color:"var(--neutral-400)",fontSize:14},children:"No reviews yet."})]})]})})]})}function Tw(e){return ke({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 0 0-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zM512 734.2c-62.1 0-112.6-50.5-112.6-112.6S449.9 509 512 509s112.6 50.5 112.6 112.6S574.1 734.2 512 734.2zm0-160.9c-26.6 0-48.2 21.6-48.2 48.3 0 26.6 21.6 48.3 48.2 48.3s48.2-21.6 48.2-48.3c0-26.6-21.6-48.3-48.2-48.3z"},child:[]}]})(e)}function K8({vault:e,details:t,onBack:r,user:n,showToast:i}){var je,Re,Ce,Se,Fe,$e,Vr,Wr;const{principal:o}=Jt(),a=Ge.useRef(new nw).current;M.useEffect(()=>{const X=document.createElement("style");return X.textContent=`
      @keyframes typing {
        0%, 60%, 100% {
          transform: translateY(0);
          opacity: 0.4;
        }
        30% {
          transform: translateY(-10px);
          opacity: 1;
        }
      }
      
      @keyframes pulse {
        0%, 100% {
          opacity: 1;
          transform: translateX(-50%) scale(1);
        }
        50% {
          opacity: 0.8;
          transform: translateX(-50%) scale(1.05);
        }
      }
      
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes slideUp {
        from { 
          opacity: 0;
          transform: translateY(30px) scale(0.95);
        }
        to { 
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
    `,document.head.appendChild(X),()=>{document.head.removeChild(X)}},[]);const{depositToVault:l,withdrawFromVault:c,editGroupVault:u,deleteGroupVault:d,inviteVaultMember:g,removeVaultMember:f,changeVaultMemberRole:p,toggleVaultPrivacy:m}=Jt(),[j,R]=M.useState("overview"),[S,w]=M.useState(!1),[_,O]=M.useState(!1),[C,W]=M.useState(!1),[H,F]=M.useState(!1),[J,U]=M.useState(!1),[I,Y]=M.useState(!1),[N,P]=M.useState(null),[G,D]=M.useState(""),[ie,Q]=M.useState(""),[te,he]=M.useState(""),[ce,ue]=M.useState("");M.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",currency:(e==null?void 0:e.currency)||"",targetAmount:(e==null?void 0:e.targetAmount)||"",isPublic:(e==null?void 0:e.isPublic)||!1});const[_e,k]=M.useState(""),[ye,ve]=M.useState("member"),[le,fe]=M.useState([]),[me,A]=M.useState(""),[z,q]=M.useState(!1),[ee,Z]=M.useState(!1),[ne,b]=M.useState([]),[h,y]=M.useState(!1),[T,B]=M.useState(0),[K,se]=M.useState(null),pe=M.useRef(null),we=(e==null?void 0:e.ownerId)===(n==null?void 0:n.principal);(je=t==null?void 0:t.members)==null||je.some(X=>X.userId===(n==null?void 0:n.principal)&&X.role==="admin"),M.useEffect(()=>{if(J&&(e!=null&&e.id)&&(n!=null&&n.username)){const X=async()=>{try{console.log("Loading messages for vault:",e.id),console.log("Current user:",n),console.log("User principal:",o);const de=await a.getVaultMessages(e.id,50,0);de.ok?fe(de.ok):(console.error("Failed to load messages:",de.err),i("Failed to load chat messages","error"))}catch(de){console.error("Error loading messages:",de),i("Error loading chat messages","error")}};X();const V=setInterval(X,5e3);return()=>clearInterval(V)}},[J,e==null?void 0:e.id,n==null?void 0:n.username,i]),M.useEffect(()=>{pe.current&&le.length>0&&(setTimeout(()=>{pe.current.scrollTop=pe.current.scrollHeight},100),K&&le.length>0&&le[le.length-1].id!==K&&B(de=>de+1))},[le,K]),M.useEffect(()=>{if(ee){const X=setTimeout(()=>{Z(!1),b(V=>V.filter(de=>de!==(n==null?void 0:n.principal)))},3e3);return()=>clearTimeout(X)}},[ee,n]),M.useEffect(()=>{if(J&&(e!=null&&e.id)){const X=async()=>{try{const de=await a.getTypingIndicators(e.id);if(de.ok){const Be=de.ok.filter(et=>et.isTyping&&et.userId!==(n==null?void 0:n.principal)).map(et=>et.userId);b(Be)}}catch(de){console.error("Error loading typing indicators:",de)}},V=setInterval(X,2e3);return X(),()=>clearInterval(V)}},[J,e==null?void 0:e.id,n==null?void 0:n.principal]),M.useEffect(()=>{const X=pe.current;if(!X)return;const V=()=>{const{scrollTop:de,scrollHeight:Be,clientHeight:et}=X,vi=Be-de-et<100;if(y(!vi),vi&&T>0&&(B(0),le.length>0&&(se(le[le.length-1].id),e!=null&&e.id))){const Va=le.map(ns=>ns.id);a.markMessagesAsRead(e.id,Va).catch(ns=>{console.error("Error marking messages as read:",ns)})}};return X.addEventListener("scroll",V),()=>X.removeEventListener("scroll",V)},[J,T,le]);const be=()=>{pe.current&&pe.current.scrollTo({top:pe.current.scrollHeight,behavior:"smooth"})},Ae=async X=>{X.preventDefault(),Y(!0),P(null);try{const V=await l(e.id,parseFloat(G),ie);V.ok?(w(!1),D(""),Q(""),i({message:"Deposit successful!",type:"success",icon:s.jsx(Xe,{})}),r()):P(V.err||"Failed to deposit")}catch{P("Failed to deposit"),i({message:"Deposit failed",type:"error",icon:s.jsx(Ie,{})})}finally{Y(!1)}},E=async X=>{X.preventDefault(),Y(!0),P(null);try{const V=await c(e.id,parseFloat(te),ce);V.ok?(O(!1),he(""),ue(""),i({message:"Withdrawal successful!",type:"success",icon:s.jsx(Xe,{})}),r()):P(V.err||"Failed to withdraw")}catch{P("Failed to withdraw"),i({message:"Withdrawal failed",type:"error",icon:s.jsx(Ie,{})})}finally{Y(!1)}},x=async X=>{if(X.preventDefault(),me.trim()&&(e!=null&&e.id))try{const V=await a.sendVaultMessage(e.id,me.trim(),"Text",null);V.ok?(fe(de=>[...de,V.ok]),A(""),Z(!1),b(de=>de.filter(Be=>Be!==(n==null?void 0:n.principal)))):(console.error("Failed to send message:",V.err),i("Failed to send message","error"))}catch(V){console.error("Error sending message:",V),i("Error sending message","error")}},v=async X=>{if(A(X.target.value),!ee&&X.target.value.length>0){if(Z(!0),b(V=>[...V,n==null?void 0:n.principal]),e!=null&&e.id)try{await a.updateTypingStatus(e.id,!0)}catch(V){console.error("Error updating typing status:",V)}}else if(ee&&X.target.value.length===0&&(Z(!1),b(V=>V.filter(de=>de!==(n==null?void 0:n.principal))),e!=null&&e.id))try{await a.updateTypingStatus(e.id,!1)}catch(V){console.error("Error updating typing status:",V)}},$=X=>{const V=new Date(X),Be=new Date-V;return Be<6e4?"Just now":Be<36e5?`${Math.floor(Be/6e4)}m ago`:Be<864e5?`${Math.floor(Be/36e5)}h ago`:V.toLocaleDateString()},re=X=>{const V=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];if(!X)return V[0];const de=X.toString().split("").reduce((Be,et)=>Be+et.charCodeAt(0),0)%V.length;return V[de]},oe=(X,V)=>{fe(de=>de.map(Be=>{var et;return Be.id===X?{...Be,reactions:{...Be.reactions,[V]:(((et=Be.reactions)==null?void 0:et[V])||0)+1}}:Be}))},ae=X=>{if(!X)return"";const V=/(https?:\/\/[^\s]+)/g;return X.split(V).map((Be,et)=>V.test(Be)?s.jsx("a",{href:Be,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline"},children:Be},et):Be)};return s.jsxs("div",{className:"vault-details-container",style:{width:"100%",height:"100vh",background:"var(--neutral-50)",overflow:"hidden"},children:[s.jsxs("div",{style:{background:"linear-gradient(135deg, var(--primary-600), var(--primary-800))",color:"white",padding:"1rem 1.5rem",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 4px 12px rgba(59,130,246,0.15)",position:"sticky",top:0,zIndex:100},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("button",{onClick:r,style:{background:"rgba(255,255,255,0.15)",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},onMouseEnter:X=>X.target.style.background="rgba(255,255,255,0.25)",onMouseLeave:X=>X.target.style.background="rgba(255,255,255,0.15)",children:s.jsx(c8,{size:18})}),s.jsxs("div",{children:[s.jsx("h1",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,lineHeight:"1.2"},children:e==null?void 0:e.name}),s.jsx("p",{style:{margin:"0.25rem 0 0 0",opacity:.9,fontSize:"0.85rem",lineHeight:"1.3"},children:e==null?void 0:e.description})]})]}),s.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[s.jsxs("button",{onClick:()=>U(!J),style:{background:J?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)",border:"none",borderRadius:8,padding:"0.5rem 1rem",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.9rem",transition:"all 0.2s",boxShadow:J?"0 2px 8px rgba(0,0,0,0.2)":"none"},onMouseEnter:X=>X.target.style.background="rgba(255,255,255,0.25)",onMouseLeave:X=>X.target.style.background=J?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)",children:[s.jsx(y8,{size:16}),"Chat ",J&&"•"]}),we&&s.jsxs("button",{onClick:()=>W(!0),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:8,padding:"0.5rem 1rem",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.9rem",transition:"all 0.2s"},onMouseEnter:X=>X.target.style.background="rgba(255,255,255,0.2)",onMouseLeave:X=>X.target.style.background="rgba(255,255,255,0.1)",children:[s.jsx($c,{size:16}),"Edit"]})]})]}),s.jsxs("div",{style:{display:"flex",height:"calc(100vh - 70px)"},children:[s.jsxs("div",{style:{flex:1,padding:"2rem",overflow:"auto"},children:[s.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",borderBottom:"2px solid var(--neutral-100)"},children:["overview","members","transactions","governance"].map(X=>s.jsx("button",{onClick:()=>R(X),style:{background:j===X?"var(--primary-600)":"transparent",color:j===X?"white":"var(--neutral-600)",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px 8px 0 0",cursor:"pointer",fontWeight:600,textTransform:"capitalize"},children:X},X))}),j==="overview"&&s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[s.jsxs("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[s.jsx("h3",{style:{margin:"0 0 1rem 0",color:"var(--primary-700)"},children:"Vault Statistics"}),s.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{children:"Total Balance:"}),s.jsxs("span",{style:{fontWeight:700,fontSize:"1.2rem",color:"var(--success-600)"},children:[(e==null?void 0:e.totalBalance)||0," ",e==null?void 0:e.currency]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{children:"Target Amount:"}),s.jsxs("span",{style:{fontWeight:600},children:[(e==null?void 0:e.targetAmount)||"N/A"," ",e==null?void 0:e.currency]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{children:"Members:"}),s.jsx("span",{style:{fontWeight:600},children:((Re=t==null?void 0:t.members)==null?void 0:Re.length)||0})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{children:"Status:"}),s.jsxs("span",{style:{fontWeight:600,color:e!=null&&e.isPublic?"var(--success-600)":"var(--warning-600)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e!=null&&e.isPublic?s.jsx(ch,{size:14}):s.jsx(Hc,{size:14}),e!=null&&e.isPublic?"Public":"Private"]})]})]})]}),s.jsxs("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[s.jsx("h3",{style:{margin:"0 0 1rem 0",color:"var(--primary-700)"},children:"Quick Actions"}),s.jsxs("div",{style:{display:"grid",gap:"0.75rem"},children:[s.jsxs("button",{onClick:()=>w(!0),style:{background:"var(--success-500)",color:"white",border:"none",borderRadius:8,padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:600},children:[s.jsx(qo,{size:16}),"Deposit"]}),s.jsxs("button",{onClick:()=>O(!0),style:{background:"var(--warning-500)",color:"white",border:"none",borderRadius:8,padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:600},children:[s.jsx(Ko,{size:16}),"Withdraw"]}),s.jsxs("button",{onClick:()=>F(!0),style:{background:"var(--primary-500)",color:"white",border:"none",borderRadius:8,padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:600},children:[s.jsx(Qo,{size:16}),"Invite Member"]})]})]})]}),j==="members"&&s.jsxs("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[s.jsx("h3",{style:{margin:0,color:"var(--primary-700)"},children:"Members"}),s.jsxs("button",{onClick:()=>F(!0),style:{background:"var(--primary-500)",color:"white",border:"none",borderRadius:8,padding:"0.5rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Qo,{size:16}),"Invite Member"]})]}),s.jsx("div",{style:{display:"grid",gap:"1rem"},children:(Ce=t==null?void 0:t.members)==null?void 0:Ce.map(X=>s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"var(--neutral-50)",borderRadius:8,border:"1px solid var(--neutral-100)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:"var(--primary-100)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--primary-600)",fontWeight:600},children:X.userId===e.ownerId?s.jsx(Tw,{size:20}):s.jsx(ui,{size:20})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600,color:"var(--primary-700)"},children:X.userId===(n==null?void 0:n.principal)?"You":`User ${X.userId.toString().slice(0,8)}...`}),s.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"},children:["Joined ",new Date(Number(X.joinedAt)).toLocaleDateString()]})]})]}),s.jsx("span",{style:{background:X.role==="owner"?"var(--primary-100)":X.role==="admin"?"var(--success-100)":"var(--neutral-100)",color:X.role==="owner"?"var(--primary-600)":X.role==="admin"?"var(--success-600)":"var(--neutral-600)",padding:"0.25rem 0.75rem",borderRadius:12,fontSize:"0.8rem",fontWeight:600,textTransform:"capitalize"},children:X.role})]},X.id))})]}),j==="transactions"&&s.jsxs("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[s.jsx("h3",{style:{margin:"0 0 1rem 0",color:"var(--primary-700)"},children:"Transaction History"}),s.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"var(--neutral-500)"},children:[s.jsx(lh,{size:48,style:{marginBottom:"1rem",opacity:.5}}),s.jsx("p",{children:"No transactions yet"}),s.jsx("p",{style:{fontSize:"0.9rem"},children:"Transactions will appear here when members deposit or withdraw"})]})]}),j==="governance"&&s.jsxs("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[s.jsx("h3",{style:{margin:"0 0 1rem 0",color:"var(--primary-700)"},children:"Governance"}),s.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"var(--neutral-500)"},children:[s.jsx(Fr,{size:48,style:{marginBottom:"1rem",opacity:.5}}),s.jsx("p",{children:"No proposals yet"}),s.jsx("p",{style:{fontSize:"0.9rem"},children:"Proposals will appear here when members suggest changes"})]})]})]}),J&&s.jsxs("div",{style:{width:z?"450px":"350px",background:"white",borderLeft:"1px solid var(--neutral-100)",display:"flex",flexDirection:"column",transition:"width 0.3s ease"},children:[s.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid var(--neutral-100)",background:"linear-gradient(135deg, var(--primary-500), var(--primary-700))",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{children:[s.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:600},children:"Vault Chat"}),s.jsxs("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.8rem",opacity:.9},children:[((Se=t==null?void 0:t.members)==null?void 0:Se.length)||0," members • ",le.length," messages"]})]}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("button",{onClick:()=>q(!z),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:6,padding:"0.5rem",cursor:"pointer",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},title:z?"Collapse":"Expand",children:z?s.jsx(ig,{size:16}):s.jsx(u8,{size:16})}),s.jsx("button",{onClick:()=>U(!1),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:6,padding:"0.5rem",cursor:"pointer",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Ie,{size:16})})]})]}),s.jsx("div",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid var(--neutral-100)",background:"var(--neutral-50)"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[s.jsx("span",{style:{fontSize:"0.8rem",color:"var(--neutral-600)",fontWeight:600},children:"Online:"}),(Fe=t==null?void 0:t.members)==null?void 0:Fe.slice(0,3).map((X,V)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",background:"white",padding:"0.25rem 0.5rem",borderRadius:12,border:"1px solid var(--neutral-200)"},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"var(--success-500)",marginRight:"0.25rem"}}),s.jsx("span",{style:{fontSize:"0.75rem",color:"var(--neutral-700)"},children:X.userId===(n==null?void 0:n.principal)?"You":`User ${V+1}`})]},X.id)),(($e=t==null?void 0:t.members)==null?void 0:$e.length)>3&&s.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--neutral-500)"},children:["+",t.members.length-3," more"]})]})}),s.jsxs("div",{ref:pe,style:{flex:1,padding:"1rem",overflowY:"auto",overflowX:"hidden",background:"var(--neutral-25)",maxHeight:"calc(100vh - 300px)",scrollBehavior:"smooth",position:"relative"},children:[h&&s.jsxs("button",{onClick:be,style:{position:"absolute",bottom:"1rem",right:"1rem",background:T>0?"var(--warning-500)":"var(--primary-500)",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",zIndex:10,transition:"all 0.2s",position:"relative"},onMouseEnter:X=>X.target.style.transform="scale(1.1)",onMouseLeave:X=>X.target.style.transform="scale(1)",children:[s.jsx(ig,{size:16}),T>0&&s.jsx("div",{style:{position:"absolute",top:"-5px",right:"-5px",background:"var(--error-500)",color:"white",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",border:"2px solid white"},children:T>9?"9+":T})]}),T>0&&!h&&s.jsxs("div",{style:{position:"absolute",bottom:"1rem",left:"50%",transform:"translateX(-50%)",background:"var(--warning-500)",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",zIndex:10,animation:"pulse 2s infinite"},onClick:be,children:[T," new message",T>1?"s":""," ↓"]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[le.map((X,V)=>{var de,Be;return s.jsxs("div",{style:{display:"flex",flexDirection:X.userId===(n==null?void 0:n.principal)?"row-reverse":"row",gap:"0.75rem",opacity:X.messageType==="System"||X.type==="system"?.7:1},children:[s.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:X.messageType==="System"||X.type==="system"?"var(--neutral-300)":re(X.userId),display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.8rem",fontWeight:600,flexShrink:0},children:X.messageType==="System"||X.type==="system"?"⚙️":((Be=(de=X.userName)==null?void 0:de.charAt(0))==null?void 0:Be.toUpperCase())||"U"}),s.jsxs("div",{style:{maxWidth:"70%",display:"flex",flexDirection:"column",gap:"0.25rem"},children:[X.messageType!=="System"&&X.type!=="system"&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:X.userId===(n==null?void 0:n.principal)?"flex-end":"flex-start"},children:[s.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:X.userId===(n==null?void 0:n.principal)?"var(--primary-600)":"var(--neutral-600)"},children:X.userName}),s.jsx("span",{style:{fontSize:"0.7rem",color:"var(--neutral-500)"},children:$(X.timestamp)})]}),s.jsxs("div",{style:{background:X.messageType==="System"||X.type==="system"?"var(--neutral-200)":X.userId===(n==null?void 0:n.principal)?"var(--primary-500)":"white",color:X.messageType==="System"||X.type==="system"?"var(--neutral-700)":X.userId===(n==null?void 0:n.principal)?"white":"var(--neutral-800)",padding:X.messageType==="System"||X.type==="system"?"0.5rem 0.75rem":"0.75rem 1rem",borderRadius:X.messageType==="System"||X.type==="system"?8:12,fontSize:"0.9rem",border:X.messageType!=="System"&&X.type!=="system"&&X.userId!==(n==null?void 0:n.principal)?"1px solid var(--neutral-200)":"none",boxShadow:X.messageType!=="System"&&X.type!=="system"?"0 1px 3px rgba(0,0,0,0.1)":"none",position:"relative"},children:[s.jsx("div",{style:{lineHeight:"1.4"},children:ae(X.content||X.message||"")}),X.reactions&&Object.keys(X.reactions).length>0&&s.jsx("div",{style:{display:"flex",gap:"0.25rem",marginTop:"0.5rem",flexWrap:"wrap"},children:Object.entries(X.reactions).map(([et,vi])=>s.jsxs("button",{onClick:()=>oe(X.id,et),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:12,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem",color:"inherit"},children:[s.jsx("span",{children:et}),s.jsx("span",{style:{fontSize:"0.7rem",opacity:.8},children:vi})]},et))}),X.type!=="system"&&s.jsx("button",{onClick:()=>oe(X.id,"👍"),style:{position:"absolute",top:"0.25rem",right:"0.25rem",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:4,padding:"0.25rem",cursor:"pointer",opacity:0,transition:"opacity 0.2s",fontSize:"0.8rem"},onMouseEnter:et=>et.target.style.opacity="1",onMouseLeave:et=>et.target.style.opacity="0",children:"👍"})]})]})]},X.id||V)}),ne.length>0&&s.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end",padding:"0.5rem 0"},children:[s.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:"var(--neutral-300)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx("span",{style:{fontSize:"0.8rem"},children:"👤"})}),s.jsx("div",{style:{background:"white",padding:"0.75rem 1rem",borderRadius:12,border:"1px solid var(--neutral-200)",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:s.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[s.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:"var(--neutral-400)",animation:"typing 1.4s infinite ease-in-out"}}),s.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:"var(--neutral-400)",animation:"typing 1.4s infinite ease-in-out 0.2s"}}),s.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:"var(--neutral-400)",animation:"typing 1.4s infinite ease-in-out 0.4s"}})]})})]})]})]}),s.jsxs("form",{onSubmit:x,style:{padding:"1rem",borderTop:"1px solid var(--neutral-100)",background:"white"},children:[s.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end"},children:[s.jsx("div",{style:{flex:1},children:s.jsx("textarea",{value:me,onChange:v,placeholder:"Type a message...",style:{width:"100%",minHeight:"40px",maxHeight:"120px",padding:"0.75rem",border:"1px solid var(--neutral-200)",borderRadius:8,fontSize:"0.9rem",resize:"none",fontFamily:"inherit",outline:"none"},onKeyDown:X=>{X.key==="Enter"&&!X.shiftKey&&(X.preventDefault(),x(X))}})}),s.jsx("button",{type:"submit",disabled:!me.trim(),style:{background:me.trim()?"var(--primary-500)":"var(--neutral-300)",color:"white",border:"none",borderRadius:8,padding:"0.75rem",cursor:me.trim()?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},children:s.jsx(fw,{size:16})})]}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.75rem",flexWrap:"wrap"},children:[s.jsx("button",{type:"button",onClick:()=>A(X=>X+"💰"),style:{background:"var(--success-100)",color:"var(--success-600)",border:"1px solid var(--success-200)",borderRadius:6,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:X=>X.target.style.transform="scale(1.05)",onMouseLeave:X=>X.target.style.transform="scale(1)",children:"💰 Deposit"}),s.jsx("button",{type:"button",onClick:()=>A(X=>X+"📊"),style:{background:"var(--primary-100)",color:"var(--primary-600)",border:"1px solid var(--primary-200)",borderRadius:6,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:X=>X.target.style.transform="scale(1.05)",onMouseLeave:X=>X.target.style.transform="scale(1)",children:"📊 Stats"}),s.jsx("button",{type:"button",onClick:()=>A(X=>X+"🎯"),style:{background:"var(--warning-100)",color:"var(--warning-600)",border:"1px solid var(--warning-200)",borderRadius:6,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:X=>X.target.style.transform="scale(1.05)",onMouseLeave:X=>X.target.style.transform="scale(1)",children:"🎯 Goal"}),s.jsx("button",{type:"button",onClick:()=>A(X=>X+"🎉"),style:{background:"var(--purple-100)",color:"var(--purple-600)",border:"1px solid var(--purple-200)",borderRadius:6,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:X=>X.target.style.transform="scale(1.05)",onMouseLeave:X=>X.target.style.transform="scale(1)",children:"🎉 Celebrate"}),s.jsx("button",{type:"button",onClick:()=>A(X=>X+"📝"),style:{background:"var(--neutral-100)",color:"var(--neutral-600)",border:"1px solid var(--neutral-200)",borderRadius:6,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:X=>X.target.style.transform="scale(1.05)",onMouseLeave:X=>X.target.style.transform="scale(1)",children:"📝 Note"})]})]})]})]}),S&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:()=>w(!1),children:s.jsxs("form",{onClick:X=>X.stopPropagation(),onSubmit:Ae,style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"},children:[s.jsx("button",{type:"button",onClick:()=>w(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"},children:s.jsx(Ie,{size:16})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--success-500), var(--success-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:s.jsx(qo,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--success-800)"},children:"Deposit to Vault"}),s.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"},children:["Add funds to ",s.jsx("strong",{children:e==null?void 0:e.name})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Amount *"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--neutral-500)",fontWeight:600},children:e==null?void 0:e.currency}),s.jsx("input",{type:"number",placeholder:"0.00",value:G,onChange:X=>D(X.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1.2rem",fontWeight:600,transition:"all 0.2s",outline:"none"},onFocus:X=>X.target.style.borderColor="var(--success-500)",onBlur:X=>X.target.style.borderColor="var(--neutral-200)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Description (Optional)"}),s.jsx("textarea",{placeholder:"What is this deposit for?",value:ie,onChange:X=>Q(X.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:X=>X.target.style.borderColor="var(--success-500)",onBlur:X=>X.target.style.borderColor="var(--neutral-200)"})]}),s.jsxs("div",{style:{background:"var(--success-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--success-200)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"},children:"Current Balance:"}),s.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--success-700)"},children:[e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"},children:"New Balance:"}),s.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--success-700)"},children:[G?(parseFloat((e==null?void 0:e.totalBalance)||0)+parseFloat(G)).toFixed(2):e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency]})]})]})]}),N&&s.jsx("div",{style:{background:"var(--error-50)",color:"var(--error-700)",padding:"0.75rem 1rem",borderRadius:8,border:"1px solid var(--error-200)",fontSize:"0.9rem",marginTop:"1rem"},children:N}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[s.jsx("button",{type:"button",onClick:()=>w(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:X=>X.target.style.borderColor="var(--neutral-400)",onMouseLeave:X=>X.target.style.borderColor="var(--neutral-300)",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:I||!G,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:I||!G?"var(--neutral-400)":"linear-gradient(135deg, var(--success-500), var(--success-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:I||!G?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:I||!G?"none":"0 4px 12px rgba(16, 185, 129, 0.3)"},onMouseEnter:X=>!I&&G&&(X.target.style.transform="translateY(-1px)"),onMouseLeave:X=>!I&&G&&(X.target.style.transform="translateY(0)"),children:I?"Depositing...":"Deposit Funds"})]})]})}),_&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:()=>O(!1),children:s.jsxs("form",{onClick:X=>X.stopPropagation(),onSubmit:E,style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"},children:[s.jsx("button",{type:"button",onClick:()=>O(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"},children:s.jsx(Ie,{size:16})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--warning-500), var(--warning-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(245, 158, 11, 0.3)"},children:s.jsx(Ko,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--warning-800)"},children:"Withdraw from Vault"}),s.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"},children:["Remove funds from ",s.jsx("strong",{children:e==null?void 0:e.name})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Amount *"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--neutral-500)",fontWeight:600},children:e==null?void 0:e.currency}),s.jsx("input",{type:"number",placeholder:"0.00",value:te,onChange:X=>he(X.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1.2rem",fontWeight:600,transition:"all 0.2s",outline:"none"},onFocus:X=>X.target.style.borderColor="var(--warning-500)",onBlur:X=>X.target.style.borderColor="var(--neutral-200)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Reason (Optional)"}),s.jsx("textarea",{placeholder:"Why are you withdrawing these funds?",value:ce,onChange:X=>ue(X.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:X=>X.target.style.borderColor="var(--warning-500)",onBlur:X=>X.target.style.borderColor="var(--neutral-200)"})]}),s.jsxs("div",{style:{background:"var(--warning-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--warning-200)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"},children:"Current Balance:"}),s.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--warning-700)"},children:[e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"},children:"Remaining Balance:"}),s.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--warning-700)"},children:[te?(parseFloat((e==null?void 0:e.totalBalance)||0)-parseFloat(te)).toFixed(2):e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency]})]})]}),te&&parseFloat(te)>parseFloat((e==null?void 0:e.totalBalance)||0)&&s.jsx("div",{style:{background:"var(--error-50)",color:"var(--error-700)",padding:"0.75rem 1rem",borderRadius:8,border:"1px solid var(--error-200)",fontSize:"0.9rem"},children:"⚠️ Withdrawal amount exceeds available balance"})]}),N&&s.jsx("div",{style:{background:"var(--error-50)",color:"var(--error-700)",padding:"0.75rem 1rem",borderRadius:8,border:"1px solid var(--error-200)",fontSize:"0.9rem",marginTop:"1rem"},children:N}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[s.jsx("button",{type:"button",onClick:()=>O(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:X=>X.target.style.borderColor="var(--neutral-400)",onMouseLeave:X=>X.target.style.borderColor="var(--neutral-300)",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:I||!te||parseFloat(te)>parseFloat((e==null?void 0:e.totalBalance)||0),style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:I||!te||parseFloat(te)>parseFloat((e==null?void 0:e.totalBalance)||0)?"var(--neutral-400)":"linear-gradient(135deg, var(--warning-500), var(--warning-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:I||!te||parseFloat(te)>parseFloat((e==null?void 0:e.totalBalance)||0)?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:I||!te||parseFloat(te)>parseFloat((e==null?void 0:e.totalBalance)||0)?"none":"0 4px 12px rgba(245, 158, 11, 0.3)"},onMouseEnter:X=>!I&&te&&parseFloat(te)<=parseFloat((e==null?void 0:e.totalBalance)||0)&&(X.target.style.transform="translateY(-1px)"),onMouseLeave:X=>!I&&te&&parseFloat(te)<=parseFloat((e==null?void 0:e.totalBalance)||0)&&(X.target.style.transform="translateY(0)"),children:I?"Withdrawing...":"Withdraw Funds"})]})]})}),H&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:()=>F(!1),children:s.jsxs("form",{onClick:X=>X.stopPropagation(),style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"},children:[s.jsx("button",{type:"button",onClick:()=>F(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"},children:s.jsx(Ie,{size:16})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:s.jsx(Qo,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--primary-800)"},children:"Invite Member"}),s.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"},children:["Add a new member to ",s.jsx("strong",{children:e==null?void 0:e.name})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"User ID *"}),s.jsx("input",{type:"text",placeholder:"Enter user's principal ID",value:_e,onChange:X=>k(X.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:X=>X.target.style.borderColor="var(--primary-500)",onBlur:X=>X.target.style.borderColor="var(--neutral-200)"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Role *"}),s.jsxs("select",{value:ye,onChange:X=>ve(X.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",background:"white"},onFocus:X=>X.target.style.borderColor="var(--primary-500)",onBlur:X=>X.target.style.borderColor="var(--neutral-200)",children:[s.jsx("option",{value:"member",children:"👤 Member - Can deposit, withdraw, and view vault"}),s.jsx("option",{value:"admin",children:"🛡️ Admin - Can manage vault settings and members"})]})]}),s.jsxs("div",{style:{background:"var(--primary-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--primary-200)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[s.jsx(ui,{size:16,color:"var(--primary-600)"}),s.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600,color:"var(--primary-700)"},children:"Current Members"})]}),s.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--primary-700)"},children:[((Vr=t==null?void 0:t.members)==null?void 0:Vr.length)||0," member",((Wr=t==null?void 0:t.members)==null?void 0:Wr.length)!==1?"s":""]})]})]}),N&&s.jsx("div",{style:{background:"var(--error-50)",color:"var(--error-700)",padding:"0.75rem 1rem",borderRadius:8,border:"1px solid var(--error-200)",fontSize:"0.9rem",marginTop:"1rem"},children:N}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[s.jsx("button",{type:"button",onClick:()=>F(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:X=>X.target.style.borderColor="var(--neutral-400)",onMouseLeave:X=>X.target.style.borderColor="var(--neutral-300)",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:I||!_e,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:I||!_e?"var(--neutral-400)":"linear-gradient(135deg, var(--primary-500), var(--primary-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:I||!_e?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:I||!_e?"none":"0 4px 12px rgba(59, 130, 246, 0.3)"},onMouseEnter:X=>!I&&_e&&(X.target.style.transform="translateY(-1px)"),onMouseLeave:X=>!I&&_e&&(X.target.style.transform="translateY(0)"),children:I?"Inviting...":"Send Invitation"})]})]})})]})}function Y8(){const{getPublicVaults:e,joinGroupVault:t,user:r,isAuthenticated:n}=Jt(),{showToast:i}=gi(),[o,a]=M.useState([]),[l,c]=M.useState(!0),[u,d]=M.useState(null),[g,f]=M.useState(""),[p,m]=M.useState("all");M.useEffect(()=>{(async()=>{if(!n){c(!1);return}c(!0);try{const O=await e();a(O||[])}catch(O){console.error("Failed to fetch public vaults:",O),a([])}finally{c(!1)}})()},[e,n]);const j=async _=>{d(_);try{const O=await t(_);O.ok?(i({message:"Successfully joined vault!",type:"success",icon:s.jsx(Xe,{})}),a(C=>C.filter(W=>W.id!==_))):i({message:O.err||"Failed to join vault",type:"error",icon:s.jsx(Ie,{})})}catch(O){console.error("Join vault error:",O),i({message:"Failed to join vault",type:"error",icon:s.jsx(Ie,{})})}finally{d(null)}},R=o.filter(_=>{var W;const O=_.name.toLowerCase().includes(g.toLowerCase())||((W=_.description)==null?void 0:W.toLowerCase().includes(g.toLowerCase())),C=p==="all"||_.vaultType.toLowerCase()===p.toLowerCase();return O&&C}),S=_=>{switch(_.toLowerCase()){case"savings":return s.jsx(hw,{});case"investment":return s.jsx(Tu,{});case"emergency":return s.jsx(Fr,{});default:return s.jsx(Yo,{})}},w=_=>{switch(_.toLowerCase()){case"savings":return"var(--success-500)";case"investment":return"var(--primary-500)";case"emergency":return"var(--warning-500)";default:return"var(--neutral-500)"}};return n?s.jsxs("div",{style:{padding:"2rem"},children:[s.jsxs("div",{style:{marginBottom:"2rem"},children:[s.jsx("h1",{style:{margin:"0 0 0.5rem 0",fontSize:"2rem",fontWeight:700,color:"var(--neutral-800)"},children:"Discover Public Vaults"}),s.jsx("p",{style:{margin:0,color:"var(--neutral-600)",fontSize:"1.1rem"},children:"Join community vaults and start saving together"})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[s.jsxs("div",{style:{position:"relative",flex:1,minWidth:"300px"},children:[s.jsx(ug,{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--neutral-400)"}}),s.jsx("input",{type:"text",placeholder:"Search vaults...",value:g,onChange:_=>f(_.target.value),style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",outline:"none",transition:"all 0.2s"},onFocus:_=>_.target.style.borderColor="var(--primary-500)",onBlur:_=>_.target.style.borderColor="var(--neutral-200)"})]}),s.jsxs("select",{value:p,onChange:_=>m(_.target.value),style:{padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",outline:"none",background:"white",cursor:"pointer",minWidth:"150px"},children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"savings",children:"Savings"}),s.jsx("option",{value:"investment",children:"Investment"}),s.jsx("option",{value:"emergency",children:"Emergency"})]})]}),l&&s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:s.jsx("div",{style:{width:40,height:40,border:"4px solid var(--neutral-200)",borderTop:"4px solid var(--primary-500)",borderRadius:"50%",animation:"spin 1s linear infinite"}})}),!l&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:R.length===0?s.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"3rem",color:"var(--neutral-500)"},children:[s.jsx(ug,{size:48,style:{marginBottom:"1rem"}}),s.jsx("h3",{style:{margin:"0 0 0.5rem 0"},children:"No vaults found"}),s.jsx("p",{style:{margin:0},children:g||p!=="all"?"Try adjusting your search or filters":"No public vaults available at the moment"})]}):R.map(_=>{var O;return s.jsxs("div",{style:{background:"white",borderRadius:16,padding:"1.5rem",border:"1px solid var(--neutral-200)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:C=>{C.currentTarget.style.transform="translateY(-2px)",C.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.1)"},onMouseLeave:C=>{C.currentTarget.style.transform="translateY(0)",C.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.05)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:`linear-gradient(135deg, ${w(_.vaultType)}, ${w(_.vaultType)}dd)`,display:"flex",alignItems:"center",justifyContent:"center",marginRight:"1rem"},children:s.jsx("div",{style:{color:"white",fontSize:"1.2rem"},children:S(_.vaultType)})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("h3",{style:{margin:"0 0 0.25rem 0",fontSize:"1.2rem",fontWeight:600,color:"var(--neutral-800)"},children:_.name}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",color:"var(--neutral-600)"},children:[s.jsx("span",{style:{padding:"0.25rem 0.5rem",background:"var(--neutral-100)",borderRadius:6,fontWeight:500},children:_.vaultType}),s.jsx(ui,{size:14}),s.jsxs("span",{children:[((O=_.members)==null?void 0:O.length)||0," members"]})]})]})]}),_.description&&s.jsx("p",{style:{margin:"0 0 1rem 0",color:"var(--neutral-600)",fontSize:"0.95rem",lineHeight:1.5},children:_.description}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--neutral-500)",marginBottom:"0.25rem"},children:"Current Balance"}),s.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--success-700)"},children:[_.totalBalance," ",_.currency]})]}),_.targetAmount&&s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--neutral-500)",marginBottom:"0.25rem"},children:"Target Amount"}),s.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--primary-700)"},children:[_.targetAmount," ",_.currency]})]})]}),s.jsx("button",{onClick:()=>j(_.id),disabled:u===_.id,style:{width:"100%",padding:"0.75rem 1rem",background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",color:"white",border:"none",borderRadius:12,fontSize:"1rem",fontWeight:600,cursor:u===_.id?"not-allowed":"pointer",opacity:u===_.id?.7:1,transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:C=>{u!==_.id&&(C.target.style.transform="translateY(-1px)")},onMouseLeave:C=>{C.target.style.transform="translateY(0)"},children:u===_.id?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{width:16,height:16,border:"2px solid white",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Joining..."]}):s.jsxs(s.Fragment,{children:[s.jsx(l8,{size:16}),"Join Vault"]})})]},_.id)})}),s.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]}):s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",padding:"2rem",textAlign:"center"},children:[s.jsx(Hc,{size:48,style:{color:"var(--neutral-400)",marginBottom:"1rem"}}),s.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"var(--neutral-700)"},children:"Authentication Required"}),s.jsx("p",{style:{margin:0,color:"var(--neutral-600)"},children:"Please log in to browse public vaults"})]})}function Q8(){M.useEffect(()=>{const V=document.createElement("style");return V.textContent=`
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes slideUp {
        from { 
          opacity: 0;
          transform: translateY(30px) scale(0.95);
        }
        to { 
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
    `,document.head.appendChild(V),()=>{document.head.removeChild(V)}},[]);const{getUserGroupVaults:e,createGroupVault:t,getVaultDetails:r,depositToVault:n,inviteVaultMember:i,removeVaultMember:o,changeVaultMemberRole:a,user:l,isAuthenticated:c,login:u}=Jt(),{showToast:d}=gi(),[g,f]=M.useState([]),[p,m]=M.useState(!0),[j,R]=M.useState(null),[S,w]=M.useState(null),[_,O]=M.useState(!1),[C,W]=M.useState({name:"",description:"",vaultType:"Savings",currency:"",targetAmount:"",isPublic:!1}),[H,F]=M.useState(!1),[J,U]=M.useState(null),I=M.useRef(),[Y,N]=M.useState(!1),[P,G]=M.useState(!1),[D,ie]=M.useState(!1),[Q,te]=M.useState(!1),[he,ce]=M.useState(!1),[ue,_e]=M.useState(!1),[k,ye]=M.useState(!1),[ve,le]=M.useState(!1),[fe,me]=M.useState(!1),[A,z]=M.useState(null),[q,ee]=M.useState(null),[Z,ne]=M.useState({name:"",description:"",currency:"",targetAmount:"",isPublic:!1}),[b,h]=M.useState(""),[y,T]=M.useState(""),[B,K]=M.useState(""),[se,pe]=M.useState(""),[we,be]=M.useState("DeleteVault"),[Ae,E]=M.useState(""),[x,v]=M.useState("member"),[$,re]=M.useState(""),[oe,ae]=M.useState("member"),[je,Re]=M.useState("member"),[Ce,Se]=M.useState(!1),[Fe,$e]=M.useState("my-vaults");M.useEffect(()=>{(async()=>{if(!c){await u();return}m(!0);try{const de=await e();f(de||[])}catch{f([])}finally{m(!1)}})()},[e,c,u]);const Vr=async V=>{V.preventDefault(),F(!0),U(null);try{const de=await t(C.name,C.description,C.vaultType,C.currency,C.targetAmount?parseFloat(C.targetAmount):null,C.isPublic,null);if(de.ok){if(O(!1),W({name:"",description:"",vaultType:"Savings",currency:"",targetAmount:"",isPublic:!1}),d({message:"Vault created successfully!",type:"success",icon:s.jsx(Xe,{})}),e){const Be=await e();f(Be||[])}}else U(de.err||"Failed to create vault"),d({message:de.err||"Failed to create vault",type:"error",icon:s.jsx(Yo,{})})}catch(de){console.error("Create vault error:",de),U("Failed to create vault"),d({message:"Failed to create vault",type:"error",icon:s.jsx(Yo,{})})}finally{F(!1)}},Wr=V=>{z(V),ne({name:V.name||"",description:V.description||"",currency:V.currency||"",targetAmount:V.targetAmount||"",isPublic:V.isPublic||!1}),ie(!0)},X=async V=>{z(V),Se(!0);try{const de=await r(V.id);w(de)}catch{w(null),d({message:"Failed to load vault details",type:"error",icon:s.jsx(Yo,{})})}};return p?s.jsx("div",{style:{padding:"2rem",color:"var(--primary-600)"},children:"Loading group vaults..."}):s.jsxs("div",{className:"group-vaults-root",style:{width:"100%",padding:"0",margin:0,position:"relative"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem",background:"white",borderRadius:12,padding:"0.5rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:"1px solid var(--neutral-200)"},children:[s.jsxs("button",{onClick:()=>$e("my-vaults"),style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:Fe==="my-vaults"?"linear-gradient(135deg, var(--primary-500), var(--primary-600))":"transparent",color:Fe==="my-vaults"?"white":"var(--neutral-600)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx(ui,{size:18}),"My Vaults"]}),s.jsxs("button",{onClick:()=>$e("public-vaults"),style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:Fe==="public-vaults"?"linear-gradient(135deg, var(--primary-500), var(--primary-600))":"transparent",color:Fe==="public-vaults"?"white":"var(--neutral-600)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx(uw,{size:18}),"Discover Vaults"]})]}),Fe==="public-vaults"?s.jsx(Y8,{}):s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:"1.5rem",width:"100%"},children:s.jsxs("button",{ref:I,className:"btn btn-primary",style:{borderRadius:24,boxShadow:"0 2px 8px 0 rgba(59,130,246,0.10)",fontWeight:700,fontSize:16,display:"flex",alignItems:"center",gap:8,padding:"0.6em 1.4em",background:"linear-gradient(90deg, var(--primary-500), var(--primary-700))",color:"#fff",border:"none",transition:"box-shadow 0.2s"},onClick:()=>O(!0),children:[s.jsx(ba,{})," Create Vault"]})}),_&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:V=>{V.target===V.currentTarget&&O(!1)},children:s.jsxs("form",{onSubmit:Vr,style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:500,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"},onClick:V=>V.stopPropagation(),children:[s.jsx("button",{type:"button",onClick:()=>O(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"},children:s.jsx(Ie,{size:16})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:s.jsx(ba,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--primary-800)"},children:"Create New Vault"}),s.jsx("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"},children:"Set up a new group vault for collaborative savings"})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Vault Name *"}),s.jsx("input",{type:"text",placeholder:"Enter vault name",value:C.name,onChange:V=>W(de=>({...de,name:V.target.value})),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:V=>V.target.style.borderColor="var(--primary-500)",onBlur:V=>V.target.style.borderColor="var(--neutral-200)"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Description"}),s.jsx("textarea",{placeholder:"Describe the purpose of this vault",value:C.description,onChange:V=>W(de=>({...de,description:V.target.value})),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:V=>V.target.style.borderColor="var(--primary-500)",onBlur:V=>V.target.style.borderColor="var(--neutral-200)"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Vault Type *"}),s.jsxs("select",{value:C.vaultType,onChange:V=>W(de=>({...de,vaultType:V.target.value})),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",background:"white"},onFocus:V=>V.target.style.borderColor="var(--primary-500)",onBlur:V=>V.target.style.borderColor="var(--neutral-200)",children:[s.jsx("option",{value:"Savings",children:"💰 Savings"}),s.jsx("option",{value:"Investment",children:"📈 Investment"}),s.jsx("option",{value:"Emergency",children:"🚨 Emergency"}),s.jsx("option",{value:"Travel",children:"✈️ Travel"}),s.jsx("option",{value:"Education",children:"🎓 Education"}),s.jsx("option",{value:"Business",children:"💼 Business"}),s.jsx("option",{value:"Charity",children:"🤝 Charity"}),s.jsx("option",{value:"Custom",children:"🎯 Custom"})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Currency *"}),s.jsx("input",{type:"text",placeholder:"KES",value:C.currency,onChange:V=>W(de=>({...de,currency:V.target.value})),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:V=>V.target.style.borderColor="var(--primary-500)",onBlur:V=>V.target.style.borderColor="var(--neutral-200)"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Target Amount"}),s.jsx("input",{type:"number",placeholder:"0.00",value:C.targetAmount,onChange:V=>W(de=>({...de,targetAmount:V.target.value})),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:V=>V.target.style.borderColor="var(--primary-500)",onBlur:V=>V.target.style.borderColor="var(--neutral-200)"})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",background:"var(--primary-50)",borderRadius:12,border:"1px solid var(--primary-200)"},children:[s.jsx("input",{type:"checkbox",checked:C.isPublic,onChange:V=>W(de=>({...de,isPublic:V.target.checked})),style:{width:18,height:18}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600,color:"var(--primary-700)",fontSize:"0.9rem"},children:"Public Vault"}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--neutral-600)",marginTop:"0.25rem"},children:"Allow others to discover and join this vault"})]})]})]}),J&&s.jsx("div",{style:{background:"var(--error-50)",color:"var(--error-700)",padding:"0.75rem 1rem",borderRadius:8,border:"1px solid var(--error-200)",fontSize:"0.9rem",marginTop:"1rem"},children:J}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[s.jsx("button",{type:"button",onClick:()=>O(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:V=>V.target.style.borderColor="var(--neutral-400)",onMouseLeave:V=>V.target.style.borderColor="var(--neutral-300)",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:H,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:H?"var(--neutral-400)":"linear-gradient(135deg, var(--primary-500), var(--primary-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:H?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:H?"none":"0 4px 12px rgba(59, 130, 246, 0.3)"},onMouseEnter:V=>!H&&(V.target.style.transform="translateY(-1px)"),onMouseLeave:V=>!H&&(V.target.style.transform="translateY(0)"),children:H?"Creating...":"Create Vault"})]})]})}),Y&&A&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:V=>{V.target===V.currentTarget&&N(!1)},children:s.jsxs("form",{onClick:V=>V.stopPropagation(),onSubmit:async V=>{V.preventDefault(),F(!0);try{await n(A.id,b,y),N(!1),h(""),T(""),d({message:"Deposit successful!",type:"success",icon:s.jsx(Xe,{})})}catch{d({message:"Deposit failed",type:"error",icon:s.jsx(Ie,{})})}finally{F(!1)}},style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"},children:[s.jsx("button",{type:"button",onClick:()=>N(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"},children:s.jsx(Ie,{size:16})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--success-500), var(--success-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:s.jsx(qo,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--success-800)"},children:"Deposit to Vault"}),s.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"},children:["Add funds to ",s.jsx("strong",{children:A.name})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Amount *"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--neutral-500)",fontWeight:600},children:A.currency}),s.jsx("input",{type:"number",placeholder:"0.00",value:b,onChange:V=>h(V.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1.2rem",fontWeight:600,transition:"all 0.2s",outline:"none"},onFocus:V=>V.target.style.borderColor="var(--success-500)",onBlur:V=>V.target.style.borderColor="var(--neutral-200)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Description (Optional)"}),s.jsx("textarea",{placeholder:"What is this deposit for?",value:y,onChange:V=>T(V.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:V=>V.target.style.borderColor="var(--success-500)",onBlur:V=>V.target.style.borderColor="var(--neutral-200)"})]}),s.jsxs("div",{style:{background:"var(--success-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--success-200)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"},children:"Current Balance:"}),s.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--success-700)"},children:[A.totalBalance," ",A.currency]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"},children:"New Balance:"}),s.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--success-700)"},children:[b?(parseFloat(A.totalBalance||0)+parseFloat(b)).toFixed(2):A.totalBalance," ",A.currency]})]})]})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[s.jsx("button",{type:"button",onClick:()=>N(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:V=>V.target.style.borderColor="var(--neutral-400)",onMouseLeave:V=>V.target.style.borderColor="var(--neutral-300)",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:H||!b,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:H||!b?"var(--neutral-400)":"linear-gradient(135deg, var(--success-500), var(--success-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:H||!b?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:H||!b?"none":"0 4px 12px rgba(16, 185, 129, 0.3)"},onMouseEnter:V=>!H&&b&&(V.target.style.transform="translateY(-1px)"),onMouseLeave:V=>!H&&b&&(V.target.style.transform="translateY(0)"),children:H?"Depositing...":"Deposit Funds"})]})]})}),P&&A&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:V=>{V.target===V.currentTarget&&G(!1)},children:s.jsxs("form",{onClick:V=>V.stopPropagation(),onSubmit:async V=>{V.preventDefault(),F(!0);try{G(!1),K(""),pe(""),d({message:"Withdraw successful!",type:"success",icon:s.jsx(Xe,{})})}catch{d({message:"Withdraw failed",type:"error",icon:s.jsx(Ie,{})})}finally{F(!1)}},style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"},children:[s.jsx("button",{type:"button",onClick:()=>G(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"},children:s.jsx(Ie,{size:16})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--warning-500), var(--warning-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(245, 158, 11, 0.3)"},children:s.jsx(Ko,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--warning-800)"},children:"Withdraw from Vault"}),s.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"},children:["Remove funds from ",s.jsx("strong",{children:A.name})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Amount *"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--neutral-500)",fontWeight:600},children:A.currency}),s.jsx("input",{type:"number",placeholder:"0.00",value:B,onChange:V=>K(V.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1.2rem",fontWeight:600,transition:"all 0.2s",outline:"none"},onFocus:V=>V.target.style.borderColor="var(--warning-500)",onBlur:V=>V.target.style.borderColor="var(--neutral-200)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Reason (Optional)"}),s.jsx("textarea",{placeholder:"Why are you withdrawing these funds?",value:se,onChange:V=>pe(V.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:V=>V.target.style.borderColor="var(--warning-500)",onBlur:V=>V.target.style.borderColor="var(--neutral-200)"})]}),s.jsxs("div",{style:{background:"var(--warning-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--warning-200)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"},children:"Current Balance:"}),s.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--warning-700)"},children:[A.totalBalance," ",A.currency]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"},children:"Remaining Balance:"}),s.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--warning-700)"},children:[B?(parseFloat(A.totalBalance||0)-parseFloat(B)).toFixed(2):A.totalBalance," ",A.currency]})]})]}),B&&parseFloat(B)>parseFloat(A.totalBalance||0)&&s.jsx("div",{style:{background:"var(--error-50)",color:"var(--error-700)",padding:"0.75rem 1rem",borderRadius:8,border:"1px solid var(--error-200)",fontSize:"0.9rem"},children:"⚠️ Withdrawal amount exceeds available balance"})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[s.jsx("button",{type:"button",onClick:()=>G(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:V=>V.target.style.borderColor="var(--neutral-400)",onMouseLeave:V=>V.target.style.borderColor="var(--neutral-300)",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:H||!B||parseFloat(B)>parseFloat(A.totalBalance||0),style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:H||!B||parseFloat(B)>parseFloat(A.totalBalance||0)?"var(--neutral-400)":"linear-gradient(135deg, var(--warning-500), var(--warning-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:H||!B||parseFloat(B)>parseFloat(A.totalBalance||0)?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:H||!B||parseFloat(B)>parseFloat(A.totalBalance||0)?"none":"0 4px 12px rgba(245, 158, 11, 0.3)"},onMouseEnter:V=>!H&&B&&parseFloat(B)<=parseFloat(A.totalBalance||0)&&(V.target.style.transform="translateY(-1px)"),onMouseLeave:V=>!H&&B&&parseFloat(B)<=parseFloat(A.totalBalance||0)&&(V.target.style.transform="translateY(0)"),children:H?"Withdrawing...":"Withdraw Funds"})]})]})}),D&&A&&s.jsx("div",{className:"modal-overlay polished modal-fade modal-scale",onClick:V=>{V.target.classList.contains("modal-overlay")&&ie(!1)},children:s.jsxs("form",{className:"modal-form polished",onClick:V=>V.stopPropagation(),onSubmit:async V=>{V.preventDefault(),F(!0);try{ie(!1),d({message:"Vault updated!",type:"success",icon:s.jsx(Xe,{})})}catch{d({message:"Edit failed",type:"error",icon:s.jsx(Ie,{})})}finally{F(!1)}},children:[s.jsx("h3",{children:"Edit Vault"}),s.jsx("input",{type:"text",placeholder:"Name",value:Z.name,onChange:V=>ne(de=>({...de,name:V.target.value})),required:!0}),s.jsx("input",{type:"text",placeholder:"Description",value:Z.description,onChange:V=>ne(de=>({...de,description:V.target.value}))}),s.jsx("input",{type:"text",placeholder:"Currency",value:Z.currency,onChange:V=>ne(de=>({...de,currency:V.target.value})),required:!0}),s.jsx("input",{type:"number",placeholder:"Target Amount",value:Z.targetAmount,onChange:V=>ne(de=>({...de,targetAmount:V.target.value}))}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,fontWeight:600,color:"var(--primary-700)",fontSize:14},children:[s.jsx("input",{type:"checkbox",checked:Z.isPublic,onChange:V=>ne(de=>({...de,isPublic:V.target.checked}))})," Public Vault"]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{type:"button",onClick:()=>ie(!1),children:"Cancel"}),s.jsx("button",{type:"submit",disabled:H,children:H?"Saving...":"Save"})]})]})}),Q&&A&&s.jsx("div",{className:"modal-overlay polished modal-fade modal-scale",onClick:V=>{V.target.classList.contains("modal-overlay")&&te(!1)},children:s.jsxs("div",{className:"modal-form polished",onClick:V=>V.stopPropagation(),children:[s.jsx("h3",{children:"Delete Vault"}),s.jsx("p",{children:"Are you sure you want to delete this vault? This action cannot be undone."}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{type:"button",onClick:()=>te(!1),children:"Cancel"}),s.jsx("button",{type:"button",disabled:H,onClick:async()=>{F(!0);try{te(!1),d({message:"Vault deleted!",type:"success",icon:s.jsx(Xe,{})})}catch{d({message:"Delete failed",type:"error",icon:s.jsx(Ie,{})})}finally{F(!1)}},children:"Delete"})]})]})}),he&&A&&s.jsx("div",{className:"modal-overlay polished modal-fade modal-scale",onClick:V=>{V.target.classList.contains("modal-overlay")&&ce(!1)},children:s.jsxs("div",{className:"modal-form polished",onClick:V=>V.stopPropagation(),children:[s.jsx("h3",{children:"Toggle Privacy"}),s.jsxs("p",{children:["Current: ",A.isPublic?"Public":"Private"]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{type:"button",onClick:()=>ce(!1),children:"Cancel"}),s.jsx("button",{type:"button",disabled:H,onClick:async()=>{F(!0);try{ce(!1),d({message:"Privacy updated!",type:"success",icon:s.jsx(Xe,{})})}catch{d({message:"Privacy update failed",type:"error",icon:s.jsx(Ie,{})})}finally{F(!1)}},children:A.isPublic?"Make Private":"Make Public"})]})]})}),ue&&A&&s.jsx("div",{className:"modal-overlay polished modal-fade modal-scale",onClick:V=>{V.target.classList.contains("modal-overlay")&&_e(!1)},children:s.jsxs("form",{className:"modal-form polished",onClick:V=>V.stopPropagation(),onSubmit:async V=>{V.preventDefault(),F(!0);try{_e(!1),be("DeleteVault"),E(""),v("member"),d({message:"Proposal submitted!",type:"success",icon:s.jsx(Xe,{})})}catch{d({message:"Proposal failed",type:"error",icon:s.jsx(Ie,{})})}finally{F(!1)}},children:[s.jsx("h3",{children:"Propose Vault Action"}),s.jsxs("select",{value:we,onChange:V=>be(V.target.value),required:!0,children:[s.jsx("option",{value:"DeleteVault",children:"Delete Vault"}),s.jsx("option",{value:"RemoveMember",children:"Remove Member"}),s.jsx("option",{value:"ChangeRole",children:"Change Role"}),s.jsx("option",{value:"TogglePrivacy",children:"Toggle Privacy"})]}),s.jsx("input",{type:"text",placeholder:"Target User ID (if applicable)",value:Ae,onChange:V=>E(V.target.value)}),s.jsx("input",{type:"text",placeholder:"New Role (if applicable)",value:x,onChange:V=>v(V.target.value)}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{type:"button",onClick:()=>_e(!1),children:"Cancel"}),s.jsx("button",{type:"submit",disabled:H,children:H?"Submitting...":"Submit"})]})]})}),k&&A&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:V=>{V.target===V.currentTarget&&ye(!1)},children:s.jsxs("form",{onClick:V=>V.stopPropagation(),onSubmit:async V=>{V.preventDefault(),F(!0);try{const de=await i(A.id,$,oe);if(de.ok){if(ye(!1),re(""),ae("member"),d({message:"Invitation sent!",type:"success",icon:s.jsx(Xe,{})}),j===A.id){const Be=await r(A.id);w(Be)}}else d({message:de.err||"Invite failed",type:"error",icon:s.jsx(Ie,{})})}catch(de){console.error("Invite error:",de),d({message:"Invite failed",type:"error",icon:s.jsx(Ie,{})})}finally{F(!1)}},style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"},children:[s.jsx("button",{type:"button",onClick:()=>ye(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"},children:s.jsx(Ie,{size:16})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:s.jsx(Qo,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--primary-800)"},children:"Invite Member"}),s.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"},children:["Invite someone to join ",s.jsx("strong",{children:A.name})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"User ID *"}),s.jsx("input",{type:"text",placeholder:"Enter user ID",value:$,onChange:V=>re(V.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:V=>V.target.style.borderColor="var(--primary-500)",onBlur:V=>V.target.style.borderColor="var(--neutral-200)"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"Role *"}),s.jsxs("select",{value:oe,onChange:V=>ae(V.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",background:"white"},onFocus:V=>V.target.style.borderColor="var(--primary-500)",onBlur:V=>V.target.style.borderColor="var(--neutral-200)",children:[s.jsx("option",{value:"member",children:"Member"}),s.jsx("option",{value:"admin",children:"Admin"})]})]})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[s.jsx("button",{type:"button",onClick:()=>ye(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:V=>V.target.style.borderColor="var(--neutral-400)",onMouseLeave:V=>V.target.style.borderColor="var(--neutral-300)",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:H||!$,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:H||!$?"var(--neutral-400)":"linear-gradient(135deg, var(--primary-500), var(--primary-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:H||!$?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:H||!$?"none":"0 4px 12px rgba(59, 130, 246, 0.3)"},onMouseEnter:V=>!H&&$&&(V.target.style.transform="translateY(-1px)"),onMouseLeave:V=>!H&&$&&(V.target.style.transform="translateY(0)"),children:H?"Inviting...":"Send Invitation"})]})]})}),ve&&A&&q&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:V=>{V.target===V.currentTarget&&le(!1)},children:s.jsxs("form",{onClick:V=>V.stopPropagation(),onSubmit:async V=>{V.preventDefault(),F(!0);try{const de=await a(A.id,q.id,je);if(de.ok){if(le(!1),Re("member"),d({message:"Role changed successfully!",type:"success",icon:s.jsx(Xe,{})}),j===A.id){const Be=await r(A.id);w(Be)}}else d({message:de.err||"Change role failed",type:"error",icon:s.jsx(Ie,{})})}catch(de){console.error("Change role error:",de),d({message:"Change role failed",type:"error",icon:s.jsx(Ie,{})})}finally{F(!1)}},style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"},children:[s.jsx("button",{type:"button",onClick:()=>le(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"},children:s.jsx(Ie,{size:16})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--warning-500), var(--warning-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(245, 158, 11, 0.3)"},children:s.jsx(Fr,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--warning-800)"},children:"Change Member Role"}),s.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"},children:["Change role for member in ",s.jsx("strong",{children:A.name})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{style:{background:"var(--neutral-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--neutral-200)"},children:[s.jsx("div",{style:{fontSize:"0.9rem",color:"var(--neutral-600)",marginBottom:"0.5rem"},children:"Current Member"}),s.jsx("div",{style:{fontSize:"1rem",fontWeight:600,color:"var(--neutral-800)"},children:q.userId}),s.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--neutral-600)",marginTop:"0.25rem"},children:["Current Role: ",s.jsx("span",{style:{fontWeight:600,color:"var(--primary-600)"},children:q.role})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--neutral-700)",fontSize:"0.9rem"},children:"New Role *"}),s.jsxs("select",{value:je,onChange:V=>Re(V.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",background:"white"},onFocus:V=>V.target.style.borderColor="var(--warning-500)",onBlur:V=>V.target.style.borderColor="var(--neutral-200)",children:[s.jsx("option",{value:"member",children:"Member"}),s.jsx("option",{value:"admin",children:"Admin"})]})]})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[s.jsx("button",{type:"button",onClick:()=>le(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:V=>V.target.style.borderColor="var(--neutral-400)",onMouseLeave:V=>V.target.style.borderColor="var(--neutral-300)",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:H,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:H?"var(--neutral-400)":"linear-gradient(135deg, var(--warning-500), var(--warning-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:H?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:H?"none":"0 4px 12px rgba(245, 158, 11, 0.3)"},onMouseEnter:V=>!H&&(V.target.style.transform="translateY(-1px)"),onMouseLeave:V=>!H&&(V.target.style.transform="translateY(0)"),children:H?"Changing...":"Change Role"})]})]})}),fe&&A&&q&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:V=>{V.target===V.currentTarget&&me(!1)},children:s.jsxs("div",{onClick:V=>V.stopPropagation(),style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid rgba(239, 68, 68, 0.1)",position:"relative"},children:[s.jsx("button",{type:"button",onClick:()=>me(!1),style:{position:"absolute",top:16,right:16,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--neutral-600)",transition:"all 0.2s"},children:s.jsx(Ie,{size:16})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("div",{style:{width:60,height:60,background:"linear-gradient(135deg, var(--error-500), var(--error-600))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(239, 68, 68, 0.3)"},children:s.jsx(Ll,{size:24,color:"white"})}),s.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--error-800)"},children:"Remove Member"}),s.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"var(--neutral-600)",fontSize:"0.9rem"},children:["Remove member from ",s.jsx("strong",{children:A.name})]})]}),s.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[s.jsxs("div",{style:{background:"var(--error-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--error-200)"},children:[s.jsx("div",{style:{fontSize:"0.9rem",color:"var(--error-700)",marginBottom:"0.5rem",fontWeight:600},children:"⚠️ Warning: This action cannot be undone"}),s.jsxs("div",{style:{fontSize:"1rem",fontWeight:600,color:"var(--neutral-800)"},children:["Member: ",q.userId]}),s.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--neutral-600)",marginTop:"0.25rem"},children:["Role: ",s.jsx("span",{style:{fontWeight:600,color:"var(--primary-600)"},children:q.role})]})]}),s.jsx("div",{style:{background:"var(--neutral-50)",padding:"1rem",borderRadius:12,border:"1px solid var(--neutral-200)"},children:s.jsx("div",{style:{fontSize:"0.9rem",color:"var(--neutral-600)"},children:"This member will lose access to the vault and all associated funds. They will no longer be able to deposit, withdraw, or view vault details."})})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[s.jsx("button",{type:"button",onClick:()=>me(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid var(--neutral-300)",borderRadius:12,background:"white",color:"var(--neutral-700)",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:V=>V.target.style.borderColor="var(--neutral-400)",onMouseLeave:V=>V.target.style.borderColor="var(--neutral-300)",children:"Cancel"}),s.jsx("button",{type:"button",disabled:H,onClick:async()=>{F(!0);try{const V=await o(A.id,q.id);if(V.ok){if(me(!1),d({message:"Member removed successfully!",type:"success",icon:s.jsx(Xe,{})}),j===A.id){const de=await r(A.id);w(de)}}else d({message:V.err||"Remove failed",type:"error",icon:s.jsx(Ie,{})})}catch(V){console.error("Remove member error:",V),d({message:"Remove failed",type:"error",icon:s.jsx(Ie,{})})}finally{F(!1)}},style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:H?"var(--neutral-400)":"linear-gradient(135deg, var(--error-500), var(--error-600))",color:"white",fontSize:"1rem",fontWeight:600,cursor:H?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:H?"none":"0 4px 12px rgba(239, 68, 68, 0.3)"},onMouseEnter:V=>!H&&(V.target.style.transform="translateY(-1px)"),onMouseLeave:V=>!H&&(V.target.style.transform="translateY(0)"),children:H?"Removing...":"Remove Member"})]})]})}),Ce&&A&&S?s.jsx(K8,{vault:A,details:S,onBack:()=>Se(!1),user:l,showToast:d}):s.jsx("div",{className:"group-vaults-list",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(420px, 1fr))",gap:"1.5rem",justifyItems:"start",alignItems:"start",margin:0,padding:0},children:g.length===0?s.jsx("div",{style:{color:"var(--neutral-400)",fontSize:16,padding:"2rem"},children:"No group vaults found."}):g.map(V=>s.jsxs("div",{className:"vault-card vault-card-hover",style:{background:"linear-gradient(135deg, var(--dashboard-card-bg) 0%, rgba(255,255,255,0.95) 100%)",borderRadius:16,boxShadow:j===V.id?"0 8px 32px rgba(59,130,246,0.15), 0 2px 8px rgba(0,0,0,0.1)":"0 4px 16px rgba(0,0,0,0.08), 0 1px 4px rgba(0,0,0,0.05)",border:j===V.id?"2px solid var(--primary-300)":"1px solid rgba(59,130,246,0.1)",margin:0,padding:j===V.id?"1.5rem":"1.2rem",minWidth:420,maxWidth:600,fontSize:14,display:"flex",flexDirection:"column",position:"relative",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",overflow:"visible",cursor:"pointer",backdropFilter:"blur(10px)"},tabIndex:0,onMouseEnter:de=>{j!==V.id&&(de.currentTarget.style.transform="translateY(-4px)",de.currentTarget.style.boxShadow="0 12px 40px rgba(59,130,246,0.2), 0 4px 12px rgba(0,0,0,0.1)")},onMouseLeave:de=>{j!==V.id&&(de.currentTarget.style.transform="translateY(0)",de.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.08), 0 1px 4px rgba(0,0,0,0.05)")},onClick:()=>X(V),children:[s.jsx("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:12},children:s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[s.jsx("span",{style:{fontWeight:800,fontSize:20,color:"var(--primary-800)",background:"linear-gradient(135deg, var(--primary-600), var(--primary-800))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:V.name}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:11,background:V.isPublic?"var(--success-100)":"var(--error-100)",color:V.isPublic?"var(--success-700)":"var(--error-700)",padding:"2px 8px",borderRadius:12,fontWeight:600,border:`1px solid ${V.isPublic?"var(--success-200)":"var(--error-200)"}`},children:[V.isPublic?s.jsx(ch,{size:12}):s.jsx(Hc,{size:12}),V.isPublic?"Public":"Private"]})]}),s.jsx("div",{style:{color:"var(--neutral-500)",fontSize:14,lineHeight:"1.4",fontStyle:"italic"},children:V.description||"No description provided"})]})}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:12,marginBottom:16,background:"rgba(59,130,246,0.03)",borderRadius:12,padding:12,border:"1px solid rgba(59,130,246,0.08)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:11,color:"var(--neutral-500)",marginBottom:2,fontWeight:600},children:"CURRENCY"}),s.jsx("div",{style:{fontSize:14,color:"var(--primary-700)",fontWeight:700},children:V.currency})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:11,color:"var(--neutral-500)",marginBottom:2,fontWeight:600},children:"TARGET"}),s.jsx("div",{style:{fontSize:14,color:"var(--warning-700)",fontWeight:700},children:V.targetAmount||"N/A"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:11,color:"var(--neutral-500)",marginBottom:2,fontWeight:600},children:"BALANCE"}),s.jsx("div",{style:{fontSize:14,color:"var(--success-700)",fontWeight:700},children:V.totalBalance})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:11,color:"var(--neutral-500)",marginBottom:2,fontWeight:600},children:"MEMBERS"}),s.jsx("div",{style:{fontSize:14,color:"var(--primary-700)",fontWeight:700},children:V.members?V.members.length:"—"})]})]}),s.jsxs("div",{className:"vault-actions",style:{display:"flex",gap:8,flexWrap:"wrap",marginTop:8,marginBottom:j===V.id?16:0,justifyContent:"flex-start",alignItems:"center"},children:[s.jsxs("button",{className:"btn btn-primary btn-xs",title:"View Details",style:{borderRadius:8,padding:"8px 16px",fontSize:12,fontWeight:600,background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",border:"none",color:"white",boxShadow:"0 2px 8px rgba(59,130,246,0.3)",transition:"all 0.2s"},onMouseEnter:de=>de.target.style.transform="translateY(-1px)",onMouseLeave:de=>de.target.style.transform="translateY(0)",onClick:()=>X(V),children:[s.jsx(h8,{size:14,style:{marginRight:4}}),"View Details"]}),s.jsx("button",{className:"btn btn-success btn-xs",title:"Deposit",style:{borderRadius:8,padding:"6px 12px",fontSize:12,fontWeight:600,background:"linear-gradient(135deg, var(--success-500), var(--success-600))",border:"none",color:"white",boxShadow:"0 2px 6px rgba(16,185,129,0.3)",transition:"all 0.2s"},onMouseEnter:de=>de.target.style.transform="translateY(-1px)",onMouseLeave:de=>de.target.style.transform="translateY(0)",onClick:de=>{de.stopPropagation(),z(V),N(!0)},children:s.jsx(qo,{size:14})}),s.jsx("button",{className:"btn btn-warning btn-xs",title:"Withdraw",style:{borderRadius:8,padding:"6px 12px",fontSize:12,fontWeight:600,background:"linear-gradient(135deg, var(--warning-500), var(--warning-600))",border:"none",color:"white",boxShadow:"0 2px 6px rgba(245,158,11,0.3)",transition:"all 0.2s"},onMouseEnter:de=>de.target.style.transform="translateY(-1px)",onMouseLeave:de=>de.target.style.transform="translateY(0)",onClick:de=>{de.stopPropagation(),z(V),G(!0)},children:s.jsx(Ko,{size:14})}),s.jsx("button",{className:"btn btn-outline btn-xs",title:"Edit Vault",style:{borderRadius:8,padding:"6px 12px",fontSize:12,fontWeight:600,background:"rgba(59,130,246,0.1)",border:"1px solid rgba(59,130,246,0.2)",color:"var(--primary-600)",transition:"all 0.2s"},onMouseEnter:de=>de.target.style.transform="translateY(-1px)",onMouseLeave:de=>de.target.style.transform="translateY(0)",onClick:de=>{de.stopPropagation(),Wr(V)},children:s.jsx($c,{size:14})})]}),j===V.id&&S&&s.jsxs("div",{className:"vault-expanded-details",style:{marginTop:18,background:"rgba(245,247,255,0.92)",borderRadius:7,boxShadow:"var(--shadow-xs)",padding:"1.1rem",border:"1.5px solid var(--primary-50)",transition:"all 0.28s cubic-bezier(.4,0,.2,1)"},children:[s.jsxs("div",{style:{marginBottom:18},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[s.jsx(ui,{style:{color:"var(--primary-600)"}}),s.jsx("span",{style:{fontWeight:700,color:"var(--primary-700)"},children:"Members"}),s.jsx("button",{className:"btn btn-xs btn-action",style:{marginLeft:"auto",borderRadius:4},title:"Invite Member",onClick:de=>{de.stopPropagation(),z(S.vault),ye(!0)},children:s.jsx(Qo,{})})]}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:10},children:S.members&&S.members.length>0?S.members.map(de=>s.jsxs("div",{style:{background:"var(--neutral-0)",borderRadius:4,boxShadow:"var(--shadow-xs)",padding:"0.5rem 0.9rem",display:"flex",alignItems:"center",gap:10,minWidth:120},children:[s.jsxs("span",{style:{fontWeight:600,color:"var(--primary-700)"},children:[de.userId===S.vault.ownerId?s.jsx(Tw,{}):s.jsx(ui,{})," ",de.userId&&de.userId.toString?de.userId.toString():String(de.userId)]}),s.jsx("span",{style:{background:"var(--neutral-100)",color:de.role==="owner"?"var(--primary-600)":de.role==="admin"?"var(--success-600)":"var(--primary-400)",borderRadius:4,padding:"2px 10px",fontWeight:700,fontSize:13,marginLeft:8},children:de.role.charAt(0).toUpperCase()+de.role.slice(1)}),s.jsxs("span",{style:{fontSize:12,color:"var(--neutral-500)"},children:["Joined: ",new Date(Number(de.joinedAt)).toLocaleDateString()]}),s.jsx("button",{className:"btn btn-outline btn-xs btn-action",style:{borderRadius:4},title:"Change Role",onClick:()=>{z(S.vault),ee(de),le(!0)},children:s.jsx(Fr,{})}),s.jsx("button",{className:"btn btn-danger btn-xs btn-action",style:{borderRadius:4},title:"Remove Member",onClick:()=>{z(S.vault),ee(de),me(!0)},children:s.jsx(Ll,{})})]},de.id)):s.jsx("div",{style:{color:"var(--neutral-400)"},children:"No members yet."})})]}),s.jsxs("div",{style:{marginBottom:18},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[s.jsx(Tu,{style:{color:"var(--primary-600)"}}),s.jsx("span",{style:{fontWeight:700,color:"var(--primary-700)"},children:"Balance & Progress"})]}),s.jsxs("div",{style:{display:"flex",gap:18,alignItems:"center",fontSize:14},children:[s.jsxs("span",{children:["Total: ",s.jsx("b",{children:S.vault.totalBalance})," ",S.vault.currency]}),s.jsxs("span",{children:["Target: ",s.jsx("b",{children:S.vault.targetAmount||"N/A"})]}),s.jsx("div",{style:{flex:1,minWidth:120,maxWidth:220},children:s.jsx("div",{style:{width:"100%",background:"var(--neutral-100)",borderRadius:4,height:7},children:s.jsx("div",{style:{width:`${S.vault.targetAmount?Math.min(100,S.vault.totalBalance/S.vault.targetAmount*100):0}%`,background:"linear-gradient(90deg, var(--primary-400), var(--primary-700))",height:"100%",borderRadius:4,transition:"width 0.3s"}})})})]})]}),s.jsxs("div",{style:{marginBottom:18},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[s.jsx(lh,{style:{color:"var(--primary-600)"}}),s.jsx("span",{style:{fontWeight:700,color:"var(--primary-700)"},children:"Transaction History"})]}),s.jsx("div",{style:{fontSize:13,color:"var(--neutral-600)"},children:"No transactions yet."})]}),s.jsxs("div",{style:{display:"flex",gap:10,marginBottom:18},children:[s.jsx("button",{className:"btn btn-success btn-xs btn-action",style:{borderRadius:4},title:"Deposit",children:s.jsx(qo,{})}),s.jsx("button",{className:"btn btn-warning btn-xs btn-action",style:{borderRadius:4},title:"Withdraw",children:s.jsx(Ko,{})}),s.jsx("button",{className:"btn btn-outline btn-xs btn-action",style:{borderRadius:4},title:"Edit Vault",children:s.jsx($c,{})}),s.jsx("button",{className:"btn btn-danger btn-xs btn-action",style:{borderRadius:4},title:"Delete Vault",children:s.jsx(Ll,{})}),s.jsx("button",{className:"btn btn-outline btn-xs btn-action",style:{borderRadius:4},title:"Toggle Privacy",children:S.vault.isPublic?s.jsx(Hc,{}):s.jsx(ch,{})}),s.jsx("button",{className:"btn btn-outline btn-xs btn-action",style:{borderRadius:4},title:"Propose Action",children:s.jsx(Fr,{})})]}),s.jsxs("div",{style:{marginBottom:18},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[s.jsx(lh,{style:{color:"var(--primary-600)"}}),s.jsx("span",{style:{fontWeight:700,color:"var(--primary-700)"},children:"Governance Timeline"})]}),s.jsx("div",{style:{fontSize:13,color:"var(--neutral-600)"},children:"No proposals yet."})]}),s.jsxs("div",{style:{marginBottom:0},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[s.jsx(Fr,{style:{color:"var(--primary-600)"}}),s.jsx("span",{style:{fontWeight:700,color:"var(--primary-700)"},children:"Security & Recovery"})]}),s.jsx("div",{style:{fontSize:13,color:"var(--neutral-600)"},children:"No recovery methods set up."})]})]})]},V.id))})]})]})}function Z8(){const{user:e,logout:t,isAuthenticated:r,isLoading:n,principal:i,completeRecoverySetup:o,recoveryMethods:a,cryptoWallets:l,refreshRecoveryMethods:c,refreshCryptoWallets:u}=Jt(),[d,g]=M.useState(!0),[f,p]=M.useState("overview");M.useState(!1),M.useState(!1);const[m,j]=M.useState(!1),[R,S]=M.useState({totalBalance:0,walletCount:0,recoveryMethodsCount:0,recentActivity:[]}),[w]=M.useState([{id:1,message:"New wallet connected successfully",time:"2 min ago",read:!1,type:"success",icon:"💰"},{id:2,message:"Recovery method verified",time:"1 hour ago",read:!1,type:"success",icon:"🔐"},{id:3,message:"Transaction completed",time:"3 hours ago",read:!0,type:"success",icon:"✅"},{id:4,message:"Security check recommended",time:"1 day ago",read:!1,type:"warning",icon:"⚠️"},{id:5,message:"Backup completed",time:"2 days ago",read:!0,type:"success",icon:"☁️"}]);M.useState("all");const _=w.filter(F=>!F.read).length,O=M.useRef(null),C=lu();M.useEffect(()=>{const F=J=>{O.current&&!O.current.contains(J.target)&&j(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]),M.useEffect(()=>{r&&(async()=>{if(!r){C("/");return}g(!0);try{await Promise.all([c(),u()])}catch(J){console.error("Error loading dashboard:",J)}finally{g(!1)}})()},[r,C,c,u]),M.useEffect(()=>{(()=>{const J=(l==null?void 0:l.reduce((Y,N)=>Y+(N.balance||0),0))||0,U=(l==null?void 0:l.length)||0,I=(a==null?void 0:a.length)||0;S({totalBalance:J,walletCount:U,recoveryMethodsCount:I,recentActivity:[{icon:dg,text:"Wallets synced",time:"2 min ago"},{icon:Fr,text:"Recovery verified",time:"1 hour ago"},{icon:Xe,text:"Profile updated",time:"3 hours ago"}]})})()},[l,a]);const W=async()=>{await t(),C("/")},H=F=>!F||isNaN(F)?"$0.00":F>=1e6?`$${(F/1e6).toFixed(1)}M`:F>=1e3?`$${(F/1e3).toFixed(1)}K`:`$${F.toFixed(2)}`;return n||d?s.jsxs("div",{className:"dashboard-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading dashboard..."})]}):s.jsxs("div",{className:"dashboard",children:[s.jsxs("aside",{className:"dashboard-sidebar",children:[s.jsxs("div",{className:"sidebar-logo",children:[s.jsx("div",{className:"logo-icon",children:"N"}),s.jsx("span",{className:"logo-text",children:"Nisto"})]}),s.jsxs("nav",{className:"sidebar-nav",children:[s.jsxs("button",{className:`sidebar-link${f==="overview"?" active":""}`,onClick:()=>p("overview"),children:[s.jsx(m8,{}),s.jsx("span",{children:"Overview"})]}),s.jsxs("button",{className:`sidebar-link${f==="wallets"?" active":""}`,onClick:()=>p("wallets"),children:[s.jsx(dg,{}),s.jsx("span",{children:"Wallets"})]}),s.jsxs("button",{className:`sidebar-link${f==="vaults"?" active":""}`,onClick:()=>p("vaults"),children:[s.jsx(ui,{}),s.jsx("span",{children:"Group Vaults"})]}),s.jsxs("button",{className:`sidebar-link${f==="games"?" active":""}`,onClick:()=>p("games"),children:[s.jsx(aw,{}),s.jsx("span",{children:"Social Games"})]}),s.jsxs("button",{className:`sidebar-link${f==="defi"?" active":""}`,onClick:()=>p("defi"),children:[s.jsx(lw,{}),s.jsx("span",{children:"DeFi Tools"})]}),s.jsxs("button",{className:`sidebar-link${f==="plugins"?" active":""}`,onClick:()=>p("plugins"),children:[s.jsx(p8,{}),s.jsx("span",{children:"Plugins"})]}),s.jsxs("button",{className:`sidebar-link${f==="ai"?" active":""}`,onClick:()=>p("ai"),children:[s.jsx(uh,{}),s.jsx("span",{children:"AI Assistant"})]}),s.jsxs("button",{className:`sidebar-link${f==="payments"?" active":""}`,onClick:()=>p("payments"),children:[s.jsx(F0,{}),s.jsx("span",{children:"Local Payments"})]}),s.jsxs("button",{className:`sidebar-link${f==="recovery"?" active":""}`,onClick:()=>p("recovery"),children:[s.jsx(Fr,{}),s.jsx("span",{children:"Recovery Setup"})]})]}),s.jsxs("button",{className:"sidebar-link",onClick:W,style:{color:"var(--dashboard-sidebar-link-logout, var(--error-600))"},children:[s.jsx(ag,{}),s.jsx("span",{children:"Logout"})]})]}),s.jsxs("div",{className:"dashboard-main",children:[s.jsxs("header",{className:"dashboard-header",children:[s.jsx("div",{className:"dashboard-header-left",children:s.jsx("div",{className:"header-page-indicator",children:"🏦"})}),s.jsxs("div",{className:"dashboard-header-right",children:[s.jsxs("div",{className:"dashboard-user-info",children:[s.jsx("div",{className:"user-avatar",children:s.jsx(ku,{})}),s.jsxs("div",{className:"user-details",children:[s.jsx("span",{className:"user-name",children:(e==null?void 0:e.displayName)||"User"}),s.jsx("span",{className:"user-principal",children:i?`${i.slice(0,12)}...`:"Loading..."})]})]}),s.jsxs("button",{className:"notification-btn-header",onClick:()=>j(!m),children:[s.jsx(cw,{}),_>0&&s.jsx("span",{className:"notification-badge-header",children:_})]}),s.jsx("button",{className:"logout-btn-header",onClick:W,children:s.jsx(ag,{})})]})]}),s.jsxs("main",{className:"dashboard-content",children:[m&&s.jsx(j8,{}),s.jsx(T8,{}),f==="overview"&&s.jsxs("section",{className:"dashboard-section",children:[s.jsxs("div",{className:"dashboard-cards",children:[s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"stat-number",children:H(R.totalBalance)}),s.jsx("div",{className:"stat-label",children:"Total Balance"})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"stat-number",children:R.walletCount}),s.jsx("div",{className:"stat-label",children:"Crypto Wallets"})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"stat-number",children:R.recoveryMethodsCount}),s.jsx("div",{className:"stat-label",children:"Recovery Methods"})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"stat-number",children:"+12%"}),s.jsx("div",{className:"stat-label",children:"This Month"})]})]}),s.jsxs("div",{className:"dashboard-section",style:{marginTop:0,marginBottom:"1.5rem",padding:"1.2rem 1.5rem"},children:[s.jsx("h3",{style:{fontSize:"1.08rem",color:"var(--primary-700)",marginBottom:12},children:"Recent Activity"}),s.jsx("div",{className:"recent-activity-list",style:{display:"flex",flexDirection:"column",gap:12},children:R.recentActivity.map((F,J)=>s.jsxs("div",{className:"recent-activity-item",style:{display:"flex",alignItems:"center",gap:16,background:"var(--neutral-50)",borderRadius:8,padding:"0.7rem 1rem",boxShadow:"var(--shadow-sm)"},children:[s.jsx("span",{style:{fontSize:20,color:"var(--primary-600)"},children:F.icon&&Ge.createElement(F.icon)}),s.jsx("span",{style:{flex:1,color:"var(--neutral-700)",fontWeight:500},children:F.text}),s.jsx("span",{style:{color:"var(--neutral-400)",fontSize:13},children:F.time})]},J))})]}),s.jsxs("div",{className:"dashboard-section",style:{marginTop:0,padding:"1.2rem 1.5rem"},children:[s.jsx("h3",{style:{fontSize:"1.08rem",color:"var(--primary-700)",marginBottom:12},children:"Quick Actions"}),s.jsxs("div",{style:{display:"flex",gap:16},children:[s.jsx("button",{className:"btn btn-primary",style:{minWidth:120},onClick:()=>p("wallets"),children:"+ Add Wallet"}),s.jsx("button",{className:"btn btn-secondary",style:{minWidth:120},onClick:()=>p("recovery"),children:"Add Recovery"})]})]})]}),f==="wallets"&&s.jsx(z8,{}),f==="vaults"&&s.jsx(Q8,{}),f==="games"&&s.jsx(I8,{}),f==="defi"&&s.jsx(G8,{}),f==="plugins"&&s.jsx(q8,{}),f==="ai"&&s.jsx(V8,{}),f==="payments"&&s.jsx(H8,{}),f==="recovery"&&s.jsx(pw,{})]})]})]})}function X8(){return s.jsx(BE,{children:s.jsx(e8,{children:s.jsx(_E,{children:s.jsxs(L_,{children:[s.jsx(zf,{path:"/",element:s.jsx(N8,{})}),s.jsx(zf,{path:"/dashboard",element:s.jsx(Z8,{})})]})})})})}var kw={exports:{}};(function(e,t){(function(r,n){e.exports=n()})($i,function(){return function(r){function n(o){if(i[o])return i[o].exports;var a=i[o]={exports:{},id:o,loaded:!1};return r[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var i={};return n.m=r,n.c=i,n.p="dist/",n(0)}([function(r,n,i){function o(P){return P&&P.__esModule?P:{default:P}}var a=Object.assign||function(P){for(var G=1;G<arguments.length;G++){var D=arguments[G];for(var ie in D)Object.prototype.hasOwnProperty.call(D,ie)&&(P[ie]=D[ie])}return P},l=i(1),c=(o(l),i(6)),u=o(c),d=i(7),g=o(d),f=i(8),p=o(f),m=i(9),j=o(m),R=i(10),S=o(R),w=i(11),_=o(w),O=i(14),C=o(O),W=[],H=!1,F={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},J=function(){var P=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(P&&(H=!0),H)return W=(0,_.default)(W,F),(0,S.default)(W,F.once),W},U=function(){W=(0,C.default)(),J()},I=function(){W.forEach(function(P,G){P.node.removeAttribute("data-aos"),P.node.removeAttribute("data-aos-easing"),P.node.removeAttribute("data-aos-duration"),P.node.removeAttribute("data-aos-delay")})},Y=function(P){return P===!0||P==="mobile"&&j.default.mobile()||P==="phone"&&j.default.phone()||P==="tablet"&&j.default.tablet()||typeof P=="function"&&P()===!0},N=function(P){F=a(F,P),W=(0,C.default)();var G=document.all&&!window.atob;return Y(F.disable)||G?I():(F.disableMutationObserver||p.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),F.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",F.easing),document.querySelector("body").setAttribute("data-aos-duration",F.duration),document.querySelector("body").setAttribute("data-aos-delay",F.delay),F.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?J(!0):F.startEvent==="load"?window.addEventListener(F.startEvent,function(){J(!0)}):document.addEventListener(F.startEvent,function(){J(!0)}),window.addEventListener("resize",(0,g.default)(J,F.debounceDelay,!0)),window.addEventListener("orientationchange",(0,g.default)(J,F.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,S.default)(W,F.once)},F.throttleDelay)),F.disableMutationObserver||p.default.ready("[data-aos]",U),W)};r.exports={init:N,refresh:J,refreshHard:U}},function(r,n){},,,,,function(r,n){(function(i){function o(Y,N,P){function G(Z){var ne=k,b=ye;return k=ye=void 0,A=Z,le=Y.apply(b,ne)}function D(Z){return A=Z,fe=setTimeout(te,N),z?G(Z):le}function ie(Z){var ne=Z-me,b=Z-A,h=N-ne;return q?U(h,ve-b):h}function Q(Z){var ne=Z-me,b=Z-A;return me===void 0||ne>=N||ne<0||q&&b>=ve}function te(){var Z=I();return Q(Z)?he(Z):void(fe=setTimeout(te,ie(Z)))}function he(Z){return fe=void 0,ee&&k?G(Z):(k=ye=void 0,le)}function ce(){fe!==void 0&&clearTimeout(fe),A=0,k=me=ye=fe=void 0}function ue(){return fe===void 0?le:he(I())}function _e(){var Z=I(),ne=Q(Z);if(k=arguments,ye=this,me=Z,ne){if(fe===void 0)return D(me);if(q)return fe=setTimeout(te,N),G(me)}return fe===void 0&&(fe=setTimeout(te,N)),le}var k,ye,ve,le,fe,me,A=0,z=!1,q=!1,ee=!0;if(typeof Y!="function")throw new TypeError(f);return N=d(N)||0,l(P)&&(z=!!P.leading,q="maxWait"in P,ve=q?J(d(P.maxWait)||0,N):ve,ee="trailing"in P?!!P.trailing:ee),_e.cancel=ce,_e.flush=ue,_e}function a(Y,N,P){var G=!0,D=!0;if(typeof Y!="function")throw new TypeError(f);return l(P)&&(G="leading"in P?!!P.leading:G,D="trailing"in P?!!P.trailing:D),o(Y,N,{leading:G,maxWait:N,trailing:D})}function l(Y){var N=typeof Y>"u"?"undefined":g(Y);return!!Y&&(N=="object"||N=="function")}function c(Y){return!!Y&&(typeof Y>"u"?"undefined":g(Y))=="object"}function u(Y){return(typeof Y>"u"?"undefined":g(Y))=="symbol"||c(Y)&&F.call(Y)==m}function d(Y){if(typeof Y=="number")return Y;if(u(Y))return p;if(l(Y)){var N=typeof Y.valueOf=="function"?Y.valueOf():Y;Y=l(N)?N+"":N}if(typeof Y!="string")return Y===0?Y:+Y;Y=Y.replace(j,"");var P=S.test(Y);return P||w.test(Y)?_(Y.slice(2),P?2:8):R.test(Y)?p:+Y}var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},f="Expected a function",p=NaN,m="[object Symbol]",j=/^\s+|\s+$/g,R=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,w=/^0o[0-7]+$/i,_=parseInt,O=(typeof i>"u"?"undefined":g(i))=="object"&&i&&i.Object===Object&&i,C=(typeof self>"u"?"undefined":g(self))=="object"&&self&&self.Object===Object&&self,W=O||C||Function("return this")(),H=Object.prototype,F=H.toString,J=Math.max,U=Math.min,I=function(){return W.Date.now()};r.exports=a}).call(n,function(){return this}())},function(r,n){(function(i){function o(I,Y,N){function P(ee){var Z=_e,ne=k;return _e=k=void 0,me=ee,ve=I.apply(ne,Z)}function G(ee){return me=ee,le=setTimeout(Q,Y),A?P(ee):ve}function D(ee){var Z=ee-fe,ne=ee-me,b=Y-Z;return z?J(b,ye-ne):b}function ie(ee){var Z=ee-fe,ne=ee-me;return fe===void 0||Z>=Y||Z<0||z&&ne>=ye}function Q(){var ee=U();return ie(ee)?te(ee):void(le=setTimeout(Q,D(ee)))}function te(ee){return le=void 0,q&&_e?P(ee):(_e=k=void 0,ve)}function he(){le!==void 0&&clearTimeout(le),me=0,_e=fe=k=le=void 0}function ce(){return le===void 0?ve:te(U())}function ue(){var ee=U(),Z=ie(ee);if(_e=arguments,k=this,fe=ee,Z){if(le===void 0)return G(fe);if(z)return le=setTimeout(Q,Y),P(fe)}return le===void 0&&(le=setTimeout(Q,Y)),ve}var _e,k,ye,ve,le,fe,me=0,A=!1,z=!1,q=!0;if(typeof I!="function")throw new TypeError(g);return Y=u(Y)||0,a(N)&&(A=!!N.leading,z="maxWait"in N,ye=z?F(u(N.maxWait)||0,Y):ye,q="trailing"in N?!!N.trailing:q),ue.cancel=he,ue.flush=ce,ue}function a(I){var Y=typeof I>"u"?"undefined":d(I);return!!I&&(Y=="object"||Y=="function")}function l(I){return!!I&&(typeof I>"u"?"undefined":d(I))=="object"}function c(I){return(typeof I>"u"?"undefined":d(I))=="symbol"||l(I)&&H.call(I)==p}function u(I){if(typeof I=="number")return I;if(c(I))return f;if(a(I)){var Y=typeof I.valueOf=="function"?I.valueOf():I;I=a(Y)?Y+"":Y}if(typeof I!="string")return I===0?I:+I;I=I.replace(m,"");var N=R.test(I);return N||S.test(I)?w(I.slice(2),N?2:8):j.test(I)?f:+I}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},g="Expected a function",f=NaN,p="[object Symbol]",m=/^\s+|\s+$/g,j=/^[-+]0x[0-9a-f]+$/i,R=/^0b[01]+$/i,S=/^0o[0-7]+$/i,w=parseInt,_=(typeof i>"u"?"undefined":d(i))=="object"&&i&&i.Object===Object&&i,O=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,C=_||O||Function("return this")(),W=Object.prototype,H=W.toString,F=Math.max,J=Math.min,U=function(){return C.Date.now()};r.exports=o}).call(n,function(){return this}())},function(r,n){function i(d){var g=void 0,f=void 0;for(g=0;g<d.length;g+=1)if(f=d[g],f.dataset&&f.dataset.aos||f.children&&i(f.children))return!0;return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!o()}function l(d,g){var f=window.document,p=o(),m=new p(c);u=g,m.observe(f.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function c(d){d&&d.forEach(function(g){var f=Array.prototype.slice.call(g.addedNodes),p=Array.prototype.slice.call(g.removedNodes),m=f.concat(p);if(i(m))return u()})}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){};n.default={isSupported:a,ready:l}},function(r,n){function i(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function f(p,m){for(var j=0;j<m.length;j++){var R=m[j];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(p,R.key,R)}}return function(p,m,j){return m&&f(p.prototype,m),j&&f(p,j),p}}(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,g=function(){function f(){i(this,f)}return a(f,[{key:"phone",value:function(){var p=o();return!(!l.test(p)&&!c.test(p.substr(0,4)))}},{key:"mobile",value:function(){var p=o();return!(!u.test(p)&&!d.test(p.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),f}();n.default=new g},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(a,l,c){var u=a.node.getAttribute("data-aos-once");l>a.position?a.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!c&&u!=="true")&&a.node.classList.remove("aos-animate")},o=function(a,l){var c=window.pageYOffset,u=window.innerHeight;a.forEach(function(d,g){i(d,u+c,l)})};n.default=o},function(r,n,i){function o(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),l=o(a),c=function(u,d){return u.forEach(function(g,f){g.node.classList.add("aos-init"),g.position=(0,l.default)(g.node,d.offset)}),u};n.default=c},function(r,n,i){function o(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(13),l=o(a),c=function(u,d){var g=0,f=0,p=window.innerHeight,m={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(m.offset&&!isNaN(m.offset)&&(f=parseInt(m.offset)),m.anchor&&document.querySelectorAll(m.anchor)&&(u=document.querySelectorAll(m.anchor)[0]),g=(0,l.default)(u).top,m.anchorPlacement){case"top-bottom":break;case"center-bottom":g+=u.offsetHeight/2;break;case"bottom-bottom":g+=u.offsetHeight;break;case"top-center":g+=p/2;break;case"bottom-center":g+=p/2+u.offsetHeight;break;case"center-center":g+=p/2+u.offsetHeight/2;break;case"top-top":g+=p;break;case"bottom-top":g+=u.offsetHeight+p;break;case"center-top":g+=u.offsetHeight/2+p}return m.anchorPlacement||m.offset||isNaN(d)||(f=d),g+f};n.default=c},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(o){for(var a=0,l=0;o&&!isNaN(o.offsetLeft)&&!isNaN(o.offsetTop);)a+=o.offsetLeft-(o.tagName!="BODY"?o.scrollLeft:0),l+=o.offsetTop-(o.tagName!="BODY"?o.scrollTop:0),o=o.offsetParent;return{top:l,left:a}};n.default=i},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(o){return o=o||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(o,function(a){return{node:a}})};n.default=i}])})})(kw);var J8=kw.exports;const L8=hh(J8);typeof global>"u"&&(window.global=window);const D8=document.getElementById("root"),e3=N1(D8);function t3(){return M.useEffect(()=>{L8.init({duration:800,once:!0})},[]),s.jsx(X8,{})}e3.render(s.jsx(t3,{}));
