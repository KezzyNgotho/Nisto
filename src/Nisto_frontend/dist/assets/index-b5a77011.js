(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ug={exports:{}},bd={},Wg={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ya=Symbol.for("react.element"),bw=Symbol.for("react.portal"),ww=Symbol.for("react.fragment"),vw=Symbol.for("react.strict_mode"),Sw=Symbol.for("react.profiler"),kw=Symbol.for("react.provider"),jw=Symbol.for("react.context"),Tw=Symbol.for("react.forward_ref"),Ew=Symbol.for("react.suspense"),_w=Symbol.for("react.memo"),Cw=Symbol.for("react.lazy"),hp=Symbol.iterator;function Nw(e){return e===null||typeof e!="object"?null:(e=hp&&e[hp]||e["@@iterator"],typeof e=="function"?e:null)}var Vg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hg=Object.assign,qg={};function _s(e,t,r){this.props=e,this.context=t,this.refs=qg,this.updater=r||Vg}_s.prototype.isReactComponent={};_s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ig(){}Ig.prototype=_s.prototype;function $h(e,t,r){this.props=e,this.context=t,this.refs=qg,this.updater=r||Vg}var Uh=$h.prototype=new Ig;Uh.constructor=$h;Hg(Uh,_s.prototype);Uh.isPureReactComponent=!0;var pp=Array.isArray,Gg=Object.prototype.hasOwnProperty,Wh={current:null},Yg={key:!0,ref:!0,__self:!0,__source:!0};function Kg(e,t,r){var n,s={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Gg.call(t,n)&&!Yg.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ya,type:e,key:o,ref:a,props:s,_owner:Wh.current}}function Bw(e,t){return{$$typeof:Ya,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ya}function Aw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var mp=/\/+/g;function lu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Aw(""+e.key):t.toString(36)}function ql(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ya:case bw:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+lu(a,0):n,pp(s)?(r="",e!=null&&(r=e.replace(mp,"$&/")+"/"),ql(s,t,r,"",function(d){return d})):s!=null&&(Vh(s)&&(s=Bw(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(mp,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",pp(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+lu(o,l);a+=ql(o,t,r,c,s)}else if(c=Nw(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+lu(o,l++),a+=ql(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function hl(e,t,r){if(e==null)return e;var n=[],s=0;return ql(e,n,"","",function(o){return t.call(r,o,s++)}),n}function Rw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},Il={transition:null},zw={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Il,ReactCurrentOwner:Wh};function Zg(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:hl,forEach:function(e,t,r){hl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return hl(e,function(){t++}),t},toArray:function(e){return hl(e,function(t){return t})||[]},only:function(e){if(!Vh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=_s;Oe.Fragment=ww;Oe.Profiler=Sw;Oe.PureComponent=$h;Oe.StrictMode=vw;Oe.Suspense=Ew;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zw;Oe.act=Zg;Oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Hg({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Wh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gg.call(t,c)&&!Yg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Ya,type:e.type,key:s,ref:o,props:n,_owner:a}};Oe.createContext=function(e){return e={$$typeof:jw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kw,_context:e},e.Consumer=e};Oe.createElement=Kg;Oe.createFactory=function(e){var t=Kg.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:Tw,render:e}};Oe.isValidElement=Vh;Oe.lazy=function(e){return{$$typeof:Cw,_payload:{_status:-1,_result:e},_init:Rw}};Oe.memo=function(e,t){return{$$typeof:_w,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=Il.transition;Il.transition={};try{e()}finally{Il.transition=t}};Oe.unstable_act=Zg;Oe.useCallback=function(e,t){return Dt.current.useCallback(e,t)};Oe.useContext=function(e){return Dt.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return Dt.current.useEffect(e,t)};Oe.useId=function(){return Dt.current.useId()};Oe.useImperativeHandle=function(e,t,r){return Dt.current.useImperativeHandle(e,t,r)};Oe.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return Dt.current.useMemo(e,t)};Oe.useReducer=function(e,t,r){return Dt.current.useReducer(e,t,r)};Oe.useRef=function(e){return Dt.current.useRef(e)};Oe.useState=function(e){return Dt.current.useState(e)};Oe.useSyncExternalStore=function(e,t,r){return Dt.current.useSyncExternalStore(e,t,r)};Oe.useTransition=function(){return Dt.current.useTransition()};Oe.version="18.3.1";Wg.exports=Oe;var T=Wg.exports;const po=Oh(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw=T,Pw=Symbol.for("react.element"),Mw=Symbol.for("react.fragment"),Ow=Object.prototype.hasOwnProperty,$w=Fw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uw={key:!0,ref:!0,__self:!0,__source:!0};function Xg(e,t,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Ow.call(t,n)&&!Uw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Pw,type:e,key:o,ref:a,props:s,_owner:$w.current}}bd.Fragment=Mw;bd.jsx=Xg;bd.jsxs=Xg;Ug.exports=bd;var i=Ug.exports,Qg={exports:{}},pr={},Jg={exports:{}},Lg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,ne){var ue=Q.length;Q.push(ne);e:for(;0<ue;){var de=ue-1>>>1,le=Q[de];if(0<s(le,ne))Q[de]=ne,Q[ue]=le,ue=de;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ne=Q[0],ue=Q.pop();if(ue!==ne){Q[0]=ue;e:for(var de=0,le=Q.length,fe=le>>>1;de<fe;){var F=2*(de+1)-1,ke=Q[F],xe=F+1,ye=Q[xe];if(0>s(ke,ue))xe<le&&0>s(ye,ke)?(Q[de]=ye,Q[xe]=ue,de=xe):(Q[de]=ke,Q[F]=ue,de=F);else if(xe<le&&0>s(ye,ue))Q[de]=ye,Q[xe]=ue,de=xe;else break e}}return ne}function s(Q,ne){var ue=Q.sortIndex-ne.sortIndex;return ue!==0?ue:Q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],d=[],b=1,x=null,m=3,h=!1,y=!1,N=!1,W=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Q){for(var ne=r(d);ne!==null;){if(ne.callback===null)n(d);else if(ne.startTime<=Q)n(d),ne.sortIndex=ne.expirationTime,t(c,ne);else break;ne=r(d)}}function P(Q){if(N=!1,j(Q),!y)if(r(c)!==null)y=!0,K(C);else{var ne=r(d);ne!==null&&te(P,ne.startTime-Q)}}function C(Q,ne){y=!1,N&&(N=!1,w(H),H=-1),h=!0;var ue=m;try{for(j(ne),x=r(c);x!==null&&(!(x.expirationTime>ne)||Q&&!Y());){var de=x.callback;if(typeof de=="function"){x.callback=null,m=x.priorityLevel;var le=de(x.expirationTime<=ne);ne=e.unstable_now(),typeof le=="function"?x.callback=le:x===r(c)&&n(c),j(ne)}else n(c);x=r(c)}if(x!==null)var fe=!0;else{var F=r(d);F!==null&&te(P,F.startTime-ne),fe=!1}return fe}finally{x=null,m=ue,h=!1}}var B=!1,R=null,H=-1,X=5,$=-1;function Y(){return!(e.unstable_now()-$<X)}function J(){if(R!==null){var Q=e.unstable_now();$=Q;var ne=!0;try{ne=R(!0,Q)}finally{ne?A():(B=!1,R=null)}}else B=!1}var A;if(typeof k=="function")A=function(){k(J)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,V=U.port2;U.port1.onmessage=J,A=function(){V.postMessage(null)}}else A=function(){W(J,0)};function K(Q){R=Q,B||(B=!0,A())}function te(Q,ne){H=W(function(){Q(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,K(C))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var ue=m;m=ne;try{return Q()}finally{m=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ue=m;m=Q;try{return ne()}finally{m=ue}},e.unstable_scheduleCallback=function(Q,ne,ue){var de=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?de+ue:de):ue=de,Q){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ue+le,Q={id:b++,callback:ne,priorityLevel:Q,startTime:ue,expirationTime:le,sortIndex:-1},ue>de?(Q.sortIndex=ue,t(d,Q),r(c)===null&&Q===r(d)&&(N?(w(H),H=-1):N=!0,te(P,ue-de))):(Q.sortIndex=le,t(c,Q),y||h||(y=!0,K(C))),Q},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(Q){var ne=m;return function(){var ue=m;m=ne;try{return Q.apply(this,arguments)}finally{m=ue}}}})(Lg);Jg.exports=Lg;var Ww=Jg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw=T,hr=Ww;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dg=new Set,ya={};function yi(e,t){ps(e,t),ps(e+"Capture",t)}function ps(e,t){for(ya[e]=t,e=0;e<t.length;e++)Dg.add(t[e])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=Object.prototype.hasOwnProperty,Hw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gp={},yp={};function qw(e){return yf.call(yp,e)?!0:yf.call(gp,e)?!1:Hw.test(e)?yp[e]=!0:(gp[e]=!0,!1)}function Iw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gw(e,t,r,n){if(t===null||typeof t>"u"||Iw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function er(e,t,r,n,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rt[e]=new er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rt[t]=new er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rt[e]=new er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rt[e]=new er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rt[e]=new er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rt[e]=new er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rt[e]=new er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rt[e]=new er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rt[e]=new er(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hh=/[\-:]([a-z])/g;function qh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hh,qh);Rt[t]=new er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hh,qh);Rt[t]=new er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hh,qh);Rt[t]=new er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rt[e]=new er(e,1,!1,e.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rt[e]=new er(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ih(e,t,r,n){var s=Rt.hasOwnProperty(t)?Rt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gw(t,r,s,n)&&(r=null),n||s===null?qw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Wn=Vw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pl=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),Gh=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),ey=Symbol.for("react.provider"),ty=Symbol.for("react.context"),Yh=Symbol.for("react.forward_ref"),bf=Symbol.for("react.suspense"),wf=Symbol.for("react.suspense_list"),Kh=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),ry=Symbol.for("react.offscreen"),xp=Symbol.iterator;function Ws(e){return e===null||typeof e!="object"?null:(e=xp&&e[xp]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,cu;function Qs(e){if(cu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);cu=t&&t[1]||""}return`
`+cu+e}var du=!1;function uu(e,t){if(!e||du)return"";du=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=n.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{du=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qs(e):""}function Yw(e){switch(e.tag){case 5:return Qs(e.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return e=uu(e.type,!1),e;case 11:return e=uu(e.type.render,!1),e;case 1:return e=uu(e.type,!0),e;default:return""}}function vf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qi:return"Fragment";case Hi:return"Portal";case xf:return"Profiler";case Gh:return"StrictMode";case bf:return"Suspense";case wf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ty:return(e.displayName||"Context")+".Consumer";case ey:return(e._context.displayName||"Context")+".Provider";case Yh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kh:return t=e.displayName||null,t!==null?t:vf(e.type)||"Memo";case eo:t=e._payload,e=e._init;try{return vf(e(t))}catch{}}return null}function Kw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vf(t);case 8:return t===Gh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function To(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ny(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zw(e){var t=ny(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ml(e){e._valueTracker||(e._valueTracker=Zw(e))}function oy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ny(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ec(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sf(e,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function bp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=To(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iy(e,t){t=t.checked,t!=null&&Ih(e,"checked",t,!1)}function kf(e,t){iy(e,t);var r=To(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jf(e,t.type,r):t.hasOwnProperty("defaultValue")&&jf(e,t.type,To(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jf(e,t,r){(t!=="number"||Ec(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Js=Array.isArray;function os(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+To(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Tf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(Js(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:To(r)}}function sy(e,t){var r=To(t.value),n=To(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Sp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ay(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ef(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ay(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gl,ly=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gl=gl||document.createElement("div"),gl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xw=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(e){Xw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),aa[t]=aa[e]})});function cy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||aa.hasOwnProperty(e)&&aa[e]?(""+t).trim():t+"px"}function dy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=cy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Qw=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _f(e,t){if(t){if(Qw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function Cf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=null;function Zh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bf=null,is=null,ss=null;function kp(e){if(e=Xa(e)){if(typeof Bf!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=jd(t),Bf(e.stateNode,e.type,t))}}function uy(e){is?ss?ss.push(e):ss=[e]:is=e}function fy(){if(is){var e=is,t=ss;if(ss=is=null,kp(e),t)for(e=0;e<t.length;e++)kp(t[e])}}function hy(e,t){return e(t)}function py(){}var fu=!1;function my(e,t,r){if(fu)return e(t,r);fu=!0;try{return hy(e,t,r)}finally{fu=!1,(is!==null||ss!==null)&&(py(),fy())}}function ba(e,t){var r=e.stateNode;if(r===null)return null;var n=jd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var Af=!1;if(Fn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Af=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Af=!1}function Jw(e,t,r,n,s,o,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(b){this.onError(b)}}var la=!1,_c=null,Cc=!1,Rf=null,Lw={onError:function(e){la=!0,_c=e}};function Dw(e,t,r,n,s,o,a,l,c){la=!1,_c=null,Jw.apply(Lw,arguments)}function ev(e,t,r,n,s,o,a,l,c){if(Dw.apply(this,arguments),la){if(la){var d=_c;la=!1,_c=null}else throw Error(ge(198));Cc||(Cc=!0,Rf=d)}}function xi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jp(e){if(xi(e)!==e)throw Error(ge(188))}function tv(e){var t=e.alternate;if(!t){if(t=xi(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return jp(s),e;if(o===n)return jp(s),t;o=o.sibling}throw Error(ge(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function yy(e){return e=tv(e),e!==null?xy(e):null}function xy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xy(e);if(t!==null)return t;e=e.sibling}return null}var by=hr.unstable_scheduleCallback,Tp=hr.unstable_cancelCallback,rv=hr.unstable_shouldYield,nv=hr.unstable_requestPaint,ut=hr.unstable_now,ov=hr.unstable_getCurrentPriorityLevel,Xh=hr.unstable_ImmediatePriority,wy=hr.unstable_UserBlockingPriority,Nc=hr.unstable_NormalPriority,iv=hr.unstable_LowPriority,vy=hr.unstable_IdlePriority,wd=null,ln=null;function sv(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(wd,e,void 0,(e.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:cv,av=Math.log,lv=Math.LN2;function cv(e){return e>>>=0,e===0?32:31-(av(e)/lv|0)|0}var yl=64,xl=4194304;function Ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Ls(l):(o&=a,o!==0&&(n=Ls(o)))}else a=r&~s,a!==0?n=Ls(a):o!==0&&(n=Ls(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ur(t),s=1<<r,n|=e[r],t&=~s;return n}function dv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Ur(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=dv(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function zf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sy(){var e=yl;return yl<<=1,!(yl&4194240)&&(yl=64),e}function hu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ka(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ur(t),e[t]=r}function fv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ur(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Qh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ur(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ge=0;function ky(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jy,Jh,Ty,Ey,_y,Ff=!1,bl=[],mo=null,go=null,yo=null,wa=new Map,va=new Map,so=[],hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ep(e,t){switch(e){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":wa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(t.pointerId)}}function Hs(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Xa(t),t!==null&&Jh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pv(e,t,r,n,s){switch(t){case"focusin":return mo=Hs(mo,e,t,r,n,s),!0;case"dragenter":return go=Hs(go,e,t,r,n,s),!0;case"mouseover":return yo=Hs(yo,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return wa.set(o,Hs(wa.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,va.set(o,Hs(va.get(o)||null,e,t,r,n,s)),!0}return!1}function Cy(e){var t=qo(e.target);if(t!==null){var r=xi(t);if(r!==null){if(t=r.tag,t===13){if(t=gy(r),t!==null){e.blockedOn=t,_y(e.priority,function(){Ty(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Nf=n,r.target.dispatchEvent(n),Nf=null}else return t=Xa(r),t!==null&&Jh(t),e.blockedOn=r,!1;t.shift()}return!0}function _p(e,t,r){Gl(e)&&r.delete(t)}function mv(){Ff=!1,mo!==null&&Gl(mo)&&(mo=null),go!==null&&Gl(go)&&(go=null),yo!==null&&Gl(yo)&&(yo=null),wa.forEach(_p),va.forEach(_p)}function qs(e,t){e.blockedOn===t&&(e.blockedOn=null,Ff||(Ff=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,mv)))}function Sa(e){function t(s){return qs(s,e)}if(0<bl.length){qs(bl[0],e);for(var r=1;r<bl.length;r++){var n=bl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(mo!==null&&qs(mo,e),go!==null&&qs(go,e),yo!==null&&qs(yo,e),wa.forEach(t),va.forEach(t),r=0;r<so.length;r++)n=so[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<so.length&&(r=so[0],r.blockedOn===null);)Cy(r),r.blockedOn===null&&so.shift()}var as=Wn.ReactCurrentBatchConfig,Ac=!0;function gv(e,t,r,n){var s=Ge,o=as.transition;as.transition=null;try{Ge=1,Lh(e,t,r,n)}finally{Ge=s,as.transition=o}}function yv(e,t,r,n){var s=Ge,o=as.transition;as.transition=null;try{Ge=4,Lh(e,t,r,n)}finally{Ge=s,as.transition=o}}function Lh(e,t,r,n){if(Ac){var s=Pf(e,t,r,n);if(s===null)ku(e,t,n,Rc,r),Ep(e,n);else if(pv(s,e,t,r,n))n.stopPropagation();else if(Ep(e,n),t&4&&-1<hv.indexOf(e)){for(;s!==null;){var o=Xa(s);if(o!==null&&jy(o),o=Pf(e,t,r,n),o===null&&ku(e,t,n,Rc,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else ku(e,t,n,null,r)}}var Rc=null;function Pf(e,t,r,n){if(Rc=null,e=Zh(n),e=qo(e),e!==null)if(t=xi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=gy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rc=e,null}function Ny(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ov()){case Xh:return 1;case wy:return 4;case Nc:case iv:return 16;case vy:return 536870912;default:return 16}default:return 16}}var uo=null,Dh=null,Yl=null;function By(){if(Yl)return Yl;var e,t=Dh,r=t.length,n,s="value"in uo?uo.value:uo.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[o-n];n++);return Yl=s.slice(e,1<n?1-n:void 0)}function Kl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wl(){return!0}function Cp(){return!1}function mr(e){function t(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wl:Cp,this.isPropagationStopped=Cp,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),t}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e0=mr(Cs),Za=st({},Cs,{view:0,detail:0}),xv=mr(Za),pu,mu,Is,vd=st({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Is&&(Is&&e.type==="mousemove"?(pu=e.screenX-Is.screenX,mu=e.screenY-Is.screenY):mu=pu=0,Is=e),pu)},movementY:function(e){return"movementY"in e?e.movementY:mu}}),Np=mr(vd),bv=st({},vd,{dataTransfer:0}),wv=mr(bv),vv=st({},Za,{relatedTarget:0}),gu=mr(vv),Sv=st({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),kv=mr(Sv),jv=st({},Cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tv=mr(jv),Ev=st({},Cs,{data:0}),Bp=mr(Ev),_v={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nv[e])?!!t[e]:!1}function t0(){return Bv}var Av=st({},Za,{key:function(e){if(e.key){var t=_v[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t0,charCode:function(e){return e.type==="keypress"?Kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rv=mr(Av),zv=st({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ap=mr(zv),Fv=st({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t0}),Pv=mr(Fv),Mv=st({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ov=mr(Mv),$v=st({},vd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uv=mr($v),Wv=[9,13,27,32],r0=Fn&&"CompositionEvent"in window,ca=null;Fn&&"documentMode"in document&&(ca=document.documentMode);var Vv=Fn&&"TextEvent"in window&&!ca,Ay=Fn&&(!r0||ca&&8<ca&&11>=ca),Rp=String.fromCharCode(32),zp=!1;function Ry(e,t){switch(e){case"keyup":return Wv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function Hv(e,t){switch(e){case"compositionend":return zy(t);case"keypress":return t.which!==32?null:(zp=!0,Rp);case"textInput":return e=t.data,e===Rp&&zp?null:e;default:return null}}function qv(e,t){if(Ii)return e==="compositionend"||!r0&&Ry(e,t)?(e=By(),Yl=Dh=uo=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ay&&t.locale!=="ko"?null:t.data;default:return null}}var Iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Iv[e.type]:t==="textarea"}function Fy(e,t,r,n){uy(n),t=zc(t,"onChange"),0<t.length&&(r=new e0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var da=null,ka=null;function Gv(e){Gy(e,0)}function Sd(e){var t=Ki(e);if(oy(t))return e}function Yv(e,t){if(e==="change")return t}var Py=!1;if(Fn){var yu;if(Fn){var xu="oninput"in document;if(!xu){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),xu=typeof Pp.oninput=="function"}yu=xu}else yu=!1;Py=yu&&(!document.documentMode||9<document.documentMode)}function Mp(){da&&(da.detachEvent("onpropertychange",My),ka=da=null)}function My(e){if(e.propertyName==="value"&&Sd(ka)){var t=[];Fy(t,ka,e,Zh(e)),my(Gv,t)}}function Kv(e,t,r){e==="focusin"?(Mp(),da=t,ka=r,da.attachEvent("onpropertychange",My)):e==="focusout"&&Mp()}function Zv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sd(ka)}function Xv(e,t){if(e==="click")return Sd(t)}function Qv(e,t){if(e==="input"||e==="change")return Sd(t)}function Jv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hr=typeof Object.is=="function"?Object.is:Jv;function ja(e,t){if(Hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!yf.call(t,s)||!Hr(e[s],t[s]))return!1}return!0}function Op(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $p(e,t){var r=Op(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Op(r)}}function Oy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Oy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $y(){for(var e=window,t=Ec();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ec(e.document)}return t}function n0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lv(e){var t=$y(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Oy(r.ownerDocument.documentElement,r)){if(n!==null&&n0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=$p(r,o);var a=$p(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dv=Fn&&"documentMode"in document&&11>=document.documentMode,Gi=null,Mf=null,ua=null,Of=!1;function Up(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Of||Gi==null||Gi!==Ec(n)||(n=Gi,"selectionStart"in n&&n0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ua&&ja(ua,n)||(ua=n,n=zc(Mf,"onSelect"),0<n.length&&(t=new e0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Gi)))}function vl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yi={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionend:vl("Transition","TransitionEnd")},bu={},Uy={};Fn&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function kd(e){if(bu[e])return bu[e];if(!Yi[e])return e;var t=Yi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Uy)return bu[e]=t[r];return e}var Wy=kd("animationend"),Vy=kd("animationiteration"),Hy=kd("animationstart"),qy=kd("transitionend"),Iy=new Map,Wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(e,t){Iy.set(e,t),yi(t,[e])}for(var wu=0;wu<Wp.length;wu++){var vu=Wp[wu],e5=vu.toLowerCase(),t5=vu[0].toUpperCase()+vu.slice(1);Co(e5,"on"+t5)}Co(Wy,"onAnimationEnd");Co(Vy,"onAnimationIteration");Co(Hy,"onAnimationStart");Co("dblclick","onDoubleClick");Co("focusin","onFocus");Co("focusout","onBlur");Co(qy,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function Vp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ev(n,t,void 0,e),e.currentTarget=null}function Gy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Vp(s,l,d),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Vp(s,l,d),o=c}}}if(Cc)throw e=Rf,Cc=!1,Rf=null,e}function Qe(e,t){var r=t[Hf];r===void 0&&(r=t[Hf]=new Set);var n=e+"__bubble";r.has(n)||(Yy(t,e,2,!1),r.add(n))}function Su(e,t,r){var n=0;t&&(n|=4),Yy(r,e,n,t)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Ta(e){if(!e[Sl]){e[Sl]=!0,Dg.forEach(function(r){r!=="selectionchange"&&(r5.has(r)||Su(r,!1,e),Su(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sl]||(t[Sl]=!0,Su("selectionchange",!1,t))}}function Yy(e,t,r,n){switch(Ny(t)){case 1:var s=gv;break;case 4:s=yv;break;default:s=Lh}r=s.bind(null,t,r,e),s=void 0,!Af||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ku(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=qo(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}my(function(){var d=o,b=Zh(r),x=[];e:{var m=Iy.get(e);if(m!==void 0){var h=e0,y=e;switch(e){case"keypress":if(Kl(r)===0)break e;case"keydown":case"keyup":h=Rv;break;case"focusin":y="focus",h=gu;break;case"focusout":y="blur",h=gu;break;case"beforeblur":case"afterblur":h=gu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Pv;break;case Wy:case Vy:case Hy:h=kv;break;case qy:h=Ov;break;case"scroll":h=xv;break;case"wheel":h=Uv;break;case"copy":case"cut":case"paste":h=Tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ap}var N=(t&4)!==0,W=!N&&e==="scroll",w=N?m!==null?m+"Capture":null:m;N=[];for(var k=d,j;k!==null;){j=k;var P=j.stateNode;if(j.tag===5&&P!==null&&(j=P,w!==null&&(P=ba(k,w),P!=null&&N.push(Ea(k,P,j)))),W)break;k=k.return}0<N.length&&(m=new h(m,y,null,r,b),x.push({event:m,listeners:N}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==Nf&&(y=r.relatedTarget||r.fromElement)&&(qo(y)||y[Pn]))break e;if((h||m)&&(m=b.window===b?b:(m=b.ownerDocument)?m.defaultView||m.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=d,y=y?qo(y):null,y!==null&&(W=xi(y),y!==W||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=d),h!==y)){if(N=Np,P="onMouseLeave",w="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(N=Ap,P="onPointerLeave",w="onPointerEnter",k="pointer"),W=h==null?m:Ki(h),j=y==null?m:Ki(y),m=new N(P,k+"leave",h,r,b),m.target=W,m.relatedTarget=j,P=null,qo(b)===d&&(N=new N(w,k+"enter",y,r,b),N.target=j,N.relatedTarget=W,P=N),W=P,h&&y)t:{for(N=h,w=y,k=0,j=N;j;j=Ti(j))k++;for(j=0,P=w;P;P=Ti(P))j++;for(;0<k-j;)N=Ti(N),k--;for(;0<j-k;)w=Ti(w),j--;for(;k--;){if(N===w||w!==null&&N===w.alternate)break t;N=Ti(N),w=Ti(w)}N=null}else N=null;h!==null&&Hp(x,m,h,N,!1),y!==null&&W!==null&&Hp(x,W,y,N,!0)}}e:{if(m=d?Ki(d):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var C=Yv;else if(Fp(m))if(Py)C=Qv;else{C=Zv;var B=Kv}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=Xv);if(C&&(C=C(e,d))){Fy(x,C,r,b);break e}B&&B(e,m,d),e==="focusout"&&(B=m._wrapperState)&&B.controlled&&m.type==="number"&&jf(m,"number",m.value)}switch(B=d?Ki(d):window,e){case"focusin":(Fp(B)||B.contentEditable==="true")&&(Gi=B,Mf=d,ua=null);break;case"focusout":ua=Mf=Gi=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Up(x,r,b);break;case"selectionchange":if(Dv)break;case"keydown":case"keyup":Up(x,r,b)}var R;if(r0)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Ii?Ry(e,r)&&(H="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(H="onCompositionStart");H&&(Ay&&r.locale!=="ko"&&(Ii||H!=="onCompositionStart"?H==="onCompositionEnd"&&Ii&&(R=By()):(uo=b,Dh="value"in uo?uo.value:uo.textContent,Ii=!0)),B=zc(d,H),0<B.length&&(H=new Bp(H,e,null,r,b),x.push({event:H,listeners:B}),R?H.data=R:(R=zy(r),R!==null&&(H.data=R)))),(R=Vv?Hv(e,r):qv(e,r))&&(d=zc(d,"onBeforeInput"),0<d.length&&(b=new Bp("onBeforeInput","beforeinput",null,r,b),x.push({event:b,listeners:d}),b.data=R))}Gy(x,t)})}function Ea(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ba(e,r),o!=null&&n.unshift(Ea(e,o,s)),o=ba(e,t),o!=null&&n.push(Ea(e,o,s))),e=e.return}return n}function Ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hp(e,t,r,n,s){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=ba(r,o),c!=null&&a.unshift(Ea(r,c,l))):s||(c=ba(r,o),c!=null&&a.push(Ea(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var n5=/\r\n?/g,o5=/\u0000|\uFFFD/g;function qp(e){return(typeof e=="string"?e:""+e).replace(n5,`
`).replace(o5,"")}function kl(e,t,r){if(t=qp(t),qp(e)!==t&&r)throw Error(ge(425))}function Fc(){}var $f=null,Uf=null;function Wf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,i5=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,s5=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(e){return Ip.resolve(null).then(e).catch(a5)}:Vf;function a5(e){setTimeout(function(){throw e})}function ju(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Sa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Sa(t)}function xo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),on="__reactFiber$"+Ns,_a="__reactProps$"+Ns,Pn="__reactContainer$"+Ns,Hf="__reactEvents$"+Ns,l5="__reactListeners$"+Ns,c5="__reactHandles$"+Ns;function qo(e){var t=e[on];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pn]||r[on]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gp(e);e!==null;){if(r=e[on])return r;e=Gp(e)}return t}e=r,r=e.parentNode}return null}function Xa(e){return e=e[on]||e[Pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ki(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function jd(e){return e[_a]||null}var qf=[],Zi=-1;function No(e){return{current:e}}function Je(e){0>Zi||(e.current=qf[Zi],qf[Zi]=null,Zi--)}function Xe(e,t){Zi++,qf[Zi]=e.current,e.current=t}var Eo={},qt=No(Eo),ir=No(!1),oi=Eo;function ms(e,t){var r=e.type.contextTypes;if(!r)return Eo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function sr(e){return e=e.childContextTypes,e!=null}function Pc(){Je(ir),Je(qt)}function Yp(e,t,r){if(qt.current!==Eo)throw Error(ge(168));Xe(qt,t),Xe(ir,r)}function Ky(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ge(108,Kw(e)||"Unknown",s));return st({},r,n)}function Mc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eo,oi=qt.current,Xe(qt,e),Xe(ir,ir.current),!0}function Kp(e,t,r){var n=e.stateNode;if(!n)throw Error(ge(169));r?(e=Ky(e,t,oi),n.__reactInternalMemoizedMergedChildContext=e,Je(ir),Je(qt),Xe(qt,e)):Je(ir),Xe(ir,r)}var vn=null,Td=!1,Tu=!1;function Zy(e){vn===null?vn=[e]:vn.push(e)}function d5(e){Td=!0,Zy(e)}function Bo(){if(!Tu&&vn!==null){Tu=!0;var e=0,t=Ge;try{var r=vn;for(Ge=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vn=null,Td=!1}catch(s){throw vn!==null&&(vn=vn.slice(e+1)),by(Xh,Bo),s}finally{Ge=t,Tu=!1}}return null}var Xi=[],Qi=0,Oc=null,$c=0,br=[],wr=0,ii=null,jn=1,Tn="";function Po(e,t){Xi[Qi++]=$c,Xi[Qi++]=Oc,Oc=e,$c=t}function Xy(e,t,r){br[wr++]=jn,br[wr++]=Tn,br[wr++]=ii,ii=e;var n=jn;e=Tn;var s=32-Ur(n)-1;n&=~(1<<s),r+=1;var o=32-Ur(t)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,jn=1<<32-Ur(t)+s|r<<s|n,Tn=o+e}else jn=1<<o|r<<s|n,Tn=e}function o0(e){e.return!==null&&(Po(e,1),Xy(e,1,0))}function i0(e){for(;e===Oc;)Oc=Xi[--Qi],Xi[Qi]=null,$c=Xi[--Qi],Xi[Qi]=null;for(;e===ii;)ii=br[--wr],br[wr]=null,Tn=br[--wr],br[wr]=null,jn=br[--wr],br[wr]=null}var ur=null,dr=null,tt=!1,Or=null;function Qy(e,t){var r=Sr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ur=e,dr=xo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ur=e,dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ii!==null?{id:jn,overflow:Tn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Sr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ur=e,dr=null,!0):!1;default:return!1}}function If(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gf(e){if(tt){var t=dr;if(t){var r=t;if(!Zp(e,t)){if(If(e))throw Error(ge(418));t=xo(r.nextSibling);var n=ur;t&&Zp(e,t)?Qy(n,r):(e.flags=e.flags&-4097|2,tt=!1,ur=e)}}else{if(If(e))throw Error(ge(418));e.flags=e.flags&-4097|2,tt=!1,ur=e}}}function Xp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ur=e}function jl(e){if(e!==ur)return!1;if(!tt)return Xp(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wf(e.type,e.memoizedProps)),t&&(t=dr)){if(If(e))throw Jy(),Error(ge(418));for(;t;)Qy(e,t),t=xo(t.nextSibling)}if(Xp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dr=xo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dr=null}}else dr=ur?xo(e.stateNode.nextSibling):null;return!0}function Jy(){for(var e=dr;e;)e=xo(e.nextSibling)}function gs(){dr=ur=null,tt=!1}function s0(e){Or===null?Or=[e]:Or.push(e)}var u5=Wn.ReactCurrentBatchConfig;function Gs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function Tl(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qp(e){var t=e._init;return t(e._payload)}function Ly(e){function t(w,k){if(e){var j=w.deletions;j===null?(w.deletions=[k],w.flags|=16):j.push(k)}}function r(w,k){if(!e)return null;for(;k!==null;)t(w,k),k=k.sibling;return null}function n(w,k){for(w=new Map;k!==null;)k.key!==null?w.set(k.key,k):w.set(k.index,k),k=k.sibling;return w}function s(w,k){return w=So(w,k),w.index=0,w.sibling=null,w}function o(w,k,j){return w.index=j,e?(j=w.alternate,j!==null?(j=j.index,j<k?(w.flags|=2,k):j):(w.flags|=2,k)):(w.flags|=1048576,k)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,k,j,P){return k===null||k.tag!==6?(k=Ru(j,w.mode,P),k.return=w,k):(k=s(k,j),k.return=w,k)}function c(w,k,j,P){var C=j.type;return C===qi?b(w,k,j.props.children,P,j.key):k!==null&&(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===eo&&Qp(C)===k.type)?(P=s(k,j.props),P.ref=Gs(w,k,j),P.return=w,P):(P=ec(j.type,j.key,j.props,null,w.mode,P),P.ref=Gs(w,k,j),P.return=w,P)}function d(w,k,j,P){return k===null||k.tag!==4||k.stateNode.containerInfo!==j.containerInfo||k.stateNode.implementation!==j.implementation?(k=zu(j,w.mode,P),k.return=w,k):(k=s(k,j.children||[]),k.return=w,k)}function b(w,k,j,P,C){return k===null||k.tag!==7?(k=Lo(j,w.mode,P,C),k.return=w,k):(k=s(k,j),k.return=w,k)}function x(w,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Ru(""+k,w.mode,j),k.return=w,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case pl:return j=ec(k.type,k.key,k.props,null,w.mode,j),j.ref=Gs(w,null,k),j.return=w,j;case Hi:return k=zu(k,w.mode,j),k.return=w,k;case eo:var P=k._init;return x(w,P(k._payload),j)}if(Js(k)||Ws(k))return k=Lo(k,w.mode,j,null),k.return=w,k;Tl(w,k)}return null}function m(w,k,j,P){var C=k!==null?k.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return C!==null?null:l(w,k,""+j,P);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case pl:return j.key===C?c(w,k,j,P):null;case Hi:return j.key===C?d(w,k,j,P):null;case eo:return C=j._init,m(w,k,C(j._payload),P)}if(Js(j)||Ws(j))return C!==null?null:b(w,k,j,P,null);Tl(w,j)}return null}function h(w,k,j,P,C){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(j)||null,l(k,w,""+P,C);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case pl:return w=w.get(P.key===null?j:P.key)||null,c(k,w,P,C);case Hi:return w=w.get(P.key===null?j:P.key)||null,d(k,w,P,C);case eo:var B=P._init;return h(w,k,j,B(P._payload),C)}if(Js(P)||Ws(P))return w=w.get(j)||null,b(k,w,P,C,null);Tl(k,P)}return null}function y(w,k,j,P){for(var C=null,B=null,R=k,H=k=0,X=null;R!==null&&H<j.length;H++){R.index>H?(X=R,R=null):X=R.sibling;var $=m(w,R,j[H],P);if($===null){R===null&&(R=X);break}e&&R&&$.alternate===null&&t(w,R),k=o($,k,H),B===null?C=$:B.sibling=$,B=$,R=X}if(H===j.length)return r(w,R),tt&&Po(w,H),C;if(R===null){for(;H<j.length;H++)R=x(w,j[H],P),R!==null&&(k=o(R,k,H),B===null?C=R:B.sibling=R,B=R);return tt&&Po(w,H),C}for(R=n(w,R);H<j.length;H++)X=h(R,w,H,j[H],P),X!==null&&(e&&X.alternate!==null&&R.delete(X.key===null?H:X.key),k=o(X,k,H),B===null?C=X:B.sibling=X,B=X);return e&&R.forEach(function(Y){return t(w,Y)}),tt&&Po(w,H),C}function N(w,k,j,P){var C=Ws(j);if(typeof C!="function")throw Error(ge(150));if(j=C.call(j),j==null)throw Error(ge(151));for(var B=C=null,R=k,H=k=0,X=null,$=j.next();R!==null&&!$.done;H++,$=j.next()){R.index>H?(X=R,R=null):X=R.sibling;var Y=m(w,R,$.value,P);if(Y===null){R===null&&(R=X);break}e&&R&&Y.alternate===null&&t(w,R),k=o(Y,k,H),B===null?C=Y:B.sibling=Y,B=Y,R=X}if($.done)return r(w,R),tt&&Po(w,H),C;if(R===null){for(;!$.done;H++,$=j.next())$=x(w,$.value,P),$!==null&&(k=o($,k,H),B===null?C=$:B.sibling=$,B=$);return tt&&Po(w,H),C}for(R=n(w,R);!$.done;H++,$=j.next())$=h(R,w,H,$.value,P),$!==null&&(e&&$.alternate!==null&&R.delete($.key===null?H:$.key),k=o($,k,H),B===null?C=$:B.sibling=$,B=$);return e&&R.forEach(function(J){return t(w,J)}),tt&&Po(w,H),C}function W(w,k,j,P){if(typeof j=="object"&&j!==null&&j.type===qi&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case pl:e:{for(var C=j.key,B=k;B!==null;){if(B.key===C){if(C=j.type,C===qi){if(B.tag===7){r(w,B.sibling),k=s(B,j.props.children),k.return=w,w=k;break e}}else if(B.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===eo&&Qp(C)===B.type){r(w,B.sibling),k=s(B,j.props),k.ref=Gs(w,B,j),k.return=w,w=k;break e}r(w,B);break}else t(w,B);B=B.sibling}j.type===qi?(k=Lo(j.props.children,w.mode,P,j.key),k.return=w,w=k):(P=ec(j.type,j.key,j.props,null,w.mode,P),P.ref=Gs(w,k,j),P.return=w,w=P)}return a(w);case Hi:e:{for(B=j.key;k!==null;){if(k.key===B)if(k.tag===4&&k.stateNode.containerInfo===j.containerInfo&&k.stateNode.implementation===j.implementation){r(w,k.sibling),k=s(k,j.children||[]),k.return=w,w=k;break e}else{r(w,k);break}else t(w,k);k=k.sibling}k=zu(j,w.mode,P),k.return=w,w=k}return a(w);case eo:return B=j._init,W(w,k,B(j._payload),P)}if(Js(j))return y(w,k,j,P);if(Ws(j))return N(w,k,j,P);Tl(w,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,k!==null&&k.tag===6?(r(w,k.sibling),k=s(k,j),k.return=w,w=k):(r(w,k),k=Ru(j,w.mode,P),k.return=w,w=k),a(w)):r(w,k)}return W}var ys=Ly(!0),Dy=Ly(!1),Uc=No(null),Wc=null,Ji=null,a0=null;function l0(){a0=Ji=Wc=null}function c0(e){var t=Uc.current;Je(Uc),e._currentValue=t}function Yf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ls(e,t){Wc=e,a0=Ji=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nr=!0),e.firstContext=null)}function Tr(e){var t=e._currentValue;if(a0!==e)if(e={context:e,memoizedValue:t,next:null},Ji===null){if(Wc===null)throw Error(ge(308));Ji=e,Wc.dependencies={lanes:0,firstContext:e}}else Ji=Ji.next=e;return t}var Io=null;function d0(e){Io===null?Io=[e]:Io.push(e)}function e1(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,d0(t)):(r.next=s.next,s.next=r),t.interleaved=r,Mn(e,n)}function Mn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var to=!1;function u0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function An(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ve&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Mn(e,r)}return s=n.interleaved,s===null?(t.next=t,d0(n)):(t.next=s.next,s.next=t),n.interleaved=t,Mn(e,r)}function Zl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qh(e,r)}}function Jp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vc(e,t,r,n){var s=e.updateQueue;to=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?o=d:a.next=d,a=c;var b=e.alternate;b!==null&&(b=b.updateQueue,l=b.lastBaseUpdate,l!==a&&(l===null?b.firstBaseUpdate=d:l.next=d,b.lastBaseUpdate=c))}if(o!==null){var x=s.baseState;a=0,b=d=c=null,l=o;do{var m=l.lane,h=l.eventTime;if((n&m)===m){b!==null&&(b=b.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,N=l;switch(m=t,h=r,N.tag){case 1:if(y=N.payload,typeof y=="function"){x=y.call(h,x,m);break e}x=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=N.payload,m=typeof y=="function"?y.call(h,x,m):y,m==null)break e;x=st({},x,m);break e;case 2:to=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},b===null?(d=b=h,c=x):b=b.next=h,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(b===null&&(c=x),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=b,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ai|=a,e.lanes=a,e.memoizedState=x}}function Lp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ge(191,s));s.call(n)}}}var Qa={},cn=No(Qa),Ca=No(Qa),Na=No(Qa);function Go(e){if(e===Qa)throw Error(ge(174));return e}function f0(e,t){switch(Xe(Na,t),Xe(Ca,e),Xe(cn,Qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ef(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ef(t,e)}Je(cn),Xe(cn,t)}function xs(){Je(cn),Je(Ca),Je(Na)}function r1(e){Go(Na.current);var t=Go(cn.current),r=Ef(t,e.type);t!==r&&(Xe(Ca,e),Xe(cn,r))}function h0(e){Ca.current===e&&(Je(cn),Je(Ca))}var nt=No(0);function Hc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Eu=[];function p0(){for(var e=0;e<Eu.length;e++)Eu[e]._workInProgressVersionPrimary=null;Eu.length=0}var Xl=Wn.ReactCurrentDispatcher,_u=Wn.ReactCurrentBatchConfig,si=0,it=null,yt=null,kt=null,qc=!1,fa=!1,Ba=0,f5=0;function Ft(){throw Error(ge(321))}function m0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Hr(e[r],t[r]))return!1;return!0}function g0(e,t,r,n,s,o){if(si=o,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xl.current=e===null||e.memoizedState===null?g5:y5,e=r(n,s),fa){o=0;do{if(fa=!1,Ba=0,25<=o)throw Error(ge(301));o+=1,kt=yt=null,t.updateQueue=null,Xl.current=x5,e=r(n,s)}while(fa)}if(Xl.current=Ic,t=yt!==null&&yt.next!==null,si=0,kt=yt=it=null,qc=!1,t)throw Error(ge(300));return e}function y0(){var e=Ba!==0;return Ba=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?it.memoizedState=kt=e:kt=kt.next=e,kt}function Er(){if(yt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=kt===null?it.memoizedState:kt.next;if(t!==null)kt=t,yt=e;else{if(e===null)throw Error(ge(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},kt===null?it.memoizedState=kt=e:kt=kt.next=e}return kt}function Aa(e,t){return typeof t=="function"?t(e):t}function Cu(e){var t=Er(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=yt,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=a=null,c=null,d=o;do{var b=d.lane;if((si&b)===b)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var x={lane:b,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=x,a=n):c=c.next=x,it.lanes|=b,ai|=b}d=d.next}while(d!==null&&d!==o);c===null?a=n:c.next=l,Hr(n,t.memoizedState)||(nr=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,it.lanes|=o,ai|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nu(e){var t=Er(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);Hr(o,t.memoizedState)||(nr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function n1(){}function o1(e,t){var r=it,n=Er(),s=t(),o=!Hr(n.memoizedState,s);if(o&&(n.memoizedState=s,nr=!0),n=n.queue,x0(a1.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||kt!==null&&kt.memoizedState.tag&1){if(r.flags|=2048,Ra(9,s1.bind(null,r,n,s,t),void 0,null),Tt===null)throw Error(ge(349));si&30||i1(r,t,s)}return s}function i1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function s1(e,t,r,n){t.value=r,t.getSnapshot=n,l1(t)&&c1(e)}function a1(e,t,r){return r(function(){l1(t)&&c1(e)})}function l1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hr(e,r)}catch{return!0}}function c1(e){var t=Mn(e,1);t!==null&&Wr(t,e,1,-1)}function Dp(e){var t=tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=m5.bind(null,it,e),[t.memoizedState,e]}function Ra(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function d1(){return Er().memoizedState}function Ql(e,t,r,n){var s=tn();it.flags|=e,s.memoizedState=Ra(1|t,r,void 0,n===void 0?null:n)}function Ed(e,t,r,n){var s=Er();n=n===void 0?null:n;var o=void 0;if(yt!==null){var a=yt.memoizedState;if(o=a.destroy,n!==null&&m0(n,a.deps)){s.memoizedState=Ra(t,r,o,n);return}}it.flags|=e,s.memoizedState=Ra(1|t,r,o,n)}function em(e,t){return Ql(8390656,8,e,t)}function x0(e,t){return Ed(2048,8,e,t)}function u1(e,t){return Ed(4,2,e,t)}function f1(e,t){return Ed(4,4,e,t)}function h1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function p1(e,t,r){return r=r!=null?r.concat([e]):null,Ed(4,4,h1.bind(null,t,e),r)}function b0(){}function m1(e,t){var r=Er();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&m0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function g1(e,t){var r=Er();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&m0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function y1(e,t,r){return si&21?(Hr(r,t)||(r=Sy(),it.lanes|=r,ai|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nr=!0),e.memoizedState=r)}function h5(e,t){var r=Ge;Ge=r!==0&&4>r?r:4,e(!0);var n=_u.transition;_u.transition={};try{e(!1),t()}finally{Ge=r,_u.transition=n}}function x1(){return Er().memoizedState}function p5(e,t,r){var n=vo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},b1(e))w1(t,r);else if(r=e1(e,t,r,n),r!==null){var s=Lt();Wr(r,e,n,s),v1(r,t,n)}}function m5(e,t,r){var n=vo(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(b1(e))w1(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,Hr(l,a)){var c=t.interleaved;c===null?(s.next=s,d0(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=e1(e,t,s,n),r!==null&&(s=Lt(),Wr(r,e,n,s),v1(r,t,n))}}function b1(e){var t=e.alternate;return e===it||t!==null&&t===it}function w1(e,t){fa=qc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function v1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qh(e,r)}}var Ic={readContext:Tr,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},g5={readContext:Tr,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:Tr,useEffect:em,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ql(4194308,4,h1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ql(4,2,e,t)},useMemo:function(e,t){var r=tn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=tn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=p5.bind(null,it,e),[n.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:Dp,useDebugValue:b0,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=Dp(!1),t=e[0];return e=h5.bind(null,e[1]),tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=it,s=tn();if(tt){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),Tt===null)throw Error(ge(349));si&30||i1(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,em(a1.bind(null,n,o,e),[e]),n.flags|=2048,Ra(9,s1.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=tn(),t=Tt.identifierPrefix;if(tt){var r=Tn,n=jn;r=(n&~(1<<32-Ur(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ba++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=f5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},y5={readContext:Tr,useCallback:m1,useContext:Tr,useEffect:x0,useImperativeHandle:p1,useInsertionEffect:u1,useLayoutEffect:f1,useMemo:g1,useReducer:Cu,useRef:d1,useState:function(){return Cu(Aa)},useDebugValue:b0,useDeferredValue:function(e){var t=Er();return y1(t,yt.memoizedState,e)},useTransition:function(){var e=Cu(Aa)[0],t=Er().memoizedState;return[e,t]},useMutableSource:n1,useSyncExternalStore:o1,useId:x1,unstable_isNewReconciler:!1},x5={readContext:Tr,useCallback:m1,useContext:Tr,useEffect:x0,useImperativeHandle:p1,useInsertionEffect:u1,useLayoutEffect:f1,useMemo:g1,useReducer:Nu,useRef:d1,useState:function(){return Nu(Aa)},useDebugValue:b0,useDeferredValue:function(e){var t=Er();return yt===null?t.memoizedState=e:y1(t,yt.memoizedState,e)},useTransition:function(){var e=Nu(Aa)[0],t=Er().memoizedState;return[e,t]},useMutableSource:n1,useSyncExternalStore:o1,useId:x1,unstable_isNewReconciler:!1};function Fr(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Kf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:st({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _d={isMounted:function(e){return(e=e._reactInternals)?xi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Lt(),s=vo(e),o=An(n,s);o.payload=t,r!=null&&(o.callback=r),t=bo(e,o,s),t!==null&&(Wr(t,e,s,n),Zl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Lt(),s=vo(e),o=An(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=bo(e,o,s),t!==null&&(Wr(t,e,s,n),Zl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Lt(),n=vo(e),s=An(r,n);s.tag=2,t!=null&&(s.callback=t),t=bo(e,s,n),t!==null&&(Wr(t,e,n,r),Zl(t,e,n))}};function tm(e,t,r,n,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!ja(r,n)||!ja(s,o):!0}function S1(e,t,r){var n=!1,s=Eo,o=t.contextType;return typeof o=="object"&&o!==null?o=Tr(o):(s=sr(t)?oi:qt.current,n=t.contextTypes,o=(n=n!=null)?ms(e,s):Eo),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_d,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function rm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_d.enqueueReplaceState(t,t.state,null)}function Zf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},u0(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Tr(o):(o=sr(t)?oi:qt.current,s.context=ms(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Kf(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_d.enqueueReplaceState(s,s.state,null),Vc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bs(e,t){try{var r="",n=t;do r+=Yw(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Bu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var b5=typeof WeakMap=="function"?WeakMap:Map;function k1(e,t,r){r=An(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yc||(Yc=!0,ih=n),Xf(e,t)},r}function j1(e,t,r){r=An(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Xf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Xf(e,t),typeof n!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function nm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new b5;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=z5.bind(null,e,t,r),t.then(e,e))}function om(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function im(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=An(-1,1),t.tag=2,bo(r,t,1))),r.lanes|=1),e)}var w5=Wn.ReactCurrentOwner,nr=!1;function Qt(e,t,r,n){t.child=e===null?Dy(t,null,r,n):ys(t,e.child,r,n)}function sm(e,t,r,n,s){r=r.render;var o=t.ref;return ls(t,s),n=g0(e,t,r,n,o,s),r=y0(),e!==null&&!nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,On(e,t,s)):(tt&&r&&o0(t),t.flags|=1,Qt(e,t,n,s),t.child)}function am(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!_0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,T1(e,t,o,n,s)):(e=ec(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:ja,r(a,n)&&e.ref===t.ref)return On(e,t,s)}return t.flags|=1,e=So(o,n),e.ref=t.ref,e.return=t,t.child=e}function T1(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(ja(o,n)&&e.ref===t.ref)if(nr=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(nr=!0);else return t.lanes=e.lanes,On(e,t,s)}return Qf(e,t,r,n,s)}function E1(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Di,lr),lr|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(Di,lr),lr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Xe(Di,lr),lr|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Xe(Di,lr),lr|=n;return Qt(e,t,s,r),t.child}function _1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Qf(e,t,r,n,s){var o=sr(r)?oi:qt.current;return o=ms(t,o),ls(t,s),r=g0(e,t,r,n,o,s),n=y0(),e!==null&&!nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,On(e,t,s)):(tt&&n&&o0(t),t.flags|=1,Qt(e,t,r,s),t.child)}function lm(e,t,r,n,s){if(sr(r)){var o=!0;Mc(t)}else o=!1;if(ls(t,s),t.stateNode===null)Jl(e,t),S1(t,r,n),Zf(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=Tr(d):(d=sr(r)?oi:qt.current,d=ms(t,d));var b=r.getDerivedStateFromProps,x=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function";x||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==d)&&rm(t,a,n,d),to=!1;var m=t.memoizedState;a.state=m,Vc(t,n,a,s),c=t.memoizedState,l!==n||m!==c||ir.current||to?(typeof b=="function"&&(Kf(t,r,b,n),c=t.memoizedState),(l=to||tm(t,r,l,n,m,c,d))?(x||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=d,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,t1(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Fr(t.type,l),a.props=d,x=t.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Tr(c):(c=sr(r)?oi:qt.current,c=ms(t,c));var h=r.getDerivedStateFromProps;(b=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==x||m!==c)&&rm(t,a,n,c),to=!1,m=t.memoizedState,a.state=m,Vc(t,n,a,s);var y=t.memoizedState;l!==x||m!==y||ir.current||to?(typeof h=="function"&&(Kf(t,r,h,n),y=t.memoizedState),(d=to||tm(t,r,d,n,m,y,c)||!1)?(b||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Jf(e,t,r,n,o,s)}function Jf(e,t,r,n,s,o){_1(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Kp(t,r,!1),On(e,t,o);n=t.stateNode,w5.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ys(t,e.child,null,o),t.child=ys(t,null,l,o)):Qt(e,t,l,o),t.memoizedState=n.state,s&&Kp(t,r,!0),t.child}function C1(e){var t=e.stateNode;t.pendingContext?Yp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yp(e,t.context,!1),f0(e,t.containerInfo)}function cm(e,t,r,n,s){return gs(),s0(s),t.flags|=256,Qt(e,t,r,n),t.child}var Lf={dehydrated:null,treeContext:null,retryLane:0};function Df(e){return{baseLanes:e,cachePool:null,transitions:null}}function N1(e,t,r){var n=t.pendingProps,s=nt.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Xe(nt,s&1),e===null)return Gf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Bd(a,n,0,null),e=Lo(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Df(r),t.memoizedState=Lf,e):w0(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return v5(e,t,a,n,l,s,r);if(o){o=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=So(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=So(l,o):(o=Lo(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?Df(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=Lf,n}return o=e.child,e=o.sibling,n=So(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function w0(e,t){return t=Bd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function El(e,t,r,n){return n!==null&&s0(n),ys(t,e.child,null,r),e=w0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function v5(e,t,r,n,s,o,a){if(r)return t.flags&256?(t.flags&=-257,n=Bu(Error(ge(422))),El(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Bd({mode:"visible",children:n.children},s,0,null),o=Lo(o,s,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ys(t,e.child,null,a),t.child.memoizedState=Df(a),t.memoizedState=Lf,o);if(!(t.mode&1))return El(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(ge(419)),n=Bu(o,n,void 0),El(e,t,a,n)}if(l=(a&e.childLanes)!==0,nr||l){if(n=Tt,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Mn(e,s),Wr(n,e,s,-1))}return E0(),n=Bu(Error(ge(421))),El(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=F5.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,dr=xo(s.nextSibling),ur=t,tt=!0,Or=null,e!==null&&(br[wr++]=jn,br[wr++]=Tn,br[wr++]=ii,jn=e.id,Tn=e.overflow,ii=t),t=w0(t,n.children),t.flags|=4096,t)}function dm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Yf(e.return,t,r)}function Au(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function B1(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Qt(e,t,n.children,r),n=nt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dm(e,r,t);else if(e.tag===19)dm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Xe(nt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Hc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Au(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Hc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Au(t,!0,r,null,o);break;case"together":Au(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function On(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ai|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=So(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=So(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function S5(e,t,r){switch(t.tag){case 3:C1(t),gs();break;case 5:r1(t);break;case 1:sr(t.type)&&Mc(t);break;case 4:f0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Xe(Uc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Xe(nt,nt.current&1),t.flags|=128,null):r&t.child.childLanes?N1(e,t,r):(Xe(nt,nt.current&1),e=On(e,t,r),e!==null?e.sibling:null);Xe(nt,nt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return B1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xe(nt,nt.current),n)break;return null;case 22:case 23:return t.lanes=0,E1(e,t,r)}return On(e,t,r)}var A1,eh,R1,z1;A1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};eh=function(){};R1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Go(cn.current);var o=null;switch(r){case"input":s=Sf(e,s),n=Sf(e,n),o=[];break;case"select":s=st({},s,{value:void 0}),n=st({},n,{value:void 0}),o=[];break;case"textarea":s=Tf(e,s),n=Tf(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fc)}_f(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ya.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ya.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Qe("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};z1=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ys(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function k5(e,t,r){var n=t.pendingProps;switch(i0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return sr(t.type)&&Pc(),Pt(t),null;case 3:return n=t.stateNode,xs(),Je(ir),Je(qt),p0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Or!==null&&(lh(Or),Or=null))),eh(e,t),Pt(t),null;case 5:h0(t);var s=Go(Na.current);if(r=t.type,e!==null&&t.stateNode!=null)R1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ge(166));return Pt(t),null}if(e=Go(cn.current),jl(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[on]=t,n[_a]=o,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(s=0;s<Ds.length;s++)Qe(Ds[s],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":bp(n,o),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Qe("invalid",n);break;case"textarea":vp(n,o),Qe("invalid",n)}_f(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&kl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&kl(n.textContent,l,e),s=["children",""+l]):ya.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Qe("scroll",n)}switch(r){case"input":ml(n),wp(n,o,!0);break;case"textarea":ml(n),Sp(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Fc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ay(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[on]=t,e[_a]=n,A1(e,t,!1,!1),t.stateNode=e;e:{switch(a=Cf(r,n),r){case"dialog":Qe("cancel",e),Qe("close",e),s=n;break;case"iframe":case"object":case"embed":Qe("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ds.length;s++)Qe(Ds[s],e);s=n;break;case"source":Qe("error",e),s=n;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),s=n;break;case"details":Qe("toggle",e),s=n;break;case"input":bp(e,n),s=Sf(e,n),Qe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=st({},n,{value:void 0}),Qe("invalid",e);break;case"textarea":vp(e,n),s=Tf(e,n),Qe("invalid",e);break;default:s=n}_f(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?dy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ly(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&xa(e,c):typeof c=="number"&&xa(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ya.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Qe("scroll",e):c!=null&&Ih(e,o,c,a))}switch(r){case"input":ml(e),wp(e,n,!1);break;case"textarea":ml(e),Sp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+To(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?os(e,!!n.multiple,o,!1):n.defaultValue!=null&&os(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)z1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ge(166));if(r=Go(Na.current),Go(cn.current),jl(t)){if(n=t.stateNode,r=t.memoizedProps,n[on]=t,(o=n.nodeValue!==r)&&(e=ur,e!==null))switch(e.tag){case 3:kl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kl(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[on]=t,t.stateNode=n}return Pt(t),null;case 13:if(Je(nt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&dr!==null&&t.mode&1&&!(t.flags&128))Jy(),gs(),t.flags|=98560,o=!1;else if(o=jl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ge(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ge(317));o[on]=t}else gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),o=!1}else Or!==null&&(lh(Or),Or=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?bt===0&&(bt=3):E0())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return xs(),eh(e,t),e===null&&Ta(t.stateNode.containerInfo),Pt(t),null;case 10:return c0(t.type._context),Pt(t),null;case 17:return sr(t.type)&&Pc(),Pt(t),null;case 19:if(Je(nt),o=t.memoizedState,o===null)return Pt(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Ys(o,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Hc(e),a!==null){for(t.flags|=128,Ys(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xe(nt,nt.current&1|2),t.child}e=e.sibling}o.tail!==null&&ut()>ws&&(t.flags|=128,n=!0,Ys(o,!1),t.lanes=4194304)}else{if(!n)if(e=Hc(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ys(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!tt)return Pt(t),null}else 2*ut()-o.renderingStartTime>ws&&r!==1073741824&&(t.flags|=128,n=!0,Ys(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ut(),t.sibling=null,r=nt.current,Xe(nt,n?r&1|2:r&1),t):(Pt(t),null);case 22:case 23:return T0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?lr&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function j5(e,t){switch(i0(t),t.tag){case 1:return sr(t.type)&&Pc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xs(),Je(ir),Je(qt),p0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return h0(t),null;case 13:if(Je(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(nt),null;case 4:return xs(),null;case 10:return c0(t.type._context),null;case 22:case 23:return T0(),null;case 24:return null;default:return null}}var _l=!1,Vt=!1,T5=typeof WeakSet=="function"?WeakSet:Set,je=null;function Li(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(e,t,n)}else r.current=null}function th(e,t,r){try{r()}catch(n){at(e,t,n)}}var um=!1;function E5(e,t){if($f=Ac,e=$y(),n0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,d=0,b=0,x=e,m=null;t:for(;;){for(var h;x!==r||s!==0&&x.nodeType!==3||(l=a+s),x!==o||n!==0&&x.nodeType!==3||(c=a+n),x.nodeType===3&&(a+=x.nodeValue.length),(h=x.firstChild)!==null;)m=x,x=h;for(;;){if(x===e)break t;if(m===r&&++d===s&&(l=a),m===o&&++b===n&&(c=a),(h=x.nextSibling)!==null)break;x=m,m=x.parentNode}x=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uf={focusedElem:e,selectionRange:r},Ac=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){t=je;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var N=y.memoizedProps,W=y.memoizedState,w=t.stateNode,k=w.getSnapshotBeforeUpdate(t.elementType===t.type?N:Fr(t.type,N),W);w.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(P){at(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return y=um,um=!1,y}function ha(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&th(t,r,o)}s=s.next}while(s!==n)}}function Cd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function rh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function F1(e){var t=e.alternate;t!==null&&(e.alternate=null,F1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[on],delete t[_a],delete t[Hf],delete t[l5],delete t[c5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function P1(e){return e.tag===5||e.tag===3||e.tag===4}function fm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||P1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fc));else if(n!==4&&(e=e.child,e!==null))for(nh(e,t,r),e=e.sibling;e!==null;)nh(e,t,r),e=e.sibling}function oh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(oh(e,t,r),e=e.sibling;e!==null;)oh(e,t,r),e=e.sibling}var _t=null,Mr=!1;function Kn(e,t,r){for(r=r.child;r!==null;)M1(e,t,r),r=r.sibling}function M1(e,t,r){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(wd,r)}catch{}switch(r.tag){case 5:Vt||Li(r,t);case 6:var n=_t,s=Mr;_t=null,Kn(e,t,r),_t=n,Mr=s,_t!==null&&(Mr?(e=_t,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_t.removeChild(r.stateNode));break;case 18:_t!==null&&(Mr?(e=_t,r=r.stateNode,e.nodeType===8?ju(e.parentNode,r):e.nodeType===1&&ju(e,r),Sa(e)):ju(_t,r.stateNode));break;case 4:n=_t,s=Mr,_t=r.stateNode.containerInfo,Mr=!0,Kn(e,t,r),_t=n,Mr=s;break;case 0:case 11:case 14:case 15:if(!Vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&th(r,t,a),s=s.next}while(s!==n)}Kn(e,t,r);break;case 1:if(!Vt&&(Li(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){at(r,t,l)}Kn(e,t,r);break;case 21:Kn(e,t,r);break;case 22:r.mode&1?(Vt=(n=Vt)||r.memoizedState!==null,Kn(e,t,r),Vt=n):Kn(e,t,r);break;default:Kn(e,t,r)}}function hm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new T5),t.forEach(function(n){var s=P5.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Nr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:_t=l.stateNode,Mr=!1;break e;case 3:_t=l.stateNode.containerInfo,Mr=!0;break e;case 4:_t=l.stateNode.containerInfo,Mr=!0;break e}l=l.return}if(_t===null)throw Error(ge(160));M1(o,a,s),_t=null,Mr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){at(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)O1(t,e),t=t.sibling}function O1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nr(t,e),Zr(e),n&4){try{ha(3,e,e.return),Cd(3,e)}catch(N){at(e,e.return,N)}try{ha(5,e,e.return)}catch(N){at(e,e.return,N)}}break;case 1:Nr(t,e),Zr(e),n&512&&r!==null&&Li(r,r.return);break;case 5:if(Nr(t,e),Zr(e),n&512&&r!==null&&Li(r,r.return),e.flags&32){var s=e.stateNode;try{xa(s,"")}catch(N){at(e,e.return,N)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&iy(s,o),Cf(l,a);var d=Cf(l,o);for(a=0;a<c.length;a+=2){var b=c[a],x=c[a+1];b==="style"?dy(s,x):b==="dangerouslySetInnerHTML"?ly(s,x):b==="children"?xa(s,x):Ih(s,b,x,d)}switch(l){case"input":kf(s,o);break;case"textarea":sy(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?os(s,!!o.multiple,h,!1):m!==!!o.multiple&&(o.defaultValue!=null?os(s,!!o.multiple,o.defaultValue,!0):os(s,!!o.multiple,o.multiple?[]:"",!1))}s[_a]=o}catch(N){at(e,e.return,N)}}break;case 6:if(Nr(t,e),Zr(e),n&4){if(e.stateNode===null)throw Error(ge(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(N){at(e,e.return,N)}}break;case 3:if(Nr(t,e),Zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sa(t.containerInfo)}catch(N){at(e,e.return,N)}break;case 4:Nr(t,e),Zr(e);break;case 13:Nr(t,e),Zr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(k0=ut())),n&4&&hm(e);break;case 22:if(b=r!==null&&r.memoizedState!==null,e.mode&1?(Vt=(d=Vt)||b,Nr(t,e),Vt=d):Nr(t,e),Zr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!b&&e.mode&1)for(je=e,b=e.child;b!==null;){for(x=je=b;je!==null;){switch(m=je,h=m.child,m.tag){case 0:case 11:case 14:case 15:ha(4,m,m.return);break;case 1:Li(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(N){at(n,r,N)}}break;case 5:Li(m,m.return);break;case 22:if(m.memoizedState!==null){mm(x);continue}}h!==null?(h.return=m,je=h):mm(x)}b=b.sibling}e:for(b=null,x=e;;){if(x.tag===5){if(b===null){b=x;try{s=x.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=x.stateNode,c=x.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cy("display",a))}catch(N){at(e,e.return,N)}}}else if(x.tag===6){if(b===null)try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(N){at(e,e.return,N)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;b===x&&(b=null),x=x.return}b===x&&(b=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Nr(t,e),Zr(e),n&4&&hm(e);break;case 21:break;default:Nr(t,e),Zr(e)}}function Zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(P1(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(xa(s,""),n.flags&=-33);var o=fm(e);oh(e,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=fm(e);nh(e,l,a);break;default:throw Error(ge(161))}}catch(c){at(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _5(e,t,r){je=e,$1(e)}function $1(e,t,r){for(var n=(e.mode&1)!==0;je!==null;){var s=je,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||_l;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Vt;l=_l;var d=Vt;if(_l=a,(Vt=c)&&!d)for(je=s;je!==null;)a=je,c=a.child,a.tag===22&&a.memoizedState!==null?gm(s):c!==null?(c.return=a,je=c):gm(s);for(;o!==null;)je=o,$1(o),o=o.sibling;je=s,_l=l,Vt=d}pm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,je=o):pm(e)}}function pm(e){for(;je!==null;){var t=je;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vt||Cd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Vt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Fr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Lp(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lp(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var b=d.memoizedState;if(b!==null){var x=b.dehydrated;x!==null&&Sa(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}Vt||t.flags&512&&rh(t)}catch(m){at(t,t.return,m)}}if(t===e){je=null;break}if(r=t.sibling,r!==null){r.return=t.return,je=r;break}je=t.return}}function mm(e){for(;je!==null;){var t=je;if(t===e){je=null;break}var r=t.sibling;if(r!==null){r.return=t.return,je=r;break}je=t.return}}function gm(e){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Cd(4,t)}catch(c){at(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){at(t,s,c)}}var o=t.return;try{rh(t)}catch(c){at(t,o,c)}break;case 5:var a=t.return;try{rh(t)}catch(c){at(t,a,c)}}}catch(c){at(t,t.return,c)}if(t===e){je=null;break}var l=t.sibling;if(l!==null){l.return=t.return,je=l;break}je=t.return}}var C5=Math.ceil,Gc=Wn.ReactCurrentDispatcher,v0=Wn.ReactCurrentOwner,jr=Wn.ReactCurrentBatchConfig,Ve=0,Tt=null,mt=null,Bt=0,lr=0,Di=No(0),bt=0,za=null,ai=0,Nd=0,S0=0,pa=null,tr=null,k0=0,ws=1/0,xn=null,Yc=!1,ih=null,wo=null,Cl=!1,fo=null,Kc=0,ma=0,sh=null,Ll=-1,Dl=0;function Lt(){return Ve&6?ut():Ll!==-1?Ll:Ll=ut()}function vo(e){return e.mode&1?Ve&2&&Bt!==0?Bt&-Bt:u5.transition!==null?(Dl===0&&(Dl=Sy()),Dl):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:Ny(e.type)),e):1}function Wr(e,t,r,n){if(50<ma)throw ma=0,sh=null,Error(ge(185));Ka(e,r,n),(!(Ve&2)||e!==Tt)&&(e===Tt&&(!(Ve&2)&&(Nd|=r),bt===4&&ao(e,Bt)),ar(e,n),r===1&&Ve===0&&!(t.mode&1)&&(ws=ut()+500,Td&&Bo()))}function ar(e,t){var r=e.callbackNode;uv(e,t);var n=Bc(e,e===Tt?Bt:0);if(n===0)r!==null&&Tp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Tp(r),t===1)e.tag===0?d5(ym.bind(null,e)):Zy(ym.bind(null,e)),s5(function(){!(Ve&6)&&Bo()}),r=null;else{switch(ky(n)){case 1:r=Xh;break;case 4:r=wy;break;case 16:r=Nc;break;case 536870912:r=vy;break;default:r=Nc}r=Y1(r,U1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function U1(e,t){if(Ll=-1,Dl=0,Ve&6)throw Error(ge(327));var r=e.callbackNode;if(cs()&&e.callbackNode!==r)return null;var n=Bc(e,e===Tt?Bt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zc(e,n);else{t=n;var s=Ve;Ve|=2;var o=V1();(Tt!==e||Bt!==t)&&(xn=null,ws=ut()+500,Jo(e,t));do try{A5();break}catch(l){W1(e,l)}while(1);l0(),Gc.current=o,Ve=s,mt!==null?t=0:(Tt=null,Bt=0,t=bt)}if(t!==0){if(t===2&&(s=zf(e),s!==0&&(n=s,t=ah(e,s))),t===1)throw r=za,Jo(e,0),ao(e,n),ar(e,ut()),r;if(t===6)ao(e,n);else{if(s=e.current.alternate,!(n&30)&&!N5(s)&&(t=Zc(e,n),t===2&&(o=zf(e),o!==0&&(n=o,t=ah(e,o))),t===1))throw r=za,Jo(e,0),ao(e,n),ar(e,ut()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ge(345));case 2:Mo(e,tr,xn);break;case 3:if(ao(e,n),(n&130023424)===n&&(t=k0+500-ut(),10<t)){if(Bc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Lt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vf(Mo.bind(null,e,tr,xn),t);break}Mo(e,tr,xn);break;case 4:if(ao(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Ur(n);o=1<<a,a=t[a],a>s&&(s=a),n&=~o}if(n=s,n=ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*C5(n/1960))-n,10<n){e.timeoutHandle=Vf(Mo.bind(null,e,tr,xn),n);break}Mo(e,tr,xn);break;case 5:Mo(e,tr,xn);break;default:throw Error(ge(329))}}}return ar(e,ut()),e.callbackNode===r?U1.bind(null,e):null}function ah(e,t){var r=pa;return e.current.memoizedState.isDehydrated&&(Jo(e,t).flags|=256),e=Zc(e,t),e!==2&&(t=tr,tr=r,t!==null&&lh(t)),e}function lh(e){tr===null?tr=e:tr.push.apply(tr,e)}function N5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Hr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ao(e,t){for(t&=~S0,t&=~Nd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ur(t),n=1<<r;e[r]=-1,t&=~n}}function ym(e){if(Ve&6)throw Error(ge(327));cs();var t=Bc(e,0);if(!(t&1))return ar(e,ut()),null;var r=Zc(e,t);if(e.tag!==0&&r===2){var n=zf(e);n!==0&&(t=n,r=ah(e,n))}if(r===1)throw r=za,Jo(e,0),ao(e,t),ar(e,ut()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mo(e,tr,xn),ar(e,ut()),null}function j0(e,t){var r=Ve;Ve|=1;try{return e(t)}finally{Ve=r,Ve===0&&(ws=ut()+500,Td&&Bo())}}function li(e){fo!==null&&fo.tag===0&&!(Ve&6)&&cs();var t=Ve;Ve|=1;var r=jr.transition,n=Ge;try{if(jr.transition=null,Ge=1,e)return e()}finally{Ge=n,jr.transition=r,Ve=t,!(Ve&6)&&Bo()}}function T0(){lr=Di.current,Je(Di)}function Jo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,i5(r)),mt!==null)for(r=mt.return;r!==null;){var n=r;switch(i0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pc();break;case 3:xs(),Je(ir),Je(qt),p0();break;case 5:h0(n);break;case 4:xs();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:c0(n.type._context);break;case 22:case 23:T0()}r=r.return}if(Tt=e,mt=e=So(e.current,null),Bt=lr=t,bt=0,za=null,S0=Nd=ai=0,tr=pa=null,Io!==null){for(t=0;t<Io.length;t++)if(r=Io[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}Io=null}return e}function W1(e,t){do{var r=mt;try{if(l0(),Xl.current=Ic,qc){for(var n=it.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}qc=!1}if(si=0,kt=yt=it=null,fa=!1,Ba=0,v0.current=null,r===null||r.return===null){bt=1,za=t,mt=null;break}e:{var o=e,a=r.return,l=r,c=t;if(t=Bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,b=l,x=b.tag;if(!(b.mode&1)&&(x===0||x===11||x===15)){var m=b.alternate;m?(b.updateQueue=m.updateQueue,b.memoizedState=m.memoizedState,b.lanes=m.lanes):(b.updateQueue=null,b.memoizedState=null)}var h=om(a);if(h!==null){h.flags&=-257,im(h,a,l,o,t),h.mode&1&&nm(o,d,t),t=h,c=d;var y=t.updateQueue;if(y===null){var N=new Set;N.add(c),t.updateQueue=N}else y.add(c);break e}else{if(!(t&1)){nm(o,d,t),E0();break e}c=Error(ge(426))}}else if(tt&&l.mode&1){var W=om(a);if(W!==null){!(W.flags&65536)&&(W.flags|=256),im(W,a,l,o,t),s0(bs(c,l));break e}}o=c=bs(c,l),bt!==4&&(bt=2),pa===null?pa=[o]:pa.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=k1(o,c,t);Jp(o,w);break e;case 1:l=c;var k=o.type,j=o.stateNode;if(!(o.flags&128)&&(typeof k.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(wo===null||!wo.has(j)))){o.flags|=65536,t&=-t,o.lanes|=t;var P=j1(o,l,t);Jp(o,P);break e}}o=o.return}while(o!==null)}q1(r)}catch(C){t=C,mt===r&&r!==null&&(mt=r=r.return);continue}break}while(1)}function V1(){var e=Gc.current;return Gc.current=Ic,e===null?Ic:e}function E0(){(bt===0||bt===3||bt===2)&&(bt=4),Tt===null||!(ai&268435455)&&!(Nd&268435455)||ao(Tt,Bt)}function Zc(e,t){var r=Ve;Ve|=2;var n=V1();(Tt!==e||Bt!==t)&&(xn=null,Jo(e,t));do try{B5();break}catch(s){W1(e,s)}while(1);if(l0(),Ve=r,Gc.current=n,mt!==null)throw Error(ge(261));return Tt=null,Bt=0,bt}function B5(){for(;mt!==null;)H1(mt)}function A5(){for(;mt!==null&&!rv();)H1(mt)}function H1(e){var t=G1(e.alternate,e,lr);e.memoizedProps=e.pendingProps,t===null?q1(e):mt=t,v0.current=null}function q1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=j5(r,t),r!==null){r.flags&=32767,mt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,mt=null;return}}else if(r=k5(r,t,lr),r!==null){mt=r;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);bt===0&&(bt=5)}function Mo(e,t,r){var n=Ge,s=jr.transition;try{jr.transition=null,Ge=1,R5(e,t,r,n)}finally{jr.transition=s,Ge=n}return null}function R5(e,t,r,n){do cs();while(fo!==null);if(Ve&6)throw Error(ge(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(fv(e,o),e===Tt&&(mt=Tt=null,Bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cl||(Cl=!0,Y1(Nc,function(){return cs(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=jr.transition,jr.transition=null;var a=Ge;Ge=1;var l=Ve;Ve|=4,v0.current=null,E5(e,r),O1(r,e),Lv(Uf),Ac=!!$f,Uf=$f=null,e.current=r,_5(r),nv(),Ve=l,Ge=a,jr.transition=o}else e.current=r;if(Cl&&(Cl=!1,fo=e,Kc=s),o=e.pendingLanes,o===0&&(wo=null),sv(r.stateNode),ar(e,ut()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Yc)throw Yc=!1,e=ih,ih=null,e;return Kc&1&&e.tag!==0&&cs(),o=e.pendingLanes,o&1?e===sh?ma++:(ma=0,sh=e):ma=0,Bo(),null}function cs(){if(fo!==null){var e=ky(Kc),t=jr.transition,r=Ge;try{if(jr.transition=null,Ge=16>e?16:e,fo===null)var n=!1;else{if(e=fo,fo=null,Kc=0,Ve&6)throw Error(ge(331));var s=Ve;for(Ve|=4,je=e.current;je!==null;){var o=je,a=o.child;if(je.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(je=d;je!==null;){var b=je;switch(b.tag){case 0:case 11:case 15:ha(8,b,o)}var x=b.child;if(x!==null)x.return=b,je=x;else for(;je!==null;){b=je;var m=b.sibling,h=b.return;if(F1(b),b===d){je=null;break}if(m!==null){m.return=h,je=m;break}je=h}}}var y=o.alternate;if(y!==null){var N=y.child;if(N!==null){y.child=null;do{var W=N.sibling;N.sibling=null,N=W}while(N!==null)}}je=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,je=a;else e:for(;je!==null;){if(o=je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ha(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,je=w;break e}je=o.return}}var k=e.current;for(je=k;je!==null;){a=je;var j=a.child;if(a.subtreeFlags&2064&&j!==null)j.return=a,je=j;else e:for(a=k;je!==null;){if(l=je,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cd(9,l)}}catch(C){at(l,l.return,C)}if(l===a){je=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,je=P;break e}je=l.return}}if(Ve=s,Bo(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(wd,e)}catch{}n=!0}return n}finally{Ge=r,jr.transition=t}}return!1}function xm(e,t,r){t=bs(r,t),t=k1(e,t,1),e=bo(e,t,1),t=Lt(),e!==null&&(Ka(e,1,t),ar(e,t))}function at(e,t,r){if(e.tag===3)xm(e,e,r);else for(;t!==null;){if(t.tag===3){xm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wo===null||!wo.has(n))){e=bs(r,e),e=j1(t,e,1),t=bo(t,e,1),e=Lt(),t!==null&&(Ka(t,1,e),ar(t,e));break}}t=t.return}}function z5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(Bt&r)===r&&(bt===4||bt===3&&(Bt&130023424)===Bt&&500>ut()-k0?Jo(e,0):S0|=r),ar(e,t)}function I1(e,t){t===0&&(e.mode&1?(t=xl,xl<<=1,!(xl&130023424)&&(xl=4194304)):t=1);var r=Lt();e=Mn(e,t),e!==null&&(Ka(e,t,r),ar(e,r))}function F5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),I1(e,r)}function P5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(t),I1(e,r)}var G1;G1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ir.current)nr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nr=!1,S5(e,t,r);nr=!!(e.flags&131072)}else nr=!1,tt&&t.flags&1048576&&Xy(t,$c,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jl(e,t),e=t.pendingProps;var s=ms(t,qt.current);ls(t,r),s=g0(null,t,n,e,s,r);var o=y0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(n)?(o=!0,Mc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,u0(t),s.updater=_d,t.stateNode=s,s._reactInternals=t,Zf(t,n,e,r),t=Jf(null,t,n,!0,o,r)):(t.tag=0,tt&&o&&o0(t),Qt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=O5(n),e=Fr(n,e),s){case 0:t=Qf(null,t,n,e,r);break e;case 1:t=lm(null,t,n,e,r);break e;case 11:t=sm(null,t,n,e,r);break e;case 14:t=am(null,t,n,Fr(n.type,e),r);break e}throw Error(ge(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),Qf(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),lm(e,t,n,s,r);case 3:e:{if(C1(t),e===null)throw Error(ge(387));n=t.pendingProps,o=t.memoizedState,s=o.element,t1(e,t),Vc(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=bs(Error(ge(423)),t),t=cm(e,t,n,r,s);break e}else if(n!==s){s=bs(Error(ge(424)),t),t=cm(e,t,n,r,s);break e}else for(dr=xo(t.stateNode.containerInfo.firstChild),ur=t,tt=!0,Or=null,r=Dy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gs(),n===s){t=On(e,t,r);break e}Qt(e,t,n,r)}t=t.child}return t;case 5:return r1(t),e===null&&Gf(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,Wf(n,s)?a=null:o!==null&&Wf(n,o)&&(t.flags|=32),_1(e,t),Qt(e,t,a,r),t.child;case 6:return e===null&&Gf(t),null;case 13:return N1(e,t,r);case 4:return f0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ys(t,null,n,r):Qt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),sm(e,t,n,s,r);case 7:return Qt(e,t,t.pendingProps,r),t.child;case 8:return Qt(e,t,t.pendingProps.children,r),t.child;case 12:return Qt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Xe(Uc,n._currentValue),n._currentValue=a,o!==null)if(Hr(o.value,a)){if(o.children===s.children&&!ir.current){t=On(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=An(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var b=d.pending;b===null?c.next=c:(c.next=b.next,b.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Yf(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ge(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Yf(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Qt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ls(t,r),s=Tr(s),n=n(s),t.flags|=1,Qt(e,t,n,r),t.child;case 14:return n=t.type,s=Fr(n,t.pendingProps),s=Fr(n.type,s),am(e,t,n,s,r);case 15:return T1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),Jl(e,t),t.tag=1,sr(n)?(e=!0,Mc(t)):e=!1,ls(t,r),S1(t,n,s),Zf(t,n,s,r),Jf(null,t,n,!0,e,r);case 19:return B1(e,t,r);case 22:return E1(e,t,r)}throw Error(ge(156,t.tag))};function Y1(e,t){return by(e,t)}function M5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(e,t,r,n){return new M5(e,t,r,n)}function _0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O5(e){if(typeof e=="function")return _0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yh)return 11;if(e===Kh)return 14}return 2}function So(e,t){var r=e.alternate;return r===null?(r=Sr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ec(e,t,r,n,s,o){var a=2;if(n=e,typeof e=="function")_0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case qi:return Lo(r.children,s,o,t);case Gh:a=8,s|=8;break;case xf:return e=Sr(12,r,t,s|2),e.elementType=xf,e.lanes=o,e;case bf:return e=Sr(13,r,t,s),e.elementType=bf,e.lanes=o,e;case wf:return e=Sr(19,r,t,s),e.elementType=wf,e.lanes=o,e;case ry:return Bd(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ey:a=10;break e;case ty:a=9;break e;case Yh:a=11;break e;case Kh:a=14;break e;case eo:a=16,n=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=Sr(a,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Lo(e,t,r,n){return e=Sr(7,e,n,t),e.lanes=r,e}function Bd(e,t,r,n){return e=Sr(22,e,n,t),e.elementType=ry,e.lanes=r,e.stateNode={isHidden:!1},e}function Ru(e,t,r){return e=Sr(6,e,null,t),e.lanes=r,e}function zu(e,t,r){return t=Sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $5(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hu(0),this.expirationTimes=hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function C0(e,t,r,n,s,o,a,l,c){return e=new $5(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Sr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},u0(o),e}function U5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function K1(e){if(!e)return Eo;e=e._reactInternals;e:{if(xi(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(sr(r))return Ky(e,r,t)}return t}function Z1(e,t,r,n,s,o,a,l,c){return e=C0(r,n,!0,e,s,o,a,l,c),e.context=K1(null),r=e.current,n=Lt(),s=vo(r),o=An(n,s),o.callback=t??null,bo(r,o,s),e.current.lanes=s,Ka(e,s,n),ar(e,n),e}function Ad(e,t,r,n){var s=t.current,o=Lt(),a=vo(s);return r=K1(r),t.context===null?t.context=r:t.pendingContext=r,t=An(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bo(s,t,a),e!==null&&(Wr(e,s,a,o),Zl(e,s,a)),a}function Xc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function N0(e,t){bm(e,t),(e=e.alternate)&&bm(e,t)}function W5(){return null}var X1=typeof reportError=="function"?reportError:function(e){console.error(e)};function B0(e){this._internalRoot=e}Rd.prototype.render=B0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));Ad(e,t,null,null)};Rd.prototype.unmount=B0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;li(function(){Ad(null,e,null,null)}),t[Pn]=null}};function Rd(e){this._internalRoot=e}Rd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ey();e={blockedOn:null,target:e,priority:t};for(var r=0;r<so.length&&t!==0&&t<so[r].priority;r++);so.splice(r,0,e),r===0&&Cy(e)}};function A0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wm(){}function V5(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var d=Xc(a);o.call(d)}}var a=Z1(t,n,e,0,null,!1,!1,"",wm);return e._reactRootContainer=a,e[Pn]=a.current,Ta(e.nodeType===8?e.parentNode:e),li(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Xc(c);l.call(d)}}var c=C0(e,0,!1,null,null,!1,!1,"",wm);return e._reactRootContainer=c,e[Pn]=c.current,Ta(e.nodeType===8?e.parentNode:e),li(function(){Ad(t,c,r,n)}),c}function Fd(e,t,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Xc(a);l.call(c)}}Ad(t,a,e,s)}else a=V5(r,t,e,s,n);return Xc(a)}jy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ls(t.pendingLanes);r!==0&&(Qh(t,r|1),ar(t,ut()),!(Ve&6)&&(ws=ut()+500,Bo()))}break;case 13:li(function(){var n=Mn(e,1);if(n!==null){var s=Lt();Wr(n,e,1,s)}}),N0(e,1)}};Jh=function(e){if(e.tag===13){var t=Mn(e,134217728);if(t!==null){var r=Lt();Wr(t,e,134217728,r)}N0(e,134217728)}};Ty=function(e){if(e.tag===13){var t=vo(e),r=Mn(e,t);if(r!==null){var n=Lt();Wr(r,e,t,n)}N0(e,t)}};Ey=function(){return Ge};_y=function(e,t){var r=Ge;try{return Ge=e,t()}finally{Ge=r}};Bf=function(e,t,r){switch(t){case"input":if(kf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=jd(n);if(!s)throw Error(ge(90));oy(n),kf(n,s)}}}break;case"textarea":sy(e,r);break;case"select":t=r.value,t!=null&&os(e,!!r.multiple,t,!1)}};hy=j0;py=li;var H5={usingClientEntryPoint:!1,Events:[Xa,Ki,jd,uy,fy,j0]},Ks={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q5={bundleType:Ks.bundleType,version:Ks.version,rendererPackageName:Ks.rendererPackageName,rendererConfig:Ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yy(e),e===null?null:e.stateNode},findFiberByHostInstance:Ks.findFiberByHostInstance||W5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{wd=Nl.inject(q5),ln=Nl}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H5;pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A0(t))throw Error(ge(200));return U5(e,t,null,r)};pr.createRoot=function(e,t){if(!A0(e))throw Error(ge(299));var r=!1,n="",s=X1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=C0(e,1,!1,null,null,r,!1,n,s),e[Pn]=t.current,Ta(e.nodeType===8?e.parentNode:e),new B0(t)};pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=yy(t),e=e===null?null:e.stateNode,e};pr.flushSync=function(e){return li(e)};pr.hydrate=function(e,t,r){if(!zd(t))throw Error(ge(200));return Fd(null,e,t,!0,r)};pr.hydrateRoot=function(e,t,r){if(!A0(e))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=X1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Z1(t,null,e,1,r??null,s,!1,o,a),e[Pn]=t.current,Ta(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Rd(t)};pr.render=function(e,t,r){if(!zd(t))throw Error(ge(200));return Fd(null,e,t,!1,r)};pr.unmountComponentAtNode=function(e){if(!zd(e))throw Error(ge(40));return e._reactRootContainer?(li(function(){Fd(null,null,e,!1,function(){e._reactRootContainer=null,e[Pn]=null})}),!0):!1};pr.unstable_batchedUpdates=j0;pr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zd(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return Fd(e,t,r,!1,n)};pr.version="18.3.1-next-f1338f8080-20240426";function Q1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q1)}catch(e){console.error(e)}}Q1(),Qg.exports=pr;var I5=Qg.exports,J1,vm=I5;J1=vm.createRoot,vm.hydrateRoot;const G5="modulepreload",Y5=function(e,t){return new URL(e,t).href},Sm={},L1=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=Y5(o,n),o in Sm)return;Sm[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!n)for(let b=s.length-1;b>=0;b--){const x=s[b];if(x.href===o&&(!a||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":G5,a||(d.as="script",d.crossOrigin=""),d.href=o,document.head.appendChild(d),a)return new Promise((b,x)=>{d.addEventListener("load",b),d.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};var km="popstate";function K5(e={}){function t(n,s){let{pathname:o,search:a,hash:l}=n.location;return ch("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Fa(s)}return X5(t,r,null,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Z5(){return Math.random().toString(36).substring(2,10)}function jm(e,t){return{usr:e.state,key:e.key,idx:t}}function ch(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Bs(t):t,state:r,key:t&&t.key||n||Z5()}}function Fa({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function X5(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,a=s.history,l="POP",c=null,d=b();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function b(){return(a.state||{idx:null}).idx}function x(){l="POP";let W=b(),w=W==null?null:W-d;d=W,c&&c({action:l,location:N.location,delta:w})}function m(W,w){l="PUSH";let k=ch(N.location,W,w);r&&r(k,W),d=b()+1;let j=jm(k,d),P=N.createHref(k);try{a.pushState(j,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(P)}o&&c&&c({action:l,location:N.location,delta:1})}function h(W,w){l="REPLACE";let k=ch(N.location,W,w);r&&r(k,W),d=b();let j=jm(k,d),P=N.createHref(k);a.replaceState(j,"",P),o&&c&&c({action:l,location:N.location,delta:0})}function y(W){return Q5(W)}let N={get action(){return l},get location(){return e(s,a)},listen(W){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(km,x),c=W,()=>{s.removeEventListener(km,x),c=null}},createHref(W){return t(s,W)},createURL:y,encodeLocation(W){let w=y(W);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:h,go(W){return a.go(W)}};return N}function Q5(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),rt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Fa(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function D1(e,t,r="/"){return J5(e,t,r,!1)}function J5(e,t,r,n){let s=typeof t=="string"?Bs(t):t,o=$n(s.pathname||"/",r);if(o==null)return null;let a=ex(e);L5(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=cS(o);l=aS(a[c],d,n)}return l}function ex(e,t=[],r=[],n=""){let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(rt(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let d=Rn([n,c.relativePath]),b=r.concat(c);o.children&&o.children.length>0&&(rt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ex(o.children,t,b,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:iS(d,o.index),routesMeta:b})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of tx(o.path))s(o,a,c)}),t}function tx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let a=tx(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function L5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:sS(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var D5=/^:[\w-]+$/,eS=3,tS=2,rS=1,nS=10,oS=-2,Tm=e=>e==="*";function iS(e,t){let r=e.split("/"),n=r.length;return r.some(Tm)&&(n+=oS),t&&(n+=tS),r.filter(s=>!Tm(s)).reduce((s,o)=>s+(D5.test(o)?eS:o===""?rS:nS),n)}function sS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function aS(e,t,r=!1){let{routesMeta:n}=e,s={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,b=o==="/"?t:t.slice(o.length)||"/",x=Qc({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},b),m=c.route;if(!x&&d&&r&&!n[n.length-1].route.index&&(x=Qc({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},b)),!x)return null;Object.assign(s,x.params),a.push({params:s,pathname:Rn([o,x.pathname]),pathnameBase:hS(Rn([o,x.pathnameBase])),route:m}),x.pathnameBase!=="/"&&(o=Rn([o,x.pathnameBase]))}return a}function Qc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=lS(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,{paramName:b,isOptional:x},m)=>{if(b==="*"){let y=l[m]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const h=l[m];return x&&!h?d[b]=void 0:d[b]=(h||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:e}}function lS(e,t=!1,r=!0){qr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function cS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $n(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function dS(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Bs(e):e;return{pathname:r?r.startsWith("/")?r:uS(r,t):t,search:pS(n),hash:mS(s)}}function uS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Fu(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fS(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function R0(e){let t=fS(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function z0(e,t,r,n=!1){let s;typeof e=="string"?s=Bs(e):(s={...e},rt(!s.pathname||!s.pathname.includes("?"),Fu("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),Fu("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),Fu("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=r;else{let x=t.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),x-=1;s.pathname=m.join("/")}l=x>=0?t[x]:"/"}let c=dS(s,l),d=a&&a!=="/"&&a.endsWith("/"),b=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||b)&&(c.pathname+="/"),c}var Rn=e=>e.join("/").replace(/\/\/+/g,"/"),hS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var rx=["POST","PUT","PATCH","DELETE"];new Set(rx);var yS=["GET",...rx];new Set(yS);var As=T.createContext(null);As.displayName="DataRouter";var Pd=T.createContext(null);Pd.displayName="DataRouterState";T.createContext(!1);var nx=T.createContext({isTransitioning:!1});nx.displayName="ViewTransition";var xS=T.createContext(new Map);xS.displayName="Fetchers";var bS=T.createContext(null);bS.displayName="Await";var Gr=T.createContext(null);Gr.displayName="Navigation";var Ja=T.createContext(null);Ja.displayName="Location";var un=T.createContext({outlet:null,matches:[],isDataRoute:!1});un.displayName="Route";var F0=T.createContext(null);F0.displayName="RouteError";function wS(e,{relative:t}={}){rt(Rs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=T.useContext(Gr),{hash:s,pathname:o,search:a}=La(e,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Rn([r,o])),n.createHref({pathname:l,search:a,hash:s})}function Rs(){return T.useContext(Ja)!=null}function Ao(){return rt(Rs(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Ja).location}var ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ix(e){T.useContext(Gr).static||T.useLayoutEffect(e)}function Md(){let{isDataRoute:e}=T.useContext(un);return e?zS():vS()}function vS(){rt(Rs(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(As),{basename:t,navigator:r}=T.useContext(Gr),{matches:n}=T.useContext(un),{pathname:s}=Ao(),o=JSON.stringify(R0(n)),a=T.useRef(!1);return ix(()=>{a.current=!0}),T.useCallback((c,d={})=>{if(qr(a.current,ox),!a.current)return;if(typeof c=="number"){r.go(c);return}let b=z0(c,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Rn([t,b.pathname])),(d.replace?r.replace:r.push)(b,d.state,d)},[t,r,o,s,e])}T.createContext(null);function La(e,{relative:t}={}){let{matches:r}=T.useContext(un),{pathname:n}=Ao(),s=JSON.stringify(R0(r));return T.useMemo(()=>z0(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function SS(e,t){return sx(e,t)}function sx(e,t,r,n){var w;rt(Rs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(Gr),{matches:o}=T.useContext(un),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",b=a&&a.route;{let k=b&&b.path||"";ax(c,!b||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=Ao(),m;if(t){let k=typeof t=="string"?Bs(t):t;rt(d==="/"||((w=k.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${k.pathname}" was given in the \`location\` prop.`),m=k}else m=x;let h=m.pathname||"/",y=h;if(d!=="/"){let k=d.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=D1(e,{pathname:y});qr(b||N!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),qr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=_S(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Rn([d,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:Rn([d,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,r,n);return t&&W?T.createElement(Ja.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},W):W}function kS(){let e=RS(),t=gS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:o},"ErrorBoundary")," or"," ",T.createElement("code",{style:o},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:s},r):null,a)}var jS=T.createElement(kS,null),TS=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(un.Provider,{value:this.props.routeContext},T.createElement(F0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ES({routeContext:e,match:t,children:r}){let n=T.useContext(As);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(un.Provider,{value:e},r)}function _S(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=r==null?void 0:r.errors;if(o!=null){let c=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);rt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(r)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:b,errors:x}=r,m=d.route.loader&&!b.hasOwnProperty(d.route.id)&&(!x||x[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,d,b)=>{let x,m=!1,h=null,y=null;r&&(x=o&&d.route.id?o[d.route.id]:void 0,h=d.route.errorElement||jS,a&&(l<0&&b===0?(ax("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,y=null):l===b&&(m=!0,y=d.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,b+1)),W=()=>{let w;return x?w=h:m?w=y:d.route.Component?w=T.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,T.createElement(ES,{match:d,routeContext:{outlet:c,matches:N,isDataRoute:r!=null},children:w})};return r&&(d.route.ErrorBoundary||d.route.errorElement||b===0)?T.createElement(TS,{location:r.location,revalidation:r.revalidation,component:h,error:x,children:W(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):W()},null)}function P0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CS(e){let t=T.useContext(As);return rt(t,P0(e)),t}function NS(e){let t=T.useContext(Pd);return rt(t,P0(e)),t}function BS(e){let t=T.useContext(un);return rt(t,P0(e)),t}function M0(e){let t=BS(e),r=t.matches[t.matches.length-1];return rt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function AS(){return M0("useRouteId")}function RS(){var n;let e=T.useContext(F0),t=NS("useRouteError"),r=M0("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function zS(){let{router:e}=CS("useNavigate"),t=M0("useNavigate"),r=T.useRef(!1);return ix(()=>{r.current=!0}),T.useCallback(async(s,o={})=>{qr(r.current,ox),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var Em={};function ax(e,t,r){!t&&!Em[e]&&(Em[e]=!0,qr(!1,r))}T.memo(FS);function FS({routes:e,future:t,state:r}){return sx(e,void 0,r,t)}function PS({to:e,replace:t,state:r,relative:n}){rt(Rs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=T.useContext(Gr);qr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=T.useContext(un),{pathname:a}=Ao(),l=Md(),c=z0(e,R0(o),a,n==="path"),d=JSON.stringify(c);return T.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:n})},[l,d,n,t,r]),null}function dh(e){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MS({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:o=!1}){rt(!Rs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:s,static:o,future:{}}),[a,s,o]);typeof r=="string"&&(r=Bs(r));let{pathname:c="/",search:d="",hash:b="",state:x=null,key:m="default"}=r,h=T.useMemo(()=>{let y=$n(c,a);return y==null?null:{location:{pathname:y,search:d,hash:b,state:x,key:m},navigationType:n}},[a,c,d,b,x,m,n]);return qr(h!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${b}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:T.createElement(Gr.Provider,{value:l},T.createElement(Ja.Provider,{children:t,value:h}))}function OS({children:e,location:t}){return SS(uh(e),t)}function uh(e,t=[]){let r=[];return T.Children.forEach(e,(n,s)=>{if(!T.isValidElement(n))return;let o=[...t,s];if(n.type===T.Fragment){r.push.apply(r,uh(n.props.children,o));return}rt(n.type===dh,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=uh(n.props.children,o)),r.push(a)}),r}var tc="get",rc="application/x-www-form-urlencoded";function Od(e){return e!=null&&typeof e.tagName=="string"}function $S(e){return Od(e)&&e.tagName.toLowerCase()==="button"}function US(e){return Od(e)&&e.tagName.toLowerCase()==="form"}function WS(e){return Od(e)&&e.tagName.toLowerCase()==="input"}function VS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HS(e,t){return e.button===0&&(!t||t==="_self")&&!VS(e)}var Bl=null;function qS(){if(Bl===null)try{new FormData(document.createElement("form"),0),Bl=!1}catch{Bl=!0}return Bl}var IS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pu(e){return e!=null&&!IS.has(e)?(qr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rc}"`),null):e}function GS(e,t){let r,n,s,o,a;if(US(e)){let l=e.getAttribute("action");n=l?$n(l,t):null,r=e.getAttribute("method")||tc,s=Pu(e.getAttribute("enctype"))||rc,o=new FormData(e)}else if($S(e)||WS(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?$n(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||tc,s=Pu(e.getAttribute("formenctype"))||Pu(l.getAttribute("enctype"))||rc,o=new FormData(l,e),!qS()){let{name:d,type:b,value:x}=e;if(b==="image"){let m=d?`${d}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else d&&o.append(d,x)}}else{if(Od(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=tc,n=null,s=rc,a=e}return o&&s==="text/plain"&&(a=o,o=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function O0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YS(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&$n(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function KS(e,t){if(e.id in t)return t[e.id];try{let r=await L1(()=>import(e.module),[],import.meta.url);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZS(e){return e!=null&&typeof e.page=="string"}function XS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function QS(e,t,r){let n=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let a=await KS(o,r);return a.links?a.links():[]}return[]}));return ek(n.flat(1).filter(XS).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _m(e,t,r,n,s,o){let a=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var b;return r[d].pathname!==c.pathname||((b=r[d].route.path)==null?void 0:b.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,d)=>a(c,d)||l(c,d)):o==="data"?t.filter((c,d)=>{var x;let b=n.routes[c.route.id];if(!b||!b.hasLoader)return!1;if(a(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((x=r[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function JS(e,t,{includeHydrateFallback:r}={}){return LS(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function LS(e){return[...new Set(e)]}function DS(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function ek(e,t){let r=new Set,n=new Set(t);return e.reduce((s,o)=>{if(t&&!ZS(o)&&o.as==="script"&&o.href&&n.has(o.href))return s;let l=JSON.stringify(DS(o));return r.has(l)||(r.add(l),s.push({key:l,link:o})),s},[])}function lx(){let e=T.useContext(As);return O0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tk(){let e=T.useContext(Pd);return O0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $0=T.createContext(void 0);$0.displayName="FrameworkContext";function cx(){let e=T.useContext($0);return O0(e,"You must render this element inside a <HydratedRouter> element"),e}function rk(e,t){let r=T.useContext($0),[n,s]=T.useState(!1),[o,a]=T.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:b,onTouchStart:x}=t,m=T.useRef(null);T.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let N=w=>{w.forEach(k=>{a(k.isIntersecting)})},W=new IntersectionObserver(N,{threshold:.5});return m.current&&W.observe(m.current),()=>{W.disconnect()}}},[e]),T.useEffect(()=>{if(n){let N=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(N)}}},[n]);let h=()=>{s(!0)},y=()=>{s(!1),a(!1)};return r?e!=="intent"?[o,m,{}]:[o,m,{onFocus:Zs(l,h),onBlur:Zs(c,y),onMouseEnter:Zs(d,h),onMouseLeave:Zs(b,y),onTouchStart:Zs(x,h)}]:[!1,m,{}]}function Zs(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function nk({page:e,...t}){let{router:r}=lx(),n=T.useMemo(()=>D1(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?T.createElement(ik,{page:e,matches:n,...t}):null}function ok(e){let{manifest:t,routeModules:r}=cx(),[n,s]=T.useState([]);return T.useEffect(()=>{let o=!1;return QS(e,t,r).then(a=>{o||s(a)}),()=>{o=!0}},[e,t,r]),n}function ik({page:e,matches:t,...r}){let n=Ao(),{manifest:s,routeModules:o}=cx(),{basename:a}=lx(),{loaderData:l,matches:c}=tk(),d=T.useMemo(()=>_m(e,t,c,s,n,"data"),[e,t,c,s,n]),b=T.useMemo(()=>_m(e,t,c,s,n,"assets"),[e,t,c,s,n]),x=T.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,N=!1;if(t.forEach(w=>{var j;let k=s.routes[w.route.id];!k||!k.hasLoader||(!d.some(P=>P.route.id===w.route.id)&&w.route.id in l&&((j=o[w.route.id])!=null&&j.shouldRevalidate)||k.hasClientLoader?N=!0:y.add(w.route.id))}),y.size===0)return[];let W=YS(e,a,"data");return N&&y.size>0&&W.searchParams.set("_routes",t.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[W.pathname+W.search]},[a,l,n,s,d,t,e,o]),m=T.useMemo(()=>JS(b,s),[b,s]),h=ok(b);return T.createElement(T.Fragment,null,x.map(y=>T.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),m.map(y=>T.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),h.map(({key:y,link:N})=>T.createElement("link",{key:y,...N})))}function sk(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var dx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dx&&(window.__reactRouterVersion="7.7.0")}catch{}function ak({basename:e,children:t,window:r}){let n=T.useRef();n.current==null&&(n.current=K5({window:r,v5Compat:!0}));let s=n.current,[o,a]=T.useState({action:s.action,location:s.location}),l=T.useCallback(c=>{T.startTransition(()=>a(c))},[a]);return T.useLayoutEffect(()=>s.listen(l),[s,l]),T.createElement(MS,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var ux=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fx=T.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:o,replace:a,state:l,target:c,to:d,preventScrollReset:b,viewTransition:x,...m},h){let{basename:y}=T.useContext(Gr),N=typeof d=="string"&&ux.test(d),W,w=!1;if(typeof d=="string"&&N&&(W=d,dx))try{let X=new URL(window.location.href),$=d.startsWith("//")?new URL(X.protocol+d):new URL(d),Y=$n($.pathname,y);$.origin===X.origin&&Y!=null?d=Y+$.search+$.hash:w=!0}catch{qr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=wS(d,{relative:s}),[j,P,C]=rk(n,m),B=uk(d,{replace:a,state:l,target:c,preventScrollReset:b,relative:s,viewTransition:x});function R(X){t&&t(X),X.defaultPrevented||B(X)}let H=T.createElement("a",{...m,...C,href:W||k,onClick:w||o?t:R,ref:sk(h,P),target:c,"data-discover":!N&&r==="render"?"true":void 0});return j&&!N?T.createElement(T.Fragment,null,H,T.createElement(nk,{page:k})):H});fx.displayName="Link";var lk=T.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:o,to:a,viewTransition:l,children:c,...d},b){let x=La(a,{relative:d.relative}),m=Ao(),h=T.useContext(Pd),{navigator:y,basename:N}=T.useContext(Gr),W=h!=null&&gk(x)&&l===!0,w=y.encodeLocation?y.encodeLocation(x).pathname:x.pathname,k=m.pathname,j=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(k=k.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&N&&(j=$n(j,N)||j);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let C=k===w||!s&&k.startsWith(w)&&k.charAt(P)==="/",B=j!=null&&(j===w||!s&&j.startsWith(w)&&j.charAt(w.length)==="/"),R={isActive:C,isPending:B,isTransitioning:W},H=C?t:void 0,X;typeof n=="function"?X=n(R):X=[n,C?"active":null,B?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(R):o;return T.createElement(fx,{...d,"aria-current":H,className:X,ref:b,style:$,to:a,viewTransition:l},typeof c=="function"?c(R):c)});lk.displayName="NavLink";var ck=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:o,method:a=tc,action:l,onSubmit:c,relative:d,preventScrollReset:b,viewTransition:x,...m},h)=>{let y=pk(),N=mk(l,{relative:d}),W=a.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&ux.test(l),k=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let P=j.nativeEvent.submitter,C=(P==null?void 0:P.getAttribute("formmethod"))||a;y(P||j.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:s,state:o,relative:d,preventScrollReset:b,viewTransition:x})};return T.createElement("form",{ref:h,method:W,action:N,onSubmit:n?c:k,...m,"data-discover":!w&&e==="render"?"true":void 0})});ck.displayName="Form";function dk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hx(e){let t=T.useContext(As);return rt(t,dk(e)),t}function uk(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:o,viewTransition:a}={}){let l=Md(),c=Ao(),d=La(e,{relative:o});return T.useCallback(b=>{if(HS(b,t)){b.preventDefault();let x=r!==void 0?r:Fa(c)===Fa(d);l(e,{replace:x,state:n,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,n,t,e,s,o,a])}var fk=0,hk=()=>`__${String(++fk)}__`;function pk(){let{router:e}=hx("useSubmit"),{basename:t}=T.useContext(Gr),r=AS();return T.useCallback(async(n,s={})=>{let{action:o,method:a,encType:l,formData:c,body:d}=GS(n,t);if(s.navigate===!1){let b=s.fetcherKey||hk();await e.fetch(b,r,s.action||o,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function mk(e,{relative:t}={}){let{basename:r}=T.useContext(Gr),n=T.useContext(un);rt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...La(e||".",{relative:t})},a=Ao();if(e==null){o.search=a.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(b=>b==="")){l.delete("index"),c.filter(x=>x).forEach(x=>l.append("index",x));let b=l.toString();o.search=b?`?${b}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Rn([r,o.pathname])),Fa(o)}function gk(e,t={}){let r=T.useContext(nx);rt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=hx("useViewTransitionState"),s=La(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=$n(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=$n(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Qc(s.pathname,a)!=null||Qc(s.pathname,o)!=null}class yk{constructor(){this.permission="default",this.isSupported="Notification"in window,this.init()}async init(){if(!this.isSupported){console.warn("Push notifications are not supported in this browser");return}if(this.permission=Notification.permission,this.permission==="default")try{this.permission=await Notification.requestPermission(),console.log("Push notification permission:",this.permission)}catch(t){console.error("Error requesting notification permission:",t),this.permission="denied"}}async requestPermission(){if(!this.isSupported)return!1;try{return this.permission=await Notification.requestPermission(),this.permission==="granted"}catch(t){return console.error("Error requesting notification permission:",t),!1}}showNotification(t){if(!this.isSupported||this.permission!=="granted")return console.warn("Cannot show notification: not supported or permission denied"),null;try{const r=t.title||"Nesto Notification",n=t.message||"You have a new notification",s=t.icon||"/favicon.ico",o={body:n,icon:s,badge:s,tag:t.type||"nesto-notification",requireInteraction:t.priority==="high",silent:!1,data:t,actions:t.actions||[],...t.options},a=new Notification(r,o);a.onclick=c=>{var d;c.preventDefault(),window.focus(),a.close(),(d=t.action)!=null&&d.url&&(window.location.href=t.action.url),t.onClick&&t.onClick(t)},a.onclose=()=>{t.onClose&&t.onClose(t)};const l=t.duration||(t.priority==="high"?0:5e3);return l>0&&setTimeout(()=>{a.close()},l),a}catch(r){return console.error("Error showing push notification:",r),null}}showSecurityAlert(t){return this.showNotification({title:"Security Alert",message:t.message,type:"security",priority:"high",icon:"/security-icon.png",requireInteraction:!0,actions:[{action:"view",title:"View Details"},{action:"dismiss",title:"Dismiss"}],...t})}showPaymentNotification(t){return this.showNotification({title:"Payment Notification",message:t.message,type:"payment",priority:"medium",icon:"/payment-icon.png",duration:8e3,...t})}showVaultNotification(t){return this.showNotification({title:"Vault Update",message:t.message,type:"vault",priority:"medium",icon:"/vault-icon.png",...t})}showSystemNotification(t){return this.showNotification({title:"System Update",message:t.message,type:"system",priority:"low",icon:"/system-icon.png",duration:4e3,...t})}showBatchNotifications(t){const r=[];return t.forEach((n,s)=>{setTimeout(()=>{const o=this.showNotification(n);r.push(o)},s*1e3)}),r}closeAll(){this.isSupported&&console.log("Cannot programmatically close all notifications")}getPermissionStatus(){return{isSupported:this.isSupported,permission:this.permission,canShow:this.isSupported&&this.permission==="granted"}}async subscribeToPush(){if(!this.isSupported)throw new Error("Push notifications not supported");if(this.permission!=="granted"&&!await this.requestPermission())throw new Error("Permission denied");return console.log("Push notification subscription would be implemented here"),{success:!0}}async unsubscribeFromPush(){return console.log("Push notification unsubscription would be implemented here"),{success:!0}}}const hn=new yk;class xk{constructor(){this.events={}}on(t,r){this.events[t]||(this.events[t]=[]),this.events[t].push(r)}emit(t,...r){this.events[t]&&this.events[t].forEach(n=>n(...r))}removeAllListeners(t){t?delete this.events[t]:this.events={}}}class bk extends xk{constructor(){super(),this.isConnected=!1,this.pollingInterval=null,this.lastNotificationId=null,this.backendService=null,this.pollingEnabled=!0,this.pollingIntervalMs=1e4,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=5e3}initialize(t){this.backendService=t,console.log("RealTimeNotificationService initialized")}async start(){if(!this.backendService)return console.error("BackendService not provided to RealTimeNotificationService"),!1;if(this.isConnected)return console.log("RealTimeNotificationService already running"),!0;try{return this.isConnected=!0,this.startPolling(),this.emit("connected"),console.log("RealTimeNotificationService started"),!0}catch(t){return console.error("Failed to start RealTimeNotificationService:",t),this.isConnected=!1,this.emit("error",t),!1}}stop(){this.isConnected&&(this.isConnected=!1,this.stopPolling(),this.emit("disconnected"),console.log("RealTimeNotificationService stopped"))}startPolling(){!this.pollingEnabled||this.pollingInterval||(this.pollingInterval=setInterval(async()=>{await this.checkForNewNotifications()},this.pollingIntervalMs),console.log(`Started polling for notifications every ${this.pollingIntervalMs}ms`))}stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null,console.log("Stopped polling for notifications"))}async checkForNewNotifications(){if(!(!this.backendService||!this.isConnected))try{const t=await this.backendService.getUserNotifications(10,0);if(t&&t.ok&&Array.isArray(t.ok)){const r=t.ok,n=r.filter(s=>this.lastNotificationId?s.id>this.lastNotificationId:!0);n.length>0&&(this.lastNotificationId=Math.max(...r.map(s=>s.id)),this.emit("newNotifications",n),n.forEach(s=>{this.emit("notification",s)}),console.log(`Found ${n.length} new notifications`))}}catch(t){console.error("Error checking for new notifications:",t),this.handleError(t)}}handleError(t){this.emit("error",t),this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),setTimeout(()=>{this.reconnect()},this.reconnectDelay*this.reconnectAttempts)):(console.error("Max reconnection attempts reached"),this.emit("maxReconnectAttemptsReached"))}async reconnect(){try{this.stop(),await this.start(),this.reconnectAttempts=0,console.log("Successfully reconnected")}catch(t){console.error("Failed to reconnect:",t),this.handleError(t)}}async checkNow(){await this.checkForNewNotifications()}setPollingInterval(t){this.pollingIntervalMs=t,this.pollingInterval&&(this.stopPolling(),this.startPolling())}setPollingEnabled(t){this.pollingEnabled=t,t&&this.isConnected&&!this.pollingInterval?this.startPolling():!t&&this.pollingInterval&&this.stopPolling()}getStatus(){return{isConnected:this.isConnected,pollingEnabled:this.pollingEnabled,pollingIntervalMs:this.pollingIntervalMs,reconnectAttempts:this.reconnectAttempts,lastNotificationId:this.lastNotificationId}}subscribeToType(t,r){this.on("notification",n=>{n.type===t&&r(n)})}subscribeToHighPriority(t){this.on("notification",r=>{r.priority==="high"&&t(r)})}subscribeToUnread(t){this.on("notification",r=>{r.read||t(r)})}async connectWebSocket(){return console.log("WebSocket support not yet implemented"),!1}disconnectWebSocket(){console.log("WebSocket support not yet implemented")}}const Mt=new bk,px=T.createContext();function wk({children:e}){const[t,r]=T.useState([]),[n,s]=T.useState({isConnected:!1,pollingEnabled:!0,reconnectAttempts:0});T.useEffect(()=>{const P=()=>{const B=hn.getPermissionStatus();console.log("Push notification status:",B)};P();const C=setInterval(P,5e3);return()=>clearInterval(C)},[]),T.useEffect(()=>{},[]);const o=T.useCallback(P=>{P&&(Mt.initialize(P),Mt.on("connected",()=>{s(C=>({...C,isConnected:!0}))}),Mt.on("disconnected",()=>{s(C=>({...C,isConnected:!1}))}),Mt.on("error",C=>{console.error("Real-time notification error:",C)}),Mt.on("newNotifications",C=>{r(B=>[...C,...B]),C.forEach(B=>{!B.read&&hn.getPermissionStatus().canShow&&hn.showNotification(B)})}),Mt.on("notification",C=>{console.log("New real-time notification:",C)}),Mt.start())},[]),a=T.useCallback(P=>{const C={...P,id:P.id||Date.now()};r(B=>[C,...B]),!P.read&&hn.getPermissionStatus().canShow&&hn.showNotification(C)},[]),l=T.useCallback(P=>{r(C=>C.filter(B=>B.id!==P))},[]),c=T.useCallback(()=>{r(P=>P.map(C=>({...C,read:!0})))},[]),d=T.useCallback(()=>{r([])},[]),b=T.useCallback(({type:P="info",title:C,message:B,duration:R=5e3})=>{console.log("Toast notification:",{type:P,title:C,message:B,duration:R})},[]),x=T.useCallback(async()=>{try{await Mt.start()}catch(P){console.error("Failed to start real-time service:",P)}},[]),m=T.useCallback(()=>{Mt.stop()},[]),h=T.useCallback(P=>{Mt.setPollingInterval(P)},[]),y=T.useCallback(P=>{Mt.setPollingEnabled(P),s(C=>({...C,pollingEnabled:P}))},[]),N=T.useCallback(()=>Mt.getStatus(),[]),W=T.useCallback((P,C)=>{Mt.subscribeToType(P,C)},[]),w=T.useCallback(P=>{Mt.subscribeToHighPriority(P)},[]),k=T.useCallback(P=>{Mt.subscribeToUnread(P)},[]);T.useEffect(()=>()=>{Mt.stop()},[]);const j={notifications:t,realTimeStatus:n,addNotification:a,removeNotification:l,markAllAsRead:c,clearNotifications:d,showToast:b,initializeRealTimeService:o,startRealTimeService:x,stopRealTimeService:m,setPollingInterval:h,setPollingEnabled:y,getRealTimeStatus:N,subscribeToType:W,subscribeToHighPriority:w,subscribeToUnread:k,requestPushPermission:hn.requestPermission.bind(hn),getPushPermissionStatus:hn.getPermissionStatus.bind(hn)};return i.jsx(px.Provider,{value:j,children:e})}function Yr(){const e=T.useContext(px);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e}var mx={},Da={};Da.byteLength=kk;Da.toByteArray=Tk;Da.fromByteArray=Ck;var sn=[],gr=[],vk=typeof Uint8Array<"u"?Uint8Array:Array,Mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ei=0,Sk=Mu.length;Ei<Sk;++Ei)sn[Ei]=Mu[Ei],gr[Mu.charCodeAt(Ei)]=Ei;gr["-".charCodeAt(0)]=62;gr["_".charCodeAt(0)]=63;function gx(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function kk(e){var t=gx(e),r=t[0],n=t[1];return(r+n)*3/4-n}function jk(e,t,r){return(t+r)*3/4-r}function Tk(e){var t,r=gx(e),n=r[0],s=r[1],o=new vk(jk(e,n,s)),a=0,l=s>0?n-4:n,c;for(c=0;c<l;c+=4)t=gr[e.charCodeAt(c)]<<18|gr[e.charCodeAt(c+1)]<<12|gr[e.charCodeAt(c+2)]<<6|gr[e.charCodeAt(c+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return s===2&&(t=gr[e.charCodeAt(c)]<<2|gr[e.charCodeAt(c+1)]>>4,o[a++]=t&255),s===1&&(t=gr[e.charCodeAt(c)]<<10|gr[e.charCodeAt(c+1)]<<4|gr[e.charCodeAt(c+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function Ek(e){return sn[e>>18&63]+sn[e>>12&63]+sn[e>>6&63]+sn[e&63]}function _k(e,t,r){for(var n,s=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),s.push(Ek(n));return s.join("")}function Ck(e){for(var t,r=e.length,n=r%3,s=[],o=16383,a=0,l=r-n;a<l;a+=o)s.push(_k(e,a,a+o>l?l:a+o));return n===1?(t=e[r-1],s.push(sn[t>>2]+sn[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],s.push(sn[t>>10]+sn[t>>4&63]+sn[t<<2&63]+"=")),s.join("")}var el={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */el.read=function(e,t,r,n,s){var o,a,l=s*8-n-1,c=(1<<l)-1,d=c>>1,b=-7,x=r?s-1:0,m=r?-1:1,h=e[t+x];for(x+=m,o=h&(1<<-b)-1,h>>=-b,b+=l;b>0;o=o*256+e[t+x],x+=m,b-=8);for(a=o&(1<<-b)-1,o>>=-b,b+=n;b>0;a=a*256+e[t+x],x+=m,b-=8);if(o===0)o=1-d;else{if(o===c)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-d}return(h?-1:1)*a*Math.pow(2,o-n)};el.write=function(e,t,r,n,s,o){var a,l,c,d=o*8-s-1,b=(1<<d)-1,x=b>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,y=n?1:-1,N=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=b):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+x>=1?t+=m/c:t+=m*Math.pow(2,1-x),t*c>=2&&(a++,c/=2),a+x>=b?(l=0,a=b):a+x>=1?(l=(t*c-1)*Math.pow(2,s),a=a+x):(l=t*Math.pow(2,x-1)*Math.pow(2,s),a=0));s>=8;e[r+h]=l&255,h+=y,l/=256,s-=8);for(a=a<<s|l,d+=s;d>0;e[r+h]=a&255,h+=y,a/=256,d-=8);e[r+h-y]|=N*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Da,r=el,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=k,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const v=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(v,u),v.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(v){if(v>s)throw new RangeError('The value "'+v+'" is invalid for option "size"');const u=new Uint8Array(v);return Object.setPrototypeOf(u,l.prototype),u}function l(v,u,g){if(typeof v=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(v)}return c(v,u,g)}l.poolSize=8192;function c(v,u,g){if(typeof v=="string")return m(v,u);if(ArrayBuffer.isView(v))return y(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(ie(v,ArrayBuffer)||v&&ie(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(v,SharedArrayBuffer)||v&&ie(v.buffer,SharedArrayBuffer)))return N(v,u,g);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const I=v.valueOf&&v.valueOf();if(I!=null&&I!==v)return l.from(I,u,g);const se=W(v);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return l.from(v[Symbol.toPrimitive]("string"),u,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}l.from=function(v,u,g){return c(v,u,g)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function b(v,u,g){return d(v),v<=0?a(v):u!==void 0?typeof g=="string"?a(v).fill(u,g):a(v).fill(u):a(v)}l.alloc=function(v,u,g){return b(v,u,g)};function x(v){return d(v),a(v<0?0:w(v)|0)}l.allocUnsafe=function(v){return x(v)},l.allocUnsafeSlow=function(v){return x(v)};function m(v,u){if((typeof u!="string"||u==="")&&(u="utf8"),!l.isEncoding(u))throw new TypeError("Unknown encoding: "+u);const g=j(v,u)|0;let I=a(g);const se=I.write(v,u);return se!==g&&(I=I.slice(0,se)),I}function h(v){const u=v.length<0?0:w(v.length)|0,g=a(u);for(let I=0;I<u;I+=1)g[I]=v[I]&255;return g}function y(v){if(ie(v,Uint8Array)){const u=new Uint8Array(v);return N(u.buffer,u.byteOffset,u.byteLength)}return h(v)}function N(v,u,g){if(u<0||v.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<u+(g||0))throw new RangeError('"length" is outside of buffer bounds');let I;return u===void 0&&g===void 0?I=new Uint8Array(v):g===void 0?I=new Uint8Array(v,u):I=new Uint8Array(v,u,g),Object.setPrototypeOf(I,l.prototype),I}function W(v){if(l.isBuffer(v)){const u=w(v.length)|0,g=a(u);return g.length===0||v.copy(g,0,0,u),g}if(v.length!==void 0)return typeof v.length!="number"||he(v.length)?a(0):h(v);if(v.type==="Buffer"&&Array.isArray(v.data))return h(v.data)}function w(v){if(v>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return v|0}function k(v){return+v!=v&&(v=0),l.alloc(+v)}l.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==l.prototype},l.compare=function(u,g){if(ie(u,Uint8Array)&&(u=l.from(u,u.offset,u.byteLength)),ie(g,Uint8Array)&&(g=l.from(g,g.offset,g.byteLength)),!l.isBuffer(u)||!l.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===g)return 0;let I=u.length,se=g.length;for(let ce=0,ae=Math.min(I,se);ce<ae;++ce)if(u[ce]!==g[ce]){I=u[ce],se=g[ce];break}return I<se?-1:se<I?1:0},l.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(u,g){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return l.alloc(0);let I;if(g===void 0)for(g=0,I=0;I<u.length;++I)g+=u[I].length;const se=l.allocUnsafe(g);let ce=0;for(I=0;I<u.length;++I){let ae=u[I];if(ie(ae,Uint8Array))ce+ae.length>se.length?(l.isBuffer(ae)||(ae=l.from(ae)),ae.copy(se,ce)):Uint8Array.prototype.set.call(se,ae,ce);else if(l.isBuffer(ae))ae.copy(se,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=ae.length}return se};function j(v,u){if(l.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||ie(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);const g=v.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&g===0)return 0;let se=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return f(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return O(v).length;default:if(se)return I?-1:f(v).length;u=(""+u).toLowerCase(),se=!0}}l.byteLength=j;function P(v,u,g){let I=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,u>>>=0,g<=u))return"";for(v||(v="utf8");;)switch(v){case"hex":return ne(this,u,g);case"utf8":case"utf-8":return U(this,u,g);case"ascii":return te(this,u,g);case"latin1":case"binary":return Q(this,u,g);case"base64":return A(this,u,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,u,g);default:if(I)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),I=!0}}l.prototype._isBuffer=!0;function C(v,u,g){const I=v[u];v[u]=v[g],v[g]=I}l.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<u;g+=2)C(this,g,g+1);return this},l.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<u;g+=4)C(this,g,g+3),C(this,g+1,g+2);return this},l.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<u;g+=8)C(this,g,g+7),C(this,g+1,g+6),C(this,g+2,g+5),C(this,g+3,g+4);return this},l.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?U(this,0,u):P.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(u){if(!l.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:l.compare(this,u)===0},l.prototype.inspect=function(){let u="";const g=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(u+=" ... "),"<Buffer "+u+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(u,g,I,se,ce){if(ie(u,Uint8Array)&&(u=l.from(u,u.offset,u.byteLength)),!l.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(g===void 0&&(g=0),I===void 0&&(I=u?u.length:0),se===void 0&&(se=0),ce===void 0&&(ce=this.length),g<0||I>u.length||se<0||ce>this.length)throw new RangeError("out of range index");if(se>=ce&&g>=I)return 0;if(se>=ce)return-1;if(g>=I)return 1;if(g>>>=0,I>>>=0,se>>>=0,ce>>>=0,this===u)return 0;let ae=ce-se,Te=I-g;const Re=Math.min(ae,Te),Be=this.slice(se,ce),Ce=u.slice(g,I);for(let $e=0;$e<Re;++$e)if(Be[$e]!==Ce[$e]){ae=Be[$e],Te=Ce[$e];break}return ae<Te?-1:Te<ae?1:0};function B(v,u,g,I,se){if(v.length===0)return-1;if(typeof g=="string"?(I=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,he(g)&&(g=se?0:v.length-1),g<0&&(g=v.length+g),g>=v.length){if(se)return-1;g=v.length-1}else if(g<0)if(se)g=0;else return-1;if(typeof u=="string"&&(u=l.from(u,I)),l.isBuffer(u))return u.length===0?-1:R(v,u,g,I,se);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(v,u,g):Uint8Array.prototype.lastIndexOf.call(v,u,g):R(v,[u],g,I,se);throw new TypeError("val must be string, number or Buffer")}function R(v,u,g,I,se){let ce=1,ae=v.length,Te=u.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(v.length<2||u.length<2)return-1;ce=2,ae/=2,Te/=2,g/=2}function Re(Ce,$e){return ce===1?Ce[$e]:Ce.readUInt16BE($e*ce)}let Be;if(se){let Ce=-1;for(Be=g;Be<ae;Be++)if(Re(v,Be)===Re(u,Ce===-1?0:Be-Ce)){if(Ce===-1&&(Ce=Be),Be-Ce+1===Te)return Ce*ce}else Ce!==-1&&(Be-=Be-Ce),Ce=-1}else for(g+Te>ae&&(g=ae-Te),Be=g;Be>=0;Be--){let Ce=!0;for(let $e=0;$e<Te;$e++)if(Re(v,Be+$e)!==Re(u,$e)){Ce=!1;break}if(Ce)return Be}return-1}l.prototype.includes=function(u,g,I){return this.indexOf(u,g,I)!==-1},l.prototype.indexOf=function(u,g,I){return B(this,u,g,I,!0)},l.prototype.lastIndexOf=function(u,g,I){return B(this,u,g,I,!1)};function H(v,u,g,I){g=Number(g)||0;const se=v.length-g;I?(I=Number(I),I>se&&(I=se)):I=se;const ce=u.length;I>ce/2&&(I=ce/2);let ae;for(ae=0;ae<I;++ae){const Te=parseInt(u.substr(ae*2,2),16);if(he(Te))return ae;v[g+ae]=Te}return ae}function X(v,u,g,I){return _(f(u,v.length-g),v,g,I)}function $(v,u,g,I){return _(p(u),v,g,I)}function Y(v,u,g,I){return _(O(u),v,g,I)}function J(v,u,g,I){return _(E(u,v.length-g),v,g,I)}l.prototype.write=function(u,g,I,se){if(g===void 0)se="utf8",I=this.length,g=0;else if(I===void 0&&typeof g=="string")se=g,I=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(I)?(I=I>>>0,se===void 0&&(se="utf8")):(se=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ce=this.length-g;if((I===void 0||I>ce)&&(I=ce),u.length>0&&(I<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");let ae=!1;for(;;)switch(se){case"hex":return H(this,u,g,I);case"utf8":case"utf-8":return X(this,u,g,I);case"ascii":case"latin1":case"binary":return $(this,u,g,I);case"base64":return Y(this,u,g,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,u,g,I);default:if(ae)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),ae=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(v,u,g){return u===0&&g===v.length?t.fromByteArray(v):t.fromByteArray(v.slice(u,g))}function U(v,u,g){g=Math.min(v.length,g);const I=[];let se=u;for(;se<g;){const ce=v[se];let ae=null,Te=ce>239?4:ce>223?3:ce>191?2:1;if(se+Te<=g){let Re,Be,Ce,$e;switch(Te){case 1:ce<128&&(ae=ce);break;case 2:Re=v[se+1],(Re&192)===128&&($e=(ce&31)<<6|Re&63,$e>127&&(ae=$e));break;case 3:Re=v[se+1],Be=v[se+2],(Re&192)===128&&(Be&192)===128&&($e=(ce&15)<<12|(Re&63)<<6|Be&63,$e>2047&&($e<55296||$e>57343)&&(ae=$e));break;case 4:Re=v[se+1],Be=v[se+2],Ce=v[se+3],(Re&192)===128&&(Be&192)===128&&(Ce&192)===128&&($e=(ce&15)<<18|(Re&63)<<12|(Be&63)<<6|Ce&63,$e>65535&&$e<1114112&&(ae=$e))}}ae===null?(ae=65533,Te=1):ae>65535&&(ae-=65536,I.push(ae>>>10&1023|55296),ae=56320|ae&1023),I.push(ae),se+=Te}return K(I)}const V=4096;function K(v){const u=v.length;if(u<=V)return String.fromCharCode.apply(String,v);let g="",I=0;for(;I<u;)g+=String.fromCharCode.apply(String,v.slice(I,I+=V));return g}function te(v,u,g){let I="";g=Math.min(v.length,g);for(let se=u;se<g;++se)I+=String.fromCharCode(v[se]&127);return I}function Q(v,u,g){let I="";g=Math.min(v.length,g);for(let se=u;se<g;++se)I+=String.fromCharCode(v[se]);return I}function ne(v,u,g){const I=v.length;(!u||u<0)&&(u=0),(!g||g<0||g>I)&&(g=I);let se="";for(let ce=u;ce<g;++ce)se+=we[v[ce]];return se}function ue(v,u,g){const I=v.slice(u,g);let se="";for(let ce=0;ce<I.length-1;ce+=2)se+=String.fromCharCode(I[ce]+I[ce+1]*256);return se}l.prototype.slice=function(u,g){const I=this.length;u=~~u,g=g===void 0?I:~~g,u<0?(u+=I,u<0&&(u=0)):u>I&&(u=I),g<0?(g+=I,g<0&&(g=0)):g>I&&(g=I),g<u&&(g=u);const se=this.subarray(u,g);return Object.setPrototypeOf(se,l.prototype),se};function de(v,u,g){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+u>g)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(u,g,I){u=u>>>0,g=g>>>0,I||de(u,g,this.length);let se=this[u],ce=1,ae=0;for(;++ae<g&&(ce*=256);)se+=this[u+ae]*ce;return se},l.prototype.readUintBE=l.prototype.readUIntBE=function(u,g,I){u=u>>>0,g=g>>>0,I||de(u,g,this.length);let se=this[u+--g],ce=1;for(;g>0&&(ce*=256);)se+=this[u+--g]*ce;return se},l.prototype.readUint8=l.prototype.readUInt8=function(u,g){return u=u>>>0,g||de(u,1,this.length),this[u]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(u,g){return u=u>>>0,g||de(u,2,this.length),this[u]|this[u+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(u,g){return u=u>>>0,g||de(u,2,this.length),this[u]<<8|this[u+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(u,g){return u=u>>>0,g||de(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(u,g){return u=u>>>0,g||de(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},l.prototype.readBigUInt64LE=z(function(u){u=u>>>0,re(u,"offset");const g=this[u],I=this[u+7];(g===void 0||I===void 0)&&Z(u,this.length-8);const se=g+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,ce=this[++u]+this[++u]*2**8+this[++u]*2**16+I*2**24;return BigInt(se)+(BigInt(ce)<<BigInt(32))}),l.prototype.readBigUInt64BE=z(function(u){u=u>>>0,re(u,"offset");const g=this[u],I=this[u+7];(g===void 0||I===void 0)&&Z(u,this.length-8);const se=g*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],ce=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+I;return(BigInt(se)<<BigInt(32))+BigInt(ce)}),l.prototype.readIntLE=function(u,g,I){u=u>>>0,g=g>>>0,I||de(u,g,this.length);let se=this[u],ce=1,ae=0;for(;++ae<g&&(ce*=256);)se+=this[u+ae]*ce;return ce*=128,se>=ce&&(se-=Math.pow(2,8*g)),se},l.prototype.readIntBE=function(u,g,I){u=u>>>0,g=g>>>0,I||de(u,g,this.length);let se=g,ce=1,ae=this[u+--se];for(;se>0&&(ce*=256);)ae+=this[u+--se]*ce;return ce*=128,ae>=ce&&(ae-=Math.pow(2,8*g)),ae},l.prototype.readInt8=function(u,g){return u=u>>>0,g||de(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},l.prototype.readInt16LE=function(u,g){u=u>>>0,g||de(u,2,this.length);const I=this[u]|this[u+1]<<8;return I&32768?I|4294901760:I},l.prototype.readInt16BE=function(u,g){u=u>>>0,g||de(u,2,this.length);const I=this[u+1]|this[u]<<8;return I&32768?I|4294901760:I},l.prototype.readInt32LE=function(u,g){return u=u>>>0,g||de(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},l.prototype.readInt32BE=function(u,g){return u=u>>>0,g||de(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},l.prototype.readBigInt64LE=z(function(u){u=u>>>0,re(u,"offset");const g=this[u],I=this[u+7];(g===void 0||I===void 0)&&Z(u,this.length-8);const se=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(I<<24);return(BigInt(se)<<BigInt(32))+BigInt(g+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),l.prototype.readBigInt64BE=z(function(u){u=u>>>0,re(u,"offset");const g=this[u],I=this[u+7];(g===void 0||I===void 0)&&Z(u,this.length-8);const se=(g<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(se)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+I)}),l.prototype.readFloatLE=function(u,g){return u=u>>>0,g||de(u,4,this.length),r.read(this,u,!0,23,4)},l.prototype.readFloatBE=function(u,g){return u=u>>>0,g||de(u,4,this.length),r.read(this,u,!1,23,4)},l.prototype.readDoubleLE=function(u,g){return u=u>>>0,g||de(u,8,this.length),r.read(this,u,!0,52,8)},l.prototype.readDoubleBE=function(u,g){return u=u>>>0,g||de(u,8,this.length),r.read(this,u,!1,52,8)};function le(v,u,g,I,se,ce){if(!l.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>se||u<ce)throw new RangeError('"value" argument is out of bounds');if(g+I>v.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(u,g,I,se){if(u=+u,g=g>>>0,I=I>>>0,!se){const Te=Math.pow(2,8*I)-1;le(this,u,g,I,Te,0)}let ce=1,ae=0;for(this[g]=u&255;++ae<I&&(ce*=256);)this[g+ae]=u/ce&255;return g+I},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(u,g,I,se){if(u=+u,g=g>>>0,I=I>>>0,!se){const Te=Math.pow(2,8*I)-1;le(this,u,g,I,Te,0)}let ce=I-1,ae=1;for(this[g+ce]=u&255;--ce>=0&&(ae*=256);)this[g+ce]=u/ae&255;return g+I},l.prototype.writeUint8=l.prototype.writeUInt8=function(u,g,I){return u=+u,g=g>>>0,I||le(this,u,g,1,255,0),this[g]=u&255,g+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(u,g,I){return u=+u,g=g>>>0,I||le(this,u,g,2,65535,0),this[g]=u&255,this[g+1]=u>>>8,g+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(u,g,I){return u=+u,g=g>>>0,I||le(this,u,g,2,65535,0),this[g]=u>>>8,this[g+1]=u&255,g+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(u,g,I){return u=+u,g=g>>>0,I||le(this,u,g,4,4294967295,0),this[g+3]=u>>>24,this[g+2]=u>>>16,this[g+1]=u>>>8,this[g]=u&255,g+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(u,g,I){return u=+u,g=g>>>0,I||le(this,u,g,4,4294967295,0),this[g]=u>>>24,this[g+1]=u>>>16,this[g+2]=u>>>8,this[g+3]=u&255,g+4};function fe(v,u,g,I,se){L(u,I,se,v,g,7);let ce=Number(u&BigInt(4294967295));v[g++]=ce,ce=ce>>8,v[g++]=ce,ce=ce>>8,v[g++]=ce,ce=ce>>8,v[g++]=ce;let ae=Number(u>>BigInt(32)&BigInt(4294967295));return v[g++]=ae,ae=ae>>8,v[g++]=ae,ae=ae>>8,v[g++]=ae,ae=ae>>8,v[g++]=ae,g}function F(v,u,g,I,se){L(u,I,se,v,g,7);let ce=Number(u&BigInt(4294967295));v[g+7]=ce,ce=ce>>8,v[g+6]=ce,ce=ce>>8,v[g+5]=ce,ce=ce>>8,v[g+4]=ce;let ae=Number(u>>BigInt(32)&BigInt(4294967295));return v[g+3]=ae,ae=ae>>8,v[g+2]=ae,ae=ae>>8,v[g+1]=ae,ae=ae>>8,v[g]=ae,g+8}l.prototype.writeBigUInt64LE=z(function(u,g=0){return fe(this,u,g,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=z(function(u,g=0){return F(this,u,g,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(u,g,I,se){if(u=+u,g=g>>>0,!se){const Re=Math.pow(2,8*I-1);le(this,u,g,I,Re-1,-Re)}let ce=0,ae=1,Te=0;for(this[g]=u&255;++ce<I&&(ae*=256);)u<0&&Te===0&&this[g+ce-1]!==0&&(Te=1),this[g+ce]=(u/ae>>0)-Te&255;return g+I},l.prototype.writeIntBE=function(u,g,I,se){if(u=+u,g=g>>>0,!se){const Re=Math.pow(2,8*I-1);le(this,u,g,I,Re-1,-Re)}let ce=I-1,ae=1,Te=0;for(this[g+ce]=u&255;--ce>=0&&(ae*=256);)u<0&&Te===0&&this[g+ce+1]!==0&&(Te=1),this[g+ce]=(u/ae>>0)-Te&255;return g+I},l.prototype.writeInt8=function(u,g,I){return u=+u,g=g>>>0,I||le(this,u,g,1,127,-128),u<0&&(u=255+u+1),this[g]=u&255,g+1},l.prototype.writeInt16LE=function(u,g,I){return u=+u,g=g>>>0,I||le(this,u,g,2,32767,-32768),this[g]=u&255,this[g+1]=u>>>8,g+2},l.prototype.writeInt16BE=function(u,g,I){return u=+u,g=g>>>0,I||le(this,u,g,2,32767,-32768),this[g]=u>>>8,this[g+1]=u&255,g+2},l.prototype.writeInt32LE=function(u,g,I){return u=+u,g=g>>>0,I||le(this,u,g,4,2147483647,-2147483648),this[g]=u&255,this[g+1]=u>>>8,this[g+2]=u>>>16,this[g+3]=u>>>24,g+4},l.prototype.writeInt32BE=function(u,g,I){return u=+u,g=g>>>0,I||le(this,u,g,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[g]=u>>>24,this[g+1]=u>>>16,this[g+2]=u>>>8,this[g+3]=u&255,g+4},l.prototype.writeBigInt64LE=z(function(u,g=0){return fe(this,u,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=z(function(u,g=0){return F(this,u,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ke(v,u,g,I,se,ce){if(g+I>v.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function xe(v,u,g,I,se){return u=+u,g=g>>>0,se||ke(v,u,g,4),r.write(v,u,g,I,23,4),g+4}l.prototype.writeFloatLE=function(u,g,I){return xe(this,u,g,!0,I)},l.prototype.writeFloatBE=function(u,g,I){return xe(this,u,g,!1,I)};function ye(v,u,g,I,se){return u=+u,g=g>>>0,se||ke(v,u,g,8),r.write(v,u,g,I,52,8),g+8}l.prototype.writeDoubleLE=function(u,g,I){return ye(this,u,g,!0,I)},l.prototype.writeDoubleBE=function(u,g,I){return ye(this,u,g,!1,I)},l.prototype.copy=function(u,g,I,se){if(!l.isBuffer(u))throw new TypeError("argument should be a Buffer");if(I||(I=0),!se&&se!==0&&(se=this.length),g>=u.length&&(g=u.length),g||(g=0),se>0&&se<I&&(se=I),se===I||u.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),u.length-g<se-I&&(se=u.length-g+I);const ce=se-I;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,I,se):Uint8Array.prototype.set.call(u,this.subarray(I,se),g),ce},l.prototype.fill=function(u,g,I,se){if(typeof u=="string"){if(typeof g=="string"?(se=g,g=0,I=this.length):typeof I=="string"&&(se=I,I=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!l.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(u.length===1){const ae=u.charCodeAt(0);(se==="utf8"&&ae<128||se==="latin1")&&(u=ae)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(g<0||this.length<g||this.length<I)throw new RangeError("Out of range index");if(I<=g)return this;g=g>>>0,I=I===void 0?this.length:I>>>0,u||(u=0);let ce;if(typeof u=="number")for(ce=g;ce<I;++ce)this[ce]=u;else{const ae=l.isBuffer(u)?u:l.from(u,se),Te=ae.length;if(Te===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(ce=0;ce<I-g;++ce)this[ce+g]=ae[ce%Te]}return this};const pe={};function me(v,u,g){pe[v]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${v}]`,this.stack,delete this.name}get code(){return v}set code(se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:se,writable:!0})}toString(){return`${this.name} [${v}]: ${this.message}`}}}me("ERR_BUFFER_OUT_OF_BOUNDS",function(v){return v?`${v} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(v,u){return`The "${v}" argument must be of type number. Received type ${typeof u}`},TypeError),me("ERR_OUT_OF_RANGE",function(v,u,g){let I=`The value of "${v}" is out of range.`,se=g;return Number.isInteger(g)&&Math.abs(g)>2**32?se=M(String(g)):typeof g=="bigint"&&(se=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(se=M(se)),se+="n"),I+=` It must be ${u}. Received ${se}`,I},RangeError);function M(v){let u="",g=v.length;const I=v[0]==="-"?1:0;for(;g>=I+4;g-=3)u=`_${v.slice(g-3,g)}${u}`;return`${v.slice(0,g)}${u}`}function q(v,u,g){re(u,"offset"),(v[u]===void 0||v[u+g]===void 0)&&Z(u,v.length-(g+1))}function L(v,u,g,I,se,ce){if(v>g||v<u){const ae=typeof u=="bigint"?"n":"";let Te;throw ce>3?u===0||u===BigInt(0)?Te=`>= 0${ae} and < 2${ae} ** ${(ce+1)*8}${ae}`:Te=`>= -(2${ae} ** ${(ce+1)*8-1}${ae}) and < 2 ** ${(ce+1)*8-1}${ae}`:Te=`>= ${u}${ae} and <= ${g}${ae}`,new pe.ERR_OUT_OF_RANGE("value",Te,v)}q(I,se,ce)}function re(v,u){if(typeof v!="number")throw new pe.ERR_INVALID_ARG_TYPE(u,"number",v)}function Z(v,u,g){throw Math.floor(v)!==v?(re(v,g),new pe.ERR_OUT_OF_RANGE(g||"offset","an integer",v)):u<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE(g||"offset",`>= ${g?1:0} and <= ${u}`,v)}const D=/[^+/0-9A-Za-z-_]/g;function S(v){if(v=v.split("=")[0],v=v.trim().replace(D,""),v.length<2)return"";for(;v.length%4!==0;)v=v+"=";return v}function f(v,u){u=u||1/0;let g;const I=v.length;let se=null;const ce=[];for(let ae=0;ae<I;++ae){if(g=v.charCodeAt(ae),g>55295&&g<57344){if(!se){if(g>56319){(u-=3)>-1&&ce.push(239,191,189);continue}else if(ae+1===I){(u-=3)>-1&&ce.push(239,191,189);continue}se=g;continue}if(g<56320){(u-=3)>-1&&ce.push(239,191,189),se=g;continue}g=(se-55296<<10|g-56320)+65536}else se&&(u-=3)>-1&&ce.push(239,191,189);if(se=null,g<128){if((u-=1)<0)break;ce.push(g)}else if(g<2048){if((u-=2)<0)break;ce.push(g>>6|192,g&63|128)}else if(g<65536){if((u-=3)<0)break;ce.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((u-=4)<0)break;ce.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return ce}function p(v){const u=[];for(let g=0;g<v.length;++g)u.push(v.charCodeAt(g)&255);return u}function E(v,u){let g,I,se;const ce=[];for(let ae=0;ae<v.length&&!((u-=2)<0);++ae)g=v.charCodeAt(ae),I=g>>8,se=g%256,ce.push(se),ce.push(I);return ce}function O(v){return t.toByteArray(S(v))}function _(v,u,g,I){let se;for(se=0;se<I&&!(se+g>=u.length||se>=v.length);++se)u[se+g]=v[se];return se}function ie(v,u){return v instanceof u||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===u.name}function he(v){return v!==v}const we=function(){const v="0123456789abcdef",u=new Array(256);for(let g=0;g<16;++g){const I=g*16;for(let se=0;se<16;++se)u[I+se]=v[g]+v[se]}return u}();function z(v){return typeof BigInt>"u"?ee:v}function ee(){throw new Error("BigInt not supported")}})(mx);var fh;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(fh||(fh={}));const Jc="abcdefghijklmnopqrstuvwxyz234567",vs=Object.create(null);for(let e=0;e<Jc.length;e++)vs[Jc[e]]=e;vs[0]=vs.o;vs[1]=vs.i;function Nk(e){let t=0,r=0,n="";function s(o){return t<0?r|=o>>-t:r=o<<t&248,t>3?(t-=8,1):(t<4&&(n+=Jc[r>>3],t+=5),0)}for(let o=0;o<e.length;)o+=s(e[o]);return n+(t<0?Jc[r>>3]:"")}function Bk(e){let t=0,r=0;const n=new Uint8Array(e.length*4/3|0);let s=0;function o(a){let l=vs[a.toLowerCase()];if(l===void 0)throw new Error(`Invalid character: ${JSON.stringify(a)}`);l<<=3,r|=l>>>t,t+=5,t>=8&&(n[s++]=r,t-=8,t>0?r=l<<5-t&255:r=0)}for(const a of e)o(a);return n.slice(0,s)}const Ak=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function Rk(e){const t=new Uint8Array(e);let r=-1;for(let n=0;n<t.length;n++){const o=(t[n]^r)&255;r=Ak[o]^r>>>8}return(r^-1)>>>0}const _i=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function U0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function zk(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function It(e,...t){if(!U0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Cm(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Fk(e,t){It(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Pa(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ou(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Xr(e,t){return e<<32-t|e>>>t}const yx=(()=>typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function")(),Pk=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ss(e){if(It(e),yx)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=Pk[e[r]];return t}const pn={_0:48,_9:57,A:65,F:70,a:97,f:102};function Nm(e){if(e>=pn._0&&e<=pn._9)return e-pn._0;if(e>=pn.A&&e<=pn.F)return e-(pn.A-10);if(e>=pn.a&&e<=pn.f)return e-(pn.a-10)}function xx(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(yx)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){const a=Nm(e.charCodeAt(o)),l=Nm(e.charCodeAt(o+1));if(a===void 0||l===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[s]=a*16+l}return n}function tl(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function bx(e){return typeof e=="string"&&(e=tl(e)),It(e),e}function ft(...e){let t=0;for(let n=0;n<e.length;n++){const s=e[n];It(s),t+=s.length}const r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){const o=e[n];r.set(o,s),s+=o.length}return r}class Mk{}function W0(e){const t=n=>e().update(bx(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function wx(e=32){if(_i&&typeof _i.getRandomValues=="function")return _i.getRandomValues(new Uint8Array(e));if(_i&&typeof _i.randomBytes=="function")return Uint8Array.from(_i.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function Ok(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),l=Number(r&o),c=n?4:0,d=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+d,l,n)}function $k(e,t,r){return e&t^~e&r}function Uk(e,t,r){return e&t^e&r^t&r}class vx extends Mk{constructor(t,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Ou(this.buffer)}update(t){Cm(this),t=bx(t),It(t);const{view:r,buffer:n,blockLen:s}=this,o=t.length;for(let a=0;a<o;){const l=Math.min(s-this.pos,o-a);if(l===s){const c=Ou(t);for(;s<=o-a;a+=s)this.process(c,a);continue}n.set(t.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Cm(this),Fk(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:o}=this;let{pos:a}=this;r[a++]=128,Pa(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(n,0),a=0);for(let x=a;x<s;x++)r[x]=0;Ok(n,s-8,BigInt(this.length*8),o),this.process(n,0);const l=Ou(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,b=this.get();if(d>b.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<d;x++)l.setUint32(4*x,b[x],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:o,destroyed:a,pos:l}=this;return t.destroyed=a,t.finished=o,t.length=s,t.pos=l,s%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const Zn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xn=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Ot=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Al=BigInt(2**32-1),Bm=BigInt(32);function Wk(e,t=!1){return t?{h:Number(e&Al),l:Number(e>>Bm&Al)}:{h:Number(e>>Bm&Al)|0,l:Number(e&Al)|0}}function Vk(e,t=!1){const r=e.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l}=Wk(e[o],t);[n[o],s[o]]=[a,l]}return[n,s]}const Am=(e,t,r)=>e>>>r,Rm=(e,t,r)=>e<<32-r|t>>>r,Ci=(e,t,r)=>e>>>r|t<<32-r,Ni=(e,t,r)=>e<<32-r|t>>>r,Rl=(e,t,r)=>e<<64-r|t>>>r-32,zl=(e,t,r)=>e>>>r-32|t<<64-r;function mn(e,t,r,n){const s=(t>>>0)+(n>>>0);return{h:e+r+(s/2**32|0)|0,l:s|0}}const Hk=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),qk=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,Ik=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Gk=(e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0,Yk=(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0),Kk=(e,t,r,n,s,o)=>t+r+n+s+o+(e/2**32|0)|0,Zk=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qn=new Uint32Array(64);class Sx extends vx{constructor(t=32){super(64,t,8,!1),this.A=Zn[0]|0,this.B=Zn[1]|0,this.C=Zn[2]|0,this.D=Zn[3]|0,this.E=Zn[4]|0,this.F=Zn[5]|0,this.G=Zn[6]|0,this.H=Zn[7]|0}get(){const{A:t,B:r,C:n,D:s,E:o,F:a,G:l,H:c}=this;return[t,r,n,s,o,a,l,c]}set(t,r,n,s,o,a,l,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=l|0,this.H=c|0}process(t,r){for(let x=0;x<16;x++,r+=4)Qn[x]=t.getUint32(r,!1);for(let x=16;x<64;x++){const m=Qn[x-15],h=Qn[x-2],y=Xr(m,7)^Xr(m,18)^m>>>3,N=Xr(h,17)^Xr(h,19)^h>>>10;Qn[x]=N+Qn[x-7]+y+Qn[x-16]|0}let{A:n,B:s,C:o,D:a,E:l,F:c,G:d,H:b}=this;for(let x=0;x<64;x++){const m=Xr(l,6)^Xr(l,11)^Xr(l,25),h=b+m+$k(l,c,d)+Zk[x]+Qn[x]|0,N=(Xr(n,2)^Xr(n,13)^Xr(n,22))+Uk(n,s,o)|0;b=d,d=c,c=l,l=a+h|0,a=o,o=s,s=n,n=h+N|0}n=n+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,d=d+this.G|0,b=b+this.H|0,this.set(n,s,o,a,l,c,d,b)}roundClean(){Pa(Qn)}destroy(){this.set(0,0,0,0,0,0,0,0),Pa(this.buffer)}}class Xk extends Sx{constructor(){super(28),this.A=Xn[0]|0,this.B=Xn[1]|0,this.C=Xn[2]|0,this.D=Xn[3]|0,this.E=Xn[4]|0,this.F=Xn[5]|0,this.G=Xn[6]|0,this.H=Xn[7]|0}}const kx=(()=>Vk(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Qk=(()=>kx[0])(),Jk=(()=>kx[1])(),Jn=new Uint32Array(80),Ln=new Uint32Array(80);class Lk extends vx{constructor(t=64){super(128,t,16,!1),this.Ah=Ot[0]|0,this.Al=Ot[1]|0,this.Bh=Ot[2]|0,this.Bl=Ot[3]|0,this.Ch=Ot[4]|0,this.Cl=Ot[5]|0,this.Dh=Ot[6]|0,this.Dl=Ot[7]|0,this.Eh=Ot[8]|0,this.El=Ot[9]|0,this.Fh=Ot[10]|0,this.Fl=Ot[11]|0,this.Gh=Ot[12]|0,this.Gl=Ot[13]|0,this.Hh=Ot[14]|0,this.Hl=Ot[15]|0}get(){const{Ah:t,Al:r,Bh:n,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:d,El:b,Fh:x,Fl:m,Gh:h,Gl:y,Hh:N,Hl:W}=this;return[t,r,n,s,o,a,l,c,d,b,x,m,h,y,N,W]}set(t,r,n,s,o,a,l,c,d,b,x,m,h,y,N,W){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=o|0,this.Cl=a|0,this.Dh=l|0,this.Dl=c|0,this.Eh=d|0,this.El=b|0,this.Fh=x|0,this.Fl=m|0,this.Gh=h|0,this.Gl=y|0,this.Hh=N|0,this.Hl=W|0}process(t,r){for(let j=0;j<16;j++,r+=4)Jn[j]=t.getUint32(r),Ln[j]=t.getUint32(r+=4);for(let j=16;j<80;j++){const P=Jn[j-15]|0,C=Ln[j-15]|0,B=Ci(P,C,1)^Ci(P,C,8)^Am(P,C,7),R=Ni(P,C,1)^Ni(P,C,8)^Rm(P,C,7),H=Jn[j-2]|0,X=Ln[j-2]|0,$=Ci(H,X,19)^Rl(H,X,61)^Am(H,X,6),Y=Ni(H,X,19)^zl(H,X,61)^Rm(H,X,6),J=Ik(R,Y,Ln[j-7],Ln[j-16]),A=Gk(J,B,$,Jn[j-7],Jn[j-16]);Jn[j]=A|0,Ln[j]=J|0}let{Ah:n,Al:s,Bh:o,Bl:a,Ch:l,Cl:c,Dh:d,Dl:b,Eh:x,El:m,Fh:h,Fl:y,Gh:N,Gl:W,Hh:w,Hl:k}=this;for(let j=0;j<80;j++){const P=Ci(x,m,14)^Ci(x,m,18)^Rl(x,m,41),C=Ni(x,m,14)^Ni(x,m,18)^zl(x,m,41),B=x&h^~x&N,R=m&y^~m&W,H=Yk(k,C,R,Jk[j],Ln[j]),X=Kk(H,w,P,B,Qk[j],Jn[j]),$=H|0,Y=Ci(n,s,28)^Rl(n,s,34)^Rl(n,s,39),J=Ni(n,s,28)^zl(n,s,34)^zl(n,s,39),A=n&o^n&l^o&l,U=s&a^s&c^a&c;w=N|0,k=W|0,N=h|0,W=y|0,h=x|0,y=m|0,{h:x,l:m}=mn(d|0,b|0,X|0,$|0),d=l|0,b=c|0,l=o|0,c=a|0,o=n|0,a=s|0;const V=Hk($,J,U);n=qk(V,X,Y,A),s=V|0}({h:n,l:s}=mn(this.Ah|0,this.Al|0,n|0,s|0)),{h:o,l:a}=mn(this.Bh|0,this.Bl|0,o|0,a|0),{h:l,l:c}=mn(this.Ch|0,this.Cl|0,l|0,c|0),{h:d,l:b}=mn(this.Dh|0,this.Dl|0,d|0,b|0),{h:x,l:m}=mn(this.Eh|0,this.El|0,x|0,m|0),{h,l:y}=mn(this.Fh|0,this.Fl|0,h|0,y|0),{h:N,l:W}=mn(this.Gh|0,this.Gl|0,N|0,W|0),{h:w,l:k}=mn(this.Hh|0,this.Hl|0,w|0,k|0),this.set(n,s,o,a,l,c,d,b,x,m,h,y,N,W,w,k)}roundClean(){Pa(Jn,Ln)}destroy(){Pa(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const V0=W0(()=>new Sx),Dk=W0(()=>new Xk),e4=W0(()=>new Lk),t4=V0,r4=Dk;function n4(e){return r4.create().update(new Uint8Array(e)).digest()}const Fl="__principal__",o4=2,zm=4,i4="aaaaa-aa",s4=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},a4=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"");let ze=class nc{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([zm]))}static managementCanister(){return this.fromText(i4)}static selfAuthenticating(t){const r=n4(t);return new this(new Uint8Array([...r,o4]))}static from(t){if(typeof t=="string")return nc.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new nc(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new nc(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(s4(t))}static fromText(t){let r=t;if(t.includes(Fl)){const a=JSON.parse(t);Fl in a&&(r=a[Fl])}const n=r.toLowerCase().replace(/-/g,"");let s=Bk(n);s=s.slice(4,s.length);const o=new this(s);if(o.toText()!==r)throw new Error(`Principal "${o.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return o}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===zm}toUint8Array(){return this._arr}toHex(){return a4(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,Rk(this._arr));const n=new Uint8Array(t),s=Uint8Array.from(this._arr),o=new Uint8Array([...n,...s]),l=Nk(o).match(/.{1,5}/g);if(!l)throw new Error;return l.join("-")}toString(){return this.toText()}toJSON(){return{[Fl]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){const r=this.compareTo(t);return r=="gt"||r=="eq"}};function Vr(...e){const t=new Uint8Array(e.reduce((n,s)=>n+s.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t.buffer}function et(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const l4=new RegExp(/^[0-9a-fA-F]+$/);function zn(e){if(!l4.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((r,n,s)=>(r[s/2|0]=(r[s/2|0]||"")+n,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function jx(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const r=new Uint8Array(e),n=new Uint8Array(t);for(let s=0;s<r.length;s++)if(r[s]!==n[s])return r[s]-n[s];return 0}function rl(e,t){return jx(e,t)===0}function ga(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function En(e){return e instanceof Uint8Array?ga(e):e instanceof ArrayBuffer?e:Array.isArray(e)?ga(new Uint8Array(e)):"buffer"in e?En(e.buffer):ga(new Uint8Array(e))}class lt extends Error{constructor(t){super(t),this.message=t,this.name="AgentError",this.__proto__=lt.prototype,Object.setPrototypeOf(this,lt.prototype)}}function Ie(...e){const t=new Uint8Array(e.reduce((n,s)=>n+s.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t}class zs{constructor(t,r=(t==null?void 0:t.byteLength)||0){this._buffer=ci(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,r)}save(){return this._view}restore(t){this._view=t}get buffer(){return ci(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const r=this._view.subarray(0,t);return this._view=this._view.subarray(t),r.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const r=new Uint8Array(t),n=this._view.byteLength;this._view.byteOffset+this._view.byteLength+r.byteLength>=this._buffer.byteLength?this.alloc(r.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+r.byteLength),this._view.set(r,n)}get end(){return this._view.byteLength===0}alloc(t){const r=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),n=new Uint8Array(r,0,this._view.byteLength+t);n.set(this._view),this._buffer=r,this._view=n}}function $u(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function ci(e){return e instanceof Uint8Array?$u(e):e instanceof ArrayBuffer?e:Array.isArray(e)?$u(new Uint8Array(e)):"buffer"in e?ci(e.buffer):$u(new Uint8Array(e))}function c4(e){const r=new TextEncoder().encode(e);let n=0;for(const s of r)n=(n*223+s)%2**32;return n}function an(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return c4(e)}function Tx(){throw new Error("unexpected end of buffer")}function di(e,t){return e.byteLength<t&&Tx(),e.read(t)}function ui(e){const t=e.readUint8();return t===void 0&&Tx(),t}function ct(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new zs(new ArrayBuffer(t),0);for(;;){const n=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([n]));break}else r.write(new Uint8Array([n|128]))}return r.buffer}function St(e){let t=BigInt(1),r=BigInt(0),n;do n=ui(e),r+=BigInt(n&127).valueOf()*t,t*=BigInt(128);while(n>=128);return r}function wt(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new zs(new ArrayBuffer(r),0);for(;;){const o=s(e);if(e/=BigInt(128),t&&e===BigInt(0)&&o&64||!t&&e===BigInt(0)&&!(o&64)){n.write(new Uint8Array([o]));break}else n.write(new Uint8Array([o|128]))}function s(o){const a=o%BigInt(128);return Number(t?BigInt(128)-a-BigInt(1):a)}return n.buffer}function Dn(e){const t=new Uint8Array(e.buffer);let r=0;for(;r<t.byteLength;r++)if(t[r]<128){if(!(t[r]&64))return St(e);break}const n=new Uint8Array(di(e,r+1));let s=BigInt(0);for(let o=n.byteLength-1;o>=0;o--)s=s*BigInt(128)+BigInt(128-(n[o]&127)-1);return-s-BigInt(1)}function d4(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return Ex(e,t)}function Ex(e,t){e=BigInt(e);const r=new zs(new ArrayBuffer(Math.min(1,t)),0);let n=0,s=BigInt(256),o=BigInt(0),a=Number(e%s);for(r.write(new Uint8Array([a]));++n<t;)e<0&&o===BigInt(0)&&a!==0&&(o=BigInt(1)),a=Number((e/s-o)%BigInt(256)),r.write(new Uint8Array([a])),s*=BigInt(256);return r.buffer}function _x(e,t){let r=BigInt(ui(e)),n=BigInt(1),s=0;for(;++s<t;){n*=BigInt(256);const o=BigInt(ui(e));r=r+n*o}return r}function u4(e,t){let r=_x(e,t);const n=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}function hh(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const oc="DIDL",Fm=400;function Ma(e,t,r){return e.map((n,s)=>r(n,t[s]))}class f4{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,r){const n=this._typs.length;this._idx.set(t.name,n),this._typs.push(r)}merge(t,r){const n=this._idx.get(t.name),s=this._idx.get(r);if(n===void 0)throw new Error("Missing type index for "+t);if(s===void 0)throw new Error("Missing type index for "+r);this._typs[n]=this._typs[s],this._typs.splice(s,1),this._idx.delete(r)}encode(){const t=ct(this._typs.length),r=Ie(...this._typs);return Ie(t,r)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return wt(this._idx.get(t)||0)}}class h4{visitType(t,r){throw new Error("Not implemented")}visitPrimitive(t,r){return this.visitType(t,r)}visitEmpty(t,r){return this.visitPrimitive(t,r)}visitBool(t,r){return this.visitPrimitive(t,r)}visitNull(t,r){return this.visitPrimitive(t,r)}visitReserved(t,r){return this.visitPrimitive(t,r)}visitText(t,r){return this.visitPrimitive(t,r)}visitNumber(t,r){return this.visitPrimitive(t,r)}visitInt(t,r){return this.visitNumber(t,r)}visitNat(t,r){return this.visitNumber(t,r)}visitFloat(t,r){return this.visitPrimitive(t,r)}visitFixedInt(t,r){return this.visitNumber(t,r)}visitFixedNat(t,r){return this.visitNumber(t,r)}visitPrincipal(t,r){return this.visitPrimitive(t,r)}visitConstruct(t,r){return this.visitType(t,r)}visitVec(t,r,n){return this.visitConstruct(t,n)}visitOpt(t,r,n){return this.visitConstruct(t,n)}visitRecord(t,r,n){return this.visitConstruct(t,n)}visitTuple(t,r,n){const s=r.map((o,a)=>[`_${a}_`,o]);return this.visitRecord(t,s,n)}visitVariant(t,r,n){return this.visitConstruct(t,n)}visitRec(t,r,n){return this.visitConstruct(r,n)}visitFunc(t,r){return this.visitConstruct(t,r)}visitService(t,r){return this.visitConstruct(t,r)}}class $d{display(){return this.name}valueToString(t){return pt(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class Cr extends $d{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class Ro extends $d{checkType(t){if(t instanceof Vn){const r=t.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class Cx extends Cr{accept(t,r){return t.visitEmpty(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return wt(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class Nx extends $d{checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,r){throw t.visitType(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,r){let n=r.decodeValue(t,r);Object(n)!==n&&(n=Object(n));let s;return r instanceof Vn?s=()=>r.getType():s=()=>r,Object.defineProperty(n,"type",{value:s,writable:!0,enumerable:!1,configurable:!0}),n}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class Bx extends Cr{accept(t,r){return t.visitBool(this,r)}covariant(t){if(typeof t=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return wt(-2)}decodeValue(t,r){switch(this.checkType(r),ui(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class Lc extends Cr{accept(t,r){return t.visitNull(this,r)}covariant(t){if(t===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return wt(-1)}decodeValue(t,r){return this.checkType(r),null}get name(){return"null"}}class ks extends Cr{accept(t,r){return t.visitReserved(this,r)}covariant(t){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return wt(-16)}decodeValue(t,r){return r.name!==this.name&&r.decodeValue(t,r),null}get name(){return"reserved"}}class Ax extends Cr{accept(t,r){return t.visitText(this,r)}covariant(t){if(typeof t=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){const r=new TextEncoder().encode(t),n=ct(r.byteLength);return Ie(n,r)}encodeType(){return wt(-15)}decodeValue(t,r){this.checkType(r);const n=St(t),s=di(t,Number(n));return new TextDecoder("utf8",{fatal:!0}).decode(s)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class Rx extends Cr{accept(t,r){return t.visitInt(this,r)}covariant(t){if(typeof t=="bigint"||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){return wt(t)}encodeType(){return wt(-4)}decodeValue(t,r){return this.checkType(r),Dn(t)}get name(){return"int"}valueToString(t){return t.toString()}}class zx extends Cr{accept(t,r){return t.visitNat(this,r)}covariant(t){if(typeof t=="bigint"&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){return ct(t)}encodeType(){return wt(-3)}decodeValue(t,r){return this.checkType(r),St(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class H0 extends Cr{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){const r=new ArrayBuffer(this._bits/8),n=new DataView(r);return this._bits===32?n.setFloat32(0,t,!0):n.setFloat64(0,t,!0),r}encodeType(){const t=this._bits===32?-13:-14;return wt(t)}decodeValue(t,r){this.checkType(r);const n=di(t,this._bits/8),s=new DataView(n);return this._bits===32?s.getFloat32(0,!0):s.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class fi extends Cr{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){const r=hh(this._bits-1)*BigInt(-1),n=hh(this._bits-1)-BigInt(1);let s=!1;if(typeof t=="bigint")s=t>=r&&t<=n;else if(Number.isInteger(t)){const o=BigInt(t);s=o>=r&&o<=n}else s=!1;if(s)return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){return Ex(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return wt(-9-t)}decodeValue(t,r){this.checkType(r);const n=u4(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class ko extends Cr{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedNat(this,r)}covariant(t){const r=hh(this._bits);let n=!1;if(typeof t=="bigint"&&t>=BigInt(0)?n=t<r:Number.isInteger(t)&&t>=0?n=BigInt(t)<r:n=!1,n)return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){return d4(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return wt(-5-t)}decodeValue(t,r){this.checkType(r);const n=_x(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class Ud extends Ro{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof ko&&t._bits===8&&(this._blobOptimization=!0)}accept(t,r){return t.visitVec(this,this._type,r)}covariant(t){const r=this._type instanceof ko?this._type._bits:this._type instanceof fi?this._type._bits:0;if(ArrayBuffer.isView(t)&&r==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((n,s)=>{try{return this._type.covariant(n)}catch(o){throw new Error(`Invalid ${this.display()} argument: 

index ${s} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){const r=ct(t.length);if(this._blobOptimization)return Ie(r,new Uint8Array(t));if(ArrayBuffer.isView(t))return Ie(r,new Uint8Array(t.buffer));const n=new zs(new ArrayBuffer(r.byteLength+t.length),0);n.write(r);for(const s of t){const o=this._type.encodeValue(s);n.write(new Uint8Array(o))}return n.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=wt(-19),n=this._type.encodeType(t);t.add(this,Ie(r,n))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof Ud))throw new Error("Not a vector type");const s=Number(St(t));if(this._type instanceof ko){if(this._type._bits==8)return new Uint8Array(t.read(s));if(this._type._bits==16)return new Uint16Array(t.read(s*2));if(this._type._bits==32)return new Uint32Array(t.read(s*4));if(this._type._bits==64)return new BigUint64Array(t.read(s*8))}if(this._type instanceof fi){if(this._type._bits==8)return new Int8Array(t.read(s));if(this._type._bits==16)return new Int16Array(t.read(s*2));if(this._type._bits==32)return new Int32Array(t.read(s*4));if(this._type._bits==64)return new BigInt64Array(t.read(s*8))}const o=[];for(let a=0;a<s;a++)o.push(this._type.decodeValue(t,n._type));return o}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(n=>this._type.valueToString(n)).join("; ")+"}"}}class hi extends Ro{constructor(t){super(),this._type=t}accept(t,r){return t.visitOpt(this,this._type,r)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(r){throw new Error(`Invalid ${this.display()} argument: ${pt(t)} 

-> ${r.message}`)}throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):Ie(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=wt(-18),n=this._type.encodeType(t);t.add(this,Ie(r,n))}decodeValue(t,r){if(r instanceof Lc)return[];if(r instanceof ks)return[];let n=r;if(r instanceof Vn){const s=r.getType();if(typeof s>"u")throw new Error("type mismatch with uninitialized type");n=s}if(n instanceof hi)switch(ui(t)){case 0:return[];case 1:{const s=t.save();try{return[this._type.decodeValue(t,n._type)]}catch{return t.restore(s),n._type.decodeValue(t,n._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof Lc||this._type instanceof hi||this._type instanceof ks)return n.decodeValue(t,n),[];{const s=t.save();try{return[this._type.decodeValue(t,r)]}catch{return t.restore(s),n.decodeValue(t,r),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}}class nl extends Ro{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>an(r[0])-an(n[0]))}accept(t,r){return t.visitRecord(this,this._fields,r)}tryAsTuple(){const t=[];for(let r=0;r<this._fields.length;r++){const[n,s]=this._fields[r];if(n!==`_${r}_`)return null;t.push(s)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([r,n])=>{if(!t.hasOwnProperty(r))throw new Error(`Record is missing key "${r}".`);try{return n.covariant(t[r])}catch(s){throw new Error(`Invalid ${this.display()} argument: 

field ${r} -> ${s.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){const r=this._fields.map(([s])=>t[s]),n=Ma(this._fields,r,([,s],o)=>s.encodeValue(o));return Ie(...n)}_buildTypeTableImpl(t){this._fields.forEach(([o,a])=>a.buildTypeTable(t));const r=wt(-20),n=ct(this._fields.length),s=this._fields.map(([o,a])=>Ie(ct(an(o)),a.encodeType(t)));t.add(this,Ie(r,n,Ie(...s)))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof nl))throw new Error("Not a record type");const s={};let o=0,a=0;for(;a<n._fields.length;){const[l,c]=n._fields[a];if(o>=this._fields.length){c.decodeValue(t,c),a++;continue}const[d,b]=this._fields[o],x=an(this._fields[o][0]),m=an(l);if(x===m)s[d]=b.decodeValue(t,c),o++,a++;else if(m>x)if(b instanceof hi||b instanceof ks)s[d]=[],o++;else throw new Error("Cannot find required field "+d);else c.decodeValue(t,c),a++}for(const[l,c]of this._fields.slice(o))if(c instanceof hi||c instanceof ks)s[l]=[];else throw new Error("Cannot find required field "+l);return s}get name(){return`record {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`record {${this._fields.map(([r,n])=>r+":"+n.display()).join("; ")}}`}valueToString(t){const r=this._fields.map(([s])=>t[s]);return`record {${Ma(this._fields,r,([s,o],a)=>s+"="+o.valueToString(a)).join("; ")}}`}}class Wd extends nl{constructor(t){const r={};t.forEach((n,s)=>r["_"+s+"_"]=n),super(r),this._components=t}accept(t,r){return t.visitTuple(this,this._components,r)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((r,n)=>{try{return r.covariant(t[n])}catch(s){throw new Error(`Invalid ${this.display()} argument: 

index ${n} -> ${s.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){const r=Ma(this._components,t,(n,s)=>n.encodeValue(s));return Ie(...r)}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof Wd))throw new Error("not a tuple type");if(n._components.length<this._components.length)throw new Error("tuple mismatch");const s=[];for(const[o,a]of n._components.entries())o>=this._components.length?a.decodeValue(t,a):s.push(this._components[o].decodeValue(t,a));return s}display(){return`record {${this._components.map(r=>r.display()).join("; ")}}`}valueToString(t){return`record {${Ma(this._components,t,(n,s)=>n.valueToString(s)).join("; ")}}`}}class Vd extends Ro{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>an(r[0])-an(n[0]))}accept(t,r){return t.visitVariant(this,this._fields,r)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([r,n])=>{try{return!t.hasOwnProperty(r)||n.covariant(t[r])}catch(s){throw new Error(`Invalid ${this.display()} argument: 

variant ${r} -> ${s.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){for(let r=0;r<this._fields.length;r++){const[n,s]=this._fields[r];if(t.hasOwnProperty(n)){const o=ct(r),a=s.encodeValue(t[n]);return Ie(o,a)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,o])=>{o.buildTypeTable(t)});const r=wt(-21),n=ct(this._fields.length),s=this._fields.map(([o,a])=>Ie(ct(an(o)),a.encodeType(t)));t.add(this,Ie(r,n,...s))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof Vd))throw new Error("Not a variant type");const s=Number(St(t));if(s>=n._fields.length)throw Error("Invalid variant index: "+s);const[o,a]=n._fields[s];for(const[l,c]of this._fields)if(an(o)===an(l)){const d=c.decodeValue(t,a);return{[l]:d}}throw new Error("Cannot find field hash "+o)}get name(){return`variant {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`variant {${this._fields.map(([r,n])=>r+(n.name==="null"?"":`:${n.display()}`)).join("; ")}}`}valueToString(t){for(const[r,n]of this._fields)if(t.hasOwnProperty(r)){const s=n.valueToString(t[r]);return s==="null"?`variant {${r}}`:`variant {${r}=${s}}`}throw new Error("Variant has no data: "+t)}}class Vn extends Ro{constructor(){super(...arguments),this._id=Vn._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}Vn._counter=0;function q0(e){if(ui(e)!==1)throw new Error("Cannot decode principal");const r=Number(St(e));return ze.fromUint8Array(new Uint8Array(di(e,r)))}class Fx extends Cr{accept(t,r){return t.visitPrincipal(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=ct(r.byteLength);return Ie(new Uint8Array([1]),n,r)}encodeType(){return wt(-24)}decodeValue(t,r){return this.checkType(r),q0(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class I0 extends Ro{constructor(t,r,n=[]){super(),this.argTypes=t,this.retTypes=r,this.annotations=n}static argsToString(t,r){if(t.length!==r.length)throw new Error("arity mismatch");return"("+t.map((n,s)=>n.valueToString(r[s])).join(", ")+")"}accept(t,r){return t.visitFunc(this,r)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue([t,r]){const n=t.toUint8Array(),s=ct(n.byteLength),o=Ie(new Uint8Array([1]),s,n),a=new TextEncoder().encode(r),l=ct(a.byteLength);return Ie(new Uint8Array([1]),o,l,a)}_buildTypeTableImpl(t){this.argTypes.forEach(d=>d.buildTypeTable(t)),this.retTypes.forEach(d=>d.buildTypeTable(t));const r=wt(-22),n=ct(this.argTypes.length),s=Ie(...this.argTypes.map(d=>d.encodeType(t))),o=ct(this.retTypes.length),a=Ie(...this.retTypes.map(d=>d.encodeType(t))),l=ct(this.annotations.length),c=Ie(...this.annotations.map(d=>this.encodeAnnotation(d)));t.add(this,Ie(r,n,s,o,a,l,c))}decodeValue(t){if(ui(t)!==1)throw new Error("Cannot decode function reference");const n=q0(t),s=Number(St(t)),o=di(t,s),l=new TextDecoder("utf8",{fatal:!0}).decode(o);return[n,l]}get name(){const t=this.argTypes.map(s=>s.name).join(", "),r=this.retTypes.map(s=>s.name).join(", "),n=" "+this.annotations.join(" ");return`(${t}) -> (${r})${n}`}valueToString([t,r]){return`func "${t.toText()}".${r}`}display(){const t=this.argTypes.map(s=>s.display()).join(", "),r=this.retTypes.map(s=>s.display()).join(", "),n=" "+this.annotations.join(" ");return`(${t})  (${r})${n}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class Px extends Ro{constructor(t){super(),this._fields=Object.entries(t).sort((r,n)=>r[0]<n[0]?-1:r[0]>n[0]?1:0)}accept(t,r){return t.visitService(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${pt(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=ct(r.length);return Ie(new Uint8Array([1]),n,r)}_buildTypeTableImpl(t){this._fields.forEach(([o,a])=>a.buildTypeTable(t));const r=wt(-23),n=ct(this._fields.length),s=this._fields.map(([o,a])=>{const l=new TextEncoder().encode(o),c=ct(l.length);return Ie(c,l,a.encodeType(t))});t.add(this,Ie(r,n,...s))}decodeValue(t){return q0(t)}get name(){return`service {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}}function pt(e){const t=JSON.stringify(e,(r,n)=>typeof n=="bigint"?`BigInt(${n})`:n);return t&&t.length>Fm?t.substring(0,Fm-3)+"...":t}function ph(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const r=new f4;e.forEach(c=>c.buildTypeTable(r));const n=new TextEncoder().encode(oc),s=r.encode(),o=ct(t.length),a=Ie(...e.map(c=>c.encodeType(r))),l=Ie(...Ma(e,t,(c,d)=>{try{c.covariant(d)}catch(b){throw new Error(b.message+`

`)}return c.encodeValue(d)}));return Ie(n,s,o,a,l)}function Mx(e,t){const r=new zs(t);if(t.byteLength<oc.length)throw new Error("Message length smaller than magic number");const n=di(r,oc.length),s=new TextDecoder().decode(n);if(s!==oc)throw new Error("Wrong magic number: "+JSON.stringify(s));function o(h){const y=[],N=Number(St(h));for(let k=0;k<N;k++){const j=Number(Dn(h));switch(j){case-18:case-19:{const P=Number(Dn(h));y.push([j,P]);break}case-20:case-21:{const P=[];let C=Number(St(h)),B;for(;C--;){const R=Number(St(h));if(R>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof B=="number"&&B>=R)throw new Error("field id collision or not sorted");B=R;const H=Number(Dn(h));P.push([R,H])}y.push([j,P]);break}case-22:{const P=[];let C=Number(St(h));for(;C--;)P.push(Number(Dn(h)));const B=[];let R=Number(St(h));for(;R--;)B.push(Number(Dn(h)));const H=[];let X=Number(St(h));for(;X--;)switch(Number(St(h))){case 1:{H.push("query");break}case 2:{H.push("oneway");break}case 3:{H.push("composite_query");break}default:throw new Error("unknown annotation")}y.push([j,[P,B,H]]);break}case-23:{let P=Number(St(h));const C=[];for(;P--;){const B=Number(St(h)),R=new TextDecoder().decode(di(h,B)),H=Dn(h);C.push([R,H])}y.push([j,C]);break}default:throw new Error("Illegal op_code: "+j)}}const W=[],w=Number(St(h));for(let k=0;k<w;k++)W.push(Number(Dn(h)));return[y,W]}const[a,l]=o(r);if(l.length<e.length)throw new Error("Wrong number of return values");const c=a.map(h=>sb());function d(h){if(h<-24)throw new Error("future value not supported");if(h<0)switch(h){case-1:return Wx;case-2:return Ux;case-3:return qx;case-4:return Hx;case-5:return Qx;case-6:return Jx;case-7:return Lx;case-8:return Dx;case-9:return Yx;case-10:return Kx;case-11:return Zx;case-12:return Xx;case-13:return Ix;case-14:return Gx;case-15:return Vx;case-16:return $x;case-17:return Ox;case-24:return eb;default:throw new Error("Illegal op_code: "+h)}if(h>=a.length)throw new Error("type index out of range");return c[h]}function b(h){switch(h[0]){case-19:{const y=d(h[1]);return rb(y)}case-18:{const y=d(h[1]);return nb(y)}case-20:{const y={};for(const[w,k]of h[1]){const j=`_${w}_`;y[j]=d(k)}const N=ob(y),W=N.tryAsTuple();return Array.isArray(W)?tb(...W):N}case-21:{const y={};for(const[N,W]of h[1]){const w=`_${N}_`;y[w]=d(W)}return ib(y)}case-22:{const[y,N,W]=h[1];return ab(y.map(w=>d(w)),N.map(w=>d(w)),W)}case-23:{const y={},N=h[1];for(const[W,w]of N){let k=d(w);if(k instanceof Vn&&(k=k.getType()),!(k instanceof I0))throw new Error("Illegal service definition: services can only contain functions");y[W]=k}return lb(y)}default:throw new Error("Illegal op_code: "+h[0])}}a.forEach((h,y)=>{if(h[0]===-22){const N=b(h);c[y].fill(N)}}),a.forEach((h,y)=>{if(h[0]!==-22){const N=b(h);c[y].fill(N)}});const x=l.map(h=>d(h)),m=e.map((h,y)=>h.decodeValue(r,x[y]));for(let h=e.length;h<x.length;h++)x[h].decodeValue(r,x[h]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return m}const Ox=new Cx,$x=new ks,p4=new Nx,Ux=new Bx,Wx=new Lc,Vx=new Ax,Hx=new Rx,qx=new zx,Ix=new H0(32),Gx=new H0(64),Yx=new fi(8),Kx=new fi(16),Zx=new fi(32),Xx=new fi(64),Qx=new ko(8),Jx=new ko(16),Lx=new ko(32),Dx=new ko(64),eb=new Fx;function tb(...e){return new Wd(e)}function rb(e){return new Ud(e)}function nb(e){return new hi(e)}function ob(e){return new nl(e)}function ib(e){return new Vd(e)}function sb(){return new Vn}function ab(e,t,r=[]){return new I0(e,t,r)}function lb(e){return new Px(e)}const m4=Object.freeze(Object.defineProperty({__proto__:null,Bool:Ux,BoolClass:Bx,ConstructType:Ro,Empty:Ox,EmptyClass:Cx,FixedIntClass:fi,FixedNatClass:ko,Float32:Ix,Float64:Gx,FloatClass:H0,Func:ab,FuncClass:I0,Int:Hx,Int16:Kx,Int32:Zx,Int64:Xx,Int8:Yx,IntClass:Rx,Nat:qx,Nat16:Jx,Nat32:Lx,Nat64:Dx,Nat8:Qx,NatClass:zx,Null:Wx,NullClass:Lc,Opt:nb,OptClass:hi,PrimitiveType:Cr,Principal:eb,PrincipalClass:Fx,Rec:sb,RecClass:Vn,Record:ob,RecordClass:nl,Reserved:$x,ReservedClass:ks,Service:lb,ServiceClass:Px,Text:Vx,TextClass:Ax,Tuple:tb,TupleClass:Wd,Type:$d,Unknown:p4,UnknownClass:Nx,Variant:ib,VariantClass:Vd,Vec:rb,VecClass:Ud,Visitor:h4,decode:Mx,encode:ph},Symbol.toStringTag,{value:"Module"}));var cb={},ol={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Da,r=el,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=k,e.INSPECT_MAX_BYTES=50;var s=2147483647;e.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var S=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(S,f),S.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(S){if(S>s)throw new RangeError('The value "'+S+'" is invalid for option "size"');var f=new Uint8Array(S);return Object.setPrototypeOf(f,l.prototype),f}function l(S,f,p){if(typeof S=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(S)}return c(S,f,p)}l.poolSize=8192;function c(S,f,p){if(typeof S=="string")return m(S,f);if(ArrayBuffer.isView(S))return y(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(re(S,ArrayBuffer)||S&&re(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(re(S,SharedArrayBuffer)||S&&re(S.buffer,SharedArrayBuffer)))return N(S,f,p);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var E=S.valueOf&&S.valueOf();if(E!=null&&E!==S)return l.from(E,f,p);var O=W(S);if(O)return O;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return l.from(S[Symbol.toPrimitive]("string"),f,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}l.from=function(S,f,p){return c(S,f,p)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function b(S,f,p){return d(S),S<=0?a(S):f!==void 0?typeof p=="string"?a(S).fill(f,p):a(S).fill(f):a(S)}l.alloc=function(S,f,p){return b(S,f,p)};function x(S){return d(S),a(S<0?0:w(S)|0)}l.allocUnsafe=function(S){return x(S)},l.allocUnsafeSlow=function(S){return x(S)};function m(S,f){if((typeof f!="string"||f==="")&&(f="utf8"),!l.isEncoding(f))throw new TypeError("Unknown encoding: "+f);var p=j(S,f)|0,E=a(p),O=E.write(S,f);return O!==p&&(E=E.slice(0,O)),E}function h(S){for(var f=S.length<0?0:w(S.length)|0,p=a(f),E=0;E<f;E+=1)p[E]=S[E]&255;return p}function y(S){if(re(S,Uint8Array)){var f=new Uint8Array(S);return N(f.buffer,f.byteOffset,f.byteLength)}return h(S)}function N(S,f,p){if(f<0||S.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<f+(p||0))throw new RangeError('"length" is outside of buffer bounds');var E;return f===void 0&&p===void 0?E=new Uint8Array(S):p===void 0?E=new Uint8Array(S,f):E=new Uint8Array(S,f,p),Object.setPrototypeOf(E,l.prototype),E}function W(S){if(l.isBuffer(S)){var f=w(S.length)|0,p=a(f);return p.length===0||S.copy(p,0,0,f),p}if(S.length!==void 0)return typeof S.length!="number"||Z(S.length)?a(0):h(S);if(S.type==="Buffer"&&Array.isArray(S.data))return h(S.data)}function w(S){if(S>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return S|0}function k(S){return+S!=S&&(S=0),l.alloc(+S)}l.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==l.prototype},l.compare=function(f,p){if(re(f,Uint8Array)&&(f=l.from(f,f.offset,f.byteLength)),re(p,Uint8Array)&&(p=l.from(p,p.offset,p.byteLength)),!l.isBuffer(f)||!l.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===p)return 0;for(var E=f.length,O=p.length,_=0,ie=Math.min(E,O);_<ie;++_)if(f[_]!==p[_]){E=f[_],O=p[_];break}return E<O?-1:O<E?1:0},l.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(f,p){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return l.alloc(0);var E;if(p===void 0)for(p=0,E=0;E<f.length;++E)p+=f[E].length;var O=l.allocUnsafe(p),_=0;for(E=0;E<f.length;++E){var ie=f[E];if(re(ie,Uint8Array))_+ie.length>O.length?l.from(ie).copy(O,_):Uint8Array.prototype.set.call(O,ie,_);else if(l.isBuffer(ie))ie.copy(O,_);else throw new TypeError('"list" argument must be an Array of Buffers');_+=ie.length}return O};function j(S,f){if(l.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||re(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);var p=S.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&p===0)return 0;for(var O=!1;;)switch(f){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return pe(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return q(S).length;default:if(O)return E?-1:pe(S).length;f=(""+f).toLowerCase(),O=!0}}l.byteLength=j;function P(S,f,p){var E=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,f>>>=0,p<=f))return"";for(S||(S="utf8");;)switch(S){case"hex":return ne(this,f,p);case"utf8":case"utf-8":return U(this,f,p);case"ascii":return te(this,f,p);case"latin1":case"binary":return Q(this,f,p);case"base64":return A(this,f,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,f,p);default:if(E)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),E=!0}}l.prototype._isBuffer=!0;function C(S,f,p){var E=S[f];S[f]=S[p],S[p]=E}l.prototype.swap16=function(){var f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var p=0;p<f;p+=2)C(this,p,p+1);return this},l.prototype.swap32=function(){var f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var p=0;p<f;p+=4)C(this,p,p+3),C(this,p+1,p+2);return this},l.prototype.swap64=function(){var f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var p=0;p<f;p+=8)C(this,p,p+7),C(this,p+1,p+6),C(this,p+2,p+5),C(this,p+3,p+4);return this},l.prototype.toString=function(){var f=this.length;return f===0?"":arguments.length===0?U(this,0,f):P.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(f){if(!l.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:l.compare(this,f)===0},l.prototype.inspect=function(){var f="",p=e.INSPECT_MAX_BYTES;return f=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(f+=" ... "),"<Buffer "+f+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(f,p,E,O,_){if(re(f,Uint8Array)&&(f=l.from(f,f.offset,f.byteLength)),!l.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(p===void 0&&(p=0),E===void 0&&(E=f?f.length:0),O===void 0&&(O=0),_===void 0&&(_=this.length),p<0||E>f.length||O<0||_>this.length)throw new RangeError("out of range index");if(O>=_&&p>=E)return 0;if(O>=_)return-1;if(p>=E)return 1;if(p>>>=0,E>>>=0,O>>>=0,_>>>=0,this===f)return 0;for(var ie=_-O,he=E-p,we=Math.min(ie,he),z=this.slice(O,_),ee=f.slice(p,E),v=0;v<we;++v)if(z[v]!==ee[v]){ie=z[v],he=ee[v];break}return ie<he?-1:he<ie?1:0};function B(S,f,p,E,O){if(S.length===0)return-1;if(typeof p=="string"?(E=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,Z(p)&&(p=O?0:S.length-1),p<0&&(p=S.length+p),p>=S.length){if(O)return-1;p=S.length-1}else if(p<0)if(O)p=0;else return-1;if(typeof f=="string"&&(f=l.from(f,E)),l.isBuffer(f))return f.length===0?-1:R(S,f,p,E,O);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(S,f,p):Uint8Array.prototype.lastIndexOf.call(S,f,p):R(S,[f],p,E,O);throw new TypeError("val must be string, number or Buffer")}function R(S,f,p,E,O){var _=1,ie=S.length,he=f.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(S.length<2||f.length<2)return-1;_=2,ie/=2,he/=2,p/=2}function we(g,I){return _===1?g[I]:g.readUInt16BE(I*_)}var z;if(O){var ee=-1;for(z=p;z<ie;z++)if(we(S,z)===we(f,ee===-1?0:z-ee)){if(ee===-1&&(ee=z),z-ee+1===he)return ee*_}else ee!==-1&&(z-=z-ee),ee=-1}else for(p+he>ie&&(p=ie-he),z=p;z>=0;z--){for(var v=!0,u=0;u<he;u++)if(we(S,z+u)!==we(f,u)){v=!1;break}if(v)return z}return-1}l.prototype.includes=function(f,p,E){return this.indexOf(f,p,E)!==-1},l.prototype.indexOf=function(f,p,E){return B(this,f,p,E,!0)},l.prototype.lastIndexOf=function(f,p,E){return B(this,f,p,E,!1)};function H(S,f,p,E){p=Number(p)||0;var O=S.length-p;E?(E=Number(E),E>O&&(E=O)):E=O;var _=f.length;E>_/2&&(E=_/2);for(var ie=0;ie<E;++ie){var he=parseInt(f.substr(ie*2,2),16);if(Z(he))return ie;S[p+ie]=he}return ie}function X(S,f,p,E){return L(pe(f,S.length-p),S,p,E)}function $(S,f,p,E){return L(me(f),S,p,E)}function Y(S,f,p,E){return L(q(f),S,p,E)}function J(S,f,p,E){return L(M(f,S.length-p),S,p,E)}l.prototype.write=function(f,p,E,O){if(p===void 0)O="utf8",E=this.length,p=0;else if(E===void 0&&typeof p=="string")O=p,E=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(E)?(E=E>>>0,O===void 0&&(O="utf8")):(O=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var _=this.length-p;if((E===void 0||E>_)&&(E=_),f.length>0&&(E<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");for(var ie=!1;;)switch(O){case"hex":return H(this,f,p,E);case"utf8":case"utf-8":return X(this,f,p,E);case"ascii":case"latin1":case"binary":return $(this,f,p,E);case"base64":return Y(this,f,p,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,f,p,E);default:if(ie)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),ie=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(S,f,p){return f===0&&p===S.length?t.fromByteArray(S):t.fromByteArray(S.slice(f,p))}function U(S,f,p){p=Math.min(S.length,p);for(var E=[],O=f;O<p;){var _=S[O],ie=null,he=_>239?4:_>223?3:_>191?2:1;if(O+he<=p){var we,z,ee,v;switch(he){case 1:_<128&&(ie=_);break;case 2:we=S[O+1],(we&192)===128&&(v=(_&31)<<6|we&63,v>127&&(ie=v));break;case 3:we=S[O+1],z=S[O+2],(we&192)===128&&(z&192)===128&&(v=(_&15)<<12|(we&63)<<6|z&63,v>2047&&(v<55296||v>57343)&&(ie=v));break;case 4:we=S[O+1],z=S[O+2],ee=S[O+3],(we&192)===128&&(z&192)===128&&(ee&192)===128&&(v=(_&15)<<18|(we&63)<<12|(z&63)<<6|ee&63,v>65535&&v<1114112&&(ie=v))}}ie===null?(ie=65533,he=1):ie>65535&&(ie-=65536,E.push(ie>>>10&1023|55296),ie=56320|ie&1023),E.push(ie),O+=he}return K(E)}var V=4096;function K(S){var f=S.length;if(f<=V)return String.fromCharCode.apply(String,S);for(var p="",E=0;E<f;)p+=String.fromCharCode.apply(String,S.slice(E,E+=V));return p}function te(S,f,p){var E="";p=Math.min(S.length,p);for(var O=f;O<p;++O)E+=String.fromCharCode(S[O]&127);return E}function Q(S,f,p){var E="";p=Math.min(S.length,p);for(var O=f;O<p;++O)E+=String.fromCharCode(S[O]);return E}function ne(S,f,p){var E=S.length;(!f||f<0)&&(f=0),(!p||p<0||p>E)&&(p=E);for(var O="",_=f;_<p;++_)O+=D[S[_]];return O}function ue(S,f,p){for(var E=S.slice(f,p),O="",_=0;_<E.length-1;_+=2)O+=String.fromCharCode(E[_]+E[_+1]*256);return O}l.prototype.slice=function(f,p){var E=this.length;f=~~f,p=p===void 0?E:~~p,f<0?(f+=E,f<0&&(f=0)):f>E&&(f=E),p<0?(p+=E,p<0&&(p=0)):p>E&&(p=E),p<f&&(p=f);var O=this.subarray(f,p);return Object.setPrototypeOf(O,l.prototype),O};function de(S,f,p){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+f>p)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(f,p,E){f=f>>>0,p=p>>>0,E||de(f,p,this.length);for(var O=this[f],_=1,ie=0;++ie<p&&(_*=256);)O+=this[f+ie]*_;return O},l.prototype.readUintBE=l.prototype.readUIntBE=function(f,p,E){f=f>>>0,p=p>>>0,E||de(f,p,this.length);for(var O=this[f+--p],_=1;p>0&&(_*=256);)O+=this[f+--p]*_;return O},l.prototype.readUint8=l.prototype.readUInt8=function(f,p){return f=f>>>0,p||de(f,1,this.length),this[f]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(f,p){return f=f>>>0,p||de(f,2,this.length),this[f]|this[f+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(f,p){return f=f>>>0,p||de(f,2,this.length),this[f]<<8|this[f+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(f,p){return f=f>>>0,p||de(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(f,p){return f=f>>>0,p||de(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},l.prototype.readIntLE=function(f,p,E){f=f>>>0,p=p>>>0,E||de(f,p,this.length);for(var O=this[f],_=1,ie=0;++ie<p&&(_*=256);)O+=this[f+ie]*_;return _*=128,O>=_&&(O-=Math.pow(2,8*p)),O},l.prototype.readIntBE=function(f,p,E){f=f>>>0,p=p>>>0,E||de(f,p,this.length);for(var O=p,_=1,ie=this[f+--O];O>0&&(_*=256);)ie+=this[f+--O]*_;return _*=128,ie>=_&&(ie-=Math.pow(2,8*p)),ie},l.prototype.readInt8=function(f,p){return f=f>>>0,p||de(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},l.prototype.readInt16LE=function(f,p){f=f>>>0,p||de(f,2,this.length);var E=this[f]|this[f+1]<<8;return E&32768?E|4294901760:E},l.prototype.readInt16BE=function(f,p){f=f>>>0,p||de(f,2,this.length);var E=this[f+1]|this[f]<<8;return E&32768?E|4294901760:E},l.prototype.readInt32LE=function(f,p){return f=f>>>0,p||de(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},l.prototype.readInt32BE=function(f,p){return f=f>>>0,p||de(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},l.prototype.readFloatLE=function(f,p){return f=f>>>0,p||de(f,4,this.length),r.read(this,f,!0,23,4)},l.prototype.readFloatBE=function(f,p){return f=f>>>0,p||de(f,4,this.length),r.read(this,f,!1,23,4)},l.prototype.readDoubleLE=function(f,p){return f=f>>>0,p||de(f,8,this.length),r.read(this,f,!0,52,8)},l.prototype.readDoubleBE=function(f,p){return f=f>>>0,p||de(f,8,this.length),r.read(this,f,!1,52,8)};function le(S,f,p,E,O,_){if(!l.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>O||f<_)throw new RangeError('"value" argument is out of bounds');if(p+E>S.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(f,p,E,O){if(f=+f,p=p>>>0,E=E>>>0,!O){var _=Math.pow(2,8*E)-1;le(this,f,p,E,_,0)}var ie=1,he=0;for(this[p]=f&255;++he<E&&(ie*=256);)this[p+he]=f/ie&255;return p+E},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(f,p,E,O){if(f=+f,p=p>>>0,E=E>>>0,!O){var _=Math.pow(2,8*E)-1;le(this,f,p,E,_,0)}var ie=E-1,he=1;for(this[p+ie]=f&255;--ie>=0&&(he*=256);)this[p+ie]=f/he&255;return p+E},l.prototype.writeUint8=l.prototype.writeUInt8=function(f,p,E){return f=+f,p=p>>>0,E||le(this,f,p,1,255,0),this[p]=f&255,p+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(f,p,E){return f=+f,p=p>>>0,E||le(this,f,p,2,65535,0),this[p]=f&255,this[p+1]=f>>>8,p+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(f,p,E){return f=+f,p=p>>>0,E||le(this,f,p,2,65535,0),this[p]=f>>>8,this[p+1]=f&255,p+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(f,p,E){return f=+f,p=p>>>0,E||le(this,f,p,4,4294967295,0),this[p+3]=f>>>24,this[p+2]=f>>>16,this[p+1]=f>>>8,this[p]=f&255,p+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(f,p,E){return f=+f,p=p>>>0,E||le(this,f,p,4,4294967295,0),this[p]=f>>>24,this[p+1]=f>>>16,this[p+2]=f>>>8,this[p+3]=f&255,p+4},l.prototype.writeIntLE=function(f,p,E,O){if(f=+f,p=p>>>0,!O){var _=Math.pow(2,8*E-1);le(this,f,p,E,_-1,-_)}var ie=0,he=1,we=0;for(this[p]=f&255;++ie<E&&(he*=256);)f<0&&we===0&&this[p+ie-1]!==0&&(we=1),this[p+ie]=(f/he>>0)-we&255;return p+E},l.prototype.writeIntBE=function(f,p,E,O){if(f=+f,p=p>>>0,!O){var _=Math.pow(2,8*E-1);le(this,f,p,E,_-1,-_)}var ie=E-1,he=1,we=0;for(this[p+ie]=f&255;--ie>=0&&(he*=256);)f<0&&we===0&&this[p+ie+1]!==0&&(we=1),this[p+ie]=(f/he>>0)-we&255;return p+E},l.prototype.writeInt8=function(f,p,E){return f=+f,p=p>>>0,E||le(this,f,p,1,127,-128),f<0&&(f=255+f+1),this[p]=f&255,p+1},l.prototype.writeInt16LE=function(f,p,E){return f=+f,p=p>>>0,E||le(this,f,p,2,32767,-32768),this[p]=f&255,this[p+1]=f>>>8,p+2},l.prototype.writeInt16BE=function(f,p,E){return f=+f,p=p>>>0,E||le(this,f,p,2,32767,-32768),this[p]=f>>>8,this[p+1]=f&255,p+2},l.prototype.writeInt32LE=function(f,p,E){return f=+f,p=p>>>0,E||le(this,f,p,4,2147483647,-2147483648),this[p]=f&255,this[p+1]=f>>>8,this[p+2]=f>>>16,this[p+3]=f>>>24,p+4},l.prototype.writeInt32BE=function(f,p,E){return f=+f,p=p>>>0,E||le(this,f,p,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[p]=f>>>24,this[p+1]=f>>>16,this[p+2]=f>>>8,this[p+3]=f&255,p+4};function fe(S,f,p,E,O,_){if(p+E>S.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function F(S,f,p,E,O){return f=+f,p=p>>>0,O||fe(S,f,p,4),r.write(S,f,p,E,23,4),p+4}l.prototype.writeFloatLE=function(f,p,E){return F(this,f,p,!0,E)},l.prototype.writeFloatBE=function(f,p,E){return F(this,f,p,!1,E)};function ke(S,f,p,E,O){return f=+f,p=p>>>0,O||fe(S,f,p,8),r.write(S,f,p,E,52,8),p+8}l.prototype.writeDoubleLE=function(f,p,E){return ke(this,f,p,!0,E)},l.prototype.writeDoubleBE=function(f,p,E){return ke(this,f,p,!1,E)},l.prototype.copy=function(f,p,E,O){if(!l.isBuffer(f))throw new TypeError("argument should be a Buffer");if(E||(E=0),!O&&O!==0&&(O=this.length),p>=f.length&&(p=f.length),p||(p=0),O>0&&O<E&&(O=E),O===E||f.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),f.length-p<O-E&&(O=f.length-p+E);var _=O-E;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,E,O):Uint8Array.prototype.set.call(f,this.subarray(E,O),p),_},l.prototype.fill=function(f,p,E,O){if(typeof f=="string"){if(typeof p=="string"?(O=p,p=0,E=this.length):typeof E=="string"&&(O=E,E=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!l.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(f.length===1){var _=f.charCodeAt(0);(O==="utf8"&&_<128||O==="latin1")&&(f=_)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(p<0||this.length<p||this.length<E)throw new RangeError("Out of range index");if(E<=p)return this;p=p>>>0,E=E===void 0?this.length:E>>>0,f||(f=0);var ie;if(typeof f=="number")for(ie=p;ie<E;++ie)this[ie]=f;else{var he=l.isBuffer(f)?f:l.from(f,O),we=he.length;if(we===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(ie=0;ie<E-p;++ie)this[ie+p]=he[ie%we]}return this};var xe=/[^+/0-9A-Za-z-_]/g;function ye(S){if(S=S.split("=")[0],S=S.trim().replace(xe,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function pe(S,f){f=f||1/0;for(var p,E=S.length,O=null,_=[],ie=0;ie<E;++ie){if(p=S.charCodeAt(ie),p>55295&&p<57344){if(!O){if(p>56319){(f-=3)>-1&&_.push(239,191,189);continue}else if(ie+1===E){(f-=3)>-1&&_.push(239,191,189);continue}O=p;continue}if(p<56320){(f-=3)>-1&&_.push(239,191,189),O=p;continue}p=(O-55296<<10|p-56320)+65536}else O&&(f-=3)>-1&&_.push(239,191,189);if(O=null,p<128){if((f-=1)<0)break;_.push(p)}else if(p<2048){if((f-=2)<0)break;_.push(p>>6|192,p&63|128)}else if(p<65536){if((f-=3)<0)break;_.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((f-=4)<0)break;_.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return _}function me(S){for(var f=[],p=0;p<S.length;++p)f.push(S.charCodeAt(p)&255);return f}function M(S,f){for(var p,E,O,_=[],ie=0;ie<S.length&&!((f-=2)<0);++ie)p=S.charCodeAt(ie),E=p>>8,O=p%256,_.push(O),_.push(E);return _}function q(S){return t.toByteArray(ye(S))}function L(S,f,p,E){for(var O=0;O<E&&!(O+p>=f.length||O>=S.length);++O)f[O+p]=S[O];return O}function re(S,f){return S instanceof f||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===f.name}function Z(S){return S!==S}var D=function(){for(var S="0123456789abcdef",f=new Array(256),p=0;p<16;++p)for(var E=p*16,O=0;O<16;++O)f[E+O]=S[p]+S[O];return f}()})(ol);var db={exports:{}};(function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,o=Math.floor,a="[BigNumber Error] ",l=a+"Number primitive has more than 15 significant digits: ",c=1e14,d=14,b=9007199254740991,x=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],m=1e7,h=1e9;function y(B){var R,H,X,$=F.prototype={constructor:F,toString:null,valueOf:null},Y=new F(1),J=20,A=4,U=-7,V=21,K=-1e7,te=1e7,Q=!1,ne=1,ue=0,de={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},le="0123456789abcdefghijklmnopqrstuvwxyz",fe=!0;function F(M,q){var L,re,Z,D,S,f,p,E,O=this;if(!(O instanceof F))return new F(M,q);if(q==null){if(M&&M._isBigNumber===!0){O.s=M.s,!M.c||M.e>te?O.c=O.e=null:M.e<K?O.c=[O.e=0]:(O.e=M.e,O.c=M.c.slice());return}if((f=typeof M=="number")&&M*0==0){if(O.s=1/M<0?(M=-M,-1):1,M===~~M){for(D=0,S=M;S>=10;S/=10,D++);D>te?O.c=O.e=null:(O.e=D,O.c=[M]);return}E=String(M)}else{if(!n.test(E=String(M)))return X(O,E,f);O.s=E.charCodeAt(0)==45?(E=E.slice(1),-1):1}(D=E.indexOf("."))>-1&&(E=E.replace(".","")),(S=E.search(/e/i))>0?(D<0&&(D=S),D+=+E.slice(S+1),E=E.substring(0,S)):D<0&&(D=E.length)}else{if(k(q,2,le.length,"Base"),q==10&&fe)return O=new F(M),pe(O,J+O.e+1,A);if(E=String(M),f=typeof M=="number"){if(M*0!=0)return X(O,E,f,q);if(O.s=1/M<0?(E=E.slice(1),-1):1,F.DEBUG&&E.replace(/^0\.0*|\./,"").length>15)throw Error(l+M)}else O.s=E.charCodeAt(0)===45?(E=E.slice(1),-1):1;for(L=le.slice(0,q),D=S=0,p=E.length;S<p;S++)if(L.indexOf(re=E.charAt(S))<0){if(re=="."){if(S>D){D=p;continue}}else if(!Z&&(E==E.toUpperCase()&&(E=E.toLowerCase())||E==E.toLowerCase()&&(E=E.toUpperCase()))){Z=!0,S=-1,D=0;continue}return X(O,String(M),f,q)}f=!1,E=H(E,q,10,O.s),(D=E.indexOf("."))>-1?E=E.replace(".",""):D=E.length}for(S=0;E.charCodeAt(S)===48;S++);for(p=E.length;E.charCodeAt(--p)===48;);if(E=E.slice(S,++p)){if(p-=S,f&&F.DEBUG&&p>15&&(M>b||M!==o(M)))throw Error(l+O.s*M);if((D=D-S-1)>te)O.c=O.e=null;else if(D<K)O.c=[O.e=0];else{if(O.e=D,O.c=[],S=(D+1)%d,D<0&&(S+=d),S<p){for(S&&O.c.push(+E.slice(0,S)),p-=d;S<p;)O.c.push(+E.slice(S,S+=d));S=d-(E=E.slice(S)).length}else S-=p;for(;S--;E+="0");O.c.push(+E)}}else O.c=[O.e=0]}F.clone=y,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(M){var q,L;if(M!=null)if(typeof M=="object"){if(M.hasOwnProperty(q="DECIMAL_PLACES")&&(L=M[q],k(L,0,h,q),J=L),M.hasOwnProperty(q="ROUNDING_MODE")&&(L=M[q],k(L,0,8,q),A=L),M.hasOwnProperty(q="EXPONENTIAL_AT")&&(L=M[q],L&&L.pop?(k(L[0],-h,0,q),k(L[1],0,h,q),U=L[0],V=L[1]):(k(L,-h,h,q),U=-(V=L<0?-L:L))),M.hasOwnProperty(q="RANGE"))if(L=M[q],L&&L.pop)k(L[0],-h,-1,q),k(L[1],1,h,q),K=L[0],te=L[1];else if(k(L,-h,h,q),L)K=-(te=L<0?-L:L);else throw Error(a+q+" cannot be zero: "+L);if(M.hasOwnProperty(q="CRYPTO"))if(L=M[q],L===!!L)if(L)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Q=L;else throw Q=!L,Error(a+"crypto unavailable");else Q=L;else throw Error(a+q+" not true or false: "+L);if(M.hasOwnProperty(q="MODULO_MODE")&&(L=M[q],k(L,0,9,q),ne=L),M.hasOwnProperty(q="POW_PRECISION")&&(L=M[q],k(L,0,h,q),ue=L),M.hasOwnProperty(q="FORMAT"))if(L=M[q],typeof L=="object")de=L;else throw Error(a+q+" not an object: "+L);if(M.hasOwnProperty(q="ALPHABET"))if(L=M[q],typeof L=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(L))fe=L.slice(0,10)=="0123456789",le=L;else throw Error(a+q+" invalid: "+L)}else throw Error(a+"Object expected: "+M);return{DECIMAL_PLACES:J,ROUNDING_MODE:A,EXPONENTIAL_AT:[U,V],RANGE:[K,te],CRYPTO:Q,MODULO_MODE:ne,POW_PRECISION:ue,FORMAT:de,ALPHABET:le}},F.isBigNumber=function(M){if(!M||M._isBigNumber!==!0)return!1;if(!F.DEBUG)return!0;var q,L,re=M.c,Z=M.e,D=M.s;e:if({}.toString.call(re)=="[object Array]"){if((D===1||D===-1)&&Z>=-h&&Z<=h&&Z===o(Z)){if(re[0]===0){if(Z===0&&re.length===1)return!0;break e}if(q=(Z+1)%d,q<1&&(q+=d),String(re[0]).length==q){for(q=0;q<re.length;q++)if(L=re[q],L<0||L>=c||L!==o(L))break e;if(L!==0)return!0}}}else if(re===null&&Z===null&&(D===null||D===1||D===-1))return!0;throw Error(a+"Invalid BigNumber: "+M)},F.maximum=F.max=function(){return xe(arguments,-1)},F.minimum=F.min=function(){return xe(arguments,1)},F.random=function(){var M=9007199254740992,q=Math.random()*M&2097151?function(){return o(Math.random()*M)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(L){var re,Z,D,S,f,p=0,E=[],O=new F(Y);if(L==null?L=J:k(L,0,h),S=s(L/d),Q)if(crypto.getRandomValues){for(re=crypto.getRandomValues(new Uint32Array(S*=2));p<S;)f=re[p]*131072+(re[p+1]>>>11),f>=9e15?(Z=crypto.getRandomValues(new Uint32Array(2)),re[p]=Z[0],re[p+1]=Z[1]):(E.push(f%1e14),p+=2);p=S/2}else if(crypto.randomBytes){for(re=crypto.randomBytes(S*=7);p<S;)f=(re[p]&31)*281474976710656+re[p+1]*1099511627776+re[p+2]*4294967296+re[p+3]*16777216+(re[p+4]<<16)+(re[p+5]<<8)+re[p+6],f>=9e15?crypto.randomBytes(7).copy(re,p):(E.push(f%1e14),p+=7);p=S/7}else throw Q=!1,Error(a+"crypto unavailable");if(!Q)for(;p<S;)f=q(),f<9e15&&(E[p++]=f%1e14);for(S=E[--p],L%=d,S&&L&&(f=x[d-L],E[p]=o(S/f)*f);E[p]===0;E.pop(),p--);if(p<0)E=[D=0];else{for(D=-1;E[0]===0;E.splice(0,1),D-=d);for(p=1,f=E[0];f>=10;f/=10,p++);p<d&&(D-=d-p)}return O.e=D,O.c=E,O}}(),F.sum=function(){for(var M=1,q=arguments,L=new F(q[0]);M<q.length;)L=L.plus(q[M++]);return L},H=function(){var M="0123456789";function q(L,re,Z,D){for(var S,f=[0],p,E=0,O=L.length;E<O;){for(p=f.length;p--;f[p]*=re);for(f[0]+=D.indexOf(L.charAt(E++)),S=0;S<f.length;S++)f[S]>Z-1&&(f[S+1]==null&&(f[S+1]=0),f[S+1]+=f[S]/Z|0,f[S]%=Z)}return f.reverse()}return function(L,re,Z,D,S){var f,p,E,O,_,ie,he,we,z=L.indexOf("."),ee=J,v=A;for(z>=0&&(O=ue,ue=0,L=L.replace(".",""),we=new F(re),ie=we.pow(L.length-z),ue=O,we.c=q(C(W(ie.c),ie.e,"0"),10,Z,M),we.e=we.c.length),he=q(L,re,Z,S?(f=le,M):(f=M,le)),E=O=he.length;he[--O]==0;he.pop());if(!he[0])return f.charAt(0);if(z<0?--E:(ie.c=he,ie.e=E,ie.s=D,ie=R(ie,we,ee,v,Z),he=ie.c,_=ie.r,E=ie.e),p=E+ee+1,z=he[p],O=Z/2,_=_||p<0||he[p+1]!=null,_=v<4?(z!=null||_)&&(v==0||v==(ie.s<0?3:2)):z>O||z==O&&(v==4||_||v==6&&he[p-1]&1||v==(ie.s<0?8:7)),p<1||!he[0])L=_?C(f.charAt(1),-ee,f.charAt(0)):f.charAt(0);else{if(he.length=p,_)for(--Z;++he[--p]>Z;)he[p]=0,p||(++E,he=[1].concat(he));for(O=he.length;!he[--O];);for(z=0,L="";z<=O;L+=f.charAt(he[z++]));L=C(L,E,f.charAt(0))}return L}}(),R=function(){function M(re,Z,D){var S,f,p,E,O=0,_=re.length,ie=Z%m,he=Z/m|0;for(re=re.slice();_--;)p=re[_]%m,E=re[_]/m|0,S=he*p+E*ie,f=ie*p+S%m*m+O,O=(f/D|0)+(S/m|0)+he*E,re[_]=f%D;return O&&(re=[O].concat(re)),re}function q(re,Z,D,S){var f,p;if(D!=S)p=D>S?1:-1;else for(f=p=0;f<D;f++)if(re[f]!=Z[f]){p=re[f]>Z[f]?1:-1;break}return p}function L(re,Z,D,S){for(var f=0;D--;)re[D]-=f,f=re[D]<Z[D]?1:0,re[D]=f*S+re[D]-Z[D];for(;!re[0]&&re.length>1;re.splice(0,1));}return function(re,Z,D,S,f){var p,E,O,_,ie,he,we,z,ee,v,u,g,I,se,ce,ae,Te,Re=re.s==Z.s?1:-1,Be=re.c,Ce=Z.c;if(!Be||!Be[0]||!Ce||!Ce[0])return new F(!re.s||!Z.s||(Be?Ce&&Be[0]==Ce[0]:!Ce)?NaN:Be&&Be[0]==0||!Ce?Re*0:Re/0);for(z=new F(Re),ee=z.c=[],E=re.e-Z.e,Re=D+E+1,f||(f=c,E=N(re.e/d)-N(Z.e/d),Re=Re/d|0),O=0;Ce[O]==(Be[O]||0);O++);if(Ce[O]>(Be[O]||0)&&E--,Re<0)ee.push(1),_=!0;else{for(se=Be.length,ae=Ce.length,O=0,Re+=2,ie=o(f/(Ce[0]+1)),ie>1&&(Ce=M(Ce,ie,f),Be=M(Be,ie,f),ae=Ce.length,se=Be.length),I=ae,v=Be.slice(0,ae),u=v.length;u<ae;v[u++]=0);Te=Ce.slice(),Te=[0].concat(Te),ce=Ce[0],Ce[1]>=f/2&&ce++;do{if(ie=0,p=q(Ce,v,ae,u),p<0){if(g=v[0],ae!=u&&(g=g*f+(v[1]||0)),ie=o(g/ce),ie>1)for(ie>=f&&(ie=f-1),he=M(Ce,ie,f),we=he.length,u=v.length;q(he,v,we,u)==1;)ie--,L(he,ae<we?Te:Ce,we,f),we=he.length,p=1;else ie==0&&(p=ie=1),he=Ce.slice(),we=he.length;if(we<u&&(he=[0].concat(he)),L(v,he,u,f),u=v.length,p==-1)for(;q(Ce,v,ae,u)<1;)ie++,L(v,ae<u?Te:Ce,u,f),u=v.length}else p===0&&(ie++,v=[0]);ee[O++]=ie,v[0]?v[u++]=Be[I]||0:(v=[Be[I]],u=1)}while((I++<se||v[0]!=null)&&Re--);_=v[0]!=null,ee[0]||ee.splice(0,1)}if(f==c){for(O=1,Re=ee[0];Re>=10;Re/=10,O++);pe(z,D+(z.e=O+E*d-1)+1,S,_)}else z.e=E,z.r=+_;return z}}();function ke(M,q,L,re){var Z,D,S,f,p;if(L==null?L=A:k(L,0,8),!M.c)return M.toString();if(Z=M.c[0],S=M.e,q==null)p=W(M.c),p=re==1||re==2&&(S<=U||S>=V)?P(p,S):C(p,S,"0");else if(M=pe(new F(M),q,L),D=M.e,p=W(M.c),f=p.length,re==1||re==2&&(q<=D||D<=U)){for(;f<q;p+="0",f++);p=P(p,D)}else if(q-=S+(re===2&&D>S),p=C(p,D,"0"),D+1>f){if(--q>0)for(p+=".";q--;p+="0");}else if(q+=D-f,q>0)for(D+1==f&&(p+=".");q--;p+="0");return M.s<0&&Z?"-"+p:p}function xe(M,q){for(var L,re,Z=1,D=new F(M[0]);Z<M.length;Z++)re=new F(M[Z]),(!re.s||(L=w(D,re))===q||L===0&&D.s===q)&&(D=re);return D}function ye(M,q,L){for(var re=1,Z=q.length;!q[--Z];q.pop());for(Z=q[0];Z>=10;Z/=10,re++);return(L=re+L*d-1)>te?M.c=M.e=null:L<K?M.c=[M.e=0]:(M.e=L,M.c=q),M}X=function(){var M=/^(-?)0([xbo])(?=\w[\w.]*$)/i,q=/^([^.]+)\.$/,L=/^\.([^.]+)$/,re=/^-?(Infinity|NaN)$/,Z=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(D,S,f,p){var E,O=f?S:S.replace(Z,"");if(re.test(O))D.s=isNaN(O)?null:O<0?-1:1;else{if(!f&&(O=O.replace(M,function(_,ie,he){return E=(he=he.toLowerCase())=="x"?16:he=="b"?2:8,!p||p==E?ie:_}),p&&(E=p,O=O.replace(q,"$1").replace(L,"0.$1")),S!=O))return new F(O,E);if(F.DEBUG)throw Error(a+"Not a"+(p?" base "+p:"")+" number: "+S);D.s=null}D.c=D.e=null}}();function pe(M,q,L,re){var Z,D,S,f,p,E,O,_=M.c,ie=x;if(_){e:{for(Z=1,f=_[0];f>=10;f/=10,Z++);if(D=q-Z,D<0)D+=d,S=q,p=_[E=0],O=o(p/ie[Z-S-1]%10);else if(E=s((D+1)/d),E>=_.length)if(re){for(;_.length<=E;_.push(0));p=O=0,Z=1,D%=d,S=D-d+1}else break e;else{for(p=f=_[E],Z=1;f>=10;f/=10,Z++);D%=d,S=D-d+Z,O=S<0?0:o(p/ie[Z-S-1]%10)}if(re=re||q<0||_[E+1]!=null||(S<0?p:p%ie[Z-S-1]),re=L<4?(O||re)&&(L==0||L==(M.s<0?3:2)):O>5||O==5&&(L==4||re||L==6&&(D>0?S>0?p/ie[Z-S]:0:_[E-1])%10&1||L==(M.s<0?8:7)),q<1||!_[0])return _.length=0,re?(q-=M.e+1,_[0]=ie[(d-q%d)%d],M.e=-q||0):_[0]=M.e=0,M;if(D==0?(_.length=E,f=1,E--):(_.length=E+1,f=ie[d-D],_[E]=S>0?o(p/ie[Z-S]%ie[S])*f:0),re)for(;;)if(E==0){for(D=1,S=_[0];S>=10;S/=10,D++);for(S=_[0]+=f,f=1;S>=10;S/=10,f++);D!=f&&(M.e++,_[0]==c&&(_[0]=1));break}else{if(_[E]+=f,_[E]!=c)break;_[E--]=0,f=1}for(D=_.length;_[--D]===0;_.pop());}M.e>te?M.c=M.e=null:M.e<K&&(M.c=[M.e=0])}return M}function me(M){var q,L=M.e;return L===null?M.toString():(q=W(M.c),q=L<=U||L>=V?P(q,L):C(q,L,"0"),M.s<0?"-"+q:q)}return $.absoluteValue=$.abs=function(){var M=new F(this);return M.s<0&&(M.s=1),M},$.comparedTo=function(M,q){return w(this,new F(M,q))},$.decimalPlaces=$.dp=function(M,q){var L,re,Z,D=this;if(M!=null)return k(M,0,h),q==null?q=A:k(q,0,8),pe(new F(D),M+D.e+1,q);if(!(L=D.c))return null;if(re=((Z=L.length-1)-N(this.e/d))*d,Z=L[Z])for(;Z%10==0;Z/=10,re--);return re<0&&(re=0),re},$.dividedBy=$.div=function(M,q){return R(this,new F(M,q),J,A)},$.dividedToIntegerBy=$.idiv=function(M,q){return R(this,new F(M,q),0,1)},$.exponentiatedBy=$.pow=function(M,q){var L,re,Z,D,S,f,p,E,O,_=this;if(M=new F(M),M.c&&!M.isInteger())throw Error(a+"Exponent not an integer: "+me(M));if(q!=null&&(q=new F(q)),f=M.e>14,!_.c||!_.c[0]||_.c[0]==1&&!_.e&&_.c.length==1||!M.c||!M.c[0])return O=new F(Math.pow(+me(_),f?M.s*(2-j(M)):+me(M))),q?O.mod(q):O;if(p=M.s<0,q){if(q.c?!q.c[0]:!q.s)return new F(NaN);re=!p&&_.isInteger()&&q.isInteger(),re&&(_=_.mod(q))}else{if(M.e>9&&(_.e>0||_.e<-1||(_.e==0?_.c[0]>1||f&&_.c[1]>=24e7:_.c[0]<8e13||f&&_.c[0]<=9999975e7)))return D=_.s<0&&j(M)?-0:0,_.e>-1&&(D=1/D),new F(p?1/D:D);ue&&(D=s(ue/d+2))}for(f?(L=new F(.5),p&&(M.s=1),E=j(M)):(Z=Math.abs(+me(M)),E=Z%2),O=new F(Y);;){if(E){if(O=O.times(_),!O.c)break;D?O.c.length>D&&(O.c.length=D):re&&(O=O.mod(q))}if(Z){if(Z=o(Z/2),Z===0)break;E=Z%2}else if(M=M.times(L),pe(M,M.e+1,1),M.e>14)E=j(M);else{if(Z=+me(M),Z===0)break;E=Z%2}_=_.times(_),D?_.c&&_.c.length>D&&(_.c.length=D):re&&(_=_.mod(q))}return re?O:(p&&(O=Y.div(O)),q?O.mod(q):D?pe(O,ue,A,S):O)},$.integerValue=function(M){var q=new F(this);return M==null?M=A:k(M,0,8),pe(q,q.e+1,M)},$.isEqualTo=$.eq=function(M,q){return w(this,new F(M,q))===0},$.isFinite=function(){return!!this.c},$.isGreaterThan=$.gt=function(M,q){return w(this,new F(M,q))>0},$.isGreaterThanOrEqualTo=$.gte=function(M,q){return(q=w(this,new F(M,q)))===1||q===0},$.isInteger=function(){return!!this.c&&N(this.e/d)>this.c.length-2},$.isLessThan=$.lt=function(M,q){return w(this,new F(M,q))<0},$.isLessThanOrEqualTo=$.lte=function(M,q){return(q=w(this,new F(M,q)))===-1||q===0},$.isNaN=function(){return!this.s},$.isNegative=function(){return this.s<0},$.isPositive=function(){return this.s>0},$.isZero=function(){return!!this.c&&this.c[0]==0},$.minus=function(M,q){var L,re,Z,D,S=this,f=S.s;if(M=new F(M,q),q=M.s,!f||!q)return new F(NaN);if(f!=q)return M.s=-q,S.plus(M);var p=S.e/d,E=M.e/d,O=S.c,_=M.c;if(!p||!E){if(!O||!_)return O?(M.s=-q,M):new F(_?S:NaN);if(!O[0]||!_[0])return _[0]?(M.s=-q,M):new F(O[0]?S:A==3?-0:0)}if(p=N(p),E=N(E),O=O.slice(),f=p-E){for((D=f<0)?(f=-f,Z=O):(E=p,Z=_),Z.reverse(),q=f;q--;Z.push(0));Z.reverse()}else for(re=(D=(f=O.length)<(q=_.length))?f:q,f=q=0;q<re;q++)if(O[q]!=_[q]){D=O[q]<_[q];break}if(D&&(Z=O,O=_,_=Z,M.s=-M.s),q=(re=_.length)-(L=O.length),q>0)for(;q--;O[L++]=0);for(q=c-1;re>f;){if(O[--re]<_[re]){for(L=re;L&&!O[--L];O[L]=q);--O[L],O[re]+=c}O[re]-=_[re]}for(;O[0]==0;O.splice(0,1),--E);return O[0]?ye(M,O,E):(M.s=A==3?-1:1,M.c=[M.e=0],M)},$.modulo=$.mod=function(M,q){var L,re,Z=this;return M=new F(M,q),!Z.c||!M.s||M.c&&!M.c[0]?new F(NaN):!M.c||Z.c&&!Z.c[0]?new F(Z):(ne==9?(re=M.s,M.s=1,L=R(Z,M,0,3),M.s=re,L.s*=re):L=R(Z,M,0,ne),M=Z.minus(L.times(M)),!M.c[0]&&ne==1&&(M.s=Z.s),M)},$.multipliedBy=$.times=function(M,q){var L,re,Z,D,S,f,p,E,O,_,ie,he,we,z,ee,v=this,u=v.c,g=(M=new F(M,q)).c;if(!u||!g||!u[0]||!g[0])return!v.s||!M.s||u&&!u[0]&&!g||g&&!g[0]&&!u?M.c=M.e=M.s=null:(M.s*=v.s,!u||!g?M.c=M.e=null:(M.c=[0],M.e=0)),M;for(re=N(v.e/d)+N(M.e/d),M.s*=v.s,p=u.length,_=g.length,p<_&&(we=u,u=g,g=we,Z=p,p=_,_=Z),Z=p+_,we=[];Z--;we.push(0));for(z=c,ee=m,Z=_;--Z>=0;){for(L=0,ie=g[Z]%ee,he=g[Z]/ee|0,S=p,D=Z+S;D>Z;)E=u[--S]%ee,O=u[S]/ee|0,f=he*E+O*ie,E=ie*E+f%ee*ee+we[D]+L,L=(E/z|0)+(f/ee|0)+he*O,we[D--]=E%z;we[D]=L}return L?++re:we.splice(0,1),ye(M,we,re)},$.negated=function(){var M=new F(this);return M.s=-M.s||null,M},$.plus=function(M,q){var L,re=this,Z=re.s;if(M=new F(M,q),q=M.s,!Z||!q)return new F(NaN);if(Z!=q)return M.s=-q,re.minus(M);var D=re.e/d,S=M.e/d,f=re.c,p=M.c;if(!D||!S){if(!f||!p)return new F(Z/0);if(!f[0]||!p[0])return p[0]?M:new F(f[0]?re:Z*0)}if(D=N(D),S=N(S),f=f.slice(),Z=D-S){for(Z>0?(S=D,L=p):(Z=-Z,L=f),L.reverse();Z--;L.push(0));L.reverse()}for(Z=f.length,q=p.length,Z-q<0&&(L=p,p=f,f=L,q=Z),Z=0;q;)Z=(f[--q]=f[q]+p[q]+Z)/c|0,f[q]=c===f[q]?0:f[q]%c;return Z&&(f=[Z].concat(f),++S),ye(M,f,S)},$.precision=$.sd=function(M,q){var L,re,Z,D=this;if(M!=null&&M!==!!M)return k(M,1,h),q==null?q=A:k(q,0,8),pe(new F(D),M,q);if(!(L=D.c))return null;if(Z=L.length-1,re=Z*d+1,Z=L[Z]){for(;Z%10==0;Z/=10,re--);for(Z=L[0];Z>=10;Z/=10,re++);}return M&&D.e+1>re&&(re=D.e+1),re},$.shiftedBy=function(M){return k(M,-b,b),this.times("1e"+M)},$.squareRoot=$.sqrt=function(){var M,q,L,re,Z,D=this,S=D.c,f=D.s,p=D.e,E=J+4,O=new F("0.5");if(f!==1||!S||!S[0])return new F(!f||f<0&&(!S||S[0])?NaN:S?D:1/0);if(f=Math.sqrt(+me(D)),f==0||f==1/0?(q=W(S),(q.length+p)%2==0&&(q+="0"),f=Math.sqrt(+q),p=N((p+1)/2)-(p<0||p%2),f==1/0?q="5e"+p:(q=f.toExponential(),q=q.slice(0,q.indexOf("e")+1)+p),L=new F(q)):L=new F(f+""),L.c[0]){for(p=L.e,f=p+E,f<3&&(f=0);;)if(Z=L,L=O.times(Z.plus(R(D,Z,E,1))),W(Z.c).slice(0,f)===(q=W(L.c)).slice(0,f))if(L.e<p&&--f,q=q.slice(f-3,f+1),q=="9999"||!re&&q=="4999"){if(!re&&(pe(Z,Z.e+J+2,0),Z.times(Z).eq(D))){L=Z;break}E+=4,f+=4,re=1}else{(!+q||!+q.slice(1)&&q.charAt(0)=="5")&&(pe(L,L.e+J+2,1),M=!L.times(L).eq(D));break}}return pe(L,L.e+J+1,A,M)},$.toExponential=function(M,q){return M!=null&&(k(M,0,h),M++),ke(this,M,q,1)},$.toFixed=function(M,q){return M!=null&&(k(M,0,h),M=M+this.e+1),ke(this,M,q)},$.toFormat=function(M,q,L){var re,Z=this;if(L==null)M!=null&&q&&typeof q=="object"?(L=q,q=null):M&&typeof M=="object"?(L=M,M=q=null):L=de;else if(typeof L!="object")throw Error(a+"Argument not an object: "+L);if(re=Z.toFixed(M,q),Z.c){var D,S=re.split("."),f=+L.groupSize,p=+L.secondaryGroupSize,E=L.groupSeparator||"",O=S[0],_=S[1],ie=Z.s<0,he=ie?O.slice(1):O,we=he.length;if(p&&(D=f,f=p,p=D,we-=D),f>0&&we>0){for(D=we%f||f,O=he.substr(0,D);D<we;D+=f)O+=E+he.substr(D,f);p>0&&(O+=E+he.slice(D)),ie&&(O="-"+O)}re=_?O+(L.decimalSeparator||"")+((p=+L.fractionGroupSize)?_.replace(new RegExp("\\d{"+p+"}\\B","g"),"$&"+(L.fractionGroupSeparator||"")):_):O}return(L.prefix||"")+re+(L.suffix||"")},$.toFraction=function(M){var q,L,re,Z,D,S,f,p,E,O,_,ie,he=this,we=he.c;if(M!=null&&(f=new F(M),!f.isInteger()&&(f.c||f.s!==1)||f.lt(Y)))throw Error(a+"Argument "+(f.isInteger()?"out of range: ":"not an integer: ")+me(f));if(!we)return new F(he);for(q=new F(Y),E=L=new F(Y),re=p=new F(Y),ie=W(we),D=q.e=ie.length-he.e-1,q.c[0]=x[(S=D%d)<0?d+S:S],M=!M||f.comparedTo(q)>0?D>0?q:E:f,S=te,te=1/0,f=new F(ie),p.c[0]=0;O=R(f,q,0,1),Z=L.plus(O.times(re)),Z.comparedTo(M)!=1;)L=re,re=Z,E=p.plus(O.times(Z=E)),p=Z,q=f.minus(O.times(Z=q)),f=Z;return Z=R(M.minus(L),re,0,1),p=p.plus(Z.times(E)),L=L.plus(Z.times(re)),p.s=E.s=he.s,D=D*2,_=R(E,re,D,A).minus(he).abs().comparedTo(R(p,L,D,A).minus(he).abs())<1?[E,re]:[p,L],te=S,_},$.toNumber=function(){return+me(this)},$.toPrecision=function(M,q){return M!=null&&k(M,1,h),ke(this,M,q,2)},$.toString=function(M){var q,L=this,re=L.s,Z=L.e;return Z===null?re?(q="Infinity",re<0&&(q="-"+q)):q="NaN":(M==null?q=Z<=U||Z>=V?P(W(L.c),Z):C(W(L.c),Z,"0"):M===10&&fe?(L=pe(new F(L),J+Z+1,A),q=C(W(L.c),L.e,"0")):(k(M,2,le.length,"Base"),q=H(C(W(L.c),Z,"0"),10,M,re,!0)),re<0&&L.c[0]&&(q="-"+q)),q},$.valueOf=$.toJSON=function(){return me(this)},$._isBigNumber=!0,B!=null&&F.set(B),F}function N(B){var R=B|0;return B>0||B===R?R:R-1}function W(B){for(var R,H,X=1,$=B.length,Y=B[0]+"";X<$;){for(R=B[X++]+"",H=d-R.length;H--;R="0"+R);Y+=R}for($=Y.length;Y.charCodeAt(--$)===48;);return Y.slice(0,$+1||1)}function w(B,R){var H,X,$=B.c,Y=R.c,J=B.s,A=R.s,U=B.e,V=R.e;if(!J||!A)return null;if(H=$&&!$[0],X=Y&&!Y[0],H||X)return H?X?0:-A:J;if(J!=A)return J;if(H=J<0,X=U==V,!$||!Y)return X?0:!$^H?1:-1;if(!X)return U>V^H?1:-1;for(A=(U=$.length)<(V=Y.length)?U:V,J=0;J<A;J++)if($[J]!=Y[J])return $[J]>Y[J]^H?1:-1;return U==V?0:U>V^H?1:-1}function k(B,R,H,X){if(B<R||B>H||B!==o(B))throw Error(a+(X||"Argument")+(typeof B=="number"?B<R||B>H?" out of range: ":" not an integer: ":" not a primitive number: ")+String(B))}function j(B){var R=B.c.length-1;return N(B.e/d)==R&&B.c[R]%2!=0}function P(B,R){return(B.length>1?B.charAt(0)+"."+B.slice(1):B)+(R<0?"e":"e+")+R}function C(B,R,H){var X,$;if(R<0){for($=H+".";++R;$+=H);B=$+B}else if(X=B.length,++R>X){for($=H,R-=X;--R;$+=H);B+=$}else R<X&&(B=B.slice(0,R)+"."+B.slice(R));return B}r=y(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(ni)})(db);var Hd=db.exports,g4=function(t,r,n){var s=new t.Uint8Array(n),o=r.pushInt,a=r.pushInt32,l=r.pushInt32Neg,c=r.pushInt64,d=r.pushInt64Neg,b=r.pushFloat,x=r.pushFloatSingle,m=r.pushFloatDouble,h=r.pushTrue,y=r.pushFalse,N=r.pushUndefined,W=r.pushNull,w=r.pushInfinity,k=r.pushInfinityNeg,j=r.pushNaN,P=r.pushNaNNeg,C=r.pushArrayStart,B=r.pushArrayStartFixed,R=r.pushArrayStartFixed32,H=r.pushArrayStartFixed64,X=r.pushObjectStart,$=r.pushObjectStartFixed,Y=r.pushObjectStartFixed32,J=r.pushObjectStartFixed64,A=r.pushByteString,U=r.pushByteStringStart,V=r.pushUtf8String,K=r.pushUtf8StringStart,te=r.pushSimpleUnassigned,Q=r.pushTagStart,ne=r.pushTagStart4,ue=r.pushTagStart8,de=r.pushTagUnassigned,le=r.pushBreak,fe=t.Math.pow,F=0,ke=0,xe=0;function ye(oe){for(oe=oe|0,F=0,ke=oe;(F|0)<(ke|0)&&(xe=au[s[F]&255](s[F]|0)|0,!((xe|0)>0)););return xe|0}function pe(oe){return oe=oe|0,((F|0)+(oe|0)|0)<(ke|0)?0:1}function me(oe){return oe=oe|0,s[oe|0]<<8|s[oe+1|0]|0}function M(oe){return oe=oe|0,s[oe|0]<<24|s[oe+1|0]<<16|s[oe+2|0]<<8|s[oe+3|0]|0}function q(oe){return oe=oe|0,o(oe|0),F=F+1|0,0}function L(oe){return oe=oe|0,pe(1)|0?1:(o(s[F+1|0]|0),F=F+2|0,0)}function re(oe){return oe=oe|0,pe(2)|0?1:(o(me(F+1|0)|0),F=F+3|0,0)}function Z(oe){return oe=oe|0,pe(4)|0?1:(a(me(F+1|0)|0,me(F+3|0)|0),F=F+5|0,0)}function D(oe){return oe=oe|0,pe(8)|0?1:(c(me(F+1|0)|0,me(F+3|0)|0,me(F+5|0)|0,me(F+7|0)|0),F=F+9|0,0)}function S(oe){return oe=oe|0,o(-1-(oe-32|0)|0),F=F+1|0,0}function f(oe){return oe=oe|0,pe(1)|0?1:(o(-1-(s[F+1|0]|0)|0),F=F+2|0,0)}function p(oe){oe=oe|0;var Me=0;return pe(2)|0?1:(Me=me(F+1|0)|0,o(-1-(Me|0)|0),F=F+3|0,0)}function E(oe){return oe=oe|0,pe(4)|0?1:(l(me(F+1|0)|0,me(F+3|0)|0),F=F+5|0,0)}function O(oe){return oe=oe|0,pe(8)|0?1:(d(me(F+1|0)|0,me(F+3|0)|0,me(F+5|0)|0,me(F+7|0)|0),F=F+9|0,0)}function _(oe){oe=oe|0;var Me=0,Ue=0,Pe=0;return Pe=oe-64|0,pe(Pe|0)|0?1:(Me=F+1|0,Ue=(F+1|0)+(Pe|0)|0,A(Me|0,Ue|0),F=Ue|0,0)}function ie(oe){oe=oe|0;var Me=0,Ue=0,Pe=0;return pe(1)|0||(Pe=s[F+1|0]|0,Me=F+2|0,Ue=(F+2|0)+(Pe|0)|0,pe(Pe+1|0)|0)?1:(A(Me|0,Ue|0),F=Ue|0,0)}function he(oe){oe=oe|0;var Me=0,Ue=0,Pe=0;return pe(2)|0||(Pe=me(F+1|0)|0,Me=F+3|0,Ue=(F+3|0)+(Pe|0)|0,pe(Pe+2|0)|0)?1:(A(Me|0,Ue|0),F=Ue|0,0)}function we(oe){oe=oe|0;var Me=0,Ue=0,Pe=0;return pe(4)|0||(Pe=M(F+1|0)|0,Me=F+5|0,Ue=(F+5|0)+(Pe|0)|0,pe(Pe+4|0)|0)?1:(A(Me|0,Ue|0),F=Ue|0,0)}function z(oe){return oe=oe|0,1}function ee(oe){return oe=oe|0,U(),F=F+1|0,0}function v(oe){oe=oe|0;var Me=0,Ue=0,Pe=0;return Pe=oe-96|0,pe(Pe|0)|0?1:(Me=F+1|0,Ue=(F+1|0)+(Pe|0)|0,V(Me|0,Ue|0),F=Ue|0,0)}function u(oe){oe=oe|0;var Me=0,Ue=0,Pe=0;return pe(1)|0||(Pe=s[F+1|0]|0,Me=F+2|0,Ue=(F+2|0)+(Pe|0)|0,pe(Pe+1|0)|0)?1:(V(Me|0,Ue|0),F=Ue|0,0)}function g(oe){oe=oe|0;var Me=0,Ue=0,Pe=0;return pe(2)|0||(Pe=me(F+1|0)|0,Me=F+3|0,Ue=(F+3|0)+(Pe|0)|0,pe(Pe+2|0)|0)?1:(V(Me|0,Ue|0),F=Ue|0,0)}function I(oe){oe=oe|0;var Me=0,Ue=0,Pe=0;return pe(4)|0||(Pe=M(F+1|0)|0,Me=F+5|0,Ue=(F+5|0)+(Pe|0)|0,pe(Pe+4|0)|0)?1:(V(Me|0,Ue|0),F=Ue|0,0)}function se(oe){return oe=oe|0,1}function ce(oe){return oe=oe|0,K(),F=F+1|0,0}function ae(oe){return oe=oe|0,B(oe-128|0),F=F+1|0,0}function Te(oe){return oe=oe|0,pe(1)|0?1:(B(s[F+1|0]|0),F=F+2|0,0)}function Re(oe){return oe=oe|0,pe(2)|0?1:(B(me(F+1|0)|0),F=F+3|0,0)}function Be(oe){return oe=oe|0,pe(4)|0?1:(R(me(F+1|0)|0,me(F+3|0)|0),F=F+5|0,0)}function Ce(oe){return oe=oe|0,pe(8)|0?1:(H(me(F+1|0)|0,me(F+3|0)|0,me(F+5|0)|0,me(F+7|0)|0),F=F+9|0,0)}function $e(oe){return oe=oe|0,C(),F=F+1|0,0}function He(oe){oe=oe|0;var Me=0;return Me=oe-160|0,pe(Me|0)|0?1:($(Me|0),F=F+1|0,0)}function Hn(oe){return oe=oe|0,pe(1)|0?1:($(s[F+1|0]|0),F=F+2|0,0)}function Kr(oe){return oe=oe|0,pe(2)|0?1:($(me(F+1|0)|0),F=F+3|0,0)}function qn(oe){return oe=oe|0,pe(4)|0?1:(Y(me(F+1|0)|0,me(F+3|0)|0),F=F+5|0,0)}function In(oe){return oe=oe|0,pe(8)|0?1:(J(me(F+1|0)|0,me(F+3|0)|0,me(F+5|0)|0,me(F+7|0)|0),F=F+9|0,0)}function Gn(oe){return oe=oe|0,X(),F=F+1|0,0}function zt(oe){return oe=oe|0,Q(oe-192|0|0),F=F+1|0,0}function Ms(oe){return oe=oe|0,Q(oe|0),F=F+1|0,0}function wi(oe){return oe=oe|0,Q(oe|0),F=F+1|0,0}function vi(oe){return oe=oe|0,Q(oe|0),F=F+1|0,0}function Os(oe){return oe=oe|0,Q(oe|0),F=F+1|0,0}function Le(oe){return oe=oe|0,Q(oe-192|0|0),F=F+1|0,0}function $s(oe){return oe=oe|0,Q(oe|0),F=F+1|0,0}function Si(oe){return oe=oe|0,Q(oe|0),F=F+1|0,0}function Us(oe){return oe=oe|0,Q(oe|0),F=F+1|0,0}function G(oe){return oe=oe|0,pe(1)|0?1:(Q(s[F+1|0]|0),F=F+2|0,0)}function Se(oe){return oe=oe|0,pe(2)|0?1:(Q(me(F+1|0)|0),F=F+3|0,0)}function Fe(oe){return oe=oe|0,pe(4)|0?1:(ne(me(F+1|0)|0,me(F+3|0)|0),F=F+5|0,0)}function Ze(oe){return oe=oe|0,pe(8)|0?1:(ue(me(F+1|0)|0,me(F+3|0)|0,me(F+5|0)|0,me(F+7|0)|0),F=F+9|0,0)}function Ae(oe){return oe=oe|0,te((oe|0)-224|0),F=F+1|0,0}function fn(oe){return oe=oe|0,y(),F=F+1|0,0}function ki(oe){return oe=oe|0,h(),F=F+1|0,0}function Yn(oe){return oe=oe|0,W(),F=F+1|0,0}function ou(oe){return oe=oe|0,N(),F=F+1|0,0}function dl(oe){return oe=oe|0,pe(1)|0?1:(te(s[F+1|0]|0),F=F+2|0,0)}function ul(oe){oe=oe|0;var Me=0,Ue=0,Pe=1,ji=0,Fo=0,sp=0;return pe(2)|0?1:(Me=s[F+1|0]|0,Ue=s[F+2|0]|0,(Me|0)&128&&(Pe=-1),ji=+(((Me|0)&124)>>2),Fo=+(((Me|0)&3)<<8|Ue),+ji==0?b(+(+Pe*5960464477539063e-23*+Fo)):+ji==31?+Pe==1?+Fo>0?j():w():+Fo>0?P():k():b(+(+Pe*fe(2,+(+ji-25))*+(1024+Fo))),F=F+3|0,0)}function iu(oe){return oe=oe|0,pe(4)|0?1:(x(s[F+1|0]|0,s[F+2|0]|0,s[F+3|0]|0,s[F+4|0]|0),F=F+5|0,0)}function fl(oe){return oe=oe|0,pe(8)|0?1:(m(s[F+1|0]|0,s[F+2|0]|0,s[F+3|0]|0,s[F+4|0]|0,s[F+5|0]|0,s[F+6|0]|0,s[F+7|0]|0,s[F+8|0]|0),F=F+9|0,0)}function qe(oe){return oe=oe|0,1}function su(oe){return oe=oe|0,le(),F=F+1|0,0}var au=[q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,L,re,Z,D,qe,qe,qe,qe,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,f,p,E,O,qe,qe,qe,qe,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,ie,he,we,z,qe,qe,qe,ee,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,u,g,I,se,qe,qe,qe,ce,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,Te,Re,Be,Ce,qe,qe,qe,$e,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,Hn,Kr,qn,In,qe,qe,qe,Gn,zt,zt,zt,zt,zt,zt,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,G,Se,Fe,Ze,qe,qe,qe,qe,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,fn,ki,Yn,ou,dl,ul,iu,fl,qe,qe,qe,su];return{parse:ye}},qd={},Gt={};const G0=Hd.BigNumber;Gt.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Gt.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Gt.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Gt.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Gt.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Gt.SHIFT32=Math.pow(2,32);Gt.SHIFT16=Math.pow(2,16);Gt.MAX_SAFE_HIGH=2097151;Gt.NEG_ONE=new G0(-1);Gt.TEN=new G0(10);Gt.TWO=new G0(2);Gt.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(e){const{Buffer:t}=ol,r=Hd.BigNumber,n=Gt,s=n.SHIFT32,o=n.SHIFT16,a=2097151;e.parseHalf=function(d){var b,x,m;return m=d[0]&128?-1:1,b=(d[0]&124)>>2,x=(d[0]&3)<<8|d[1],b?b===31?m*(x?0/0:1/0):m*Math.pow(2,b-25)*(1024+x):m*5960464477539063e-23*x};function l(c){return c<16?"0"+c.toString(16):c.toString(16)}e.arrayBufferToBignumber=function(c){const d=c.byteLength;let b="";for(let x=0;x<d;x++)b+=l(c[x]);return new r(b,16)},e.buildMap=c=>{const d=new Map,b=Object.keys(c),x=b.length;for(let m=0;m<x;m++)d.set(b[m],c[b[m]]);return d},e.buildInt32=(c,d)=>c*o+d,e.buildInt64=(c,d,b,x)=>{const m=e.buildInt32(c,d),h=e.buildInt32(b,x);return m>a?new r(m).times(s).plus(h):m*s+h},e.writeHalf=function(d,b){const x=t.allocUnsafe(4);x.writeFloatBE(b,0);const m=x.readUInt32BE(0);if(m&8191)return!1;var h=m>>16&32768;const y=m>>23&255,N=m&8388607;if(y>=113&&y<=142)h+=(y-112<<10)+(N>>13);else if(y>=103&&y<113){if(N&(1<<126-y)-1)return!1;h+=N+8388608>>126-y}else return!1;return d.writeUInt16BE(h,0),!0},e.keySorter=function(c,d){var b=c[0].byteLength,x=d[0].byteLength;return b>x?1:x>b?-1:c[0].compare(d[0])},e.isNegativeZero=c=>c===0&&1/c<0,e.nextPowerOf2=c=>{let d=0;if(c&&!(c&c-1))return c;for(;c!==0;)c>>=1,d+=1;return 1<<d}})(qd);const Y0=Gt,y4=Y0.MT,Pl=Y0.SIMPLE,Uu=Y0.SYMS;let x4=class mh{constructor(t){if(typeof t!="number")throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(t|0)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,y4.SIMPLE_FLOAT)}static isSimple(t){return t instanceof mh}static decode(t,r){switch(r==null&&(r=!0),t){case Pl.FALSE:return!1;case Pl.TRUE:return!0;case Pl.NULL:return r?null:Uu.NULL;case Pl.UNDEFINED:return r?void 0:Uu.UNDEFINED;case-1:if(!r)throw new Error("Invalid BREAK");return Uu.BREAK;default:return new mh(t)}}};var ub=x4;let b4=class gh{constructor(t,r,n){if(this.tag=t,this.value=r,this.err=n,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var r,n;if(n=t!=null?t[this.tag]:void 0,typeof n!="function"&&(n=gh["_tag"+this.tag],typeof n!="function"))return this;try{return n.call(gh,this.value)}catch(s){return r=s,this.err=r,this}}};var fb=b4;const hb=self.location?self.location.protocol+"//"+self.location.host:"",yh=self.URL;let w4=class{constructor(t="",r=hb){this.super=new yh(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function v4(e){if(typeof e=="string")return new yh(e).toString();if(!(e instanceof yh)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",s=e.protocol?e.protocol+"//":"",o=e.host||"",a=e.hostname||"",l=e.search||(e.query?"?"+e.query:""),c=e.hash||"",d=e.pathname||"",b=e.path||d+l;return`${s}${t||r}${o||a+n}${b}${c}`}}var pb={URLWithLegacySupport:w4,URLSearchParams:self.URLSearchParams,defaultBase:hb,format:v4};const{URLWithLegacySupport:Pm,format:S4}=pb;var k4=(e,t={},r={},n)=>{let s=t.protocol?t.protocol.replace(":",""):"http";s=(r[s]||n||s)+":";let o;try{o=new Pm(e)}catch{o={}}const a=Object.assign({},t,{protocol:s||o.protocol,host:t.host||o.host});return new Pm(e,S4(a)).toString()};const{URLWithLegacySupport:j4,format:T4,URLSearchParams:E4,defaultBase:_4}=pb,C4=k4;var mb={URL:j4,URLSearchParams:E4,format:T4,relative:C4,defaultBase:_4};const{Buffer:Bi}=ol,Mm=el,N4=Hd.BigNumber,B4=g4,Kt=qd,Ye=Gt,A4=ub,R4=fb,{URL:z4}=mb;let xh=class bh{constructor(t){t=t||{},!t.size||t.size<65536?t.size=65536:t.size=Kt.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=Bi.from(this._heap),this._reset(),this._knownTags=Object.assign({0:r=>new Date(r),1:r=>new Date(r*1e3),2:r=>Kt.arrayBufferToBignumber(r),3:r=>Ye.NEG_ONE.minus(Kt.arrayBufferToBignumber(r)),4:r=>Ye.TEN.pow(r[0]).times(r[1]),5:r=>Ye.TWO.pow(r[0]).times(r[1]),32:r=>new z4(r),35:r=>new RegExp(r)},t.tags),this.parser=B4(ni,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case Ye.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case Ye.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case Ye.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case Ye.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case Ye.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case Ye.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length));break}this._currentParent&&this._currentParent.type===Ye.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,t.length===0&&this._closeParent())}_push(t,r){const n=this._currentParent;switch(n.values++,n.type){case Ye.PARENT.ARRAY:case Ye.PARENT.BYTE_STRING:case Ye.PARENT.UTF8_STRING:n.length>-1?this._ref[this._ref.length-n.length]=t:this._ref.push(t),this._dec();break;case Ye.PARENT.OBJECT:n.tmpKey!=null?(this._ref[n.tmpKey]=t,n.tmpKey=null,this._dec()):(n.tmpKey=t,typeof n.tmpKey!="string"&&(n.type=Ye.PARENT.MAP,n.ref=Kt.buildMap(n.ref)));break;case Ye.PARENT.MAP:n.tmpKey!=null?(this._ref.set(n.tmpKey,t),n.tmpKey=null,this._dec()):n.tmpKey=t;break;case Ye.PARENT.TAG:this._ref.push(t),r||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,r,n){this._parents[this._depth]={type:r,length:n,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Ye.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,r){const n=this._knownTags[t];return n?n(r):new R4(t,r)}createMap(t,r){return t}createObject(t,r){return t}createArray(t,r){return t}createByteString(t,r){return Bi.concat(t)}createByteStringFromHeap(t,r){return t===r?Bi.alloc(0):Bi.from(this._heap.slice(t,r))}createInt(t){return t}createInt32(t,r){return Kt.buildInt32(t,r)}createInt64(t,r,n,s){return Kt.buildInt64(t,r,n,s)}createFloat(t){return t}createFloatSingle(t,r,n,s){return Mm.read([t,r,n,s],0,!1,23,4)}createFloatDouble(t,r,n,s,o,a,l,c){return Mm.read([t,r,n,s,o,a,l,c],0,!1,52,8)}createInt32Neg(t,r){return-1-Kt.buildInt32(t,r)}createInt64Neg(t,r,n,s){const o=Kt.buildInt32(t,r),a=Kt.buildInt32(n,s);return o>Ye.MAX_SAFE_HIGH?Ye.NEG_ONE.minus(new N4(o).times(Ye.SHIFT32).plus(a)):-1-(o*Ye.SHIFT32+a)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,r){return t.join("")}createUtf8StringFromHeap(t,r){return t===r?"":this._buffer.toString("utf8",t,r)}createSimpleUnassigned(t){return new A4(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,r){this._push(this.createInt32(t,r))}pushInt64(t,r,n,s){this._push(this.createInt64(t,r,n,s))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,r,n,s){this._push(this.createFloatSingle(t,r,n,s))}pushFloatDouble(t,r,n,s,o,a,l,c){this._push(this.createFloatDouble(t,r,n,s,o,a,l,c))}pushInt32Neg(t,r){this._push(this.createInt32Neg(t,r))}pushInt64Neg(t,r,n,s){this._push(this.createInt64Neg(t,r,n,s))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Ye.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,r){const n=Kt.buildInt32(t,r);this._createArrayStartFixed(n)}pushArrayStartFixed64(t,r,n,s){const o=Kt.buildInt64(t,r,n,s);this._createArrayStartFixed(o)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,r){const n=Kt.buildInt32(t,r);this._createObjectStartFixed(n)}pushObjectStartFixed64(t,r,n,s){const o=Kt.buildInt64(t,r,n,s);this._createObjectStartFixed(o)}pushByteStringStart(){this._parents[this._depth]={type:Ye.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,r){this._push(this.createByteStringFromHeap(t,r))}pushUtf8StringStart(){this._parents[this._depth]={type:Ye.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,r){this._push(this.createUtf8StringFromHeap(t,r))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:Ye.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,r){this.pushTagStart(Kt.buildInt32(t,r))}pushTagStart8(t,r,n,s){this.pushTagStart(Kt.buildInt64(t,r,n,s))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){if(t===0){this._push(this.createObject({}));return}this._createParent({},Ye.PARENT.OBJECT,t)}_createArrayStartFixed(t){if(t===0){this._push(this.createArray([]));return}this._createParent(new Array(t),Ye.PARENT.ARRAY,t)}_decode(t){if(t.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(t);const r=this.parser.parse(t.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(r>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,r){return typeof t=="string"&&(t=Bi.from(t,r||"hex")),new bh({size:t.length}).decodeFirst(t)}static decodeAll(t,r){return typeof t=="string"&&(t=Bi.from(t,r||"hex")),new bh({size:t.length}).decodeAll(t)}};xh.decodeFirst=xh.decode;var gb=xh;const{Buffer:Wu}=ol,F4=gb,P4=qd;class K0 extends F4{createTag(t,r){return`${t}(${r})`}createInt(t){return super.createInt(t).toString()}createInt32(t,r){return super.createInt32(t,r).toString()}createInt64(t,r,n,s){return super.createInt64(t,r,n,s).toString()}createInt32Neg(t,r){return super.createInt32Neg(t,r).toString()}createInt64Neg(t,r,n,s){return super.createInt64Neg(t,r,n,s).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const r=super.createFloat(t);return P4.isNegativeZero(t)?"-0_1":`${r}_1`}createFloatSingle(t,r,n,s){return`${super.createFloatSingle(t,r,n,s)}_2`}createFloatDouble(t,r,n,s,o,a,l,c){return`${super.createFloatDouble(t,r,n,s,o,a,l,c)}_3`}createByteString(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`h'${n}`}createByteStringFromHeap(t,r){return`h'${Wu.from(super.createByteStringFromHeap(t,r)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,r){const n=super.createArray(t,r);return r===-1?`[_ ${n.join(", ")}]`:`[${n.join(", ")}]`}createMap(t,r){const n=super.createMap(t),s=Array.from(n.keys()).reduce(Om(n),"");return r===-1?`{_ ${s}}`:`{${s}}`}createObject(t,r){const n=super.createObject(t),s=Object.keys(n).reduce(Om(n),"");return r===-1?`{_ ${s}}`:`{${s}}`}createUtf8String(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`"${n}"`}createUtf8StringFromHeap(t,r){return`"${Wu.from(super.createUtf8StringFromHeap(t,r)).toString("utf8")}"`}static diagnose(t,r){return typeof t=="string"&&(t=Wu.from(t,r||"hex")),new K0().decodeFirst(t)}}var M4=K0;function Om(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}const{Buffer:rn}=ol,{URL:O4}=mb,wh=Hd.BigNumber,Vu=qd,vt=Gt,Br=vt.MT,Ml=vt.NUMBYTES,$m=vt.SHIFT32,Um=vt.SYMS,Ai=vt.TAG,$4=vt.MT.SIMPLE_FLOAT<<5|vt.NUMBYTES.TWO,U4=vt.MT.SIMPLE_FLOAT<<5|vt.NUMBYTES.FOUR,W4=vt.MT.SIMPLE_FLOAT<<5|vt.NUMBYTES.EIGHT,V4=vt.MT.SIMPLE_FLOAT<<5|vt.SIMPLE.TRUE,H4=vt.MT.SIMPLE_FLOAT<<5|vt.SIMPLE.FALSE,q4=vt.MT.SIMPLE_FLOAT<<5|vt.SIMPLE.UNDEFINED,Wm=vt.MT.SIMPLE_FLOAT<<5|vt.SIMPLE.NULL,I4=new wh("0x20000000000000"),G4=rn.from("f97e00","hex"),Y4=rn.from("f9fc00","hex"),K4=rn.from("f97c00","hex");function Z4(e){return{}.toString.call(e).slice(8,-1)}class Dc{constructor(t){t=t||{},this.streaming=typeof t.stream=="function",this.onData=t.stream,this.semanticTypes=[[O4,this._pushUrl],[wh,this._pushBigNumber]];const r=t.genTypes||[],n=r.length;for(let s=0;s<n;s++)this.addSemanticType(r[s][0],r[s][1]);this._reset()}addSemanticType(t,r){const n=this.semanticTypes.length;for(let s=0;s<n;s++)if(this.semanticTypes[s][0]===t){const a=this.semanticTypes[s][1];return this.semanticTypes[s][1]=r,a}return this.semanticTypes.push([t,r]),null}push(t){return t&&(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(t,r,n){return this.result[this.offset]=t,this.resultMethod[this.offset]=r,this.resultLength[this.offset]=n,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(G4)}_pushInfinity(t){const r=t<0?Y4:K4;return this.push(r)}_pushFloat(t){const r=rn.allocUnsafe(2);if(Vu.writeHalf(r,t)&&Vu.parseHalf(r)===t)return this._pushUInt8($4)&&this.push(r);const n=rn.allocUnsafe(4);return n.writeFloatBE(t,0),n.readFloatBE(0)===t?this._pushUInt8(U4)&&this.push(n):this._pushUInt8(W4)&&this._pushDoubleBE(t)}_pushInt(t,r,n){const s=r<<5;return t<24?this._pushUInt8(s|t):t<=255?this._pushUInt8(s|Ml.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(s|Ml.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(s|Ml.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(s|Ml.EIGHT)&&this._pushUInt32BE(Math.floor(t/$m))&&this._pushUInt32BE(t%$m):r===Br.NEG_INT?this._pushFloat(n):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,Br.NEG_INT,t):this._pushInt(t,Br.POS_INT)}_pushNumber(t){switch(!1){case t===t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!==0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const r=rn.byteLength(t,"utf8");return this._pushInt(r,Br.UTF8_STRING)&&this.pushWrite(t,5,r)}_pushBoolean(t){return this._pushUInt8(t?V4:H4)}_pushUndefined(t){return this._pushUInt8(q4)}_pushArray(t,r){const n=r.length;if(!t._pushInt(n,Br.ARRAY))return!1;for(let s=0;s<n;s++)if(!t.pushAny(r[s]))return!1;return!0}_pushTag(t){return this._pushInt(t,Br.TAG)}_pushDate(t,r){return t._pushTag(Ai.DATE_EPOCH)&&t.pushAny(Math.round(r/1e3))}_pushBuffer(t,r){return t._pushInt(r.length,Br.BYTE_STRING)&&t.push(r)}_pushNoFilter(t,r){return t._pushBuffer(t,r.slice())}_pushRegexp(t,r){return t._pushTag(Ai.REGEXP)&&t.pushAny(r.source)}_pushSet(t,r){if(!t._pushInt(r.size,Br.ARRAY))return!1;for(const n of r)if(!t.pushAny(n))return!1;return!0}_pushUrl(t,r){return t._pushTag(Ai.URI)&&t.pushAny(r.format())}_pushBigint(t){let r=Ai.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),r=Ai.NEG_BIGINT);let n=t.toString(16);n.length%2&&(n="0"+n);const s=rn.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,s)}_pushBigNumber(t,r){if(r.isNaN())return t._pushNaN();if(!r.isFinite())return t._pushInfinity(r.isNegative()?-1/0:1/0);if(r.isInteger())return t._pushBigint(r);if(!(t._pushTag(Ai.DECIMAL_FRAC)&&t._pushInt(2,Br.ARRAY)))return!1;const n=r.decimalPlaces(),s=r.multipliedBy(new wh(10).pow(n));return t._pushIntNum(-n)?s.abs().isLessThan(I4)?t._pushIntNum(s.toNumber()):t._pushBigint(s):!1}_pushMap(t,r){return t._pushInt(r.size,Br.MAP)?this._pushRawMap(r.size,Array.from(r)):!1}_pushObject(t){if(!t)return this._pushUInt8(Wm);for(var r=this.semanticTypes.length,n=0;n<r;n++)if(t instanceof this.semanticTypes[n][0])return this.semanticTypes[n][1].call(t,this,t);var s=t.encodeCBOR;if(typeof s=="function")return s.call(t,this);var o=Object.keys(t),a=o.length;return this._pushInt(a,Br.MAP)?this._pushRawMap(a,o.map(l=>[l,t[l]])):!1}_pushRawMap(t,r){r=r.map(function(s){return s[0]=Dc.encode(s[0]),s}).sort(Vu.keySorter);for(var n=0;n<t;n++)if(!this.push(r[n][0])||!this.pushAny(r[n][1]))return!1;return!0}write(t){return this.pushAny(t)}pushAny(t){var r=Z4(t);switch(r){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,rn.isBuffer(t)?t:rn.from(t));case"Null":return this._pushUInt8(Wm);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"URL":return this._pushUrl(this,t);case"BigNumber":return this._pushBigNumber(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case Um.NULL:return this._pushObject(null);case Um.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(this.offset===0)return null;for(var t=this.result,r=this.resultLength,n=this.resultMethod,s=this.offset,o=0,a=0;a<s;a++)o+=r[a];var l=rn.allocUnsafe(o),c=0,d=0;for(a=0;a<s;a++){switch(d=r[a],n[a]){case 0:t[a].copy(l,c);break;case 1:l.writeUInt8(t[a],c,!0);break;case 2:l.writeUInt16BE(t[a],c,!0);break;case 3:l.writeUInt32BE(t[a],c,!0);break;case 4:l.writeDoubleBE(t[a],c,!0);break;case 5:l.write(t[a],c,d,"utf8");break;default:throw new Error("unkown method")}c+=d}var b=l;return this._reset(),b}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const r=new Dc;if(!r.pushAny(t))throw new Error("Failed to encode input");return r.finalize()}}var X4=Dc;(function(e){e.Diagnose=M4,e.Decoder=gb,e.Encoder=X4,e.Simple=ub,e.Tagged=fb,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}})(cb);const yb=Oh(cb);function $r(e){return ga(t4.create().update(new Uint8Array(e)).digest())}function ic(e){if(e instanceof yb.Tagged)return ic(e.value);if(typeof e=="string")return xb(e);if(typeof e=="number")return $r(ct(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return $r(e);if(Array.isArray(e)){const t=e.map(ic);return $r(Vr(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return $r(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return ic(e.toHash());if(typeof e=="object")return ed(e);if(typeof e=="bigint")return $r(ct(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const xb=e=>{const t=new TextEncoder().encode(e);return $r(t)};function Oa(e){return ed(e)}function ed(e){const n=Object.entries(e).filter(([,a])=>a!==void 0).map(([a,l])=>{const c=xb(a),d=ic(l);return[c,d]}).sort(([a],[l])=>jx(a,l)),s=Vr(...n.map(a=>Vr(...a)));return $r(s)}var Q4=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const J4=new TextEncoder().encode(`
ic-request`);class Z0{getPrincipal(){return this._principal||(this._principal=ze.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:r}=t,n=Q4(t,["body"]),s=Oa(r);return Object.assign(Object.assign({},n),{body:{content:r,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(Vr(J4,s))}})}}class td{getPrincipal(){return ze.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var rr={},Fs={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});const L4=9007199254740992;function Un(e,...t){const r=new Uint8Array(e.byteLength+t.reduce((s,o)=>s+o.byteLength,0));r.set(new Uint8Array(e),0);let n=e.byteLength;for(const s of t)r.set(new Uint8Array(s),n),n+=s.byteLength;return r.buffer}function Ir(e,t,r){r=r.replace(/[^0-9a-fA-F]/g,"");const n=2**(t-24);r=r.slice(-n*2).padStart(n*2,"0");const s=[(e<<5)+t].concat(r.match(/../g).map(o=>parseInt(o,16)));return new Uint8Array(s).buffer}function Id(e,t){if(t<24)return new Uint8Array([(e<<5)+t]).buffer;{const r=t<=255?24:t<=65535?25:t<=4294967295?26:27;return Ir(e,r,t.toString(16))}}function bb(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|n&63):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|n&63):(r++,n=(n&1023)<<10|e.charCodeAt(r)&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63))}return Un(new Uint8Array(Id(3,e.length)),new Uint8Array(t))}function D4(e,t){if(e==14277111)return Un(new Uint8Array([217,217,247]),t);if(e<24)return Un(new Uint8Array([192+e]),t);{const r=e<=255?24:e<=65535?25:e<=4294967295?26:27,n=2**(r-24),s=e.toString(16).slice(-n*2).padStart(n*2,"0"),o=[192+r].concat(s.match(/../g).map(a=>parseInt(a,16)));return new Uint8Array(o).buffer}}Ke.tagged=D4;function il(e){return new Uint8Array(e).buffer}Ke.raw=il;function X0(e){if(isNaN(e))throw new RangeError("Invalid number.");e=Math.min(Math.max(0,e),23);const t=[0+e];return new Uint8Array(t).buffer}Ke.uSmall=X0;function wb(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),255),e=e.toString(16),Ir(0,24,e)}Ke.u8=wb;function vb(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),65535),e=e.toString(16),Ir(0,25,e)}Ke.u16=vb;function Sb(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),4294967295),e=e.toString(16),Ir(0,26,e)}Ke.u32=Sb;function Q0(e,t){if(typeof e=="string"&&t==16){if(e.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return Ir(0,27,e)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),L4),e=e.toString(16),Ir(0,27,e)}Ke.u64=Q0;function kb(e){if(isNaN(e))throw new RangeError("Invalid number.");if(e===0)return X0(0);e=Math.min(Math.max(0,-e),24)-1;const t=[32+e];return new Uint8Array(t).buffer}Ke.iSmall=kb;function jb(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),255),e=e.toString(16),Ir(1,24,e)}Ke.i8=jb;function Tb(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),65535),e=e.toString(16),Ir(1,25,e)}Ke.i16=Tb;function Eb(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),4294967295),e=e.toString(16),Ir(1,26,e)}Ke.i32=Eb;function _b(e,t){if(typeof e=="string"&&t==16){if(e.startsWith("-")?e=e.slice(1):e="0",e.match(/[^0-9a-fA-F]/)||e.length>16)throw new RangeError("Invalid number.");let r=!1,n=e.split("").reduceRight((s,o)=>{if(r)return o+s;let a=parseInt(o,16)-1;return a>=0?(r=!0,a.toString(16)+s):"f"+s},"");return r?Ir(1,27,n):Q0(0)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),9007199254740992),e=e.toString(16),Ir(1,27,e)}Ke.i64=_b;function e6(e){return e>=0?e<24?X0(e):e<=255?wb(e):e<=65535?vb(e):e<=4294967295?Sb(e):Q0(e):e>=-24?kb(e):e>=-255?jb(e):e>=-65535?Tb(e):e>=-4294967295?Eb(e):_b(e)}Ke.number=e6;function t6(e){return Un(Id(2,e.byteLength),e)}Ke.bytes=t6;function r6(e){return bb(e)}Ke.string=r6;function n6(e){return Un(Id(4,e.length),...e)}Ke.array=n6;function o6(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let r=Array.from(e.entries());return t&&(r=r.sort(([n],[s])=>n.localeCompare(s))),Un(Id(5,e.size),...r.map(([n,s])=>Un(bb(n),s)))}Ke.map=o6;function i6(e){const t=new Float32Array([e]);return Un(new Uint8Array([224+26]),new Uint8Array(t.buffer))}Ke.singleFloat=i6;function s6(e){const t=new Float64Array([e]);return Un(new Uint8Array([224+27]),new Uint8Array(t.buffer))}Ke.doubleFloat=s6;function a6(e){return e?Cb():Nb()}Ke.bool=a6;function Cb(){return il(new Uint8Array([224+21]))}Ke.true_=Cb;function Nb(){return il(new Uint8Array([224+20]))}Ke.false_=Nb;function l6(){return il(new Uint8Array([224+22]))}Ke.null_=l6;function c6(){return il(new Uint8Array([224+23]))}Ke.undefined_=c6;var d6=ni&&ni.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(Fs,"__esModule",{value:!0});const Ar=d6(Ke),u6=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class Bb{constructor(t,r=!1){this._serializer=t,this._stable=r,this.name="jsonDefault",this.priority=-100}match(t){return["undefined","boolean","number","string","object"].indexOf(typeof t)!=-1}encode(t){switch(typeof t){case"undefined":return Ar.undefined_();case"boolean":return Ar.bool(t);case"number":return Math.floor(t)===t?Ar.number(t):Ar.doubleFloat(t);case"string":return Ar.string(t);case"object":if(t===null)return Ar.null_();if(Array.isArray(t))return Ar.array(t.map(r=>this._serializer.serializeValue(r)));if(u6.find(r=>t instanceof r))return Ar.bytes(t.buffer);if(Object.getOwnPropertyNames(t).indexOf("toJSON")!==-1)return this.encode(t.toJSON());if(t instanceof Map){const r=new Map;for(const[n,s]of t.entries())r.set(n,this._serializer.serializeValue(s));return Ar.map(r,this._stable)}else{const r=new Map;for(const[n,s]of Object.entries(t))r.set(n,this._serializer.serializeValue(s));return Ar.map(r,this._stable)}default:throw new Error("Invalid value.")}}}Fs.JsonDefaultCborEncoder=Bb;class Ab{constructor(){this.name="cborEncoder",this.priority=-90}match(t){return typeof t=="object"&&typeof t.toCBOR=="function"}encode(t){return t.toCBOR()}}Fs.ToCborEncoder=Ab;class Rb{constructor(){this._encoders=new Set}static withDefaultEncoders(t=!1){const r=new this;return r.addEncoder(new Bb(r,t)),r.addEncoder(new Ab),r}removeEncoder(t){for(const r of this._encoders.values())r.name==t&&this._encoders.delete(r)}addEncoder(t){this._encoders.add(t)}getEncoderFor(t){let r=null;for(const n of this._encoders)(!r||n.priority>r.priority)&&n.match(t)&&(r=n);if(r===null)throw new Error("Could not find an encoder for value.");return r}serializeValue(t){return this.getEncoderFor(t).encode(t)}serialize(t){return this.serializeValue(t)}}Fs.CborSerializer=Rb;class f6 extends Rb{serialize(t){return Ar.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(t))]))}}Fs.SelfDescribeCborSerializer=f6;(function(e){function t(s){for(var o in s)e.hasOwnProperty(o)||(e[o]=s[o])}var r=ni&&ni.__importStar||function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var a in s)Object.hasOwnProperty.call(s,a)&&(o[a]=s[a]);return o.default=s,o};Object.defineProperty(e,"__esModule",{value:!0}),t(Fs);const n=r(Ke);e.value=n})(rr);class h6{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return rr.value.bytes(t.toUint8Array())}}class p6{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return rr.value.bytes(new Uint8Array(t))}}class m6{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?rr.value.tagged(2,rr.value.bytes(zn(t.toString(16)))):rr.value.tagged(3,rr.value.bytes(zn((BigInt("-1")*t).toString(16))))}}const Gd=rr.SelfDescribeCborSerializer.withDefaultEncoders(!0);Gd.addEncoder(new h6);Gd.addEncoder(new p6);Gd.addEncoder(new m6);var vh;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(vh||(vh={}));function Hu(e){return Gd.serialize(e)}function Vm(e){const t=e.byteLength;let r=BigInt(0);for(let n=0;n<t;n++)r=r*BigInt(256)+BigInt(e[n]);return r}class g6 extends yb.Decoder{createByteString(t){return Vr(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}}function _n(e){const t=new Uint8Array(e),r=new g6({size:t.byteLength,tags:{2:n=>Vm(n),3:n=>-Vm(n),[vh.Semantic]:n=>n}});try{return r.decodeFirst(t)}catch(n){throw new Error(`Failed to decode CBOR: ${n}, input: ${et(t)}`)}}const Ol=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var Sh;(function(e){e.Call="call"})(Sh||(Sh={}));function kh(){const e=new ArrayBuffer(16),t=new DataView(e),r=Ol(),n=Ol(),s=Ol(),o=Ol();return t.setUint32(0,r),t.setUint32(4,n),t.setUint32(8,s),t.setUint32(12,o),e}const Hm=BigInt(1e6),y6=60*1e3;class $l{constructor(t){if(t<90*1e3){const l=BigInt(Date.now()+t)*Hm/BigInt(1e9);this._value=l*BigInt(1e9);return}const o=BigInt(Math.floor(Date.now()+t-y6))*Hm/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=o}toCBOR(){return rr.value.u64(this._value.toString(16),16)}toHash(){return ct(this._value)}}function qm(e=kh){return async t=>{const r=t.request.headers;t.request.headers=r,t.endpoint==="call"&&(t.body.nonce=e())}}function ea(e){const t=[];return e.forEach((r,n)=>{t.push([n,r])}),t}class qu extends lt{constructor(t,r){super(t),this.response=r,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class x6 extends lt{constructor(t,r,n,s,o,a){super(t),this.response=r,this.requestId=n,this.senderPubkey=s,this.senderSig=o,this.ingressExpiry=a,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class b6 extends lt{constructor(t,r,n,s,o,a){super(t),this.response=r,this.requestId=n,this.senderPubkey=s,this.senderSig=o,this.ingressExpiry=a,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class w6 extends lt{constructor(t,r,n,s,o,a){super(t),this.response=r,this.requestId=n,this.senderPubkey=s,this.senderSig=o,this.ingressExpiry=a,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J0=BigInt(0),rd=BigInt(1);function $a(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function zb(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?J0:BigInt("0x"+e)}function dn(e){return zb(Ss(e))}function Ua(e){return It(e),zb(Ss(Uint8Array.from(e).reverse()))}function Ct(e,t){return xx(e.toString(16).padStart(t*2,"0"))}function Yd(e,t){return Ct(e,t).reverse()}function Jt(e,t,r){let n;if(typeof t=="string")try{n=xx(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(U0(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(e+" of length "+r+" expected, got "+s);return n}const Iu=e=>typeof e=="bigint"&&J0<=e;function Fb(e,t,r){return Iu(e)&&Iu(t)&&Iu(r)&&t<=e&&e<r}function ta(e,t,r,n){if(!Fb(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function ds(e){let t;for(t=0;e>J0;e>>=rd,t+=1);return t}function v6(e,t){return e>>BigInt(t)&rd}const Do=e=>(rd<<BigInt(e))-rd;function S6(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function sl(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(s,o,a){const l=e[s];if(a&&l===void 0)return;const c=typeof l;if(c!==o||l===null)throw new Error(`param "${s}" is invalid: expected ${o}, got ${c}`)}Object.entries(t).forEach(([s,o])=>n(s,o,!1)),Object.entries(r).forEach(([s,o])=>n(s,o,!0))}const Im=()=>{throw new Error("not implemented")};function Wa(e){const t=new WeakMap;return(r,...n)=>{const s=t.get(r);if(s!==void 0)return s;const o=e(r,...n);return t.set(r,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const or=BigInt(0),At=BigInt(1),Yo=BigInt(2),Pb=BigInt(3),Mb=BigInt(4),Ob=BigInt(5),k6=BigInt(7),$b=BigInt(8),j6=BigInt(9),Ub=BigInt(16);function dt(e,t){const r=e%t;return r>=or?r:t+r}function Qr(e,t,r){let n=e;for(;t-- >or;)n*=n,n%=r;return n}function Gm(e,t){if(e===or)throw new Error("invert: expected non-zero number");if(t<=or)throw new Error("invert: expected positive modulus, got "+t);let r=dt(e,t),n=t,s=or,o=At;for(;r!==or;){const l=n/r,c=n%r,d=s-o*l;n=r,r=c,s=o,o=d}if(n!==At)throw new Error("invert: does not exist");return dt(s,t)}function L0(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function Wb(e,t){const r=(e.ORDER+At)/Mb,n=e.pow(t,r);return L0(e,n,t),n}function T6(e,t){const r=(e.ORDER-Ob)/$b,n=e.mul(t,Yo),s=e.pow(n,r),o=e.mul(t,s),a=e.mul(e.mul(o,Yo),s),l=e.mul(o,e.sub(a,e.ONE));return L0(e,l,t),l}function E6(e){const t=zo(e),r=Vb(e),n=r(t,t.neg(t.ONE)),s=r(t,n),o=r(t,t.neg(n)),a=(e+k6)/Ub;return(l,c)=>{let d=l.pow(c,a),b=l.mul(d,n);const x=l.mul(d,s),m=l.mul(d,o),h=l.eql(l.sqr(b),c),y=l.eql(l.sqr(x),c);d=l.cmov(d,b,h),b=l.cmov(m,x,y);const N=l.eql(l.sqr(b),c),W=l.cmov(d,b,N);return L0(l,W,c),W}}function Vb(e){if(e<Pb)throw new Error("sqrt is not defined for small field");let t=e-At,r=0;for(;t%Yo===or;)t/=Yo,r++;let n=Yo;const s=zo(e);for(;nd(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Wb;let o=s.pow(n,t);const a=(t+At)/Yo;return function(c,d){if(c.is0(d))return d;if(nd(c,d)!==1)throw new Error("Cannot find square root");let b=r,x=c.mul(c.ONE,o),m=c.pow(d,t),h=c.pow(d,a);for(;!c.eql(m,c.ONE);){if(c.is0(m))return c.ZERO;let y=1,N=c.sqr(m);for(;!c.eql(N,c.ONE);)if(y++,N=c.sqr(N),y===b)throw new Error("Cannot find square root");const W=At<<BigInt(b-y-1),w=c.pow(x,W);b=y,x=c.sqr(w),m=c.mul(m,x),h=c.mul(h,w)}return h}}function _6(e){return e%Mb===Pb?Wb:e%$b===Ob?T6:e%Ub===j6?E6(e):Vb(e)}const C6=(e,t)=>(dt(e,t)&At)===At,N6=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Hb(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=N6.reduce((n,s)=>(n[s]="function",n),t);return sl(e,r),e}function sc(e,t,r){if(r<or)throw new Error("invalid exponent, negatives unsupported");if(r===or)return e.ONE;if(r===At)return t;let n=e.ONE,s=t;for(;r>or;)r&At&&(n=e.mul(n,s)),s=e.sqr(s),r>>=At;return n}function ei(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),s=t.reduce((a,l,c)=>e.is0(l)?a:(n[c]=a,e.mul(a,l)),e.ONE),o=e.inv(s);return t.reduceRight((a,l,c)=>e.is0(l)?a:(n[c]=e.mul(a,n[c]),e.mul(a,l)),o),n}function nd(e,t){const r=(e.ORDER-At)/Yo,n=e.pow(t,r),s=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!s&&!o&&!a)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function B6(e,t){t!==void 0&&zk(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function zo(e,t,r=!1,n={}){if(e<=or)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,o,a=!1,l;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const m=t;m.BITS&&(s=m.BITS),m.sqrt&&(o=m.sqrt),typeof m.isLE=="boolean"&&(r=m.isLE),typeof m.modOnDecode=="boolean"&&(a=m.modOnDecode),l=m.allowedLengths}else typeof t=="number"&&(s=t),n.sqrt&&(o=n.sqrt);const{nBitLength:c,nByteLength:d}=B6(e,s);if(d>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let b;const x=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:d,MASK:Do(c),ZERO:or,ONE:At,allowedLengths:l,create:m=>dt(m,e),isValid:m=>{if(typeof m!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof m);return or<=m&&m<e},is0:m=>m===or,isValidNot0:m=>!x.is0(m)&&x.isValid(m),isOdd:m=>(m&At)===At,neg:m=>dt(-m,e),eql:(m,h)=>m===h,sqr:m=>dt(m*m,e),add:(m,h)=>dt(m+h,e),sub:(m,h)=>dt(m-h,e),mul:(m,h)=>dt(m*h,e),pow:(m,h)=>sc(x,m,h),div:(m,h)=>dt(m*Gm(h,e),e),sqrN:m=>m*m,addN:(m,h)=>m+h,subN:(m,h)=>m-h,mulN:(m,h)=>m*h,inv:m=>Gm(m,e),sqrt:o||(m=>(b||(b=_6(e)),b(x,m))),toBytes:m=>r?Yd(m,d):Ct(m,d),fromBytes:(m,h=!0)=>{if(l){if(!l.includes(m.length)||m.length>d)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+m.length);const N=new Uint8Array(d);N.set(m,r?0:N.length-m.length),m=N}if(m.length!==d)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+m.length);let y=r?Ua(m):dn(m);if(a&&(y=dt(y,e)),!h&&!x.isValid(y))throw new Error("invalid field element: outside of range 0..ORDER");return y},invertBatch:m=>ei(x,m),cmov:(m,h,y)=>y?h:m});return Object.freeze(x)}function qb(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ib(e){const t=qb(e);return t+Math.ceil(t/2)}function A6(e,t,r=!1){const n=e.length,s=qb(t),o=Ib(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const a=r?Ua(e):dn(e),l=dt(a,t-At)+At;return r?Yd(l,s):Ct(l,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const js=BigInt(0),Ko=BigInt(1);function od(e,t){const r=t.negate();return e?r:t}function Cn(e,t){const r=ei(e.Fp,t.map(n=>n.Z));return t.map((n,s)=>e.fromAffine(n.toAffine(r[s])))}function Gb(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Gu(e,t){Gb(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),s=2**e,o=Do(e),a=BigInt(e);return{windows:r,windowSize:n,mask:o,maxNumber:s,shiftBy:a}}function Ym(e,t,r){const{windowSize:n,mask:s,maxNumber:o,shiftBy:a}=r;let l=Number(e&s),c=e>>a;l>n&&(l-=o,c+=Ko);const d=t*n,b=d+Math.abs(l)-1,x=l===0,m=l<0,h=t%2!==0;return{nextN:c,offset:b,isZero:x,isNeg:m,isNegF:h,offsetF:d}}function R6(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function z6(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const Yu=new WeakMap,Yb=new WeakMap;function Ku(e){return Yb.get(e)||1}function Km(e){if(e!==js)throw new Error("invalid wNAF")}class Kb{constructor(t,r){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=r}_unsafeLadder(t,r,n=this.ZERO){let s=t;for(;r>js;)r&Ko&&(n=n.add(s)),s=s.double(),r>>=Ko;return n}precomputeWindow(t,r){const{windows:n,windowSize:s}=Gu(r,this.bits),o=[];let a=t,l=a;for(let c=0;c<n;c++){l=a,o.push(l);for(let d=1;d<s;d++)l=l.add(a),o.push(l);a=l.double()}return o}wNAF(t,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,o=this.BASE;const a=Gu(t,this.bits);for(let l=0;l<a.windows;l++){const{nextN:c,offset:d,isZero:b,isNeg:x,isNegF:m,offsetF:h}=Ym(n,l,a);n=c,b?o=o.add(od(m,r[h])):s=s.add(od(x,r[d]))}return Km(n),{p:s,f:o}}wNAFUnsafe(t,r,n,s=this.ZERO){const o=Gu(t,this.bits);for(let a=0;a<o.windows&&n!==js;a++){const{nextN:l,offset:c,isZero:d,isNeg:b}=Ym(n,a,o);if(n=l,!d){const x=r[c];s=s.add(b?x.negate():x)}}return Km(n),s}getPrecomputes(t,r,n){let s=Yu.get(r);return s||(s=this.precomputeWindow(r,t),t!==1&&(typeof n=="function"&&(s=n(s)),Yu.set(r,s))),s}cached(t,r,n){const s=Ku(t);return this.wNAF(s,this.getPrecomputes(s,t,n),r)}unsafe(t,r,n,s){const o=Ku(t);return o===1?this._unsafeLadder(t,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),r,s)}createCache(t,r){Gb(r,this.bits),Yb.set(t,r),Yu.delete(t)}hasCache(t){return Ku(t)!==1}}function F6(e,t,r,n){let s=t,o=e.ZERO,a=e.ZERO;for(;r>js||n>js;)r&Ko&&(o=o.add(s)),n&Ko&&(a=a.add(s)),s=s.double(),r>>=Ko,n>>=Ko;return{p1:o,p2:a}}function Zb(e,t,r,n){R6(r,e),z6(n,t);const s=r.length,o=n.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,l=ds(BigInt(s));let c=1;l>12?c=l-3:l>4?c=l-2:l>0&&(c=2);const d=Do(c),b=new Array(Number(d)+1).fill(a),x=Math.floor((t.BITS-1)/c)*c;let m=a;for(let h=x;h>=0;h-=c){b.fill(a);for(let N=0;N<o;N++){const W=n[N],w=Number(W>>BigInt(h)&d);b[w]=b[w].add(r[N])}let y=a;for(let N=b.length-1,W=a;N>0;N--)W=W.add(b[N]),y=y.add(W);if(m=m.add(y),h!==0)for(let N=0;N<c;N++)m=m.double()}return m}function Zm(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Hb(t),t}else return zo(e)}function Xb(e,t,r={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const l of["p","n","h"]){const c=t[l];if(!(typeof c=="bigint"&&c>js))throw new Error(`CURVE.${l} must be positive bigint`)}const n=Zm(t.p,r.Fp),s=Zm(t.n,r.Fn),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const l of a)if(!n.isValid(t[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:s}}const P6=dn;function ro(e,t){if(Va(e),Va(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function M6(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Va(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function Qb(e){if(!U0(e)&&typeof e!="string")throw new Error("DST must be Uint8Array or string");return typeof e=="string"?tl(e):e}function O6(e,t,r,n){It(e),Va(r),t=Qb(t),t.length>255&&(t=n(ft(tl("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:o}=n,a=Math.ceil(r/s);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");const l=ft(t,ro(t.length,1)),c=ro(0,o),d=ro(r,2),b=new Array(a),x=n(ft(c,e,d,ro(0,1),l));b[0]=n(ft(x,ro(1,1),l));for(let h=1;h<=a;h++){const y=[M6(x,b[h-1]),ro(h+1,1),l];b[h]=n(ft(...y))}return ft(...b).slice(0,r)}function $6(e,t,r,n,s){if(It(e),Va(r),t=Qb(t),t.length>255){const o=Math.ceil(2*n/8);t=s.create({dkLen:o}).update(tl("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(e).update(ro(r,2)).update(t).update(ro(t.length,1)).digest()}function Zu(e,t,r){sl(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:n,k:s,m:o,hash:a,expand:l,DST:c}=r;if(!S6(r.hash))throw new Error("expected valid hash");It(e),Va(t);const d=n.toString(2).length,b=Math.ceil((d+s)/8),x=t*o*b;let m;if(l==="xmd")m=O6(e,c,x,a);else if(l==="xof")m=$6(e,c,x,s,a);else if(l==="_internal_pass")m=e;else throw new Error('expand must be "xmd" or "xof"');const h=new Array(t);for(let y=0;y<t;y++){const N=new Array(o);for(let W=0;W<o;W++){const w=b*(W+y*o),k=m.subarray(w,w+b);N[W]=dt(P6(k),n)}h[y]=N}return h}function Jb(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,s)=>{const[o,a,l,c]=r.map(x=>x.reduce((m,h)=>e.add(e.mul(m,n),h))),[d,b]=ei(e,[a,c],!0);return n=e.mul(o,d),s=e.mul(s,e.mul(l,b)),{x:n,y:s}}}const U6=tl("HashToScalar-");function Xm(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function n(o){return e.fromAffine(t(o))}function s(o){const a=o.clearCofactor();return a.equals(e.ZERO)?e.ZERO:(a.assertValidity(),a)}return{defaults:r,hashToCurve(o,a){const l=Object.assign({},r,a),c=Zu(o,2,l),d=n(c[0]),b=n(c[1]);return s(d.add(b))},encodeToCurve(o,a){const l=r.encodeDST?{DST:r.encodeDST}:{},c=Object.assign({},r,l,a),d=Zu(o,1,c),b=n(d[0]);return s(b)},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(const a of o)if(typeof a!="bigint")throw new Error("expected array of bigints");return s(n(o))},hashToScalar(o,a){const l=e.Fn.ORDER,c=Object.assign({},r,{p:l,m:1,DST:U6},a);return Zu(o,1,c)[0][0]}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qm=(e,t)=>(e+(e>=0?t:-t)/gn)/t;function W6(e,t,r){const[[n,s],[o,a]]=t,l=Qm(a*e,r),c=Qm(-s*e,r);let d=e-l*n-c*o,b=-l*s-c*a;const x=d<Zo,m=b<Zo;x&&(d=-d),m&&(b=-b);const h=Do(Math.ceil(ds(r)/2))+Xt;if(d<Zo||d>=h||b<Zo||b>=h)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:x,k1:d,k2neg:m,k2:b}}const Zo=BigInt(0),Xt=BigInt(1),gn=BigInt(2),es=BigInt(3),jh=BigInt(4);function Lb(e,t,r){function n(s){const o=e.sqr(s),a=e.mul(o,s);return e.add(e.add(a,e.mul(s,t)),r)}return n}function id(e,t){const{BYTES:r}=e;let n;if(typeof t=="bigint")n=t;else{let s=Jt("private key",t);try{n=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function V6(e,t={}){const{Fp:r,Fn:n}=Xb("weierstrass",e,t),{h:s,n:o}=e;sl(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:a}=t;if(a&&(!r.is0(e.a)||typeof a.beta!="bigint"||!Array.isArray(a.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');function l(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(X,$,Y){const{x:J,y:A}=$.toAffine(),U=r.toBytes(J);if($a("isCompressed",Y),Y){l();const V=!r.isOdd(A);return ft(H6(V),U)}else return ft(Uint8Array.of(4),U,r.toBytes(A))}function d(X){It(X);const $=r.BYTES,Y=$+1,J=2*$+1,A=X.length,U=X[0],V=X.subarray(1);if(A===Y&&(U===2||U===3)){const K=r.fromBytes(V);if(!r.isValid(K))throw new Error("bad point: is not on curve, wrong x");const te=m(K);let Q;try{Q=r.sqrt(te)}catch(de){const le=de instanceof Error?": "+de.message:"";throw new Error("bad point: is not on curve, sqrt error"+le)}l();const ne=r.isOdd(Q);return(U&1)===1!==ne&&(Q=r.neg(Q)),{x:K,y:Q}}else if(A===J&&U===4){const K=r.fromBytes(V.subarray($*0,$*1)),te=r.fromBytes(V.subarray($*1,$*2));if(!h(K,te))throw new Error("bad point: is not on curve");return{x:K,y:te}}else throw new Error(`bad point: got length ${A}, expected compressed=${Y} or uncompressed=${J}`)}const b=t.toBytes||c,x=t.fromBytes||d,m=Lb(r,e.a,e.b);function h(X,$){const Y=r.sqr($),J=m(X);return r.eql(Y,J)}if(!h(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const y=r.mul(r.pow(e.a,es),jh),N=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(y,N)))throw new Error("bad curve params: a or b");function W(X,$,Y=!1){if(!r.isValid($)||Y&&r.is0($))throw new Error(`bad point coordinate ${X}`);return $}function w(X){if(!(X instanceof B))throw new Error("ProjectivePoint expected")}function k(X){if(!a||!a.basises)throw new Error("no endo");return W6(X,a.basises,n.ORDER)}const j=Wa((X,$)=>{const{X:Y,Y:J,Z:A}=X;if(r.eql(A,r.ONE))return{x:Y,y:J};const U=X.is0();$==null&&($=U?r.ONE:r.inv(A));const V=r.mul(Y,$),K=r.mul(J,$),te=r.mul(A,$);if(U)return{x:r.ZERO,y:r.ZERO};if(!r.eql(te,r.ONE))throw new Error("invZ was invalid");return{x:V,y:K}}),P=Wa(X=>{if(X.is0()){if(t.allowInfinityPoint&&!r.is0(X.Y))return;throw new Error("bad point: ZERO")}const{x:$,y:Y}=X.toAffine();if(!r.isValid($)||!r.isValid(Y))throw new Error("bad point: x or y not field elements");if(!h($,Y))throw new Error("bad point: equation left != right");if(!X.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function C(X,$,Y,J,A){return Y=new B(r.mul(Y.X,X),Y.Y,Y.Z),$=od(J,$),Y=od(A,Y),$.add(Y)}class B{constructor($,Y,J){this.X=W("x",$),this.Y=W("y",Y,!0),this.Z=W("z",J),Object.freeze(this)}static fromAffine($){const{x:Y,y:J}=$||{};if(!$||!r.isValid(Y)||!r.isValid(J))throw new Error("invalid affine point");if($ instanceof B)throw new Error("projective point not allowed");return r.is0(Y)&&r.is0(J)?B.ZERO:new B(Y,J,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}static normalizeZ($){return Cn(B,$)}static fromBytes($){return It($),B.fromHex($)}static fromHex($){const Y=B.fromAffine(x(Jt("pointHex",$)));return Y.assertValidity(),Y}static fromPrivateKey($){return B.BASE.multiply(id(n,$))}static msm($,Y){return Zb(B,n,$,Y)}_setWindowSize($){this.precompute($)}precompute($=8,Y=!0){return H.createCache(this,$),Y||this.multiply(es),this}assertValidity(){P(this)}hasEvenY(){const{y:$}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd($)}equals($){w($);const{X:Y,Y:J,Z:A}=this,{X:U,Y:V,Z:K}=$,te=r.eql(r.mul(Y,K),r.mul(U,A)),Q=r.eql(r.mul(J,K),r.mul(V,A));return te&&Q}negate(){return new B(this.X,r.neg(this.Y),this.Z)}double(){const{a:$,b:Y}=e,J=r.mul(Y,es),{X:A,Y:U,Z:V}=this;let K=r.ZERO,te=r.ZERO,Q=r.ZERO,ne=r.mul(A,A),ue=r.mul(U,U),de=r.mul(V,V),le=r.mul(A,U);return le=r.add(le,le),Q=r.mul(A,V),Q=r.add(Q,Q),K=r.mul($,Q),te=r.mul(J,de),te=r.add(K,te),K=r.sub(ue,te),te=r.add(ue,te),te=r.mul(K,te),K=r.mul(le,K),Q=r.mul(J,Q),de=r.mul($,de),le=r.sub(ne,de),le=r.mul($,le),le=r.add(le,Q),Q=r.add(ne,ne),ne=r.add(Q,ne),ne=r.add(ne,de),ne=r.mul(ne,le),te=r.add(te,ne),de=r.mul(U,V),de=r.add(de,de),ne=r.mul(de,le),K=r.sub(K,ne),Q=r.mul(de,ue),Q=r.add(Q,Q),Q=r.add(Q,Q),new B(K,te,Q)}add($){w($);const{X:Y,Y:J,Z:A}=this,{X:U,Y:V,Z:K}=$;let te=r.ZERO,Q=r.ZERO,ne=r.ZERO;const ue=e.a,de=r.mul(e.b,es);let le=r.mul(Y,U),fe=r.mul(J,V),F=r.mul(A,K),ke=r.add(Y,J),xe=r.add(U,V);ke=r.mul(ke,xe),xe=r.add(le,fe),ke=r.sub(ke,xe),xe=r.add(Y,A);let ye=r.add(U,K);return xe=r.mul(xe,ye),ye=r.add(le,F),xe=r.sub(xe,ye),ye=r.add(J,A),te=r.add(V,K),ye=r.mul(ye,te),te=r.add(fe,F),ye=r.sub(ye,te),ne=r.mul(ue,xe),te=r.mul(de,F),ne=r.add(te,ne),te=r.sub(fe,ne),ne=r.add(fe,ne),Q=r.mul(te,ne),fe=r.add(le,le),fe=r.add(fe,le),F=r.mul(ue,F),xe=r.mul(de,xe),fe=r.add(fe,F),F=r.sub(le,F),F=r.mul(ue,F),xe=r.add(xe,F),le=r.mul(fe,xe),Q=r.add(Q,le),le=r.mul(ye,xe),te=r.mul(ke,te),te=r.sub(te,le),le=r.mul(ke,fe),ne=r.mul(ye,ne),ne=r.add(ne,le),new B(te,Q,ne)}subtract($){return this.add($.negate())}is0(){return this.equals(B.ZERO)}multiply($){const{endo:Y}=t;if(!n.isValidNot0($))throw new Error("invalid scalar: out of range");let J,A;const U=V=>H.cached(this,V,K=>Cn(B,K));if(Y){const{k1neg:V,k1:K,k2neg:te,k2:Q}=k($),{p:ne,f:ue}=U(K),{p:de,f:le}=U(Q);A=ue.add(le),J=C(Y.beta,ne,de,V,te)}else{const{p:V,f:K}=U($);J=V,A=K}return Cn(B,[J,A])[0]}multiplyUnsafe($){const{endo:Y}=t,J=this;if(!n.isValid($))throw new Error("invalid scalar: out of range");if($===Zo||J.is0())return B.ZERO;if($===Xt)return J;if(H.hasCache(this))return this.multiply($);if(Y){const{k1neg:A,k1:U,k2neg:V,k2:K}=k($),{p1:te,p2:Q}=F6(B,J,U,K);return C(Y.beta,te,Q,A,V)}else return H.unsafe(J,$)}multiplyAndAddUnsafe($,Y,J){const A=this.multiplyUnsafe(Y).add($.multiplyUnsafe(J));return A.is0()?void 0:A}toAffine($){return j(this,$)}isTorsionFree(){const{isTorsionFree:$}=t;return s===Xt?!0:$?$(B,this):H.unsafe(this,o).is0()}clearCofactor(){const{clearCofactor:$}=t;return s===Xt?this:$?$(B,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes($=!0){return $a("isCompressed",$),this.assertValidity(),b(B,this,$)}toRawBytes($=!0){return this.toBytes($)}toHex($=!0){return Ss(this.toBytes($))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}B.BASE=new B(e.Gx,e.Gy,r.ONE),B.ZERO=new B(r.ZERO,r.ONE,r.ZERO),B.Fp=r,B.Fn=n;const R=n.BITS,H=new Kb(B,t.endo?Math.ceil(R/2):R);return B}function Jm(e){const{CURVE:t,curveOpts:r}=I6(e),n=V6(t,r);return G6(e,n)}function H6(e){return Uint8Array.of(e?2:3)}function q6(e,t){const r=e.ORDER;let n=Zo;for(let y=r-Xt;y%gn===Zo;y/=gn)n+=Xt;const s=n,o=gn<<s-Xt-Xt,a=o*gn,l=(r-Xt)/a,c=(l-Xt)/gn,d=a-Xt,b=o,x=e.pow(t,l),m=e.pow(t,(l+Xt)/gn);let h=(y,N)=>{let W=x,w=e.pow(N,d),k=e.sqr(w);k=e.mul(k,N);let j=e.mul(y,k);j=e.pow(j,c),j=e.mul(j,w),w=e.mul(j,N),k=e.mul(j,y);let P=e.mul(k,w);j=e.pow(P,b);let C=e.eql(j,e.ONE);w=e.mul(k,m),j=e.mul(P,W),k=e.cmov(w,k,C),P=e.cmov(j,P,C);for(let B=s;B>Xt;B--){let R=B-gn;R=gn<<R-Xt;let H=e.pow(P,R);const X=e.eql(H,e.ONE);w=e.mul(k,W),W=e.mul(W,W),H=e.mul(P,W),k=e.cmov(w,k,X),P=e.cmov(H,P,X)}return{isValid:C,value:k}};if(e.ORDER%jh===es){const y=(e.ORDER-es)/jh,N=e.sqrt(e.neg(t));h=(W,w)=>{let k=e.sqr(w);const j=e.mul(W,w);k=e.mul(k,j);let P=e.pow(k,y);P=e.mul(P,j);const C=e.mul(P,N),B=e.mul(e.sqr(P),w),R=e.eql(B,W);let H=e.cmov(C,P,R);return{isValid:R,value:H}}}return h}function Db(e,t){Hb(e);const{A:r,B:n,Z:s}=t;if(!e.isValid(r)||!e.isValid(n)||!e.isValid(s))throw new Error("mapToCurveSimpleSWU: invalid opts");const o=q6(e,s);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return a=>{let l,c,d,b,x,m,h,y;l=e.sqr(a),l=e.mul(l,s),c=e.sqr(l),c=e.add(c,l),d=e.add(c,e.ONE),d=e.mul(d,n),b=e.cmov(s,e.neg(c),!e.eql(c,e.ZERO)),b=e.mul(b,r),c=e.sqr(d),m=e.sqr(b),x=e.mul(m,r),c=e.add(c,x),c=e.mul(c,d),m=e.mul(m,b),x=e.mul(m,n),c=e.add(c,x),h=e.mul(l,d);const{isValid:N,value:W}=o(c,m);y=e.mul(l,a),y=e.mul(y,W),h=e.cmov(h,d,N),y=e.cmov(y,W,N);const w=e.isOdd(a)===e.isOdd(y);y=e.cmov(e.neg(y),y,w);const k=ei(e,[b],!0)[0];return h=e.mul(h,k),{x:h,y}}}function I6(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp;let n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const s=zo(t.n,{BITS:e.nBitLength,allowedLengths:n,modOnDecode:e.wrapPrivateKey}),o={Fp:r,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:o}}function G6(e,t){const{Fp:r,Fn:n}=t;function s(a){return Fb(a,Xt,n.ORDER)}const o=Lb(r,e.a,e.b);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:a=>id(n,a),weierstrassEquation:o,isWithinCurveOrder:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y6=BigInt(0),Ul=BigInt(1),Lm=BigInt(2),ts=BigInt(3);function K6(e){const t=[];for(;e>Ul;e>>=Ul)(e&Ul)===Y6?t.unshift(0):(e&ts)===ts?(t.unshift(-1),e+=Ul):t.unshift(1);return t}function Xu(e){if(!Array.isArray(e)||e.length===0)throw new Error("expected non-empty array")}function Z6(e,t,r,n){const{Fp2:s,Fp12:o}=e,{twistType:a,ateLoopSize:l,xNegative:c,postPrecompute:d}=n;let b;if(a==="multiplicative")b=(j,P,C,B,R,H)=>o.mul014(B,j,s.mul(P,R),s.mul(C,H));else if(a==="divisive")b=(j,P,C,B,R,H)=>o.mul034(B,s.mul(C,H),s.mul(P,R),j);else throw new Error("bls: unknown twist type");const x=s.div(s.ONE,s.mul(s.ONE,Lm));function m(j,P,C,B){const R=s.sqr(C),H=s.sqr(B),X=s.mulByB(s.mul(H,ts)),$=s.mul(X,ts),Y=s.sub(s.sub(s.sqr(s.add(C,B)),H),R),J=s.sub(X,R),A=s.mul(s.sqr(P),ts),U=s.neg(Y);return j.push([J,A,U]),P=s.mul(s.mul(s.mul(s.sub(R,$),P),C),x),C=s.sub(s.sqr(s.mul(s.add(R,$),x)),s.mul(s.sqr(X),ts)),B=s.mul(R,Y),{Rx:P,Ry:C,Rz:B}}function h(j,P,C,B,R,H){const X=s.sub(C,s.mul(H,B)),$=s.sub(P,s.mul(R,B)),Y=s.sub(s.mul(X,R),s.mul($,H)),J=s.neg(X),A=$;j.push([Y,J,A]);const U=s.sqr($),V=s.mul(U,$),K=s.mul(U,P),te=s.add(s.sub(V,s.mul(K,Lm)),s.mul(s.sqr(X),B));return P=s.mul($,te),C=s.sub(s.mul(s.sub(K,te),X),s.mul(V,C)),B=s.mul(B,V),{Rx:P,Ry:C,Rz:B}}const y=K6(l),N=Wa(j=>{const P=j,{x:C,y:B}=P.toAffine(),R=C,H=B,X=s.neg(B);let $=R,Y=H,J=s.ONE;const A=[];for(const U of y){const V=[];({Rx:$,Ry:Y,Rz:J}=m(V,$,Y,J)),U&&({Rx:$,Ry:Y,Rz:J}=h(V,$,Y,J,R,U===-1?X:H)),A.push(V)}if(d){const U=A[A.length-1];d($,Y,J,R,H,h.bind(null,U))}return A});function W(j,P=!1){let C=o.ONE;if(j.length){const B=j[0][0].length;for(let R=0;R<B;R++){C=o.sqr(C);for(const[H,X,$]of j)for(const[Y,J,A]of H[R])C=b(Y,J,A,C,X,$)}}return c&&(C=o.conjugate(C)),P?o.finalExponentiate(C):C}function w(j,P=!0){const C=[];Cn(t,j.map(({g1:B})=>B)),Cn(r,j.map(({g2:B})=>B));for(const{g1:B,g2:R}of j){if(B.is0()||R.is0())throw new Error("pairing is not available for ZERO point");B.assertValidity(),R.assertValidity();const H=B.toAffine();C.push([N(R),H.x,H.y])}return W(C,P)}function k(j,P,C=!0){return w([{g1:j,g2:P}],C)}return{Fp12:o,millerLoopBatch:W,pairing:k,pairingBatch:w,calcPairingPrecomputes:N}}function Dm(e,t,r,n,s){const{Fp12:o,pairingBatch:a}=e;function l(x){return x instanceof t.Point?x:t.Point.fromHex(x)}function c(x){return x instanceof r.Point?x:r.Point.fromHex(x)}function d(x){if(!(x instanceof r.Point))throw new Error(`expected valid message hashed to ${s?"G1":"G2"} curve`);return x}const b=s?(x,m)=>({g1:m,g2:x}):(x,m)=>({g1:x,g2:m});return{getPublicKey(x){const m=id(t.Point.Fn,x);return t.Point.BASE.multiply(m)},sign(x,m,h){if(h!=null)throw new Error("sign() expects 2 arguments");const y=id(t.Point.Fn,m);return d(x).assertValidity(),x.multiply(y)},verify(x,m,h,y){if(y!=null)throw new Error("verify() expects 3 arguments");x=c(x),h=l(h);const N=h.negate(),W=t.Point.BASE,w=d(m),k=x,j=a([b(N,w),b(W,k)]);return o.eql(j,o.ONE)},verifyBatch(x,m,h){if(Xu(m),h.length!==m.length)throw new Error("amount of public keys and messages should be equal");const y=c(x),N=m,W=h.map(l),w=new Map;for(let P=0;P<W.length;P++){const C=W[P],B=N[P];let R=w.get(B);R===void 0&&(R=[],w.set(B,R)),R.push(C)}const k=[],j=t.Point.BASE;try{for(const[P,C]of w){const B=C.reduce((R,H)=>R.add(H));k.push(b(B,P))}return k.push(b(j.negate(),y)),o.eql(a(k),o.ONE)}catch{return!1}},aggregatePublicKeys(x){Xu(x),x=x.map(h=>l(h));const m=x.reduce((h,y)=>h.add(y),t.Point.ZERO);return m.assertValidity(),m},aggregateSignatures(x){Xu(x),x=x.map(h=>c(h));const m=x.reduce((h,y)=>h.add(y),r.Point.ZERO);return m.assertValidity(),m},hash(x,m){It(x);const h=m?{DST:m}:void 0;return r.hashToCurve(x,h)},Signature:n}}function X6(e){const{Fp:t,Fr:r,Fp2:n,Fp6:s,Fp12:o}=e.fields,a=Jm(e.G1),l=Object.assign(a,Xm(a.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),c=Jm(e.G2),d=Object.assign(c,Xm(c.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults})),b=Z6(e.fields,l.Point,d.Point,{...e.params,postPrecompute:e.postPrecompute}),{millerLoopBatch:x,pairing:m,pairingBatch:h,calcPairingPrecomputes:y}=b,N=Dm(b,l,d,e.G2.Signature,!1),W=Dm(b,d,l,e.G1.ShortSignature,!0),w=e.randomBytes||wx,k=()=>{const Q=Ib(r.ORDER);return A6(w(Q),r.ORDER)},j={randomSecretKey:k,randomPrivateKey:k,calcPairingPrecomputes:y},{ShortSignature:P}=e.G1,{Signature:C}=e.G2;function B(Q,ne){return Q instanceof l.Point?Q:W.hash(Jt("point",Q),ne==null?void 0:ne.DST)}function R(Q,ne){return Q instanceof d.Point?Q:N.hash(Jt("point",Q),ne==null?void 0:ne.DST)}function H(Q){return N.getPublicKey(Q).toBytes(!0)}function X(Q){return W.getPublicKey(Q).toBytes(!0)}function $(Q,ne,ue){const de=R(Q,ue),le=N.sign(de,ne);return Q instanceof d.Point?le:C.toBytes(le)}function Y(Q,ne,ue){const de=B(Q,ue),le=W.sign(de,ne);return Q instanceof l.Point?le:P.toBytes(le)}function J(Q,ne,ue,de){const le=R(ne,de);return N.verify(Q,le,ue)}function A(Q,ne,ue,de){const le=B(ne,de);return W.verify(Q,le,ue)}function U(Q){const ne=N.aggregatePublicKeys(Q);return Q[0]instanceof l.Point?ne:ne.toBytes(!0)}function V(Q){const ne=N.aggregateSignatures(Q);return Q[0]instanceof d.Point?ne:C.toBytes(ne)}function K(Q){const ne=W.aggregateSignatures(Q);return Q[0]instanceof l.Point?ne:P.toBytes(ne)}function te(Q,ne,ue,de){const le=ne.map(fe=>R(fe,de));return N.verifyBatch(Q,le,ue)}return l.Point.BASE.precompute(4),{longSignatures:N,shortSignatures:W,millerLoopBatch:x,pairing:m,pairingBatch:h,verifyBatch:te,fields:{Fr:r,Fp:t,Fp2:n,Fp6:s,Fp12:o},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:j,getPublicKey:H,getPublicKeyForShortSignatures:X,sign:$,signShortSignature:Y,verify:J,verifyShortSignature:A,aggregatePublicKeys:U,aggregateSignatures:V,aggregateShortSignatures:K,G1:l,G2:d,Signature:C,ShortSignature:P}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eg=BigInt(0),rs=BigInt(1),Sn=BigInt(2),tg=BigInt(3);function Qu(e,t,r,n,s=1,o){const a=BigInt(o===void 0?n:o),l=r**BigInt(n),c=[];for(let d=0;d<s;d++){const b=BigInt(d+1),x=[];for(let m=0,h=rs;m<n;m++){const y=(b*h-b)/a%l;x.push(e.pow(t,y)),h*=r}c.push(x)}return c}function Q6(e,t,r){const n=t.pow(r,(e.ORDER-rs)/tg),s=t.pow(r,(e.ORDER-rs)/Sn);function o(m,h){const y=t.mul(t.frobeniusMap(m,1),n),N=t.mul(t.frobeniusMap(h,1),s);return[y,N]}const a=t.pow(r,(e.ORDER**Sn-rs)/tg),l=t.pow(r,(e.ORDER**Sn-rs)/Sn);if(!t.eql(l,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function c(m,h){return[t.mul(m,a),t.neg(h)]}const d=m=>(h,y)=>{const N=y.toAffine(),W=m(N.x,N.y);return h.fromAffine({x:W[0],y:W[1]})},b=d(o),x=d(c);return{psi:o,psi2:c,G2psi:b,G2psi2:x,PSI_X:n,PSI_Y:s,PSI2_X:a,PSI2_Y:l}}function J6(e){const{ORDER:t}=e,r=zo(t),n=r.create(e.NONRESIDUE||BigInt(-1)),s=r.div(r.ONE,Sn),o=Qu(r,n,r.ORDER,2)[0],a=({c0:A,c1:U},{c0:V,c1:K})=>({c0:r.add(A,V),c1:r.add(U,K)}),l=({c0:A,c1:U},{c0:V,c1:K})=>({c0:r.sub(A,V),c1:r.sub(U,K)}),c=({c0:A,c1:U},V)=>{if(typeof V=="bigint")return{c0:r.mul(A,V),c1:r.mul(U,V)};const{c0:K,c1:te}=V;let Q=r.mul(A,K),ne=r.mul(U,te);const ue=r.sub(Q,ne),de=r.sub(r.mul(r.add(A,U),r.add(K,te)),r.add(Q,ne));return{c0:ue,c1:de}},d=({c0:A,c1:U})=>{const V=r.add(A,U),K=r.sub(A,U),te=r.add(A,A);return{c0:r.mul(V,K),c1:r.mul(te,U)}},b=A=>{if(A.length!==2)throw new Error("invalid tuple");const U=A.map(V=>r.create(V));return{c0:U[0],c1:U[1]}};function x(A,U){return typeof A=="bigint"&&eg<=A&&A<U}const m=t*t,h=b(e.FP2_NONRESIDUE),y={ORDER:m,isLE:r.isLE,NONRESIDUE:h,BITS:ds(m),BYTES:Math.ceil(ds(m)/8),MASK:Do(ds(m)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:A=>A,isValid:({c0:A,c1:U})=>x(A,m)&&x(U,m),is0:({c0:A,c1:U})=>r.is0(A)&&r.is0(U),isValidNot0:A=>!y.is0(A)&&y.isValid(A),eql:({c0:A,c1:U},{c0:V,c1:K})=>r.eql(A,V)&&r.eql(U,K),neg:({c0:A,c1:U})=>({c0:r.neg(A),c1:r.neg(U)}),pow:(A,U)=>sc(y,A,U),invertBatch:A=>ei(y,A),add:a,sub:l,mul:c,sqr:d,addN:a,subN:l,mulN:c,sqrN:d,div:(A,U)=>y.mul(A,typeof U=="bigint"?r.inv(r.create(U)):y.inv(U)),inv:({c0:A,c1:U})=>{const V=r.inv(r.create(A*A+U*U));return{c0:r.mul(V,r.create(A)),c1:r.mul(V,r.create(-U))}},sqrt:A=>{if(e.Fp2sqrt)return e.Fp2sqrt(A);const{c0:U,c1:V}=A;if(r.is0(V))return nd(r,U)===1?y.create({c0:r.sqrt(U),c1:r.ZERO}):y.create({c0:r.ZERO,c1:r.sqrt(r.div(U,n))});const K=r.sqrt(r.sub(r.sqr(U),r.mul(r.sqr(V),n)));let te=r.mul(r.add(K,U),s);nd(r,te)===-1&&(te=r.sub(te,K));const ne=r.sqrt(te),ue=y.create({c0:ne,c1:r.div(r.mul(V,s),ne)});if(!y.eql(y.sqr(ue),A))throw new Error("Cannot find square root");const de=ue,le=y.neg(de),{re:fe,im:F}=y.reim(de),{re:ke,im:xe}=y.reim(le);return F>xe||F===xe&&fe>ke?de:le},isOdd:A=>{const{re:U,im:V}=y.reim(A),K=U%Sn,te=U===eg,Q=V%Sn;return BigInt(K||te&&Q)==rs},fromBytes(A){if(A.length!==y.BYTES)throw new Error("fromBytes invalid length="+A.length);return{c0:r.fromBytes(A.subarray(0,r.BYTES)),c1:r.fromBytes(A.subarray(r.BYTES))}},toBytes:({c0:A,c1:U})=>ft(r.toBytes(A),r.toBytes(U)),cmov:({c0:A,c1:U},{c0:V,c1:K},te)=>({c0:r.cmov(A,V,te),c1:r.cmov(U,K,te)}),reim:({c0:A,c1:U})=>({re:A,im:U}),mulByNonresidue:({c0:A,c1:U})=>y.mul({c0:A,c1:U},h),mulByB:e.Fp2mulByB,fromBigTuple:b,frobeniusMap:({c0:A,c1:U},V)=>({c0:A,c1:r.mul(U,o[V%2])})},N=({c0:A,c1:U,c2:V},{c0:K,c1:te,c2:Q})=>({c0:y.add(A,K),c1:y.add(U,te),c2:y.add(V,Q)}),W=({c0:A,c1:U,c2:V},{c0:K,c1:te,c2:Q})=>({c0:y.sub(A,K),c1:y.sub(U,te),c2:y.sub(V,Q)}),w=({c0:A,c1:U,c2:V},K)=>{if(typeof K=="bigint")return{c0:y.mul(A,K),c1:y.mul(U,K),c2:y.mul(V,K)};const{c0:te,c1:Q,c2:ne}=K,ue=y.mul(A,te),de=y.mul(U,Q),le=y.mul(V,ne);return{c0:y.add(ue,y.mulByNonresidue(y.sub(y.mul(y.add(U,V),y.add(Q,ne)),y.add(de,le)))),c1:y.add(y.sub(y.mul(y.add(A,U),y.add(te,Q)),y.add(ue,de)),y.mulByNonresidue(le)),c2:y.sub(y.add(de,y.mul(y.add(A,V),y.add(te,ne))),y.add(ue,le))}},k=({c0:A,c1:U,c2:V})=>{let K=y.sqr(A),te=y.mul(y.mul(A,U),Sn),Q=y.mul(y.mul(U,V),Sn),ne=y.sqr(V);return{c0:y.add(y.mulByNonresidue(Q),K),c1:y.add(y.mulByNonresidue(ne),te),c2:y.sub(y.sub(y.add(y.add(te,y.sqr(y.add(y.sub(A,U),V))),Q),K),ne)}},[j,P]=Qu(y,h,r.ORDER,6,2,3),C={ORDER:y.ORDER,isLE:y.isLE,BITS:3*y.BITS,BYTES:3*y.BYTES,MASK:Do(3*y.BITS),ZERO:{c0:y.ZERO,c1:y.ZERO,c2:y.ZERO},ONE:{c0:y.ONE,c1:y.ZERO,c2:y.ZERO},create:A=>A,isValid:({c0:A,c1:U,c2:V})=>y.isValid(A)&&y.isValid(U)&&y.isValid(V),is0:({c0:A,c1:U,c2:V})=>y.is0(A)&&y.is0(U)&&y.is0(V),isValidNot0:A=>!C.is0(A)&&C.isValid(A),neg:({c0:A,c1:U,c2:V})=>({c0:y.neg(A),c1:y.neg(U),c2:y.neg(V)}),eql:({c0:A,c1:U,c2:V},{c0:K,c1:te,c2:Q})=>y.eql(A,K)&&y.eql(U,te)&&y.eql(V,Q),sqrt:Im,div:(A,U)=>C.mul(A,typeof U=="bigint"?r.inv(r.create(U)):C.inv(U)),pow:(A,U)=>sc(C,A,U),invertBatch:A=>ei(C,A),add:N,sub:W,mul:w,sqr:k,addN:N,subN:W,mulN:w,sqrN:k,inv:({c0:A,c1:U,c2:V})=>{let K=y.sub(y.sqr(A),y.mulByNonresidue(y.mul(V,U))),te=y.sub(y.mulByNonresidue(y.sqr(V)),y.mul(A,U)),Q=y.sub(y.sqr(U),y.mul(A,V)),ne=y.inv(y.add(y.mulByNonresidue(y.add(y.mul(V,te),y.mul(U,Q))),y.mul(A,K)));return{c0:y.mul(ne,K),c1:y.mul(ne,te),c2:y.mul(ne,Q)}},fromBytes:A=>{if(A.length!==C.BYTES)throw new Error("fromBytes invalid length="+A.length);return{c0:y.fromBytes(A.subarray(0,y.BYTES)),c1:y.fromBytes(A.subarray(y.BYTES,2*y.BYTES)),c2:y.fromBytes(A.subarray(2*y.BYTES))}},toBytes:({c0:A,c1:U,c2:V})=>ft(y.toBytes(A),y.toBytes(U),y.toBytes(V)),cmov:({c0:A,c1:U,c2:V},{c0:K,c1:te,c2:Q},ne)=>({c0:y.cmov(A,K,ne),c1:y.cmov(U,te,ne),c2:y.cmov(V,Q,ne)}),fromBigSix:A=>{if(!Array.isArray(A)||A.length!==6)throw new Error("invalid Fp6 usage");return{c0:y.fromBigTuple(A.slice(0,2)),c1:y.fromBigTuple(A.slice(2,4)),c2:y.fromBigTuple(A.slice(4,6))}},frobeniusMap:({c0:A,c1:U,c2:V},K)=>({c0:y.frobeniusMap(A,K),c1:y.mul(y.frobeniusMap(U,K),j[K%6]),c2:y.mul(y.frobeniusMap(V,K),P[K%6])}),mulByFp2:({c0:A,c1:U,c2:V},K)=>({c0:y.mul(A,K),c1:y.mul(U,K),c2:y.mul(V,K)}),mulByNonresidue:({c0:A,c1:U,c2:V})=>({c0:y.mulByNonresidue(V),c1:A,c2:U}),mul1:({c0:A,c1:U,c2:V},K)=>({c0:y.mulByNonresidue(y.mul(V,K)),c1:y.mul(A,K),c2:y.mul(U,K)}),mul01({c0:A,c1:U,c2:V},K,te){let Q=y.mul(A,K),ne=y.mul(U,te);return{c0:y.add(y.mulByNonresidue(y.sub(y.mul(y.add(U,V),te),ne)),Q),c1:y.sub(y.sub(y.mul(y.add(K,te),y.add(A,U)),Q),ne),c2:y.add(y.sub(y.mul(y.add(A,V),K),Q),ne)}}},B=Qu(y,h,r.ORDER,12,1,6)[0],R=({c0:A,c1:U},{c0:V,c1:K})=>({c0:C.add(A,V),c1:C.add(U,K)}),H=({c0:A,c1:U},{c0:V,c1:K})=>({c0:C.sub(A,V),c1:C.sub(U,K)}),X=({c0:A,c1:U},V)=>{if(typeof V=="bigint")return{c0:C.mul(A,V),c1:C.mul(U,V)};let{c0:K,c1:te}=V,Q=C.mul(A,K),ne=C.mul(U,te);return{c0:C.add(Q,C.mulByNonresidue(ne)),c1:C.sub(C.mul(C.add(A,U),C.add(K,te)),C.add(Q,ne))}},$=({c0:A,c1:U})=>{let V=C.mul(A,U);return{c0:C.sub(C.sub(C.mul(C.add(C.mulByNonresidue(U),A),C.add(A,U)),V),C.mulByNonresidue(V)),c1:C.add(V,V)}};function Y(A,U){const V=y.sqr(A),K=y.sqr(U);return{first:y.add(y.mulByNonresidue(K),V),second:y.sub(y.sub(y.sqr(y.add(A,U)),V),K)}}const J={ORDER:y.ORDER,isLE:C.isLE,BITS:2*C.BITS,BYTES:2*C.BYTES,MASK:Do(2*C.BITS),ZERO:{c0:C.ZERO,c1:C.ZERO},ONE:{c0:C.ONE,c1:C.ZERO},create:A=>A,isValid:({c0:A,c1:U})=>C.isValid(A)&&C.isValid(U),is0:({c0:A,c1:U})=>C.is0(A)&&C.is0(U),isValidNot0:A=>!J.is0(A)&&J.isValid(A),neg:({c0:A,c1:U})=>({c0:C.neg(A),c1:C.neg(U)}),eql:({c0:A,c1:U},{c0:V,c1:K})=>C.eql(A,V)&&C.eql(U,K),sqrt:Im,inv:({c0:A,c1:U})=>{let V=C.inv(C.sub(C.sqr(A),C.mulByNonresidue(C.sqr(U))));return{c0:C.mul(A,V),c1:C.neg(C.mul(U,V))}},div:(A,U)=>J.mul(A,typeof U=="bigint"?r.inv(r.create(U)):J.inv(U)),pow:(A,U)=>sc(J,A,U),invertBatch:A=>ei(J,A),add:R,sub:H,mul:X,sqr:$,addN:R,subN:H,mulN:X,sqrN:$,fromBytes:A=>{if(A.length!==J.BYTES)throw new Error("fromBytes invalid length="+A.length);return{c0:C.fromBytes(A.subarray(0,C.BYTES)),c1:C.fromBytes(A.subarray(C.BYTES))}},toBytes:({c0:A,c1:U})=>ft(C.toBytes(A),C.toBytes(U)),cmov:({c0:A,c1:U},{c0:V,c1:K},te)=>({c0:C.cmov(A,V,te),c1:C.cmov(U,K,te)}),fromBigTwelve:A=>({c0:C.fromBigSix(A.slice(0,6)),c1:C.fromBigSix(A.slice(6,12))}),frobeniusMap(A,U){const{c0:V,c1:K,c2:te}=C.frobeniusMap(A.c1,U),Q=B[U%12];return{c0:C.frobeniusMap(A.c0,U),c1:C.create({c0:y.mul(V,Q),c1:y.mul(K,Q),c2:y.mul(te,Q)})}},mulByFp2:({c0:A,c1:U},V)=>({c0:C.mulByFp2(A,V),c1:C.mulByFp2(U,V)}),conjugate:({c0:A,c1:U})=>({c0:A,c1:C.neg(U)}),mul014:({c0:A,c1:U},V,K,te)=>{let Q=C.mul01(A,V,K),ne=C.mul1(U,te);return{c0:C.add(C.mulByNonresidue(ne),Q),c1:C.sub(C.sub(C.mul01(C.add(U,A),V,y.add(K,te)),Q),ne)}},mul034:({c0:A,c1:U},V,K,te)=>{const Q=C.create({c0:y.mul(A.c0,V),c1:y.mul(A.c1,V),c2:y.mul(A.c2,V)}),ne=C.mul01(U,K,te),ue=C.mul01(C.add(A,U),y.add(V,K),te);return{c0:C.add(C.mulByNonresidue(ne),Q),c1:C.sub(ue,C.add(Q,ne))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:r,Fp2:y,Fp6:C,Fp12:J,Fp4Square:Y}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ht=BigInt(0),sd=BigInt(1),jt=BigInt(2),Kd=BigInt(3),Ha=BigInt(4),no=BigInt("0xd201000000010000"),L6=ds(no),pi={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:Ht,b:Ha,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},D6=zo(pi.n,{modOnDecode:!0}),{Fp:Ne,Fp2:_e,Fp6:Th,Fp4Square:Ju,Fp12:We}=J6({ORDER:pi.p,FP2_NONRESIDUE:[sd,sd],Fp2mulByB:({c0:e,c1:t})=>{const r=Ne.mul(e,Ha),n=Ne.mul(t,Ha);return{c0:Ne.sub(r,n),c1:Ne.add(r,n)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:r,c1:n,c2:s}=e,{c0:o,c1:a,c2:l}=t,{first:c,second:d}=Ju(r,a),{first:b,second:x}=Ju(o,s),{first:m,second:h}=Ju(n,l),y=_e.mulByNonresidue(h);return{c0:Th.create({c0:_e.add(_e.mul(_e.sub(c,r),jt),c),c1:_e.add(_e.mul(_e.sub(b,n),jt),b),c2:_e.add(_e.mul(_e.sub(m,s),jt),m)}),c1:Th.create({c0:_e.add(_e.mul(_e.add(y,o),jt),y),c1:_e.add(_e.mul(_e.add(d,a),jt),d),c2:_e.add(_e.mul(_e.add(x,l),jt),x)})}},Fp12cyclotomicExp(e,t){let r=We.ONE;for(let n=L6-1;n>=0;n--)r=We._cyclotomicSquare(r),v6(t,n)&&(r=We.mul(r,e));return r},Fp12finalExponentiate:e=>{const t=no,r=We.div(We.frobeniusMap(e,6),e),n=We.mul(We.frobeniusMap(r,2),r),s=We.conjugate(We._cyclotomicExp(n,t)),o=We.mul(We.conjugate(We._cyclotomicSquare(n)),s),a=We.conjugate(We._cyclotomicExp(o,t)),l=We.conjugate(We._cyclotomicExp(a,t)),c=We.mul(We.conjugate(We._cyclotomicExp(l,t)),We._cyclotomicSquare(s)),d=We.conjugate(We._cyclotomicExp(c,t)),b=We.frobeniusMap(We.mul(s,l),2),x=We.frobeniusMap(We.mul(a,n),3),m=We.frobeniusMap(We.mul(c,We.conjugate(n)),1),h=We.mul(We.mul(d,We.conjugate(o)),n);return We.mul(We.mul(We.mul(b,x),m),h)}}),{G2psi:rg,G2psi2:ej}=Q6(Ne,_e,_e.div(_e.ONE,_e.NONRESIDUE)),Lu=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Ne.ORDER,m:2,k:128,expand:"xmd",hash:V0}),D0={p:_e.ORDER,n:pi.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:_e.ZERO,b:_e.fromBigTuple([Ha,Ha]),Gx:_e.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:_e.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},Zd=al(Ne.toBytes(Ht),{infinity:!0,compressed:!0});function Xd(e){e=e.slice();const t=e[0]&224,r=!!(t>>7&1),n=!!(t>>6&1),s=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:n,sort:s,value:e}}function al(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function tj(e,t,r){const{BYTES:n,ORDER:s}=Ne,o=t.is0(),{x:a,y:l}=t.toAffine();if(r){if(o)return Zd.slice();const c=!!(l*jt/s);return al(Ct(a,n),{compressed:!0,sort:c})}else return o?ft(Uint8Array.of(64),new Uint8Array(2*n-1)):ft(Ct(a,n),Ct(l,n))}function Du(e){e.assertValidity();const{BYTES:t,ORDER:r}=Ne,{x:n,y:s}=e.toAffine();if(e.is0())return Zd.slice();const o=!!(s*jt/r);return al(Ct(n,t),{compressed:!0,sort:o})}function rj(e){const{compressed:t,infinity:r,sort:n,value:s}=Xd(e),{BYTES:o,ORDER:a}=Ne;if(s.length===48&&t){const l=dn(s),c=Ne.create(l&Ne.MASK);if(r){if(c!==Ht)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:Ht,y:Ht}}const d=Ne.add(Ne.pow(c,Kd),Ne.create(pi.b));let b=Ne.sqrt(d);if(!b)throw new Error("invalid G1 point: compressed point");return b*jt/a!==BigInt(n)&&(b=Ne.neg(b)),{x:Ne.create(c),y:Ne.create(b)}}else if(s.length===96&&!t){const l=dn(s.subarray(0,o)),c=dn(s.subarray(o));if(r){if(l!==Ht||c!==Ht)throw new Error("G1: non-empty point at infinity");return Qd.G1.Point.ZERO.toAffine()}return{x:Ne.create(l),y:Ne.create(c)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function ng(e){const{infinity:t,sort:r,value:n}=Xd(Jt("signatureHex",e,48)),s=Ne.ORDER,o=Qd.G1.Point,a=dn(n);if(t)return o.ZERO;const l=Ne.create(a&Ne.MASK),c=Ne.add(Ne.pow(l,Kd),Ne.create(pi.b));let d=Ne.sqrt(c);if(!d)throw new Error("invalid G1 point: compressed");const b=BigInt(r);d*jt/s!==b&&(d=Ne.neg(d));const x=o.fromAffine({x:l,y:d});return x.assertValidity(),x}function nj(e,t,r){const{BYTES:n,ORDER:s}=Ne,o=t.is0(),{x:a,y:l}=t.toAffine();if(r){if(o)return ft(Zd,Ct(Ht,n));const c=!!(l.c1===Ht?l.c0*jt/s:l.c1*jt/s);return ft(al(Ct(a.c1,n),{compressed:!0,sort:c}),Ct(a.c0,n))}else{if(o)return ft(Uint8Array.of(64),new Uint8Array(4*n-1));const{re:c,im:d}=_e.reim(a),{re:b,im:x}=_e.reim(l);return ft(Ct(d,n),Ct(c,n),Ct(x,n),Ct(b,n))}}function ef(e){e.assertValidity();const{BYTES:t}=Ne;if(e.is0())return ft(Zd,Ct(Ht,t));const{x:r,y:n}=e.toAffine(),{re:s,im:o}=_e.reim(r),{re:a,im:l}=_e.reim(n),d=!!((l>Ht?l*jt:a*jt)/Ne.ORDER&sd),b=s;return ft(al(Ct(o,t),{sort:d,compressed:!0}),Ct(b,t))}function oj(e){const{BYTES:t,ORDER:r}=Ne,{compressed:n,infinity:s,sort:o,value:a}=Xd(e);if(!n&&!s&&o||!n&&s&&o||o&&s&&n)throw new Error("invalid encoding flag: "+(e[0]&224));const l=(c,d,b)=>dn(c.slice(d,b));if(a.length===96&&n){if(s){if(a.reduce((y,N)=>y!==0?N+1:N,0)>0)throw new Error("invalid G2 point: compressed");return{x:_e.ZERO,y:_e.ZERO}}const c=l(a,0,t),d=l(a,t,2*t),b=_e.create({c0:Ne.create(d),c1:Ne.create(c)}),x=_e.add(_e.pow(b,Kd),D0.b);let m=_e.sqrt(x);const h=m.c1===Ht?m.c0*jt/r:m.c1*jt/r?sd:Ht;return m=o&&h>0?m:_e.neg(m),{x:b,y:m}}else if(a.length===192&&!n){if(s){if(a.reduce((m,h)=>m!==0?h+1:h,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:_e.ZERO,y:_e.ZERO}}const c=l(a,0*t,1*t),d=l(a,1*t,2*t),b=l(a,2*t,3*t),x=l(a,3*t,4*t);return{x:_e.fromBigTuple([d,c]),y:_e.fromBigTuple([x,b])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function og(e){const{ORDER:t}=Ne,{infinity:r,sort:n,value:s}=Xd(Jt("signatureHex",e)),o=Qd.G2.Point,a=s.length/2;if(a!==48&&a!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const l=dn(s.slice(0,a)),c=dn(s.slice(a));if(r)return o.ZERO;const d=Ne.create(l&Ne.MASK),b=Ne.create(c),x=_e.create({c0:b,c1:d}),m=_e.add(_e.pow(x,Kd),D0.b);let h=_e.sqrt(m);if(!h)throw new Error("Failed to find a square root");const{re:y,im:N}=_e.reim(h),W=BigInt(n),w=N>Ht&&N*jt/t!==W,k=N===Ht&&y*jt/t!==W;(w||k)&&(h=_e.neg(h));const j=o.fromAffine({x,y:h});return j.assertValidity(),j}const Qd=X6({fields:{Fp:Ne,Fp2:_e,Fp6:Th,Fp12:We,Fr:D6},G1:{...pi,Fp:Ne,htfDefaults:{...Lu,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new e(Ne.mul(t.X,r),t.Y,t.Z);return t.multiplyUnsafe(no).negate().multiplyUnsafe(no).equals(n)},clearCofactor:(e,t)=>t.multiplyUnsafe(no).add(t),mapToCurve:cj,fromBytes:rj,toBytes:tj,ShortSignature:{fromBytes(e){return It(e),ng(e)},fromHex(e){return ng(e)},toBytes(e){return Du(e)},toRawBytes(e){return Du(e)},toHex(e){return Ss(Du(e))}}},G2:{...D0,Fp:_e,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Lu},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:dj,isTorsionFree:(e,t)=>t.multiplyUnsafe(no).negate().equals(rg(e,t)),clearCofactor:(e,t)=>{const r=no;let n=t.multiplyUnsafe(r).negate(),s=rg(e,t),o=t.double();return o=ej(e,o),o=o.subtract(s),s=n.add(s),s=s.multiplyUnsafe(r).negate(),o=o.add(s),o=o.subtract(n),o.subtract(t)},fromBytes:oj,toBytes:nj,Signature:{fromBytes(e){return It(e),og(e)},fromHex(e){return og(e)},toBytes(e){return ef(e)},toRawBytes(e){return ef(e)},toHex(e){return Ss(ef(e))}}},params:{ateLoopSize:no,r:pi.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:Lu,hash:V0}),ij=Jb(_e,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>_e.fromBigTuple(t.map(BigInt))))),sj=Jb(Ne,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),aj=Db(Ne,{A:Ne.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Ne.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Ne.create(BigInt(11))}),lj=Db(_e,{A:_e.create({c0:Ne.create(Ht),c1:Ne.create(BigInt(240))}),B:_e.create({c0:Ne.create(BigInt(1012)),c1:Ne.create(BigInt(1012))}),Z:_e.create({c0:Ne.create(BigInt(-2)),c1:Ne.create(BigInt(-1))})});function cj(e){const{x:t,y:r}=aj(Ne.create(e[0]));return sj(t,r)}function dj(e){const{x:t,y:r}=lj(_e.fromBigTuple(e));return ij(t,r)}function uj(e,t,r){const n=typeof e=="string"?e:et(e),s=typeof t=="string"?t:et(t),o=typeof r=="string"?r:et(r);return Qd.verifyShortSignature(s,o,n)}const e2=e=>St(new zs(e)),ep=e=>{const t=e2(e);return new Date(Number(t)/1e6)};var fj=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},hj=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ac;class nn extends lt{constructor(t){super(`Invalid certificate: ${t}`)}}var cr;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(cr||(cr={}));function pj(e,t){const r=new Uint8Array(e),n=new Uint8Array(t);for(let s=0;s<r.length;s++)if(r[s]>n[s])return!0;return!1}class ti{constructor(t,r,n,s,o=5,a=!1){this._rootKey=r,this._canisterId=n,this._blsVerify=s,this._maxAgeInMinutes=o,ac.set(this,!1),fj(this,ac,a,"f"),this.cert=_n(new Uint8Array(t))}static async create(t){const r=ti.createUnverified(t);return await r.verify(),r}static createUnverified(t){let r=t.blsVerify;return r||(r=uj),new ti(t.certificate,t.rootKey,t.canisterId,r,t.maxAgeInMinutes,t.disableTimeVerification)}lookup(t){return Ts(t,this.cert.tree)}lookup_label(t){return this.lookup([t])}async verify(){const t=await lc(this.cert.tree),r=await this._checkDelegationAndGetKey(this.cert.delegation),n=this.cert.signature,s=gj(r),o=Vr(ra("ic-state-root"),t);let a=!1;const l=vr(this.lookup(["time"]));if(!l)throw new nn("Certificate does not contain a time");if(!hj(this,ac,"f")){const d=this._maxAgeInMinutes*60*1e3,b=Date.now(),x=b-d,m=b+3e5,h=ep(l);if(h.getTime()<x)throw new nn(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+h.toISOString()+" Current time: "+new Date(b).toISOString());if(h.getTime()>m)throw new nn("Certificate is signed more than 5 minutes in the future. Certificate time: "+h.toISOString()+" Current time: "+new Date(b).toISOString())}try{a=await this._blsVerify(new Uint8Array(s),new Uint8Array(n),new Uint8Array(o))}catch{a=!1}if(!a)throw new nn("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const r=await ti.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(r.cert.delegation)throw new nn("Delegation certificates cannot be nested");if(await r.verify(),this._canisterId.toString()!==Vj&&!t2({canisterId:this._canisterId,subnetId:ze.fromUint8Array(new Uint8Array(t.subnet_id)),tree:r.cert.tree}))throw new nn(`Canister ${this._canisterId} not in range of delegations for subnet 0x${et(t.subnet_id)}`);const n=vr(r.lookup(["subnet",t.subnet_id,"public_key"]));if(!n)throw new Error(`Could not find subnet key for subnet 0x${et(t.subnet_id)}`);return n}}ac=new WeakMap;const Xs=zn("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),mj=96;function gj(e){const t=Xs.byteLength+mj;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);const r=e.slice(0,Xs.byteLength);if(!rl(r,Xs))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${Xs}, but get ${r}`);return e.slice(Xs.byteLength)}function vr(e){if(e.status===xt.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function lc(e){switch(e[0]){case cr.Empty:return $r(ra("ic-hashtree-empty"));case cr.Pruned:return e[1];case cr.Leaf:return $r(Vr(ra("ic-hashtree-leaf"),e[1]));case cr.Labeled:return $r(Vr(ra("ic-hashtree-labeled"),e[1],await lc(e[2])));case cr.Fork:return $r(Vr(ra("ic-hashtree-fork"),await lc(e[1]),await lc(e[2])));default:throw new Error("unreachable")}}function ra(e){const t=new Uint8Array([e.length]),r=new TextEncoder().encode(e);return Vr(t,r)}var xt;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(xt||(xt={}));var kn;(function(e){e.Less="less",e.Greater="greater"})(kn||(kn={}));function Ts(e,t){if(e.length===0)switch(t[0]){case cr.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:xt.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:xt.Found,value:t[1].buffer}:{status:xt.Found,value:t[1]}}default:return{status:xt.Found,value:t}}const r=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],n=cc(r,t);switch(n.status){case xt.Found:return Ts(e.slice(1),n.value);case kn.Greater:case kn.Less:return{status:xt.Absent};default:return n}}function Eh(e){switch(e[0]){case cr.Empty:return[];case cr.Fork:return Eh(e[1]).concat(Eh(e[2]));default:return[e]}}function cc(e,t){switch(t[0]){case cr.Labeled:return pj(e,t[1])?{status:kn.Greater}:rl(e,t[1])?{status:xt.Found,value:t[2]}:{status:kn.Less};case cr.Fork:const r=cc(e,t[1]);switch(r.status){case kn.Greater:{const n=cc(e,t[2]);return n.status===kn.Less?{status:xt.Absent}:n}case xt.Unknown:{let n=cc(e,t[2]);return n.status===kn.Less?{status:xt.Unknown}:n}default:return r}case cr.Pruned:return{status:xt.Unknown};default:return{status:xt.Absent}}}function t2(e){const{canisterId:t,subnetId:r,tree:n}=e,s=Ts(["subnet",r.toUint8Array(),"canister_ranges"],n);if(s.status!==xt.Found||!(s.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);return _n(s.value).map(c=>[ze.fromUint8Array(c[0]),ze.fromUint8Array(c[1])]).some(c=>c[0].ltEq(t)&&c[1].gtEq(t))}class yj{constructor(t,r,n){this.key=t,this.path=r,this.decodeStrategy=n}}const r2=async e=>{const{agent:t,paths:r}=e,n=ze.from(e.canisterId),s=[...new Set(r)],o=s.map(c=>_h(c,n)),a=new Map,l=s.map((c,d)=>(async()=>{var b;try{const x=await t.readState(n,{paths:[o[d]]});if(t.rootKey==null)throw new Error("Agent is missing root key");const m=await ti.create({certificate:x.certificate,rootKey:t.rootKey,canisterId:n,disableTimeVerification:!0}),h=(W,w)=>{if(w==="subnet"){if(t.rootKey==null)throw new Error("Agent is missing root key");const k=n2(x.certificate,n,t.rootKey);return{path:w,data:k}}else return{path:w,data:vr(W.lookup(_h(w,n)))}},{path:y,data:N}=h(m,s[d]);if(!N)console.warn(`Expected to find result for path ${y}, but instead found nothing.`),typeof y=="string"?a.set(y,null):a.set(y.key,null);else switch(y){case"time":{a.set(y,ep(N));break}case"controllers":{a.set(y,bj(N));break}case"module_hash":{a.set(y,ig(N));break}case"subnet":{a.set(y,N);break}case"candid":{a.set(y,new TextDecoder().decode(N));break}default:if(typeof y!="string"&&"key"in y&&"path"in y)switch(y.decodeStrategy){case"raw":a.set(y.key,N);break;case"leb128":{a.set(y.key,e2(N));break}case"cbor":{a.set(y.key,o2(N));break}case"hex":{a.set(y.key,ig(N));break}case"utf-8":a.set(y.key,xj(N))}}}catch(x){if(!((b=x==null?void 0:x.message)===null||b===void 0)&&b.includes("Invalid certificate"))throw new lt(x.message);typeof c!="string"&&"key"in c&&"path"in c?a.set(c.key,null):a.set(c,null),console.group(),console.warn(`Expected to find result for path ${c}, but instead found nothing.`),console.warn(x),console.groupEnd()}})());return await Promise.all(l),a},n2=(e,t,r)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");const n=_n(new Uint8Array(e)),s=n.tree;let o=n.delegation,a;if(o&&o.subnet_id?a=ze.fromUint8Array(new Uint8Array(o.subnet_id)):!o&&typeof r<"u"?(a=ze.selfAuthenticating(new Uint8Array(r)),o={subnet_id:a.toUint8Array(),certificate:new ArrayBuffer(0)}):(a=ze.selfAuthenticating(ze.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),o={subnet_id:a.toUint8Array(),certificate:new ArrayBuffer(0)}),!t2({canisterId:t,subnetId:a,tree:s}))throw new Error("Canister not in range");const c=Ts(["subnet",o.subnet_id,"node"],s);if(c.status!==xt.Found)throw new Error("Node not found");if(c.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const d=Eh(c.value),b=new Map;return d.forEach(x=>{const m=ze.from(new Uint8Array(x[1])).toText(),h=Ts(["public_key"],x[2]);if(h.status!==xt.Found)throw new Error("Public key not found");const y=h.value;if(y.byteLength!==44)throw new Error("Invalid public key length");b.set(m,y)}),{subnetId:ze.fromUint8Array(new Uint8Array(o.subnet_id)).toText(),nodeKeys:b}},_h=(e,t)=>{const r=new TextEncoder,n=o=>new DataView(r.encode(o).buffer).buffer,s=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[n("time")];case"controllers":return[n("canister"),s,n("controllers")];case"module_hash":return[n("canister"),s,n("module_hash")];case"subnet":return[n("subnet")];case"candid":return[n("canister"),s,n("metadata"),n("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const o=e.path,a=typeof o=="string"?n(o):o;return[n("canister"),s,n("metadata"),a]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},ig=e=>et(e),o2=e=>_n(e),xj=e=>new TextDecoder().decode(e),bj=e=>o2(e).map(r=>ze.fromUint8Array(new Uint8Array(r))),wj=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:yj,encodePath:_h,fetchNodeKeys:n2,request:r2},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lr=BigInt(0),gt=BigInt(1),tf=BigInt(2),vj=BigInt(8);function Sj(e,t,r,n){const s=e.sqr(r),o=e.sqr(n),a=e.add(e.mul(t.a,s),o),l=e.add(e.ONE,e.mul(t.d,e.mul(s,o)));return e.eql(a,l)}function kj(e,t={}){const{Fp:r,Fn:n}=Xb("edwards",e,t),{h:s,n:o}=e;sl(t,{},{uvRatio:"function"});const a=tf<<BigInt(n.BYTES*8)-gt,l=N=>r.create(N),c=t.uvRatio||((N,W)=>{try{return{isValid:!0,value:r.sqrt(r.div(N,W))}}catch{return{isValid:!1,value:Lr}}});if(!Sj(r,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function d(N,W,w=!1){const k=w?gt:Lr;return ta("coordinate "+N,W,k,a),W}function b(N){if(!(N instanceof h))throw new Error("ExtendedPoint expected")}const x=Wa((N,W)=>{const{X:w,Y:k,Z:j}=N,P=N.is0();W==null&&(W=P?vj:r.inv(j));const C=l(w*W),B=l(k*W),R=r.mul(j,W);if(P)return{x:Lr,y:gt};if(R!==gt)throw new Error("invZ was invalid");return{x:C,y:B}}),m=Wa(N=>{const{a:W,d:w}=e;if(N.is0())throw new Error("bad point: ZERO");const{X:k,Y:j,Z:P,T:C}=N,B=l(k*k),R=l(j*j),H=l(P*P),X=l(H*H),$=l(B*W),Y=l(H*l($+R)),J=l(X+l(w*l(B*R)));if(Y!==J)throw new Error("bad point: equation left != right (1)");const A=l(k*j),U=l(P*C);if(A!==U)throw new Error("bad point: equation left != right (2)");return!0});class h{constructor(W,w,k,j){this.X=d("x",W),this.Y=d("y",w),this.Z=d("z",k,!0),this.T=d("t",j),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(W){return Cn(h,W)}static msm(W,w){return Zb(h,n,W,w)}_setWindowSize(W){this.precompute(W)}static fromAffine(W){if(W instanceof h)throw new Error("extended point not allowed");const{x:w,y:k}=W||{};return d("x",w),d("y",k),new h(w,k,gt,l(w*k))}precompute(W=8,w=!0){return y.createCache(this,W),w||this.multiply(tf),this}assertValidity(){m(this)}equals(W){b(W);const{X:w,Y:k,Z:j}=this,{X:P,Y:C,Z:B}=W,R=l(w*B),H=l(P*j),X=l(k*B),$=l(C*j);return R===H&&X===$}is0(){return this.equals(h.ZERO)}negate(){return new h(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:W}=e,{X:w,Y:k,Z:j}=this,P=l(w*w),C=l(k*k),B=l(tf*l(j*j)),R=l(W*P),H=w+k,X=l(l(H*H)-P-C),$=R+C,Y=$-B,J=R-C,A=l(X*Y),U=l($*J),V=l(X*J),K=l(Y*$);return new h(A,U,K,V)}add(W){b(W);const{a:w,d:k}=e,{X:j,Y:P,Z:C,T:B}=this,{X:R,Y:H,Z:X,T:$}=W,Y=l(j*R),J=l(P*H),A=l(B*k*$),U=l(C*X),V=l((j+P)*(R+H)-Y-J),K=U-A,te=U+A,Q=l(J-w*Y),ne=l(V*K),ue=l(te*Q),de=l(V*Q),le=l(K*te);return new h(ne,ue,le,de)}subtract(W){return this.add(W.negate())}multiply(W){const w=W;ta("scalar",w,gt,o);const{p:k,f:j}=y.cached(this,w,P=>Cn(h,P));return Cn(h,[k,j])[0]}multiplyUnsafe(W,w=h.ZERO){const k=W;return ta("scalar",k,Lr,o),k===Lr?h.ZERO:this.is0()||k===gt?this:y.unsafe(this,k,j=>Cn(h,j),w)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return y.unsafe(this,o).is0()}toAffine(W){return x(this,W)}clearCofactor(){return s===gt?this:this.multiplyUnsafe(s)}static fromBytes(W,w=!1){return It(W),h.fromHex(W,w)}static fromHex(W,w=!1){const{d:k,a:j}=e,P=r.BYTES;W=Jt("pointHex",W,P),$a("zip215",w);const C=W.slice(),B=W[P-1];C[P-1]=B&-129;const R=Ua(C),H=w?a:r.ORDER;ta("pointHex.y",R,Lr,H);const X=l(R*R),$=l(X-gt),Y=l(k*X-j);let{isValid:J,value:A}=c($,Y);if(!J)throw new Error("Point.fromHex: invalid y coordinate");const U=(A&gt)===gt,V=(B&128)!==0;if(!w&&A===Lr&&V)throw new Error("Point.fromHex: x=0 and x_0=1");return V!==U&&(A=l(-A)),h.fromAffine({x:A,y:R})}toBytes(){const{x:W,y:w}=this.toAffine(),k=Yd(w,r.BYTES);return k[k.length-1]|=W&gt?128:0,k}toRawBytes(){return this.toBytes()}toHex(){return Ss(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}h.BASE=new h(e.Gx,e.Gy,gt,l(e.Gx*e.Gy)),h.ZERO=new h(Lr,gt,gt,Lr),h.Fp=r,h.Fn=n;const y=new Kb(h,n.BYTES*8);return h}function jj(e,t,r){if(typeof t!="function")throw new Error('"hash" function param is required');sl(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n}=r,{BASE:s,Fp:o,Fn:a}=e,l=a.ORDER,c=r.randomBytes||wx,d=r.adjustScalarBytes||(Y=>Y),b=r.domain||((Y,J,A)=>{if($a("phflag",A),J.length||A)throw new Error("Contexts/pre-hash are not supported");return Y});function x(Y){return a.create(Y)}function m(Y){return x(Ua(Y))}function h(Y){const J=o.BYTES;Y=Jt("private key",Y,J);const A=Jt("hashed private key",t(Y),2*J),U=d(A.slice(0,J)),V=A.slice(J,2*J),K=m(U);return{head:U,prefix:V,scalar:K}}function y(Y){const{head:J,prefix:A,scalar:U}=h(Y),V=s.multiply(U),K=V.toBytes();return{head:J,prefix:A,scalar:U,point:V,pointBytes:K}}function N(Y){return y(Y).pointBytes}function W(Y=Uint8Array.of(),...J){const A=ft(...J);return m(t(b(A,Jt("context",Y),!!n)))}function w(Y,J,A={}){Y=Jt("message",Y),n&&(Y=n(Y));const{prefix:U,scalar:V,pointBytes:K}=y(J),te=W(A.context,U,Y),Q=s.multiply(te).toBytes(),ne=W(A.context,Q,K,Y),ue=x(te+ne*V);ta("signature.s",ue,Lr,l);const de=o.BYTES,le=ft(Q,Yd(ue,de));return Jt("result",le,de*2)}const k={zip215:!0};function j(Y,J,A,U=k){const{context:V,zip215:K}=U,te=o.BYTES;Y=Jt("signature",Y,2*te),J=Jt("message",J),A=Jt("publicKey",A,te),K!==void 0&&$a("zip215",K),n&&(J=n(J));const Q=Ua(Y.slice(te,2*te));let ne,ue,de;try{ne=e.fromHex(A,K),ue=e.fromHex(Y.slice(0,te),K),de=s.multiplyUnsafe(Q)}catch{return!1}if(!K&&ne.isSmallOrder())return!1;const le=W(V,ue.toBytes(),ne.toBytes(),J);return ue.add(ne.multiplyUnsafe(le)).subtract(de).clearCofactor().is0()}s.precompute(8);const P=o.BYTES,C={secret:P,public:P,signature:2*P,seed:P};function B(Y=c(C.seed)){return Y}const R={getExtendedPublicKey:y,randomSecretKey:B,isValidSecretKey:X,isValidPublicKey:$,randomPrivateKey:B,toMontgomery(Y){const{y:J}=e.fromBytes(Y),A=P===32;if(!A&&P!==57)throw new Error("only defined for 25519 and 448");const U=A?o.div(gt+J,gt-J):o.div(J-gt,J+gt);return o.toBytes(U)},toMontgomeryPriv(Y){It(Y,P);const J=t(Y.subarray(0,P));return d(J).subarray(0,P)},precompute(Y=8,J=e.BASE){return J.precompute(Y,!1)}};function H(Y){const J=R.randomSecretKey(Y);return{secretKey:J,publicKey:N(J)}}function X(Y){try{return!!a.fromBytes(Y,!1)}catch{return!1}}function $(Y,J){try{return!!e.fromBytes(Y,J)}catch{return!1}}return Object.freeze({keygen:H,getPublicKey:N,sign:w,verify:j,utils:R,Point:e,info:{type:"edwards",lengths:C}})}function Tj(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=zo(t.n,e.nBitLength,!0),s={Fp:r,Fn:n,uvRatio:e.uvRatio},o={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:s,hash:e.hash,eddsaOpts:o}}function Ej(e,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e})}function _j(e){const{CURVE:t,curveOpts:r,hash:n,eddsaOpts:s}=Tj(e),o=kj(t,r),a=jj(o,n,s);return Ej(e,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const Cj=BigInt(1),sg=BigInt(2);BigInt(3);const Nj=BigInt(5),Bj=BigInt(8),Jd={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Bj,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Aj(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),o=Jd.p,l=e*e%o*e%o,c=Qr(l,sg,o)*l%o,d=Qr(c,Cj,o)*e%o,b=Qr(d,Nj,o)*d%o,x=Qr(b,t,o)*b%o,m=Qr(x,r,o)*x%o,h=Qr(m,n,o)*m%o,y=Qr(h,s,o)*h%o,N=Qr(y,s,o)*h%o,W=Qr(N,t,o)*b%o;return{pow_p_5_8:Qr(W,sg,o)*e%o,b2:l}}function Rj(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const ag=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function zj(e,t){const r=Jd.p,n=dt(t*t*t,r),s=dt(n*n*t,r),o=Aj(e*s).pow_p_5_8;let a=dt(e*n*o,r);const l=dt(t*a*a,r),c=a,d=dt(a*ag,r),b=l===e,x=l===dt(-e,r),m=l===dt(-e*ag,r);return b&&(a=c),(x||m)&&(a=d),C6(a,r)&&(a=dt(-a,r)),{isValid:b||x,value:a}}const Fj=(()=>zo(Jd.p,{isLE:!0}))(),Pj=(()=>({...Jd,Fp:Fj,hash:e4,adjustScalarBytes:Rj,uvRatio:zj}))(),Pi=(()=>_j(Pj))();var lg=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},Zt=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ut,na,i2,s2;class Mj{constructor(t={}){Ut.set(this,void 0),na.set(this,void 0),this[i2]=this.entries.bind(this),this[s2]="ExpirableMap";const{source:r=[],expirationTime:n=10*60*1e3}=t,s=Date.now();lg(this,Ut,new Map([...r].map(([o,a])=>[o,{value:a,timestamp:s}])),"f"),lg(this,na,n,"f")}prune(){const t=Date.now();for(const[r,n]of Zt(this,Ut,"f").entries())t-n.timestamp>Zt(this,na,"f")&&Zt(this,Ut,"f").delete(r);return this}set(t,r){this.prune();const n={value:r,timestamp:Date.now()};return Zt(this,Ut,"f").set(t,n),this}get(t){const r=Zt(this,Ut,"f").get(t);if(r!==void 0){if(Date.now()-r.timestamp>Zt(this,na,"f")){Zt(this,Ut,"f").delete(t);return}return r.value}}clear(){Zt(this,Ut,"f").clear()}entries(){const t=Zt(this,Ut,"f").entries();return function*(){for(const[n,s]of t)yield[n,s.value]}()}values(){const t=Zt(this,Ut,"f").values();return function*(){for(const n of t)yield n.value}()}keys(){return Zt(this,Ut,"f").keys()}forEach(t,r){for(const[n,s]of Zt(this,Ut,"f").entries())t.call(r,s.value,n,this)}has(t){return Zt(this,Ut,"f").has(t)}delete(t){return Zt(this,Ut,"f").delete(t)}get size(){return Zt(this,Ut,"f").size}}Ut=new WeakMap,na=new WeakMap,i2=Symbol.iterator,s2=Symbol.toStringTag;const cg=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},dg=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},Ch=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},Oj=(e,t)=>{const r=Ch(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const ad=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function a2(e,t){const r=2+cg(e.byteLength+1),n=t.byteLength+r+e.byteLength;let s=0;const o=new Uint8Array(1+cg(n)+n);return o[s++]=48,s+=dg(o,s,n),o.set(t,s),s+=t.byteLength,o[s++]=3,s+=dg(o,s,e.byteLength+1),o[s++]=0,o.set(new Uint8Array(e),s),o}const l2=(e,t)=>{let r=0;const n=(l,c)=>{if(s[r++]!==l)throw new Error("Expected: "+c)},s=new Uint8Array(e);if(n(48,"sequence"),r+=Ch(s,r),!rl(s.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,n(3,"bit string");const o=Oj(s,r)-1;r+=Ch(s,r),n(0,"0 padding");const a=s.slice(r);if(o!==a.length)throw new Error(`DER payload mismatch: Expected length ${o} actual length ${a.length}`);return a};var ug=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},fg=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},dc,uc;let c2=class oa{constructor(t){if(dc.set(this,void 0),uc.set(this,void 0),t.byteLength!==oa.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");ug(this,dc,t,"f"),ug(this,uc,oa.derEncode(t),"f")}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new oa(t)}static fromDer(t){return new oa(this.derDecode(t))}static derEncode(t){return a2(t,ad).buffer}static derDecode(t){const r=l2(t,ad);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return fg(this,dc,"f")}get derKey(){return fg(this,uc,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};dc=new WeakMap,uc=new WeakMap;c2.RAW_KEY_LENGTH=32;class $j{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(r=>r!==t)}notify(t,...r){this.observers.forEach(n=>n(t,...r))}}class Uj extends $j{constructor(){super()}print(t,...r){this.notify({message:t,level:"info"},...r)}warn(t,...r){this.notify({message:t,level:"warn"},...r)}error(t,r,...n){this.notify({message:t,level:"error",error:r},...n)}}var Jr=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},$t=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Dr,fc,hc,pc,mc,gc,yc,xc,Mi;const d2=.5,u2=1.5,f2=500,h2=6e4,p2=9e5,m2=10;class Ld{constructor(t=Ld.default){Dr.set(this,void 0),fc.set(this,void 0),hc.set(this,void 0),pc.set(this,void 0),mc.set(this,void 0),gc.set(this,void 0),yc.set(this,void 0),xc.set(this,void 0),Mi.set(this,0);const{initialInterval:r=f2,randomizationFactor:n=d2,multiplier:s=u2,maxInterval:o=h2,maxElapsedTime:a=p2,maxIterations:l=m2,date:c=Date}=t;Jr(this,Dr,r,"f"),Jr(this,fc,n,"f"),Jr(this,hc,s,"f"),Jr(this,pc,o,"f"),Jr(this,xc,c,"f"),Jr(this,mc,c.now(),"f"),Jr(this,gc,a,"f"),Jr(this,yc,l,"f")}get ellapsedTimeInMsec(){return $t(this,xc,"f").now()-$t(this,mc,"f")}get currentInterval(){return $t(this,Dr,"f")}get count(){return $t(this,Mi,"f")}get randomValueFromInterval(){const t=$t(this,fc,"f")*$t(this,Dr,"f"),r=$t(this,Dr,"f")-t,n=$t(this,Dr,"f")+t;return Math.random()*(n-r)+r}incrementCurrentInterval(){var t;return Jr(this,Dr,Math.min($t(this,Dr,"f")*$t(this,hc,"f"),$t(this,pc,"f")),"f"),Jr(this,Mi,(t=$t(this,Mi,"f"),t++,t),"f"),$t(this,Dr,"f")}next(){return this.ellapsedTimeInMsec>=$t(this,gc,"f")||$t(this,Mi,"f")>=$t(this,yc,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}Dr=new WeakMap,fc=new WeakMap,hc=new WeakMap,pc=new WeakMap,mc=new WeakMap,gc=new WeakMap,yc=new WeakMap,xc=new WeakMap,Mi=new WeakMap;Ld.default={initialInterval:f2,randomizationFactor:d2,multiplier:u2,maxInterval:h2,maxElapsedTime:p2,maxIterations:m2,date:Date};var Et=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},be=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Wt,Oo,us,en,bn,ns,ia,Oi,Rr,Pr,$o,Uo,sa,$i,Ui,Wo,Ho,g2,bc,wc,Vo,wn;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(wn||(wn={}));const Wl=60*1e3,Wj="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",Vj="aaaaa-aa",Hj="ic0.app",qj=".ic0.app",Ij="icp0.io",Gj=".icp0.io",Yj="icp-api.io",Kj=".icp-api.io";class rf extends lt{constructor(t){super(t),this.message=t}}class Vl extends lt{constructor(t){super(t),this.message=t}}function Zj(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new rf("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new rf("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new rf("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function Xj(e){let t;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?t=new URL(window.location.protocol+"//"+e):t=new URL(e);else{const r=["ic0.app","icp0.io","127.0.0.1","localhost"],n=[".github.dev",".gitpod.io"],s=typeof window<"u"?window.location:void 0,o=s==null?void 0:s.hostname;let a;o&&typeof o=="string"&&(n.some(l=>o.endsWith(l))?a=o:a=r.find(l=>o.endsWith(l))),s&&a?t=new URL(`${s.protocol}//${a}${s.port?":"+s.port:""}`):t=new URL("https://icp-api.io")}return t.toString()}class Xo{constructor(t={}){var r,n;Wt.add(this),Oo.set(this,null),us.set(this,!1),en.set(this,void 0),bn.set(this,void 0),ns.set(this,void 0),ia.set(this,void 0),Oi.set(this,0),Rr.set(this,void 0),Pr.set(this,void 0),$o.set(this,void 0),Uo.set(this,void 0),this._isAgent=!0,this.config={},sa.set(this,0),this.log=new Uj,$i.set(this,[]),Ui.set(this,[]),Wo.set(this,new Mj({expirationTime:5*60*1e3})),Ho.set(this,!0),wc.set(this,(a,l)=>{if(be(this,Ho,"f")===!1)return a;if(!l)throw new nn("Invalid signature from replica signed query: no matching node key found.");const{status:c,signatures:d=[],requestId:b}=a,x=En(new TextEncoder().encode("\vic-response"));for(const m of d){const{timestamp:h,identity:y}=m,N=ze.fromUint8Array(y).toText();let W;if(c==="replied"){const{reply:C}=a;W=ed({status:c,reply:C,timestamp:BigInt(h),request_id:b})}else if(c==="rejected"){const{reject_code:C,reject_message:B,error_code:R}=a;W=ed({status:c,reject_code:C,reject_message:B,error_code:R,timestamp:BigInt(h),request_id:b})}else throw new Error(`Unknown status: ${c}`);const w=Vr(x,En(new Uint8Array(W))),k=l==null?void 0:l.nodeKeys.get(N);if(!k)throw new nn("Invalid signature from replica signed query: no matching node key found.");const j=c2.fromDer(k).rawKey;if(Pi.verify(m.signature,new Uint8Array(w),new Uint8Array(j)))return a;throw new nn(`Invalid signature from replica ${N} signed query.`)}return a}),this.config=t,Et(this,bn,t.fetch||Zj()||fetch.bind(global),"f"),Et(this,ns,t.fetchOptions,"f"),Et(this,ia,t.callOptions,"f"),Et(this,us,(r=t.shouldFetchRootKey)!==null&&r!==void 0?r:!1,"f"),t.rootKey?this.rootKey=t.rootKey:be(this,us,"f")?this.rootKey=null:this.rootKey=zn(Wj);const s=Xj(t.host);this.host=new URL(s),t.verifyQuerySignatures!==void 0&&Et(this,Ho,t.verifyQuerySignatures,"f"),Et(this,Pr,(n=t.retryTimes)!==null&&n!==void 0?n:3,"f");const o=()=>new Ld({maxIterations:be(this,Pr,"f")});if(Et(this,$o,t.backoffStrategy||o,"f"),this.host.hostname.endsWith(qj)?this.host.hostname=Hj:this.host.hostname.endsWith(Gj)?this.host.hostname=Ij:this.host.hostname.endsWith(Kj)&&(this.host.hostname=Yj),t.credentials){const{name:a,password:l}=t.credentials;Et(this,Rr,`${a}${l?":"+l:""}`,"f")}if(Et(this,en,Promise.resolve(t.identity||new td),"f"),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw new lt(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw new lt(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);Et(this,Uo,t.ingressExpiryInMinutes||5,"f"),this.addTransform("update",qm(kh)),t.useQueryNonces&&this.addTransform("query",qm(kh)),t.logToConsole&&this.log.subscribe(a=>{a.level==="error"?console.error(a.message):a.level==="warn"?console.warn(a.message):console.log(a.message)})}get waterMark(){return be(this,sa,"f")}static createSync(t={}){return new this(Object.assign({},t))}static async create(t={shouldFetchRootKey:!1}){const r=Xo.createSync(t),n=[r.syncTime()];return r.host.toString()!=="https://icp-api.io"&&t.shouldFetchRootKey&&n.push(r.fetchRootKey()),await Promise.all(n),r}static async from(t){var r;try{return"config"in t?await Xo.create(t.config):await Xo.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:(r=t._identity)!==null&&r!==void 0?r:void 0})}catch{throw new lt("Failed to create agent from provided agent")}}isLocal(){const t=this.host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,r,n=r.priority||0){if(t==="update"){const s=be(this,Ui,"f").findIndex(o=>(o.priority||0)<n);be(this,Ui,"f").splice(s>=0?s:be(this,Ui,"f").length,0,Object.assign(r,{priority:n}))}else if(t==="query"){const s=be(this,$i,"f").findIndex(o=>(o.priority||0)<n);be(this,$i,"f").splice(s>=0?s:be(this,$i,"f").length,0,Object.assign(r,{priority:n}))}}async getPrincipal(){if(!be(this,en,"f"))throw new Vl("This identity has expired due this application's security policy. Please refresh your authentication.");return(await be(this,en,"f")).getPrincipal()}async call(t,r,n){var s,o;await be(this,Wt,"m",Vo).call(this);const a=(s=r.callSync)!==null&&s!==void 0?s:!0,l=await(n!==void 0?await n:await be(this,en,"f"));if(!l)throw new Vl("This identity has expired due this application's security policy. Please refresh your authentication.");const c=ze.from(t),d=r.effectiveCanisterId?ze.from(r.effectiveCanisterId):c,b=l.getPrincipal()||ze.anonymous();let x=new $l(be(this,Uo,"f")*Wl);Math.abs(be(this,Oi,"f"))>1e3*30&&(x=new $l(be(this,Uo,"f")*Wl+be(this,Oi,"f")));const m={request_type:Sh.Call,canister_id:c,method_name:r.methodName,arg:r.arg,sender:b,ingress_expiry:x};let h=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},be(this,Rr,"f")?{Authorization:"Basic "+btoa(be(this,Rr,"f"))}:{})},endpoint:"call",body:m}),y;r!=null&&r.nonce?y=N(r.nonce):h.body.nonce?y=N(h.body.nonce):y=void 0,m.nonce=y;function N(j){return new Uint8Array(j)}h=await l.transformRequest(h);const W=Hu(h.body),w=be(this,$o,"f").call(this),k=Oa(m);try{const j=()=>(this.log.print(`fetching "/api/v3/canister/${d.toText()}/call" with request:`,h),be(this,bn,"f").call(this,""+new URL(`/api/v3/canister/${d.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},be(this,ia,"f")),h.request),{body:W}))),P=()=>(this.log.print(`fetching "/api/v2/canister/${d.toText()}/call" with request:`,h),be(this,bn,"f").call(this,""+new URL(`/api/v2/canister/${d.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},be(this,ia,"f")),h.request),{body:W}))),B=await be(this,Wt,"m",bc).call(this,{request:a?j:P,backoff:w,tries:0}),R=await B.arrayBuffer(),H=B.status===200&&R.byteLength>0?_n(R):null;if(H&&"certificate"in H){const X=await this.parseTimeFromResponse({certificate:H.certificate});Et(this,sa,X,"f")}return{requestId:k,response:{ok:B.ok,status:B.status,statusText:B.statusText,body:H,headers:ea(B.headers)},requestDetails:m}}catch(j){if(j.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,Object.assign(Object.assign({},r),{callSync:!1}),n);const P=`Error while making call: ${(o=j.message)!==null&&o!==void 0?o:String(j)}`,C=new x6(P,j,et(k),et(h.body.sender_pubkey),et(h.body.sender_sig),String(h.body.content.ingress_expiry._value));throw this.log.error(P,C),C}}async query(t,r,n){var s,o,a,l;await be(this,Wt,"m",Vo).call(this);const c=be(this,$o,"f").call(this),d=r.effectiveCanisterId?ze.from(r.effectiveCanisterId):ze.from(t);this.log.print(`ecid ${d.toString()}`),this.log.print(`canisterId ${t.toString()}`);let b,x;const m=await(n!==void 0?n:be(this,en,"f"));if(!m)throw new Vl("This identity has expired due this application's security policy. Please refresh your authentication.");const h=ze.from(t),y=(m==null?void 0:m.getPrincipal())||ze.anonymous(),N={request_type:"query",canister_id:h,method_name:r.methodName,arg:r.arg,sender:y,ingress_expiry:new $l(be(this,Uo,"f")*Wl)},W=Oa(N);b=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},be(this,Rr,"f")?{Authorization:"Basic "+btoa(be(this,Rr,"f"))}:{})},endpoint:"read",body:N}),b=await(m==null?void 0:m.transformRequest(b));const w=Hu(b.body),k={canister:h.toText(),ecid:d,transformedRequest:b,body:w,requestId:W,backoff:c,tries:0},j=async()=>({requestDetails:N,query:await be(this,Wt,"m",g2).call(this,k)}),P=async()=>{if(!be(this,Ho,"f"))return;const C=be(this,Wo,"f").get(d.toString());return C||(await this.fetchSubnetKeys(d.toString()),be(this,Wo,"f").get(d.toString()))};try{const[C,B]=await Promise.all([j(),P()]);x=C;const{requestDetails:R,query:H}=x,X=Object.assign(Object.assign({},H),{requestDetails:R});if(this.log.print("Query response:",X),!be(this,Ho,"f"))return X;try{return be(this,wc,"f").call(this,X,B)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),be(this,Wo,"f").delete(t.toString()),await this.fetchSubnetKeys(d.toString());const Y=be(this,Wo,"f").get(t.toString());if(!Y)throw new nn("Invalid signature from replica signed query: no matching node key found.");return be(this,wc,"f").call(this,X,Y)}}catch(C){const B=`Error while making call: ${(s=C.message)!==null&&s!==void 0?s:String(C)}`,R=new b6(B,C,String(W),et((o=b==null?void 0:b.body)===null||o===void 0?void 0:o.sender_pubkey),et((a=b==null?void 0:b.body)===null||a===void 0?void 0:a.sender_sig),String((l=b==null?void 0:b.body)===null||l===void 0?void 0:l.content.ingress_expiry._value));throw this.log.error(B,R),R}}async createReadStateRequest(t,r){await be(this,Wt,"m",Vo).call(this);const n=await(r!==void 0?await r:await be(this,en,"f"));if(!n)throw new Vl("This identity has expired due this application's security policy. Please refresh your authentication.");const s=(n==null?void 0:n.getPrincipal())||ze.anonymous(),o=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},be(this,Rr,"f")?{Authorization:"Basic "+btoa(be(this,Rr,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:s,ingress_expiry:new $l(be(this,Uo,"f")*Wl)}});return n==null?void 0:n.transformRequest(o)}async readState(t,r,n,s){var o,a,l,c;function d(N){for(const W of N.paths){const[w,k]=W,j=En(new TextEncoder().encode("request_status"));if(rl(w,j))return k}}const b=d(r);await be(this,Wt,"m",Vo).call(this);const x=typeof t=="string"?ze.fromText(t):t,m=s??await this.createReadStateRequest(r,n),h=Hu(m.body);this.log.print(`fetching "/api/v2/canister/${x}/read_state" with request:`,m);const y=be(this,$o,"f").call(this);try{const N=await be(this,Wt,"m",bc).call(this,{request:()=>be(this,bn,"f").call(this,""+new URL(`/api/v2/canister/${x.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},be(this,ns,"f")),m.request),{body:h})),backoff:y,tries:0});if(!N.ok)throw new Error(`Server returned an error:
  Code: ${N.status} (${N.statusText})
  Body: ${await N.text()}
`);const W=_n(await N.arrayBuffer());this.log.print("Read state response:",W);const w=await this.parseTimeFromResponse(W);return w>0&&(this.log.print("Read state response time:",w),Et(this,sa,w,"f")),W}catch(N){const W=`Caught exception while attempting to read state: ${(o=N.message)!==null&&o!==void 0?o:String(N)}`,w=new w6(W,N,String(b),et((a=m==null?void 0:m.body)===null||a===void 0?void 0:a.sender_pubkey),et((l=m==null?void 0:m.body)===null||l===void 0?void 0:l.sender_sig),String((c=m==null?void 0:m.body)===null||c===void 0?void 0:c.content.ingress_expiry._value));throw this.log.error(W,w),w}}async parseTimeFromResponse(t){let r;if(t.certificate){const n=_n(t.certificate);if(n&&"tree"in n)r=n.tree;else throw new Error("Could not decode time from response");const s=Ts(["time"],r);if(s.status!==xt.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(s.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(s))throw new Error("Time was not found in the response or was not in its expected format.");const o=ep(En(s.value));return this.log.print("Time from response:",o),this.log.print("Time from response in milliseconds:",Number(o)),Number(o)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){await be(this,Wt,"m",Vo).call(this);const r=await L1(()=>Promise.resolve().then(()=>wj),void 0,import.meta.url),n=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const s=Xo.createSync({identity:new td,host:this.host.toString(),fetch:be(this,bn,"f"),retryTimes:0}),a=(await r.request({canisterId:t??ze.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:s,paths:["time"]})).get("time");a&&(Et(this,Oi,Number(a)-Number(n),"f"),this.log.notify({message:`Syncing time: offset of ${be(this,Oi,"f")}`,level:"info"}))}catch(s){this.log.error("Caught exception while attempting to sync time",s)}}async status(){const t=be(this,Rr,"f")?{Authorization:"Basic "+btoa(be(this,Rr,"f"))}:{};this.log.print('fetching "/api/v2/status"');const r=be(this,$o,"f").call(this),n=await be(this,Wt,"m",bc).call(this,{backoff:r,request:()=>be(this,bn,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:t},be(this,ns,"f"))),tries:0});return _n(await n.arrayBuffer())}async fetchRootKey(){let t;return be(this,Oo,"f")?t=await be(this,Oo,"f"):(Et(this,Oo,new Promise((r,n)=>{this.status().then(s=>{const o=s.root_key;this.rootKey=o,r(o)}).catch(n)}),"f"),t=await be(this,Oo,"f")),Et(this,Oo,null,"f"),t}invalidateIdentity(){Et(this,en,null,"f")}replaceIdentity(t){Et(this,en,Promise.resolve(t),"f")}async fetchSubnetKeys(t){await be(this,Wt,"m",Vo).call(this);const r=ze.from(t),s=(await r2({canisterId:r,paths:["subnet"],agent:this})).get("subnet");if(s&&typeof s=="object"&&"nodeKeys"in s)return be(this,Wo,"f").set(r.toText(),s),s}_transform(t){let r=Promise.resolve(t);if(t.endpoint==="call")for(const n of be(this,Ui,"f"))r=r.then(s=>n(s).then(o=>o||s));else for(const n of be(this,$i,"f"))r=r.then(s=>n(s).then(o=>o||s));return r}}Oo=new WeakMap,us=new WeakMap,en=new WeakMap,bn=new WeakMap,ns=new WeakMap,ia=new WeakMap,Oi=new WeakMap,Rr=new WeakMap,Pr=new WeakMap,$o=new WeakMap,Uo=new WeakMap,sa=new WeakMap,$i=new WeakMap,Ui=new WeakMap,Wo=new WeakMap,Ho=new WeakMap,wc=new WeakMap,Wt=new WeakSet,g2=async function e(t){var r,n;const{ecid:s,transformedRequest:o,body:a,requestId:l,backoff:c,tries:d}=t,b=d===0?0:c.next();if(this.log.print(`fetching "/api/v2/canister/${s.toString()}/query" with tries:`,{tries:d,backoff:c,delay:b}),b===null)throw new lt(`Timestamp failed to pass the watermark after retrying the configured ${be(this,Pr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);b>0&&await new Promise(y=>setTimeout(y,b));let x;try{this.log.print(`fetching "/api/v2/canister/${s.toString()}/query" with request:`,o);const y=await be(this,bn,"f").call(this,""+new URL(`/api/v2/canister/${s.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},be(this,ns,"f")),o.request),{body:a}));if(y.status===200){const N=_n(await y.arrayBuffer());x=Object.assign(Object.assign({},N),{httpDetails:{ok:y.ok,status:y.status,statusText:y.statusText,headers:ea(y.headers)},requestId:l})}else throw new qu(`Gateway returned an error:
  Code: ${y.status} (${y.statusText})
  Body: ${await y.text()}
`,{ok:y.ok,status:y.status,statusText:y.statusText,headers:ea(y.headers)})}catch(y){if(d<be(this,Pr,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${y}
  Retrying query.`),await be(this,Wt,"m",e).call(this,Object.assign(Object.assign({},t),{tries:d+1}));throw y}const m=(n=(r=x.signatures)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.timestamp;if(!be(this,Ho,"f"))return x;if(!m)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const h=Number(BigInt(m)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:h}),Number(this.waterMark)>h){const y=new lt("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",y,{timestamp:m,waterMark:this.waterMark}),d<be(this,Pr,"f"))return await be(this,Wt,"m",e).call(this,Object.assign(Object.assign({},t),{tries:d+1}));throw new lt(`Timestamp failed to pass the watermark after retrying the configured ${be(this,Pr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return x},bc=async function e(t){const{request:r,backoff:n,tries:s}=t,o=s===0?0:n.next();if(o===null)throw new lt(`Timestamp failed to pass the watermark after retrying the configured ${be(this,Pr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);o>0&&await new Promise(d=>setTimeout(d,o));let a;try{a=await r()}catch(d){if(be(this,Pr,"f")>s)return this.log.warn(`Caught exception while attempting to make request:
  ${d}
  Retrying request.`),await be(this,Wt,"m",e).call(this,{request:r,backoff:n,tries:s+1});throw d}if(a.ok)return a;const l=await a.clone().text(),c=`Server returned an error:
  Code: ${a.status} (${a.statusText})
  Body: ${l}
`;if(a.status===404&&a.url.includes("api/v3"))throw new qu("v3 api not supported. Fall back to v2",{ok:a.ok,status:a.status,statusText:a.statusText,headers:ea(a.headers)});if(s<be(this,Pr,"f"))return await be(this,Wt,"m",e).call(this,{request:r,backoff:n,tries:s+1});throw new qu(c,{ok:a.ok,status:a.status,statusText:a.statusText,headers:ea(a.headers)})},Vo=async function(){if(!this.rootKey)if(this.rootKey===null&&be(this,us,"f"))await this.fetchRootKey();else throw new lt(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${be(this,us,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var hg;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(hg||(hg={}));function pg(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const Qj=5*60*1e3;function y2(){return t8(Lj(Jj(),1e3),e8(1e3,1.2),Dj(Qj))}function Jj(){let e=!0;return async()=>e?(e=!1,!0):!1}function Lj(e,t){return async(r,n,s)=>{if(await e(r,n,s))return new Promise(o=>setTimeout(o,t))}}function Dj(e){const t=Date.now()+e;return async(r,n,s)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${et(n)}
  Request status: ${s}
`)}}function e8(e,t){let r=e;return()=>new Promise(n=>setTimeout(()=>{r*=t,n()},r))}function t8(...e){return async(t,r,n)=>{for(const s of e)await s(t,r,n)}}async function x2(e,t,r,n=y2(),s,o){var a;const l=[new TextEncoder().encode("request_status"),r],c=s??await((a=e.createReadStateRequest)===null||a===void 0?void 0:a.call(e,{paths:[l]})),d=await e.readState(t,{paths:[l]},void 0,c);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const b=await ti.create({certificate:d.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:o}),x=vr(b.lookup([...l,new TextEncoder().encode("status")]));let m;switch(typeof x>"u"?m=wn.Unknown:m=new TextDecoder().decode(x),m){case wn.Replied:return{reply:vr(b.lookup([...l,"reply"])),certificate:b};case wn.Received:case wn.Unknown:case wn.Processing:return await n(t,r,m),x2(e,t,r,n,c,o);case wn.Rejected:{const h=new Uint8Array(vr(b.lookup([...l,"reject_code"])))[0],y=new TextDecoder().decode(vr(b.lookup([...l,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${et(r)}
  Reject code: ${h}
  Reject text: ${y}
`)}case wn.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${et(r)}
`)}throw new Error("unreachable")}const r8=({IDL:e})=>{const t=e.Variant({mainnet:e.Null,testnet:e.Null}),r=e.Text,n=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),s=e.Nat64,o=s,a=e.Nat32,l=e.Record({start_height:a,end_height:e.Opt(a),network:t}),c=e.Vec(e.Nat8),d=e.Record({tip_height:a,block_headers:e.Vec(c)}),b=e.Record({network:t}),x=e.Nat64,m=e.Vec(x),h=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),y=e.Vec(e.Nat8),N=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),W=e.Record({height:e.Nat32,value:s,outpoint:N}),w=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:a,tip_block_hash:y,utxos:e.Vec(W)}),k=e.Record({transaction:e.Vec(e.Nat8),network:t}),j=e.Principal,P=e.Record({canister_id:j,num_requested_changes:e.Opt(e.Nat64)}),C=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),B=e.Vec(e.Nat8),R=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:B}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),H=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:C,details:R}),X=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(H),total_num_changes:e.Nat64}),$=e.Record({canister_id:j}),Y=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),J=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:Y,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),A=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:J,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),U=e.Record({canister_id:j}),V=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(Y),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),K=e.Record({settings:e.Opt(V),sender_canister_version:e.Opt(e.Nat64)}),te=e.Record({canister_id:j}),Q=e.Record({canister_id:j}),ne=e.Record({canister_id:j,snapshot_id:B}),ue=e.Record({canister_id:j}),de=e.Variant({secp256k1:e.Null}),le=e.Record({key_id:e.Record({name:e.Text,curve:de}),canister_id:e.Opt(j),derivation_path:e.Vec(e.Vec(e.Nat8))}),fe=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),F=e.Record({canister_id:j}),ke=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),xe=e.Record({canister_log_records:e.Vec(ke)}),ye=e.Record({value:e.Text,name:e.Text}),pe=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(ye)}),me=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:pe})],[pe],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(ye)}),M=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),q=e.Record({hash:e.Vec(e.Nat8)}),L=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:M,chunk_hashes_list:e.Vec(q),target_canister:j,store_canister:e.Opt(j),sender_canister_version:e.Opt(e.Nat64)}),re=e.Vec(e.Nat8),Z=e.Record({arg:e.Vec(e.Nat8),wasm_module:re,mode:M,canister_id:j,sender_canister_version:e.Opt(e.Nat64)}),D=e.Record({canister_id:j}),S=e.Record({id:B,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),f=e.Vec(S),p=e.Record({canister_id:j,sender_canister_version:e.Opt(e.Nat64),snapshot_id:B}),E=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),O=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),_=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(O)})),ie=e.Record({settings:e.Opt(V),specified_id:e.Opt(j),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),he=e.Record({canister_id:j}),we=e.Record({canister_id:j,amount:e.Nat}),z=e.Vec(e.Nat8),ee=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),v=e.Record({key_id:e.Record({algorithm:ee,name:e.Text}),canister_id:e.Opt(j),derivation_path:e.Vec(e.Vec(e.Nat8))}),u=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),g=e.Record({key_id:e.Record({name:e.Text,curve:de}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),I=e.Record({signature:e.Vec(e.Nat8)}),se=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),ce=e.Record({aux:e.Opt(se),key_id:e.Record({algorithm:ee,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),ae=e.Record({signature:e.Vec(e.Nat8)}),Te=e.Record({canister_id:j}),Re=e.Record({canister_id:j}),Be=e.Record({canister_id:j}),Ce=e.Vec(q),$e=e.Record({subnet_id:e.Principal}),He=e.Record({replica_version:e.Text}),Hn=e.Record({replace_snapshot:e.Opt(B),canister_id:j}),Kr=S,qn=e.Record({canister_id:j,sender_canister_version:e.Opt(e.Nat64)}),In=e.Record({canister_id:e.Principal,settings:V,sender_canister_version:e.Opt(e.Nat64)}),Gn=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),zt=q;return e.Service({bitcoin_get_balance:e.Func([n],[o],[]),bitcoin_get_block_headers:e.Func([l],[d],[]),bitcoin_get_current_fee_percentiles:e.Func([b],[m],[]),bitcoin_get_utxos:e.Func([h],[w],[]),bitcoin_send_transaction:e.Func([k],[],[]),canister_info:e.Func([P],[X],[]),canister_status:e.Func([$],[A],[]),clear_chunk_store:e.Func([U],[],[]),create_canister:e.Func([K],[te],[]),delete_canister:e.Func([Q],[],[]),delete_canister_snapshot:e.Func([ne],[],[]),deposit_cycles:e.Func([ue],[],[]),ecdsa_public_key:e.Func([le],[fe],[]),fetch_canister_logs:e.Func([F],[xe],["query"]),http_request:e.Func([me],[pe],[]),install_chunked_code:e.Func([L],[],[]),install_code:e.Func([Z],[],[]),list_canister_snapshots:e.Func([D],[f],[]),load_canister_snapshot:e.Func([p],[],[]),node_metrics_history:e.Func([E],[_],[]),provisional_create_canister_with_cycles:e.Func([ie],[he],[]),provisional_top_up_canister:e.Func([we],[],[]),raw_rand:e.Func([],[z],[]),schnorr_public_key:e.Func([v],[u],[]),sign_with_ecdsa:e.Func([g],[I],[]),sign_with_schnorr:e.Func([ce],[ae],[]),start_canister:e.Func([Te],[],[]),stop_canister:e.Func([Re],[],[]),stored_chunks:e.Func([Be],[Ce],[]),subnet_info:e.Func([$e],[He],[]),take_canister_snapshot:e.Func([Hn],[Kr],[]),uninstall_code:e.Func([qn],[],[]),update_settings:e.Func([In],[],[]),upload_chunk:e.Func([Gn],[zt],[])})};class b2 extends lt{constructor(t,r,n,s){super(["Call failed:",`  Canister: ${t.toText()}`,`  Method: ${r} (${n})`,...Object.getOwnPropertyNames(s).map(o=>`  "${o}": ${JSON.stringify(s[o])}`)].join(`
`)),this.canisterId=t,this.methodName=r,this.type=n,this.props=s}}class n8 extends b2{constructor(t,r,n){var s;super(t,r,"query",{Status:n.status,Code:(s=fh[n.reject_code])!==null&&s!==void 0?s:`Unknown Code "${n.reject_code}"`,Message:n.reject_message}),this.result=n}}class mg extends b2{constructor(t,r,n,s,o,a,l){super(t,r,"update",Object.assign({"Request ID":et(n)},s.body?Object.assign(Object.assign({},l?{"Error code":l}:{}),{"Reject code":String(o),"Reject message":a}):{"HTTP status code":s.status.toString(),"HTTP status text":s.statusText})),this.requestId=n,this.response=s,this.reject_code=o,this.reject_message=a,this.error_code=l}}const xr=Symbol.for("ic-agent-metadata");class Dd{constructor(t){this[xr]=Object.freeze(t)}static agentOf(t){return t[xr].config.agent}static interfaceOf(t){return t[xr].service}static canisterIdOf(t){return ze.from(t[xr].config.canisterId)}static async install(t,r){const n=t.mode===void 0?{install:null}:t.mode,s=t.arg?[...new Uint8Array(t.arg)]:[],o=[...new Uint8Array(t.module)],a=typeof r.canisterId=="string"?ze.fromText(r.canisterId):r.canisterId;await gg(r).install_code({mode:n,arg:s,wasm_module:o,canister_id:a,sender_canister_version:[]})}static async createCanister(t,r){function n(o){return[{controllers:o.controllers?[o.controllers]:[],compute_allocation:o.compute_allocation?[o.compute_allocation]:[],freezing_threshold:o.freezing_threshold?[o.freezing_threshold]:[],memory_allocation:o.memory_allocation?[o.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:s}=await gg(t||{}).provisional_create_canister_with_cycles({amount:[],settings:n(r||{}),specified_id:[],sender_canister_version:[]});return s}static async createAndInstallCanister(t,r,n){const s=await this.createCanister(n);return await this.install(Object.assign({},r),Object.assign(Object.assign({},n),{canisterId:s})),this.createActor(t,Object.assign(Object.assign({},n),{canisterId:s}))}static createActorClass(t,r){const n=t({IDL:m4});class s extends Dd{constructor(a){if(!a.canisterId)throw new lt(`Canister ID is required, but received ${typeof a.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const l=typeof a.canisterId=="string"?ze.fromText(a.canisterId):a.canisterId;super({config:Object.assign(Object.assign(Object.assign({},w2),a),{canisterId:l}),service:n});for(const[c,d]of n._fields)r!=null&&r.httpDetails&&d.annotations.push(Nh),r!=null&&r.certificate&&d.annotations.push(v2),this[c]=o8(this,c,d,a.blsVerify)}}return s}static createActor(t,r){if(!r.canisterId)throw new lt(`Canister ID is required, but received ${typeof r.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(r)}static createActorWithHttpDetails(t,r){return new(this.createActorClass(t,{httpDetails:!0}))(r)}static createActorWithExtendedDetails(t,r,n={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,n))(r)}}function Ri(e,t){const r=Mx(e,mx.Buffer.from(t));switch(r.length){case 0:return;case 1:return r[0];default:return r}}const w2={pollingStrategyFactory:y2},Nh="http-details",v2="certificate";function o8(e,t,r,n){let s;r.annotations.includes("query")||r.annotations.includes("composite_query")?s=async(a,...l)=>{var c,d;a=Object.assign(Object.assign({},a),(d=(c=e[xr].config).queryTransform)===null||d===void 0?void 0:d.call(c,t,l,Object.assign(Object.assign({},e[xr].config),a)));const b=a.agent||e[xr].config.agent||pg(),x=ze.from(a.canisterId||e[xr].config.canisterId),m=ph(r.argTypes,l),h=await b.query(x,{methodName:t,arg:m,effectiveCanisterId:a.effectiveCanisterId}),y=Object.assign(Object.assign({},h.httpDetails),{requestDetails:h.requestDetails});switch(h.status){case"rejected":throw new n8(x,t,h);case"replied":return r.annotations.includes(Nh)?{httpDetails:y,result:Ri(r.retTypes,h.reply.arg)}:Ri(r.retTypes,h.reply.arg)}}:s=async(a,...l)=>{var c,d;a=Object.assign(Object.assign({},a),(d=(c=e[xr].config).callTransform)===null||d===void 0?void 0:d.call(c,t,l,Object.assign(Object.assign({},e[xr].config),a)));const b=a.agent||e[xr].config.agent||pg(),{canisterId:x,effectiveCanisterId:m,pollingStrategyFactory:h}=Object.assign(Object.assign(Object.assign({},w2),e[xr].config),a),y=ze.from(x),N=m!==void 0?ze.from(m):y,W=ph(r.argTypes,l),{requestId:w,response:k,requestDetails:j}=await b.call(y,{methodName:t,arg:W,effectiveCanisterId:N});let P,C;if(k.body&&k.body.certificate){if(b.rootKey==null)throw new Error("Agent is missing root key");const X=k.body.certificate;C=await ti.create({certificate:ci(X),rootKey:b.rootKey,canisterId:ze.from(x),blsVerify:n});const $=[new TextEncoder().encode("request_status"),w];switch(new TextDecoder().decode(vr(C.lookup([...$,"status"])))){case"replied":P=vr(C.lookup([...$,"reply"]));break;case"rejected":{const J=new Uint8Array(vr(C.lookup([...$,"reject_code"])))[0],A=new TextDecoder().decode(vr(C.lookup([...$,"reject_message"]))),U=vr(C.lookup([...$,"error_code"])),V=U?new TextDecoder().decode(U):void 0;throw new mg(y,t,w,k,J,A,V)}}}else if(k.body&&"reject_message"in k.body){const{reject_code:X,reject_message:$,error_code:Y}=k.body;throw new mg(y,t,w,k,X,$,Y)}if(k.status===202){const X=h(),$=await x2(b,N,w,X,n);C=$.certificate,P=$.reply}const B=r.annotations.includes(Nh),R=r.annotations.includes(v2),H=Object.assign(Object.assign({},k),{requestDetails:j});if(P!==void 0)return B&&R?{httpDetails:H,certificate:C,result:Ri(r.retTypes,P)}:R?{certificate:C,result:Ri(r.retTypes,P)}:B?{httpDetails:H,result:Ri(r.retTypes,P)}:Ri(r.retTypes,P);if(r.retTypes.length===0)return B?{httpDetails:k,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};const o=(...a)=>s({},...a);return o.withOptions=a=>(...l)=>s(a,...l),o}function gg(e){function t(r,n){if(e.effectiveCanisterId)return{effectiveCanisterId:ze.from(e.effectiveCanisterId)};const s=n[0];let o=ze.fromHex("");return s&&typeof s=="object"&&s.target_canister&&r==="install_chunked_code"&&(o=ze.from(s.target_canister)),s&&typeof s=="object"&&s.canister_id&&(o=ze.from(s.canister_id)),{effectiveCanisterId:o}}return Dd.createActor(r8,Object.assign(Object.assign(Object.assign({},e),{canisterId:ze.fromHex("")}),{callTransform:t,queryTransform:t}))}var ld=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},oo=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},vc,Sc,Wi,Vi;function yg(e){return e!==null&&typeof e=="object"}class Nn{constructor(t){if(vc.set(this,void 0),Sc.set(this,void 0),t.byteLength!==Nn.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");ld(this,vc,En(t),"f"),ld(this,Sc,Nn.derEncode(t),"f")}static from(t){if(typeof t=="string"){const r=zn(t);return this.fromRaw(r)}else if(yg(t)){const r=t;if(yg(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){const n=r;return this.fromRaw(En(n.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new Nn(t)}static fromDer(t){return new Nn(this.derDecode(t))}static derEncode(t){const r=a2(t,ad).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(t){const r=l2(t,ad);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return En(r)}get rawKey(){return oo(this,vc,"f")}get derKey(){return oo(this,Sc,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}vc=new WeakMap,Sc=new WeakMap;Nn.RAW_KEY_LENGTH=32;class ho extends Z0{constructor(t,r){super(),Wi.set(this,void 0),Vi.set(this,void 0),ld(this,Wi,Nn.from(t),"f"),ld(this,Vi,new Uint8Array(r),"f")}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=Pi.utils.randomPrivateKey()),rl(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const r=new Uint8Array(32);for(let s=0;s<32;s++)r[s]=new Uint8Array(t)[s];const n=Pi.getPublicKey(r);return ho.fromKeyPair(n,r)}static fromParsedJson(t){const[r,n]=t;return new ho(Nn.fromDer(zn(r)),zn(n))}static fromJSON(t){const r=JSON.parse(t);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,r){return new ho(Nn.fromRaw(t),r)}static fromSecretKey(t){const r=Pi.getPublicKey(new Uint8Array(t));return ho.fromKeyPair(r,t)}toJSON(){return[et(oo(this,Wi,"f").toDer()),et(oo(this,Vi,"f"))]}getKeyPair(){return{secretKey:oo(this,Vi,"f"),publicKey:oo(this,Wi,"f")}}getPublicKey(){return oo(this,Wi,"f")}async sign(t){const r=new Uint8Array(t),n=ga(Pi.sign(r,oo(this,Vi,"f").slice(0,32)));return Object.defineProperty(n,"__signature__",{enumerable:!1,value:void 0}),n}static verify(t,r,n){const[s,o,a]=[t,r,n].map(l=>(typeof l=="string"&&(l=zn(l)),l instanceof Uint8Array&&(l=En(l.buffer)),new Uint8Array(l)));return Pi.verify(s,o,a)}}Wi=new WeakMap,Vi=new WeakMap;class tp extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,tp.prototype)}}function xg(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new tp("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class cd extends Z0{constructor(t,r,n){super(),this._keyPair=t,this._derKey=r,this._subtleCrypto=n}static async generate(t){const{extractable:r=!1,keyUsages:n=["sign","verify"],subtleCrypto:s}=t??{},o=xg(s),a=await o.generateKey({name:"ECDSA",namedCurve:"P-256"},r,n),l=await o.exportKey("spki",a.publicKey);return new this(a,l,o)}static async fromKeyPair(t,r){const n=xg(r),s=await n.exportKey("spki",t.publicKey);return new cd(t,s,n)}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return t},r}async sign(t){const r={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(r,this._keyPair.privateKey,t)}}var i8=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},zi=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},yn;class s8{constructor(t){yn.set(this,void 0),i8(this,yn,t,"f")}get rawKey(){return zi(this,yn,"f").rawKey}get derKey(){return zi(this,yn,"f").derKey}toDer(){return zi(this,yn,"f").toDer()}getPublicKey(){return zi(this,yn,"f")}getPrincipal(){if(!zi(this,yn,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return ze.fromUint8Array(new Uint8Array(zi(this,yn,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}yn=new WeakMap;var a8=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},l8=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},c8=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r},kc;const d8=new TextEncoder().encode("ic-request-auth-delegation"),u8=new TextEncoder().encode(`
ic-request`);function nf(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return zn(e)}class rp{constructor(t,r,n){this.pubkey=t,this.expiration=r,this.targets=n}toCBOR(){return rr.value.map(Object.assign({pubkey:rr.value.bytes(this.pubkey),expiration:rr.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:rr.value.array(this.targets.map(t=>rr.value.bytes(ci(t.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:et(this.pubkey)},this.targets&&{targets:this.targets.map(t=>t.toHex())})}}async function f8(e,t,r,n){const s=new rp(t.toDer(),BigInt(+r)*BigInt(1e6),n),o=new Uint8Array([...d8,...new Uint8Array(Oa(Object.assign({},s)))]),a=await e.sign(ci(o));return{delegation:s,signature:a}}class dd{constructor(t,r){this.delegations=t,this.publicKey=r}static async create(t,r,n=new Date(Date.now()+15*60*1e3),s={}){var o,a;const l=await f8(t,r,n,s.targets);return new dd([...((o=s.previous)===null||o===void 0?void 0:o.delegations)||[],l],((a=s.previous)===null||a===void 0?void 0:a.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:r,delegations:n}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(n))throw new Error("Invalid delegations.");const s=n.map(o=>{const{delegation:a,signature:l}=o,{pubkey:c,expiration:d,targets:b}=a;if(b!==void 0&&!Array.isArray(b))throw new Error("Invalid targets.");return{delegation:new rp(nf(c),BigInt("0x"+d),b&&b.map(x=>{if(typeof x!="string")throw new Error("Invalid target.");return ze.fromHex(x)})),signature:nf(l)}});return new this(s,nf(r))}static fromDelegations(t,r){return new this(t,r)}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:r,signature:n}=t,{targets:s}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:et(r.pubkey)},s&&{targets:s.map(o=>o.toHex())}),signature:et(n)}}),publicKey:et(this.publicKey)}}}class bg extends Z0{constructor(t,r){super(),this._inner=t,this._delegation=r}static fromDelegation(t,r){return new this(t,r)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:r}=t,n=c8(t,["body"]),s=await Oa(r);return Object.assign(Object.assign({},n),{body:{content:r,sender_sig:await this.sign(ci(new Uint8Array([...u8,...new Uint8Array(s)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class ud extends s8{constructor(t,r){super(t),kc.set(this,void 0),a8(this,kc,r,"f")}get delegation(){return l8(this,kc,"f")}static fromDelegation(t,r){return new ud(t,r)}}kc=new WeakMap;function h8(e,t){for(const{delegation:s}of e.delegations)if(+new Date(Number(s.expiration/BigInt(1e6)))<=+Date.now())return!1;const r=[],n=t==null?void 0:t.scope;n&&(Array.isArray(n)?r.push(...n.map(s=>typeof s=="string"?ze.fromText(s):s)):r.push(typeof n=="string"?ze.fromText(n):n));for(const s of r){const o=s.toText();for(const{delegation:a}of e.delegations){if(a.targets===void 0)continue;let l=!0;for(const c of a.targets)if(c.toText()===o){l=!1;break}if(l)return!1}}return!0}var wg;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(wg||(wg={}));const vg=["mousedown","mousemove","keydown","touchstart","wheel"];class Sg{constructor(t={}){var r;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:n,idleTimeout:s=10*60*1e3}=t||{};this.callbacks=n?[n]:[],this.idleTimeout=s;const o=this._resetTimer.bind(this);window.addEventListener("load",o,!0),vg.forEach(function(l){document.addEventListener(l,o,!0)});const a=(l,c)=>{let d;return(...b)=>{const x=this,m=function(){d=void 0,l.apply(x,b)};clearTimeout(d),d=window.setTimeout(m,c)}};if(t!=null&&t.captureScroll){const l=a(o,(r=t==null?void 0:t.scrollDebounce)!==null&&r!==void 0?r:100);window.addEventListener("scroll",l,!0)}o()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);vg.forEach(function(r){document.removeEventListener(r,t,!0)}),this.callbacks.forEach(r=>r())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const p8=(e,t)=>t.some(r=>e instanceof r);let kg,jg;function m8(){return kg||(kg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g8(){return jg||(jg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S2=new WeakMap,Bh=new WeakMap,k2=new WeakMap,of=new WeakMap,np=new WeakMap;function y8(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{r(jo(e.result)),s()},a=()=>{n(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&S2.set(r,e)}).catch(()=>{}),np.set(t,e),t}function x8(e){if(Bh.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{r(),s()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});Bh.set(e,t)}let Ah={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Bh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||k2.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return jo(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function b8(e){Ah=e(Ah)}function w8(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(sf(this),t,...r);return k2.set(n,t.sort?t.sort():[t]),jo(n)}:g8().includes(e)?function(...t){return e.apply(sf(this),t),jo(S2.get(this))}:function(...t){return jo(e.apply(sf(this),t))}}function v8(e){return typeof e=="function"?w8(e):(e instanceof IDBTransaction&&x8(e),p8(e,m8())?new Proxy(e,Ah):e)}function jo(e){if(e instanceof IDBRequest)return y8(e);if(of.has(e))return of.get(e);const t=v8(e);return t!==e&&(of.set(e,t),np.set(t,e)),t}const sf=e=>np.get(e);function S8(e,t,{blocked:r,upgrade:n,blocking:s,terminated:o}={}){const a=indexedDB.open(e,t),l=jo(a);return n&&a.addEventListener("upgradeneeded",c=>{n(jo(a.result),c.oldVersion,c.newVersion,jo(a.transaction),c)}),r&&a.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const k8=["get","getKey","getAll","getAllKeys","count"],j8=["put","add","delete","clear"],af=new Map;function Tg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(af.get(t))return af.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=j8.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||k8.includes(r)))return;const o=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),s&&c.done]))[0]};return af.set(t,o),o}b8(e=>({...e,get:(t,r,n)=>Tg(t,r)||e.get(t,r,n),has:(t,r)=>!!Tg(t,r)||e.has(t,r)}));const j2="auth-client-db",T2="ic-keyval",T8=async(e=j2,t=T2,r)=>(E2&&(localStorage!=null&&localStorage.getItem(lo))&&(localStorage.removeItem(lo),localStorage.removeItem(io)),await S8(e,r,{upgrade:n=>{n.objectStoreNames.contains(t)&&n.clear(t),n.createObjectStore(t)}}));async function E8(e,t,r){return await e.get(t,r)}async function _8(e,t,r,n){return await e.put(t,n,r)}async function C8(e,t,r){return await e.delete(t,r)}class op{constructor(t,r){this._db=t,this._storeName=r}static async create(t){const{dbName:r=j2,storeName:n=T2,version:s=R8}=t??{},o=await T8(r,n,s);return new op(o,n)}async set(t,r){return await _8(this._db,this._storeName,t,r)}async get(t){var r;return(r=await E8(this._db,this._storeName,t))!==null&&r!==void 0?r:null}async remove(t){return await C8(this._db,this._storeName,t)}}var N8=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},B8=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},jc;const io="identity",lo="delegation",A8="iv",R8=1,E2=typeof window<"u";class z8{constructor(t="ic-",r){this.prefix=t,this._localStorage=r}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,r){return this._getLocalStorage().setItem(this.prefix+t,r),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}class F8{constructor(t){jc.set(this,void 0),N8(this,jc,t??{},"f")}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}op.create(B8(this,jc,"f")).then(r=>{this.initializedDb=r,t(r)})})}async get(t){return await(await this._db).get(t)}async set(t,r){await(await this._db).set(t,r)}async remove(t){await(await this._db).remove(t)}}jc=new WeakMap;const P8="https://identity.internetcomputer.org",M8="#authorize",lf="ECDSA",cf="Ed25519",O8=500,$8="UserInterrupt";class Eg{constructor(t,r,n,s,o,a,l,c){this._identity=t,this._key=r,this._chain=n,this._storage=s,this.idleManager=o,this._createOptions=a,this._idpWindow=l,this._eventHandler=c,this._registerDefaultIdleCallback()}static async create(t={}){var r,n,s;const o=(r=t.storage)!==null&&r!==void 0?r:new F8,a=(n=t.keyType)!==null&&n!==void 0?n:lf;let l=null;if(t.identity)l=t.identity;else{let x=await o.get(io);if(!x&&E2)try{const m=new z8,h=await m.get(lo),y=await m.get(io);h&&y&&a===lf&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await o.set(lo,h),await o.set(io,y),x=h,await m.remove(lo),await m.remove(io))}catch(m){console.error("error while attempting to recover localstorage: "+m)}if(x)try{typeof x=="object"?a===cf&&typeof x=="string"?l=await ho.fromJSON(x):l=await cd.fromKeyPair(x):typeof x=="string"&&(l=ho.fromJSON(x))}catch{}}let c=new td,d=null;if(l)try{const x=await o.get(lo);if(typeof x=="object"&&x!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?c=t.identity:x&&(d=dd.fromJSON(x),h8(d)?"toDer"in l?c=ud.fromDelegation(l,d):c=bg.fromDelegation(l,d):(await df(o),l=null))}catch(x){console.error(x),await df(o),l=null}let b;return!((s=t.idleOptions)===null||s===void 0)&&s.disableIdle?b=void 0:(d||t.identity)&&(b=Sg.create(t.idleOptions)),l||(a===cf?(l=await ho.generate(),await o.set(io,JSON.stringify(l.toJSON()))):(t.storage&&a===lf&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${cf}' as the key type, as it can serialize to a string`),l=await cd.generate(),await o.set(io,l.getKeyPair()))),new this(c,l,d,o,b,t)}_registerDefaultIdleCallback(){var t,r;const n=(t=this._createOptions)===null||t===void 0?void 0:t.idleOptions;!(n!=null&&n.onIdle)&&!(n!=null&&n.disableDefaultIdleCallback)&&((r=this.idleManager)===null||r===void 0||r.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,r){var n,s;const o=t.delegations.map(d=>({delegation:new rp(d.delegation.pubkey,d.delegation.expiration,d.delegation.targets),signature:d.signature.buffer})),a=dd.fromDelegations(o,t.userPublicKey.buffer),l=this._key;if(!l)return;this._chain=a,"toDer"in l?this._identity=ud.fromDelegation(l,this._chain):this._identity=bg.fromDelegation(l,this._chain),(n=this._idpWindow)===null||n===void 0||n.close();const c=(s=this._createOptions)===null||s===void 0?void 0:s.idleOptions;!this.idleManager&&!(c!=null&&c.disableIdle)&&(this.idleManager=Sg.create(c),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(lo,JSON.stringify(this._chain.toJSON())),r==null||r(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(t){var r,n,s,o;const a=BigInt(8)*BigInt(36e11),l=new URL(((r=t==null?void 0:t.identityProvider)===null||r===void 0?void 0:r.toString())||P8);l.hash=M8,(n=this._idpWindow)===null||n===void 0||n.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(l,Object.assign({maxTimeToLive:(s=t==null?void 0:t.maxTimeToLive)!==null&&s!==void 0?s:a},t)),window.addEventListener("message",this._eventHandler),this._idpWindow=(o=window.open(l.toString(),"idpWindow",t==null?void 0:t.windowOpenerFeatures))!==null&&o!==void 0?o:void 0;const c=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure($8,t==null?void 0:t.onError):setTimeout(c,O8))};c()}_getEventHandler(t,r){return async n=>{var s,o,a;if(n.origin!==t.origin)return;const l=n.data;switch(l.kind){case"authorize-ready":{const c=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((s=this._key)===null||s===void 0?void 0:s.getPublicKey().toDer()),maxTimeToLive:r==null?void 0:r.maxTimeToLive,allowPinAuthentication:r==null?void 0:r.allowPinAuthentication,derivationOrigin:(o=r==null?void 0:r.derivationOrigin)===null||o===void 0?void 0:o.toString()},r==null?void 0:r.customValues);(a=this._idpWindow)===null||a===void 0||a.postMessage(c,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(l,r==null?void 0:r.onSuccess)}catch(c){this._handleFailure(c.message,r==null?void 0:r.onError)}break;case"authorize-client-failure":this._handleFailure(l.text,r==null?void 0:r.onError);break}}}_handleFailure(t,r){var n;(n=this._idpWindow)===null||n===void 0||n.close(),r==null||r(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await df(this._storage),this._identity=new td,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function df(e){await e.remove(io),await e.remove(lo),await e.remove(A8)}function U8(e){if(!e)return"";try{return new Date(Number(e)).toISOString()}catch{return""}}function Rh(e){if(e==null)return e;if(typeof e=="bigint")return e.toString();if(Array.isArray(e))return e.map(Rh);if(typeof e=="object"){const t={};for(const[r,n]of Object.entries(e))t[r]=Rh(n);return t}return e}function Tc(e){const t=Rh(e),r=["createdAt","updatedAt","lastLoginAt","timestamp"];function n(s,o){if(s==null)return s;if(o&&r.includes(o))return U8(s)||String(s);if(Array.isArray(s))return s.map(a=>n(a));if(typeof s=="object"){const a={};for(const[l,c]of Object.entries(s))a[l]=n(c,l);return a}return s}return n(t)}function _g(e){return Tc(e)}const W8=({IDL:e})=>{const t=e.Principal,r=e.Record({id:e.Text,relationship:e.Text,userId:t,name:e.Text,createdAt:e.Int,email:e.Text,isVerified:e.Bool,verifiedAt:e.Opt(e.Int)}),n=e.Variant({ok:r,err:e.Text}),s=e.Variant({Equitel:e.Null,PayPal:e.Null,Card:e.Null,BankTransfer:e.Null,Custom:e.Null,Mpesa:e.Null,AirtelMoney:e.Null}),o=e.Record({id:e.Text,provider:s,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,isActive:e.Bool,accountName:e.Text,isDefault:e.Bool,accountNumber:e.Opt(e.Text),phoneNumber:e.Opt(e.Text)}),a=e.Variant({ok:o,err:e.Text}),l=e.Variant({Inactive:e.Null,Active:e.Null,Suspended:e.Null,Deprecated:e.Null,Pending:e.Null}),c=e.Variant({WriteWallets:e.Null,ReadTransactions:e.Null,ReadProfile:e.Null,ReadContacts:e.Null,WriteContacts:e.Null,Notifications:e.Null,WriteProfile:e.Null,WriteTransactions:e.Null,ReadWallets:e.Null,ExternalAPIs:e.Null}),d=e.Variant({Productivity:e.Null,Health:e.Null,Social:e.Null,Custom:e.Null,Entertainment:e.Null,Gaming:e.Null,Education:e.Null,Finance:e.Null}),b=e.Record({id:e.Text,status:l,permissions:e.Vec(c),isInstalled:e.Bool,metadata:e.Opt(e.Text),icon:e.Opt(e.Text),name:e.Text,createdAt:e.Int,description:e.Text,author:e.Text,version:e.Text,isEnabled:e.Bool,updatedAt:e.Int,installCount:e.Nat,configSchema:e.Opt(e.Text),entryPoint:e.Text,category:d,rating:e.Float64}),x=e.Variant({ok:b,err:e.Text}),m=e.Record({id:e.Text,endpoint:e.Text,auth:e.Text,userId:t,createdAt:e.Int,isActive:e.Bool,deviceInfo:e.Opt(e.Text),p256dh:e.Text,lastUsed:e.Int}),h=e.Variant({ok:m,err:e.Text}),y=e.Record({id:e.Text,methodType:e.Text,value:e.Text,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,isActive:e.Bool,isVerified:e.Bool,verifiedAt:e.Opt(e.Int)}),N=e.Variant({ok:y,err:e.Text}),W=e.Record({id:e.Text,question:e.Text,userId:t,createdAt:e.Int,isActive:e.Bool,answerHash:e.Text}),w=e.Variant({ok:e.Vec(W),err:e.Text}),k=e.Variant({ok:e.Bool,err:e.Text}),j=e.Record({id:e.Text,expiresAt:e.Opt(e.Int),metadata:e.Opt(e.Text),userId:t,type:e.Text,gameId:e.Text,description:e.Text,claimedAt:e.Opt(e.Int),currency:e.Opt(e.Text),amount:e.Float64}),P=e.Variant({ok:j,err:e.Text}),C=e.Variant({ok:e.Float64,err:e.Text}),B=e.Variant({Failed:e.Null,Refunded:e.Null,Cancelled:e.Null,Processing:e.Null,Completed:e.Null,Pending:e.Null}),R=e.Record({id:e.Text,fee:e.Float64,status:B,completedAt:e.Opt(e.Int),provider:s,metadata:e.Opt(e.Text),userId:t,recipientPhone:e.Opt(e.Text),type:e.Text,reference:e.Opt(e.Text),currency:e.Text,timestamp:e.Int,amount:e.Float64,recipientName:e.Opt(e.Text)}),H=e.Variant({ok:R,err:e.Text}),X=e.Variant({ok:e.Nat,err:e.Text}),$=e.Variant({Sonic:e.Null,Neutrinite:e.Null,InfinitySwap:e.Null,ICDex:e.Null,Custom:e.Null,ICPSwap:e.Null}),Y=e.Variant({Swap:e.Null,Lending:e.Null,Custom:e.Null,Borrowing:e.Null,Governance:e.Null,Liquidity:e.Null,YieldFarming:e.Null,Staking:e.Null}),J=e.Record({id:e.Text,apy:e.Float64,protocol:$,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,productType:Y,isActive:e.Bool,updatedAt:e.Int,tokenA:e.Text,tokenB:e.Opt(e.Text),rewards:e.Float64,amount:e.Float64}),A=e.Variant({ok:J,err:e.Text}),U=e.Variant({ok:e.Record({userId:e.Principal,instructions:e.Text}),err:e.Text}),V=e.Record({social:e.Bool,push:e.Bool,security:e.Bool,email:e.Bool,goals:e.Bool,transactions:e.Bool}),K=e.Record({twoFactorEnabled:e.Bool,deviceTracking:e.Bool,loginNotifications:e.Bool}),te=e.Record({profileVisibility:e.Text,allowFriendRequests:e.Bool,transactionVisibility:e.Text}),Q=e.Record({theme:e.Text,notifications:V,security:K,language:e.Text,privacy:te,currency:e.Text}),ne=e.Record({id:t,username:e.Text,displayName:e.Text,lastLoginAt:e.Opt(e.Int),createdAt:e.Int,isActive:e.Bool,email:e.Opt(e.Text),preferences:Q,recoverySetupCompleted:e.Bool,loginAttempts:e.Nat,updatedAt:e.Int,isLocked:e.Bool,avatar:e.Opt(e.Text)}),ue=e.Variant({ok:ne,err:e.Text}),de=e.Record({id:e.Text,lastUsedAt:e.Int,permissions:e.Vec(e.Text),userId:t,walletType:e.Text,isActive:e.Bool,connectedAt:e.Int,address:e.Opt(e.Text),principalId:e.Opt(e.Text)}),le=e.Variant({ok:de,err:e.Text}),fe=e.Record({id:e.Text,endDate:e.Int,period:e.Text,userId:t,name:e.Text,isActive:e.Bool,spent:e.Float64,category:e.Text,amount:e.Float64,startDate:e.Int}),F=e.Variant({ok:fe,err:e.Text}),ke=e.Record({id:e.Text,status:e.Text,fromAddress:e.Opt(e.Text),metadata:e.Opt(e.Text),userId:t,fees:e.Opt(e.Float64),type:e.Text,currency:e.Text,blockHeight:e.Opt(e.Nat),timestamp:e.Int,txHash:e.Opt(e.Text),toAddress:e.Opt(e.Text),amount:e.Float64,walletId:e.Text}),xe=e.Variant({ok:ke,err:e.Text}),ye=e.Variant({CAT:e.Null,ICP:e.Null,MOD:e.Null,NTN:e.Null,GHOST:e.Null,NANAS:e.Null,BOOM:e.Null,CHAT:e.Null,ELNA:e.Null,CKPEPE:e.Null,FIAT:e.Null,FOMO:e.Null,GLDT:e.Null,MEME:e.Null,NICP:e.Null,CYCLES:e.Null,SNS1:e.Null,TRAX:e.Null,YUGE:e.Null,PANDA:e.Null,PARTY:e.Null,ckBTC:e.Null,ckETH:e.Null,WUMBO:e.Null,OPENCHAT:e.Null,DKUMA:e.Null,DOGMI:e.Null,DSCVR:e.Null,KINIC:e.Null,ALPACALB:e.Null,MOTOKO:e.Null,DRAGGINZ:e.Null,DAMONIC:e.Null,CLOWN:e.Null,SHRIMP:e.Null,SEERS:e.Null,SNEED:e.Null,SONIC:e.Null}),pe=e.Record({id:e.Text,balance:e.Float64,metadata:e.Opt(e.Text),userId:t,name:e.Text,createdAt:e.Int,isExternal:e.Bool,walletType:ye,isActive:e.Bool,updatedAt:e.Int,currency:e.Text,address:e.Opt(e.Text),lastSyncAt:e.Opt(e.Int),externalWalletType:e.Opt(e.Text)}),me=e.Variant({ok:pe,err:e.Text}),M=e.Record({id:e.Text,title:e.Text,userId:t,createdAt:e.Int,description:e.Text,isActive:e.Bool,updatedAt:e.Int,isAchieved:e.Bool,targetAmount:e.Float64,currency:e.Text,targetDate:e.Opt(e.Int),category:e.Text,currentAmount:e.Float64}),q=e.Variant({ok:M,err:e.Text}),L=e.Variant({Investment:e.Null,Custom:e.Null,Business:e.Null,Travel:e.Null,Savings:e.Null,Charity:e.Null,Emergency:e.Null,Education:e.Null}),re=e.Record({id:e.Text,vaultType:L,members:e.Vec(e.Text),ownerId:t,metadata:e.Opt(e.Text),name:e.Text,createdAt:e.Int,description:e.Opt(e.Text),isActive:e.Bool,updatedAt:e.Int,targetAmount:e.Opt(e.Float64),currency:e.Text,isPublic:e.Bool,totalBalance:e.Float64,rules:e.Opt(e.Text)}),Z=e.Variant({ok:re,err:e.Text}),D=e.Variant({System:e.Record({message:e.Text,priority:e.Text}),Transaction:e.Record({status:e.Text,currency:e.Text,amount:e.Float64}),Security:e.Record({action:e.Opt(e.Text),event:e.Text,severity:e.Text}),Social:e.Record({metadata:e.Opt(e.Text),userId:e.Text,event:e.Text}),Recovery:e.Record({status:e.Text,method:e.Text}),Payment:e.Record({status:e.Text,provider:e.Text,amount:e.Float64}),Vault:e.Record({action:e.Text,vaultId:e.Text,amount:e.Opt(e.Float64)})}),S=e.Record({id:e.Text,title:e.Text,actionUrl:e.Opt(e.Text),expiresAt:e.Opt(e.Int),metadata:e.Opt(e.Text),userId:t,notificationType:D,createdAt:e.Int,isArchived:e.Bool,isRead:e.Bool,message:e.Text,priority:e.Text,readAt:e.Opt(e.Int)}),f=e.Variant({ok:S,err:e.Text}),p=e.Variant({Paused:e.Null,Active:e.Null,Cancelled:e.Null,Completed:e.Null}),E=e.Variant({Prediction:e.Null,Quiz:e.Null,Tournament:e.Null,Trading:e.Null,Custom:e.Null,Lottery:e.Null,Challenge:e.Null}),O=e.Record({id:e.Text,startTime:e.Int,status:p,endTime:e.Opt(e.Int),metadata:e.Opt(e.Text),currentParticipants:e.Nat,name:e.Text,createdAt:e.Int,createdBy:t,description:e.Text,updatedAt:e.Int,currency:e.Text,gameType:E,maxParticipants:e.Opt(e.Nat),isPublic:e.Bool,entryFee:e.Opt(e.Float64),rules:e.Opt(e.Text),prizePool:e.Float64}),_=e.Variant({ok:O,err:e.Text}),ie=e.Record({id:e.Text,status:e.Text,metadata:e.Opt(e.Text),userId:t,type:e.Text,description:e.Text,currency:e.Text,timestamp:e.Int,category:e.Text,amount:e.Float64,walletId:e.Text}),he=e.Variant({ok:ie,err:e.Text}),we=e.Record({id:e.Text,lastMessageAt:e.Opt(e.Int),metadata:e.Opt(e.Text),name:e.Text,createdAt:e.Int,memberCount:e.Nat,description:e.Opt(e.Text),isActive:e.Bool,updatedAt:e.Int,vaultId:e.Text}),z=e.Variant({ok:we,err:e.Text}),ee=e.Record({id:e.Text,balance:e.Float64,userId:t,name:e.Text,createdAt:e.Int,type:e.Text,isActive:e.Bool,updatedAt:e.Int,currency:e.Text}),v=e.Variant({ok:ee,err:e.Text}),u=e.Record({id:e.Text,status:e.Text,metadata:e.Opt(e.Text),userId:t,type:e.Text,description:e.Text,vaultId:e.Text,currency:e.Text,timestamp:e.Int,amount:e.Float64}),g=e.Variant({ok:u,err:e.Text}),I=e.Record({id:e.Text,title:e.Text,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,type:e.Text,description:e.Text,actionable:e.Bool,confidence:e.Float64}),se=e.Variant({ok:e.Vec(I),err:e.Text}),ce=e.Record({id:e.Text,title:e.Text,estimatedImpact:e.Float64,metadata:e.Opt(e.Text),userId:t,createdAt:e.Int,description:e.Text,isImplemented:e.Bool,category:e.Text,priority:e.Text}),ae=e.Variant({ok:e.Vec(ce),err:e.Text}),Te=e.Variant({ok:e.Text,err:e.Text}),Re=e.Variant({ok:e.Record({implementedRecommendations:e.Nat,totalRecommendations:e.Nat,totalInsights:e.Nat,averageConfidence:e.Float64,totalMessages:e.Nat}),err:e.Text}),Be=e.Variant({Error:e.Null,System:e.Null,User:e.Null,Assistant:e.Null}),Ce=e.Record({id:e.Text,content:e.Text,metadata:e.Opt(e.Text),userId:t,type:Be,timestamp:e.Int}),$e=e.Variant({ok:e.Vec(Ce),err:e.Text}),He=e.Record({id:e.Text,status:e.Text,icon:e.Text,name:e.Text,createdAt:e.Int,description:e.Text,accountType:e.Text,paybillNumber:e.Text}),Hn=e.Variant({ok:e.Vec(He),err:e.Text}),Kr=e.Variant({ok:e.Vec(O),err:e.Text}),qn=e.Record({id:e.Text,blockNumber:e.Nat,from:t,timestamp:e.Int,amount:e.Nat,reason:e.Text}),In=e.Variant({ok:e.Record({activeWallets:e.Nat,monthlySpent:e.Float64,goalsProgress:e.Float64,totalBalance:e.Float64}),err:e.Text}),Gn=e.Variant({ok:e.Record({totalValue:e.Float64,totalRewards:e.Float64,averageApy:e.Float64,activeProtocols:e.Vec(e.Text),totalPositions:e.Nat}),err:e.Text}),zt=e.Variant({ok:e.Vec(J),err:e.Text}),Ms=e.Variant({ok:e.Record({totalVolume:e.Float64,averageApy:e.Float64,totalPositions:e.Nat,totalUsers:e.Nat}),err:e.Text}),wi=e.Record({id:e.Text,fee:e.Float64,protocol:$,status:e.Text,metadata:e.Opt(e.Text),userId:t,type:e.Text,amountA:e.Float64,amountB:e.Opt(e.Float64),tokenA:e.Text,tokenB:e.Opt(e.Text),timestamp:e.Int,txHash:e.Opt(e.Text)}),vi=e.Variant({ok:e.Vec(wi),err:e.Text}),Os=e.Variant({ok:e.Vec(e.Tuple(e.Text,e.Text)),err:e.Text}),Le=e.Record({id:e.Text,status:e.Text,completedAt:e.Opt(e.Int),userId:t,createdAt:e.Int,kesAmount:e.Float64,updatedAt:e.Int,mpesaReceipt:e.Opt(e.Text),mpesaTransactionId:e.Opt(e.Text),conversionRate:e.Float64,phoneNumber:e.Text,usdtAmount:e.Float64}),$s=e.Variant({ok:e.Vec(Le),err:e.Text}),Si=e.Variant({ok:Le,err:e.Text}),Us=e.Record({cryptoWallets:e.Vec(pe),externalConnections:e.Vec(de),totalValueKES:e.Float64,totalValueUSD:e.Float64,userId:t,lastUpdated:e.Int,fiatWallets:e.Vec(ee),defiPositions:e.Vec(J)}),G=e.Variant({ok:Us,err:e.Text}),Se=e.Record({id:e.Text,metadata:e.Opt(e.Text),userId:t,joinedAt:e.Int,rank:e.Opt(e.Nat),gameId:e.Text,isActive:e.Bool,score:e.Float64}),Fe=e.Variant({ok:e.Vec(Se),err:e.Text}),Ze=e.Record({id:e.Text,to:t,blockNumber:e.Nat,timestamp:e.Int,amount:e.Nat,reason:e.Text}),Ae=e.Record({timezone:e.Text,securityNotifications:e.Bool,transactionNotifications:e.Bool,systemNotifications:e.Bool,recoveryNotifications:e.Bool,userId:t,quietHours:e.Opt(e.Record({end:e.Text,start:e.Text})),push:e.Bool,paymentNotifications:e.Bool,email:e.Bool,updatedAt:e.Int,socialNotifications:e.Bool,vaultNotifications:e.Bool,inApp:e.Bool}),fn=e.Variant({ok:Ae,err:e.Text}),ki=e.Record({id:e.Text,status:e.Text,completedAt:e.Opt(e.Int),accountReference:e.Text,userId:t,createdAt:e.Int,kesAmount:e.Float64,updatedAt:e.Int,mpesaReceipt:e.Opt(e.Text),mpesaTransactionId:e.Opt(e.Text),phoneNumber:e.Text,usdtAmount:e.Float64,billId:e.Text,paybillNumber:e.Text}),Yn=e.Variant({ok:ki,err:e.Text}),ou=e.Variant({ok:e.Vec(ki),err:e.Text}),dl=e.Record({id:e.Text,status:e.Text,localCurrency:e.Text,userId:t,createdAt:e.Int,usdAmount:e.Float64,exchangeRate:e.Float64,updatedAt:e.Int,localAmount:e.Float64,paymentType:e.Text,location:e.Opt(e.Text)}),ul=e.Variant({ok:dl,err:e.Text}),iu=e.Variant({ok:e.Record({topProvider:e.Opt(e.Text),successRate:e.Float64,totalFees:e.Float64,totalPayments:e.Nat,totalAmount:e.Float64}),err:e.Text}),fl=e.Variant({ok:e.Vec(R),err:e.Text}),qe=e.Record({id:e.Text,status:e.Text,completedAt:e.Opt(e.Int),verificationCode:e.Opt(e.Text),expiresAt:e.Int,metadata:e.Opt(e.Text),userId:e.Opt(t),createdAt:e.Int,recoveryToken:e.Opt(e.Text),recoveryMethod:e.Text,identifier:e.Text,verifiedAt:e.Opt(e.Int)}),su=e.Record({lastRewardTime:e.Int,isStaking:e.Bool,userId:t,stakingStartTime:e.Int,totalRewardsEarned:e.Nat,stakedAmount:e.Nat}),au=e.Record({decimals:e.Nat8,burnAddress:t,circulatingSupply:e.Nat,isPaused:e.Bool,name:e.Text,createdAt:e.Int,totalSupply:e.Nat,updatedAt:e.Int,maxWalletLimit:e.Nat,maxTransactionLimit:e.Nat,treasuryAddress:t,symbol:e.Text}),oe=e.Record({balance:e.Nat,owner:t,lastUpdated:e.Int,lockedBalance:e.Nat,stakedBalance:e.Nat}),Me=e.Record({id:e.Text,to:t,transactionHash:e.Text,blockNumber:e.Nat,from:t,timestamp:e.Int,amount:e.Nat}),Ue=e.Record({userName:e.Text,startedAt:e.Int,userId:t,isTyping:e.Bool}),Pe=e.Variant({ok:e.Vec(Ue),err:e.Text}),ji=e.Record({id:e.Text,action:e.Text,userId:e.Opt(t),timestamp:e.Int,details:e.Text,success:e.Bool,userAgent:e.Opt(e.Text),ipAddress:e.Opt(e.Text)}),Fo=e.Variant({ok:e.Vec(ji),err:e.Text}),sp=e.Variant({ok:e.Vec(fe),err:e.Text}),H2=e.Record({id:e.Text,title:e.Text,metadata:e.Opt(e.Text),body:e.Text,userId:t,notificationType:e.Text,isRead:e.Bool,vaultId:e.Text,timestamp:e.Int}),q2=e.Variant({ok:e.Vec(H2),err:e.Text}),ap=e.Variant({ok:e.Vec(ke),err:e.Text}),I2=e.Variant({ok:e.Vec(pe),err:e.Text}),G2=e.Variant({ok:e.Vec(de),err:e.Text}),Y2=e.Variant({ok:e.Vec(j),err:e.Text}),K2=e.Variant({ok:e.Vec(M),err:e.Text}),Z2=e.Variant({ok:e.Vec(re),err:e.Text}),X2=e.Variant({ok:e.Vec(S),err:e.Text}),Q2=e.Record({id:e.Text,service:e.Text,status:e.Text,deliveredAt:e.Opt(e.Int),expiresAt:e.Int,provider:e.Text,metadata:e.Opt(e.Text),code:e.Text,userId:e.Opt(t),createdAt:e.Int,recipient:e.Text,attempts:e.Nat,sentAt:e.Opt(e.Int),purpose:e.Text}),J2=e.Variant({ok:e.Vec(Q2),err:e.Text}),L2=e.Variant({ok:e.Vec(o),err:e.Text}),D2=e.Variant({ok:e.Vec(y),err:e.Text}),ew=e.Variant({ok:e.Vec(dl),err:e.Text}),tw=e.Variant({ok:e.Vec(ie),err:e.Text}),rw=e.Variant({ok:e.Record({allAddresses:e.Vec(e.Text),principalId:e.Text,accountIdentifier:e.Text,cryptoAddresses:e.Vec(e.Tuple(e.Text,e.Text))}),err:e.Text}),nw=e.Variant({ok:e.Vec(ee),err:e.Text}),ow=e.Record({userName:e.Text,typingSince:e.Opt(e.Int),lastSeenAt:e.Int,userId:t,joinedAt:e.Int,role:e.Text,unreadCount:e.Nat,isMuted:e.Bool,isTyping:e.Bool}),iw=e.Variant({ok:e.Vec(ow),err:e.Text}),lp=e.Record({id:e.Text,permissions:e.Vec(e.Text),userId:t,joinedAt:e.Int,role:e.Text,isActive:e.Bool,contributionLimit:e.Opt(e.Float64),vaultId:e.Text,withdrawalLimit:e.Opt(e.Float64)}),sw=e.Variant({ok:e.Record({members:e.Vec(lp),vault:re,transactions:e.Vec(u)}),err:e.Text}),aw=e.Variant({Failed:e.Null,Read:e.Null,Sent:e.Null,Delivered:e.Null}),cp=e.Variant({System:e.Null,File:e.Null,Transaction:e.Null,Text:e.Null,Image:e.Null,Reaction:e.Null}),lw=e.Record({userId:t,timestamp:e.Int,reaction:e.Text}),dp=e.Record({id:e.Text,status:aw,userName:e.Text,content:e.Text,metadata:e.Opt(e.Text),userId:t,messageType:cp,vaultId:e.Text,timestamp:e.Int,replyTo:e.Opt(e.Text),editedAt:e.Opt(e.Int),reactions:e.Vec(lw)}),cw=e.Variant({ok:e.Vec(dp),err:e.Text}),dw=e.Variant({ok:e.Record({recoveryRequestId:e.Text,message:e.Text,securityQuestions:e.Opt(e.Vec(e.Tuple(e.Text,e.Text)))}),err:e.Text}),up=e.Variant({ok:lp,err:e.Text}),fp=e.Variant({ok:Se,err:e.Text}),uw=e.Variant({ok:ce,err:e.Text}),fw=e.Record({kesAmount:e.Float64,conversionRate:e.Float64,phoneNumber:e.Text,usdtAmount:e.Float64}),hw=e.Record({accountReference:e.Text,kesAmount:e.Float64,phoneNumber:e.Text,usdtAmount:e.Float64,billId:e.Text,paybillNumber:e.Text}),pw=e.Variant({ok:wi,err:e.Text}),mw=e.Variant({ok:Ce,err:e.Text}),gw=e.Variant({ok:e.Record({expiresIn:e.Int,otpId:e.Text,message:e.Text}),err:e.Text}),yw=e.Variant({ok:dp,err:e.Text}),xw=e.Variant({ok:e.Record({verified:e.Bool,recipient:e.Text,purpose:e.Text}),err:e.Text});return e.Service({addEmergencyContact:e.Func([e.Text,e.Text,e.Text],[n],[]),addPaymentMethod:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Text,e.Bool],[a],[]),addPlugin:e.Func([b],[x],[]),addPushSubscription:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text)],[h],[]),addRecoveryMethod:e.Func([e.Text,e.Text,e.Opt(e.Text)],[N],[]),addSecurityQuestions:e.Func([e.Vec(e.Tuple(e.Text,e.Text))],[w],[]),allowance:e.Func([t,t],[e.Nat],["query"]),approve:e.Func([t,e.Nat],[k],[]),awardGameReward:e.Func([e.Text,t,e.Text,e.Float64,e.Opt(e.Text),e.Text],[P],[]),balanceOf:e.Func([t],[e.Nat],["query"]),burn:e.Func([e.Nat,e.Text],[k],[]),calculateDefiRewards:e.Func([e.Text],[C],[]),cancelPayment:e.Func([e.Text],[H],[]),claimGameReward:e.Func([e.Text],[P],[]),claimRewards:e.Func([],[X],[]),closeDefiPosition:e.Func([e.Text],[A],[]),completeRecovery:e.Func([e.Text,e.Opt(e.Text)],[U],[]),completeRecoverySetup:e.Func([],[ue],[]),connectExternalWallet:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Vec(e.Text)],[le],[]),createBudget:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Int,e.Int],[F],[]),createCryptoTransaction:e.Func([e.Text,e.Text,e.Float64,e.Opt(e.Text),e.Opt(e.Text),e.Opt(e.Text),e.Float64],[xe],[]),createCryptoWallet:e.Func([e.Text,e.Text,e.Bool,e.Opt(e.Text),e.Opt(e.Text)],[me],[]),createDeFiPosition:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text),e.Float64,e.Float64],[A],[]),createDefiPosition:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text),e.Float64,e.Float64],[A],[]),createGoal:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Opt(e.Int),e.Text],[q],[]),createGroupVault:e.Func([e.Text,e.Opt(e.Text),e.Text,e.Text,e.Opt(e.Float64),e.Bool,e.Opt(e.Text)],[Z],[]),createNotification:e.Func([D,e.Text,e.Text,e.Text,e.Opt(e.Text),e.Opt(e.Int)],[f],[]),createSocialGame:e.Func([e.Text,e.Text,e.Text,e.Int,e.Opt(e.Int),e.Opt(e.Nat),e.Opt(e.Float64),e.Float64,e.Text,e.Opt(e.Text),e.Bool],[_],[]),createTransaction:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Text],[he],[]),createUser:e.Func([e.Text,e.Text,e.Opt(e.Text)],[ue],[]),createVaultChatRoom:e.Func([e.Text,e.Text,e.Opt(e.Text)],[z],[]),createWallet:e.Func([e.Text,e.Text,e.Text],[v],[]),deleteNotification:e.Func([e.Text],[k],[]),depositToVault:e.Func([e.Text,e.Float64,e.Opt(e.Text)],[g],[]),endGame:e.Func([e.Text],[_],[]),generateAIInsights:e.Func([],[se],[]),generateAIRecommendations:e.Func([],[ae],[]),generateDepositAddress:e.Func([e.Text],[Te],[]),getAIAnalytics:e.Func([],[Re],[]),getAIConversationHistory:e.Func([],[$e],[]),getAvailableBills:e.Func([],[Hn],[]),getAvailableGames:e.Func([],[Kr],[]),getBurnHistory:e.Func([e.Nat,e.Nat],[e.Vec(qn)],["query"]),getDashboardStats:e.Func([],[In],["query"]),getDefiAnalytics:e.Func([],[Gn],[]),getDefiPositionsByProductType:e.Func([e.Text],[zt],[]),getDefiPositionsByProtocol:e.Func([e.Text],[zt],[]),getDefiProtocolStats:e.Func([e.Text],[Ms],[]),getDefiTransactionsByProtocol:e.Func([e.Text],[vi],[]),getDepositAddress:e.Func([e.Text],[Te],[]),getDepositAddresses:e.Func([],[Os],[]),getDepositHistory:e.Func([],[$s],[]),getDepositTransactionById:e.Func([e.Text],[Si],[]),getFullWalletPortfolio:e.Func([],[G],[]),getGameLeaderboard:e.Func([e.Text],[Fe],[]),getGamesByType:e.Func([e.Text],[Kr],[]),getMintHistory:e.Func([e.Nat,e.Nat],[e.Vec(Ze)],["query"]),getNotificationPreferences:e.Func([],[fn],[]),getPaybillTransactionById:e.Func([e.Text],[Yn],[]),getPaybillTransactionHistory:e.Func([],[ou],[]),getPaymentById:e.Func([e.Text],[ul],[]),getPaymentStats:e.Func([],[iu],[]),getPaymentsByProvider:e.Func([e.Text],[fl],[]),getPrincipalId:e.Func([],[e.Text],["query"]),getRecoveryRequestStatus:e.Func([e.Text],[e.Opt(qe)],["query"]),getStakingInfo:e.Func([t],[e.Opt(su)],["query"]),getSystemStats:e.Func([],[e.Record({totalExternalConnections:e.Nat,totalWallets:e.Nat,totalCryptoWallets:e.Nat,totalRecoveryRequests:e.Nat,totalOTPRequests:e.Nat,totalCryptoTransactions:e.Nat,totalUsers:e.Nat,totalRecoveryMethods:e.Nat,totalTransactions:e.Nat,totalDeFiPositions:e.Nat})],["query"]),getTokenMetadata:e.Func([],[au],["query"]),getTotalBalance:e.Func([t],[oe],["query"]),getTotalStaked:e.Func([],[e.Nat],["query"]),getTransferHistory:e.Func([e.Nat,e.Nat],[e.Vec(Me)],["query"]),getTypingIndicators:e.Func([e.Text],[Pe],[]),getUSDTtoKESRate:e.Func([],[C],[]),getUnreadNotificationCount:e.Func([],[X],[]),getUser:e.Func([],[ue],["query"]),getUserAIInsights:e.Func([],[se],[]),getUserAIRecommendations:e.Func([],[ae],[]),getUserAuditLogs:e.Func([],[Fo],[]),getUserBudgets:e.Func([],[sp],["query"]),getUserByEmail:e.Func([e.Text],[e.Opt(t)],["query"]),getUserByPhone:e.Func([e.Text],[e.Opt(t)],["query"]),getUserChatNotifications:e.Func([e.Nat,e.Nat],[q2],[]),getUserCryptoTransactions:e.Func([],[ap],[]),getUserCryptoWallets:e.Func([],[I2],["query"]),getUserDeFiPositions:e.Func([],[zt],[]),getUserDefiPositions:e.Func([],[zt],[]),getUserDefiTransactions:e.Func([],[vi],[]),getUserExternalConnections:e.Func([],[G2],[]),getUserGameRewards:e.Func([],[Y2],[]),getUserGames:e.Func([],[Kr],[]),getUserGoals:e.Func([],[K2],["query"]),getUserGroupVaults:e.Func([],[Z2],[]),getUserLocalPaymentHistory:e.Func([],[fl],[]),getUserNotifications:e.Func([e.Nat,e.Nat],[X2],[]),getUserOTPRequests:e.Func([],[J2],[]),getUserPaymentMethods:e.Func([],[L2],[]),getUserRecoveryMethods:e.Func([],[D2],["query"]),getUserSimplePaymentHistory:e.Func([],[ew],[]),getUserTransactions:e.Func([],[tw],["query"]),getUserWalletAddresses:e.Func([],[rw],[]),getUserWallets:e.Func([],[nw],["query"]),getVaultChatMembers:e.Func([e.Text],[iw],[]),getVaultDetails:e.Func([e.Text],[sw],[]),getVaultMessages:e.Func([e.Text,e.Nat,e.Nat],[cw],[]),getWallet:e.Func([e.Text],[v],[]),getWalletByAddress:e.Func([e.Text],[e.Opt(e.Text)],["query"]),getWalletTransactionHistory:e.Func([e.Text,e.Nat,e.Nat],[ap],[]),greet:e.Func([e.Text],[e.Text],["query"]),initiateLocalPayment:e.Func([e.Text,e.Text,e.Float64,e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Opt(e.Text)],[H],[]),initiateRecovery:e.Func([e.Text,e.Text],[dw],[]),inviteToVault:e.Func([e.Text,t,e.Text],[up],[]),joinGame:e.Func([e.Text],[fp],[]),joinVault:e.Func([e.Text],[up],[]),joinVaultChat:e.Func([e.Text,e.Text],[k],[]),leaveVaultChat:e.Func([e.Text],[k],[]),linkRecoveredAccount:e.Func([e.Text,e.Principal],[ue],[]),loginOrCreateUser:e.Func([],[ue],[]),markAllNotificationsAsRead:e.Func([],[X],[]),markMessagesAsRead:e.Func([e.Text,e.Vec(e.Text)],[k],[]),markNotificationAsRead:e.Func([e.Text],[f],[]),markRecommendationImplemented:e.Func([e.Text],[uw],[]),mint:e.Func([t,e.Nat,e.Text],[k],[]),processDeposit:e.Func([fw],[Si],[]),processPaybillPayment:e.Func([hw],[Yn],[]),processPayment:e.Func([e.Text],[H],[]),processSimplePayment:e.Func([e.Text,e.Float64,e.Text,e.Float64,e.Float64,e.Opt(e.Text)],[ul],[]),recordDefiTransaction:e.Func([e.Text,e.Text,e.Text,e.Opt(e.Text),e.Float64,e.Opt(e.Float64),e.Float64,e.Opt(e.Text)],[pw],[]),regenerateWalletAddress:e.Func([e.Text],[Te],[]),removePaymentMethod:e.Func([e.Text],[k],[]),removePushSubscription:e.Func([e.Text],[k],[]),sendAIMessage:e.Func([e.Text],[mw],[]),sendCrossCanisterNotification:e.Func([e.Text,e.Text],[Te],[]),sendCrypto:e.Func([e.Text,e.Text,e.Float64,e.Opt(e.Text)],[xe],[]),sendOTP:e.Func([e.Text,e.Text,e.Text,e.Text],[gw],[]),sendVaultMessage:e.Func([e.Text,e.Text,cp,e.Opt(e.Text)],[yw],[]),sendVerificationCode:e.Func([e.Text,e.Text],[Te],[]),setPaused:e.Func([e.Bool],[k],[]),setStakingRewardRate:e.Func([e.Float64],[k],[]),setTransactionLimits:e.Func([e.Nat,e.Nat],[k],[]),setTreasuryAddress:e.Func([t],[k],[]),stake:e.Func([e.Nat],[k],[]),transfer:e.Func([t,e.Nat],[k],[]),transferBetweenWallets:e.Func([e.Text,e.Text,e.Float64,e.Opt(e.Text)],[xe],[]),transferFrom:e.Func([t,t,e.Nat],[k],[]),unstake:e.Func([e.Nat],[k],[]),updateCryptoWalletBalance:e.Func([e.Text,e.Float64],[me],[]),updateDefiPosition:e.Func([e.Text,e.Float64,e.Float64,e.Float64],[A],[]),updateGameScore:e.Func([e.Text,e.Float64],[fp],[]),updateGoalProgress:e.Func([e.Text,e.Float64],[q],[]),updateNotificationPreferences:e.Func([e.Bool,e.Bool,e.Bool,e.Bool,e.Bool,e.Bool,e.Bool,e.Bool,e.Bool,e.Bool,e.Opt(e.Record({end:e.Text,start:e.Text})),e.Text],[fn],[]),updatePaymentMethod:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text),e.Text,e.Bool],[a],[]),updateTransactionStatus:e.Func([e.Text,e.Text,e.Opt(e.Text),e.Opt(e.Nat)],[xe],[]),updateTypingStatus:e.Func([e.Text,e.Bool],[k],[]),updateUser:e.Func([e.Opt(e.Text),e.Opt(e.Text)],[ue],[]),userExists:e.Func([],[e.Bool],[]),validateAddress:e.Func([e.Text,e.Text],[e.Bool],["query"]),verifyCode:e.Func([e.Text,e.Text,e.Text],[Te],[]),verifyOTP:e.Func([e.Text,e.Text],[xw],[]),verifyRecovery:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Vec(e.Tuple(e.Text,e.Text)))],[Te],[]),verifyRecoveryMethod:e.Func([e.Text,e.Text,e.Text],[N],[]),withdrawFromVault:e.Func([e.Text,e.Float64,e.Opt(e.Text)],[g],[])})},zr=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"),V8=()=>{if(!zr)return console.log("BackendService: Using mainnet canister ID: tp4se-aiaaa-aaaau-abyha-cai"),"tp4se-aiaaa-aaaau-abyha-cai";const e="bkyz2-fmaaa-aaaaa-qaaaq-cai";return console.log("BackendService: Using canister ID from environment:",e),e},H8=()=>{if(!zr)return"r3cxq-fiaaa-aaaau-abyja-cai";const e="be2us-64aaa-aaaaa-qaabq-cai";return console.log("BackendService: Using Internet Identity canister ID from environment:",e),e},zh=V8(),Fh=H8();console.log("Backend canister ID:",zh);console.log("Internet Identity canister ID:",Fh);class qa{constructor(){this.authClient=null,this.actor=null,this.isAuthenticated=!1,this.identity=null,this.principal=null}async init(){try{console.log("BackendService: Starting initialization..."),console.log("BackendService: Creating AuthClient..."),this.authClient=await Eg.create(),console.log("BackendService: AuthClient created successfully");const t=await this.authClient.isAuthenticated();console.log("BackendService: User authentication status:",t),t&&(this.identity=this.authClient.getIdentity(),this.principal=this.identity.getPrincipal(),this.isAuthenticated=!0,console.log("BackendService: User already authenticated with principal:",this.principal.toString()));try{console.log("BackendService: Attempting to create actor..."),await this.createActor(),console.log("BackendService: Actor created successfully during initialization")}catch(r){console.warn("BackendService: Failed to create actor during initialization (dfx may not be running):",r)}return console.log("BackendService: Initialization completed successfully"),this.isAuthenticated}catch(t){return console.error("BackendService: Failed to initialize backend service:",t),!1}}async createActor(){try{console.log("BackendService: Creating actor with canister ID:",zh),console.log("BackendService: Using identity:",this.identity?"authenticated":"anonymous"),console.log("BackendService: Host:",zr?"http://localhost:4943":"https://ic0.app"),console.log("BackendService: isLocal value:",zr);const t=new Xo({identity:this.identity,host:zr?"http://localhost:4943":"https://ic0.app"});if(zr){console.log("BackendService: Fetching root key for local development...");try{await t.fetchRootKey(),console.log("BackendService: Root key fetched successfully")}catch(r){console.warn("BackendService: Failed to fetch root key:",r)}}return this.actor=Dd.createActor(W8,{agent:t,canisterId:zh}),console.log("BackendService: Actor created successfully"),this.actor}catch(t){throw console.error("BackendService: Failed to create actor:",t),t.message.includes("fetch")||t.message.includes("localhost:4943")||t.message.includes("Failed to fetch")?new Error("Cannot connect to dfx local network. Please ensure dfx is running with: dfx start --clean --background"):t}}async ensureActor(){try{return this.actor||(console.log("BackendService: Actor not found, creating new actor..."),await this.createActor(),console.log("BackendService: Actor created successfully")),this.actor&&console.log("BackendService: Actor ready for use"),this.actor}catch(t){throw console.error("BackendService: Failed to ensure actor:",t),new Error(`Failed to create actor: ${t.message}`)}}async login(){try{return console.log("BackendService.login() called"),this.authClient||(console.log("Creating AuthClient..."),this.authClient=await Eg.create(),console.log("AuthClient created successfully")),new Promise((t,r)=>{const n=zr?`http://${Fh}.localhost:4943/#authorize`:"https://identity.ic0.app";console.log("Initiating Internet Identity login with provider:",n),console.log("INTERNET_IDENTITY_CANISTER_ID value:",Fh),console.log("isLocal value:",zr),this.authClient.login({identityProvider:n,...zr?{derivationOrigin:window.location.origin}:{},maxTimeToLive:BigInt(7*24*60*60*1e3*1e3*1e3),onSuccess:async()=>{try{console.log("Internet Identity login successful"),this.identity=this.authClient.getIdentity(),this.principal=this.identity.getPrincipal(),this.isAuthenticated=!0,console.log("User principal:",this.principal.toString()),await this.createActor();try{this.supportsMethod("userExists")?await this.userExists()?console.log("User already exists"):(console.log("User does not exist, creating user account..."),await this.loginOrCreateUser(),console.log("User account created successfully")):console.log("Backend does not support user management, skipping user creation")}catch(o){console.warn("Failed to check/create user account (this is normal if backend is not fully implemented):",o.message)}const s=_g({success:!0,user:null,principal:this.principal.toString()});t(s)}catch(s){console.error("Post-login setup failed:",s),r(s)}},onError:s=>{console.error("Internet Identity login failed:",s),r(s)}})})}catch(t){throw console.error("Login initialization failed:",t),t}}async logout(){this.authClient&&(await this.authClient.logout(),this.isAuthenticated=!1,this.identity=null,this.principal=null,this.actor=null)}async loginOrCreateUser(){try{const t=await this.actor.loginOrCreateUser();if(t.ok){const r={...t.ok,createdAt:t.ok.createdAt?t.ok.createdAt.toString():null,updatedAt:t.ok.updatedAt?t.ok.updatedAt.toString():null,lastLoginAt:t.ok.lastLoginAt?t.ok.lastLoginAt.toString():null};return _g(r)}else throw new Error(t.err)}catch(t){throw console.error("Login or create user failed:",t),t}}async getUser(){try{const t=await this.actor.getUser();if(t.ok){const r={...t.ok,createdAt:t.ok.createdAt?t.ok.createdAt.toString():null,updatedAt:t.ok.updatedAt?t.ok.updatedAt.toString():null,lastLoginAt:t.ok.lastLoginAt?t.ok.lastLoginAt.toString():null};return Tc(r)}else throw new Error(t.err)}catch(t){throw console.error("Get user failed:",t),t}}async updateUser(t,r){try{const n=await this.actor.updateUser(t?[t]:[],r?[r]:[]);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Update user failed:",n),n}}async userExists(){try{return this.supportsMethod("userExists")?await this.actor.userExists():(console.warn("userExists method not available on actor (this is normal in development)"),!1)}catch(t){return console.warn("User exists check failed (this is normal in development):",t.message),!1}}async getPrincipalId(){try{return await this.actor.getPrincipalId()}catch(t){throw console.error("Get principal ID failed:",t),t}}getCurrentPrincipal(){return this.principal?this.principal:this.identity?this.identity.getPrincipal():null}isInitialized(){return this.authClient!==null}hasActor(){return this.actor!==null}supportsMethod(t){return this.actor&&typeof this.actor[t]=="function"}async checkDfxConnection(){try{const t=new Xo({host:zr?"http://localhost:4943":"https://ic0.app"});return zr&&await t.fetchRootKey(),!0}catch(t){return console.warn("BackendService: DFX connection check failed:",t),!1}}async reinitializeActor(){console.log("BackendService: Reinitializing actor..."),this.actor=null;try{return await this.createActor(),console.log("BackendService: Actor reinitialized successfully"),!0}catch(t){return console.error("BackendService: Failed to reinitialize actor:",t),!1}}async generateUsernameFromPrincipal(){try{const t=this.getCurrentPrincipal();if(!t)throw new Error("No principal available for username generation");const n=`nesto_${t.toString().replace(/[^a-z0-9]/gi,"").slice(0,8).toLowerCase()}`;console.log("Generated username from principal:",n);const s=await this.updateUser(n,null);return console.log("Username updated successfully:",s),n}catch(t){throw console.error("Failed to generate username from principal:",t),t}}async addRecoveryMethod(t,r,n=null){try{await this.ensureActor();const s=await this.actor.addRecoveryMethod(t,r,n?[n]:[]);if(s.ok)return s.ok;throw new Error(s.err)}catch(s){throw console.error("Add recovery method failed:",s),s}}async getUserRecoveryMethods(){try{await this.ensureActor();const t=await this.actor.getUserRecoveryMethods();if(t.ok){const r=t.ok.map(n=>({...n,createdAt:n.createdAt?n.createdAt.toString():null,verifiedAt:n.verifiedAt?n.verifiedAt.toString():null}));return Tc(r)}else throw new Error(t.err)}catch(t){if(t.message&&(t.message.includes("has no query method")||t.message.includes("CanisterError")))return[];throw console.error("Get recovery methods failed:",t),t}}async addSecurityQuestions(t){try{const r=await this.actor.addSecurityQuestions(t);if(r.ok)return r.ok;throw new Error(r.err)}catch(r){throw console.error("Add security questions failed:",r),r}}async addEmergencyContact(t,r,n){try{const s=await this.actor.addEmergencyContact(t,r,n);if(s.ok)return s.ok;throw new Error(s.err)}catch(s){throw console.error("Add emergency contact failed:",s),s}}async completeRecoverySetup(){try{const t=await this.actor.completeRecoverySetup();if(t.ok)return t.ok;throw new Error(t.err)}catch(t){throw console.error("Complete recovery setup failed:",t),t}}async initiateRecovery(t,r){try{await this.ensureActor();const n=await this.actor.initiateRecovery(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){if(console.error("Initiate recovery failed:",n),n.message&&(n.message.includes("has no query method")||n.message.includes("CanisterError")))return console.log("Using mock recovery implementation"),{recoveryRequestId:`mock-${Date.now()}`,message:`Recovery initiated via ${r}. Check your ${r==="email"?"email":"phone"} for verification code.`};throw n}}async verifyRecovery(t,r,n){try{await this.ensureActor();const s=await this.actor.verifyRecovery(t,r?[r]:[],n?[n]:[]);if(s.ok)return s.ok;throw new Error(s.err)}catch(s){if(console.error("Verify recovery failed:",s),s.message&&(s.message.includes("has no query method")||s.message.includes("CanisterError"))){if(console.log("Using mock verification implementation"),r&&r.length===6)return{success:!0,message:"Verification successful"};if(n&&Object.keys(n).length>0)return{success:!0,message:"Security questions verified"};throw new Error("Invalid or expired verification code")}throw s}}async completeRecovery(t,r){try{await this.ensureActor();const n=await this.actor.completeRecovery(t,r?[r]:[]);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){if(console.error("Complete recovery failed:",n),n.message&&(n.message.includes("has no query method")||n.message.includes("CanisterError")))return console.log("Using mock completion implementation"),{success:!0,message:"Recovery completed successfully"};throw n}}async linkRecoveredAccount(t,r){try{await this.ensureActor();const n=await this.actor.linkRecoveredAccount(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Link recovered account failed:",n),n}}async createCryptoWallet(t,r,n,s=null,o=null){try{await this.ensureActor();const a=await this.actor.createCryptoWallet(t,r,n,s?[s]:[],o?[o]:[]);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Create crypto wallet failed:",a),a}}async getUserCryptoWallets(){try{await this.ensureActor();const t=await this.actor.getUserCryptoWallets();if(t.ok){const r=t.ok.map(n=>({...n,createdAt:n.createdAt?n.createdAt.toString():null,updatedAt:n.updatedAt?n.updatedAt.toString():null,lastSyncAt:n.lastSyncAt?n.lastSyncAt.toString():null}));return Tc(r)}else throw new Error(t.err)}catch(t){if(t.message&&(t.message.includes("has no query method")||t.message.includes("CanisterError")))return[];throw console.error("Get user crypto wallets failed:",t),t}}async updateCryptoWalletBalance(t,r){try{await this.ensureActor();const n=await this.actor.updateCryptoWalletBalance(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Update crypto wallet balance failed:",n),n}}async sendVerificationCode(t,r){try{await this.ensureActor();const n=await this.actor.sendVerificationCode(t,r);if(n.ok)return n.ok;throw new Error(n.err)}catch(n){throw console.error("Send verification code failed:",n),n}}async verifyCode(t,r,n){try{await this.ensureActor();const s=await this.actor.verifyCode(t,r,n);if(s.ok)return s.ok;throw new Error(s.err)}catch(s){throw console.error("Verify code failed:",s),s}}async getRecoveryRequestStatus(t){try{return await this.ensureActor(),await this.actor.getRecoveryRequestStatus(t)}catch(r){throw console.error("Get recovery request status failed:",r),r}}async greet(t){try{return await this.actor.greet(t)}catch(r){throw console.error("Greet failed:",r),r}}async getUserPaymentMethods(){try{await this.ensureActor();const t=await this.actor.getUserPaymentMethods();if(t.ok)return t.ok;throw new Error(t.err)}catch(t){return console.error("Get user payment methods failed:",t),[]}}async addPaymentMethod(t,r,n,s,o){try{await this.ensureActor();const a=await this.actor.addPaymentMethod(t,r?[r]:[],n?[n]:[],s,o);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Add payment method failed:",a),a}}async updatePaymentMethod(t,r,n,s,o){try{await this.ensureActor();const a=await this.actor.updatePaymentMethod(t,r?[r]:[],n?[n]:[],s,o);if(a.ok)return a.ok;throw new Error(a.err)}catch(a){throw console.error("Update payment method failed:",a),a}}async removePaymentMethod(t){try{await this.ensureActor();const r=await this.actor.removePaymentMethod(t);if(r.ok)return r.ok;throw new Error(r.err)}catch(r){throw console.error("Remove payment method failed:",r),r}}async initiateLocalPayment(t,r,n,s,o,a,l){try{await this.ensureActor();const c=await this.actor.initiateLocalPayment(t,r,n,s,o?[o]:[],a?[a]:[],l?[l]:[]);if(c.ok)return c.ok;throw new Error(c.err)}catch(c){throw console.error("Initiate local payment failed:",c),c}}async getUserPaymentHistory(){try{await this.ensureActor();const t=await this.actor.getUserPaymentHistory();if(t.ok)return t.ok;throw new Error(t.err)}catch(t){return console.error("Get user payment history failed:",t),[]}}async getUserVaults(){await this.ensureActor();try{return await this.actor.getUserVaults()}catch(t){return console.error("Failed to get user vaults:",t),[]}}async getUserGroupVaults(){await this.ensureActor();try{return await this.actor.getUserGroupVaults()}catch(t){throw console.error("Failed to get user group vaults:",t),t}}async getPublicVaults(){await this.ensureActor();try{return await this.actor.getPublicVaults()}catch(t){throw console.error("Failed to get public vaults:",t),t}}async createVault(t,r,n,s,o,a,l,c){await this.ensureActor();try{return await this.actor.createVault(t,r,n,s,o,a,l,c)}catch(d){throw console.error("Failed to create vault:",d),d}}async createGroupVault(t,r,n,s,o,a,l){await this.ensureActor();try{return await this.actor.createGroupVault(t,r?[r]:[],n,s,o?[o]:[],a,l?[l]:[])}catch(c){throw console.error("Failed to create group vault:",c),c}}async joinGroupVault(t){await this.ensureActor();try{return await this.actor.joinVault(t)}catch(r){throw console.error("Failed to join group vault:",r),r}}async getVaultDetails(t){await this.ensureActor();try{return await this.actor.getVaultDetails(t)}catch(r){throw console.error("Failed to get vault details:",r),r}}async inviteVaultMember(t,r,n){await this.ensureActor();try{const s=await this.actor.inviteToVault(t,r,n);if(s.ok)return s;throw new Error(s.err)}catch(s){throw console.error("Failed to invite vault member:",s),s}}async toggleVaultPrivacy(t,r){await this.ensureActor();try{return{ok:{vaultId:t,isPublic:r}}}catch(n){throw console.error("Failed to toggle vault privacy:",n),n}}async removeVaultMember(t,r){await this.ensureActor();try{const n=await this.actor.removeMember(t,r);if(n.ok)return n;throw new Error(n.err)}catch(n){throw console.error("Failed to remove vault member:",n),n}}async changeVaultMemberRole(t,r,n){await this.ensureActor();try{const s=await this.actor.changeMemberRole(t,r,n);if(s.ok)return s;throw new Error(s.err)}catch(s){throw console.error("Failed to change vault member role:",s),s}}async editGroupVault(t,r){await this.ensureActor();try{return{ok:{vaultId:t,fields:r,updated:!0}}}catch(n){throw console.error("Failed to edit group vault:",n),n}}async depositToVault(t,r,n){await this.ensureActor();try{const s=await this.actor.depositToVault(t,parseFloat(r),n?[n]:[]);if(s.ok)return s;throw new Error(s.err)}catch(s){throw console.error("Failed to deposit to vault:",s),s}}async withdrawFromVault(t,r,n){await this.ensureActor();try{const s=await this.actor.withdrawFromVault(t,parseFloat(r),n?[n]:[]);if(s.ok)return s;throw new Error(s.err)}catch(s){throw console.error("Failed to withdraw from vault:",s),s}}async deleteGroupVault(t){await this.ensureActor();try{return{ok:{vaultId:t,deleted:!0}}}catch(r){throw console.error("Failed to delete group vault:",r),r}}async proposeVaultAction(t,r,n=null,s=null){await this.ensureActor();try{return{ok:{vaultId:t,actionType:r,targetId:n,newRole:s,proposed:!0}}}catch(o){throw console.error("Failed to propose vault action:",o),o}}async voteVaultAction(t,r){await this.ensureActor();try{return{ok:{proposalId:t,approve:r,voted:!0}}}catch(n){throw console.error("Failed to vote vault action:",n),n}}async appealVaultAction(t,r){await this.ensureActor();try{return{ok:{proposalId:t,reason:r,appealed:!0}}}catch(n){throw console.error("Failed to appeal vault action:",n),n}}async getVaultProposals(t){await this.ensureActor();try{return{ok:[]}}catch(r){throw console.error("Failed to get vault proposals:",r),r}}async createVaultChatRoom(t,r,n=null){try{return await this.ensureActor(),await this.actor.createVaultChatRoom(t,r,n?[n]:[])}catch(s){throw console.error("Failed to create vault chat room:",s),s}}async joinVaultChat(t,r){try{return await this.ensureActor(),await this.actor.joinVaultChat(t,r)}catch(n){throw console.error("Failed to join vault chat:",n),n}}async sendVaultMessage(t,r,n="Text",s=null){try{await this.ensureActor();let o;switch(n){case"Text":o={Text:null};break;case"System":o={System:null};break;case"Transaction":o={Transaction:null};break;case"Image":o={Image:null};break;case"File":o={File:null};break;case"Reaction":o={Reaction:null};break;default:o={Text:null}}return await this.actor.sendVaultMessage(t,r,o,s?[s]:[])}catch(o){throw console.error("Failed to send vault message:",o),o}}async getVaultMessages(t,r=50,n=0){var s;try{return await this.ensureActor(),console.log("Getting vault messages for vaultId:",t),console.log("Current principal:",(s=this.principal)==null?void 0:s.toString()),console.log("Is authenticated:",this.isAuthenticated),await this.actor.getVaultMessages(t,r,n)}catch(o){throw console.error("Failed to get vault messages:",o),o}}async updateTypingStatus(t,r){try{return await this.ensureActor(),await this.actor.updateTypingStatus(t,r)}catch(n){throw console.error("Failed to update typing status:",n),n}}async getTypingIndicators(t){try{return await this.ensureActor(),await this.actor.getTypingIndicators(t)}catch(r){throw console.error("Failed to get typing indicators:",r),r}}async markMessagesAsRead(t,r){try{return await this.ensureActor(),await this.actor.markMessagesAsRead(t,r)}catch(n){throw console.error("Failed to mark messages as read:",n),n}}async getUserChatNotifications(t=20,r=0){try{return await this.ensureActor(),await this.actor.getUserChatNotifications(t,r)}catch(n){throw console.error("Failed to get user chat notifications:",n),n}}async leaveVaultChat(t){try{return await this.ensureActor(),await this.actor.leaveVaultChat(t)}catch(r){throw console.error("Failed to leave vault chat:",r),r}}async getVaultChatMembers(t){try{return await this.ensureActor(),await this.actor.getVaultChatMembers(t)}catch(r){throw console.error("Failed to get vault chat members:",r),r}}async getTokenMetadata(){try{return await(await this.ensureActor()).getTokenMetadata()}catch(t){throw console.error("Error getting token metadata:",t),t}}async balanceOf(t){try{return await(await this.ensureActor()).balanceOf(t)}catch(r){throw console.error("Error getting balance:",r),r}}async getTotalBalance(t){try{return await(await this.ensureActor()).getTotalBalance(t)}catch(r){throw console.error("Error getting total balance:",r),r}}async allowance(t,r){try{return await(await this.ensureActor()).allowance(t,r)}catch(n){throw console.error("Error getting allowance:",n),n}}async transfer(t,r){try{return await(await this.ensureActor()).transfer(t,r)}catch(n){throw console.error("Error transferring tokens:",n),n}}async approve(t,r){try{return await(await this.ensureActor()).approve(t,r)}catch(n){throw console.error("Error approving tokens:",n),n}}async transferFrom(t,r,n){try{return await(await this.ensureActor()).transferFrom(t,r,n)}catch(s){throw console.error("Error transferring from:",s),s}}async mint(t,r,n){try{return await(await this.ensureActor()).mint(t,r,n)}catch(s){throw console.error("Error minting tokens:",s),s}}async burn(t,r){try{return await(await this.ensureActor()).burn(t,r)}catch(n){throw console.error("Error burning tokens:",n),n}}async stake(t){try{return await(await this.ensureActor()).stake(t)}catch(r){throw console.error("Error staking tokens:",r),r}}async unstake(t){try{return await(await this.ensureActor()).unstake(t)}catch(r){throw console.error("Error unstaking tokens:",r),r}}async claimRewards(){try{return await(await this.ensureActor()).claimRewards()}catch(t){throw console.error("Error claiming rewards:",t),t}}async getStakingInfo(t){try{return await(await this.ensureActor()).getStakingInfo(t)}catch(r){throw console.error("Error getting staking info:",r),r}}async getTotalStaked(){try{return await(await this.ensureActor()).getTotalStaked()}catch(t){throw console.error("Error getting total staked:",t),t}}async getTransferHistory(t=10,r=0){try{return await(await this.ensureActor()).getTransferHistory(t,r)}catch(n){throw console.error("Error getting transfer history:",n),n}}async getMintHistory(t=10,r=0){try{return await(await this.ensureActor()).getMintHistory(t,r)}catch(n){throw console.error("Error getting mint history:",n),n}}async getBurnHistory(t=10,r=0){try{return await(await this.ensureActor()).getBurnHistory(t,r)}catch(n){throw console.error("Error getting burn history:",n),n}}async sendCrypto(t,r,n,s=null){try{return await(await this.ensureActor()).sendCrypto(t,r,n,s)}catch(o){throw console.error("Error sending crypto:",o),o}}async transferBetweenWallets(t,r,n,s=null){try{return await(await this.ensureActor()).transferBetweenWallets(t,r,n,s)}catch(o){throw console.error("Error transferring between wallets:",o),o}}async getWalletTransactionHistory(t,r=20,n=0){try{return await(await this.ensureActor()).getWalletTransactionHistory(t,r,n)}catch(s){throw console.error("Error getting wallet transaction history:",s),s}}async updateTransactionStatus(t,r,n=null,s=null){try{return await(await this.ensureActor()).updateTransactionStatus(t,r,n,s)}catch(o){throw console.error("Error updating transaction status:",o),o}}async getUserCryptoTransactions(){try{return await(await this.ensureActor()).getUserCryptoTransactions()}catch(t){throw console.error("Error getting user crypto transactions:",t),t}}async getDepositAddress(t){try{return await(await this.ensureActor()).getDepositAddress(t)}catch(r){throw console.error("Error getting deposit address:",r),r}}async getDepositAddresses(){try{return await(await this.ensureActor()).getDepositAddresses()}catch(t){throw console.error("Error getting deposit addresses:",t),t}}async getUSDTtoKESRate(){try{try{const n=await fetch("https://api.binance.com/api/v3/ticker/price?symbol=USDTNGN",{method:"GET",headers:{"Content-Type":"application/json"}});if(n.ok){const s=await n.json(),o=parseFloat(s.price),a=await fetch("https://api.exchangerate-api.com/v4/latest/NGN",{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok){const c=(await a.json()).rates.KES,d=o*c;return console.log(`Binance NGN Success: 1 USDT = ${o} NGN = ${d} KES (NGN/KES: ${c})`),d}}}catch{console.log("Binance NGN failed, trying Binance USD...")}try{const n=await fetch("https://api.binance.com/api/v3/ticker/price?symbol=USDTUSD",{method:"GET",headers:{"Content-Type":"application/json"}});if(n.ok){const s=await n.json(),o=parseFloat(s.price),a=await fetch("https://api.exchangerate-api.com/v4/latest/USD",{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok){const c=(await a.json()).rates.KES,d=o*c;return console.log(`Binance USD Success: 1 USDT = ${o} USD = ${d} KES (USD/KES: ${c})`),d}}}catch{console.log("Binance USD failed, trying CoinGecko...")}try{const n=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=tether&vs_currencies=kes",{method:"GET",headers:{"Content-Type":"application/json"}});if(n.ok){const s=await n.json();if(s.tether&&s.tether.kes){const o=s.tether.kes;return console.log(`CoinGecko Direct KES Success: 1 USDT = ${o} KES`),o}}}catch{console.log("Direct KES rate failed, trying USD conversion...")}try{const n=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=tether&vs_currencies=usd",{method:"GET",headers:{"Content-Type":"application/json"}});if(n.ok){const o=(await n.json()).tether.usd,a=await fetch("https://api.exchangerate-api.com/v4/latest/USD",{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok){const c=(await a.json()).rates.KES,d=o*c;return console.log(`USD Conversion Success: 1 USDT = ${o} USD = ${d} KES (USD/KES: ${c})`),d}}}catch{console.log("USD conversion failed, trying NGN...")}try{const n=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=tether&vs_currencies=ngn",{method:"GET",headers:{"Content-Type":"application/json"}});if(n.ok){const o=(await n.json()).tether.ngn,a=await fetch("https://api.exchangerate-api.com/v4/latest/NGN",{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok){const c=(await a.json()).rates.KES,d=o*c;return console.log(`NGN Conversion Success: 1 USDT = ${o} NGN = ${d} KES (NGN/KES: ${c})`),d}}}catch{console.log("NGN conversion failed, trying backend...")}const r=await(await this.ensureActor()).getUSDTtoKESRate();if("ok"in r)return console.log(`Backend fallback: 1 USDT = ${r.ok} KES`),r.ok;throw new Error(r.err)}catch(t){console.error("All conversion rate methods failed:",t);const r=135.5;return console.log(`Using fallback rate: 1 USDT = ${r} KES`),r}}async processPaybillPayment(t){var r;try{const s=await(await this.ensureActor()).processPaybillPayment(t);if("ok"in s)return{transactionId:s.ok.id,mpesaReceipt:((r=s.ok.mpesaReceipt)==null?void 0:r[0])||null,status:s.ok.status,message:"Payment processed successfully"};throw new Error(s.err)}catch(n){throw console.error("Error processing paybill payment:",n),new Error("Payment processing failed")}}async getPaybillTransactionHistory(){try{const r=await(await this.ensureActor()).getPaybillTransactionHistory();if("ok"in r)return r.ok;throw new Error(r.err)}catch(t){throw console.error("Error fetching paybill transaction history:",t),t}}async getAvailableBills(){try{const r=await(await this.ensureActor()).getAvailableBills();if("ok"in r)return r.ok;throw new Error(r.err)}catch(t){throw console.error("Error fetching available bills:",t),t}}async getUserWallets(){try{const r=await(await this.ensureActor()).getUserWallets();if("ok"in r)return r.ok;throw new Error(r.err)}catch(t){throw console.error("Error fetching user wallets:",t),t}}async getCryptoRates(){try{const t={};try{const r=["USDTNGN","USDTUSD","BTCUSDT","ETHUSDT"];for(const n of r){const s=await fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${n}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(s.ok){const o=await s.json();t[n]=parseFloat(o.price)}}}catch{console.log("Binance API failed, trying CoinGecko...")}if(Object.keys(t).length===0)try{const r=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=tether,bitcoin,ethereum&vs_currencies=ngn,usd",{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const n=await r.json();n.tether&&(t.USDTNGN=n.tether.ngn,t.USDTUSD=n.tether.usd),n.bitcoin&&(t.BTCUSD=n.bitcoin.usd),n.ethereum&&(t.ETHUSD=n.ethereum.usd)}}catch{console.log("CoinGecko API also failed")}return t}catch(t){return console.error("Error fetching crypto rates:",t),{}}}async getEnhancedUSDTtoKESRate(){try{return await this.getUSDTtoKESRate()}catch(t){return console.error("Error in enhanced rate calculation:",t),this.getUSDTtoKESRate()}}async initiateMpesaDeposit(t){try{const n=await(await this.ensureActor()).processDeposit({kesAmount:t.kesAmount,usdtAmount:t.usdtAmount,phoneNumber:t.phoneNumber,conversionRate:t.conversionRate}),s=await this.initiateMpesaSTKPush(t.phoneNumber,t.kesAmount,"174379","Nisto Deposit","CustomerPayBillOnline");return{...n,mpesaCheckoutRequestID:s.CheckoutRequestID,mpesaMerchantRequestID:s.MerchantRequestID,mpesaResponseCode:s.ResponseCode,mpesaResponseDescription:s.ResponseDescription,mpesaCustomerMessage:s.CustomerMessage}}catch(r){throw console.error("Error processing deposit with Mpesa:",r),r}}async getDepositHistory(){try{const r=await(await this.ensureActor()).getDepositHistory();if("ok"in r)return r.ok;throw new Error(r.err)}catch(t){throw console.error("Error fetching deposit history:",t),t}}async getDarajaAccessToken(){try{const r=await fetch("/mpesa/oauth/token",{method:"GET"});if(!r.ok)throw new Error("Failed to get Daraja access token");return(await r.json()).access_token}catch(t){throw console.error("Error getting Daraja access token:",t),t}}generateDarajaPassword(t,r,n){const s=t+r+n;return btoa(s)}async initiateMpesaSTKPush(t,r,n,s,o="CustomerPayBillOnline"){try{const a=await this.getDarajaAccessToken(),l=new Date,c=l.getFullYear().toString()+(l.getMonth()+1).toString().padStart(2,"0")+l.getDate().toString().padStart(2,"0")+l.getHours().toString().padStart(2,"0")+l.getMinutes().toString().padStart(2,"0")+l.getSeconds().toString().padStart(2,"0"),d="bfb279f9aa9bdbcf158e97dd71a467cd2e0c893059b10f78e6b72ada1ed2c919",b=this.generateDarajaPassword(n,d,c),x={BusinessShortCode:n,Password:b,Timestamp:c,TransactionType:o,Amount:Math.round(r),PartyA:t,PartyB:n,PhoneNumber:t,CallBackURL:"https://your-app.com/mpesa/callback",AccountReference:s,TransactionDesc:`Payment for ${s}`},h=await fetch("/mpesa/stkpush",{method:"POST",headers:{"Content-Type":"application/json","x-access-token":a},body:JSON.stringify(x)});if(h.ok)return await h.json();{const y=await h.json();throw new Error(y.errorMessage||"STK Push failed")}}catch(a){throw console.error("Error initiating STK Push:",a),a}}async initiateMpesaB2CPayout(t,r,n="Payout",s="",o="BusinessPayment"){try{const l=await fetch("/mpesa/b2c/payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t,amount:r,remarks:n,occasion:s,commandId:o})});if(!l.ok){const c=await l.json().catch(()=>({}));throw new Error(c.error||"B2C payout failed")}return await l.json()}catch(a){throw console.error("Error initiating B2C payout:",a),a}}async processPaybillPaymentWithMpesa(t){try{const r=await this.processPaybillPayment(t);let n=null;return t.billId==="send-money"?n=await this.initiateMpesaSTKPush(t.phoneNumber,t.kesAmount,"174379",t.recipientName||"Send Money","CustomerPayBillOnline"):t.billId==="buy-goods"?n=await this.initiateMpesaSTKPush(t.phoneNumber,t.kesAmount,"174379",t.accountReference||"Buy Goods","CustomerBuyGoodsOnline"):n=await this.initiateMpesaSTKPush(t.phoneNumber,t.kesAmount,t.paybillNumber||"174379",t.accountReference||"Paybill","CustomerPayBillOnline"),{...r,mpesaCheckoutRequestID:n.CheckoutRequestID,mpesaMerchantRequestID:n.MerchantRequestID,mpesaResponseCode:n.ResponseCode,mpesaResponseDescription:n.ResponseDescription,mpesaCustomerMessage:n.CustomerMessage}}catch(r){throw console.error("Error processing payment with Mpesa:",r),r}}async createNotification(t,r,n,s,o,a){try{await this.ensureActor();const l=await this.actor.createNotification(t,r,n,s,o,a);return console.log("BackendService: Notification created:",l),l}catch(l){throw console.error("BackendService: Failed to create notification:",l),l}}async getUserNotifications(t=20,r=0){try{await this.ensureActor(),console.log("BackendService: Calling actor.getUserNotifications() with limit:",t,"offset:",r);const n=await this.actor.getUserNotifications(t,r);return console.log("BackendService: Actor returned:",n),console.log("BackendService: Result type:",typeof n),console.log("BackendService: Result structure:",JSON.stringify(n,null,2)),n}catch(n){throw console.error("BackendService: Failed to get notifications:",n),n}}async markNotificationAsRead(t){try{await this.ensureActor();const r=await this.actor.markNotificationAsRead(t);return console.log("BackendService: Notification marked as read:",r),r}catch(r){throw console.error("BackendService: Failed to mark notification as read:",r),r}}async markAllNotificationsAsRead(){try{await this.ensureActor();const t=await this.actor.markAllNotificationsAsRead();return console.log("BackendService: All notifications marked as read:",t),t}catch(t){throw console.error("BackendService: Failed to mark all notifications as read:",t),t}}async deleteNotification(t){try{await this.ensureActor();const r=await this.actor.deleteNotification(t);return console.log("BackendService: Notification deleted:",r),r}catch(r){throw console.error("BackendService: Failed to delete notification:",r),r}}async addPushSubscription(t){try{await this.ensureActor();const r=await this.actor.addPushSubscription(t);return console.log("BackendService: Push subscription added:",r),r}catch(r){throw console.error("BackendService: Failed to add push subscription:",r),r}}async removePushSubscription(t){try{await this.ensureActor();const r=await this.actor.removePushSubscription(t);return console.log("BackendService: Push subscription removed:",r),r}catch(r){throw console.error("BackendService: Failed to remove push subscription:",r),r}}async updateNotificationPreferences(t,r,n,s,o,a,l,c,d,b,x,m){try{await this.ensureActor();const h=await this.actor.updateNotificationPreferences(t,r,n,s,o,a,l,c,d,b,x,m);return console.log("BackendService: Notification preferences updated:",h),h}catch(h){throw console.error("BackendService: Failed to update notification preferences:",h),h}}async getNotificationPreferences(){try{await this.ensureActor();const t=await this.actor.getNotificationPreferences();return console.log("BackendService: Retrieved notification preferences:",t),t}catch(t){throw console.error("BackendService: Failed to get notification preferences:",t),t}}async sendCrossCanisterNotification(t,r){try{await this.ensureActor();const n=await this.actor.sendCrossCanisterNotification(t,r);return console.log("BackendService: Cross-canister notification sent:",n),n}catch(n){throw console.error("BackendService: Failed to send cross-canister notification:",n),n}}async getUnreadNotificationCount(){try{await this.ensureActor(),console.log("BackendService: Calling actor.getUnreadNotificationCount()");const t=await this.actor.getUnreadNotificationCount();return console.log("BackendService: Actor returned:",t),console.log("BackendService: Result type:",typeof t),console.log("BackendService: Result structure:",JSON.stringify(t,null,2)),t}catch(t){throw console.error("BackendService: Failed to get unread notification count:",t),t}}}const _2=T.createContext();function q8({children:e}){console.log(" AuthProvider: Initializing...");const[t,r]=T.useState(null),[n,s]=T.useState(null),[o,a]=T.useState(!1),[l,c]=T.useState(!0),[d,b]=T.useState([]),[x,m]=T.useState([]),[h,y]=T.useState(null);T.useEffect(()=>{(async()=>{console.log(" AuthContext: Starting Perfect Authentication Flow..."),c(!0);try{console.log(" Step 1: Creating BackendService...");const ee=new qa;y(ee),console.log(" Step 1: BackendService created successfully"),console.log(" Step 2: Initializing BackendService...");const v=await ee.init();console.log(" Step 2: BackendService initialized with result:",v);const u=ee.isInitialized();if(console.log(" Step 3: BackendService initialization check:",u),!u)throw new Error("BackendService failed to initialize properly");const g=ee.isAuthenticated;console.log(" Step 4: Authentication status check:",g),a(g);const I=ee.getCurrentPrincipal();s(I),console.log(" Step 5: Principal set:",I),g?(console.log(" Step 6: Loading authenticated user data..."),await N(ee)):(console.log(" Step 6: No authenticated user, skipping user data load"),r(null),b([]),m([])),console.log(" AuthContext: Perfect Authentication Flow completed successfully!")}catch(ee){console.error(" AuthContext: Authentication flow failed:",ee),console.log(" AuthContext: Creating fallback BackendService...");const v=new qa;y(v),a(!1),r(null),s(null),b([]),m([]),console.log(" AuthContext: Fallback BackendService created - retry available")}finally{c(!1),console.log(" AuthContext: Authentication flow initialization complete")}})()},[]),T.useEffect(()=>{h&&t&&window.notificationContext&&window.notificationContext.initializeRealTimeService(h)},[h,t]);const N=async z=>{try{console.log(" Loading user data...");const ee=await z.getUser();r(ee),console.log(" User profile loaded:",(ee==null?void 0:ee.displayName)||(ee==null?void 0:ee.username)||"No name");const v=await z.getUserRecoveryMethods();b(v||[]),console.log(" Recovery methods loaded:",(v==null?void 0:v.length)||0,"methods");const u=await z.getUserCryptoWallets();m(u||[]),console.log(" Crypto wallets loaded:",(u==null?void 0:u.length)||0,"wallets")}catch(ee){console.error(" Failed to load user data:",ee),r(null),b([]),m([])}},W=T.useCallback(async(z=h)=>{if(z)try{let ee=await z.getUser();r(ee)}catch{r(null)}},[h]),w=T.useCallback(async(z=h)=>{if(z)try{const ee=await z.getUserRecoveryMethods();b(ee||[])}catch{b([])}},[h]),k=T.useCallback(async(z=h)=>{if(z)try{const ee=await z.getUserCryptoWallets();m(ee||[])}catch{m([])}},[h]),j=T.useCallback(async()=>{console.log(" AuthContext: Starting Perfect Retry Initialization Flow..."),c(!0);try{if(!h)throw new Error("BackendService not available for retry");console.log(" Step 1: Validating BackendService for retry..."),console.log(" Step 1: BackendService available for retry"),console.log(" Step 2: Checking DFX connection...");const z=await h.checkDfxConnection();if(console.log(" Step 2: DFX running status:",z),!z)throw new Error("DFX is not running. Please start dfx with: dfx start --clean --background");console.log(" Step 2: DFX connection confirmed"),console.log(" Step 3: Reinitializing actor...");const ee=await h.reinitializeActor();console.log(" Step 3: Actor reinitialized:",ee),console.log(" Step 4: Reinitializing BackendService...");const v=await h.init();console.log(" Step 4: BackendService reinitialized with result:",v),console.log(" Step 5: Updating authentication state...");const u=h.isInitialized();console.log(" Step 5: BackendService initialization check:",u);const g=h.isAuthenticated;a(g),console.log(" Step 5: Authentication status updated:",g);const I=h.getCurrentPrincipal();return s(I),console.log(" Step 5: Principal updated:",I),g?(console.log(" Step 6: Loading user data for authenticated user..."),await N(h)):(console.log(" Step 6: No authenticated user, clearing user data..."),r(null),b([]),m([])),console.log(" AuthContext: Perfect Retry Initialization Flow completed successfully!"),v}catch(z){throw console.error(" AuthContext: Retry initialization flow failed:",z),z}finally{c(!1),console.log(" AuthContext: Retry initialization flow complete")}},[h]),P=T.useCallback(async()=>{if(!h)return null;try{const z=await h.generateUsernameFromPrincipal();return await W(),z}catch(z){return console.error("Failed to generate username:",z),null}},[h,W]),C=T.useCallback(async()=>{if(console.log(" AuthContext: Starting Perfect Login Flow..."),!h)throw new Error("BackendService not initialized");c(!0);try{if(console.log(" Step 1: Validating BackendService..."),!h.isInitialized())throw new Error("BackendService is not properly initialized");console.log(" Step 1: BackendService validated"),console.log(" Step 2: Starting Internet Identity authentication...");const ee=await h.login();console.log(" Step 2: Internet Identity authentication successful"),console.log(" Step 3: Authentication successful, updating state..."),a(!0);const v=h.getCurrentPrincipal();s(v),console.log(" Step 4: Principal set:",v),console.log(" Step 5: Loading user data..."),await N(h),console.log(" Step 6: Checking username generation...");try{const u=await h.getUser();u&&(!u.displayName||!u.username)?(console.log(" Step 6: Auto-generating username for new user..."),await P(),console.log(" Step 6: Username generated successfully")):console.log(" Step 6: User already has username, skipping generation")}catch(u){console.warn(" Step 6: Failed to auto-generate username:",u)}return console.log(" AuthContext: Perfect Login Flow completed successfully!"),ee}catch(z){throw console.error(" AuthContext: Login flow failed:",z),z}finally{c(!1),console.log(" AuthContext: Login flow complete")}},[h,P]),B=T.useCallback(async()=>{if(h){c(!0);try{await h.logout(),a(!1),r(null),s(null),b([]),m([])}finally{c(!1)}}},[h]),R=T.useCallback(async(...z)=>{if(!h)throw new Error("BackendService not initialized");return h.completeRecoverySetup(...z)},[h]),H=T.useCallback(async(...z)=>{if(!h)throw new Error("BackendService not initialized");return h.initiateRecovery(...z)},[h]),X=T.useCallback(async(...z)=>{if(!h)throw new Error("BackendService not initialized");return h.verifyRecovery(...z)},[h]),$=T.useCallback(async(...z)=>{if(!h)throw new Error("BackendService not initialized");return h.completeRecovery(...z)},[h]),Y=T.useCallback(async(...z)=>{if(!h)throw new Error("BackendService not initialized");return h.linkRecoveredAccount(...z)},[h]),J=T.useCallback(async()=>{if(!h)return[];try{return await h.getUserRecoveryMethods()}catch(z){return console.error("Failed to get user recovery methods:",z),[]}},[h]),A=T.useCallback(async(z,ee,v=null)=>{if(!h)throw new Error("BackendService not initialized");try{return await h.addRecoveryMethod(z,ee,v)}catch(u){throw console.error("Failed to add recovery method:",u),u}},[h]),U=T.useCallback(async(z,ee)=>{if(!h)throw new Error("BackendService not initialized");const v=await h.updateUser(z,ee);return await W(),v},[h,W]),V=T.useCallback(async(z,ee)=>{if(!h)throw new Error("BackendService not initialized");return h.updateCryptoWalletBalance(z,ee)},[h]),K=T.useCallback(async()=>{if(!h)return[];try{const z=await h.getUserGroupVaults();return z.ok?z.ok:(console.error("Failed to get user group vaults:",z.err),[])}catch(z){return console.error("Failed to get user group vaults:",z),[]}},[h]),te=T.useCallback(async()=>{if(!h)return[];try{const z=await h.getPublicVaults();return z.ok?z.ok:(console.error("Failed to get public vaults:",z.err),[])}catch(z){return console.error("Failed to get public vaults:",z),[]}},[h]),Q=T.useCallback(async(z,ee,v,u,g,I,se)=>{if(!h)throw new Error("BackendService not initialized");return h.createGroupVault(z,ee,v,u,g,I,se)},[h]),ne=T.useCallback(async z=>{if(!h)throw new Error("BackendService not initialized");return h.joinGroupVault(z)},[h]),ue=T.useCallback(async z=>{if(!h)throw new Error("BackendService not initialized");return h.getVaultDetails(z)},[h]),de=T.useCallback(async(z,ee,v)=>{if(!h)throw new Error("BackendService not initialized");return h.inviteVaultMember(z,ee,v)},[h]),le=T.useCallback(async(z,ee)=>{if(!h)throw new Error("BackendService not initialized");return h.toggleVaultPrivacy(z,ee)},[h]),fe=T.useCallback(async(z,ee)=>{if(!h)throw new Error("BackendService not initialized");return h.removeVaultMember(z,ee)},[h]),F=T.useCallback(async(z,ee,v)=>{if(!h)throw new Error("BackendService not initialized");return h.changeVaultMemberRole(z,ee,v)},[h]),ke=T.useCallback(async(z,ee)=>{if(!h)throw new Error("BackendService not initialized");return h.editGroupVault(z,ee)},[h]),xe=T.useCallback(async(z,ee,v)=>{if(!h)throw new Error("BackendService not initialized");return h.depositToVault(z,ee,v)},[h]),ye=T.useCallback(async(z,ee,v)=>{if(!h)throw new Error("BackendService not initialized");return h.withdrawFromVault(z,ee,v)},[h]),pe=T.useCallback(async z=>{if(!h)throw new Error("BackendService not initialized");return h.deleteGroupVault(z)},[h]),me=T.useCallback(async(z,ee,v=null,u=null)=>{if(!h)throw new Error("BackendService not initialized");return h.proposeVaultAction(z,ee,v,u)},[h]),M=T.useCallback(async(z,ee,v,u,g,I)=>{if(!h)throw new Error("BackendService not initialized");return h.createNotification(z,ee,v,u,g,I)},[h]),q=T.useCallback(async(z=20,ee=0)=>{if(!h)return[];try{console.log("AuthContext: Calling backend.getUserNotifications() with limit:",z,"offset:",ee);const v=await h.getUserNotifications(z,ee);return console.log("AuthContext: Backend returned:",v),v&&v.ok!==void 0?(console.log("AuthContext: Returning result.ok:",v.ok),v.ok):Array.isArray(v)?(console.log("AuthContext: Returning direct array:",v),v):(console.error("AuthContext: Unexpected result format:",v),[])}catch(v){return console.error("AuthContext: Failed to get user notifications:",v),[]}},[h]),L=T.useCallback(async z=>{if(!h)throw new Error("BackendService not initialized");return h.markNotificationAsRead(z)},[h]),re=T.useCallback(async()=>{if(!h)throw new Error("BackendService not initialized");return h.markAllNotificationsAsRead()},[h]),Z=T.useCallback(async z=>{if(!h)throw new Error("BackendService not initialized");return h.deleteNotification(z)},[h]),D=T.useCallback(async z=>{if(!h)throw new Error("BackendService not initialized");return h.addPushSubscription(z)},[h]),S=T.useCallback(async z=>{if(!h)throw new Error("BackendService not initialized");return h.removePushSubscription(z)},[h]),f=T.useCallback(async(z,ee,v,u,g,I,se,ce,ae,Te,Re,Be)=>{if(!h)throw new Error("BackendService not initialized");return h.updateNotificationPreferences(z,ee,v,u,g,I,se,ce,ae,Te,Re,Be)},[h]),p=T.useCallback(async()=>{if(!h)return null;try{const z=await h.getNotificationPreferences();return z.ok?z.ok:(console.error("Failed to get notification preferences:",z.err),null)}catch(z){return console.error("Failed to get notification preferences:",z),null}},[h]),E=T.useCallback(async(z,ee)=>{if(!h)throw new Error("BackendService not initialized");return h.sendCrossCanisterNotification(z,ee)},[h]),O=T.useCallback(async()=>{if(!h)return 0;try{console.log("AuthContext: Calling backend.getUnreadNotificationCount()");const z=await h.getUnreadNotificationCount();return console.log("AuthContext: Backend returned:",z),z&&z.ok!==void 0?(console.log("AuthContext: Returning result.ok:",z.ok),z.ok):typeof z=="number"?(console.log("AuthContext: Returning direct number:",z),z):(console.error("AuthContext: Unexpected result format:",z),0)}catch(z){return console.error("AuthContext: Failed to get unread notification count:",z),0}},[h]),_=T.useCallback(async(z,ee)=>{if(!h)throw new Error("BackendService not initialized");return h.voteVaultAction(z,ee)},[h]),ie=T.useCallback(async(z,ee)=>{if(!h)throw new Error("BackendService not initialized");return h.appealVaultAction(z,ee)},[h]),he=T.useCallback(async z=>{if(!h)throw new Error("BackendService not initialized");return h.getVaultProposals(z)},[h]),we={user:t,principal:n,isAuthenticated:o,isLoading:l,login:C,logout:B,retryInitialization:j,completeRecoverySetup:R,recoveryMethods:d,cryptoWallets:x,refreshRecoveryMethods:w,refreshCryptoWallets:k,initiateRecovery:H,verifyRecovery:X,completeRecovery:$,linkRecoveredAccount:Y,getUserRecoveryMethods:J,addRecoveryMethod:A,updateCryptoWalletBalance:V,getUserGroupVaults:K,getPublicVaults:te,createGroupVault:Q,joinGroupVault:ne,getVaultDetails:ue,inviteVaultMember:de,toggleVaultPrivacy:le,removeVaultMember:fe,changeVaultMemberRole:F,editGroupVault:ke,depositToVault:xe,withdrawFromVault:ye,deleteGroupVault:pe,proposeVaultAction:me,voteVaultAction:_,appealVaultAction:ie,getVaultProposals:he,createNotification:M,getUserNotifications:q,markNotificationAsRead:L,markAllNotificationsAsRead:re,deleteNotification:Z,addPushSubscription:D,removePushSubscription:S,updateNotificationPreferences:f,getNotificationPreferences:p,sendCrossCanisterNotification:E,getUnreadNotificationCount:O,backendService:h,backend:h,actor:(h==null?void 0:h.actor)||null,updateProfile:U,generateUsername:P};return console.log(" AuthProvider: Context value created:",{isAuthenticated:o,isLoading:l,hasBackend:!!h,hasUser:!!t}),i.jsx(_2.Provider,{value:we,children:e})}function Yt(){const e=T.useContext(_2);return e===void 0?(console.error("useAuth must be used within an AuthProvider"),{user:null,principal:null,isAuthenticated:!1,isLoading:!0,login:()=>Promise.reject(new Error("Auth not initialized")),logout:()=>Promise.reject(new Error("Auth not initialized")),retryInitialization:()=>Promise.reject(new Error("Auth not initialized")),recoveryMethods:[],cryptoWallets:[],refreshRecoveryMethods:()=>Promise.reject(new Error("Auth not initialized")),refreshCryptoWallets:()=>Promise.reject(new Error("Auth not initialized")),updateProfile:()=>Promise.reject(new Error("Auth not initialized")),generateUsername:()=>Promise.reject(new Error("Auth not initialized")),backend:null,backendService:null,actor:null}):e}const Ee={colors:{primary:"#113F67",white:"#fff",black:"#000000",background:{primary:"#fff",secondary:"#f8f9fa",tertiary:"#e9ecef"},surface:"#fff",text:{primary:"#113F67",secondary:"#666666",muted:"#999999",inverse:"#fff"},success:"#28a745",warning:"#ffc107",error:"#dc3545",info:"#17a2b8",interactive:{primary:"#113F67",secondary:"#f8f9fa",hover:"#0d2f4f",active:"#0a253f",disabled:"#e9ecef"},border:{primary:"#dee2e6",secondary:"#e9ecef",accent:"#113F67"},shadow:{light:"rgba(17, 63, 103, 0.1)",medium:"rgba(17, 63, 103, 0.2)",dark:"rgba(17, 63, 103, 0.3)"}},typography:{fontFamily:{primary:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',mono:'SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace'},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem"},fontWeight:{normal:400,medium:500,semibold:600,bold:700},lineHeight:{tight:1.25,normal:1.5,relaxed:1.75}},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem","3xl":"4rem"},borderRadius:{none:"0",sm:"0.25rem",md:"0.5rem",lg:"0.75rem",xl:"1rem",full:"9999px"},shadows:{sm:"0 1px 2px 0 rgba(17, 63, 103, 0.05)",md:"0 4px 6px -1px rgba(17, 63, 103, 0.1)",lg:"0 10px 15px -3px rgba(17, 63, 103, 0.1)",xl:"0 20px 25px -5px rgba(17, 63, 103, 0.1)"},transitions:{fast:"0.15s ease-in-out",normal:"0.2s ease-in-out",slow:"0.3s ease-in-out"}};Ee.colors.primary,Ee.colors.white,`${Ee.colors.primary}`,Ee.colors.interactive.hover,`${Ee.colors.interactive.hover}`,Ee.colors.white,Ee.colors.primary,`${Ee.colors.border.primary}`,Ee.colors.interactive.secondary,`${Ee.colors.border.accent}`,Ee.colors.primary,`${Ee.colors.primary}`,Ee.colors.primary,Ee.colors.white,Ee.colors.white,`${Ee.colors.border.primary}`,Ee.shadows.md,Ee.colors.white,`${Ee.colors.border.primary}`,Ee.colors.text.primary,Ee.colors.white,`${Ee.colors.border.primary}`,Ee.colors.text.primary,Ee.colors.text.muted,`${Ee.colors.primary}`,`${Ee.colors.shadow.light}`,Ee.colors.white,`${Ee.colors.border.primary}`,Ee.colors.text.secondary,Ee.colors.primary,Ee.colors.interactive.secondary,Ee.colors.primary,Ee.colors.interactive.secondary;const I8={"--nisto-primary":Ee.colors.primary,"--nisto-white":Ee.colors.white,"--nisto-black":Ee.colors.black,"--nisto-background-primary":Ee.colors.background.primary,"--nisto-background-secondary":Ee.colors.background.secondary,"--nisto-background-tertiary":Ee.colors.background.tertiary,"--nisto-surface":Ee.colors.surface,"--nisto-text-primary":Ee.colors.text.primary,"--nisto-text-secondary":Ee.colors.text.secondary,"--nisto-text-muted":Ee.colors.text.muted,"--nisto-text-inverse":Ee.colors.text.inverse,"--nisto-border-primary":Ee.colors.border.primary,"--nisto-border-secondary":Ee.colors.border.secondary,"--nisto-border-accent":Ee.colors.border.accent,"--nisto-shadow-light":Ee.colors.shadow.light,"--nisto-shadow-medium":Ee.colors.shadow.medium,"--nisto-shadow-dark":Ee.colors.shadow.dark,"--nisto-success":Ee.colors.success,"--nisto-warning":Ee.colors.warning,"--nisto-error":Ee.colors.error,"--nisto-info":Ee.colors.info},Ph=()=>{const e=document.documentElement;Object.entries(I8).forEach(([t,r])=>{e.style.setProperty(t,r)})},C2=T.createContext();function G8({children:e}){T.useEffect(()=>{Ph(),console.log(" Nisto theme applied globally")},[]);const t={theme:Ee,applyTheme:Ph};return i.jsx(C2.Provider,{value:t,children:e})}function bi(){const e=T.useContext(C2);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}var N2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cg=po.createContext&&po.createContext(N2),Y8=["attr","size","title"];function K8(e,t){if(e==null)return{};var r=Z8(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Z8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}function Ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ng(Object(r),!0).forEach(function(n){X8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ng(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X8(e,t,r){return t=Q8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q8(e){var t=J8(e,"string");return typeof t=="symbol"?t:t+""}function J8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B2(e){return e&&e.map((t,r)=>po.createElement(t.tag,hd({key:r},t.attr),B2(t.child)))}function ve(e){return t=>po.createElement(L8,fd({attr:hd({},e.attr)},t),B2(e.child))}function L8(e){var t=r=>{var{attr:n,size:s,title:o}=e,a=K8(e,Y8),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),po.createElement("svg",fd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:c,style:hd(hd({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&po.createElement("title",null,o),e.children)};return Cg!==void 0?po.createElement(Cg.Consumer,null,r=>t(r)):t(N2)}function fs(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function ll(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function D8(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function pd(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"8 12 12 16 16 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]}]})(e)}function e3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function cl(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function md(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"16 12 12 8 8 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"8"},child:[]}]})(e)}function Bg(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function A2(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function uf(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function R2(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(e)}function t3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(e)}function r3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function n3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function o3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function Es(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function Nt(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function gd(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function i3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function s3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Ia(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function mi(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function ff(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(e)}function z2(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function De(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function Bn(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function a3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"},child:[]}]})(e)}function gi(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function F2(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Ga(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Ag(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function l3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(e)}function yd(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function Rg(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function c3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(e)}function d3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function P2(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function eu(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function M2(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function zg(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function tu(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function u3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function xd(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Mh(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function hf(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(e)}function f3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function h3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(e)}function p3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function O2(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(e)}function yr(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function $2(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function _o(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function _r(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Fg(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function kr(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function ip(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function ht(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function pf(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function Ps(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function U2(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(e)}function m3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function Hl(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function ru(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function W2(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function fr(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function mf(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(e)}function g3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(e)}function gf(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function Qo(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function co(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function Fi(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"},child:[]},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function y3(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function ot(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function hs(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const x3=({isOpen:e,onClose:t})=>{const{login:r,isLoading:n}=Yt(),{showToast:s}=Yr(),[o,a]=T.useState(!1);if(!e)return null;const l=async()=>{a(!0);try{await r(),s({message:"Successfully authenticated!",type:"success"}),t()}catch(d){console.error("Login error:",d),s({message:d.message||"Authentication failed. Please try again.",type:"error"})}finally{a(!1)}},c=()=>{o||t()};return i.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.2s ease-out"},children:[i.jsxs("div",{style:{background:"white",borderRadius:"1rem",maxWidth:"450px",width:"90%",position:"relative",animation:"slideUp 0.3s ease-out"},children:[i.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600",color:"#1e293b"},children:"Welcome to Nisto"}),i.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"#64748b",fontSize:"0.875rem"},children:"Your secure Internet Computer wallet"})]}),i.jsx("button",{onClick:c,disabled:o,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:o?"not-allowed":"pointer",color:"#64748b",padding:"0.5rem",opacity:o?.5:1},children:i.jsx(ot,{})})]}),i.jsxs("div",{style:{padding:"1.5rem"},children:[i.jsxs("div",{style:{marginBottom:"2rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[i.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #3b82f6, #1d4ed8)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:i.jsx(ht,{size:24})}),i.jsxs("div",{children:[i.jsx("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:"600",color:"#1e293b"},children:"Internet Identity"}),i.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"#64748b",fontSize:"0.875rem"},children:"Secure, passwordless authentication"})]})]}),i.jsxs("div",{style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[i.jsx(Nt,{style:{color:"#10b981",fontSize:"0.875rem"}}),i.jsx("span",{style:{fontSize:"0.875rem",color:"#374151"},children:"No passwords required"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[i.jsx(Nt,{style:{color:"#10b981",fontSize:"0.875rem"}}),i.jsx("span",{style:{fontSize:"0.875rem",color:"#374151"},children:"Biometric authentication"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Nt,{style:{color:"#10b981",fontSize:"0.875rem"}}),i.jsx("span",{style:{fontSize:"0.875rem",color:"#374151"},children:"Cross-device sync"})]})]}),i.jsx("button",{onClick:l,disabled:o||n,style:{width:"100%",padding:"0.875rem",background:o||n?"#9ca3af":"linear-gradient(135deg, #3b82f6, #1d4ed8)",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:o||n?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"all 0.2s"},children:o||n?i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid transparent",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Authenticating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(yd,{size:18}),"Continue with Internet Identity",i.jsx(cl,{size:18})]})})]}),i.jsxs("div",{style:{marginBottom:"1.5rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[i.jsx("div",{style:{flex:1,height:"1px",background:"#e5e7eb"}}),i.jsx("span",{style:{fontSize:"0.875rem",color:"#64748b",padding:"0 1rem"},children:"Or continue with"}),i.jsx("div",{style:{flex:1,height:"1px",background:"#e5e7eb"}})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[i.jsxs("button",{style:{padding:"0.75rem",background:"white",border:"1px solid #d1d5db",borderRadius:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",transition:"all 0.2s"},children:[i.jsx(Ps,{size:16}),"Mobile App"]}),i.jsxs("button",{style:{padding:"0.75rem",background:"white",border:"1px solid #d1d5db",borderRadius:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",transition:"all 0.2s"},children:[i.jsx(yd,{size:16}),"Browser Extension"]})]})]}),i.jsx("div",{style:{background:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"0.5rem",padding:"1rem"},children:i.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[i.jsx(ll,{style:{color:"#059669",marginTop:"0.125rem"}}),i.jsxs("div",{children:[i.jsx("h4",{style:{margin:"0 0 0.25rem 0",fontSize:"0.875rem",fontWeight:"600",color:"#059669"},children:"New to Internet Identity?"}),i.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#047857",lineHeight:"1.4"},children:"Internet Identity is DFINITY's secure authentication system. You can create an account using your phone number or email address."})]})]})})]}),i.jsx("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb",background:"#f8fafc"},children:i.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"#64748b",textAlign:"center"},children:["By continuing, you agree to our"," ",i.jsx("a",{href:"#",style:{color:"#3b82f6",textDecoration:"none"},children:"Terms of Service"})," ","and"," ",i.jsx("a",{href:"#",style:{color:"#3b82f6",textDecoration:"none"},children:"Privacy Policy"})]})})]}),i.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(30px) scale(0.95);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})},b3=()=>{const[e,t]=T.useState(!1);T.useEffect(()=>{Ph();const n=localStorage.getItem("nisto-theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches;n==="dark"||!n&&s?(t(!0),document.documentElement.classList.add("dark")):(t(!1),document.documentElement.classList.remove("dark"))},[]);const r=()=>{const n=!e;t(n),n?(document.documentElement.classList.add("dark"),localStorage.setItem("nisto-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("nisto-theme","light"))};return i.jsx("button",{onClick:r,style:{position:"fixed",top:"1rem",right:"1rem",zIndex:1e3,width:"48px",height:"48px",borderRadius:"50%",background:Ee.colors.white,border:`1px solid ${Ee.colors.border.primary}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:Ee.colors.primary,fontSize:"1.25rem",transition:Ee.transitions.normal,boxShadow:Ee.shadows.md,":hover":{transform:"scale(1.05)",boxShadow:Ee.shadows.lg}},title:e?"Switch to light mode":"Switch to dark mode",children:e?i.jsx(U2,{size:20}):i.jsx(p3,{size:20})})};function w3(){var N,W,w,k,j,P,C,B,R,H,X,$,Y,J,A,U,V,K,te,Q,ne,ue,de,le,fe,F,ke,xe,ye,pe,me,M,q,L,re,Z;const{isAuthenticated:e,user:t,login:r,logout:n,isLoading:s}=Yt(),{theme:o}=bi(),[a,l]=T.useState(!1),[c,d]=T.useState(0),[b,x]=T.useState(!1),m=Md();T.useEffect(()=>{const D=()=>d(window.scrollY);return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[]),T.useEffect(()=>{e&&!s&&m("/dashboard")},[e,s,m]);const h=()=>{e?m("/dashboard"):x(!0)},y=()=>{if(window.nesto&&window.nesto.isNesto){alert("Nesto Extension is already installed! ");return}if(!(/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))){alert("Please install Chrome to use the Nisto Extension. We'll support other browsers soon!");return}try{const S="https://chrome.google.com/webstore/detail/nesto-ic-wallet/...";window.open(S,"_blank")}catch(S){console.error("Extension installation error:",S),alert("Please install the Nisto extension from the Chrome Web Store to continue.")}};return i.jsxs("div",{className:"landing-page",style:{backgroundColor:((N=o.colors.background)==null?void 0:N.primary)||o.colors.background},children:[i.jsx(b3,{}),i.jsx("nav",{className:"main-nav",style:{backgroundColor:((W=o.colors.background)==null?void 0:W.primary)||o.colors.background,borderBottom:`1px solid ${o.colors.border.primary}`},children:i.jsxs("div",{className:"nav-container",children:[i.jsxs("div",{className:"nav-content",children:[i.jsxs("div",{className:"nav-brand",children:[i.jsx("div",{className:"brand-logo",style:{backgroundColor:o.colors.primary,width:"32px",height:"32px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("span",{className:"logo-text",style:{color:o.colors.white,fontSize:"16px",fontWeight:"600"},children:"N"})}),i.jsx("span",{className:"brand-name",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginLeft:"12px"},children:"Nisto"})]}),i.jsxs("div",{className:"nav-links-desktop",children:[i.jsx("a",{href:"/#home",className:"nav-link",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"500",textDecoration:"none",marginRight:"24px"},children:"Home"}),i.jsx("a",{href:"/#features",className:"nav-link",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"500",textDecoration:"none",marginRight:"24px"},children:"Features"}),i.jsx("a",{href:"/#extension",className:"nav-link",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"500",textDecoration:"none",marginRight:"24px"},children:"Extension"}),i.jsx("a",{href:"/#tokenomics",className:"nav-link",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"500",textDecoration:"none",marginRight:"24px"},children:"Tokenomics"}),!e&&i.jsx("div",{className:"nav-auth-buttons",children:i.jsx("button",{onClick:h,className:"btn btn-primary nav-cta",disabled:s,style:{backgroundColor:o.colors.primary,color:o.colors.white,fontSize:"14px",fontWeight:"500",padding:"10px 20px",borderRadius:"8px",border:"none",cursor:"pointer"},children:s?"Loading...":"Launch App"})})]}),i.jsxs("button",{className:`mobile-menu-toggle ${a?"active":""}`,onClick:()=>l(!a),children:[i.jsx("span",{}),i.jsx("span",{}),i.jsx("span",{})]})]}),i.jsxs("div",{className:`mobile-menu ${a?"active":""}`,children:[i.jsxs("a",{href:"/#home",className:"mobile-nav-link",onClick:()=>l(!1),children:[i.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px"},children:i.jsx("path",{d:"M10 20V14H14V20H19V12H22L12 3L2 12H5V20H10Z",fill:"currentColor"})}),"Home"]}),i.jsxs("a",{href:"/#features",className:"mobile-nav-link",onClick:()=>l(!1),children:[i.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px"},children:i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:"currentColor"})}),"Features"]}),i.jsxs("a",{href:"/#extension",className:"mobile-nav-link",onClick:()=>l(!1),children:[i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px"},children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:"currentColor"}),i.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:"currentColor"})]}),"Extension"]}),i.jsxs("a",{href:"/#tokenomics",className:"mobile-nav-link",onClick:()=>l(!1),children:[i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px"},children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:"currentColor"}),i.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:"currentColor"})]}),"Tokenomics"]}),!e&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>{l(!1),h()},className:"btn btn-primary",disabled:s,children:[i.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px"},children:i.jsx("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",fill:"currentColor"})}),s?"Loading...":"Launch App"]}),i.jsxs("button",{onClick:()=>{l(!1),y()},className:"btn btn-secondary",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px"},children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:"currentColor"}),i.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:"currentColor"})]}),"Get Extension"]})]})]})]})}),i.jsx("section",{id:"home",className:"hero-section",style:{backgroundColor:o.colors.background.secondary,padding:"120px 0 80px 0",minHeight:"100vh",display:"flex",alignItems:"center"},children:i.jsxs("div",{className:"hero-container",style:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"64px",alignItems:"center"},children:[i.jsxs("div",{className:"hero-content",style:{display:"flex",flexDirection:"column",gap:"32px"},children:[i.jsxs("div",{className:"hero-badge",style:{backgroundColor:((w=o.colors.background)==null?void 0:w.primary)||o.colors.background,padding:"12px 20px",borderRadius:"24px",display:"inline-flex",alignItems:"center",gap:"10px",width:"fit-content",border:`1px solid ${o.colors.border.primary}`},children:[i.jsx("svg",{className:"badge-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.primary})}),i.jsx("span",{style:{color:o.colors.text.secondary,fontSize:"13px",fontWeight:"500"},children:"Live on Internet Computer"})]}),i.jsx("div",{className:"hero-title-section",children:i.jsxs("h1",{className:"hero-title",style:{margin:0,lineHeight:"1.2"},children:[i.jsx("span",{className:"title-line",style:{color:o.colors.text.primary,fontSize:"48px",fontWeight:"700",display:"block",marginBottom:"12px"},children:"The Future of"}),i.jsx("span",{className:"title-line",style:{color:o.colors.primary,fontSize:"48px",fontWeight:"700",display:"block",marginBottom:"24px"},children:"Social Finance"})]})}),i.jsx("div",{className:"hero-subtitle-section",children:i.jsx("p",{className:"hero-subtitle",style:{color:o.colors.text.secondary,fontSize:"18px",fontWeight:"400",lineHeight:"1.6",margin:0,maxWidth:"500px"},children:"DeFi, social trading, and AI-powered insights on the Internet Computer. Kenya's first decentralized finance ecosystem with lightning-fast transactions."})}),i.jsxs("div",{className:"hero-stats",style:{display:"flex",gap:"32px",marginTop:"16px"},children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("div",{style:{color:o.colors.primary,fontSize:"24px",fontWeight:"700",marginBottom:"4px"},children:"10K+"}),i.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Active Users"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("div",{style:{color:o.colors.primary,fontSize:"24px",fontWeight:"700",marginBottom:"4px"},children:"$2.5M"}),i.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Trading Volume"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("div",{style:{color:o.colors.primary,fontSize:"24px",fontWeight:"700",marginBottom:"4px"},children:"99.9%"}),i.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Uptime"})]})]}),i.jsxs("div",{className:"hero-actions",style:{display:"flex",gap:"16px",marginTop:"16px"},children:[i.jsxs("button",{onClick:h,className:"btn btn-primary btn-lg hero-cta",style:{backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"12px",padding:"16px 32px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.2s ease"},children:[i.jsx("svg",{className:"btn-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",fill:"currentColor"})}),"Launch App"]}),i.jsxs("button",{onClick:y,className:"btn btn-secondary btn-lg hero-cta",style:{backgroundColor:"transparent",color:o.colors.text.primary,border:`2px solid ${o.colors.border.primary}`,borderRadius:"12px",padding:"16px 32px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.2s ease"},children:[i.jsxs("svg",{className:"btn-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:"currentColor"}),i.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:"currentColor"})]}),"Get Extension"]})]})]}),i.jsxs("div",{className:"hero-visual",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"32px"},children:[i.jsx("div",{className:"desktop-mockup",style:{width:"100%",maxWidth:"400px"},children:i.jsxs("div",{className:"demo-card",style:{backgroundColor:((k=o.colors.background)==null?void 0:k.primary)||o.colors.background,borderRadius:"16px",border:`1px solid ${o.colors.border.primary}`,padding:"32px",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",position:"relative"},children:[i.jsxs("div",{className:"demo-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${o.colors.border.primary}`},children:[i.jsxs("div",{className:"demo-dots",style:{display:"flex",gap:"8px"},children:[i.jsx("span",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.error}}),i.jsx("span",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.warning}}),i.jsx("span",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.success}})]}),i.jsx("div",{style:{fontSize:"14px",color:o.colors.text.secondary,fontWeight:"500",backgroundColor:((j=o.colors.background)==null?void 0:j.secondary)||o.colors.background,padding:"6px 12px",borderRadius:"6px",border:`1px solid ${o.colors.border.primary}`},children:"nisto.finance"})]}),i.jsxs("div",{className:"demo-content",children:[i.jsxs("div",{className:"demo-balance",style:{marginBottom:"24px"},children:[i.jsx("span",{className:"balance-label",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"500",display:"block",marginBottom:"8px"},children:"Total Portfolio Value"}),i.jsx("span",{className:"balance-amount",style:{color:o.colors.text.primary,fontSize:"32px",fontWeight:"700",display:"block",marginBottom:"8px"},children:"KES 125,890"}),i.jsx("span",{style:{color:o.colors.success,fontSize:"16px",fontWeight:"600"},children:"+12.5% today"})]}),i.jsxs("div",{className:"demo-stats",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[i.jsxs("div",{className:"stat",style:{backgroundColor:((P=o.colors.background)==null?void 0:P.secondary)||o.colors.background,padding:"16px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsx("span",{className:"stat-value",style:{color:o.colors.success,fontSize:"20px",fontWeight:"700",display:"block",marginBottom:"4px"},children:"0.024"}),i.jsx("span",{className:"stat-label",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"500"},children:"Bitcoin"})]}),i.jsxs("div",{className:"stat",style:{backgroundColor:((C=o.colors.background)==null?void 0:C.secondary)||o.colors.background,padding:"16px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsx("span",{className:"stat-value",style:{color:o.colors.primary,fontSize:"20px",fontWeight:"700",display:"block",marginBottom:"4px"},children:"0.85"}),i.jsx("span",{className:"stat-label",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"500"},children:"Ethereum"})]})]})]})]})}),i.jsx("div",{className:"mobile-mockup",style:{display:"flex",justifyContent:"center",transform:"translateY(-20px)"},children:i.jsxs("div",{className:"phone-frame",style:{width:"240px",height:"480px",backgroundColor:((B=o.colors.background)==null?void 0:B.primary)||o.colors.background,borderRadius:"24px",border:`3px solid ${o.colors.border.primary}`,padding:"6px",boxShadow:"0 12px 40px rgba(0,0,0,0.2)",position:"relative"},children:[i.jsx("div",{style:{position:"absolute",top:"6px",left:"50%",transform:"translateX(-50%)",width:"100px",height:"4px",backgroundColor:o.colors.border.primary,borderRadius:"2px",zIndex:2}}),i.jsxs("div",{className:"phone-screen",style:{width:"100%",height:"100%",backgroundColor:((R=o.colors.background)==null?void 0:R.primary)||o.colors.background,borderRadius:"18px",overflow:"hidden",position:"relative"},children:[i.jsxs("div",{className:"app-header",style:{backgroundColor:o.colors.primary,padding:"20px 16px 16px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("div",{style:{width:"28px",height:"28px",backgroundColor:o.colors.white,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("span",{style:{color:o.colors.primary,fontSize:"14px",fontWeight:"700"},children:"N"})}),i.jsx("span",{style:{color:o.colors.white,fontSize:"18px",fontWeight:"700"},children:"Nisto"})]}),i.jsxs("div",{style:{display:"flex",gap:"12px"},children:[i.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:o.colors.white})}),i.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.white})})]})]}),i.jsxs("div",{className:"app-content",style:{padding:"20px"},children:[i.jsxs("div",{style:{backgroundColor:((H=o.colors.background)==null?void 0:H.secondary)||o.colors.background,borderRadius:"16px",padding:"24px",marginBottom:"20px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"13px",marginBottom:"6px",fontWeight:"500"},children:"Total Balance"}),i.jsx("div",{style:{color:o.colors.text.primary,fontSize:"28px",fontWeight:"700",marginBottom:"10px"},children:"KES 125,890"}),i.jsx("div",{style:{color:o.colors.success,fontSize:"16px",fontWeight:"600"},children:"+12.5% today"})]}),i.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"24px"},children:[i.jsx("button",{style:{flex:1,backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"10px",padding:"14px",fontSize:"13px",fontWeight:"600"},children:"Send"}),i.jsx("button",{style:{flex:1,backgroundColor:((X=o.colors.background)==null?void 0:X.secondary)||o.colors.background,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"10px",padding:"14px",fontSize:"13px",fontWeight:"600"},children:"Receive"}),i.jsx("button",{style:{flex:1,backgroundColor:(($=o.colors.background)==null?void 0:$.secondary)||o.colors.background,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"10px",padding:"14px",fontSize:"13px",fontWeight:"600"},children:"Swap"})]}),i.jsxs("div",{children:[i.jsx("div",{style:{color:o.colors.text.primary,fontSize:"15px",fontWeight:"600",marginBottom:"16px"},children:"Recent Activity"}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:((Y=o.colors.background)==null?void 0:Y.secondary)||o.colors.background,borderRadius:"10px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsx("div",{style:{width:"36px",height:"36px",backgroundColor:o.colors.success,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.white})})}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{color:o.colors.text.primary,fontSize:"13px",fontWeight:"600",marginBottom:"2px"},children:"Received BTC"}),i.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"11px"},children:"2 minutes ago"})]}),i.jsx("div",{style:{color:o.colors.success,fontSize:"13px",fontWeight:"700"},children:"+0.001"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:((J=o.colors.background)==null?void 0:J.secondary)||o.colors.background,borderRadius:"10px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsx("div",{style:{width:"36px",height:"36px",backgroundColor:o.colors.primary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.white})})}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{color:o.colors.text.primary,fontSize:"13px",fontWeight:"600",marginBottom:"2px"},children:"Sent ETH"}),i.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"11px"},children:"1 hour ago"})]}),i.jsx("div",{style:{color:o.colors.error,fontSize:"13px",fontWeight:"700"},children:"-0.05"})]})]})]})]})]})]})})]})]})}),i.jsx("section",{id:"features",className:"features-section",style:{backgroundColor:o.colors.background.secondary},children:i.jsxs("div",{className:"features-container",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:"Key Features"}),i.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Everything you need for modern crypto finance"})]}),i.jsxs("div",{className:"features-grid",children:[i.jsxs("div",{className:"feature-card",style:{backgroundColor:((A=o.colors.background)==null?void 0:A.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsxs("svg",{className:"feature-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:o.colors.primary}),i.jsx("path",{d:"M2 17L12 22L22 17",fill:o.colors.primary}),i.jsx("path",{d:"M2 12L12 17L22 12",fill:o.colors.primary})]}),i.jsx("h3",{className:"feature-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginTop:"16px"},children:"DeFi Integration"}),i.jsx("p",{className:"feature-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",lineHeight:"1.5",marginTop:"8px"},children:"Access lending, borrowing, and yield farming protocols seamlessly."})]}),i.jsxs("div",{className:"feature-card",style:{backgroundColor:((U=o.colors.background)==null?void 0:U.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsxs("svg",{className:"feature-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M16 4C16 5.1 15.1 6 14 6C12.9 6 12 5.1 12 4C12 2.9 12.9 2 14 2C15.1 2 16 2.9 16 4Z",fill:o.colors.primary}),i.jsx("path",{d:"M8 4C8 5.1 7.1 6 6 6C4.9 6 4 5.1 4 4C4 2.9 4.9 2 6 2C7.1 2 8 2.9 8 4Z",fill:o.colors.primary}),i.jsx("path",{d:"M16 20C16 21.1 15.1 22 14 22C12.9 22 12 21.1 12 20C12 18.9 12.9 18 14 18C15.1 18 16 18.9 16 20Z",fill:o.colors.primary}),i.jsx("path",{d:"M8 20C8 21.1 7.1 22 6 22C4.9 22 4 21.1 4 20C4 18.9 4.9 18 6 18C7.1 18 8 18.9 8 20Z",fill:o.colors.primary}),i.jsx("path",{d:"M12 12C12 13.1 11.1 14 10 14C8.9 14 8 13.1 8 12C8 10.9 8.9 10 10 10C11.1 10 12 10.9 12 12Z",fill:o.colors.primary}),i.jsx("path",{d:"M16 12C16 13.1 15.1 14 14 14C12.9 14 12 13.1 12 12C12 10.9 12.9 10 14 10C15.1 10 16 10.9 16 12Z",fill:o.colors.primary})]}),i.jsx("h3",{className:"feature-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginTop:"16px"},children:"Social Trading"}),i.jsx("p",{className:"feature-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",lineHeight:"1.5",marginTop:"8px"},children:"Follow top traders and share strategies with the community."})]}),i.jsxs("div",{className:"feature-card",style:{backgroundColor:((V=o.colors.background)==null?void 0:V.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsxs("svg",{className:"feature-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:o.colors.primary}),i.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:o.colors.primary})]}),i.jsx("h3",{className:"feature-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginTop:"16px"},children:"AI Insights"}),i.jsx("p",{className:"feature-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",lineHeight:"1.5",marginTop:"8px"},children:"Get personalized investment recommendations and market analysis."})]}),i.jsxs("div",{className:"feature-card",style:{backgroundColor:((K=o.colors.background)==null?void 0:K.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsxs("svg",{className:"feature-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M17 2H7C5.9 2 5 2.9 5 4V20C5 21.1 5.9 22 7 22H17C18.1 22 19 21.1 19 20V4C19 2.9 18.1 2 17 2ZM17 20H7V4H17V20Z",fill:o.colors.primary}),i.jsx("path",{d:"M12 18C13.1 18 14 17.1 14 16C14 14.9 13.1 14 12 14C10.9 14 10 14.9 10 16C10 17.1 10.9 18 12 18Z",fill:o.colors.primary})]}),i.jsx("h3",{className:"feature-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginTop:"16px"},children:"Mobile Money"}),i.jsx("p",{className:"feature-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",lineHeight:"1.5",marginTop:"8px"},children:"Seamlessly connect M-Pesa and Airtel Money for easy crypto on-ramps and off-ramps."})]})]})]})}),i.jsx("section",{id:"extension",className:"extension-section",style:{backgroundColor:((te=o.colors.background)==null?void 0:te.primary)||o.colors.background},children:i.jsxs("div",{className:"extension-container",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:"Browser Extension"}),i.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Access Nisto directly from your browser for seamless DeFi interactions"})]}),i.jsxs("div",{className:"extension-content",children:[i.jsx("div",{className:"extension-preview",children:i.jsxs("div",{className:"browser-mockup",style:{backgroundColor:o.colors.background.secondary,borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsxs("div",{className:"browser-header",style:{backgroundColor:o.colors.background.tertiary,padding:"12px",borderBottom:`1px solid ${o.colors.border.primary}`,borderRadius:"12px 12px 0 0"},children:[i.jsxs("div",{className:"browser-controls",style:{display:"flex",gap:"8px"},children:[i.jsx("span",{className:"control",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.error}}),i.jsx("span",{className:"control",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.warning}}),i.jsx("span",{className:"control",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.success}})]}),i.jsx("div",{className:"browser-url",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"500",textAlign:"center",marginTop:"8px"},children:"nisto.finance"})]}),i.jsx("div",{className:"browser-content",style:{padding:"24px"},children:i.jsxs("div",{className:"extension-popup",style:{backgroundColor:((Q=o.colors.background)==null?void 0:Q.primary)||o.colors.background,borderRadius:"8px",padding:"16px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsxs("div",{className:"popup-header",style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[i.jsx("div",{className:"popup-logo",style:{backgroundColor:o.colors.primary,width:"24px",height:"24px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("span",{style:{color:o.colors.white,fontSize:"12px",fontWeight:"600"},children:"N"})}),i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"14px",fontWeight:"600",margin:0},children:"Nisto Wallet"})]}),i.jsxs("div",{className:"popup-balance",style:{marginBottom:"16px"},children:[i.jsx("div",{className:"balance-label",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400"},children:"Total Balance"}),i.jsx("div",{className:"balance-amount",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"700"},children:"KES 125,890"})]}),i.jsxs("div",{className:"popup-actions",style:{display:"flex",gap:"8px"},children:[i.jsx("button",{className:"popup-btn",style:{backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"12px",fontWeight:"500",flex:1},children:"Send"}),i.jsx("button",{className:"popup-btn",style:{backgroundColor:o.colors.background.tertiary,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"6px",padding:"8px 12px",fontSize:"12px",fontWeight:"500",flex:1},children:"Receive"}),i.jsx("button",{className:"popup-btn",style:{backgroundColor:o.colors.background.tertiary,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"6px",padding:"8px 12px",fontSize:"12px",fontWeight:"500",flex:1},children:"Swap"})]})]})})]})}),i.jsxs("div",{className:"extension-info",children:[i.jsxs("div",{className:"extension-features",children:[i.jsxs("div",{className:"feature-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"20px"},children:[i.jsx("svg",{className:"feature-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1Z",fill:o.colors.primary})}),i.jsxs("div",{className:"feature-content",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Secure Wallet"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Your keys, your crypto. Non-custodial wallet with hardware wallet support."})]})]}),i.jsxs("div",{className:"feature-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"20px"},children:[i.jsx("svg",{className:"feature-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",fill:o.colors.primary})}),i.jsxs("div",{className:"feature-content",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Instant Transactions"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Lightning-fast transactions on ICP with minimal fees."})]})]}),i.jsxs("div",{className:"feature-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"20px"},children:[i.jsxs("svg",{className:"feature-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:o.colors.primary}),i.jsx("path",{d:"M2 17L12 22L22 17",fill:o.colors.primary}),i.jsx("path",{d:"M2 12L12 17L22 12",fill:o.colors.primary})]}),i.jsxs("div",{className:"feature-content",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"DeFi Integration"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Access DEXs, lending protocols, and yield farms directly from your browser."})]})]})]}),i.jsxs("div",{className:"download-buttons",style:{marginTop:"32px"},children:[i.jsxs("button",{className:"btn btn-primary btn-lg",style:{backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500",marginRight:"12px"},children:[i.jsxs("svg",{className:"btn-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px"},children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:"currentColor"}),i.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:"currentColor"})]}),"Add to Chrome"]}),i.jsxs("button",{className:"btn btn-secondary btn-lg",style:{backgroundColor:o.colors.background.tertiary,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500"},children:[i.jsxs("svg",{className:"btn-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px"},children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:"currentColor"}),i.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:"currentColor"})]}),"Add to Firefox"]})]})]})]})]})}),i.jsx("section",{id:"tokenomics",className:"tokenomics-section",style:{backgroundColor:o.colors.background.secondary},children:i.jsxs("div",{className:"tokenomics-container",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:"Tokenomics"}),i.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"$NESTO token distribution and utility"})]}),i.jsxs("div",{className:"tokenomics-content",children:[i.jsx("div",{className:"tokenomics-overview",children:i.jsxs("div",{className:"token-stats",children:[i.jsxs("div",{className:"stat-card",style:{backgroundColor:((ne=o.colors.background)==null?void 0:ne.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`,textAlign:"center"},children:[i.jsx("div",{className:"stat-number",style:{color:o.colors.primary,fontSize:"32px",fontWeight:"700",marginBottom:"8px"},children:"100M"}),i.jsx("div",{className:"stat-label",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Total Supply"})]}),i.jsxs("div",{className:"stat-card",style:{backgroundColor:((ue=o.colors.background)==null?void 0:ue.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`,textAlign:"center"},children:[i.jsx("div",{className:"stat-number",style:{color:o.colors.primary,fontSize:"32px",fontWeight:"700",marginBottom:"8px"},children:"$0.01"}),i.jsx("div",{className:"stat-label",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Initial Price"})]}),i.jsxs("div",{className:"stat-card",style:{backgroundColor:((de=o.colors.background)==null?void 0:de.primary)||o.colors.background,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`,textAlign:"center"},children:[i.jsx("div",{className:"stat-number",style:{color:o.colors.primary,fontSize:"32px",fontWeight:"700",marginBottom:"8px"},children:"ICP"}),i.jsx("div",{className:"stat-label",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Network"})]})]})}),i.jsxs("div",{className:"tokenomics-distribution",children:[i.jsx("h3",{style:{color:o.colors.text.primary,fontSize:"20px",fontWeight:"600",marginBottom:"24px"},children:"Token Distribution"}),i.jsxs("div",{className:"distribution-chart",children:[i.jsxs("div",{className:"distribution-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",backgroundColor:((le=o.colors.background)==null?void 0:le.primary)||o.colors.background,borderRadius:"8px",marginBottom:"12px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsxs("div",{className:"item-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("div",{className:"item-color",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.primary}}),i.jsxs("div",{className:"item-content",children:[i.jsx("div",{className:"item-name",style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600"},children:"Public Sale"}),i.jsx("div",{className:"item-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Community and early supporters"})]})]}),i.jsx("div",{className:"item-percentage",style:{color:o.colors.primary,fontSize:"18px",fontWeight:"700"},children:"40%"})]}),i.jsxs("div",{className:"distribution-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",backgroundColor:o.colors.background.primary,borderRadius:"8px",marginBottom:"12px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsxs("div",{className:"item-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("div",{className:"item-color",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.success}}),i.jsxs("div",{className:"item-content",children:[i.jsx("div",{className:"item-name",style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600"},children:"Ecosystem"}),i.jsx("div",{className:"item-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Development and partnerships"})]})]}),i.jsx("div",{className:"item-percentage",style:{color:o.colors.success,fontSize:"18px",fontWeight:"700"},children:"30%"})]}),i.jsxs("div",{className:"distribution-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",backgroundColor:o.colors.background.primary,borderRadius:"8px",marginBottom:"12px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsxs("div",{className:"item-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("div",{className:"item-color",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.warning}}),i.jsxs("div",{className:"item-content",children:[i.jsx("div",{className:"item-name",style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600"},children:"Team & Advisors"}),i.jsx("div",{className:"item-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Core team and advisors"})]})]}),i.jsx("div",{className:"item-percentage",style:{color:o.colors.warning,fontSize:"18px",fontWeight:"700"},children:"20%"})]}),i.jsxs("div",{className:"distribution-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",backgroundColor:o.colors.background.primary,borderRadius:"8px",marginBottom:"12px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsxs("div",{className:"item-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("div",{className:"item-color",style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.colors.error}}),i.jsxs("div",{className:"item-content",children:[i.jsx("div",{className:"item-name",style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600"},children:"Reserve Fund"}),i.jsx("div",{className:"item-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Emergency fund and future initiatives"})]})]}),i.jsx("div",{className:"item-percentage",style:{color:o.colors.error,fontSize:"18px",fontWeight:"700"},children:"10%"})]})]})]})]})]})}),i.jsx("section",{className:"airdrop-section",style:{backgroundColor:((fe=o.colors.background)==null?void 0:fe.primary)||o.colors.background},children:i.jsxs("div",{className:"airdrop-container",children:[i.jsxs("div",{className:"section-header",children:[i.jsxs("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:[i.jsx("svg",{className:"airdrop-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px",verticalAlign:"middle"},children:i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.primary})}),"Massive Airdrop Coming!"]}),i.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Join Nisto early and earn your share of 100M $NESTO tokens. The earlier you join, the more you earn!"})]}),i.jsxs("div",{className:"airdrop-tiers",children:[i.jsxs("div",{className:"tier-card",style:{backgroundColor:o.colors.background.secondary,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`,textAlign:"center"},children:[i.jsx("div",{className:"tier-icon",style:{fontSize:"32px",marginBottom:"16px"},children:""}),i.jsx("h3",{className:"tier-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"Early Bird"}),i.jsx("div",{className:"tier-reward",style:{color:o.colors.primary,fontSize:"24px",fontWeight:"700",marginBottom:"12px"},children:"1,000 NESTO"}),i.jsx("p",{className:"tier-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginBottom:"20px"},children:"First 1,000 users to join"}),i.jsx("button",{className:"btn btn-primary",style:{backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500"},children:"Join Now"})]}),i.jsxs("div",{className:"tier-card",style:{backgroundColor:o.colors.background.secondary,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`,textAlign:"center"},children:[i.jsx("div",{className:"tier-icon",style:{fontSize:"32px",marginBottom:"16px"},children:""}),i.jsx("h3",{className:"tier-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"Beta Tester"}),i.jsx("div",{className:"tier-reward",style:{color:o.colors.primary,fontSize:"24px",fontWeight:"700",marginBottom:"12px"},children:"500 NESTO"}),i.jsx("p",{className:"tier-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginBottom:"20px"},children:"Next 5,000 users"}),i.jsx("button",{className:"btn btn-secondary",style:{backgroundColor:o.colors.background.tertiary,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500"},children:"Join Now"})]}),i.jsxs("div",{className:"tier-card",style:{backgroundColor:o.colors.background.secondary,padding:"24px",borderRadius:"12px",border:`1px solid ${o.colors.border.primary}`,textAlign:"center"},children:[i.jsx("div",{className:"tier-icon",style:{fontSize:"32px",marginBottom:"16px"},children:""}),i.jsx("h3",{className:"tier-title",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"Community"}),i.jsx("div",{className:"tier-reward",style:{color:o.colors.primary,fontSize:"24px",fontWeight:"700",marginBottom:"12px"},children:"100 NESTO"}),i.jsx("p",{className:"tier-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginBottom:"20px"},children:"All other users"}),i.jsx("button",{className:"btn btn-secondary",style:{backgroundColor:o.colors.background.tertiary,color:o.colors.text.primary,border:`1px solid ${o.colors.border.primary}`,borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500"},children:"Join Now"})]})]})]})}),i.jsx("section",{className:"waiting-list-section",style:{backgroundColor:((F=o.colors.background)==null?void 0:F.primary)||o.colors.background},children:i.jsxs("div",{className:"waiting-list-container",children:[i.jsxs("div",{className:"section-header",children:[i.jsxs("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:[i.jsxs("svg",{className:"waiting-list-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px",verticalAlign:"middle"},children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:o.colors.primary}),i.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:o.colors.primary})]}),"Join the Waiting List"]}),i.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Be among the first to experience the future of social finance"})]}),i.jsxs("div",{className:"waiting-list-content",children:[i.jsx("div",{className:"waiting-list-info",children:i.jsxs("div",{className:"benefits-list",children:[i.jsxs("div",{className:"benefit-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[i.jsxs("svg",{className:"benefit-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M9 12L11 14L15 10",stroke:o.colors.success,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.success})]}),i.jsxs("div",{className:"benefit-content",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Early Access"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Get exclusive early access to new features and updates."})]})]}),i.jsxs("div",{className:"benefit-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[i.jsx("svg",{className:"benefit-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.success})}),i.jsxs("div",{className:"benefit-content",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Priority Support"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Receive priority customer support and dedicated assistance."})]})]}),i.jsxs("div",{className:"benefit-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[i.jsx("svg",{className:"benefit-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.success})}),i.jsxs("div",{className:"benefit-content",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Exclusive Rewards"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Earn exclusive rewards and bonuses for being an early adopter."})]})]})]})}),i.jsx("div",{className:"waiting-list-form",children:i.jsxs("div",{className:"form-card",style:{backgroundColor:((ke=o.colors.background)==null?void 0:ke.secondary)||o.colors.background,borderRadius:"12px",padding:"32px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsx("h3",{style:{color:o.colors.text.primary,fontSize:"20px",fontWeight:"600",marginBottom:"16px"},children:"Get Early Access"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginBottom:"24px",lineHeight:"1.5"},children:"Join thousands of users waiting to experience the future of DeFi"}),i.jsx("div",{className:"form-group",style:{marginBottom:"16px"},children:i.jsx("input",{type:"email",placeholder:"Enter your email address",style:{width:"100%",padding:"12px 16px",border:`1px solid ${o.colors.border.primary}`,borderRadius:"8px",fontSize:"14px",backgroundColor:((xe=o.colors.background)==null?void 0:xe.primary)||o.colors.background,color:o.colors.text.primary}})}),i.jsx("button",{className:"btn btn-primary",style:{width:"100%",backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Join Waiting List"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400",marginTop:"12px",textAlign:"center"},children:"No spam, unsubscribe at any time"})]})})]})]})}),i.jsx("section",{className:"airdrop-section",style:{backgroundColor:((ye=o.colors.background)==null?void 0:ye.primary)||o.colors.background},children:i.jsxs("div",{className:"airdrop-container",children:[i.jsxs("div",{className:"section-header",children:[i.jsxs("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:[i.jsx("svg",{className:"airdrop-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px",verticalAlign:"middle"},children:i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.primary})}),"Massive Airdrop Coming!"]}),i.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Join the biggest airdrop in African DeFi history"})]}),i.jsxs("div",{className:"airdrop-content",children:[i.jsx("div",{className:"airdrop-info",children:i.jsxs("div",{className:"airdrop-details",children:[i.jsxs("div",{className:"airdrop-stat",style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"24px"},children:[i.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:o.colors.primary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.white})})}),i.jsxs("div",{children:[i.jsx("div",{style:{color:o.colors.text.primary,fontSize:"20px",fontWeight:"700",marginBottom:"4px"},children:"1,000,000 NESTO"}),i.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Total Airdrop Value"})]})]}),i.jsxs("div",{className:"airdrop-stat",style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"24px"},children:[i.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:o.colors.success,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M16 4C16 5.1 15.1 6 14 6C12.9 6 12 5.1 12 4C12 2.9 12.9 2 14 2C15.1 2 16 2.9 16 4Z",fill:o.colors.white}),i.jsx("path",{d:"M8 4C8 5.1 7.1 6 6 6C4.9 6 4 5.1 4 4C4 2.9 4.9 2 6 2C7.1 2 8 2.9 8 4Z",fill:o.colors.white}),i.jsx("path",{d:"M16 20C16 21.1 15.1 22 14 22C12.9 22 12 21.1 12 20C12 18.9 12.9 18 14 18C15.1 18 16 18.9 16 20Z",fill:o.colors.white}),i.jsx("path",{d:"M8 20C8 21.1 7.1 22 6 22C4.9 22 4 21.1 4 20C4 18.9 4.9 18 6 18C7.1 18 8 18.9 8 20Z",fill:o.colors.white}),i.jsx("path",{d:"M12 12C12 13.1 11.1 14 10 14C8.9 14 8 13.1 8 12C8 10.9 8.9 10 10 10C11.1 10 12 10.9 12 12Z",fill:o.colors.white}),i.jsx("path",{d:"M16 12C16 13.1 15.1 14 14 14C12.9 14 12 13.1 12 12C12 10.9 12.9 10 14 10C15.1 10 16 10.9 16 12Z",fill:o.colors.white})]})}),i.jsxs("div",{children:[i.jsx("div",{style:{color:o.colors.text.primary,fontSize:"20px",fontWeight:"700",marginBottom:"4px"},children:"10,000 Users"}),i.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Eligible Participants"})]})]}),i.jsxs("div",{className:"airdrop-stat",style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"24px"},children:[i.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:o.colors.warning,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:o.colors.white}),i.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:o.colors.white})]})}),i.jsxs("div",{children:[i.jsx("div",{style:{color:o.colors.text.primary,fontSize:"20px",fontWeight:"700",marginBottom:"4px"},children:"100 NESTO"}),i.jsx("div",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Per User"})]})]})]})}),i.jsx("div",{className:"airdrop-form",children:i.jsxs("div",{className:"form-card",style:{backgroundColor:((pe=o.colors.background)==null?void 0:pe.secondary)||o.colors.background,borderRadius:"16px",padding:"32px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsx("h3",{style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700",marginBottom:"16px"},children:"Join the Airdrop"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"16px",fontWeight:"400",marginBottom:"24px",lineHeight:"1.5"},children:"Be among the first 10,000 users to receive free NESTO tokens"}),i.jsx("div",{className:"form-group",style:{marginBottom:"16px"},children:i.jsx("input",{type:"email",placeholder:"Enter your email address",style:{width:"100%",padding:"16px",border:`1px solid ${o.colors.border.primary}`,borderRadius:"12px",fontSize:"16px",backgroundColor:((me=o.colors.background)==null?void 0:me.primary)||o.colors.background,color:o.colors.text.primary}})}),i.jsx("div",{className:"form-group",style:{marginBottom:"24px"},children:i.jsx("input",{type:"text",placeholder:"Your ICP wallet address",style:{width:"100%",padding:"16px",border:`1px solid ${o.colors.border.primary}`,borderRadius:"12px",fontSize:"16px",backgroundColor:((M=o.colors.background)==null?void 0:M.primary)||o.colors.background,color:o.colors.text.primary}})}),i.jsx("button",{className:"btn btn-primary",style:{width:"100%",backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"12px",padding:"16px 24px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Join Airdrop"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginTop:"16px",textAlign:"center"},children:"Airdrop distribution starts on March 1st, 2024"})]})})]})]})}),i.jsx("section",{className:"waiting-list-section",style:{backgroundColor:((q=o.colors.background)==null?void 0:q.primary)||o.colors.background},children:i.jsxs("div",{className:"waiting-list-container",children:[i.jsxs("div",{className:"section-header",children:[i.jsxs("h2",{className:"section-title",style:{color:o.colors.text.primary,fontSize:"24px",fontWeight:"700"},children:[i.jsxs("svg",{className:"waiting-list-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"12px",verticalAlign:"middle"},children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z",fill:o.colors.primary}),i.jsx("path",{d:"M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12S9.79 8 12 8 16 9.79 16 12 14.21 16 12 16Z",fill:o.colors.primary})]}),"Join the Waiting List"]}),i.jsx("p",{className:"section-subtitle",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400"},children:"Be among the first to experience the future of social finance"})]}),i.jsxs("div",{className:"waiting-list-content",children:[i.jsx("div",{className:"waiting-list-info",children:i.jsxs("div",{className:"benefits-list",children:[i.jsxs("div",{className:"benefit-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[i.jsxs("svg",{className:"benefit-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M9 12L11 14L15 10",stroke:o.colors.success,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.success})]}),i.jsxs("div",{className:"benefit-content",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Early Access"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Get exclusive early access to new features and updates."})]})]}),i.jsxs("div",{className:"benefit-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[i.jsx("svg",{className:"benefit-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.success})}),i.jsxs("div",{className:"benefit-content",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Priority Support"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Receive priority customer support and dedicated assistance."})]})]}),i.jsxs("div",{className:"benefit-item",style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[i.jsx("svg",{className:"benefit-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:o.colors.success})}),i.jsxs("div",{className:"benefit-content",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:"Exclusive Rewards"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",margin:0,lineHeight:"1.5"},children:"Earn exclusive rewards and bonuses for being an early adopter."})]})]})]})}),i.jsx("div",{className:"waiting-list-form",children:i.jsxs("div",{className:"form-card",style:{backgroundColor:((L=o.colors.background)==null?void 0:L.secondary)||o.colors.background,borderRadius:"12px",padding:"32px",border:`1px solid ${o.colors.border.primary}`},children:[i.jsx("h3",{style:{color:o.colors.text.primary,fontSize:"20px",fontWeight:"600",marginBottom:"16px"},children:"Get Early Access"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginBottom:"24px",lineHeight:"1.5"},children:"Join thousands of users waiting to experience the future of DeFi"}),i.jsx("div",{className:"form-group",style:{marginBottom:"16px"},children:i.jsx("input",{type:"email",placeholder:"Enter your email address",style:{width:"100%",padding:"12px 16px",border:`1px solid ${o.colors.border.primary}`,borderRadius:"8px",fontSize:"14px",backgroundColor:((re=o.colors.background)==null?void 0:re.primary)||o.colors.background,color:o.colors.text.primary}})}),i.jsx("button",{className:"btn btn-primary",style:{width:"100%",backgroundColor:o.colors.primary,color:o.colors.white,border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Join Waiting List"}),i.jsx("p",{style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400",marginTop:"12px",textAlign:"center"},children:"No spam, unsubscribe at any time"})]})})]})]})}),i.jsx("footer",{className:"footer",style:{backgroundColor:((Z=o.colors.background)==null?void 0:Z.primary)||o.colors.background,borderTop:`1px solid ${o.colors.border.primary}`},children:i.jsxs("div",{className:"footer-container",children:[i.jsxs("div",{className:"footer-content",children:[i.jsxs("div",{className:"footer-brand",children:[i.jsx("div",{className:"brand-logo",style:{backgroundColor:o.colors.primary,width:"32px",height:"32px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("span",{className:"logo-text",style:{color:o.colors.white,fontSize:"16px",fontWeight:"600"},children:"N"})}),i.jsx("span",{className:"logo-text",style:{color:o.colors.text.primary,fontSize:"18px",fontWeight:"600",marginLeft:"12px"},children:"Nisto"}),i.jsx("p",{className:"footer-description",style:{color:o.colors.text.secondary,fontSize:"14px",fontWeight:"400",marginTop:"12px",lineHeight:"1.5"},children:"The future of social finance on the Internet Computer. DeFi, social trading, and AI-powered insights for the African market."})]}),i.jsxs("div",{className:"footer-links",children:[i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Platform"}),i.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#features",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Features"})}),i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#extension",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Browser Extension"})}),i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#tokenomics",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Tokenomics"})}),i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Mobile App"})})]})]}),i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Developers"}),i.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Documentation"})}),i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"API Reference"})}),i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"SDK"})}),i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"GitHub"})})]})]}),i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Company"}),i.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"About Us"})}),i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Blog"})}),i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Careers"})}),i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Press Kit"})})]})]}),i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{style:{color:o.colors.text.primary,fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Support"}),i.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Help Center"})}),i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Contact Us"})}),i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Status"})}),i.jsx("li",{style:{marginBottom:"12px"},children:i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,textDecoration:"none",fontSize:"14px",fontWeight:"400",transition:"color 0.2s ease"},children:"Security"})})]})]})]})]}),i.jsxs("div",{className:"footer-bottom",children:[i.jsxs("div",{className:"footer-legal",children:[i.jsx("span",{style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400"},children:" 2024 Nisto Finance. All rights reserved."}),i.jsxs("div",{style:{display:"flex",gap:"24px",marginTop:"8px"},children:[i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400",textDecoration:"none"},children:"Privacy Policy"}),i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400",textDecoration:"none"},children:"Terms of Service"}),i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,fontSize:"12px",fontWeight:"400",textDecoration:"none"},children:"Cookie Policy"})]})]}),i.jsxs("div",{className:"footer-social",children:[i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,marginLeft:"16px",fontSize:"14px",fontWeight:"400",textDecoration:"none"},children:"Twitter"}),i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,marginLeft:"16px",fontSize:"14px",fontWeight:"400",textDecoration:"none"},children:"Discord"}),i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,marginLeft:"16px",fontSize:"14px",fontWeight:"400",textDecoration:"none"},children:"Telegram"}),i.jsx("a",{href:"#",style:{color:o.colors.text.secondary,marginLeft:"16px",fontSize:"14px",fontWeight:"400",textDecoration:"none"},children:"LinkedIn"})]})]})]})}),i.jsx(x3,{isOpen:b,onClose:()=>x(!1)})]})}function Pg(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 6C7.03 6 2 7.546 2 10.5v4C2 17.454 7.03 19 12 19s10-1.546 10-4.5v-4C22 7.546 16.97 6 12 6zm-8 8.5v-1.197a9.989 9.989 0 0 0 2 .86v1.881c-1.312-.514-2-1.126-2-1.544zm12 .148v1.971c-.867.179-1.867.31-3 .358v-2a21.75 21.75 0 0 0 3-.329zm-5 2.33a18.788 18.788 0 0 1-3-.358v-1.971c.959.174 1.972.287 3 .33v1.999zm7-.934v-1.881a9.931 9.931 0 0 0 2-.86V14.5c0 .418-.687 1.03-2 1.544zM12 13c-5.177 0-8-1.651-8-2.5S6.823 8 12 8s8 1.651 8 2.5-2.823 2.5-8 2.5z"},child:[]}]})(e)}function Mg(e){return ve({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 12h2v4h-2z"},child:[]},{tag:"path",attr:{d:"M20 7V5c0-1.103-.897-2-2-2H5C3.346 3 2 4.346 2 6v12c0 2.201 1.794 3 3 3h15c1.103 0 2-.897 2-2V9c0-1.103-.897-2-2-2zM5 5h13v2H5a1.001 1.001 0 0 1 0-2zm15 14H5.012C4.55 18.988 4 18.805 4 18V8.815c.314.113.647.185 1 .185h15v10z"},child:[]}]})(e)}const v3=(e,t="")=>{if(!e)return"An unknown error occurred";const r=e.message||e.toString();if(r.includes("Network")||r.includes("fetch"))return"Network connection failed. Please check your internet connection and try again.";if(r.includes("authentication")||r.includes("auth"))return"Authentication failed. Please log in again.";if(r.includes("CanisterError")||r.includes("has no query method"))return"Service temporarily unavailable. Please try again later.";if(t==="recovery"){if(r.includes("already exists"))return"This recovery method is already set up for your account.";if(r.includes("invalid"))return"Invalid recovery method details. Please check your information and try again.";if(r.includes("verification"))return"Verification failed. Please check your code and try again."}if(t==="payment"){if(r.includes("insufficient"))return"Insufficient funds. Please check your wallet balance.";if(r.includes("invalid amount"))return"Invalid payment amount. Please enter a valid amount."}if(t==="wallet"){if(r.includes("already exists"))return"This wallet is already connected to your account.";if(r.includes("invalid address"))return"Invalid wallet address. Please check and try again."}if(t==="profile"){if(r.includes("username"))return"Username is already taken. Please choose a different one.";if(r.includes("display name"))return"Display name contains invalid characters. Please use only letters, numbers, and common punctuation."}return r.includes("timeout")?"Request timed out. Please try again.":r.includes("permission")||r.includes("unauthorized")?"You don't have permission to perform this action.":r.includes("not found")?"The requested resource was not found.":r},S3=(e,t="")=>{var n;const r={recovery:{add:"Recovery method added successfully! Your account is now more secure.",verify:"Recovery method verified successfully!",complete:"Account recovery completed successfully!"},payment:{send:"Payment sent successfully!",receive:"Payment received successfully!",bill:"Bill payment completed successfully!"},wallet:{add:"Wallet connected successfully!",remove:"Wallet removed successfully!",update:"Wallet updated successfully!"},profile:{update:"Profile updated successfully!",username:"Username updated successfully!",avatar:"Profile picture updated successfully!"},vault:{create:"Vault created successfully!",join:"Joined vault successfully!",deposit:"Deposit completed successfully!",withdraw:"Withdrawal completed successfully!"},general:{save:"Changes saved successfully!",delete:"Item deleted successfully!",create:"Item created successfully!"}};return((n=r[t])==null?void 0:n[e])||r.general[e]||"Action completed successfully!"},ri=(e,t="",r=null)=>{const n=v3(e,t);return console.error(`Error in ${t}:`,e),r&&r({message:n,type:"error",icon:""}),n},nu=(e,t="",r=null,n=null)=>{const s=n||S3(e,t);return r&&r({message:s,type:"success",icon:""}),s},k3=()=>{const{user:e,isAuthenticated:t,backendService:r}=Yt(),{showToast:n}=Yr(),{theme:s}=bi(),[o,a]=T.useState([]),[l,c]=T.useState(!0),[d,b]=T.useState(!1),[x,m]=T.useState(!1),[h,y]=T.useState(!1),[N,W]=T.useState(null),[w,k]=T.useState({}),[j,P]=T.useState(null),[C,B]=T.useState({name:"",currency:"ICP",address:""}),[R,H]=T.useState({amount:"",toAddress:"",description:""});T.useState({amount:"",description:""}),T.useEffect(()=>{(async()=>{if(!(!t||!r))try{c(!0);const te=await r.getUserCryptoWallets();if(!te||te.length===0)try{console.log("No wallets found, creating default NST wallet..."),await r.createCryptoWallet("Primary Wallet","NST",!1,null,"Auto-created default wallet");const Q=await r.getUserCryptoWallets();a(Q||[]),n("Default NST wallet created!","success")}catch(Q){console.error("Failed to create default wallet:",Q),n("Failed to create default wallet","error"),a([])}else a(te)}catch(te){console.error("Error loading wallets:",te),n("Failed to load wallets","error"),a([])}finally{c(!1)}})()},[t,r]);const X=K=>({NST:{name:"Nisto Network",color:s.colors.info},ICP:{name:"Internet Computer",color:s.colors.primary},BTC:{name:"Bitcoin",color:s.colors.warning},ETH:{name:"Ethereum",color:s.colors.info}})[K]||{name:"Unknown",color:s.colors.text.secondary},$=K=>({NST:"",ICP:"",BTC:"",ETH:""})[K]||"",Y=K=>`${K.toFixed(6)}`,J=K=>!K||K==="No address"?"No address":K.length<=16?K:`${K.slice(0,6)}...${K.slice(-6)}`,A=async(K,te)=>{if(!K||K==="No address"||K==="No address available"){n("No address to copy","error");return}try{await navigator.clipboard.writeText(K),P(te),n("Address copied to clipboard!","success"),setTimeout(()=>P(null),2e3)}catch(Q){console.error("Copy to clipboard failed:",Q);try{const ne=document.createElement("textarea");ne.value=K,document.body.appendChild(ne),ne.select(),document.execCommand("copy"),document.body.removeChild(ne),P(te),n("Address copied to clipboard!","success"),setTimeout(()=>P(null),2e3)}catch(ne){console.error("Fallback copy failed:",ne),n("Failed to copy address","error")}}},U=async()=>{if(!C.name||!C.currency){n("Please fill in all required fields","error");return}try{if(await r.createCryptoWallet(C.name,C.currency,!1,null,null)){n("Wallet created successfully!","success"),B({name:"",currency:"ICP",address:""}),b(!1);const te=await r.getUserCryptoWallets();a(te||[])}else n("Failed to create wallet","error")}catch(K){console.error("Error creating wallet:",K),n(`Failed to create wallet: ${K.message||"Unknown error"}`,"error")}},V=async()=>{if(!R.amount||!R.toAddress||!N){n("Please fill in all required fields","error");return}const K=Number(R.amount);if(isNaN(K)||K<=0){n("Please enter a valid amount","error");return}try{const te=await r.sendCrypto(N.id,R.toAddress,BigInt(Math.floor(K*1e8)),R.description||"");if(te&&te.ok){n("Transaction sent successfully!","success"),H({amount:"",toAddress:"",description:""}),m(!1);const Q=await r.getUserCryptoWallets();a(Q||[])}else n(`Transaction failed: ${(te==null?void 0:te.err)||"Unknown error"}`,"error")}catch(te){console.error("Error sending crypto:",te),n(`Failed to send transaction: ${te.message||"Unknown error"}`,"error")}};return l?i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px"},children:[i.jsx("div",{style:{width:"40px",height:"40px",border:`3px solid ${s.colors.border.primary}`,borderTop:`3px solid ${s.colors.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite"}}),i.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:"2rem"},children:[i.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:s.colors.text.primary,marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx(De,{size:24}),"Crypto Wallets"]}),i.jsx("p",{style:{fontSize:"0.875rem",color:s.colors.text.secondary,margin:0},children:"Manage your digital assets across multiple networks"})]}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{style:{backgroundColor:s.colors.interactive.secondary,borderRadius:"1rem",padding:"1.5rem",border:`1px solid ${s.colors.border.primary}`},children:[i.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:s.colors.text.primary,display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(A2,{}),i.jsx("span",{children:"Portfolio Overview"})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem"},children:[i.jsxs("div",{style:{backgroundColor:s.colors.white,padding:"1rem",borderRadius:"0.75rem",border:`1px solid ${s.colors.border.primary}`},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:s.colors.text.secondary,marginBottom:"0.5rem"},children:"Total Wallets"}),i.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:s.colors.text.primary},children:o.length})]}),i.jsxs("div",{style:{backgroundColor:s.colors.white,padding:"1rem",borderRadius:"0.75rem",border:`1px solid ${s.colors.border.primary}`},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:s.colors.text.secondary,marginBottom:"0.5rem"},children:"Total Balance"}),i.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:s.colors.success},children:o.reduce((K,te)=>K+te.balance,0).toFixed(2)})]}),i.jsxs("div",{style:{backgroundColor:s.colors.white,padding:"1rem",borderRadius:"0.75rem",border:`1px solid ${s.colors.border.primary}`},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:s.colors.text.secondary,marginBottom:"0.5rem"},children:"Networks"}),i.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:s.colors.primary},children:new Set(o.map(K=>K.currency)).size})]})]})]})}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{style:{backgroundColor:s.colors.interactive.secondary,borderRadius:"1rem",padding:"1.5rem",border:`1px solid ${s.colors.border.primary}`},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[i.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",color:s.colors.text.primary,display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[i.jsx(fs,{}),i.jsx("span",{children:"Your Wallets"})]}),i.jsxs("button",{onClick:()=>b(!0),style:{background:s.colors.primary,border:"none",padding:"0.5rem 1rem",borderRadius:"0.5rem",color:s.colors.white,cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},children:[i.jsx(_o,{size:14}),"Add Wallet"]})]}),o.length===0?i.jsxs("div",{style:{textAlign:"center",padding:"3rem 2rem",background:"white",border:"1px solid #e2e8f0",borderRadius:"0.75rem"},children:[i.jsx("div",{style:{width:"64px",height:"64px",background:s.colors.interactive.secondary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:s.colors.text.secondary},children:i.jsx(De,{size:32})}),i.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.125rem",fontWeight:"600",color:s.colors.text.primary},children:"No wallets yet"}),i.jsx("p",{style:{margin:"0 0 1.5rem 0",fontSize:"0.875rem",color:s.colors.text.secondary},children:"Create your first wallet to start managing your digital assets"}),i.jsx("button",{onClick:()=>b(!0),style:{background:s.colors.primary,border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",color:s.colors.white,cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",transition:"all 0.2s"},children:"Create Wallet"})]}):i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem"},children:o.map(K=>{const te=X(K.currency);return i.jsxs("div",{style:{background:s.colors.white,border:`1px solid ${s.colors.border.primary}`,borderRadius:"0.75rem",padding:"1rem",transition:"all 0.2s"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[i.jsx("div",{style:{width:"48px",height:"48px",background:te.color,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:s.colors.white,fontSize:"1.5rem"},children:$(K.currency)}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:s.colors.text.primary,marginBottom:"0.125rem"},children:K.name}),i.jsx("div",{style:{fontSize:"0.75rem",color:s.colors.text.secondary},children:te.name})]}),K.isPrimary&&i.jsx("div",{style:{padding:"0.25rem 0.5rem",background:s.colors.success,color:s.colors.success,borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"600"},children:"Primary"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[i.jsxs("div",{style:{flex:1,padding:"0.75rem",background:"#f8fafc",borderRadius:"0.5rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.125rem"},children:"Balance"}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"700",color:"#1e293b"},children:w[K.id]?Y(K.balance):""})]}),i.jsx("button",{onClick:()=>k(Q=>({...Q,[K.id]:!Q[K.id]})),style:{background:"none",border:"none",padding:"0.25rem",color:"#64748b",cursor:"pointer",borderRadius:"0.25rem",transition:"all 0.2s"},children:w[K.id]?i.jsx(F2,{size:14}):i.jsx(Ga,{size:14})})]}),i.jsxs("div",{style:{flex:1,padding:"0.75rem",background:"#f8fafc",borderRadius:"0.5rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.125rem"},children:"Address"}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#1e293b",fontFamily:"monospace",fontWeight:500,maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:J(K.address||"No address")})]}),i.jsx("button",{onClick:()=>A(K.address||"",K.id),style:{background:"none",border:"none",padding:"0.25rem",color:"#64748b",cursor:"pointer",borderRadius:"0.25rem",transition:"all 0.2s"},children:j===K.id?i.jsx(Nt,{size:12}):i.jsx(mi,{size:12})})]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsxs("button",{onClick:()=>{W(K),m(!0)},style:{flex:1,background:"#3b82f6",border:"none",padding:"0.5rem",borderRadius:"0.375rem",color:"white",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.2s"},children:[i.jsx(kr,{size:12}),"Send"]}),i.jsxs("button",{onClick:()=>{W(K),y(!0)},style:{flex:1,background:"#10b981",border:"none",padding:"0.5rem",borderRadius:"0.375rem",color:"white",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.375rem",transition:"all 0.2s"},children:[i.jsx(Bn,{size:12}),"Receive"]})]})]},K.id)})})]})}),d&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:i.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"90%",position:"relative"},children:[i.jsx("button",{onClick:()=>b(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b"},children:i.jsx(ot,{})}),i.jsx("div",{style:{width:"60px",height:"60px",background:"#f0f9ff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",color:"#3b82f6"},children:i.jsx(_o,{size:24})}),i.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600",color:"#1e293b"},children:"Create New Wallet"}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Wallet Name"}),i.jsx("input",{type:"text",value:C.name,onChange:K=>B(te=>({...te,name:K.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Enter wallet name"})]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Currency"}),i.jsxs("select",{value:C.currency,onChange:K=>B(te=>({...te,currency:K.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},children:[i.jsx("option",{value:"ICP",children:"ICP - Internet Computer"}),i.jsx("option",{value:"NST",children:"NST - Nisto Token"}),i.jsx("option",{value:"BTC",children:"BTC - Bitcoin"}),i.jsx("option",{value:"ETH",children:"ETH - Ethereum"})]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i.jsx("button",{onClick:()=>b(!1),style:{flex:1,padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",background:"white",color:"#374151",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Cancel"}),i.jsx("button",{onClick:U,style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"0.5rem",background:"#3b82f6",color:"white",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Create Wallet"})]})]})}),x&&N&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:i.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"90%",position:"relative"},children:[i.jsx("button",{onClick:()=>m(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b"},children:i.jsx(ot,{})}),i.jsx("div",{style:{width:"60px",height:"60px",background:"#fef3c7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",color:"#f59e0b"},children:i.jsx(kr,{size:24})}),i.jsxs("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600",color:"#1e293b"},children:["Send ",N.currency]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Amount"}),i.jsx("input",{type:"number",value:R.amount,onChange:K=>H(te=>({...te,amount:K.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Enter amount"})]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"To Address"}),i.jsx("input",{type:"text",value:R.toAddress,onChange:K=>H(te=>({...te,toAddress:K.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Enter recipient address"})]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Description (Optional)"}),i.jsx("input",{type:"text",value:R.description,onChange:K=>H(te=>({...te,description:K.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Transaction description"})]}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i.jsx("button",{onClick:()=>m(!1),style:{flex:1,padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",background:"white",color:"#374151",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Cancel"}),i.jsx("button",{onClick:V,style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"0.5rem",background:"#3b82f6",color:"white",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Send"})]})]})}),h&&N&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:i.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"90%",position:"relative"},children:[i.jsx("button",{onClick:()=>y(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b"},children:i.jsx(ot,{})}),i.jsx("div",{style:{width:"60px",height:"60px",background:"#f0fdf4",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",color:"#10b981"},children:i.jsx(Bn,{size:24})}),i.jsxs("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600",color:"#1e293b"},children:["Receive ",N.currency]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Your Address"}),i.jsx("div",{style:{padding:"0.75rem",background:"#f8fafc",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.75rem",fontFamily:"monospace",color:"#374151",wordBreak:"break-all",maxHeight:"80px",overflow:"auto"},children:N.address||"No address available"})]}),i.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"0.5rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",color:"#059669",fontSize:"0.875rem",fontWeight:"500"},children:[i.jsx(Bn,{size:16}),i.jsxs("span",{children:["Share this address to receive ",N.currency]})]}),i.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"#64748b",lineHeight:"1.4"},children:["Anyone can send ",N.currency," to this address. The funds will appear in your wallet once the transaction is confirmed on the network."]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i.jsxs("button",{onClick:()=>A(N.address||"",N.id),style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"0.5rem",background:"#10b981",color:"white",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[i.jsx(mi,{size:16}),"Copy Address"]}),i.jsx("button",{onClick:()=>y(!1),style:{flex:1,padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",background:"white",color:"#374151",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Close"})]})]})})]})},j3=()=>{const e=Yt(),[t,r]=T.useState({stakedAmount:0,totalRewardsEarned:0,pendingRewards:0,isStaking:!1,totalStaked:0,totalStakers:0}),[n,s]=T.useState(""),[o,a]=T.useState(""),[l,c]=T.useState(!1),[d,b]=T.useState(!1),[x,m]=T.useState(""),[h,y]=T.useState(""),N=12.5,W=T.useCallback(async()=>{if(!(!(e!=null&&e.principal)||!(e!=null&&e.backendService)))try{b(!0),m("");const[R,H,X]=await Promise.all([e.backendService.getStakingInfo(e.principal),e.backendService.getTotalBalance(e.principal),e.backendService.getTotalStaked()]),$=w(R,N);r({stakedAmount:Number(R.stakedAmount)/1e8,totalRewardsEarned:Number(R.totalRewardsEarned)/1e8,pendingRewards:$,isStaking:R.isStaking,totalStaked:Number(X)/1e8,totalStakers:1250})}catch(R){console.error("Error loading staking data:",R),m("Failed to load staking data")}finally{b(!1)}},[e==null?void 0:e.principal,e==null?void 0:e.backendService]),w=(R,H)=>{if(!R.isStaking||!R.stakedAmount)return 0;const X=Number(R.stakedAmount)/1e8,$=H/365/100,Y=7;return X*$*Y},k=async()=>{if(!(!n||!(e!=null&&e.backendService)))try{b(!0),m("");const R=await e.backendService.stake(BigInt(Math.floor(Number(n)*1e8)));R.ok?(y("Successfully staked tokens!"),s(""),setTimeout(()=>W(),1e3)):m(`Staking failed: ${R.err}`)}catch(R){console.error("Staking error:",R),m("Staking failed. Please try again.")}finally{b(!1)}},j=async()=>{if(!(!o||!(e!=null&&e.backendService)))try{b(!0),m("");const R=await e.backendService.unstake(BigInt(Math.floor(Number(o)*1e8)));R.ok?(y("Successfully unstaked tokens!"),a(""),setTimeout(()=>W(),1e3)):m(`Unstaking failed: ${R.err}`)}catch(R){console.error("Unstaking error:",R),m("Unstaking failed. Please try again.")}finally{b(!1)}},P=async()=>{if(e!=null&&e.backendService)try{b(!0),m("");const R=await e.backendService.claimRewards();R.ok?(y(`Successfully claimed ${R.ok} rewards!`),setTimeout(()=>W(),1e3)):m(`Claim failed: ${R.err}`)}catch(R){console.error("Claim error:",R),m("Claim failed. Please try again.")}finally{b(!1)}};T.useEffect(()=>{W()},[W]);const B=((R,H)=>{const X=R*(H/365/100),$=X*7,Y=X*30,J=R*(H/100);return{daily:X,weekly:$,monthly:Y,yearly:J}})(t.stakedAmount,N);return i.jsxs("div",{className:"token-form",style:{maxWidth:"100%"},children:[i.jsxs("h3",{children:[i.jsx(fr,{style:{color:"#2563eb"}}),i.jsx("span",{children:"Enhanced Staking"})]}),x&&i.jsx("div",{style:{padding:"1rem",borderRadius:"0.75rem",backgroundColor:"#fef2f2",borderLeft:"4px solid #ef4444",color:"#991b1b",fontSize:"0.875rem",marginBottom:"2rem",border:"1px solid #fecaca"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(ll,{}),i.jsx("span",{children:x})]})}),h&&i.jsx("div",{style:{padding:"1rem",borderRadius:"0.75rem",backgroundColor:"#ecfdf5",borderLeft:"4px solid #10b981",color:"#065f46",fontSize:"0.875rem",marginBottom:"2rem",border:"1px solid #bbf7d0"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Es,{}),i.jsx("span",{children:h})]})}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsx("div",{style:{background:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",padding:"2.5rem",color:"#166534",textAlign:"center",position:"relative"},children:i.jsxs("div",{style:{position:"relative",zIndex:1},children:[i.jsx("div",{style:{fontSize:"0.875rem",opacity:.8,marginBottom:"0.75rem",fontWeight:"500",letterSpacing:"0.05em"},children:"ANNUAL STAKING REWARD"}),i.jsxs("div",{style:{fontSize:"4rem",fontWeight:"800",marginBottom:"0.75rem",letterSpacing:"-0.02em"},children:[N,"%"]}),i.jsx("div",{style:{fontSize:"1rem",opacity:.8,fontWeight:"400",letterSpacing:"0.02em"},children:"Annual Percentage Yield"})]})})}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[i.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(A2,{}),i.jsx("span",{children:"Your Staking Overview"})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem"},children:[i.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Staked Amount"}),i.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:[t.stakedAmount.toFixed(6)," NST"]})]}),i.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Pending Rewards"}),i.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#10b981"},children:[t.pendingRewards.toFixed(6)," NST"]})]}),i.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Total Earned"}),i.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:[t.totalRewardsEarned.toFixed(6)," NST"]})]}),i.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Status"}),i.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:t.isStaking?"#10b981":"#64748b"},children:t.isStaking?"Active":"Inactive"})]})]})]})}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[i.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(hs,{}),i.jsx("span",{children:"Staking Actions"})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[i.jsxs("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.5rem"},children:"Stake Amount (NST)"}),i.jsx("input",{type:"number",placeholder:"0.0",value:n,onChange:R=>s(R.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"1rem",marginBottom:"1rem",outline:"none"}}),i.jsxs("button",{onClick:k,disabled:d||!n,style:{width:"100%",padding:"0.75rem",backgroundColor:d||!n?"#94a3b8":"#3b82f6",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:d||!n?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[i.jsx(hs,{size:16}),i.jsx("span",{children:"Stake Tokens"})]})]}),i.jsxs("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.5rem"},children:"Unstake Amount (NST)"}),i.jsx("input",{type:"number",placeholder:"0.0",value:o,onChange:R=>a(R.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"1rem",marginBottom:"1rem",outline:"none"}}),i.jsxs("button",{onClick:j,disabled:d||!o,style:{width:"100%",padding:"0.75rem",backgroundColor:d||!o?"#94a3b8":"#64748b",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:d||!o?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[i.jsx(Ia,{size:16}),i.jsx("span",{children:"Unstake Tokens"})]})]}),i.jsxs("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.5rem"},children:"Available to Claim"}),i.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#10b981",marginBottom:"1rem",padding:"0.75rem",backgroundColor:"#f0fdf4",borderRadius:"0.5rem",border:"1px solid #bbf7d0"},children:[t.pendingRewards.toFixed(6)," NST"]}),i.jsxs("button",{onClick:P,disabled:d||t.pendingRewards<=0,style:{width:"100%",padding:"0.75rem",backgroundColor:d||t.pendingRewards<=0?"#94a3b8":"#10b981",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:d||t.pendingRewards<=0?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[i.jsx(fs,{size:16}),i.jsx("span",{children:"Claim Rewards"})]})]})]})]})}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsx("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:"600",fontSize:"1rem",color:"#1e293b",marginBottom:"0.25rem"},children:"Auto Compound"}),i.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b"},children:"Automatically reinvest rewards for compound growth"})]}),i.jsxs("button",{onClick:()=>c(!l),style:{padding:"0.75rem 1.5rem",backgroundColor:l?"#10b981":"#64748b",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},children:[l?i.jsx($2,{size:16}):i.jsx(O2,{size:16}),i.jsx("span",{children:l?"Enabled":"Disabled"})]})]})})}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[i.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(fs,{}),i.jsx("span",{children:"Earnings Projections"})]}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[{label:"Daily",value:B.daily,color:"#3b82f6"},{label:"Weekly",value:B.weekly,color:"#8b5cf6"},{label:"Monthly",value:B.monthly,color:"#10b981"},{label:"Yearly",value:B.yearly,color:"#f59e0b"}].map((R,H)=>i.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:R.label}),i.jsxs("div",{style:{fontSize:"1.125rem",fontWeight:"600",color:R.color},children:[R.value.toFixed(6)," NST"]})]},H))})]})}),i.jsx("div",{children:i.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[i.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(ru,{}),i.jsx("span",{children:"Global Statistics"})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[i.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Total Staked"}),i.jsxs("div",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b"},children:[t.totalStaked.toFixed(2)," NST"]})]}),i.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Total Stakers"}),i.jsx("div",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b"},children:t.totalStakers.toLocaleString()})]})]})]})})]})},T3=()=>{const e=Yt(),[t,r]=T.useState({fromToken:"NST",toToken:"ICP",fromAmount:"",toAmount:""}),[n,s]=T.useState({nst:0,icp:0}),[o,a]=T.useState({slippageTolerance:.5,transactionDeadline:20,expertMode:!1}),[l,c]=T.useState(!1),[d,b]=T.useState(!1),[x,m]=T.useState(""),h=T.useCallback(async()=>{if(!(!(e!=null&&e.principal)||!(e!=null&&e.backendService)))try{const[H,X]=await Promise.all([e.backendService.balanceOf(e.principal),e.backendService.getUserCryptoWallets()]);s({nst:Number(H)/1e8,icp:(X==null?void 0:X.icp)||0})}catch(H){console.error("Error loading balances:",H)}},[e==null?void 0:e.principal,e==null?void 0:e.backendService,t.fromToken,t.toToken]),y=T.useCallback((H,X,$)=>!H||H<=0?"":(H*(X==="NST"?.1:10)).toFixed(6),[]),N=H=>{r(X=>({...X,fromAmount:H,toAmount:y(H,X.fromToken,X.toToken)}))},W=H=>{r(X=>({...X,toAmount:H,fromAmount:y(H,X.toToken,X.fromToken)}))},w=()=>{r(H=>({fromToken:H.toToken,toToken:H.fromToken,fromAmount:H.toAmount,toAmount:H.fromAmount}))},k=async()=>{if(!(!t.fromAmount||!t.toAmount)){b(!0),m("");try{await new Promise(H=>setTimeout(H,2e3)),r({fromToken:"NST",toToken:"ICP",fromAmount:"",toAmount:""}),await h()}catch{m("Swap failed. Please try again.")}finally{b(!1)}}};T.useEffect(()=>{h()},[h]);const j=t.fromToken==="NST"?n.nst:n.icp,P=t.fromToken==="NST"?.1:10,C=.02,B=.001,R=t.toAmount?(Number(t.toAmount)*(1-o.slippageTolerance/100)).toFixed(6):"0";return i.jsxs("div",{className:"token-form",style:{maxWidth:"100%"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[i.jsxs("h3",{children:[i.jsx(_r,{style:{color:"#2563eb"}}),i.jsx("span",{children:"Swap Tokens"})]}),i.jsx("button",{onClick:()=>c(!l),className:"btn btn-text",style:{padding:"0.5rem"},children:i.jsx(ip,{})})]}),l&&i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#f9fafb",borderRadius:"0.5rem"},children:[i.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem"},children:"Swap Settings"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem"},children:[i.jsxs("div",{className:"token-form-group",children:[i.jsx("label",{className:"token-form-label",children:"Slippage Tolerance (%)"}),i.jsx("input",{type:"number",value:o.slippageTolerance,onChange:H=>a(X=>({...X,slippageTolerance:Number(H.target.value)})),className:"token-form-input",min:"0.1",max:"50",step:"0.1"})]}),i.jsxs("div",{className:"token-form-group",children:[i.jsx("label",{className:"token-form-label",children:"Transaction Deadline (minutes)"}),i.jsx("input",{type:"number",value:o.transactionDeadline,onChange:H=>a(X=>({...X,transactionDeadline:Number(H.target.value)})),className:"token-form-input",min:"1",max:"60"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",alignSelf:"end"},children:[i.jsx("input",{type:"checkbox",id:"expertMode",checked:o.expertMode,onChange:H=>a(X=>({...X,expertMode:H.target.checked}))}),i.jsx("label",{htmlFor:"expertMode",style:{fontSize:"0.875rem"},children:"Expert Mode"})]})]})]})}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gap:"1rem",alignItems:"end",backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.5rem",display:"block"},children:"From"}),i.jsxs("div",{style:{position:"relative",backgroundColor:"white",borderRadius:"0.75rem",border:"1px solid #e2e8f0",overflow:"hidden"},children:[i.jsx("input",{type:"number",placeholder:"0.0",value:t.fromAmount,onChange:H=>N(H.target.value),style:{width:"100%",padding:"1rem 4rem 1rem 1rem",border:"none",outline:"none",fontSize:"1rem",backgroundColor:"transparent"}}),i.jsxs("div",{style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b"},children:t.fromToken}),i.jsx("button",{onClick:()=>N(j.toString()),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontWeight:"500"},children:"MAX"})]})]}),i.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem",fontWeight:"500"},children:["Balance: ",j.toFixed(6)," ",t.fromToken]})]}),i.jsx("button",{onClick:w,style:{padding:"0.75rem",borderRadius:"50%",width:"3rem",height:"3rem",backgroundColor:"#f1f5f9",border:"1px solid #e2e8f0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b",transition:"all 0.2s"},onMouseOver:H=>{H.target.style.backgroundColor="#e2e8f0",H.target.style.color="#475569"},onMouseOut:H=>{H.target.style.backgroundColor="#f1f5f9",H.target.style.color="#64748b"},children:i.jsx(cl,{size:16})}),i.jsxs("div",{children:[i.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.5rem",display:"block"},children:"To"}),i.jsxs("div",{style:{position:"relative",backgroundColor:"white",borderRadius:"0.75rem",border:"1px solid #e2e8f0",overflow:"hidden"},children:[i.jsx("input",{type:"number",placeholder:"0.0",value:t.toAmount,onChange:H=>W(H.target.value),style:{width:"100%",padding:"1rem 4rem 1rem 1rem",border:"none",outline:"none",fontSize:"1rem",backgroundColor:"transparent"}}),i.jsx("div",{style:{position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)"},children:i.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b"},children:t.toToken})})]}),i.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem",fontWeight:"500"},children:["Balance: ",(t.toToken==="ICP"?n.icp:n.nst).toFixed(6)," ",t.toToken]})]})]})}),t.fromAmount&&t.toAmount&&i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{style:{backgroundColor:"#f9fafb",borderRadius:"0.75rem",padding:"1.5rem",fontSize:"0.875rem",border:"1px solid #e2e8f0"},children:[i.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1rem",color:"#1e293b"},children:"Swap Details"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"#64748b"},children:"Price"}),i.jsxs("span",{style:{fontWeight:"500"},children:["1 ",t.fromToken," = ",P," ",t.toToken]})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"#64748b"},children:"Price Impact"}),i.jsxs("span",{style:{color:"#64748b",fontWeight:"500"},children:[C,"%"]})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"#64748b"},children:"Network Fee"}),i.jsxs("span",{style:{fontWeight:"500"},children:[B," ICP"]})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"#64748b"},children:"Minimum Received"}),i.jsxs("span",{style:{fontWeight:"500"},children:[R," ",t.toToken]})]})]})]})}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsx("button",{onClick:k,disabled:d||!t.fromAmount||!t.toAmount||Number(t.fromAmount)>j,style:{width:"100%",padding:"1rem",fontSize:"1rem",fontWeight:"600",backgroundColor:d||!t.fromAmount||!t.toAmount||Number(t.fromAmount)>j?"#94a3b8":"#3b82f6",color:"white",border:"none",borderRadius:"0.75rem",cursor:d||!t.fromAmount||!t.toAmount||Number(t.fromAmount)>j?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"all 0.2s"},onMouseOver:H=>{!d&&t.fromAmount&&t.toAmount&&Number(t.fromAmount)<=j&&(H.target.style.backgroundColor="#2563eb")},onMouseOut:H=>{!d&&t.fromAmount&&t.toAmount&&Number(t.fromAmount)<=j&&(H.target.style.backgroundColor="#3b82f6")},children:d?i.jsxs(i.Fragment,{children:[i.jsx(_r,{style:{animation:"spin 1s linear infinite"}}),i.jsx("span",{children:"Swapping..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(fr,{}),i.jsxs("span",{children:["Swap ",t.fromToken," for ",t.toToken]})]})})}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:[x&&i.jsx("div",{style:{padding:"1rem",borderRadius:"0.75rem",backgroundColor:"#fef2f2",borderLeft:"4px solid #ef4444",color:"#991b1b",fontSize:"0.875rem",border:"1px solid #fecaca"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(ll,{}),i.jsx("span",{children:x})]})}),i.jsx("div",{style:{padding:"1rem",borderRadius:"0.75rem",backgroundColor:"#eff6ff",borderLeft:"4px solid #3b82f6",color:"#1e40af",fontSize:"0.875rem",border:"1px solid #bfdbfe"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(eu,{}),i.jsx("span",{children:"Swaps are executed instantly with minimal slippage"})]})})]})]})},E3=()=>{const e=Yt(),{theme:t}=bi(),[r,n]=T.useState(null),[s,o]=T.useState(null),[a,l]=T.useState(0),[c,d]=T.useState(null),[b,x]=T.useState(null),[m,h]=T.useState(""),[y,N]=T.useState("");T.useState(""),T.useState("");const[W,w]=T.useState(!1),[k,j]=T.useState(!1),[P,C]=T.useState(""),[B,R]=T.useState("overview"),[H,X]=T.useState([]),[$,Y]=T.useState(!0),[J,A]=T.useState(null),[U,V]=T.useState(null);T.useEffect(()=>{if(e&&e.user){const fe=new qa;n(fe)}},[e]),T.useEffect(()=>{r&&(e!=null&&e.principal)&&K()},[r,e==null?void 0:e.principal]),T.useEffect(()=>{if(!$||!r||!(e!=null&&e.principal))return;const fe=setInterval(()=>{K(!0)},3e4);return()=>clearInterval(fe)},[$,r,e==null?void 0:e.principal]);const K=T.useCallback(async(fe=!1)=>{if(!(!r||!(e!=null&&e.principal)))try{fe||j(!0),V(null),console.log("Loading token data for principal:",e.principal);const[F,ke,xe,ye,pe]=await Promise.all([r.getTokenMetadata(),r.balanceOf(e.principal),r.getTotalBalance(e.principal),r.getStakingInfo(e.principal),r.getTransferHistory(10,0)]);o(F),l(ke),d(xe),x(ye),X(pe),A(new Date),console.log("Token data loaded successfully:",{metadata:F,balance:ke,totalBalance:xe,stakingInfo:ye,historyCount:pe.length})}catch(F){console.error("Error loading token data:",F),V("Failed to load token data. Please try refreshing."),fe||C("Error loading token data")}finally{j(!1)}},[r,e==null?void 0:e.principal]),te=async()=>{C(""),await K()},Q=async()=>{if(!(!r||!m||!y))try{w(!0),C(""),V(null),console.log("Transferring tokens:",{to:y,amount:m});const fe=await r.transfer(y,BigInt(m));fe.ok?(C("Transfer successful!"),h(""),N(""),setTimeout(()=>K(!0),1e3)):V(`Transfer failed: ${fe.err}`)}catch(fe){console.error("Transfer error:",fe),V(`Transfer error: ${fe.message}`)}finally{w(!1)}},ne=async()=>{if(r)try{w(!0),C(""),V(null),console.log("Claiming rewards...");const fe=await r.claimRewards();fe.ok?(C(`Rewards claimed: ${fe.ok}`),setTimeout(()=>K(!0),1e3)):V(`Claim failed: ${fe.err}`)}catch(fe){console.error("Claim error:",fe),V(`Claim error: ${fe.message}`)}finally{w(!1)}},ue=fe=>fe?(Number(fe)/1e8).toFixed(8):"0",de=fe=>fe?`${fe.slice(0,6)}...${fe.slice(-4)}`:"",le=fe=>{if(!J)return"";const ke=new Date-J,xe=Math.floor(ke/1e3);if(xe<60)return`${xe}s ago`;const ye=Math.floor(xe/60);return ye<60?`${ye}m ago`:`${Math.floor(ye/60)}h ago`};return e?e.user?i.jsxs("div",{className:"token-dashboard",children:[i.jsxs("div",{className:"token-header",children:[i.jsxs("div",{className:"token-header-left",children:[i.jsx("div",{className:"token-icon",children:i.jsx(De,{})}),i.jsxs("div",{children:[i.jsx("h1",{className:"token-title",children:"Nisto Token"}),i.jsx("p",{className:"token-subtitle",children:"Manage your NST tokens and staking rewards"})]})]}),i.jsxs("div",{className:"token-header-actions",children:[i.jsxs("div",{className:"auto-refresh-control",children:[i.jsx("button",{onClick:()=>Y(!$),className:`btn btn-secondary ${$?"active":""}`,title:$?"Disable auto-refresh":"Enable auto-refresh",children:$?i.jsx(O2,{}):i.jsx($2,{})}),J&&i.jsxs("span",{className:"last-refresh",children:["Last: ",le()]})]}),i.jsxs("button",{onClick:te,disabled:k,className:"btn btn-primary",children:[i.jsx(_r,{style:{width:"1rem",height:"1rem",animation:k?"spin 1s linear infinite":"none"}}),i.jsx("span",{children:k?"Refreshing...":"Refresh"})]})]})]}),U&&i.jsx("div",{style:{marginBottom:"1.5rem",padding:"1rem",borderRadius:"0.5rem",backgroundColor:`${t.colors.error}10`,borderLeft:`4px solid ${t.colors.error}`,color:t.colors.error},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(ll,{style:{width:"1.25rem",height:"1.25rem"}}),i.jsx("span",{style:{fontWeight:"500"},children:U})]})}),P&&i.jsx("div",{style:{marginBottom:"1.5rem",padding:"1rem",borderRadius:"0.5rem",backgroundColor:`${t.colors.success}10`,borderLeft:`4px solid ${t.colors.success}`,color:t.colors.success},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Es,{style:{width:"1.25rem",height:"1.25rem"}}),i.jsx("span",{style:{fontWeight:"500"},children:P})]})}),W&&i.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"3rem"},children:i.jsx("div",{style:{width:"48px",height:"48px",border:`4px solid ${t.colors.border.secondary}`,borderTop:`4px solid ${t.colors.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite"}})}),s&&i.jsxs("div",{className:"token-stats-grid",children:[i.jsxs("div",{className:"token-stat-card",children:[i.jsxs("div",{className:"token-stat-header",children:[i.jsx("div",{className:"token-stat-icon",style:{backgroundColor:`${t.colors.primary}15`},children:i.jsx(De,{style:{color:t.colors.primary}})}),i.jsx("span",{className:"token-stat-label",children:"Total Supply"})]}),i.jsx("h3",{className:"token-stat-value",children:ue(s.totalSupply)}),i.jsx("p",{className:"token-stat-description",children:"NST Tokens"})]}),i.jsxs("div",{className:"token-stat-card",children:[i.jsxs("div",{className:"token-stat-header",children:[i.jsx("div",{className:"token-stat-icon",style:{backgroundColor:`${t.colors.success}10`},children:i.jsx(fr,{style:{color:t.colors.success}})}),i.jsx("span",{className:"token-stat-label",children:"Your Balance"})]}),i.jsx("h3",{className:"token-stat-value",children:ue(a)}),i.jsx("p",{className:"token-stat-description",children:"Available NST"})]}),c&&i.jsxs("div",{className:"token-stat-card",children:[i.jsxs("div",{className:"token-stat-header",children:[i.jsx("div",{className:"token-stat-icon",style:{backgroundColor:`${t.colors.primary}10`},children:i.jsx(Bg,{style:{color:t.colors.primary}})}),i.jsx("span",{className:"token-stat-label",children:"Staked"})]}),i.jsx("h3",{className:"token-stat-value",children:ue(c.stakedBalance)}),i.jsx("p",{className:"token-stat-description",children:"Staked NST"})]}),i.jsxs("div",{className:"token-stat-card",children:[i.jsxs("div",{className:"token-stat-header",children:[i.jsx("div",{className:"token-stat-icon",style:{backgroundColor:`${t.colors.warning}10`},children:i.jsx(fs,{style:{color:t.colors.warning}})}),i.jsx("span",{className:"token-stat-label",children:"Circulating"})]}),i.jsx("h3",{className:"token-stat-value",children:ue(s.circulatingSupply)}),i.jsx("p",{className:"token-stat-description",children:"In Circulation"})]})]}),i.jsxs("div",{className:"token-tabs",children:[i.jsx("div",{className:"token-tabs-nav",children:[{id:"overview",label:"Overview",icon:fs},{id:"transfer",label:"Transfer",icon:kr},{id:"swap",label:"Swap",icon:_r},{id:"staking",label:"Staking",icon:fr},{id:"history",label:"History",icon:Ia}].map(fe=>i.jsxs("button",{onClick:()=>R(fe.id),className:`token-tab ${B===fe.id?"active":""}`,children:[i.jsx(fe.icon,{}),i.jsx("span",{children:fe.label})]},fe.id))}),i.jsxs("div",{className:"token-tab-content",children:[B==="overview"&&i.jsxs("div",{className:"token-info-grid",children:[i.jsxs("div",{className:"token-info-card",children:[i.jsxs("h3",{children:[i.jsx(De,{style:{color:t.colors.primary}}),i.jsx("span",{children:"Token Information"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"token-info-item",children:[i.jsx("span",{className:"token-info-label",children:"Name"}),i.jsx("span",{className:"token-info-value",children:s==null?void 0:s.name})]}),i.jsxs("div",{className:"token-info-item",children:[i.jsx("span",{className:"token-info-label",children:"Symbol"}),i.jsx("span",{className:"token-info-value",children:s==null?void 0:s.symbol})]}),i.jsxs("div",{className:"token-info-item",children:[i.jsx("span",{className:"token-info-label",children:"Decimals"}),i.jsx("span",{className:"token-info-value",children:s==null?void 0:s.decimals})]}),i.jsxs("div",{className:"token-info-item",children:[i.jsx("span",{className:"token-info-label",children:"Status"}),i.jsx("span",{className:"token-info-value",style:{color:s!=null&&s.isPaused?t.colors.error:t.colors.success},children:s!=null&&s.isPaused?"Paused":"Active"})]})]})]}),b&&i.jsxs("div",{className:"token-info-card",children:[i.jsxs("h3",{children:[i.jsx(Bg,{style:{color:t.colors.primary}}),i.jsx("span",{children:"Staking Status"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"token-info-item",children:[i.jsx("span",{className:"token-info-label",children:"Status"}),i.jsx("span",{className:"token-info-value",style:{color:b.isStaking?t.colors.success:t.colors.text.secondary},children:b.isStaking?"Active":"Inactive"})]}),i.jsxs("div",{className:"token-info-item",children:[i.jsx("span",{className:"token-info-label",children:"Staked Amount"}),i.jsxs("span",{className:"token-info-value",children:[ue(b.stakedAmount)," NST"]})]}),i.jsxs("div",{className:"token-info-item",children:[i.jsx("span",{className:"token-info-label",children:"Total Rewards"}),i.jsxs("span",{className:"token-info-value",children:[ue(b.totalRewardsEarned)," NST"]})]}),i.jsxs("button",{onClick:ne,disabled:W,className:"btn btn-success",style:{width:"100%",marginTop:"1rem"},children:[i.jsx(hs,{style:{width:"1rem",height:"1rem"}}),"Claim Rewards"]})]})]})]}),B==="transfer"&&i.jsxs("div",{className:"token-form",children:[i.jsxs("h3",{children:[i.jsx(kr,{style:{color:t.colors.primary}}),i.jsx("span",{children:"Transfer Tokens"})]}),i.jsxs("div",{className:"token-form-group",children:[i.jsx("label",{className:"token-form-label",children:"Recipient Address"}),i.jsx("input",{type:"text",placeholder:"Enter principal ID",value:y,onChange:fe=>N(fe.target.value),className:"token-form-input"})]}),i.jsxs("div",{className:"token-form-group",children:[i.jsx("label",{className:"token-form-label",children:"Amount (NST)"}),i.jsx("input",{type:"number",placeholder:"Enter amount",value:m,onChange:fe=>h(fe.target.value),className:"token-form-input"})]}),i.jsxs("button",{onClick:Q,disabled:W||!m||!y,className:"btn btn-primary",style:{width:"100%"},children:[i.jsx(kr,{style:{width:"1rem",height:"1rem"}}),i.jsx("span",{children:"Send Tokens"})]})]}),B==="swap"&&i.jsx(T3,{}),B==="staking"&&i.jsx(j3,{}),B==="history"&&i.jsxs("div",{children:[i.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:t.colors.text.primary,marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Ia,{style:{color:t.colors.text.secondary}}),i.jsx("span",{children:"Recent Transactions"})]}),i.jsx("div",{children:H.length>0?H.map((fe,F)=>i.jsxs("div",{className:"token-history-item",children:[i.jsxs("div",{className:"token-history-left",children:[i.jsx("div",{className:"token-history-icon",children:i.jsx(kr,{})}),i.jsxs("div",{className:"token-history-details",children:[i.jsxs("h4",{children:[ue(fe.amount)," NST"]}),i.jsxs("p",{children:["To: ",de(fe.to)]})]})]}),i.jsxs("div",{className:"token-history-time",children:[i.jsx("p",{className:"token-history-date",children:new Date(Number(fe.timestamp)/1e6).toLocaleDateString()}),i.jsx("p",{className:"token-history-time-text",children:new Date(Number(fe.timestamp)/1e6).toLocaleTimeString()})]})]},F)):i.jsxs("div",{className:"token-empty-state",children:[i.jsx(fs,{}),i.jsx("h4",{children:"No transactions yet"}),i.jsx("p",{children:"Your transaction history will appear here"})]})})]})]})]})]}):i.jsx("div",{className:"token-dashboard",children:i.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[i.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),i.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:t.colors.text.primary,marginBottom:"0.5rem"},children:"Authentication Required"}),i.jsx("p",{style:{color:t.colors.text.secondary},children:"Please log in to access the token dashboard"})]})}):i.jsx("div",{className:"token-dashboard",children:i.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[i.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),i.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:"600",color:t.colors.text.primary,marginBottom:"0.5rem"},children:"Loading..."}),i.jsx("p",{style:{color:t.colors.text.secondary},children:"Please wait while we initialize the authentication"})]})})};function _3(e){return ve({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 0 0-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zM512 734.2c-62.1 0-112.6-50.5-112.6-112.6S449.9 509 512 509s112.6 50.5 112.6 112.6S574.1 734.2 512 734.2zm0-160.9c-26.6 0-48.2 21.6-48.2 48.3 0 26.6 21.6 48.3 48.2 48.3s48.2-21.6 48.2-48.3c0-26.6-21.6-48.3-48.2-48.3z"},child:[]}]})(e)}function C3({vault:e,details:t,onBack:r,user:n,showToast:s}){var Be,Ce,$e,He,Hn,Kr,qn,In,Gn,zt,Ms,wi,vi,Os,Le,$s,Si,Us;const{theme:o}=bi(),a=po.useRef(new qa).current;T.useEffect(()=>{const G=document.createElement("style");return G.textContent=`
      @keyframes typing {
        0%, 60%, 100% {
          transform: translateY(0);
          opacity: 0.4;
        }
        30% {
          transform: translateY(-10px);
          opacity: 1;
        }
      }
      
      @keyframes pulse {
        0%, 100% {
          opacity: 1;
          transform: translateX(-50%) scale(1);
        }
        50% {
          opacity: 0.8;
          transform: translateX(-50%) scale(1.05);
        }
      }
      
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes slideUp {
        from { 
          opacity: 0;
          transform: translateY(30px) scale(0.95);
        }
        to { 
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
    `,document.head.appendChild(G),()=>{document.head.removeChild(G)}},[]);const{depositToVault:l,withdrawFromVault:c,editGroupVault:d,deleteGroupVault:b,inviteVaultMember:x,removeVaultMember:m,changeVaultMemberRole:h,toggleVaultPrivacy:y}=Yt(),[N,W]=T.useState("overview"),[w,k]=T.useState(!1),[j,P]=T.useState(!1),[C,B]=T.useState(!1),[R,H]=T.useState(!1),[X,$]=T.useState(!1),[Y,J]=T.useState(!1),[A,U]=T.useState(null),[V,K]=T.useState(""),[te,Q]=T.useState(""),[ne,ue]=T.useState(""),[de,le]=T.useState("");T.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",currency:(e==null?void 0:e.currency)||"",targetAmount:(e==null?void 0:e.targetAmount)||"",isPublic:(e==null?void 0:e.isPublic)||!1});const[fe,F]=T.useState(""),[ke,xe]=T.useState("member"),[ye,pe]=T.useState([]),[me,M]=T.useState(""),[q,L]=T.useState(!1),[re,Z]=T.useState(!1),[D,S]=T.useState([]),[f,p]=T.useState(!1),[E,O]=T.useState(0);T.useEffect(()=>{(async()=>{try{await a.init()}catch(Se){console.error("Failed to initialize backend service:",Se)}})()},[a]);const[_,ie]=T.useState(null),he=T.useRef(null),we=(e==null?void 0:e.ownerId)===(n==null?void 0:n.principal),z=(Be=t==null?void 0:t.members)==null?void 0:Be.some(G=>G.userId===(n==null?void 0:n.principal)&&G.role==="admin");T.useEffect(()=>{if(X&&(e!=null&&e.id)&&(n!=null&&n.username)){const G=async()=>{try{console.log("Loading messages for vault:",e.id),console.log("Current user:",n),console.log("User principal:",n==null?void 0:n.id);const Fe=await a.getVaultMessages(e.id,50,0);Fe.ok?pe(Fe.ok):(console.error("Failed to load messages:",Fe.err),s("Failed to load chat messages","error"))}catch(Fe){console.error("Error loading messages:",Fe),s("Error loading chat messages","error")}};G();const Se=setInterval(G,5e3);return()=>clearInterval(Se)}},[X,e==null?void 0:e.id,n==null?void 0:n.username,s]),T.useEffect(()=>{he.current&&ye.length>0&&(setTimeout(()=>{he.current.scrollTop=he.current.scrollHeight},100),_&&ye.length>0&&ye[ye.length-1].id!==_&&O(Fe=>Fe+1))},[ye,_]),T.useEffect(()=>{if(re){const G=setTimeout(()=>{Z(!1),S(Se=>Se.filter(Fe=>Fe!==(n==null?void 0:n.principal)))},3e3);return()=>clearTimeout(G)}},[re,n]),T.useEffect(()=>{if(X&&(e!=null&&e.id)){const G=async()=>{try{const Fe=await a.getTypingIndicators(e.id);if(Fe.ok){const Ze=Fe.ok.filter(Ae=>Ae.isTyping&&Ae.userId!==(n==null?void 0:n.principal)).map(Ae=>Ae.userId);S(Ze)}}catch(Fe){console.error("Error loading typing indicators:",Fe)}},Se=setInterval(G,2e3);return G(),()=>clearInterval(Se)}},[X,e==null?void 0:e.id,n==null?void 0:n.principal]),T.useEffect(()=>{const G=he.current;if(!G)return;const Se=()=>{const{scrollTop:Fe,scrollHeight:Ze,clientHeight:Ae}=G,fn=Ze-Fe-Ae<100;if(p(!fn),fn&&E>0&&(O(0),ye.length>0&&(ie(ye[ye.length-1].id),e!=null&&e.id))){const ki=ye.map(Yn=>Yn.id);a.markMessagesAsRead(e.id,ki).catch(Yn=>{console.error("Error marking messages as read:",Yn)})}};return G.addEventListener("scroll",Se),()=>G.removeEventListener("scroll",Se)},[X,E,ye]);const ee=()=>{he.current&&he.current.scrollTo({top:he.current.scrollHeight,behavior:"smooth"})},v=async G=>{G.preventDefault(),J(!0),U(null);try{const Se=await l(e.id,parseFloat(V),te);Se.ok?(k(!1),K(""),Q(""),s({message:"Deposit successful!",type:"success",icon:i.jsx(Nt,{})}),r()):U(Se.err||"Failed to deposit")}catch{U("Failed to deposit"),s({message:"Deposit failed",type:"error",icon:i.jsx(ot,{})})}finally{J(!1)}},u=async G=>{G.preventDefault(),J(!0),U(null);try{const Se=await c(e.id,parseFloat(ne),de);Se.ok?(P(!1),ue(""),le(""),s({message:"Withdrawal successful!",type:"success",icon:i.jsx(Nt,{})}),r()):U(Se.err||"Failed to withdraw")}catch{U("Failed to withdraw"),s({message:"Withdrawal failed",type:"error",icon:i.jsx(ot,{})})}finally{J(!1)}},g=async G=>{if(G.preventDefault(),me.trim()&&(e!=null&&e.id))try{const Se=await a.sendVaultMessage(e.id,me.trim(),"Text",null);Se.ok?(pe(Fe=>[...Fe,Se.ok]),M(""),Z(!1),S(Fe=>Fe.filter(Ze=>Ze!==(n==null?void 0:n.principal)))):(console.error("Failed to send message:",Se.err),s("Failed to send message","error"))}catch(Se){console.error("Error sending message:",Se),s("Error sending message","error")}},I=async G=>{if(M(G.target.value),!re&&G.target.value.length>0){if(Z(!0),S(Se=>[...Se,n==null?void 0:n.principal]),e!=null&&e.id)try{await a.updateTypingStatus(e.id,!0)}catch(Se){console.error("Error updating typing status:",Se)}}else if(re&&G.target.value.length===0&&(Z(!1),S(Se=>Se.filter(Fe=>Fe!==(n==null?void 0:n.principal))),e!=null&&e.id))try{await a.updateTypingStatus(e.id,!1)}catch(Se){console.error("Error updating typing status:",Se)}},se=G=>{let Se;typeof G=="bigint"?Se=Number(G)/1e6:typeof G=="string"&&G.endsWith("n")?Se=parseInt(G.slice(0,-1))/1e6:Se=G;const Fe=new Date(Se),Ae=new Date-Fe;return Ae<6e4?"Just now":Ae<36e5?`${Math.floor(Ae/6e4)}m ago`:Ae<864e5?`${Math.floor(Ae/36e5)}h ago`:Fe.toLocaleDateString()},ce=G=>{let Se;return typeof G=="bigint"?Se=Number(G)/1e6:typeof G=="string"&&G.endsWith("n")?Se=parseInt(G.slice(0,-1))/1e6:Se=G,new Date(Se).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},ae=G=>{const Se=[o.colors.primary,o.colors.success,o.colors.warning,o.colors.error,o.colors.info,o.colors.primary];if(!G)return Se[0];const Fe=G.toString().split("").reduce((Ze,Ae)=>Ze+Ae.charCodeAt(0),0)%Se.length;return Se[Fe]},Te=(G,Se)=>{pe(Fe=>Fe.map(Ze=>{var Ae;return Ze.id===G?{...Ze,reactions:{...Ze.reactions,[Se]:(((Ae=Ze.reactions)==null?void 0:Ae[Se])||0)+1}}:Ze}))},Re=G=>{if(!G)return"";const Se=/(https?:\/\/[^\s]+)/g;return G.split(Se).map((Ze,Ae)=>Se.test(Ze)?i.jsx("a",{href:Ze,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline"},children:Ze},Ae):Ze)};return i.jsxs("div",{className:"vault-details-container",style:{width:"100%",height:"100vh",background:`linear-gradient(135deg, ${o.colors.success}10 0%, ${o.colors.success}05 100%)`,overflow:"hidden",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[i.jsxs("div",{style:{background:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`,color:"white",padding:"1.5rem 2rem",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(7, 91, 94, 0.25)",position:"sticky",top:0,zIndex:100,borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[i.jsx("button",{onClick:r,style:{background:"rgba(255,255,255,0.15)",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},onMouseEnter:G=>G.target.style.background="rgba(255,255,255,0.25)",onMouseLeave:G=>G.target.style.background="rgba(255,255,255,0.15)",children:i.jsx(i3,{size:18})}),i.jsxs("div",{children:[i.jsx("h1",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,lineHeight:"1.2"},children:e==null?void 0:e.name}),i.jsx("p",{style:{margin:"0.25rem 0 0 0",opacity:.9,fontSize:"0.85rem",lineHeight:"1.3"},children:e==null?void 0:e.description})]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i.jsxs("button",{onClick:()=>$(!X),style:{background:X?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)",border:"none",borderRadius:8,padding:"0.5rem 1rem",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.9rem",transition:"all 0.2s",boxShadow:X?"0 2px 8px rgba(0,0,0,0.2)":"none"},onMouseEnter:G=>G.target.style.background="rgba(255,255,255,0.25)",onMouseLeave:G=>G.target.style.background=X?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)",children:[i.jsx(hf,{size:16}),"Chat ",X&&""]}),we&&i.jsxs("button",{onClick:()=>B(!0),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:8,padding:"0.5rem 1rem",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.9rem",transition:"all 0.2s"},onMouseEnter:G=>G.target.style.background="rgba(255,255,255,0.2)",onMouseLeave:G=>G.target.style.background="rgba(255,255,255,0.1)",children:[i.jsx(gi,{size:16}),"Edit"]})]})]}),i.jsxs("div",{style:{display:"flex",height:"calc(100vh - 90px)"},children:[i.jsxs("div",{style:{flex:1,padding:"2rem",overflow:"auto"},children:[i.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",borderBottom:"2px solid rgba(59,130,246,0.1)",paddingBottom:"0.5rem"},children:["overview","members","transactions","governance"].map(G=>i.jsxs("button",{onClick:()=>W(G),className:`tab-button ${N===G?"active":""}`,style:{background:N===G?`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`:"transparent",color:N===G?o.colors.white:o.colors.text.secondary,border:"none",padding:"0.75rem 1.5rem",borderRadius:"12px 12px 0 0",cursor:"pointer",fontWeight:600,textTransform:"capitalize",transition:"all 0.3s ease",position:"relative"},children:[G==="overview"&&i.jsx(Ga,{size:16,style:{marginRight:"0.5rem"}}),G==="members"&&i.jsx(co,{size:16,style:{marginRight:"0.5rem"}}),G==="transactions"&&i.jsx(zg,{size:16,style:{marginRight:"0.5rem"}}),G==="governance"&&i.jsx(ht,{size:16,style:{marginRight:"0.5rem"}}),G]},G))}),N==="overview"&&i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[i.jsxs("div",{className:"vault-card",style:{padding:"2rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[i.jsx("div",{style:{width:48,height:48,background:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:o.colors.white},children:i.jsx(fr,{size:24})}),i.jsxs("div",{children:[i.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:o.colors.text.primary},children:"Vault Statistics"}),i.jsx("p",{style:{margin:"0.25rem 0 0 0",color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Real-time vault metrics"})]})]}),i.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[i.jsxs("div",{className:"vault-stat",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[i.jsx("span",{style:{color:o.colors.text.secondary,fontSize:"0.9rem",fontWeight:500},children:"Total Balance"}),i.jsx("span",{className:"status-badge success",children:e!=null&&e.isPublic?"Public":"Private"})]}),i.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:700,color:o.colors.success},children:[(e==null?void 0:e.totalBalance)||0," ",e==null?void 0:e.currency]}),i.jsx("div",{style:{fontSize:"0.8rem",color:o.colors.text.secondary,marginTop:"0.25rem"},children:"Available for transactions"})]}),i.jsxs("div",{className:"vault-stat",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[i.jsx("span",{style:{color:o.colors.text.secondary,fontSize:"0.9rem",fontWeight:500},children:"Target Amount"}),i.jsx(ru,{size:16,color:o.colors.text.secondary})]}),i.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:600,color:o.colors.text.primary},children:[(e==null?void 0:e.targetAmount)||"N/A"," ",e==null?void 0:e.currency]}),(e==null?void 0:e.targetAmount)&&i.jsxs("div",{style:{marginTop:"0.5rem"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:o.colors.text.secondary,marginBottom:"0.25rem"},children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[Math.round((e==null?void 0:e.totalBalance)/(e==null?void 0:e.targetAmount)*100),"%"]})]}),i.jsx("div",{style:{background:o.colors.border.primary,height:"6px",borderRadius:"3px",overflow:"hidden"},children:i.jsx("div",{className:"progress-bar",style:{width:`${Math.min((e==null?void 0:e.totalBalance)/(e==null?void 0:e.targetAmount)*100,100)}%`,height:"100%"}})})]})]}),i.jsxs("div",{className:"vault-stat",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[i.jsx("span",{style:{color:o.colors.text.secondary,fontSize:"0.9rem",fontWeight:500},children:"Members"}),i.jsx(co,{size:16,color:o.colors.text.secondary})]}),i.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:o.colors.text.primary},children:(($e=(Ce=t==null?void 0:t.ok)==null?void 0:Ce.members)==null?void 0:$e.length)||((He=t==null?void 0:t.members)==null?void 0:He.length)||0}),i.jsx("div",{style:{fontSize:"0.8rem",color:o.colors.text.secondary,marginTop:"0.25rem"},children:"Active participants"})]}),i.jsxs("div",{className:"vault-stat",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[i.jsx("span",{style:{color:o.colors.text.secondary,fontSize:"0.9rem",fontWeight:500},children:"Status"}),e!=null&&e.isPublic?i.jsx(g3,{size:16,color:o.colors.success}):i.jsx(tu,{size:16,color:o.colors.warning})]}),i.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:e!=null&&e.isPublic?o.colors.success:o.colors.warning,display:"flex",alignItems:"center",gap:"0.5rem"},children:e!=null&&e.isPublic?"Public":"Private"}),i.jsx("div",{style:{fontSize:"0.8rem",color:o.colors.text.secondary,marginTop:"0.25rem"},children:e!=null&&e.isPublic?"Anyone can join":"Invitation only"})]})]})]}),i.jsxs("div",{className:"vault-card",style:{padding:"2rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[i.jsx("div",{style:{width:48,height:48,background:`linear-gradient(135deg, ${o.colors.success} 0%, ${o.colors.success}dd 100%)`,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:i.jsx(_o,{size:24})}),i.jsxs("div",{children:[i.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:o.colors.text.primary},children:"Quick Actions"}),i.jsx("p",{style:{margin:"0.25rem 0 0 0",color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Manage your vault"})]})]}),i.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[i.jsxs("button",{onClick:()=>k(!0),style:{background:`linear-gradient(135deg, ${o.colors.success} 0%, ${o.colors.success}dd 100%)`,color:"white",border:"none",borderRadius:"12px",padding:"1rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",fontSize:"1rem",fontWeight:600,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:G=>{G.target.style.transform="translateY(-2px)",G.target.style.boxShadow="0 6px 20px rgba(16, 185, 129, 0.4)"},onMouseLeave:G=>{G.target.style.transform="translateY(0)",G.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.3)"},children:[i.jsx("div",{style:{width:24,height:24,background:"rgba(255,255,255,0.2)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(pd,{size:16})}),i.jsx("span",{children:"Deposit Funds"})]}),i.jsxs("button",{onClick:()=>P(!0),style:{background:`linear-gradient(135deg, ${o.colors.warning} 0%, ${o.colors.warning}dd 100%)`,color:"white",border:"none",borderRadius:"12px",padding:"1rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",fontSize:"1rem",fontWeight:600,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:G=>{G.target.style.transform="translateY(-2px)",G.target.style.boxShadow="0 6px 20px rgba(245, 158, 11, 0.4)"},onMouseLeave:G=>{G.target.style.transform="translateY(0)",G.target.style.boxShadow="0 4px 12px rgba(245, 158, 11, 0.3)"},children:[i.jsx("div",{style:{width:24,height:24,background:"rgba(255,255,255,0.2)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(md,{size:16})}),i.jsx("span",{children:"Withdraw Funds"})]}),i.jsxs("button",{onClick:()=>H(!0),style:{background:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`,color:"white",border:"none",borderRadius:"12px",padding:"1rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",fontSize:"1rem",fontWeight:600,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:G=>{G.target.style.transform="translateY(-2px)",G.target.style.boxShadow="0 6px 20px rgba(59, 130, 246, 0.4)"},onMouseLeave:G=>{G.target.style.transform="translateY(0)",G.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.3)"},children:[i.jsx("div",{style:{width:24,height:24,background:"rgba(255,255,255,0.2)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(gf,{size:16})}),i.jsx("span",{children:"Invite Member"})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem",marginTop:"0.5rem"},children:[i.jsxs("button",{onClick:()=>$(!X),style:{background:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`,color:"white",border:"none",borderRadius:"12px",padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.9rem",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"},onMouseEnter:G=>G.target.style.transform="translateY(-2px)",onMouseLeave:G=>G.target.style.transform="translateY(0)",children:[i.jsx(hf,{size:16}),"Chat"]}),i.jsxs("button",{onClick:()=>B(!0),style:{background:`linear-gradient(135deg, ${o.colors.text.secondary} 0%, ${o.colors.text.secondary}dd 100%)`,color:"white",border:"none",borderRadius:"12px",padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.9rem",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(107, 114, 128, 0.3)"},onMouseEnter:G=>G.target.style.transform="translateY(-2px)",onMouseLeave:G=>G.target.style.transform="translateY(0)",children:[i.jsx(ip,{size:16}),"Settings"]})]})]})]})]}),N==="members"&&i.jsxs("div",{className:"vault-card",style:{padding:"2rem"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[i.jsx("div",{style:{width:48,height:48,background:`linear-gradient(135deg, ${o.colors.warning} 0%, ${o.colors.warning}dd 100%)`,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:i.jsx(co,{size:24})}),i.jsxs("div",{children:[i.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:o.colors.text.primary},children:"Vault Members"}),i.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:o.colors.text.secondary,fontSize:"0.9rem"},children:[(((Hn=t==null?void 0:t.ok)==null?void 0:Hn.members)||(t==null?void 0:t.members)||[]).length," ","active members"]})]})]}),i.jsxs("button",{onClick:()=>H(!0),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",padding:"0.75rem 1.25rem"},children:[i.jsx(gf,{size:16}),"Invite Member"]})]}),i.jsx("div",{style:{display:"grid",gap:"1rem"},children:(((Kr=t==null?void 0:t.ok)==null?void 0:Kr.members)||(t==null?void 0:t.members)||[]).map(G=>i.jsx("div",{className:"member-card",children:i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[i.jsx("div",{style:{width:48,height:48,borderRadius:"50%",background:G.role==="owner"?`linear-gradient(135deg, ${o.colors.warning} 0%, ${o.colors.warning}dd 100%)`:G.role==="admin"?`linear-gradient(135deg, ${o.colors.success} 0%, ${o.colors.success}dd 100%)`:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:G.role==="owner"?i.jsx(_3,{size:20}):G.role==="admin"?i.jsx(ht,{size:20}):i.jsx(co,{size:20})}),i.jsxs("div",{children:[i.jsxs("div",{style:{fontWeight:600,color:o.colors.text.primary,fontSize:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[G.userId===(n==null?void 0:n.principal)?"You":`User ${G.userId.toString().slice(0,8)}...`,G.userId===(n==null?void 0:n.principal)&&i.jsx("span",{style:{background:o.colors.success,color:"white",padding:"0.125rem 0.5rem",borderRadius:"8px",fontSize:"0.7rem",fontWeight:600},children:"YOU"})]}),i.jsxs("div",{style:{fontSize:"0.85rem",color:o.colors.text.secondary,display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsxs("span",{children:["Joined ",ce(G.joinedAt)]}),i.jsx("span",{children:""}),i.jsx("span",{style:{background:G.role==="owner"?"rgba(251, 191, 36, 0.1)":G.role==="admin"?"rgba(16, 185, 129, 0.1)":"rgba(59, 130, 246, 0.1)",color:G.role==="owner"?o.colors.warning:G.role==="admin"?o.colors.success:o.colors.primary,padding:"0.125rem 0.5rem",borderRadius:"6px",fontSize:"0.75rem",fontWeight:600,textTransform:"capitalize"},children:G.role})]})]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx("button",{style:{background:`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,border:"none",borderRadius:"8px",padding:"0.5rem",cursor:"pointer",color:o.colors.primary,transition:"all 0.2s"},onMouseEnter:Se=>Se.target.style.background=`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.2)`,onMouseLeave:Se=>Se.target.style.background=`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,title:"View Profile",children:i.jsx(Ga,{size:16})}),(we||z)&&G.role!=="owner"&&i.jsx("button",{style:{background:`rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.1)`,border:"none",borderRadius:"8px",padding:"0.5rem",cursor:"pointer",color:o.colors.error,transition:"all 0.2s"},onMouseEnter:Se=>Se.target.style.background=`rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.2)`,onMouseLeave:Se=>Se.target.style.background=`rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.1)`,title:"Remove Member",children:i.jsx(W2,{size:16})})]})]})},G.id))})]}),N==="transactions"&&i.jsxs("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[i.jsx("h3",{style:{margin:"0 0 1rem 0",color:o.colors.text.primary},children:"Transaction History"}),i.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:o.colors.text.secondary},children:[i.jsx(zg,{size:48,style:{marginBottom:"1rem",opacity:.5}}),i.jsx("p",{children:"No transactions yet"}),i.jsx("p",{style:{fontSize:"0.9rem"},children:"Transactions will appear here when members deposit or withdraw"})]})]}),N==="governance"&&i.jsxs("div",{style:{background:"white",borderRadius:12,padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[i.jsx("h3",{style:{margin:"0 0 1rem 0",color:o.colors.text.primary},children:"Governance"}),i.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:o.colors.text.secondary},children:[i.jsx(ht,{size:48,style:{marginBottom:"1rem",opacity:.5}}),i.jsx("p",{children:"No proposals yet"}),i.jsx("p",{style:{fontSize:"0.9rem"},children:"Proposals will appear here when members suggest changes"})]})]})]}),X&&i.jsxs("div",{style:{width:q?"450px":"380px",background:`linear-gradient(135deg, ${o.colors.white} 0%, ${o.colors.white} 100%)`,borderLeft:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,display:"flex",flexDirection:"column",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"-4px 0 20px rgba(0,0,0,0.1)",animation:"slideInRight 0.3s ease-out"},children:[i.jsxs("div",{style:{padding:"1.25rem",borderBottom:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,background:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`,color:"white",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 2px 8px rgba(139, 92, 246, 0.2)"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[i.jsx("div",{style:{width:40,height:40,background:"rgba(255,255,255,0.2)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(hf,{size:20})}),i.jsxs("div",{children:[i.jsx("h4",{style:{margin:0,fontSize:"1.1rem",fontWeight:700},children:"Vault Chat"}),i.jsxs("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.85rem",opacity:.9},children:[((In=(qn=t==null?void 0:t.ok)==null?void 0:qn.members)==null?void 0:In.length)||((Gn=t==null?void 0:t.members)==null?void 0:Gn.length)||0," ","members  ",ye.length," messages"]})]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx("button",{onClick:()=>L(!q),style:{background:`rgba(${o.colors.white.r}, ${o.colors.white.g}, ${o.colors.white.b}, 0.1)`,border:"none",borderRadius:6,padding:"0.5rem",cursor:"pointer",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},title:q?"Collapse":"Expand",children:q?i.jsx(gd,{size:16}):i.jsx(s3,{size:16})}),i.jsx("button",{onClick:()=>$(!1),style:{background:`rgba(${o.colors.white.r}, ${o.colors.white.g}, ${o.colors.white.b}, 0.1)`,border:"none",borderRadius:6,padding:"0.5rem",cursor:"pointer",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(ot,{size:16})})]})]}),i.jsx("div",{style:{padding:"0.75rem 1rem",borderBottom:`1px solid ${o.colors.border.primary}`,background:o.colors.background.secondary},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[i.jsx("span",{style:{fontSize:"0.8rem",color:o.colors.text.secondary,fontWeight:600},children:"Online:"}),(((zt=t==null?void 0:t.ok)==null?void 0:zt.members)||(t==null?void 0:t.members)||[]).slice(0,3).map((G,Se)=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",background:"white",padding:"0.25rem 0.5rem",borderRadius:12,border:`1px solid ${o.colors.border.primary}`},children:[i.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:o.colors.success,marginRight:"0.25rem"}}),i.jsx("span",{style:{fontSize:"0.75rem",color:o.colors.text.primary},children:G.userId===(n==null?void 0:n.principal)?"You":`User ${Se+1}`})]},G.id)),(((Ms=t==null?void 0:t.ok)==null?void 0:Ms.members)||(t==null?void 0:t.members)||[]).length>3&&i.jsxs("span",{style:{fontSize:"0.75rem",color:o.colors.text.secondary},children:["+",(((wi=t==null?void 0:t.ok)==null?void 0:wi.members)||(t==null?void 0:t.members)||[]).length-3," ","more"]})]})}),i.jsxs("div",{ref:he,style:{flex:1,padding:"1rem",overflowY:"auto",overflowX:"hidden",background:o.colors.background.secondary,maxHeight:"calc(100vh - 300px)",scrollBehavior:"smooth",position:"relative"},children:[f&&i.jsxs("button",{onClick:ee,style:{position:"absolute",bottom:"1rem",right:"1rem",background:E>0?o.colors.warning:o.colors.primary,color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:`0 2px 8px rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.2)`,zIndex:10,transition:"all 0.2s",position:"relative"},onMouseEnter:G=>G.target.style.transform="scale(1.1)",onMouseLeave:G=>G.target.style.transform="scale(1)",children:[i.jsx(gd,{size:16}),E>0&&i.jsx("div",{style:{position:"absolute",top:"-5px",right:"-5px",background:o.colors.error,color:"white",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",border:"2px solid white"},children:E>9?"9+":E})]}),E>0&&!f&&i.jsxs("div",{style:{position:"absolute",bottom:"1rem",left:"50%",transform:"translateX(-50%)",background:`rgba(${o.colors.warning.r}, ${o.colors.warning.g}, ${o.colors.warning.b}, 1)`,color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",boxShadow:`0 2px 8px rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.2)`,zIndex:10,animation:"pulse 2s infinite"},onClick:ee,children:[E," new message",E>1?"s":""," "]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[ye.map((G,Se)=>{var Fe,Ze;return i.jsxs("div",{style:{display:"flex",flexDirection:G.userId===(n==null?void 0:n.principal)?"row-reverse":"row",gap:"0.75rem",opacity:G.messageType==="System"||G.type==="system"?.7:1},children:[i.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:G.messageType==="System"||G.type==="system"?`rgba(${o.colors.border.primary.r}, ${o.colors.border.primary.g}, ${o.colors.border.primary.b}, 1)`:ae(G.userId),display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.8rem",fontWeight:600,flexShrink:0},children:G.messageType==="System"||G.type==="system"?"":((Ze=(Fe=G.userName)==null?void 0:Fe.charAt(0))==null?void 0:Ze.toUpperCase())||"U"}),i.jsxs("div",{style:{maxWidth:"70%",display:"flex",flexDirection:"column",gap:"0.25rem"},children:[G.messageType!=="System"&&G.type!=="system"&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:G.userId===(n==null?void 0:n.principal)?"flex-end":"flex-start"},children:[i.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:G.userId===(n==null?void 0:n.principal)?o.colors.primary:o.colors.text.secondary},children:G.userName}),i.jsx("span",{style:{fontSize:"0.7rem",color:o.colors.text.secondary},children:se(G.timestamp)})]}),i.jsxs("div",{style:{background:G.messageType==="System"||G.type==="system"?o.colors.background.secondary:G.userId===(n==null?void 0:n.principal)?`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 1)`:`rgba(${o.colors.white.r}, ${o.colors.white.g}, ${o.colors.white.b}, 1)`,color:G.messageType==="System"||G.type==="system"?o.colors.text.secondary:G.userId===(n==null?void 0:n.principal)?o.colors.white:o.colors.text.secondary,padding:G.messageType==="System"||G.type==="system"?"0.5rem 0.75rem":"0.75rem 1rem",borderRadius:G.messageType==="System"||G.type==="system"?8:12,fontSize:"0.9rem",border:G.messageType!=="System"&&G.type!=="system"&&G.userId!==(n==null?void 0:n.principal)?`1px solid rgba(${o.colors.border.primary.r}, ${o.colors.border.primary.g}, ${o.colors.border.primary.b}, 1)`:"none",boxShadow:G.messageType!=="System"&&G.type!=="system"?`0 1px 3px rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.1)`:"none",position:"relative"},children:[i.jsx("div",{style:{lineHeight:"1.4"},children:Re(G.content||G.message||"")}),G.reactions&&Object.keys(G.reactions).length>0&&i.jsx("div",{style:{display:"flex",gap:"0.25rem",marginTop:"0.5rem",flexWrap:"wrap"},children:Object.entries(G.reactions).map(([Ae,fn])=>i.jsxs("button",{onClick:()=>Te(G.id,Ae),style:{background:`rgba(${o.colors.border.primary.r}, ${o.colors.border.primary.g}, ${o.colors.border.primary.b}, 0.2)`,border:"none",borderRadius:12,padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem",color:"inherit"},children:[i.jsx("span",{children:Ae}),i.jsx("span",{style:{fontSize:"0.7rem",opacity:.8},children:fn})]},Ae))}),G.type!=="system"&&i.jsx("button",{onClick:()=>Te(G.id,""),style:{position:"absolute",top:"0.25rem",right:"0.25rem",background:`rgba(${o.colors.border.primary.r}, ${o.colors.border.primary.g}, ${o.colors.border.primary.b}, 0.1)`,border:"none",borderRadius:4,padding:"0.25rem",cursor:"pointer",opacity:0,transition:"opacity 0.2s",fontSize:"0.8rem"},onMouseEnter:Ae=>Ae.target.style.opacity="1",onMouseLeave:Ae=>Ae.target.style.opacity="0",children:""})]})]})]},G.id||Se)}),D.length>0&&i.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end",padding:"0.5rem 0"},children:[i.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:o.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i.jsx("span",{style:{fontSize:"0.8rem"},children:""})}),i.jsx("div",{style:{background:"white",padding:"0.75rem 1rem",borderRadius:12,border:`1px solid ${o.colors.border.primary}`,boxShadow:`0 1px 3px rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.1)`},children:i.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[i.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:o.colors.text.secondary,animation:"typing 1.4s infinite ease-in-out"}}),i.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:o.colors.text.secondary,animation:"typing 1.4s infinite ease-in-out 0.2s"}}),i.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:o.colors.text.secondary,animation:"typing 1.4s infinite ease-in-out 0.4s"}})]})})]})]})]}),i.jsxs("form",{onSubmit:g,style:{padding:"1.25rem",borderTop:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,background:"white",boxShadow:`0 -2px 8px rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.05)`},children:[i.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end"},children:[i.jsx("div",{style:{flex:1},children:i.jsx("textarea",{value:me,onChange:I,placeholder:"Type a message...",className:"chat-input",style:{width:"100%",minHeight:"44px",maxHeight:"120px",padding:"0.875rem 1rem",border:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,borderRadius:"12px",fontSize:"0.9rem",resize:"none",fontFamily:"inherit",outline:"none",background:`linear-gradient(135deg, ${o.colors.border.primary} 0%, ${o.colors.border.primary} 100%)`,transition:"all 0.3s ease"},onKeyDown:G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),g(G))}})}),i.jsx("button",{type:"submit",disabled:!me.trim(),style:{background:me.trim()?`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.primary}dd 100%)`:`rgba(${o.colors.white.r}, ${o.colors.white.g}, ${o.colors.white.b}, 0.1)`,color:"white",border:"none",borderRadius:"12px",padding:"0.875rem",cursor:me.trim()?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:me.trim()?"0 4px 12px rgba(139, 92, 246, 0.3)":"none",width:"44px",height:"44px"},onMouseEnter:G=>me.trim()&&(G.target.style.transform="translateY(-2px)"),onMouseLeave:G=>me.trim()&&(G.target.style.transform="translateY(0)"),children:i.jsx(kr,{size:18})})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.75rem",marginTop:"1rem"},children:[i.jsxs("button",{type:"button",onClick:()=>M(G=>G+""),style:{background:`rgba(${o.colors.success.r}, ${o.colors.success.g}, ${o.colors.success.b}, 0.1)`,color:o.colors.success,border:"1px solid rgba(16, 185, 129, 0.2)",borderRadius:"10px",padding:"0.75rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",minHeight:"60px",justifyContent:"center"},onMouseEnter:G=>{G.target.style.background="rgba(16, 185, 129, 0.15)",G.target.style.transform="translateY(-2px)",G.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.2)"},onMouseLeave:G=>{G.target.style.background="rgba(16, 185, 129, 0.1)",G.target.style.transform="translateY(0)",G.target.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:""}),i.jsx("span",{children:"Deposit"})]}),i.jsxs("button",{type:"button",onClick:()=>M(G=>G+""),style:{background:`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,color:o.colors.primary,border:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.2)`,borderRadius:"10px",padding:"0.75rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",minHeight:"60px",justifyContent:"center"},onMouseEnter:G=>{G.target.style.background=`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.15)`,G.target.style.transform="translateY(-2px)",G.target.style.boxShadow=`0 4px 12px rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.2)`},onMouseLeave:G=>{G.target.style.background=`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,G.target.style.transform="translateY(0)",G.target.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:""}),i.jsx("span",{children:"Stats"})]}),i.jsxs("button",{type:"button",onClick:()=>M(G=>G+""),style:{background:`rgba(${o.colors.warning.r}, ${o.colors.warning.g}, ${o.colors.warning.b}, 0.1)`,color:o.colors.warning,border:`1px solid rgba(${o.colors.warning.r}, ${o.colors.warning.g}, ${o.colors.warning.b}, 0.2)`,borderRadius:"10px",padding:"0.75rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",minHeight:"60px",justifyContent:"center"},onMouseEnter:G=>{G.target.style.background=`rgba(${o.colors.warning.r}, ${o.colors.warning.g}, ${o.colors.warning.b}, 0.15)`,G.target.style.transform="translateY(-2px)",G.target.style.boxShadow=`0 4px 12px rgba(${o.colors.warning.r}, ${o.colors.warning.g}, ${o.colors.warning.b}, 0.2)`},onMouseLeave:G=>{G.target.style.background=`rgba(${o.colors.warning.r}, ${o.colors.warning.g}, ${o.colors.warning.b}, 0.1)`,G.target.style.transform="translateY(0)",G.target.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:""}),i.jsx("span",{children:"Goal"})]}),i.jsxs("button",{type:"button",onClick:()=>M(G=>G+""),style:{background:`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,color:o.colors.primary,border:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.2)`,borderRadius:"10px",padding:"0.75rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",minHeight:"60px",justifyContent:"center"},onMouseEnter:G=>{G.target.style.background=`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.15)`,G.target.style.transform="translateY(-2px)",G.target.style.boxShadow=`0 4px 12px rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.2)`},onMouseLeave:G=>{G.target.style.background=`rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,G.target.style.transform="translateY(0)",G.target.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:""}),i.jsx("span",{children:"Celebrate"})]}),i.jsxs("button",{type:"button",onClick:()=>M(G=>G+""),style:{background:`rgba(${o.colors.text.secondary.r}, ${o.colors.text.secondary.g}, ${o.colors.text.secondary.b}, 0.1)`,color:o.colors.text.secondary,border:`1px solid rgba(${o.colors.text.secondary.r}, ${o.colors.text.secondary.g}, ${o.colors.text.secondary.b}, 0.2)`,borderRadius:"10px",padding:"0.75rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",minHeight:"60px",justifyContent:"center"},onMouseEnter:G=>{G.target.style.background=`rgba(${o.colors.text.secondary.r}, ${o.colors.text.secondary.g}, ${o.colors.text.secondary.b}, 0.15)`,G.target.style.transform="translateY(-2px)",G.target.style.boxShadow=`0 4px 12px rgba(${o.colors.text.secondary.r}, ${o.colors.text.secondary.g}, ${o.colors.text.secondary.b}, 0.2)`},onMouseLeave:G=>{G.target.style.background=`rgba(${o.colors.text.secondary.r}, ${o.colors.text.secondary.g}, ${o.colors.text.secondary.b}, 0.1)`,G.target.style.transform="translateY(0)",G.target.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:""}),i.jsx("span",{children:"Note"})]}),i.jsxs("button",{type:"button",onClick:()=>M(G=>G+""),style:{background:`rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.1)`,color:o.colors.error,border:`1px solid rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.2)`,borderRadius:"10px",padding:"0.75rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",minHeight:"60px",justifyContent:"center"},onMouseEnter:G=>{G.target.style.background=`rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.15)`,G.target.style.transform="translateY(-2px)",G.target.style.boxShadow=`0 4px 12px rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.2)`},onMouseLeave:G=>{G.target.style.background=`rgba(${o.colors.error.r}, ${o.colors.error.g}, ${o.colors.error.b}, 0.1)`,G.target.style.transform="translateY(0)",G.target.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:""}),i.jsx("span",{children:"Hot"})]})]})]})]})]}),w&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:()=>k(!1),children:i.jsxs("form",{onClick:G=>G.stopPropagation(),onSubmit:v,style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,position:"relative"},children:[i.jsx("button",{type:"button",onClick:()=>k(!1),style:{position:"absolute",top:16,right:16,background:`rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.1)`,border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:o.colors.text.secondary,transition:"all 0.2s"},children:i.jsx(ot,{size:16})}),i.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[i.jsx("div",{style:{width:60,height:60,background:`linear-gradient(135deg, ${o.colors.success}, ${o.colors.success})`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:i.jsx(pd,{size:24,color:"white"})}),i.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:o.colors.success},children:"Deposit to Vault"}),i.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:o.colors.text.secondary,fontSize:"0.9rem"},children:["Add funds to ",i.jsx("strong",{children:e==null?void 0:e.name})]})]}),i.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Amount *"}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:o.colors.text.secondary,fontWeight:600},children:e==null?void 0:e.currency}),i.jsx("input",{type:"number",placeholder:"0.00",value:V,onChange:G=>K(G.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,fontSize:"1.2rem",fontWeight:600,transition:"all 0.2s",outline:"none"},onFocus:G=>G.target.style.borderColor=o.colors.success,onBlur:G=>G.target.style.borderColor=o.colors.border.primary})]})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Description (Optional)"}),i.jsx("textarea",{placeholder:"What is this deposit for?",value:te,onChange:G=>Q(G.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:G=>G.target.style.borderColor=o.colors.success,onBlur:G=>G.target.style.borderColor=o.colors.border.primary})]}),i.jsxs("div",{style:{background:o.colors.background.secondary,padding:"1rem",borderRadius:12,border:`1px solid ${o.colors.success}`},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[i.jsx("span",{style:{fontSize:"0.9rem",color:o.colors.text.secondary},children:"Current Balance:"}),i.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:o.colors.success},children:[e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency]})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("span",{style:{fontSize:"0.9rem",color:o.colors.text.secondary},children:"New Balance:"}),i.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:o.colors.success},children:[V?(parseFloat((e==null?void 0:e.totalBalance)||0)+parseFloat(V)).toFixed(2):e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency]})]})]})]}),A&&i.jsx("div",{style:{background:o.colors.background.secondary,color:o.colors.error,padding:"0.75rem 1rem",borderRadius:8,border:`1px solid ${o.colors.error}`,fontSize:"0.9rem",marginTop:"1rem"},children:A}),i.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[i.jsx("button",{type:"button",onClick:()=>k(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,background:"white",color:o.colors.text.secondary,fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:G=>G.target.style.borderColor=o.colors.text.secondary,onMouseLeave:G=>G.target.style.borderColor=o.colors.border.primary,children:"Cancel"}),i.jsx("button",{type:"submit",disabled:Y||!V,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:Y||!V?o.colors.text.secondary:`linear-gradient(135deg, ${o.colors.success}, ${o.colors.success})`,color:"white",fontSize:"1rem",fontWeight:600,cursor:Y||!V?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:Y||!V?"none":"0 4px 12px rgba(16, 185, 129, 0.3)"},onMouseEnter:G=>!Y&&V&&(G.target.style.transform="translateY(-1px)"),onMouseLeave:G=>!Y&&V&&(G.target.style.transform="translateY(0)"),children:Y?"Depositing...":"Deposit Funds"})]})]})}),j&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:()=>P(!1),children:i.jsxs("form",{onClick:G=>G.stopPropagation(),onSubmit:u,style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,position:"relative"},children:[i.jsx("button",{type:"button",onClick:()=>P(!1),style:{position:"absolute",top:16,right:16,background:`rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.1)`,border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:o.colors.text.secondary,transition:"all 0.2s"},children:i.jsx(ot,{size:16})}),i.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[i.jsx("div",{style:{width:60,height:60,background:`linear-gradient(135deg, ${o.colors.warning}, ${o.colors.warning})`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(245, 158, 11, 0.3)"},children:i.jsx(md,{size:24,color:"white"})}),i.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:o.colors.warning},children:"Withdraw from Vault"}),i.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:o.colors.text.secondary,fontSize:"0.9rem"},children:["Remove funds from ",i.jsx("strong",{children:e==null?void 0:e.name})]})]}),i.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Amount *"}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:o.colors.text.secondary,fontWeight:600},children:e==null?void 0:e.currency}),i.jsx("input",{type:"number",placeholder:"0.00",value:ne,onChange:G=>ue(G.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,fontSize:"1.2rem",fontWeight:600,transition:"all 0.2s",outline:"none"},onFocus:G=>G.target.style.borderColor=o.colors.warning,onBlur:G=>G.target.style.borderColor=o.colors.border.primary})]})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Reason (Optional)"}),i.jsx("textarea",{placeholder:"Why are you withdrawing these funds?",value:de,onChange:G=>le(G.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:80,fontFamily:"inherit"},onFocus:G=>G.target.style.borderColor=o.colors.warning,onBlur:G=>G.target.style.borderColor=o.colors.border.primary})]}),i.jsxs("div",{style:{background:o.colors.background.secondary,padding:"1rem",borderRadius:12,border:`1px solid ${o.colors.warning}`},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[i.jsx("span",{style:{fontSize:"0.9rem",color:o.colors.text.secondary},children:"Current Balance:"}),i.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:o.colors.warning},children:[e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency]})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("span",{style:{fontSize:"0.9rem",color:o.colors.text.secondary},children:"Remaining Balance:"}),i.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:o.colors.warning},children:[ne?(parseFloat((e==null?void 0:e.totalBalance)||0)-parseFloat(ne)).toFixed(2):e==null?void 0:e.totalBalance," ",e==null?void 0:e.currency]})]})]}),ne&&parseFloat(ne)>parseFloat((e==null?void 0:e.totalBalance)||0)&&i.jsx("div",{style:{background:o.colors.background.secondary,color:o.colors.error,padding:"0.75rem 1rem",borderRadius:8,border:`1px solid ${o.colors.error}`,fontSize:"0.9rem"},children:" Withdrawal amount exceeds available balance"})]}),A&&i.jsx("div",{style:{background:o.colors.background.secondary,color:o.colors.error,padding:"0.75rem 1rem",borderRadius:8,border:`1px solid ${o.colors.error}`,fontSize:"0.9rem",marginTop:"1rem"},children:A}),i.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[i.jsx("button",{type:"button",onClick:()=>P(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,background:"white",color:o.colors.text.secondary,fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:G=>G.target.style.borderColor=o.colors.text.secondary,onMouseLeave:G=>G.target.style.borderColor=o.colors.border.primary,children:"Cancel"}),i.jsx("button",{type:"submit",disabled:Y||!ne||parseFloat(ne)>parseFloat((e==null?void 0:e.totalBalance)||0),style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:Y||!ne||parseFloat(ne)>parseFloat((e==null?void 0:e.totalBalance)||0)?o.colors.text.secondary:`linear-gradient(135deg, ${o.colors.warning}, ${o.colors.warning})`,color:"white",fontSize:"1rem",fontWeight:600,cursor:Y||!ne||parseFloat(ne)>parseFloat((e==null?void 0:e.totalBalance)||0)?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:Y||!ne||parseFloat(ne)>parseFloat((e==null?void 0:e.totalBalance)||0)?"none":"0 4px 12px rgba(245, 158, 11, 0.3)"},onMouseEnter:G=>!Y&&ne&&parseFloat(ne)<=parseFloat((e==null?void 0:e.totalBalance)||0)&&(G.target.style.transform="translateY(-1px)"),onMouseLeave:G=>!Y&&ne&&parseFloat(ne)<=parseFloat((e==null?void 0:e.totalBalance)||0)&&(G.target.style.transform="translateY(0)"),children:Y?"Withdrawing...":"Withdraw Funds"})]})]})}),R&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:()=>H(!1),children:i.jsxs("form",{onClick:G=>G.stopPropagation(),style:{background:"white",borderRadius:20,padding:"2rem",width:"90%",maxWidth:450,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:`1px solid rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.1)`,position:"relative"},children:[i.jsx("button",{type:"button",onClick:()=>H(!1),style:{position:"absolute",top:16,right:16,background:`rgba(${o.colors.black.r}, ${o.colors.black.g}, ${o.colors.black.b}, 0.1)`,border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:o.colors.text.secondary,transition:"all 0.2s"},children:i.jsx(ot,{size:16})}),i.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[i.jsx("div",{style:{width:60,height:60,background:`linear-gradient(135deg, ${o.colors.primary}, ${o.colors.primary})`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:i.jsx(gf,{size:24,color:"white"})}),i.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:o.colors.primary},children:"Invite Member"}),i.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:o.colors.text.secondary,fontSize:"0.9rem"},children:["Add a new member to ",i.jsx("strong",{children:e==null?void 0:e.name})]})]}),i.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:o.colors.text.secondary,fontSize:"0.9rem"},children:"User ID *"}),i.jsx("input",{type:"text",placeholder:"Enter user's principal ID",value:fe,onChange:G=>F(G.target.value),required:!0,style:{width:"100%",padding:"0.75rem 1rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:G=>G.target.style.borderColor=o.colors.primary,onBlur:G=>G.target.style.borderColor=o.colors.border.primary})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:o.colors.text.secondary,fontSize:"0.9rem"},children:"Role *"}),i.jsxs("select",{value:ke,onChange:G=>xe(G.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,fontSize:"1rem",transition:"all 0.2s",outline:"none",background:"white"},onFocus:G=>G.target.style.borderColor=o.colors.primary,onBlur:G=>G.target.style.borderColor=o.colors.border.primary,children:[i.jsx("option",{value:"member",children:" Member - Can deposit, withdraw, and view vault"}),i.jsx("option",{value:"admin",children:" Admin - Can manage vault settings and members"})]})]}),i.jsxs("div",{style:{background:o.colors.background.secondary,padding:"1rem",borderRadius:12,border:`1px solid ${o.colors.primary}`},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[i.jsx(co,{size:16,color:o.colors.primary}),i.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600,color:o.colors.primary},children:"Current Members"})]}),i.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:700,color:o.colors.primary},children:[((Os=(vi=t==null?void 0:t.ok)==null?void 0:vi.members)==null?void 0:Os.length)||((Le=t==null?void 0:t.members)==null?void 0:Le.length)||0," ","member",(((Si=($s=t==null?void 0:t.ok)==null?void 0:$s.members)==null?void 0:Si.length)||((Us=t==null?void 0:t.members)==null?void 0:Us.length)||0)!==1?"s":""]})]})]}),A&&i.jsx("div",{style:{background:o.colors.background.secondary,color:o.colors.error,padding:"0.75rem 1rem",borderRadius:8,border:`1px solid ${o.colors.error}`,fontSize:"0.9rem",marginTop:"1rem"},children:A}),i.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[i.jsx("button",{type:"button",onClick:()=>H(!1),style:{flex:1,padding:"0.75rem 1.5rem",border:`2px solid ${o.colors.border.primary}`,borderRadius:12,background:"white",color:o.colors.text.secondary,fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:G=>G.target.style.borderColor=o.colors.text.secondary,onMouseLeave:G=>G.target.style.borderColor=o.colors.border.primary,children:"Cancel"}),i.jsx("button",{type:"submit",disabled:Y||!fe,style:{flex:1,padding:"0.75rem 1.5rem",border:"none",borderRadius:12,background:Y||!fe?o.colors.text.secondary:`linear-gradient(135deg, ${o.colors.primary}, ${o.colors.primary})`,color:"white",fontSize:"1rem",fontWeight:600,cursor:Y||!fe?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:Y||!fe?"none":`0 4px 12px rgba(${o.colors.primary.r}, ${o.colors.primary.g}, ${o.colors.primary.b}, 0.3)`},onMouseEnter:G=>!Y&&fe&&(G.target.style.transform="translateY(-1px)"),onMouseLeave:G=>!Y&&fe&&(G.target.style.transform="translateY(0)"),children:Y?"Inviting...":"Send Invitation"})]})]})})]})}function N3(){const{getPublicVaults:e,joinGroupVault:t,user:r,isAuthenticated:n}=Yt(),{showToast:s}=Yr(),[o,a]=T.useState([]),[l,c]=T.useState(!0),[d,b]=T.useState(null),[x,m]=T.useState(""),[h,y]=T.useState("all");T.useEffect(()=>{(async()=>{if(!n){c(!1);return}c(!0);try{const P=await e();a(P||[])}catch(P){console.error("Failed to fetch public vaults:",P),a([])}finally{c(!1)}})()},[e,n]);const N=async j=>{b(j);try{const P=await t(j);P.ok?(s({message:"Successfully joined vault!",type:"success",icon:i.jsx(Nt,{})}),a(C=>C.filter(B=>B.id!==j))):s({message:P.err||"Failed to join vault",type:"error",icon:i.jsx(ot,{})})}catch(P){console.error("Join vault error:",P),s({message:"Failed to join vault",type:"error",icon:i.jsx(ot,{})})}finally{b(null)}},W=o.filter(j=>{var B;const P=j.name.toLowerCase().includes(x.toLowerCase())||((B=j.description)==null?void 0:B.toLowerCase().includes(x.toLowerCase())),C=h==="all"||j.vaultType.toLowerCase()===h.toLowerCase();return P&&C}),w=j=>{switch(j.toLowerCase()){case"savings":return i.jsx(ru,{});case"investment":return i.jsx(fr,{});case"emergency":return i.jsx(ht,{});default:return i.jsx(De,{})}},k=j=>{switch(j.toLowerCase()){case"savings":return"#10b981";case"investment":return"#075B5E";case"emergency":return"#f59e0b";default:return"#6b7280"}};return n?i.jsxs("div",{style:{padding:"2rem"},children:[i.jsxs("div",{style:{marginBottom:"2rem"},children:[i.jsx("h1",{style:{margin:"0 0 0.5rem 0",fontSize:"2rem",fontWeight:700,color:"var(--neutral-800)"},children:"Discover Public Vaults"}),i.jsx("p",{style:{margin:0,color:"var(--neutral-600)",fontSize:"1.1rem"},children:"Join community vaults and start saving together"})]}),i.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[i.jsxs("div",{style:{position:"relative",flex:1,minWidth:"300px"},children:[i.jsx(Fg,{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--neutral-400)"}}),i.jsx("input",{type:"text",placeholder:"Search vaults...",value:x,onChange:j=>m(j.target.value),style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",outline:"none",transition:"all 0.2s"},onFocus:j=>j.target.style.borderColor="#075B5E",onBlur:j=>j.target.style.borderColor="var(--neutral-200)"})]}),i.jsxs("select",{value:h,onChange:j=>y(j.target.value),style:{padding:"0.75rem 1rem",border:"2px solid var(--neutral-200)",borderRadius:12,fontSize:"1rem",outline:"none",background:"white",cursor:"pointer",minWidth:"150px"},children:[i.jsx("option",{value:"all",children:"All Types"}),i.jsx("option",{value:"savings",children:"Savings"}),i.jsx("option",{value:"investment",children:"Investment"}),i.jsx("option",{value:"emergency",children:"Emergency"})]})]}),l&&i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:i.jsx("div",{style:{width:40,height:40,border:"4px solid var(--neutral-200)",borderTop:"4px solid #075B5E",borderRadius:"50%",animation:"spin 1s linear infinite"}})}),!l&&i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:W.length===0?i.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"3rem",color:"var(--neutral-500)"},children:[i.jsx(Fg,{size:48,style:{marginBottom:"1rem"}}),i.jsx("h3",{style:{margin:"0 0 0.5rem 0"},children:"No vaults found"}),i.jsx("p",{style:{margin:0},children:x||h!=="all"?"Try adjusting your search or filters":"No public vaults available at the moment"})]}):W.map(j=>{var P;return i.jsxs("div",{style:{background:"white",borderRadius:16,padding:"1.5rem",border:"1px solid var(--neutral-200)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:C=>{C.currentTarget.style.transform="translateY(-2px)",C.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.1)"},onMouseLeave:C=>{C.currentTarget.style.transform="translateY(0)",C.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.05)"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[i.jsx("div",{style:{width:48,height:48,borderRadius:12,background:`linear-gradient(135deg, ${k(j.vaultType)}, ${k(j.vaultType)}dd)`,display:"flex",alignItems:"center",justifyContent:"center",marginRight:"1rem"},children:i.jsx("div",{style:{color:"white",fontSize:"1.2rem"},children:w(j.vaultType)})}),i.jsxs("div",{style:{flex:1},children:[i.jsx("h3",{style:{margin:"0 0 0.25rem 0",fontSize:"1.2rem",fontWeight:600,color:"var(--neutral-800)"},children:j.name}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",color:"var(--neutral-600)"},children:[i.jsx("span",{style:{padding:"0.25rem 0.5rem",background:"var(--neutral-100)",borderRadius:6,fontWeight:500},children:j.vaultType}),i.jsx(co,{size:14}),i.jsxs("span",{children:[((P=j.members)==null?void 0:P.length)||0," members"]})]})]})]}),j.description&&i.jsx("p",{style:{margin:"0 0 1rem 0",color:"var(--neutral-600)",fontSize:"0.95rem",lineHeight:1.5},children:j.description}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--neutral-500)",marginBottom:"0.25rem"},children:"Current Balance"}),i.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--success-700)"},children:[j.totalBalance," ",j.currency]})]}),j.targetAmount&&i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--neutral-500)",marginBottom:"0.25rem"},children:"Target Amount"}),i.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--primary-700)"},children:[j.targetAmount," ",j.currency]})]})]}),i.jsx("button",{onClick:()=>N(j.id),disabled:d===j.id,style:{width:"100%",padding:"0.75rem 1rem",background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",color:"white",border:"none",borderRadius:12,fontSize:"1rem",fontWeight:600,cursor:d===j.id?"not-allowed":"pointer",opacity:d===j.id?.7:1,transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:C=>{d!==j.id&&(C.target.style.transform="translateY(-1px)")},onMouseLeave:C=>{C.target.style.transform="translateY(0)"},children:d===j.id?i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{width:16,height:16,border:"2px solid white",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Joining..."]}):i.jsxs(i.Fragment,{children:[i.jsx(cl,{size:16}),"Join Vault"]})})]},j.id)})}),i.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]}):i.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",padding:"2rem",textAlign:"center"},children:[i.jsx(tu,{size:48,style:{color:"var(--neutral-400)",marginBottom:"1rem"}}),i.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"var(--neutral-700)"},children:"Authentication Required"}),i.jsx("p",{style:{margin:0,color:"var(--neutral-600)"},children:"Please log in to browse public vaults"})]})}function B3(){const{theme:e}=bi();T.useEffect(()=>{const z=document.createElement("style");return z.textContent=`
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes slideUp {
        from { 
          opacity: 0;
          transform: translateY(30px) scale(0.95);
        }
        to { 
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
    `,document.head.appendChild(z),()=>{document.head.removeChild(z)}},[]);const{getUserGroupVaults:t,createGroupVault:r,getVaultDetails:n,depositToVault:s,withdrawFromVault:o,editGroupVault:a,inviteVaultMember:l,removeVaultMember:c,changeVaultMemberRole:d,user:b,isAuthenticated:x,login:m}=Yt(),{showToast:h}=Yr(),[y,N]=T.useState([]),[W,w]=T.useState(!0);T.useState(null);const[k,j]=T.useState(null),[P,C]=T.useState(!1),[B,R]=T.useState({name:"",description:"",vaultType:"Savings",currency:"",targetAmount:"",isPublic:!1}),[H,X]=T.useState(!1),[$,Y]=T.useState(null),[J,A]=T.useState(!1),U=T.useRef(),V=T.useRef(),K=[{value:"Savings",label:"Savings Vault",icon:De,color:"#10b981",bgColor:"#d1fae5"},{value:"Investment",label:"Investment Portfolio",icon:fr,color:"#3b82f6",bgColor:"#dbeafe"},{value:"Emergency",label:"Emergency Fund",icon:D8,color:"#f59e0b",bgColor:"#fef3c7"},{value:"Travel",label:"Travel Fund",icon:Mh,color:"#8b5cf6",bgColor:"#ede9fe"},{value:"Education",label:"Education Fund",icon:R2,color:"#06b6d4",bgColor:"#cffafe"},{value:"Business",label:"Business Capital",icon:r3,color:"#84cc16",bgColor:"#ecfccb"},{value:"Charity",label:"Charity Fund",icon:c3,color:"#ef4444",bgColor:"#fee2e2"},{value:"Custom",label:"Custom Goal",icon:l3,color:"#6b7280",bgColor:"#f3f4f6"}],te=z=>{const ee=typeof z=="object"?Object.keys(z)[0]:z;return K.find(u=>u.value===ee)||K[0]},[Q,ne]=T.useState(!1),[ue,de]=T.useState(!1),[le,fe]=T.useState(!1);T.useState(!1),T.useState(!1),T.useState(!1),T.useState(!1),T.useState(!1),T.useState(!1);const[F,ke]=T.useState(null);T.useState(null);const[xe,ye]=T.useState({name:"",description:"",currency:"",targetAmount:"",isPublic:!1}),[pe,me]=T.useState("");T.useState("");const[M,q]=T.useState("");T.useState(""),T.useState("DeleteVault"),T.useState(""),T.useState("member"),T.useState(""),T.useState("member"),T.useState("member");const[L,re]=T.useState(!1),[Z,D]=T.useState("my-vaults"),[S,f]=T.useState(null);T.useEffect(()=>{const z=ee=>{V.current&&!V.current.contains(ee.target)&&A(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]),T.useEffect(()=>{(async()=>{if(!x){await m();return}w(!0);try{const ee=await t();N(ee||[])}catch{N([])}finally{w(!1)}})()},[t,x,m]);const p=async z=>{z.preventDefault(),X(!0),Y(null);try{const ee=await r(B.name,B.description,B.vaultType,B.currency,B.targetAmount?parseFloat(B.targetAmount):null,B.isPublic,null);if(ee.ok){if(C(!1),R({name:"",description:"",vaultType:"Savings",currency:"",targetAmount:"",isPublic:!1}),h({message:"Vault created successfully!",type:"success",icon:i.jsx(Nt,{})}),t){const v=await t();N(v||[])}}else Y(ee.err||"Failed to create vault"),h({message:ee.err||"Failed to create vault",type:"error",icon:i.jsx(De,{})})}catch(ee){console.error("Create vault error:",ee),Y("Failed to create vault"),h({message:"Failed to create vault",type:"error",icon:i.jsx(De,{})})}finally{X(!1)}},E=z=>{ke(z),ye({name:z.name||"",description:z.description||"",currency:z.currency||"",targetAmount:z.targetAmount||"",isPublic:z.isPublic||!1}),fe(!0)},O=async z=>{f(z),re(!0);try{console.log("Getting vault details for vault:",z.id);const ee=await n(z.id);console.log("Vault details received:",ee),j(ee)}catch(ee){console.error("Error getting vault details:",ee),j(null),h({message:"Failed to load vault details",type:"error",icon:i.jsx(De,{})})}},_=()=>{re(!1),f(null),j(null)},ie=async z=>{z.preventDefault(),X(!0),Y(null);try{const ee=await a(F.id,xe.name,xe.description,xe.currency,xe.targetAmount?parseFloat(xe.targetAmount):null,xe.isPublic);if(ee.ok){if(fe(!1),ye({name:"",description:"",currency:"",targetAmount:"",isPublic:!1}),h({message:"Vault updated successfully!",type:"success",icon:i.jsx(Nt,{})}),t){const v=await t();N(v||[])}}else Y(ee.err||"Failed to update vault"),h({message:ee.err||"Failed to update vault",type:"error",icon:i.jsx(De,{})})}catch(ee){console.error("Edit vault error:",ee),Y("Failed to update vault"),h({message:"Failed to update vault",type:"error",icon:i.jsx(De,{})})}finally{X(!1)}},he=async()=>{if(!pe||parseFloat(pe)<=0){Y("Please enter a valid amount");return}X(!0),Y(null);try{const z=await s(F.id,parseFloat(pe));if(z.ok){if(ne(!1),me(""),h({message:"Deposit successful!",type:"success",icon:i.jsx(Nt,{})}),t){const ee=await t();N(ee||[])}}else Y(z.err||"Failed to deposit"),h({message:z.err||"Failed to deposit",type:"error",icon:i.jsx(De,{})})}catch(z){console.error("Deposit error:",z),Y("Failed to deposit"),h({message:"Failed to deposit",type:"error",icon:i.jsx(De,{})})}finally{X(!1)}},we=async()=>{if(!M||parseFloat(M)<=0){Y("Please enter a valid amount");return}X(!0),Y(null);try{const z=await o(F.id,parseFloat(M));if(z.ok){if(de(!1),q(""),h({message:"Withdrawal successful!",type:"success",icon:i.jsx(Nt,{})}),t){const ee=await t();N(ee||[])}}else Y(z.err||"Failed to withdraw"),h({message:z.err||"Failed to withdraw",type:"error",icon:i.jsx(De,{})})}catch(z){console.error("Withdraw error:",z),Y("Failed to withdraw"),h({message:"Failed to withdraw",type:"error",icon:i.jsx(De,{})})}finally{X(!1)}};return W?i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",color:e.colors.text.secondary,fontSize:"1rem"},children:"Loading group vaults..."}):i.jsxs("div",{style:{width:"100%",padding:"0",margin:0},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem",background:e.colors.white,borderRadius:"0.75rem",padding:"0.5rem",border:`1px solid ${e.colors.border.secondary}`,boxShadow:`0 2px 8px ${e.colors.shadow.light}`},children:[i.jsxs("button",{onClick:()=>D("my-vaults"),style:{flex:1,padding:"1rem 1.5rem",border:"none",borderRadius:"0.75rem",background:Z==="my-vaults"?e.colors.primary:"transparent",color:Z==="my-vaults"?e.colors.white:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[i.jsx(co,{size:16}),"My Vaults"]}),i.jsxs("button",{onClick:()=>D("public-vaults"),style:{flex:1,padding:"1rem 1.5rem",border:"none",borderRadius:"0.75rem",background:Z==="public-vaults"?e.colors.primary:"transparent",color:Z==="public-vaults"?e.colors.white:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[i.jsx(yd,{size:16}),"Discover Vaults"]})]}),Z==="public-vaults"?i.jsx(N3,{}):L&&S&&k?i.jsx(C3,{vault:S,details:k,onBack:_,user:b,showToast:h}):i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:"2rem"},children:i.jsxs("button",{ref:U,style:{padding:"0.75rem 1.5rem",background:e.colors.primary,color:e.colors.white,border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.15s ease",boxShadow:"none"},onClick:()=>C(!0),onMouseEnter:z=>{z.target.style.transform="translateY(-1px)",z.target.style.boxShadow=`0 4px 12px ${e.colors.shadow.medium}`},onMouseLeave:z=>{z.target.style.transform="translateY(0)",z.target.style.boxShadow="none"},children:[i.jsx(_o,{size:16}),"Create Vault"]})}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"2rem",margin:0,padding:0},children:y.length===0?i.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",color:e.colors.text.secondary,fontSize:"1rem",padding:"3rem",background:e.colors.white,borderRadius:"0.75rem",border:`1px solid ${e.colors.border.secondary}`,boxShadow:`0 2px 8px ${e.colors.shadow.light}`},children:"No group vaults found."}):y.map(z=>i.jsxs("div",{style:{background:e.colors.white,border:`1px solid ${e.colors.border.secondary}`,borderRadius:"0.75rem",padding:"1.5rem",transition:"all 0.15s ease",cursor:"pointer",position:"relative",overflow:"hidden",boxShadow:"none"},onClick:()=>O(z),onMouseEnter:ee=>{ee.target.style.transform="translateY(-2px)",ee.target.style.boxShadow=`0 8px 24px ${e.colors.shadow.medium}`,ee.target.style.borderColor=e.colors.primary},onMouseLeave:ee=>{ee.target.style.transform="translateY(0)",ee.target.style.boxShadow="none",ee.target.style.borderColor=e.colors.border.secondary},children:[i.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1.5rem"},children:i.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",flex:1},children:[(()=>{const ee=te(z.vaultType),v=ee.icon;return i.jsx("div",{style:{width:"48px",height:"48px",background:`linear-gradient(135deg, ${ee.color} 0%, ${ee.color}dd 100%)`,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 4px 12px ${ee.color}40`,flexShrink:0},children:i.jsx(v,{size:20,color:"white"})})})(),i.jsxs("div",{style:{flex:1},children:[i.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,color:e.colors.text.primary,margin:"0 0 0.5rem 0",letterSpacing:"-0.025em"},children:z.name}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",flexWrap:"wrap"},children:[i.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",borderRadius:"0.5rem",fontSize:"0.75rem",fontWeight:600,background:z.isPublic?e.colors.success:e.colors.primary,color:"white",textTransform:"uppercase",letterSpacing:"0.05em"},children:[z.isPublic?i.jsx(yd,{size:10}):i.jsx(tu,{size:10}),z.isPublic?"Public":"Private"]}),(()=>{const ee=te(z.vaultType);return i.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"0.5rem",fontSize:"0.75rem",fontWeight:600,background:ee.bgColor,color:ee.color,textTransform:"uppercase",letterSpacing:"0.05em",border:`1px solid ${ee.color}30`},children:ee.label})})()]})]})]})}),i.jsx("p",{style:{fontSize:"0.875rem",color:e.colors.text.secondary,lineHeight:"1.4",margin:"0 0 1.5rem 0",fontWeight:400},children:z.description||"No description provided"}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",padding:"1.25rem",background:(()=>`linear-gradient(135deg, ${te(z.vaultType).bgColor} 0%, ${e.colors.white} 100%)`)(),borderRadius:"0.75rem",border:(()=>`1px solid ${te(z.vaultType).color}20`)(),position:"relative",overflow:"hidden"},children:[i.jsx("div",{style:{position:"absolute",top:"-50%",right:"-50%",width:"100%",height:"100%",background:(()=>`radial-gradient(circle, ${te(z.vaultType).color}10 0%, transparent 70%)`)(),borderRadius:"50%",zIndex:0}}),i.jsxs("div",{style:{textAlign:"center",flex:1,position:"relative",zIndex:1},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary,marginBottom:"0.25rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Balance"}),i.jsx("div",{style:{fontSize:"1.25rem",color:(()=>te(z.vaultType).color)(),fontWeight:700,letterSpacing:"-0.025em"},children:z.totalBalance||"0"})]}),i.jsx("div",{style:{width:"1px",height:"2.5rem",background:(()=>`${te(z.vaultType).color}30`)(),position:"relative",zIndex:1}}),i.jsxs("div",{style:{textAlign:"center",flex:1,position:"relative",zIndex:1},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary,marginBottom:"0.25rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Currency"}),i.jsx("div",{style:{fontSize:"1.25rem",color:e.colors.text.primary,fontWeight:700,letterSpacing:"-0.025em"},children:z.currency||"NST"})]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"space-between"},children:[i.jsxs("button",{style:{flex:1,padding:"0.875rem",fontSize:"0.8rem",fontWeight:500,background:(()=>{const ee=te(z.vaultType);return`linear-gradient(135deg, ${ee.color} 0%, ${ee.color}dd 100%)`})(),border:"none",color:e.colors.white,borderRadius:"0.5rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:"none",position:"relative",overflow:"hidden"},onClick:ee=>{ee.stopPropagation(),O(z)},onMouseEnter:ee=>{ee.target.style.transform="translateY(-2px)",ee.target.style.boxShadow=`0 8px 24px ${(()=>`${te(z.vaultType).color}40`)()}`},onMouseLeave:ee=>{ee.target.style.transform="translateY(0)",ee.target.style.boxShadow="none"},children:[i.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"4px",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:i.jsx(Ga,{size:12})}),i.jsx("span",{style:{fontWeight:600},children:"View"})]}),i.jsx("button",{style:{padding:"0.875rem",fontSize:"0.8rem",fontWeight:500,background:`linear-gradient(135deg, ${e.colors.success} 0%, ${e.colors.success}dd 100%)`,border:"none",color:e.colors.white,borderRadius:"0.5rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"none",position:"relative",overflow:"hidden"},onClick:ee=>{ee.stopPropagation(),ke(z),ne(!0)},onMouseEnter:ee=>{ee.target.style.transform="translateY(-2px)",ee.target.style.boxShadow=`0 8px 24px ${e.colors.success}40`},onMouseLeave:ee=>{ee.target.style.transform="translateY(0)",ee.target.style.boxShadow="none"},children:i.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"4px",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:i.jsx(pd,{size:12})})}),i.jsx("button",{style:{padding:"0.875rem",fontSize:"0.8rem",fontWeight:500,background:`linear-gradient(135deg, ${e.colors.warning} 0%, ${e.colors.warning}dd 100%)`,border:"none",color:e.colors.white,borderRadius:"0.5rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"none",position:"relative",overflow:"hidden"},onClick:ee=>{ee.stopPropagation(),ke(z),de(!0)},onMouseEnter:ee=>{ee.target.style.transform="translateY(-2px)",ee.target.style.boxShadow=`0 8px 24px ${e.colors.warning}40`},onMouseLeave:ee=>{ee.target.style.transform="translateY(0)",ee.target.style.boxShadow="none"},children:i.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"4px",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:i.jsx(md,{size:12})})}),i.jsx("button",{style:{padding:"0.875rem",fontSize:"0.8rem",fontWeight:500,background:e.colors.white,border:`1px solid ${e.colors.border.secondary}`,color:e.colors.text.secondary,borderRadius:"0.5rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"none",position:"relative",overflow:"hidden"},onClick:ee=>{ee.stopPropagation(),E(z)},onMouseEnter:ee=>{ee.target.style.transform="translateY(-2px)",ee.target.style.boxShadow=`0 8px 24px ${e.colors.shadow.light}`,ee.target.style.borderColor=e.colors.primary,ee.target.style.background=e.colors.primary,ee.target.style.color=e.colors.white},onMouseLeave:ee=>{ee.target.style.transform="translateY(0)",ee.target.style.boxShadow="none",ee.target.style.borderColor=e.colors.border.secondary,ee.target.style.background=e.colors.white,ee.target.style.color=e.colors.text.secondary},children:i.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"4px",background:`${e.colors.text.secondary}1a`,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:i.jsx(gi,{size:12})})})]})]},z.id))})]}),P&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:`${e.colors.black}99`,backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:z=>{z.target===z.currentTarget&&C(!1)},children:i.jsxs("form",{onSubmit:p,style:{background:"white",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:600,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid #e2e8f0",position:"relative"},onClick:z=>z.stopPropagation(),children:[i.jsx("button",{type:"button",onClick:()=>C(!1),style:{position:"absolute",top:12,right:12,background:e.colors.black,border:"none",borderRadius:"50%",width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:e.colors.text.secondary,transition:"all 0.2s"},children:i.jsx(ot,{size:14})}),i.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[i.jsx("div",{style:{width:56,height:56,background:`linear-gradient(135deg, ${e.colors.primary} 0%, ${e.colors.primary}dd 100%)`,borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",boxShadow:`0 8px 24px ${e.colors.shadow.medium}`},children:i.jsx(_o,{size:24,color:"white"})}),i.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:e.colors.text.primary},children:"Create New Vault"}),i.jsx("p",{style:{margin:"0.25rem 0 0 0",color:e.colors.text.secondary,fontSize:"0.8rem"},children:"Set up a new group vault for collaborative savings"})]}),i.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Vault Name *"}),i.jsx("input",{type:"text",placeholder:"Enter vault name",value:B.name,onChange:z=>R(ee=>({...ee,name:z.target.value})),required:!0,style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:z=>z.target.style.borderColor=e.colors.primary,onBlur:z=>z.target.style.borderColor=e.colors.border.primary})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Type *"}),i.jsxs("div",{style:{position:"relative"},ref:V,children:[i.jsxs("button",{type:"button",onClick:()=>A(!J),style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none",background:"white",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},onFocus:z=>z.target.style.borderColor=e.colors.primary,onBlur:z=>z.target.style.borderColor=e.colors.border.primary,children:[i.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:(()=>{const z=K.find(v=>v.value===B.vaultType),ee=(z==null?void 0:z.icon)||De;return i.jsxs(i.Fragment,{children:[i.jsx(ee,{size:16,color:e.colors.primary}),i.jsx("span",{children:(z==null?void 0:z.label)||"Select Type"})]})})()}),i.jsx(gd,{size:16,color:e.colors.text.secondary})]}),J&&i.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",boxShadow:`0 4px 12px ${e.colors.shadow.medium}`,zIndex:1e3,maxHeight:"200px",overflowY:"auto",marginTop:"0.25rem"},children:K.map(z=>{const ee=z.icon;return i.jsxs("button",{type:"button",onClick:()=>{R(v=>({...v,vaultType:z.value})),A(!1)},style:{width:"100%",padding:"0.75rem",border:"none",background:"transparent",display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",fontSize:"0.875rem",color:B.vaultType===z.value?e.colors.primary:e.colors.text.primary,fontWeight:B.vaultType===z.value?600:400,transition:"all 0.15s ease"},onMouseEnter:v=>{v.target.style.background=e.colors.white,v.target.style.color=e.colors.primary},onMouseLeave:v=>{v.target.style.background="transparent",v.target.style.color=B.vaultType===z.value?e.colors.primary:e.colors.text.primary},children:[i.jsx(ee,{size:16,color:B.vaultType===z.value?e.colors.primary:e.colors.text.secondary}),i.jsx("span",{children:z.label})]},z.value)})})]})]})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Currency *"}),i.jsx("input",{type:"text",placeholder:"KES",value:B.currency,onChange:z=>R(ee=>({...ee,currency:z.target.value})),required:!0,style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:z=>z.target.style.borderColor=e.colors.primary,onBlur:z=>z.target.style.borderColor=e.colors.border.primary})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Target Amount"}),i.jsx("input",{type:"number",placeholder:"0.00",value:B.targetAmount,onChange:z=>R(ee=>({...ee,targetAmount:z.target.value})),style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:z=>z.target.style.borderColor=e.colors.primary,onBlur:z=>z.target.style.borderColor=e.colors.border.primary})]})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Description"}),i.jsx("textarea",{placeholder:"Describe the purpose of this vault",value:B.description,onChange:z=>R(ee=>({...ee,description:z.target.value})),style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:60,fontFamily:"inherit"},onFocus:z=>z.target.style.borderColor=e.colors.primary,onBlur:z=>z.target.style.borderColor=e.colors.border.primary})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:e.colors.white,borderRadius:"0.5rem",border:`1px solid ${e.colors.border.primary}`},children:[i.jsx("input",{type:"checkbox",checked:B.isPublic,onChange:z=>R(ee=>({...ee,isPublic:z.target.checked})),style:{width:16,height:16}}),i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:600,color:e.colors.primary,fontSize:"0.8rem"},children:"Public Vault"}),i.jsx("div",{style:{fontSize:"0.7rem",color:e.colors.text.secondary,marginTop:"0.125rem"},children:"Allow others to discover and join this vault"})]})]})]}),$&&i.jsx("div",{style:{background:e.colors.white,color:e.colors.error,padding:"0.625rem 0.75rem",borderRadius:"0.5rem",border:`1px solid ${e.colors.error}`,fontSize:"0.8rem",marginTop:"1rem"},children:$}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[i.jsx("button",{type:"button",onClick:()=>C(!1),style:{flex:1,padding:"0.625rem 1rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",background:"white",color:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:"Cancel"}),i.jsx("button",{type:"submit",disabled:H,style:{flex:1,padding:"0.625rem 1rem",border:"none",borderRadius:"0.5rem",background:H?e.colors.text.secondary:e.colors.primary,color:"white",fontSize:"0.875rem",fontWeight:600,cursor:H?"not-allowed":"pointer",transition:"all 0.2s"},children:H?"Creating...":"Create Vault"})]})]})}),le&&F&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:`${e.colors.black}99`,backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:z=>{z.target===z.currentTarget&&fe(!1)},children:i.jsxs("form",{onSubmit:ie,style:{background:"white",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:600,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid #e2e8f0",position:"relative"},onClick:z=>z.stopPropagation(),children:[i.jsx("button",{type:"button",onClick:()=>fe(!1),style:{position:"absolute",top:12,right:12,background:e.colors.black,border:"none",borderRadius:"50%",width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:e.colors.text.secondary,transition:"all 0.2s"},children:i.jsx(ot,{size:14})}),i.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[i.jsx("div",{style:{width:56,height:56,background:`linear-gradient(135deg, ${e.colors.primary} 0%, ${e.colors.primary}dd 100%)`,borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",boxShadow:`0 8px 24px ${e.colors.shadow.medium}`},children:i.jsx(gi,{size:24,color:"white"})}),i.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:e.colors.text.primary},children:"Edit Vault"}),i.jsx("p",{style:{margin:"0.25rem 0 0 0",color:e.colors.text.secondary,fontSize:"0.8rem"},children:"Update vault settings and information"})]}),i.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Vault Name *"}),i.jsx("input",{type:"text",placeholder:"Enter vault name",value:xe.name,onChange:z=>ye(ee=>({...ee,name:z.target.value})),required:!0,style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:z=>z.target.style.borderColor=e.colors.primary,onBlur:z=>z.target.style.borderColor=e.colors.border.primary})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Currency"}),i.jsx("input",{type:"text",placeholder:"NST",value:xe.currency,onChange:z=>ye(ee=>({...ee,currency:z.target.value})),style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:z=>z.target.style.borderColor=e.colors.primary,onBlur:z=>z.target.style.borderColor=e.colors.border.primary})]})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Target Amount"}),i.jsx("input",{type:"number",placeholder:"0.00",value:xe.targetAmount,onChange:z=>ye(ee=>({...ee,targetAmount:z.target.value})),style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:z=>z.target.style.borderColor=e.colors.primary,onBlur:z=>z.target.style.borderColor=e.colors.border.primary})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Description"}),i.jsx("textarea",{placeholder:"Describe the purpose of this vault...",value:xe.description,onChange:z=>ye(ee=>({...ee,description:z.target.value})),style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none",resize:"vertical",minHeight:60,fontFamily:"inherit"},onFocus:z=>z.target.style.borderColor=e.colors.primary,onBlur:z=>z.target.style.borderColor=e.colors.border.primary})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:e.colors.white,borderRadius:"0.5rem",border:`1px solid ${e.colors.border.primary}`},children:[i.jsx("input",{type:"checkbox",checked:xe.isPublic,onChange:z=>ye(ee=>({...ee,isPublic:z.target.checked})),style:{width:16,height:16}}),i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:600,color:e.colors.primary,fontSize:"0.8rem"},children:"Public Vault"}),i.jsx("div",{style:{fontSize:"0.7rem",color:e.colors.text.secondary,marginTop:"0.125rem"},children:"Allow others to discover and join this vault"})]})]}),$&&i.jsx("div",{style:{background:e.colors.white,color:e.colors.error,padding:"0.625rem 0.75rem",borderRadius:"0.5rem",border:`1px solid ${e.colors.error}`,fontSize:"0.8rem",marginTop:"1rem"},children:$}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[i.jsx("button",{type:"button",onClick:()=>fe(!1),style:{flex:1,padding:"0.625rem 1rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",background:"white",color:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:"Cancel"}),i.jsx("button",{type:"submit",disabled:H,style:{flex:1,padding:"0.625rem 1rem",border:"none",borderRadius:"0.5rem",background:H?e.colors.text.secondary:e.colors.primary,color:"white",fontSize:"0.875rem",fontWeight:600,cursor:H?"not-allowed":"pointer",transition:"all 0.2s"},children:H?"Updating...":"Update Vault"})]})]})]})}),Q&&F&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:`${e.colors.black}99`,backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:z=>{z.target===z.currentTarget&&ne(!1)},children:i.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:500,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid #e2e8f0",position:"relative"},onClick:z=>z.stopPropagation(),children:[i.jsx("button",{type:"button",onClick:()=>ne(!1),style:{position:"absolute",top:12,right:12,background:e.colors.black,border:"none",borderRadius:"50%",width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:e.colors.text.secondary,transition:"all 0.2s"},children:i.jsx(ot,{size:14})}),i.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[i.jsx("div",{style:{width:56,height:56,background:`linear-gradient(135deg, ${e.colors.success} 0%, ${e.colors.success}dd 100%)`,borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",boxShadow:`0 8px 24px ${e.colors.shadow.medium}`},children:i.jsx(pd,{size:24,color:"white"})}),i.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:e.colors.text.primary},children:"Deposit to Vault"}),i.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:e.colors.text.secondary,fontSize:"0.8rem"},children:["Add funds to ",F.name]})]}),i.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Amount *"}),i.jsx("input",{type:"number",placeholder:"0.00",value:pe,onChange:z=>me(z.target.value),required:!0,style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:z=>z.target.style.borderColor=e.colors.primary,onBlur:z=>z.target.style.borderColor=e.colors.border.primary})]}),$&&i.jsx("div",{style:{background:e.colors.white,color:e.colors.error,padding:"0.625rem 0.75rem",borderRadius:"0.5rem",border:`1px solid ${e.colors.error}`,fontSize:"0.8rem",marginTop:"1rem"},children:$}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[i.jsx("button",{type:"button",onClick:()=>ne(!1),style:{flex:1,padding:"0.625rem 1rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",background:"white",color:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:"Cancel"}),i.jsx("button",{type:"button",onClick:he,disabled:H,style:{flex:1,padding:"0.625rem 1rem",border:"none",borderRadius:"0.5rem",background:H?e.colors.text.secondary:e.colors.success,color:"white",fontSize:"0.875rem",fontWeight:600,cursor:H?"not-allowed":"pointer",transition:"all 0.2s"},children:H?"Depositing...":"Deposit"})]})]})]})}),ue&&F&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:`${e.colors.black}99`,backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},onClick:z=>{z.target===z.currentTarget&&de(!1)},children:i.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:500,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.3s ease-out",border:"1px solid #e2e8f0",position:"relative"},onClick:z=>z.stopPropagation(),children:[i.jsx("button",{type:"button",onClick:()=>de(!1),style:{position:"absolute",top:12,right:12,background:e.colors.black,border:"none",borderRadius:"50%",width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:e.colors.text.secondary,transition:"all 0.2s"},children:i.jsx(ot,{size:14})}),i.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[i.jsx("div",{style:{width:56,height:56,background:`linear-gradient(135deg, ${e.colors.warning} 0%, ${e.colors.warning}dd 100%)`,borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",boxShadow:`0 8px 24px ${e.colors.shadow.medium}`},children:i.jsx(md,{size:24,color:"white"})}),i.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:e.colors.text.primary},children:"Withdraw from Vault"}),i.jsxs("p",{style:{margin:"0.25rem 0 0 0",color:e.colors.text.secondary,fontSize:"0.8rem"},children:["Remove funds from ",F.name]})]}),i.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.375rem",fontWeight:600,color:e.colors.text.secondary,fontSize:"0.75rem"},children:"Amount *"}),i.jsx("input",{type:"number",placeholder:"0.00",value:M,onChange:z=>q(z.target.value),required:!0,style:{width:"100%",padding:"0.625rem 0.75rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s",outline:"none"},onFocus:z=>z.target.style.borderColor=e.colors.primary,onBlur:z=>z.target.style.borderColor=e.colors.border.primary})]}),$&&i.jsx("div",{style:{background:e.colors.white,color:e.colors.error,padding:"0.625rem 0.75rem",borderRadius:"0.5rem",border:`1px solid ${e.colors.error}`,fontSize:"0.8rem",marginTop:"1rem"},children:$}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[i.jsx("button",{type:"button",onClick:()=>de(!1),style:{flex:1,padding:"0.625rem 1rem",border:`1px solid ${e.colors.border.primary}`,borderRadius:"0.5rem",background:"white",color:e.colors.text.secondary,fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:"Cancel"}),i.jsx("button",{type:"button",onClick:we,disabled:H,style:{flex:1,padding:"0.625rem 1rem",border:"none",borderRadius:"0.5rem",background:H?e.colors.text.secondary:e.colors.warning,color:"white",fontSize:"0.875rem",fontWeight:600,cursor:H?"not-allowed":"pointer",transition:"all 0.2s"},children:H?"Withdrawing...":"Withdraw"})]})]})]})})]})}const A3=()=>{var v;const{cryptoWallets:e,backendService:t}=Yt(),{showToast:r}=Yr(),[n,s]=T.useState(!1),[o,a]=T.useState(null),[l,c]=T.useState(null),[d,b]=T.useState(null),[x,m]=T.useState(""),[h,y]=T.useState(""),[N,W]=T.useState(""),[w,k]=T.useState(""),[j,P]=T.useState(null),[C,B]=T.useState([]),[R,H]=T.useState(null),[X,$]=T.useState(null),[Y,J]=T.useState(null),[A,U]=T.useState(!1),[V,K]=T.useState([]),[te,Q]=T.useState(""),[ne,ue]=T.useState(""),[de,le]=T.useState(""),[fe,F]=T.useState(""),[ke,xe]=T.useState(""),[ye,pe]=T.useState(""),[me,M]=T.useState(""),[q,L]=T.useState(""),[re,Z]=T.useState(""),[D,S]=T.useState(""),[f,p]=T.useState(""),[E,O]=T.useState(""),[_,ie]=T.useState("");T.useEffect(()=>{(async()=>{try{const g=await(t==null?void 0:t.getAvailableBills());K(g||[])}catch(g){ri(g,"payment",r),K([{id:"mpesa-paybill",name:"M-Pesa Paybill",icon:Ps,description:"Pay bills using M-Pesa",paybillNumber:"174379",accountType:"Paybill",status:"active",requiresPaybill:!0,color:"#10b981",fields:["paybillNumber","accountNumber"],serviceIcon:""},{id:"electricity",name:"Electricity",icon:hs,description:"Kenya Power & Lighting Co.",paybillNumber:"888888",accountType:"Paybill",status:"active",requiresPaybill:!0,color:"#f59e0b",fields:["paybillNumber","accountNumber","meterNumber"],serviceIcon:""},{id:"water",name:"Water Bill",icon:a3,description:"Nairobi Water & Sewerage Co.",paybillNumber:"888999",accountType:"Paybill",status:"active",requiresPaybill:!0,color:"#3b82f6",fields:["paybillNumber","accountNumber","meterNumber"],serviceIcon:""},{id:"internet",name:"Internet",icon:Fi,description:"Internet & Data Services",paybillNumber:"174379",accountType:"Paybill",status:"active",requiresPaybill:!0,color:"#8b5cf6",fields:["paybillNumber","accountNumber","phoneNumber"],serviceIcon:""},{id:"buy-goods",name:"Buy Goods",icon:pf,description:"Pay for goods and services",paybillNumber:"174379",accountType:"Buy Goods",status:"active",requiresPaybill:!1,color:"#ef4444",fields:["tillNumber","reference"],serviceIcon:""},{id:"send-money",name:"Send Money",icon:kr,description:"Send money to phone number",paybillNumber:"",accountType:"Send Money",status:"active",requiresPaybill:!1,color:"#06b6d4",fields:["recipientPhone","recipientName","reference"],serviceIcon:""},{id:"airtime",name:"Airtime",icon:yr,description:"Buy airtime for any network",paybillNumber:"",accountType:"Airtime",status:"active",requiresPaybill:!1,color:"#ec4899",fields:["phoneNumber","network"],serviceIcon:""},{id:"data-bundle",name:"Data Bundle",icon:Fi,description:"Buy internet data bundles",paybillNumber:"",accountType:"Data Bundle",status:"active",requiresPaybill:!1,color:"#8b5cf6",fields:["phoneNumber","bundleType"],serviceIcon:""},{id:"tv-subscription",name:"TV Subscription",icon:mf,description:"Pay TV subscription bills",paybillNumber:"174379",accountType:"Paybill",status:"active",requiresPaybill:!0,color:"#f97316",fields:["paybillNumber","accountNumber","packageType"],serviceIcon:""},{id:"insurance",name:"Insurance",icon:ht,description:"Pay insurance premiums",paybillNumber:"174379",accountType:"Paybill",status:"active",requiresPaybill:!0,color:"#059669",fields:["paybillNumber","accountNumber","policyNumber"],serviceIcon:""},{id:"school-fees",name:"School Fees",icon:t3,description:"Pay school fees and education",paybillNumber:"174379",accountType:"Paybill",status:"active",requiresPaybill:!0,color:"#7c3aed",fields:["paybillNumber","accountNumber","studentName"],serviceIcon:""},{id:"rent",name:"Rent",icon:P2,description:"Pay rent and housing",paybillNumber:"174379",accountType:"Paybill",status:"active",requiresPaybill:!0,color:"#0ea5e9",fields:["paybillNumber","accountNumber","propertyAddress"],serviceIcon:""}])}})()},[t]);const he=async()=>{try{s(!0),J(null);const u=await(t==null?void 0:t.getUSDTtoKESRate());a(u||135.5),c(new Date),b("Live Market Rate"),x&&we(x)}catch(u){const g=ri(u,"payment",r);J(g)}finally{s(!1)}},we=u=>{if(m(u),o&&u){const g=parseFloat(u),I=g/o;if(y(I.toFixed(6)),X){const se=z(g,X.currency);W(se)}}else y(""),W("")},z=(u,g)=>{if(!o)return"";const I=u/o;switch(g){case"ckBTC":return(I/45e3).toFixed(8);case"ckETH":return(I/3e3).toFixed(6);case"ICP":return(I/12).toFixed(4);default:return I.toFixed(2)}},ee=async()=>{if(!R||!X||!x){J("Please fill in all required fields");return}if(R.requiresPaybill&&(!te||!ne)){J("Please fill in paybill number and account number");return}if(R.id==="buy-goods"&&!te){J("Please fill in till number");return}if(R.id==="send-money"&&(!de||!fe)){J("Please fill in recipient phone and name");return}try{s(!0),J(null),await new Promise(u=>setTimeout(u,2e3)),P("success"),B(u=>[{id:Date.now(),bill:R.name,amount:x,status:"success",timestamp:new Date,recipient:R.id==="send-money"?fe:ne},...u]),nu("bill","payment",r,`${R.name} payment completed successfully!`),m(""),y(""),W(""),Q(""),ue(""),le(""),F(""),H(null),$(null)}catch(u){const g=ri(u,"payment",r);J(g),P("error")}finally{s(!1)}};return T.useEffect(()=>{he()},[]),i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:"2rem"},children:[i.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e293b",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx(De,{size:24}),"Payments & Bills"]}),i.jsx("p",{style:{fontSize:"0.875rem",color:"#64748b",margin:0},children:"Pay bills and send money using your crypto wallets"})]}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[i.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[i.jsx("div",{style:{width:"24px",height:"24px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"bold"},children:"$"}),"Exchange Rate"]}),i.jsx("button",{onClick:he,disabled:n,style:{background:"none",border:"none",color:"#3b82f6",cursor:"pointer",padding:"0.5rem",borderRadius:"0.375rem",transition:"all 0.2s"},children:i.jsx(_r,{size:16,style:{animation:n?"spin 1s linear infinite":"none"}})})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[i.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"USDT/KES Rate"}),i.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:o?`$${o.toFixed(2)}`:"Loading..."})]}),i.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Last Updated"}),i.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:l?l.toLocaleTimeString():"Never"})]}),i.jsxs("div",{style:{backgroundColor:"white",padding:"1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0"},children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:"Source"}),i.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:d||"Unknown"})]})]})]})}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[i.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(fr,{}),i.jsx("span",{children:"Make Payment"})]}),i.jsxs("div",{style:{marginBottom:"1.5rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.75rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"Select Service"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.75rem"},children:V.map(u=>i.jsxs("div",{onClick:()=>H(u),style:{background:(R==null?void 0:R.id)===u.id?"white":"transparent",border:`2px solid ${(R==null?void 0:R.id)===u.id?u.color:"#e2e8f0"}`,borderRadius:"1rem",padding:"1.25rem",cursor:"pointer",transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",position:"relative",overflow:"hidden"},onMouseEnter:g=>{(R==null?void 0:R.id)!==u.id&&(g.target.style.transform="translateY(-4px)",g.target.style.boxShadow=`0 8px 25px ${u.color}20`,g.target.style.borderColor=u.color)},onMouseLeave:g=>{(R==null?void 0:R.id)!==u.id&&(g.target.style.transform="translateY(0)",g.target.style.boxShadow="none",g.target.style.borderColor="#e2e8f0")},children:[i.jsx("div",{style:{position:"absolute",top:"-50%",right:"-50%",width:"100%",height:"100%",background:`radial-gradient(circle, ${u.color}10 0%, transparent 70%)`,opacity:(R==null?void 0:R.id)===u.id?1:0,transition:"opacity 0.3s ease"}}),i.jsx("div",{style:{width:"48px",height:"48px",background:`linear-gradient(135deg, ${u.color} 0%, ${u.color}dd 100%)`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",boxShadow:`0 4px 12px ${u.color}40`,position:"relative",zIndex:1,fontSize:"24px"},children:u.serviceIcon||""}),i.jsxs("div",{style:{textAlign:"center",position:"relative",zIndex:1},children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"700",color:(R==null?void 0:R.id)===u.id?u.color:"#1e293b",marginBottom:"0.25rem",transition:"color 0.3s ease"},children:u.name}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",lineHeight:"1.3"},children:u.description}),i.jsx("div",{style:{marginTop:"0.5rem",padding:"0.25rem 0.5rem",background:u.status==="active"?"#10b981":"#ef4444",color:"white",borderRadius:"0.5rem",fontSize:"0.625rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:u.status})]}),(R==null?void 0:R.id)===u.id&&i.jsx("div",{style:{position:"absolute",top:"0.5rem",right:"0.5rem",width:"20px",height:"20px",background:u.color,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"bold"},children:i.jsx(Nt,{size:12})})]},u.id))})]}),i.jsxs("div",{style:{marginBottom:"1.5rem"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.75rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(z2,{size:16,style:{color:"#3b82f6"}}),"Select Wallet"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsxs("div",{onClick:()=>U(!A),style:{background:"white",border:"1px solid #d1d5db",borderRadius:"0.5rem",padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s"},children:[X?i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:X.currency==="NST"?"#8b5cf6":X.currency==="ICP"?"#3b82f6":"#f59e0b",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"600"},children:X.currency}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b"},children:X.name}),i.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:[((v=X.balance)==null?void 0:v.toFixed(4))||"0.0000"," ",X.currency]})]})]}):i.jsx("span",{style:{color:"#9ca3af"},children:"Choose wallet"}),i.jsx(gd,{size:16,style:{transform:A?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),A&&i.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",zIndex:10,maxHeight:"200px",overflow:"auto"},children:e.map(u=>{var g;return i.jsxs("div",{onClick:()=>{$(u),U(!1),x&&we(x)},style:{padding:"1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.75rem",transition:"all 0.2s ease",borderBottom:"1px solid #f1f5f9"},onMouseEnter:I=>{I.target.style.backgroundColor="#f8fafc",I.target.style.transform="translateX(4px)"},onMouseLeave:I=>{I.target.style.backgroundColor="transparent",I.target.style.transform="translateX(0)"},children:[i.jsx("div",{style:{width:"40px",height:"40px",background:u.currency==="NST"?"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)":u.currency==="ICP"?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.875rem",fontWeight:"700",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:u.currency}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b",marginBottom:"0.125rem"},children:u.name}),i.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b",display:"flex",alignItems:"center",gap:"0.25rem"},children:[i.jsx(De,{size:12}),((g=u.balance)==null?void 0:g.toFixed(4))||"0.0000"," ",u.currency]})]}),i.jsx("div",{style:{padding:"0.25rem 0.5rem",background:"#10b981",color:"white",borderRadius:"0.375rem",fontSize:"0.625rem",fontWeight:"600",textTransform:"uppercase"},children:"Active"})]},u.id)})})]})]}),i.jsxs("div",{style:{marginBottom:"1.5rem"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.75rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(De,{size:16,style:{color:"#059669"}}),"Amount (KES)"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"number",value:x,onChange:u=>we(u.target.value),placeholder:"Enter amount in KES",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(De,{size:16})})]})]}),x&&o&&i.jsx("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"white",borderRadius:"0.5rem",border:"1px solid #e2e8f0"},children:i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"#f0fdf4",borderRadius:"0.5rem",border:"1px solid #bbf7d0"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, #059669 0%, #10b981 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:i.jsx(De,{size:16})}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#059669",marginBottom:"0.25rem",fontWeight:"500"},children:"KES Amount"}),i.jsxs("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#059669"},children:[parseFloat(x).toLocaleString()," KES"]})]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"#eff6ff",borderRadius:"0.5rem",border:"1px solid #bfdbfe"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:i.jsx(fr,{size:16})}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#2563eb",marginBottom:"0.25rem",fontWeight:"500"},children:"USDT Equivalent"}),i.jsxs("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#2563eb"},children:[h," USDT"]})]})]}),X&&N&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"#fef3c7",borderRadius:"0.5rem",border:"1px solid #fde68a"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:X.currency==="NST"?"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)":X.currency==="ICP"?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"700"},children:X.currency}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#d97706",marginBottom:"0.25rem",fontWeight:"500"},children:"Wallet Amount"}),i.jsxs("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#d97706"},children:[N," ",X.currency]})]})]})]})}),R&&R.requiresPaybill&&i.jsxs("div",{style:{marginBottom:"1.5rem"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Rg,{size:14,style:{color:"#3b82f6"}}),"Paybill Number"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:te,onChange:u=>Q(u.target.value),placeholder:"Enter paybill number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(Rg,{size:14})})]})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Ag,{size:14,style:{color:"#8b5cf6"}}),"Account Number"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:ne,onChange:u=>ue(u.target.value),placeholder:"Enter account number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(Ag,{size:14})})]})]})]}),(R.id==="electricity"||R.id==="water")&&i.jsxs("div",{style:{marginTop:"1rem"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(hs,{size:14,style:{color:R.id==="electricity"?"#f59e0b":"#3b82f6"}}),"Meter Number"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:ke,onChange:u=>xe(u.target.value),placeholder:"Enter meter number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(hs,{size:14})})]})]}),R.id==="internet"&&i.jsxs("div",{style:{marginTop:"1rem"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(yr,{size:14,style:{color:"#8b5cf6"}}),"Phone Number"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:w,onChange:u=>k(u.target.value),placeholder:"Enter phone number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(yr,{size:14})})]})]}),R.id==="tv-subscription"&&i.jsxs("div",{style:{marginTop:"1rem"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(mf,{size:14,style:{color:"#f97316"}}),"Package Type"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsxs("select",{value:D,onChange:u=>S(u.target.value),style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"},children:[i.jsx("option",{value:"",children:"Select package"}),i.jsx("option",{value:"basic",children:"Basic Package"}),i.jsx("option",{value:"premium",children:"Premium Package"}),i.jsx("option",{value:"sports",children:"Sports Package"}),i.jsx("option",{value:"movies",children:"Movies Package"})]}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(mf,{size:14})})]})]}),R.id==="insurance"&&i.jsxs("div",{style:{marginTop:"1rem"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(ht,{size:14,style:{color:"#059669"}}),"Policy Number"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:f,onChange:u=>p(u.target.value),placeholder:"Enter policy number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(ht,{size:14})})]})]}),R.id==="school-fees"&&i.jsxs("div",{style:{marginTop:"1rem"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Qo,{size:14,style:{color:"#7c3aed"}}),"Student Name"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:E,onChange:u=>O(u.target.value),placeholder:"Enter student name",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(Qo,{size:14})})]})]}),R.id==="rent"&&i.jsxs("div",{style:{marginTop:"1rem"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Mh,{size:14,style:{color:"#0ea5e9"}}),"Property Address"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:_,onChange:u=>ie(u.target.value),placeholder:"Enter property address",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(Mh,{size:14})})]})]})]}),R&&R.id==="buy-goods"&&i.jsx("div",{style:{marginBottom:"1.5rem"},children:i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(pf,{size:14,style:{color:"#ef4444"}}),"Till Number"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:ye,onChange:u=>pe(u.target.value),placeholder:"Enter till number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(pf,{size:14})})]})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Hl,{size:14,style:{color:"#8b5cf6"}}),"Reference"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:me,onChange:u=>M(u.target.value),placeholder:"Enter reference",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(Hl,{size:14})})]})]})]})}),R&&R.id==="send-money"&&i.jsxs("div",{style:{marginBottom:"1.5rem"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(yr,{size:14,style:{color:"#06b6d4"}}),"Recipient Phone"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:de,onChange:u=>le(u.target.value),placeholder:"Enter phone number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(yr,{size:14})})]})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Qo,{size:14,style:{color:"#06b6d4"}}),"Recipient Name"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:fe,onChange:u=>F(u.target.value),placeholder:"Enter recipient name",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(Qo,{size:14})})]})]})]}),i.jsxs("div",{style:{marginTop:"1rem"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Hl,{size:14,style:{color:"#06b6d4"}}),"Reference"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:me,onChange:u=>M(u.target.value),placeholder:"Enter reference (optional)",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(Hl,{size:14})})]})]})]}),R&&R.id==="airtime"&&i.jsx("div",{style:{marginBottom:"1.5rem"},children:i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(yr,{size:14,style:{color:"#ec4899"}}),"Phone Number"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:w,onChange:u=>k(u.target.value),placeholder:"Enter phone number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(yr,{size:14})})]})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Fi,{size:14,style:{color:"#ec4899"}}),"Network"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsxs("select",{value:q,onChange:u=>L(u.target.value),style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"},children:[i.jsx("option",{value:"",children:"Select network"}),i.jsx("option",{value:"safaricom",children:"Safaricom"}),i.jsx("option",{value:"airtel",children:"Airtel"}),i.jsx("option",{value:"telkom",children:"Telkom"})]}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(Fi,{size:14})})]})]})]})}),R&&R.id==="data-bundle"&&i.jsx("div",{style:{marginBottom:"1.5rem"},children:i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(yr,{size:14,style:{color:"#8b5cf6"}}),"Phone Number"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{type:"text",value:w,onChange:u=>k(u.target.value),placeholder:"Enter phone number",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"}}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(yr,{size:14})})]})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Fi,{size:14,style:{color:"#8b5cf6"}}),"Bundle Type"]}),i.jsxs("div",{style:{position:"relative"},children:[i.jsxs("select",{value:re,onChange:u=>Z(u.target.value),style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",background:"white"},children:[i.jsx("option",{value:"",children:"Select bundle"}),i.jsx("option",{value:"daily",children:"Daily Bundle"}),i.jsx("option",{value:"weekly",children:"Weekly Bundle"}),i.jsx("option",{value:"monthly",children:"Monthly Bundle"}),i.jsx("option",{value:"night",children:"Night Bundle"})]}),i.jsx("div",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#64748b"},children:i.jsx(Fi,{size:14})})]})]})]})}),Y&&i.jsxs("div",{style:{padding:"0.75rem",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",color:"#dc2626",fontSize:"0.875rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(y3,{size:16}),Y]}),j==="success"&&i.jsxs("div",{style:{padding:"0.75rem",background:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"0.5rem",color:"#059669",fontSize:"0.875rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Es,{size:16}),"Payment successful! Transaction has been processed."]}),i.jsx("button",{onClick:ee,disabled:n||!R||!X||!x,style:{width:"100%",padding:"0.875rem",background:n||!R||!X||!x?"#e2e8f0":"linear-gradient(135deg, #10b981 0%, #059669 100%)",border:"none",borderRadius:"0.5rem",color:n||!R||!X||!x?"#64748b":"white",fontSize:"0.875rem",fontWeight:"600",cursor:n||!R||!X||!x?"not-allowed":"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:n?i.jsxs(i.Fragment,{children:[i.jsx(_r,{size:16,style:{animation:"spin 1s linear infinite"}}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(cl,{size:16}),"Pay ",x?`${parseFloat(x).toLocaleString()} KES`:""]})})]})}),C.length>0&&i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[i.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(fr,{}),i.jsx("span",{children:"Recent Transactions"})]}),i.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:C.slice(0,5).map(u=>i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:"white",borderRadius:"0.5rem",border:"1px solid #e2e8f0"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:i.jsx(Es,{size:16})}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b"},children:u.bill}),i.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:[u.recipient,"  ",u.timestamp.toLocaleString()]})]})]}),i.jsxs("div",{style:{textAlign:"right"},children:[i.jsxs("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#10b981"},children:[u.amount," KES"]}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:u.status})]})]},u.id))})]})}),i.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},R3=e=>e?e.length<2?{isValid:!1,error:"Display name must be at least 2 characters"}:e.length>50?{isValid:!1,error:"Display name must be less than 50 characters"}:/^[a-zA-Z0-9\s\-_.,!?'"()]+$/.test(e)?e.trim()!==e?{isValid:!1,error:"Display name cannot start or end with spaces"}:/\s{2,}/.test(e)?{isValid:!1,error:"Display name cannot contain multiple consecutive spaces"}:{isValid:!0}:{isValid:!1,error:"Display name contains invalid characters"}:{isValid:!1,error:"Display name is required"};function z3(){const{user:e,updateProfile:t}=Yt(),{showToast:r}=Yr(),[n,s]=T.useState(!1),[o,a]=T.useState(""),[l,c]=T.useState(!1),[d,b]=T.useState(null),[x,m]=T.useState(!1);T.useEffect(()=>{a((e==null?void 0:e.displayName)||"")},[e==null?void 0:e.displayName]);const h=async()=>{b(null);const W=R3(o);if(!W.isValid){b(W.error);return}try{c(!0),await t(o,null),s(!1),nu("username","profile",r)}catch(w){const k=ri(w,"profile",r);b(k)}finally{c(!1)}},y=()=>{a((e==null?void 0:e.displayName)||""),b(null),s(!1)},N=()=>{navigator.clipboard.writeText((e==null?void 0:e.username)||""),r("Username copied to clipboard","success")};return i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:"#f8fafc",borderRadius:"0.5rem",border:"1px solid #e2e8f0"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:"#e2e8f0",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b"},children:i.jsx(Qo,{size:16})}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.125rem"},children:"Username"}),i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:"#1e293b"},children:(e==null?void 0:e.username)||""})]})]}),i.jsxs("button",{onClick:N,style:{background:"none",border:"1px solid #d1d5db",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",color:"#64748b",cursor:"pointer",fontSize:"0.75rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.375rem",transition:"all 0.2s"},children:[i.jsx(mi,{size:12}),"Copy"]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:"#f8fafc",borderRadius:"0.5rem",border:"1px solid #e2e8f0"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:"#e2e8f0",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b"},children:i.jsx(gi,{size:16})}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.125rem"},children:"Display Name"}),n?i.jsx("input",{type:"text",value:o,onChange:W=>a(W.target.value),style:{fontSize:"0.875rem",fontWeight:600,color:"#1e293b",background:"white",border:"1px solid #d1d5db",borderRadius:"0.25rem",padding:"0.25rem 0.5rem",outline:"none",width:"200px"},placeholder:"Enter display name"}):i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:"#1e293b"},children:(e==null?void 0:e.displayName)||"Not set"})]})]}),n?i.jsxs("div",{style:{display:"flex",gap:"0.375rem"},children:[i.jsxs("button",{onClick:h,disabled:l,style:{background:"#10b981",border:"none",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",color:"white",cursor:l?"not-allowed":"pointer",fontSize:"0.75rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.375rem",opacity:l?.6:1,transition:"all 0.2s"},children:[i.jsx(Nt,{size:12}),l?"Saving...":"Save"]}),i.jsxs("button",{onClick:y,style:{background:"none",border:"1px solid #d1d5db",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",color:"#64748b",cursor:"pointer",fontSize:"0.75rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.375rem",transition:"all 0.2s"},children:[i.jsx(ot,{size:12}),"Cancel"]})]}):i.jsxs("button",{onClick:()=>s(!0),style:{background:"none",border:"1px solid #d1d5db",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",color:"#64748b",cursor:"pointer",fontSize:"0.75rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.375rem",transition:"all 0.2s"},children:[i.jsx(gi,{size:12}),"Edit"]})]}),d&&i.jsx("div",{style:{padding:"0.5rem 0.75rem",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.375rem",color:"#991b1b",fontSize:"0.75rem"},children:d}),i.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:i.jsx("button",{onClick:()=>m(!x),style:{background:"none",border:"none",padding:"0.375rem",color:"#64748b",cursor:"pointer",borderRadius:"0.25rem",transition:"all 0.2s"},children:i.jsx(eu,{size:14})})}),x&&i.jsx("div",{style:{padding:"0.75rem",background:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"0.5rem",fontSize:"0.75rem",color:"#0369a1"},children:i.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.5rem"},children:[i.jsx(ht,{size:14,style:{marginTop:"1px"}}),i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:600,marginBottom:"0.25rem"},children:"About Username & Display Name"}),i.jsxs("div",{style:{lineHeight:"1.4"},children:["Your ",i.jsx("strong",{children:"username"})," is automatically generated and unique. Your ",i.jsx("strong",{children:"display name"})," is what others see and can be customized."]})]})]})})]})}function F3(){const{theme:e}=bi(),{user:t,principal:r,cryptoWallets:n,recoveryMethods:s,updateProfile:o,refreshRecoveryMethods:a,getUserRecoveryMethods:l}=Yt(),{showToast:c}=Yr(),[d,b]=T.useState((t==null?void 0:t.displayName)||"");T.useState(!1);const[x,m]=T.useState(null),[h,y]=T.useState(null);T.useState(!1);const[N,W]=T.useState(null),[w,k]=T.useState(!1);T.useEffect(()=>{b((t==null?void 0:t.displayName)||"")},[t==null?void 0:t.displayName]),T.useEffect(()=>{(async()=>{if(t){k(!0);try{console.log("Profile: Loading recovery methods..."),await a(),console.log("Profile: Recovery methods loaded successfully"),c({message:"Recovery methods loaded successfully",type:"success"})}catch(K){console.error("Profile: Error loading recovery methods:",K),ri(K,"recovery",c)}finally{k(!1)}}})()},[t,a,c]);const j=(n==null?void 0:n.length)||0,P=(s==null?void 0:s.length)||0,C=V=>{const K=V.target.files[0];if(K){const te=new FileReader;te.onload=Q=>W(Q.target.result),te.readAsDataURL(K)}},B=V=>{navigator.clipboard.writeText(V),m("Copied to clipboard!"),setTimeout(()=>m(null),2e3)},R=async()=>{k(!0);try{await a(),c({message:"Recovery methods refreshed successfully",type:"success"})}catch(V){ri(V,"recovery",c)}finally{k(!1)}},H=V=>{switch(V){case"email":return i.jsx(xd,{size:16});case"phone":return i.jsx(yr,{size:16});case"authenticator":return i.jsx(FiSmartphone,{size:16});case"security":return i.jsx(M2,{size:16});default:return i.jsx(ht,{size:16})}},X=V=>{switch(V){case"email":return e.colors.info;case"phone":return e.colors.success;case"authenticator":return e.colors.warning;case"security":return e.colors.primary;default:return e.colors.text.secondary}},$=V=>{switch(V){case"email":return"Email Recovery";case"phone":return"SMS Recovery";case"authenticator":return"Authenticator App";case"security":return"Security Questions";default:return"Recovery Method"}},Y=V=>{try{return V.methodType==="security"&&V.value?JSON.parse(V.value).question||"Security Questions":V.value||"Not specified"}catch{return V.value||"Not specified"}},J=V=>V?V.split(" ").map(K=>K[0]).join("").toUpperCase().slice(0,2):"U",A=V=>{if(console.log("formatDate input:",V,"type:",typeof V),!V)return console.log("formatDate: no timestamp provided"),"";try{let K;if(typeof V=="number")console.log("formatDate: processing as number:",V),V>1e15?(console.log("formatDate: detected BigInt timestamp, converting from nanoseconds to milliseconds"),K=new Date(V/1e6)):K=new Date(V);else if(typeof V=="string"){console.log("formatDate: processing as string:",V);const Q=parseInt(V);console.log("formatDate: parsed string to number:",Q),isNaN(Q)?K=new Date(V):Q>1e15?(console.log("formatDate: detected BigInt timestamp, converting from nanoseconds to milliseconds"),K=new Date(Q/1e6)):K=new Date(Q)}else console.log("formatDate: processing as other type:",V),K=new Date(V);if(console.log("formatDate: created date object:",K),console.log("formatDate: date.getTime():",K.getTime()),console.log("formatDate: isNaN check:",isNaN(K.getTime())),isNaN(K.getTime()))return console.log("formatDate: invalid date detected"),"";const te=K.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return console.log("formatDate: formatted result:",te),te}catch(K){return console.error("formatDate: parsing error:",K),""}},U=V=>{if(console.log("formatDateTime input:",V,"type:",typeof V),!V)return console.log("formatDateTime: no timestamp provided"),"";try{let K;if(typeof V=="number")console.log("formatDateTime: processing as number:",V),V>1e15?(console.log("formatDateTime: detected BigInt timestamp, converting from nanoseconds to milliseconds"),K=new Date(V/1e6)):K=new Date(V);else if(typeof V=="string"){console.log("formatDateTime: processing as string:",V);const Q=parseInt(V);console.log("formatDateTime: parsed string to number:",Q),isNaN(Q)?K=new Date(V):Q>1e15?(console.log("formatDateTime: detected BigInt timestamp, converting from nanoseconds to milliseconds"),K=new Date(Q/1e6)):K=new Date(Q)}else console.log("formatDateTime: processing as other type:",V),K=new Date(V);if(console.log("formatDateTime: created date object:",K),console.log("formatDateTime: date.getTime():",K.getTime()),console.log("formatDateTime: isNaN check:",isNaN(K.getTime())),isNaN(K.getTime()))return console.log("formatDateTime: invalid date detected"),"";const te=K.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return console.log("formatDateTime: formatted result:",te),te}catch(K){return console.error("formatDateTime: parsing error:",K),""}};return i.jsxs("div",{style:{width:"100%",padding:"0 1rem",background:e.colors.background,minHeight:"100vh"},children:[x&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #10b981 0%, #05966 100%)",color:"white",padding:"1rem",borderRadius:"0.75rem",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[i.jsx(Nt,{size:20}),x]}),h&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",padding:"1rem",borderRadius:"0.75rem",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)"},children:[i.jsx(ht,{size:20}),h]}),i.jsxs("div",{style:{display:"grid",gap:"2rem",gridTemplateColumns:"1fr 2fr"},children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[i.jsxs("div",{style:{background:e.colors.white,borderRadius:"0.5rem",padding:"1.5rem",border:`1px solid ${e.colors.border.secondary}`,textAlign:"center",position:"relative"},children:[i.jsxs("div",{style:{position:"relative",display:"inline-block",marginBottom:"1.5rem"},children:[i.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:N?`url(${N})`:`linear-gradient(135deg, ${e.colors.primary} 0%, ${e.colors.primary}dd 100%)`,backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:"bold",color:N?"transparent":e.colors.white,margin:"0 auto",position:"relative",border:`3px solid ${e.colors.white}`,boxShadow:"none"},children:!N&&J((t==null?void 0:t.displayName)||(t==null?void 0:t.username))}),i.jsxs("label",{style:{position:"absolute",bottom:"0",right:"0",width:"32px",height:"32px",background:`linear-gradient(135deg, ${e.colors.primary} 0%, ${e.colors.primary}dd 100%)`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:e.colors.white,boxShadow:"none",transition:"all 0.15s ease"},children:[i.jsx(o3,{size:16}),i.jsx("input",{type:"file",accept:"image/*",onChange:C,style:{display:"none"}})]})]}),i.jsx("h2",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",fontWeight:600,color:e.colors.text.primary},children:(t==null?void 0:t.displayName)||(t==null?void 0:t.username)||"User"}),i.jsx("p",{style:{margin:"0 0 1.5rem 0",fontSize:"0.8rem",color:e.colors.text.secondary},children:(t==null?void 0:t.email)||"No email provided"}),i.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.375rem 0.75rem",background:`linear-gradient(135deg, ${e.colors.success} 0%, ${e.colors.success}dd 100%)`,color:e.colors.white,borderRadius:"0.375rem",fontSize:"0.75rem",fontWeight:500,marginBottom:"1.5rem"},children:[i.jsx("div",{style:{width:"6px",height:"6px",background:e.colors.white,borderRadius:"50%"}}),"Active Account"]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:e.colors.info},children:j}),i.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary},children:"Wallets"})]}),i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:e.colors.success},children:P}),i.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary},children:"Recovery"})]})]})]}),i.jsxs("div",{style:{background:e.colors.white,borderRadius:"0.5rem",padding:"1.25rem",border:`1px solid ${e.colors.border.secondary}`},children:[i.jsxs("h3",{style:{margin:"0 0 1rem 0",fontSize:"1rem",fontWeight:600,color:e.colors.text.primary,display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(ht,{size:20}),"Security Status"]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.625rem",background:e.colors.background,borderRadius:"0.375rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(tu,{size:16,color:e.colors.success}),i.jsx("span",{style:{fontSize:"0.8rem",color:e.colors.text.primary},children:"Account Security"})]}),i.jsx("div",{style:{color:e.colors.success,fontSize:"0.8rem",fontWeight:500},children:"Secure"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.625rem",background:e.colors.background,borderRadius:"0.375rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(xd,{size:16,color:e.colors.info}),i.jsx("span",{style:{fontSize:"0.8rem",color:e.colors.text.primary},children:"Email Verified"})]}),i.jsx("div",{style:{color:e.colors.success,fontSize:"0.8rem",fontWeight:500},children:""})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.625rem",background:e.colors.background,borderRadius:"0.375rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(ht,{size:16,color:e.colors.warning}),i.jsx("span",{style:{fontSize:"0.8rem",color:e.colors.text.primary},children:"Recovery Methods"})]}),i.jsx("div",{style:{color:P>0?e.colors.success:e.colors.error,fontSize:"0.8rem",fontWeight:500},children:P>0?`${P} Active`:"None"})]})]})]})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[i.jsxs("div",{style:{background:e.colors.white,borderRadius:"0.5rem",padding:"1.25rem",border:`1px solid ${e.colors.border.secondary}`},children:[i.jsxs("h3",{style:{margin:"0 0 1.5rem 0",fontSize:"1.125rem",fontWeight:600,color:e.colors.text.primary,display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Qo,{size:20}),"Account Details"]}),i.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"#f8fafc",borderRadius:"0.5rem"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary,marginBottom:"0.25rem"},children:"Principal ID"}),i.jsx("div",{style:{fontFamily:"monospace",fontSize:"0.8rem",color:e.colors.text.primary,fontWeight:500},children:r?`${r.toString().slice(0,12)}...${r.toString().slice(-8)}`:""})]}),i.jsxs("button",{onClick:()=>B((r==null?void 0:r.toString())||""),style:{background:`linear-gradient(135deg, ${e.colors.primary} 0%, ${e.colors.primary}dd 100%)`,border:"none",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",color:e.colors.white,cursor:"pointer",fontSize:"0.8rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.15s ease"},children:[i.jsx(mi,{size:14}),"Copy"]})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"#f8fafc",borderRadius:"0.5rem"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary,marginBottom:"0.25rem"},children:"Joined"}),i.jsx("div",{style:{fontSize:"0.8rem",color:e.colors.text.primary,fontWeight:500},children:t!=null&&t.createdAt?A(t.createdAt):""})]}),i.jsx(n3,{size:16,color:e.colors.text.secondary})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"#f8fafc",borderRadius:"0.5rem"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary,marginBottom:"0.25rem"},children:"Last Login"}),i.jsx("div",{style:{fontSize:"0.8rem",color:e.colors.text.primary,fontWeight:500},children:t!=null&&t.lastLoginAt?U(t.lastLoginAt):""})]}),i.jsx(Ia,{size:16,color:e.colors.text.secondary})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"#f8fafc",borderRadius:"0.5rem"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.25rem"},children:"Connected Wallets"}),i.jsxs("div",{style:{fontSize:"0.875rem",color:"#1e293b",fontWeight:500},children:[j," wallets"]})]}),i.jsx(z2,{size:16,color:"#64748b"})]})]})]}),i.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #e2e8f0"},children:[i.jsxs("h3",{style:{margin:"0 0 1.5rem 0",fontSize:"1.25rem",fontWeight:600,color:"#1e293b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(gi,{size:20}),"Username Settings"]}),i.jsx(z3,{})]}),i.jsxs("div",{style:{background:e.colors.white,borderRadius:"0.5rem",padding:"1.25rem",border:`1px solid ${e.colors.border.secondary}`},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[i.jsxs("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:600,color:e.colors.text.primary,display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(ht,{size:20}),"Recovery Methods",w&&i.jsx(_r,{size:16,style:{animation:"spin 1s linear infinite"}})]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx("button",{onClick:R,disabled:w,style:{background:e.colors.white,border:`1px solid ${e.colors.border.secondary}`,padding:"0.375rem",borderRadius:"0.375rem",color:e.colors.text.secondary,cursor:w?"not-allowed":"pointer",fontSize:"0.8rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.15s ease",opacity:w?.6:1},children:i.jsx(_r,{size:14})}),i.jsxs("button",{style:{background:`linear-gradient(135deg, ${e.colors.success} 0%, ${e.colors.success}dd 100%)`,border:"none",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",color:e.colors.white,cursor:"pointer",fontSize:"0.8rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.15s ease"},children:[i.jsx(_o,{size:14}),"Add Method"]})]})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(s||[]).map((V,K)=>i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.875rem",background:e.colors.background,borderRadius:"0.375rem",border:`1px solid ${e.colors.border.secondary}`},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx("div",{style:{width:"28px",height:"28px",background:X(V.methodType),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:e.colors.white},children:H(V.methodType)}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.8rem",fontWeight:600,color:e.colors.text.primary},children:$(V.methodType)}),i.jsx("div",{style:{fontSize:"0.75rem",color:e.colors.text.secondary},children:Y(V)}),V.createdAt&&i.jsxs("div",{style:{fontSize:"0.75rem",color:"#94a3b8",marginTop:"0.25rem"},children:["Added ",new Date(parseInt(V.createdAt)).toLocaleDateString()]})]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("div",{style:{width:"8px",height:"8px",background:V.verifiedAt?"#10b981":"#f59e0b",borderRadius:"50%"},title:V.verifiedAt?"Verified":"Pending verification"}),i.jsx("button",{style:{background:"none",border:"1px solid #e2e8f0",padding:"0.375rem",borderRadius:"0.375rem",cursor:"pointer",color:"#64748b",transition:"all 0.2s"},children:i.jsx(gi,{size:14})}),i.jsx("button",{style:{background:"none",border:"1px solid #ef4444",padding:"0.375rem",borderRadius:"0.375rem",cursor:"pointer",color:"#ef4444",transition:"all 0.2s"},children:i.jsx(W2,{size:14})})]})]},K)),(!s||s.length===0)&&i.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#64748b",fontSize:"0.875rem"},children:[i.jsx(ht,{size:48,style:{marginBottom:"1rem",opacity:.5}}),i.jsx("div",{children:"No recovery methods added yet."}),i.jsx("div",{style:{fontSize:"0.75rem",marginTop:"0.5rem"},children:"Add recovery methods to secure your account"})]})]})]})]})]})]})}function P3(){const{user:e,isAuthenticated:t,isLoading:r,sendAIMessage:n}=Yt(),{showToast:s}=Yr(),[o,a]=T.useState([{id:"1",type:"assistant",content:"Hello! I'm your AI Financial Assistant. I can help you with budgeting, investment advice, financial planning, and much more. What would you like to know?",timestamp:Date.now(),reactions:{}}]),[l,c]=T.useState(""),[d,b]=T.useState(!1),[x,m]=T.useState(!1);T.useState("general");const h=T.useRef(null),y=T.useRef(null);T.useEffect(()=>{var B;(B=h.current)==null||B.scrollIntoView({behavior:"smooth"})},[o]),T.useEffect(()=>{var B;(B=y.current)==null||B.focus()},[]);const N=[{icon:i.jsx(De,{}),text:"Budget Analysis",prompt:"Can you analyze my spending patterns and suggest a budget?"},{icon:i.jsx(fr,{}),text:"Investment Advice",prompt:"What investment strategies would you recommend for my goals?"},{icon:i.jsx(ru,{}),text:"Goal Planning",prompt:"Help me create a financial plan to achieve my goals."},{icon:i.jsx(fr,{}),text:"Portfolio Review",prompt:"Can you review my current portfolio and suggest improvements?"},{icon:i.jsx(ht,{}),text:"Risk Assessment",prompt:"What are the risks in my current financial situation?"},{icon:i.jsx(U2,{}),text:"Money Saving Tips",prompt:"Give me some practical tips to save more money."}],W=async B=>{if(B.preventDefault(),!l.trim()||d)return;const R={id:Date.now().toString(),type:"user",content:l.trim(),timestamp:Date.now(),reactions:{}};a(H=>[...H,R]),c(""),b(!0),m(!0);try{await new Promise($=>setTimeout($,1e3+Math.random()*2e3));const H=w(l.trim()),X={id:(Date.now()+1).toString(),type:"assistant",content:H,timestamp:Date.now(),reactions:{}};a($=>[...$,X])}catch{s({message:"Failed to get AI response",type:"error",icon:i.jsx(f3,{})}),a(X=>[...X,{id:(Date.now()+1).toString(),type:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:Date.now(),reactions:{}}])}finally{b(!1),m(!1)}},w=B=>{const R=B.toLowerCase();return R.includes("budget")||R.includes("spending")?"Based on your spending patterns, I recommend creating a 50/30/20 budget: 50% for needs, 30% for wants, and 20% for savings. Would you like me to help you categorize your expenses?":R.includes("invest")||R.includes("portfolio")?"For investment advice, I'd recommend diversifying across different asset classes. Consider starting with index funds for broad market exposure. What's your risk tolerance and investment timeline?":R.includes("save")||R.includes("money")?"Great question! Start by tracking all your expenses for a month, then identify areas to cut back. Consider the 1% rule - try to save 1% more each month. Would you like specific tips for your situation?":R.includes("goal")||R.includes("plan")?"Financial planning starts with clear goals. Let's break this down: What are your short-term (1 year), medium-term (5 years), and long-term (10+ years) financial goals?":R.includes("risk")||R.includes("security")?"Financial security involves having an emergency fund (3-6 months of expenses), proper insurance, and diversified investments. How much do you currently have saved for emergencies?":"I'm here to help with all your financial questions! I can assist with budgeting, investing, saving, debt management, and financial planning. What specific area would you like to focus on?"},k=B=>{var R;c(B),(R=y.current)==null||R.focus()},j=(B,R)=>{a(H=>H.map(X=>X.id===B?{...X,reactions:{...X.reactions,[R]:(X.reactions[R]||0)+1}}:X))},P=B=>{navigator.clipboard.writeText(B),s({message:"Message copied to clipboard",type:"success",icon:i.jsx(mi,{})})},C=B=>new Date(B).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{style:{width:"100%",height:"100vh",background:"linear-gradient(135deg, #075B5E 0%, #1C352D 100%)",display:"flex",flexDirection:"column",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[i.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",padding:"1.5rem 2rem",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",gap:"1rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)"},children:[i.jsx("div",{style:{width:48,height:48,background:"linear-gradient(135deg, #075B5E 0%, #1C352D 100%)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",boxShadow:"0 4px 12px rgba(7, 91, 94, 0.3)"},children:i.jsx(ff,{size:24})}),i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"#1a202c"},children:"AI Financial Assistant"}),i.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"#718096",fontSize:"0.9rem"},children:"Your personal financial advisor powered by AI"})]}),i.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"0.5rem"},children:[i.jsx("button",{style:{background:"rgba(7, 91, 94, 0.1)",border:"none",borderRadius:"8px",padding:"0.5rem",cursor:"pointer",color:"#075B5E",transition:"all 0.2s"},children:i.jsx(ip,{size:16})}),i.jsx("button",{style:{background:"rgba(7, 91, 94, 0.1)",border:"none",borderRadius:"8px",padding:"0.5rem",cursor:"pointer",color:"#075B5E",transition:"all 0.2s"},children:i.jsx(R2,{size:16})})]})]}),i.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"1rem 2rem",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[i.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",color:"#718096",fontWeight:600},children:"Quick Actions"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.75rem"},children:N.map((B,R)=>i.jsxs("button",{onClick:()=>k(B.prompt),style:{background:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(7, 91, 94, 0.2)",borderRadius:"10px",padding:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem",fontWeight:600,color:"#4a5568",transition:"all 0.2s ease",backdropFilter:"blur(10px)"},onMouseEnter:H=>{H.target.style.background="rgba(102, 126, 234, 0.1)",H.target.style.transform="translateY(-1px)",H.target.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.2)"},onMouseLeave:H=>{H.target.style.background="rgba(255, 255, 255, 0.8)",H.target.style.transform="translateY(0)",H.target.style.boxShadow="none"},children:[i.jsx("span",{style:{color:"#667eea"},children:B.icon}),B.text]},R))})]}),i.jsx("div",{style:{flex:1,padding:"1.5rem 2rem",overflowY:"auto",background:"rgba(255, 255, 255, 0.05)"},children:i.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[o.map(B=>i.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",animation:"slideIn 0.3s ease-out"},children:[i.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:B.type==="assistant"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"linear-gradient(135deg, #48bb78 0%, #38a169 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",flexShrink:0,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:B.type==="assistant"?i.jsx(ff,{size:18}):i.jsx(Qo,{size:18})}),i.jsx("div",{style:{flex:1},children:i.jsxs("div",{style:{background:B.type==="assistant"?"rgba(255, 255, 255, 0.95)":"rgba(102, 126, 234, 0.1)",borderRadius:"16px",padding:"1rem 1.25rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:B.type==="assistant"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(102, 126, 234, 0.2)",position:"relative"},children:[i.jsx("div",{style:{fontSize:"0.95rem",lineHeight:"1.5",color:B.type==="assistant"?"#2d3748":"#4a5568"},children:B.content}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid rgba(0, 0, 0, 0.05)"},children:[i.jsx("span",{style:{fontSize:"0.75rem",color:"#718096"},children:C(B.timestamp)}),B.type==="assistant"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>j(B.id,""),style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",borderRadius:"4px",color:"#718096",fontSize:"0.8rem"},children:[" ",B.reactions[""]||0]}),i.jsxs("button",{onClick:()=>j(B.id,""),style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",borderRadius:"4px",color:"#718096",fontSize:"0.8rem"},children:[" ",B.reactions[""]||0]}),i.jsx("button",{onClick:()=>P(B.content),style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",borderRadius:"4px",color:"#718096",fontSize:"0.8rem"},title:"Copy message",children:i.jsx(mi,{size:12})})]})]})]})})]},B.id)),x&&i.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",animation:"slideIn 0.3s ease-out"},children:[i.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",flexShrink:0},children:i.jsx(ff,{size:18})}),i.jsx("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"16px",padding:"1rem 1.25rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:i.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[i.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#667eea",animation:"typing 1.4s infinite ease-in-out"}}),i.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#667eea",animation:"typing 1.4s infinite ease-in-out 0.2s"}}),i.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#667eea",animation:"typing 1.4s infinite ease-in-out 0.4s"}})]})})]}),i.jsx("div",{ref:h})]})}),i.jsx("div",{style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",padding:"1.5rem 2rem",borderTop:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.1)"},children:i.jsxs("form",{onSubmit:W,style:{width:"100%",display:"flex",gap:"1rem",alignItems:"flex-end"},children:[i.jsx("div",{style:{flex:1},children:i.jsx("textarea",{ref:y,value:l,onChange:B=>c(B.target.value),placeholder:"Ask me anything about your finances...",disabled:d||r,style:{width:"100%",minHeight:"50px",maxHeight:"120px",padding:"0.875rem 1rem",border:"2px solid rgba(102, 126, 234, 0.2)",borderRadius:"12px",fontSize:"0.95rem",resize:"none",fontFamily:"inherit",outline:"none",background:"rgba(255, 255, 255, 0.9)",transition:"all 0.3s ease"},onFocus:B=>B.target.style.borderColor="rgba(102, 126, 234, 0.5)",onBlur:B=>B.target.style.borderColor="rgba(102, 126, 234, 0.2)",onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),W(B))}})}),i.jsx("button",{type:"submit",disabled:d||r||!l.trim(),style:{background:d||r||!l.trim()?"rgba(102, 126, 234, 0.3)":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"12px",padding:"0.875rem 1.25rem",cursor:d||r||!l.trim()?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:600,transition:"all 0.3s ease",boxShadow:d||r||!l.trim()?"none":"0 4px 12px rgba(102, 126, 234, 0.3)",minWidth:"120px",justifyContent:"center"},onMouseEnter:B=>{!d&&!r&&l.trim()&&(B.target.style.transform="translateY(-2px)",B.target.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.4)")},onMouseLeave:B=>{!d&&!r&&l.trim()&&(B.target.style.transform="translateY(0)",B.target.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.3)")},children:d?i.jsxs(i.Fragment,{children:[i.jsx(_r,{size:16,style:{animation:"spin 1s linear infinite"}}),"Thinking..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kr,{size:16}),"Send"]})})]})}),i.jsx("style",{children:`
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes typing {
          0%, 60%, 100% {
            transform: translateY(0);
          }
          30% {
            transform: translateY(-10px);
          }
        }
        
        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
      `})]})}const M3=[{value:"email",label:"Email Recovery",icon:xd,description:"Receive recovery code via email",color:"#3B82F6"},{value:"phone",label:"SMS Recovery",icon:yr,description:"Receive recovery code via SMS",color:"#10B981"},{value:"authenticator",label:"Authenticator App",icon:Ps,description:"Use your authenticator app code",color:"#8B5CF6"},{value:"security",label:"Security Questions",icon:M2,description:"Answer your security questions",color:"#F59E0B"}],Og=["What was the name of your first pet?","In what city were you born?","What is your mother's maiden name?","What was the name of your first school?","What is your favorite book?","What was the make of your first car?","What is the name of the street you grew up on?","What is your favorite food?","What was your childhood nickname?","What is the name of your best friend from childhood?"];function O3({isOpen:e=!1,onClose:t,onRecoveryComplete:r,mode:n="recovery",className:s=""}){const{initiateRecovery:o,verifyRecovery:a,completeRecovery:l,addRecoveryMethod:c,user:d}=Yt(),{showToast:b}=Yr(),[x,m]=T.useState(1),[h,y]=T.useState(null),[N,W]=T.useState(""),[w,k]=T.useState(!1),[j,P]=T.useState(null),[C,B]=T.useState(null),[R,H]=T.useState(""),[X,$]=T.useState(Array(12).fill("")),[Y,J]=T.useState({});T.useState({name:"",email:"",phone:"",relationship:""}),T.useState(!1),T.useState(!1);const[A,U]=T.useState(0),[V,K]=T.useState(null),[te,Q]=T.useState(0),[ne,ue]=T.useState({}),[de,le]=T.useState(!1),[fe,F]=T.useState(!1),ke=T.useRef([]);T.useRef([]),T.useEffect(()=>{(async()=>{if(window.PublicKeyCredential)try{const D=await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();le(D),F(!0)}catch(D){console.log("Biometric check failed:",D),le(!1)}})()},[]),T.useEffect(()=>{Q({1:20,2:40,3:60,4:80,5:100}[x]||0)},[x]);const xe=Z=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Z),ye=Z=>/^\+?[\d\s\-\(\)]{10,}$/.test(Z),pe=Z=>{y(Z),P(null),ue({}),m(2)},me=async Z=>{Z.preventDefault(),k(!0),P(null),ue({});try{if(h.value==="email"&&!xe(N)){ue({identifier:"Please enter a valid email address"});return}if(h.value==="phone"&&!ye(N)){ue({identifier:"Please enter a valid phone number"});return}if(h.value==="security"&&(!Y.question||!Y.answer)){ue({security:"Please select a question and provide an answer"});return}let D;switch(h.value){case"email":D=await c("email",N);break;case"phone":D=await c("phone",N);break;case"security":D=await c("security",JSON.stringify(Y));break;case"authenticator":D=await c("authenticator","authenticator");break;default:throw new Error("Unsupported recovery method")}console.log("Recovery method saved successfully:",{method:h.value,identifier:h.value==="security"?"Security Questions":N,result:D}),nu("add","recovery",b,`${h.label} recovery method added successfully!`),m(4),r&&r()}catch(D){const S=ri(D,"recovery",b);P(S)}finally{k(!1)}},M=(Z,D)=>{if(D.length<=1){const S=R.split("");S[Z]=D,H(S.join("")),D&&Z<5&&ke.current[Z+1]&&ke.current[Z+1].focus()}},q=async Z=>{Z.preventDefault(),k(!0),P(null);try{console.log("Verification attempt:",{method:h.value,recoveryRequestId:C,verificationCode:R?R.length:0,securityAnswers:Object.keys(Y).length});let D;switch(h.value){case"email":case"phone":if(R.length!==6)throw new Error("Please enter the complete 6-digit code");D=await a(C,R);break;case"security":D=await a(C,null,Y);break;default:throw new Error("Invalid verification method")}console.log("Verification result:",D),D.success&&(m(4),b({message:"Verification successful",type:"success",icon:i.jsx(Es,{})}))}catch(D){console.error("Verification error:",D),P(D.message||"Verification failed")}finally{k(!1)}},L=()=>{m(1),y(null),W(""),H(""),$(Array(12).fill("")),J({}),P(null),ue({}),U(0)},re=V&&Date.now()<V;return e?i.jsxs("div",{className:`enhanced-recovery-overlay ${s}`,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:[i.jsxs("div",{style:{width:"100%",maxWidth:"480px",background:"white",borderRadius:"16px",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",overflow:"hidden",maxHeight:"90vh"},children:[i.jsxs("div",{style:{padding:"1.5rem 1.5rem 1rem",background:"linear-gradient(135deg, #075B5E 0%, #1C352D 100%)",color:"white"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx("div",{style:{width:"40px",height:"40px",background:"rgba(255,255,255,0.2)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(ht,{size:20})}),i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:700},children:n==="setup"?"Add Recovery Method":"Account Recovery"}),i.jsx("p",{style:{margin:0,fontSize:"0.875rem",opacity:.8},children:n==="setup"?"Set up a new recovery method for your account":"Secure access to your account"})]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[x>1&&i.jsx("button",{onClick:()=>m(x-1),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"0.5rem",color:"white",cursor:"pointer"},title:"Go back",children:i.jsx(e3,{size:16})}),i.jsx("button",{onClick:t,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"0.5rem",color:"white",cursor:"pointer"},title:"Close",children:i.jsx(ot,{size:16})})]})]}),i.jsx("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"4px",height:"4px",overflow:"hidden"},children:i.jsx("div",{style:{background:"white",height:"100%",width:`${te}%`,transition:"width 0.3s ease",borderRadius:"4px"}})}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"0.5rem",fontSize:"0.75rem",opacity:.8},children:[i.jsxs("span",{children:["Step ",x," of 4"]}),i.jsxs("span",{children:[te,"% Complete"]})]})]}),i.jsxs("div",{style:{padding:"1.5rem",maxHeight:"calc(90vh - 200px)",overflowY:"auto"},children:[j&&i.jsxs("div",{style:{background:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx(ll,{className:"text-red-500"}),i.jsxs("div",{children:[i.jsx("div",{style:{color:"#DC2626",fontWeight:600,fontSize:"0.875rem"},children:"Recovery Failed"}),i.jsx("div",{style:{color:"#7F1D1D",fontSize:"0.875rem"},children:j})]})]}),re&&i.jsxs("div",{style:{background:"#FFFBEB",border:"1px solid #FDE68A",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx(Ia,{className:"text-yellow-500"}),i.jsxs("div",{children:[i.jsx("div",{style:{color:"#92400E",fontWeight:600,fontSize:"0.875rem"},children:"Account Temporarily Locked"}),i.jsxs("div",{style:{color:"#78350F",fontSize:"0.875rem"},children:["Too many failed attempts. Try again in ",Math.ceil((V-Date.now())/6e4)," minutes."]})]})]}),x===1&&i.jsxs("div",{children:[i.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.125rem",fontWeight:600},children:"Choose Recovery Method"}),i.jsx("p",{style:{margin:"0 0 1.5rem 0",color:"#6B7280",fontSize:"0.875rem"},children:"Select how you'd like to recover access to your account"}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:M3.map(Z=>{const D=Z.icon,S=Z.value==="biometric"&&!de;return i.jsxs("button",{onClick:()=>!S&&pe(Z),disabled:S,style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",border:`1px solid ${S?"#E5E7EB":Z.color}`,borderRadius:"12px",background:S?"#F9FAFB":"white",cursor:S?"not-allowed":"pointer",textAlign:"left",transition:"all 0.2s ease",opacity:S?.5:1},onMouseEnter:f=>{S||(f.target.style.background=`${Z.color}05`,f.target.style.transform="translateY(-1px)",f.target.style.boxShadow=`0 4px 12px ${Z.color}20`)},onMouseLeave:f=>{S||(f.target.style.background="white",f.target.style.transform="translateY(0)",f.target.style.boxShadow="none")},children:[i.jsx("div",{style:{width:"48px",height:"48px",background:`${Z.color}15`,color:Z.color,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(D,{size:20})}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{marginBottom:"0.25rem"},children:i.jsx("h4",{style:{margin:0,fontSize:"0.875rem",fontWeight:600},children:Z.label})}),i.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#6B7280"},children:Z.description})]}),i.jsx(cl,{size:16,style:{color:"#9CA3AF"}})]},Z.value)})})]}),x===2&&h&&i.jsxs("div",{children:[i.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.125rem",fontWeight:600},children:h.label}),i.jsx("p",{style:{margin:"0 0 1.5rem 0",color:"#6B7280",fontSize:"0.875rem"},children:h.description}),i.jsxs("form",{onSubmit:me,children:[["email","phone"].includes(h.value)&&i.jsxs("div",{style:{marginBottom:"1.5rem"},children:[i.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:h.value==="email"?"Email Address":"Phone Number"}),i.jsx("input",{type:h.value==="email"?"email":"tel",value:N,onChange:Z=>W(Z.target.value),placeholder:h.value==="email"?"your@email.com":"+1 (555) 123-4567",style:{width:"100%",padding:"0.75rem",border:`1px solid ${ne.identifier?"#EF4444":"#D1D5DB"}`,borderRadius:"8px",fontSize:"0.875rem",outline:"none"},required:!0}),ne.identifier&&i.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.75rem",color:"#EF4444"},children:ne.identifier})]}),h.value==="security"&&i.jsxs("div",{style:{marginBottom:"1.5rem"},children:[i.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"Security Question"}),i.jsxs("select",{value:Y.question||"",onChange:Z=>J({...Y,question:Z.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",background:"white"},required:!0,children:[i.jsx("option",{value:"",children:"Select a security question"}),Og.map((Z,D)=>i.jsx("option",{value:Z,children:Z},D))]}),i.jsxs("div",{style:{marginTop:"1rem"},children:[i.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"Answer"}),i.jsx("input",{type:"text",value:Y.answer||"",onChange:Z=>J({...Y,answer:Z.target.value}),placeholder:"Enter your answer",style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"0.875rem",outline:"none"},required:!0})]})]}),h.value==="authenticator"&&i.jsx("div",{style:{marginBottom:"1.5rem"},children:i.jsxs("div",{style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem",textAlign:"center"},children:[i.jsx("div",{style:{width:"48px",height:"48px",background:"#8b5cf6",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:"white"},children:i.jsx(Ps,{size:24})}),i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#1e293b",marginBottom:"0.5rem"},children:"Authenticator App"}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:"Use your authenticator app to generate codes"})]})}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i.jsx("button",{type:"button",onClick:()=>m(1),style:{flex:1,padding:"0.75rem",background:"white",color:"#6B7280",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer"},children:"Back"}),i.jsx("button",{type:"submit",disabled:w,style:{flex:1,padding:"0.75rem",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600",cursor:w?"not-allowed":"pointer",opacity:w?.7:1},children:w?"Saving...":"Save Recovery Method"})]})]})]}),x===3&&i.jsxs("div",{children:[i.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.125rem",fontWeight:600},children:"Verification Required"}),["email","phone"].includes(h.value)&&i.jsxs("div",{children:[i.jsxs("p",{style:{margin:"0 0 1.5rem 0",color:"#6B7280",fontSize:"0.875rem"},children:["Enter the 6-digit code sent to ",N]}),i.jsxs("form",{onSubmit:q,children:[i.jsx("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",marginBottom:"1.5rem"},children:Array(6).fill(0).map((Z,D)=>i.jsx("input",{ref:S=>ke.current[D]=S,type:"text",maxLength:"1",value:R[D]||"",onChange:S=>M(D,S.target.value),style:{width:"48px",height:"48px",textAlign:"center",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"1.125rem",fontWeight:600,outline:"none"}},D))}),i.jsx("button",{type:"submit",disabled:w||R.length!==6,style:{width:"100%",padding:"0.75rem",background:w||R.length!==6?"#9CA3AF":"linear-gradient(135deg, #075B5E 0%, #1C352D 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:600,cursor:w||R.length!==6?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:w?i.jsxs(i.Fragment,{children:[i.jsx(_r,{className:"animate-spin",size:16}),"Verifying..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Nt,{size:16}),"Verify Code"]})})]})]}),h.value==="security"&&i.jsxs("div",{children:[i.jsx("p",{style:{margin:"0 0 1.5rem 0",color:"#6B7280",fontSize:"0.875rem"},children:"Answer your security questions to verify your identity"}),i.jsxs("form",{onSubmit:q,children:[i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:Og.slice(0,3).map((Z,D)=>i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:Z}),i.jsx("input",{type:"text",value:Y[Z]||"",onChange:S=>J(f=>({...f,[Z]:S.target.value})),placeholder:"Your answer...",style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"0.875rem",outline:"none"},required:!0})]},D))}),i.jsx("button",{type:"submit",disabled:w,style:{width:"100%",padding:"0.75rem",background:w?"#9CA3AF":"linear-gradient(135deg, #075B5E 0%, #1C352D 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:600,cursor:w?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:w?i.jsxs(i.Fragment,{children:[i.jsx(_r,{className:"animate-spin",size:16}),"Verifying..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Nt,{size:16}),"Verify Answers"]})})]})]})]}),x===4&&i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",color:"white"},children:i.jsx(Es,{size:40})}),i.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",fontWeight:700,color:"#065F46"},children:n==="setup"?"Recovery Method Added!":"Recovery Successful!"}),i.jsx("p",{style:{margin:"0 0 1.5rem 0",color:"#6B7280",fontSize:"0.875rem"},children:n==="setup"?"Your new recovery method has been successfully added to your account.":"Your account has been successfully recovered. You can now access all your features."}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i.jsx("button",{onClick:L,style:{flex:1,padding:"0.75rem",background:"white",color:"#6B7280",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"0.875rem",fontWeight:600,cursor:"pointer"},children:n==="setup"?"Add Another Method":"Try Another Method"}),i.jsx("button",{onClick:()=>{r&&r(),t&&t()},style:{flex:1,padding:"0.75rem",background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:600,cursor:"pointer"},children:n==="setup"?"Done":"Continue to Account"})]})]})]}),i.jsx("div",{style:{padding:"1rem 1.5rem",background:"#F9FAFB",borderTop:"1px solid #E5E7EB",fontSize:"0.75rem",color:"#6B7280",textAlign:"center"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[i.jsx(eu,{size:14}),"Need help? Contact our support team"]})})]}),i.jsx("style",{children:`
        .animate-spin {
          animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]}):null}const $3=new qa;function U3(){var E,O;const e=Yt(),{showToast:t}=Yr(),{theme:r}=bi(),[n,s]=T.useState(!0),[o,a]=T.useState("overview"),[l,c]=T.useState(!0),[d,b]=T.useState(!1),[x,m]=T.useState(!1),[h,y]=T.useState(!1),[N,W]=T.useState(null),[w,k]=T.useState(!1),[j,P]=T.useState(!1),[C,B]=T.useState(!1),[R,H]=T.useState([]),[X,$]=T.useState({amount:"",toAddress:"",description:""}),[Y,J]=T.useState({totalBalance:0,walletCount:0,recentActivity:[]}),[A,U]=T.useState([]),V=T.useRef(null),K=Md();if(!e)return i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.125rem",color:r.colors.text.secondary},children:"Loading wallet..."});const{user:te,logout:Q,isAuthenticated:ne,isLoading:ue,principal:de,cryptoWallets:le,refreshCryptoWallets:fe,getUserRecoveryMethods:F,getUserNotifications:ke,getUnreadNotificationCount:xe}=e,[ye,pe]=T.useState(0),me=async()=>{try{const _=await ke(10,0);U(_||[]);const ie=await xe();pe(ie||0)}catch(_){console.error("Failed to load notifications:",_)}},M=async()=>{if(!X.amount||!X.toAddress||!N){t({message:"Please fill in all fields",type:"error"});return}try{const _=await $3.sendCrypto(N.id,X.toAddress,BigInt(Math.floor(Number(X.amount)*1e8)),X.description||"");_&&_.ok?(t({message:"Transaction sent successfully!",type:"success"}),$({amount:"",toAddress:"",description:""}),m(!1),fe&&fe()):t({message:`Transaction failed: ${(_==null?void 0:_.err)||"Unknown error"}`,type:"error"})}catch(_){console.error("Error sending crypto:",_)}},q=async _=>{if(_)try{await navigator.clipboard.writeText(_)}catch(ie){console.error("Copy failed:",ie)}};T.useEffect(()=>{const _=ie=>{V.current&&!V.current.contains(ie.target)&&b(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),T.useEffect(()=>{ne&&(async()=>{if(!ne){K("/");return}s(!0);try{await fe();const ie=await F();console.log("Loaded recovery methods:",ie),H(ie||[]),await me()}catch(ie){console.error("Error loading dashboard data:",ie)}finally{s(!1)}})()},[ne,K,fe,F]),T.useEffect(()=>{(()=>{const ie=(le==null?void 0:le.reduce((we,z)=>we+(z.balance||0),0))||0,he=(le==null?void 0:le.length)||0;J({totalBalance:ie,walletCount:he,recentActivity:[{icon:Mg,text:"Wallet synced",time:"2 min ago"},{icon:kr,text:"Payment sent",time:"1 hour ago"},{icon:Bn,text:"Payment received",time:"3 hours ago"}]})})()},[le]);const L=async()=>{await Q(),K("/")},re=_=>!_||isNaN(_)?"$0.00":_>=1e6?`$${(_/1e6).toFixed(1)}M`:_>=1e3?`$${(_/1e3).toFixed(1)}K`:`$${_.toFixed(2)}`,Z=_=>{switch(_){case"email":return i.jsx(xd,{size:20});case"phone":return i.jsx(yr,{size:20});case"authenticator":return i.jsx(Ps,{size:20});case"security":return i.jsx(FiKey,{size:20});default:return i.jsx(ht,{size:20})}},D=_=>{switch(_){case"email":return r.colors.primary;case"phone":return r.colors.success;case"authenticator":return r.colors.info;case"security":return r.colors.warning;default:return r.colors.text.secondary}},S=_=>{switch(_){case"email":return"Email Recovery";case"phone":return"SMS Recovery";case"authenticator":return"Authenticator App";case"security":return"Security Questions";default:return"Recovery Method"}},f=_=>{try{return _.methodType==="security"&&_.value?JSON.parse(_.value).question||"Security Questions":_.value||"Not specified"}catch{return _.value||"Not specified"}},p=_=>{if(!_)return null;try{const ie=parseInt(_)/1e6,he=new Date(ie);return isNaN(he.getTime())?null:he.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(ie){return console.warn("Error formatting timestamp:",ie),null}};return ue||n?i.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",background:`linear-gradient(135deg, ${r.colors.primary} 0%, ${r.colors.interactive.hover} 100%)`,color:r.colors.white},children:[i.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.3)",borderTop:"3px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),i.jsx("p",{style:{marginTop:"1rem",fontSize:"1rem"},children:"Loading wallet..."})]}):i.jsxs("div",{style:{minHeight:"100vh",background:r.colors.interactive.secondary,display:"flex"},children:[i.jsxs("aside",{style:{width:w?"80px":"280px",background:`linear-gradient(180deg, ${r.colors.white} 0%, ${r.colors.background} 100%)`,borderRight:`1px solid ${r.colors.border.secondary}`,padding:w?"1rem 0.5rem":"1.25rem",display:"flex",flexDirection:"column",position:"sticky",top:0,height:"100vh",overflowY:"auto",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"none"},onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:w?"0.75rem":"1rem",background:`linear-gradient(135deg, ${r.colors.primary} 0%, ${r.colors.primary}dd 100%)`,borderRadius:"0.5rem",color:r.colors.white,marginBottom:"1.5rem",fontSize:w?"1.5rem":"1.125rem",fontWeight:"700",letterSpacing:"0.025em",border:"none",position:"relative",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"none"},children:[w?"N":"Nesto",i.jsx("button",{onClick:()=>k(!w),style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:r.colors.white,fontSize:"0.75rem",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",opacity:w?0:1,transform:w?"rotate(180deg)":"rotate(0deg)",backdropFilter:"blur(10px)"},title:w?"Expand Sidebar":"Collapse Sidebar",children:""})]}),i.jsxs("nav",{style:{flex:1,textAlign:"left"},children:[i.jsxs("div",{style:{marginBottom:"1rem"},children:[!w&&i.jsx("h3",{style:{fontSize:"0.7rem",fontWeight:600,color:r.colors.text.muted,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.75rem",textAlign:"left",paddingLeft:"0.5rem"},children:"Wallet"}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem",alignItems:"flex-start"},children:[i.jsxs("button",{onClick:()=>a("overview"),style:{display:"flex",alignItems:"center",gap:w?"0":"0.75rem",padding:w?"0.75rem":"0.75rem 1rem",background:o==="overview"?`linear-gradient(135deg, ${r.colors.primary}15 0%, ${r.colors.primary}25 100%)`:"transparent",border:o==="overview"?`1px solid ${r.colors.primary}30`:"1px solid transparent",borderRadius:"0.375rem",cursor:"pointer",color:o==="overview"?r.colors.primary:r.colors.text.secondary,fontWeight:o==="overview"?600:500,fontSize:"0.875rem",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",textAlign:w?"center":"left",width:"100%",justifyContent:w?"center":"flex-start",position:"relative"},title:w?"Overview":"",onMouseEnter:_=>{o!=="overview"&&(_.target.style.background=`${r.colors.primary}10`,_.target.style.borderColor=`${r.colors.primary}20`,_.target.style.color=r.colors.primary)},onMouseLeave:_=>{o!=="overview"&&(_.target.style.background="transparent",_.target.style.borderColor="transparent",_.target.style.color=r.colors.text.secondary)},children:[i.jsx(P2,{size:w?20:18}),!w&&"Overview"]}),i.jsxs("button",{onClick:()=>a("wallets"),style:{display:"flex",alignItems:"center",gap:w?"0":"0.75rem",padding:w?"0.75rem":"0.75rem 1rem",background:o==="wallets"?`linear-gradient(135deg, ${r.colors.primary}15 0%, ${r.colors.primary}25 100%)`:"transparent",border:o==="wallets"?`1px solid ${r.colors.primary}30`:"1px solid transparent",borderRadius:"0.375rem",cursor:"pointer",color:o==="wallets"?r.colors.primary:r.colors.text.secondary,fontWeight:o==="wallets"?600:500,fontSize:"0.875rem",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",textAlign:w?"center":"left",width:"100%",justifyContent:w?"center":"flex-start",position:"relative"},title:w?"Wallets":"",onMouseEnter:_=>{o!=="wallets"&&(_.target.style.background=`${r.colors.primary}10`,_.target.style.borderColor=`${r.colors.primary}20`,_.target.style.color=r.colors.primary)},onMouseLeave:_=>{o!=="wallets"&&(_.target.style.background="transparent",_.target.style.borderColor="transparent",_.target.style.color=r.colors.text.secondary)},children:[i.jsx(Mg,{size:w?20:18}),!w&&"Wallets"]}),i.jsxs("button",{onClick:()=>a("tokens"),style:{display:"flex",alignItems:"center",gap:w?"0":"0.75rem",padding:w?"0.75rem":"0.75rem 1rem",background:o==="tokens"?r.colors.interactive.secondary:"transparent",border:"none",borderRadius:"0.5rem",cursor:"pointer",color:o==="tokens"?r.colors.text.primary:r.colors.text.secondary,fontWeight:o==="tokens"?600:500,transition:"all 0.2s",textAlign:w?"center":"left",width:"100%",justifyContent:w?"center":"flex-start",position:"relative"},title:w?"Tokens":"",children:[i.jsx(Pg,{size:w?20:18}),!w&&"Tokens"]})]})]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[!w&&i.jsx("h3",{style:{fontSize:"0.7rem",fontWeight:600,color:r.colors.text.muted,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.75rem",paddingLeft:"0.5rem"},children:"Features"}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[i.jsxs("button",{onClick:()=>a("vaults"),style:{display:"flex",alignItems:"center",gap:w?"0":"0.75rem",padding:w?"0.75rem":"0.75rem 1rem",background:o==="vaults"?`linear-gradient(135deg, ${r.colors.primary}15 0%, ${r.colors.primary}25 100%)`:"transparent",border:o==="vaults"?`1px solid ${r.colors.primary}30`:"1px solid transparent",borderRadius:"0.375rem",cursor:"pointer",color:o==="vaults"?r.colors.primary:r.colors.text.secondary,fontWeight:o==="vaults"?600:500,fontSize:"0.875rem",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",textAlign:w?"center":"left",width:"100%",justifyContent:w?"center":"flex-start",position:"relative"},title:w?"Group Vaults":"",onMouseEnter:_=>{o!=="vaults"&&(_.target.style.background=`${r.colors.primary}10`,_.target.style.borderColor=`${r.colors.primary}20`,_.target.style.color=r.colors.primary)},onMouseLeave:_=>{o!=="vaults"&&(_.target.style.background="transparent",_.target.style.borderColor="transparent",_.target.style.color=r.colors.text.secondary)},children:[i.jsx(co,{size:w?20:18}),!w&&"Group Vaults"]}),i.jsxs("button",{onClick:()=>a("payments"),style:{display:"flex",alignItems:"center",gap:w?"0":"0.75rem",padding:w?"0.75rem":"0.75rem 1rem",background:o==="payments"?r.colors.interactive.secondary:"transparent",border:"none",borderRadius:"0.5rem",cursor:"pointer",color:o==="payments"?r.colors.text.primary:r.colors.text.secondary,fontWeight:o==="payments"?600:500,transition:"all 0.2s",textAlign:w?"center":"left",width:"100%",justifyContent:w?"center":"flex-start",position:"relative"},title:w?"Payments":"",children:[i.jsx(De,{size:w?20:18}),!w&&"Payments"]}),i.jsxs("button",{onClick:()=>a("ai"),style:{display:"flex",alignItems:"center",gap:w?"0":"0.75rem",padding:w?"0.75rem":"0.75rem 1rem",background:o==="ai"?r.colors.interactive.secondary:"transparent",border:"none",borderRadius:"0.5rem",cursor:"pointer",color:o==="ai"?r.colors.text.primary:r.colors.text.secondary,fontWeight:o==="ai"?600:500,transition:"all 0.2s",textAlign:w?"center":"left",width:"100%",justifyContent:w?"center":"flex-start",position:"relative"},title:w?"AI Assistant":"",children:[i.jsx(fr,{size:w?20:18}),!w&&"AI Assistant"]})]})]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[!w&&i.jsx("h3",{style:{fontSize:"0.75rem",fontWeight:600,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.75rem"},children:"Security"}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[i.jsxs("button",{onClick:()=>a("recovery"),style:{display:"flex",alignItems:"center",gap:w?"0":"0.75rem",padding:w?"0.75rem":"0.75rem 1rem",background:o==="recovery"?r.colors.interactive.secondary:"transparent",border:"none",borderRadius:"0.5rem",cursor:"pointer",color:o==="recovery"?r.colors.text.primary:r.colors.text.secondary,fontWeight:o==="recovery"?600:500,transition:"all 0.2s",textAlign:w?"center":"left",width:"100%",justifyContent:w?"center":"flex-start",position:"relative"},title:w?"Recovery":"",children:[i.jsx(ht,{size:w?20:18}),!w&&"Recovery"]}),i.jsxs("button",{onClick:()=>a("notifications"),style:{display:"flex",alignItems:"center",gap:w?"0":"0.75rem",padding:w?"0.75rem":"0.75rem 1rem",background:o==="notifications"?r.colors.interactive.secondary:"transparent",border:"none",borderRadius:"0.5rem",cursor:"pointer",color:o==="notifications"?r.colors.text.primary:r.colors.text.secondary,fontWeight:o==="notifications"?600:500,transition:"all 0.2s",textAlign:w?"center":"left",width:"100%",justifyContent:w?"center":"flex-start",position:"relative"},title:w?"Notifications":"",children:[i.jsx(uf,{size:w?20:18}),!w&&"Notifications"]})]})]})]}),i.jsxs("button",{onClick:L,style:{display:"flex",alignItems:"center",gap:w?"0":"0.75rem",padding:w?"0.75rem":"0.75rem 1rem",background:"transparent",border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",cursor:"pointer",color:r.colors.error,fontWeight:500,transition:"all 0.2s",textAlign:w?"center":"left",width:"100%",justifyContent:w?"center":"flex-start",position:"relative"},title:w?"Logout":"",children:[i.jsx(u3,{size:w?20:18}),!w&&"Logout"]})]}),i.jsxs("main",{style:{flex:1,display:"flex",flexDirection:"column"},children:[i.jsxs("header",{style:{background:r.colors.white,borderBottom:`1px solid ${r.colors.border.primary}`,padding:"1rem 1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:100,boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[i.jsx("button",{onClick:()=>k(!w),style:{background:"none",border:"none",padding:"0.5rem",cursor:"pointer",color:r.colors.text.secondary,borderRadius:"0.5rem",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem"},title:w?"Expand Sidebar":"Collapse Sidebar",children:w?"":""}),i.jsxs("div",{children:[i.jsxs("h1",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:r.colors.text.primary},children:[o==="overview"&&"Welcome",o==="wallets"&&"Wallets",o==="tokens"&&"Tokens",o==="vaults"&&"Group Vaults",o==="recovery"&&"Account Recovery",o==="notifications"&&"Notifications",o==="payments"&&"Payments",o==="ai"&&"AI Assistant",o==="recovery"&&"Account Recovery",o==="profile"&&"Profile"]}),i.jsxs("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.875rem",color:r.colors.text.secondary},children:[o==="overview"&&"Your wallet overview and quick actions",o==="wallets"&&"Manage your crypto wallets",o==="tokens"&&"NST token management and trading",o==="vaults"&&"Collaborative savings and investments",o==="payments"&&"Send and receive payments",o==="ai"&&"AI-powered financial assistance",o==="recovery"&&"Account recovery and security",o==="profile"&&"Profile and account settings"]})]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx("button",{onClick:()=>c(!l),style:{background:"none",border:"none",padding:"0.5rem",cursor:"pointer",color:r.colors.text.secondary,borderRadius:"0.5rem",transition:"all 0.2s"},title:l?"Hide Balances":"Show Balances",children:l?i.jsx(Ga,{size:20}):i.jsx(F2,{size:20})}),i.jsxs("div",{style:{position:"relative"},ref:V,children:[i.jsxs("button",{onClick:()=>b(!d),style:{background:"none",border:"none",padding:"0.5rem",cursor:"pointer",color:r.colors.text.secondary,borderRadius:"0.5rem",position:"relative",transition:"all 0.2s"},title:"Notifications",children:[i.jsx(uf,{size:20}),ye>0&&i.jsx("span",{style:{position:"absolute",top:"2px",right:"2px",background:r.colors.error,color:r.colors.white,borderRadius:"50%",width:"16px",height:"16px",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center"},children:ye})]}),d&&i.jsx("div",{style:{position:"absolute",top:"100%",right:0,background:r.colors.white,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.75rem",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",width:"320px",maxHeight:"400px",overflow:"auto",zIndex:1e3},children:i.jsxs("div",{style:{padding:"1rem"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",borderBottom:`1px solid ${r.colors.border.primary}`,paddingBottom:"0.5rem"},children:[i.jsx("h4",{style:{margin:0,color:r.colors.text.primary},children:"Notifications"}),i.jsxs("span",{style:{fontSize:"0.875rem",color:r.colors.text.secondary},children:[ye," unread"]})]}),A.length===0?i.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:r.colors.text.secondary},children:[i.jsx(uf,{size:24,style:{marginBottom:"0.5rem",opacity:.5}}),i.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:"No notifications"})]}):i.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:A.map(_=>i.jsxs("div",{style:{padding:"0.75rem",margin:"0.5rem 0",background:_.isRead?"transparent":r.colors.background.secondary,borderRadius:"0.5rem",border:`1px solid ${_.isRead?"transparent":r.colors.border.primary}`,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:ie=>{ie.target.style.background=r.colors.background.secondary},onMouseLeave:ie=>{ie.target.style.background=_.isRead?"transparent":r.colors.background.secondary},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.25rem"},children:[i.jsx("h5",{style:{margin:0,fontSize:"0.875rem",color:r.colors.text.primary,fontWeight:_.isRead?"normal":"600"},children:_.title}),i.jsx("span",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:p(_.createdAt)})]}),i.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:r.colors.text.secondary,lineHeight:"1.4"},children:_.message}),!_.isRead&&i.jsx("div",{style:{width:"8px",height:"8px",background:r.colors.primary,borderRadius:"50%",marginTop:"0.5rem"}})]},_.id))})]})})]}),i.jsx("div",{style:{width:"1px",height:"24px",background:r.colors.border.primary,margin:"0 0.25rem"}}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem 1rem",background:`linear-gradient(135deg, ${r.colors.interactive.secondary} 0%, ${r.colors.border.primary} 100%)`,borderRadius:"0.75rem",border:`1px solid ${r.colors.border.primary}`,cursor:"pointer",transition:"all 0.2s"},onClick:()=>a("profile"),onMouseEnter:_=>{_.target.style.transform="translateY(-1px)",_.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:_=>{_.target.style.transform="translateY(0)",_.target.style.boxShadow="none"},title:"View Profile",children:[i.jsx("div",{style:{width:"32px",height:"32px",background:`linear-gradient(135deg, ${r.colors.primary} 0%, ${r.colors.interactive.hover} 100%)`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.white,fontSize:"0.875rem",fontWeight:"bold"},children:((O=(E=te==null?void 0:te.username)==null?void 0:E.charAt(0))==null?void 0:O.toUpperCase())||"U"}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:r.colors.text.primary},children:(te==null?void 0:te.username)||"User"}),i.jsx("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:"View Profile"})]})]})]})]}),i.jsxs("div",{style:{flex:1,padding:"1.5rem",overflowY:"auto"},children:[o==="overview"&&i.jsxs("div",{style:{width:"100%"},children:[i.jsxs("div",{style:{background:`linear-gradient(135deg, ${r.colors.primary} 0%, ${r.colors.interactive.hover} 100%)`,borderRadius:"1rem",padding:"2rem",color:r.colors.white,marginBottom:"2rem",position:"relative",overflow:"hidden"},children:[i.jsx("div",{style:{position:"absolute",top:"-50%",right:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%)",animation:"pulse 3s ease-in-out infinite"}}),i.jsxs("div",{style:{position:"relative",zIndex:1},children:[i.jsx("h2",{style:{margin:"0 0 0.5rem 0",fontSize:"0.875rem",opacity:.9},children:"Total Balance"}),i.jsx("div",{style:{fontSize:"2.5rem",fontWeight:700,marginBottom:"1rem"},children:l?re(Y.totalBalance):""}),i.jsxs("div",{style:{display:"flex",gap:"2rem",fontSize:"0.875rem"},children:[i.jsxs("div",{children:[i.jsx("span",{style:{opacity:.8},children:"Wallets:"}),i.jsx("span",{style:{marginLeft:"0.5rem",fontWeight:600},children:Y.walletCount})]}),i.jsxs("div",{children:[i.jsx("span",{style:{opacity:.8},children:"Status:"}),i.jsx("span",{style:{marginLeft:"0.5rem",fontWeight:600,color:r.colors.success},children:" Secure"})]})]})]})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[i.jsxs("button",{onClick:()=>{le&&le.length>0?(W(le[0]),m(!0)):a("wallets")},style:{background:r.colors.white,border:`1px solid ${r.colors.border.secondary}`,borderRadius:"0.5rem",padding:"1rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",boxShadow:"none"},onMouseEnter:_=>{_.target.style.transform="translateY(-1px)",_.target.style.borderColor=r.colors.primary,_.target.style.boxShadow=`0 2px 8px ${r.colors.shadow.light}`},onMouseLeave:_=>{_.target.style.transform="translateY(0)",_.target.style.borderColor=r.colors.border.secondary,_.target.style.boxShadow="none"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:r.colors.success,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.white},children:i.jsx(kr,{size:16})}),i.jsx("span",{style:{fontWeight:500,color:r.colors.text.primary,fontSize:"0.8rem"},children:"Send"})]}),i.jsxs("button",{onClick:()=>{le&&le.length>0?(W(le[0]),y(!0)):a("wallets")},style:{background:r.colors.white,border:`1px solid ${r.colors.border.secondary}`,borderRadius:"0.5rem",padding:"1rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",boxShadow:"none"},onMouseEnter:_=>{_.target.style.transform="translateY(-1px)",_.target.style.borderColor=r.colors.primary,_.target.style.boxShadow=`0 2px 8px ${r.colors.shadow.light}`},onMouseLeave:_=>{_.target.style.transform="translateY(0)",_.target.style.borderColor=r.colors.border.secondary,_.target.style.boxShadow="none"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:r.colors.primary,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.white},children:i.jsx(Bn,{size:16})}),i.jsx("span",{style:{fontWeight:500,color:r.colors.text.primary,fontSize:"0.8rem"},children:"Receive"})]}),i.jsxs("button",{onClick:()=>a("wallets"),style:{background:r.colors.white,border:`1px solid ${r.colors.border.secondary}`,borderRadius:"0.5rem",padding:"1rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",boxShadow:"none"},onMouseEnter:_=>{_.target.style.transform="translateY(-1px)",_.target.style.borderColor=r.colors.primary,_.target.style.boxShadow=`0 2px 8px ${r.colors.shadow.light}`},onMouseLeave:_=>{_.target.style.transform="translateY(0)",_.target.style.borderColor=r.colors.border.secondary,_.target.style.boxShadow="none"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:r.colors.warning,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.white},children:i.jsx(_o,{size:16})}),i.jsx("span",{style:{fontWeight:500,color:r.colors.text.primary,fontSize:"0.8rem"},children:"Add Wallet"})]}),i.jsxs("button",{onClick:()=>a("tokens"),style:{background:r.colors.white,border:`1px solid ${r.colors.border.secondary}`,borderRadius:"0.5rem",padding:"1rem",cursor:"pointer",transition:"all 0.15s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",boxShadow:"none"},onMouseEnter:_=>{_.target.style.transform="translateY(-1px)",_.target.style.borderColor=r.colors.primary,_.target.style.boxShadow=`0 2px 8px ${r.colors.shadow.light}`},onMouseLeave:_=>{_.target.style.transform="translateY(0)",_.target.style.borderColor=r.colors.border.secondary,_.target.style.boxShadow="none"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:r.colors.info,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.white},children:i.jsx(Pg,{size:16})}),i.jsx("span",{style:{fontWeight:500,color:r.colors.text.primary,fontSize:"0.8rem"},children:"Tokens"})]})]}),i.jsxs("div",{style:{background:r.colors.white,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.75rem",padding:"1.5rem",marginBottom:"2rem"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[i.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:r.colors.text.primary},children:"Your Wallets"}),i.jsx("button",{onClick:()=>a("wallets"),style:{background:"none",border:"none",color:r.colors.primary,cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"View All"})]}),le&&le.length>0?i.jsxs("div",{style:{display:"grid",gap:"0.75rem"},children:[le.slice(0,3).map(_=>{var ie;return i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:r.colors.interactive.secondary,borderRadius:"0.5rem",border:`1px solid ${r.colors.border.primary}`},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:_.currency==="NST"?r.colors.info:_.currency==="ICP"?r.colors.primary:r.colors.warning,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.white,fontSize:"0.75rem",fontWeight:600},children:_.currency}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:r.colors.text.primary},children:_.name}),i.jsx("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:_.currency})]})]}),i.jsxs("div",{style:{textAlign:"right"},children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:r.colors.text.primary},children:l?`${((ie=_.balance)==null?void 0:ie.toFixed(4))||"0.0000"}`:""}),i.jsx("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:_.isPrimary?"Primary":"Secondary"})]})]},_.id)}),le.length>3&&i.jsxs("div",{style:{textAlign:"center",padding:"0.5rem",color:r.colors.text.secondary,fontSize:"0.75rem"},children:["+",le.length-3," more wallets"]})]}):i.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:r.colors.text.secondary},children:[i.jsx("div",{style:{fontSize:"0.875rem",marginBottom:"0.5rem"},children:"No wallets yet"}),i.jsx("button",{onClick:()=>a("wallets"),style:{background:r.colors.primary,border:"none",padding:"0.5rem 1rem",borderRadius:"0.375rem",color:r.colors.white,cursor:"pointer",fontSize:"0.75rem",fontWeight:500},children:"Create Wallet"})]})]}),i.jsxs("div",{style:{background:r.colors.white,borderRadius:"0.75rem",padding:"1.5rem",border:`1px solid ${r.colors.border.primary}`},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[i.jsx("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:600,color:r.colors.text.primary},children:"Recent Activity"}),i.jsx("button",{style:{background:"none",border:"none",color:r.colors.primary,cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"View All"})]}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Y.recentActivity.map((_,ie)=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderRadius:"0.5rem",background:r.colors.interactive.secondary},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:r.colors.border.primary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.secondary},children:i.jsx(_.icon,{size:16})}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:500,color:r.colors.text.primary},children:_.text}),i.jsx("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:_.time})]})]},ie))})]})]}),o==="wallets"&&i.jsx("div",{style:{width:"100%"},children:i.jsx(k3,{})}),o==="tokens"&&i.jsx("div",{style:{width:"100%"},children:i.jsx(E3,{})}),o==="vaults"&&i.jsx("div",{style:{width:"100%"},children:i.jsx(B3,{})}),o==="payments"&&i.jsx("div",{style:{width:"100%"},children:i.jsx(A3,{})}),o==="ai"&&i.jsx("div",{style:{width:"100%"},children:i.jsx(P3,{})}),o==="recovery"&&i.jsxs("div",{style:{width:"100%",padding:"1.5rem"},children:[i.jsxs("div",{style:{marginBottom:"2rem"},children:[i.jsx("h2",{style:{margin:"0 0 0.5rem 0",fontSize:"1.875rem",fontWeight:"600",color:r.colors.text.primary},children:"Account Recovery"}),i.jsx("p",{style:{margin:0,color:r.colors.text.secondary,fontSize:"1rem"},children:"Set up and manage your account recovery methods"})]}),o==="notifications"&&i.jsx("div",{style:{width:"100%",padding:"1.5rem"}}),i.jsxs("div",{style:{background:r.colors.white,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.75rem",padding:"1.5rem",marginBottom:"2rem"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[i.jsx("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:"600",color:r.colors.text.primary},children:"Recovery Methods"}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i.jsx("button",{onClick:async()=>{try{const _=await F();H(_||[]),t({message:"Recovery methods refreshed",type:"success"})}catch(_){console.error("Error refreshing recovery methods:",_),t({message:"Failed to refresh recovery methods",type:"error"})}},style:{background:"white",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",padding:"0.75rem",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},onMouseEnter:_=>_.target.style.transform="translateY(-1px)",onMouseLeave:_=>_.target.style.transform="translateY(0)",children:i.jsx(_r,{size:16})}),i.jsxs("button",{onClick:()=>B(!0),style:{background:`linear-gradient(135deg, ${r.colors.primary} 0%, ${r.colors.primary} 100%)`,color:r.colors.white,border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},onMouseEnter:_=>_.target.style.transform="translateY(-1px)",onMouseLeave:_=>_.target.style.transform="translateY(0)",children:[i.jsx(_o,{size:16}),"Add Recovery Method"]})]})]}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:R.length>0?R.map((_,ie)=>i.jsxs("div",{style:{background:r.colors.white,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",padding:"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[i.jsx("div",{style:{width:"48px",height:"48px",background:D(_.methodType),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:Z(_.methodType)}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:r.colors.text.primary,marginBottom:"0.25rem"},children:S(_.methodType)}),i.jsx("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:f(_)}),_.createdAt&&i.jsxs("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary,marginTop:"0.25rem"},children:["Added ",p(_.createdAt)]}),_.verifiedAt&&i.jsxs("div",{style:{fontSize:"0.75rem",color:r.colors.success,marginTop:"0.25rem"},children:["Verified ",p(_.verifiedAt)]})]}),i.jsx("div",{style:{width:"8px",height:"8px",background:_.verifiedAt?r.colors.success:r.colors.warning,borderRadius:"50%"},title:_.verifiedAt?"Verified":"Pending verification"})]},ie)):i.jsxs("div",{style:{background:r.colors.interactive.secondary,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",padding:"2rem",textAlign:"center"},children:[i.jsx("div",{style:{width:"48px",height:"48px",background:r.colors.border.primary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:r.colors.text.secondary},children:i.jsx(ht,{size:24})}),i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:r.colors.text.primary,marginBottom:"0.5rem"},children:"No Recovery Methods"}),i.jsx("div",{style:{fontSize:"0.75rem",color:r.colors.text.secondary},children:"Add recovery methods to secure your account"})]})})]}),i.jsx("div",{style:{background:r.colors.interactive.secondary,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.75rem",padding:"1.5rem"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx("div",{style:{width:"40px",height:"40px",background:r.colors.text.secondary,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:i.jsx(ht,{size:20})}),i.jsxs("div",{children:[i.jsx("h4",{style:{margin:"0 0 0.25rem 0",fontSize:"1rem",fontWeight:"600",color:"#1e293b"},children:"Account Security"}),i.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#64748b"},children:"Add recovery methods to secure your account access"})]})]})})]}),o==="profile"&&i.jsx("div",{style:{width:"100%"},children:i.jsx(F3,{})})]})]}),x&&N&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:i.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"90%",position:"relative"},children:[i.jsx("button",{onClick:()=>m(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b"},children:i.jsx(ot,{})}),i.jsx("div",{style:{width:"60px",height:"60px",background:r.colors.warning,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",color:r.colors.warning},children:i.jsx(kr,{size:24})}),i.jsxs("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600",color:r.colors.text.primary},children:["Send ",N.currency]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:r.colors.text.primary},children:"Amount"}),i.jsx("input",{type:"number",value:X.amount,onChange:_=>$(ie=>({...ie,amount:_.target.value})),style:{width:"100%",padding:"0.75rem",border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Enter amount"})]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:r.colors.text.primary},children:"To Address"}),i.jsx("input",{type:"text",value:X.toAddress,onChange:_=>$(ie=>({...ie,toAddress:_.target.value})),style:{width:"100%",padding:"0.75rem",border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Enter recipient address"})]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:r.colors.text.primary},children:"Description (Optional)"}),i.jsx("input",{type:"text",value:X.description,onChange:_=>$(ie=>({...ie,description:_.target.value})),style:{width:"100%",padding:"0.75rem",border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.875rem"},placeholder:"Transaction description"})]}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i.jsx("button",{onClick:()=>m(!1),style:{flex:1,padding:"0.75rem",border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",background:"white",color:r.colors.text.primary,cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Cancel"}),i.jsx("button",{onClick:M,style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"0.5rem",background:r.colors.primary,color:"white",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Send"})]})]})}),h&&N&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:i.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"90%",position:"relative"},children:[i.jsx("button",{onClick:()=>y(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b"},children:i.jsx(ot,{})}),i.jsx("div",{style:{width:"60px",height:"60px",background:r.colors.success,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",color:r.colors.success},children:i.jsx(Bn,{size:24})}),i.jsxs("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600",color:r.colors.text.primary},children:["Receive ",N.currency]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:r.colors.text.primary},children:"Your Address"}),i.jsx("div",{style:{padding:"0.75rem",background:r.colors.interactive.secondary,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",fontSize:"0.75rem",fontFamily:"monospace",color:r.colors.text.primary,wordBreak:"break-all",maxHeight:"80px",overflow:"auto"},children:N.address||"No address available"})]}),i.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:r.colors.success,border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",color:r.colors.success,fontSize:"0.875rem",fontWeight:"500"},children:[i.jsx(Bn,{size:16}),i.jsxs("span",{children:["Share this address to receive ",N.currency]})]}),i.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:r.colors.text.secondary,lineHeight:"1.4"},children:["Anyone can send ",N.currency," to this address. The funds will appear in your wallet once the transaction is confirmed on the network."]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i.jsxs("button",{onClick:()=>q(N.address||""),style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"0.5rem",background:r.colors.success,color:"white",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[i.jsx(mi,{size:16}),"Copy Address"]}),i.jsx("button",{onClick:()=>y(!1),style:{flex:1,padding:"0.75rem",border:`1px solid ${r.colors.border.primary}`,borderRadius:"0.5rem",background:"white",color:r.colors.text.primary,cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Close"})]})]})}),C&&i.jsx(O3,{isOpen:C,onClose:()=>B(!1),onRecoveryComplete:async()=>{B(!1),nu("add","recovery",t);try{const _=await F();H(_||[])}catch(_){console.error("Error refreshing recovery methods:",_)}},mode:"setup"}),i.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        @keyframes pulse {
          0%, 100% { opacity: 0.5; }
          50% { opacity: 0.8; }
        }
      `})]})}function $g({isOpen:e,onClose:t}){const[r,n]=T.useState("mobile");if(!e)return null;const s=[{id:"mobile",label:"Mobile",icon:Ps},{id:"desktop",label:"Desktop",icon:h3},{id:"tablet",label:"Tablet",icon:m3}],o={mobile:{chrome:["Open Chrome browser","Tap the menu () in the top right",'Tap "Add to Home screen"','Tap "Add" to confirm'],safari:["Open Safari browser","Tap the share button ()",'Tap "Add to Home Screen"','Tap "Add" to confirm'],firefox:["Open Firefox browser","Tap the menu () in the top right",'Tap "Add to Home Screen"','Tap "Add" to confirm']},desktop:{chrome:["Open Chrome browser","Click the install icon () in the address bar",'Click "Install" in the popup','Click "Install" to confirm'],firefox:["Open Firefox browser","Click the menu () in the top right",'Click "Install App"','Click "Install" to confirm'],edge:["Open Edge browser","Click the menu () in the top right",'Click "Apps"  "Install this site as an app"','Click "Install" to confirm']},tablet:{chrome:["Open Chrome browser","Tap the menu () in the top right",'Tap "Add to Home screen"','Tap "Add" to confirm'],safari:["Open Safari browser","Tap the share button ()",'Tap "Add to Home Screen"','Tap "Add" to confirm']}},a=()=>{if(!s.find(d=>d.id===r))return[];const c=navigator.userAgent.includes("Chrome")?"chrome":navigator.userAgent.includes("Firefox")?"firefox":navigator.userAgent.includes("Safari")?"safari":navigator.userAgent.includes("Edge")?"edge":"chrome";return o[r][c]||o[r].chrome||[]};return i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(4px)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},onClick:t,children:i.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto",position:"relative"},onClick:l=>l.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[i.jsx("h2",{style:{margin:0,color:"#075B5E",fontSize:"1.5rem",fontWeight:600},children:"Install Nesto App"}),i.jsx("button",{onClick:t,style:{background:"none",border:"none",color:"#6B7280",cursor:"pointer",padding:"0.5rem",borderRadius:"4px",fontSize:"1.25rem"},onMouseEnter:l=>l.target.style.background="#F3F4F6",onMouseLeave:l=>l.target.style.background="none",children:i.jsx(ot,{size:20})})]}),i.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:"1px solid #E5E7EB",paddingBottom:"1rem"},children:s.map(l=>{const c=l.icon;return i.jsxs("button",{onClick:()=>n(l.id),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1rem",background:r===l.id?"#075B5E":"transparent",color:r===l.id?"white":"#6B7280",border:"1px solid",borderColor:r===l.id?"#075B5E":"#E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500,transition:"all 0.2s ease"},onMouseEnter:d=>{r!==l.id&&(d.target.style.background="#F3F4F6")},onMouseLeave:d=>{r!==l.id&&(d.target.style.background="transparent")},children:[i.jsx(c,{size:16}),l.label]},l.id)})}),i.jsxs("div",{children:[i.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#374151",fontSize:"1.125rem"},children:"Installation Steps"}),i.jsx("ol",{style:{margin:0,paddingLeft:"1.5rem",color:"#4B5563",lineHeight:1.6},children:a().map((l,c)=>i.jsx("li",{style:{marginBottom:"0.5rem"},children:l},c))})]}),i.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#F0F9FF",border:"1px solid #BFDBFE",borderRadius:"8px"},children:[i.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#075985",fontSize:"1rem"},children:"Benefits of Installing"}),i.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#075985",fontSize:"0.875rem",lineHeight:1.5},children:[i.jsx("li",{children:"Quick access from your home screen"}),i.jsx("li",{children:"Works offline for basic features"}),i.jsx("li",{children:"Native app-like experience"}),i.jsx("li",{children:"Faster loading times"}),i.jsx("li",{children:"No browser tabs needed"})]})]}),i.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center",color:"#6B7280",fontSize:"0.875rem"},children:i.jsx("p",{style:{margin:0},children:"Need help? Check your browser's help section for detailed instructions."})})]})})}function W3(){const[e,t]=T.useState(null),[r,n]=T.useState(!1),[s,o]=T.useState(!1),[a,l]=T.useState(!1);T.useEffect(()=>{window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches&&o(!0);const x=h=>{h.preventDefault(),t(h),n(!0)},m=()=>{o(!0),n(!1),console.log("PWA was installed")};return"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(h=>{console.log("SW registered: ",h)}).catch(h=>{console.log("SW registration failed: ",h)})}),window.addEventListener("beforeinstallprompt",x),window.addEventListener("appinstalled",m),()=>{window.removeEventListener("beforeinstallprompt",x),window.removeEventListener("appinstalled",m)}},[]);const c=async()=>{if(!e)return;e.prompt();const{outcome:x}=await e.userChoice;console.log(x==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),t(null),n(!1)},d=()=>{n(!1)},b=()=>{l(!0)};return s||!r?i.jsx(i.Fragment,{children:i.jsx($g,{isOpen:a,onClose:()=>l(!1)})}):i.jsxs(i.Fragment,{children:[i.jsx($g,{isOpen:a,onClose:()=>l(!1)}),i.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"20px",right:"20px",background:"linear-gradient(135deg, #075B5E 0%, #1C352D 100%)",color:"white",padding:"1rem",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[i.jsxs("div",{style:{flex:1},children:[i.jsx("h4",{style:{margin:"0 0 0.25rem 0",fontSize:"1rem",fontWeight:600},children:"Install Nesto"}),i.jsx("p",{style:{margin:0,fontSize:"0.875rem",opacity:.9},children:"Get the full app experience with offline access and quick launch"})]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsxs("button",{onClick:c,style:{background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)",color:"white",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease"},onMouseEnter:x=>x.target.style.background="rgba(255,255,255,0.3)",onMouseLeave:x=>x.target.style.background="rgba(255,255,255,0.2)",children:[i.jsx(Bn,{size:16}),"Install"]}),i.jsx("button",{onClick:b,style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",color:"white",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:x=>x.target.style.background="rgba(255,255,255,0.2)",onMouseLeave:x=>x.target.style.background="rgba(255,255,255,0.1)",title:"Installation Guide",children:i.jsx(d3,{size:16})}),i.jsx("button",{onClick:d,style:{background:"none",border:"none",color:"rgba(255,255,255,0.7)",cursor:"pointer",padding:"0.5rem",borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:x=>x.target.style.background="rgba(255,255,255,0.1)",onMouseLeave:x=>x.target.style.background="none",title:"Dismiss",children:i.jsx(ot,{size:16})})]})]})]})}function V3(){const[e,t]=T.useState(!1),[r,n]=T.useState(!1),[s,o]=T.useState(null),[a,l]=T.useState(!1);T.useEffect(()=>{const b=()=>{window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches&&t(!0)},x=h=>{h.preventDefault(),o(h),n(!0),l(!0)},m=()=>{t(!0),n(!1),l(!0),setTimeout(()=>l(!1),3e3)};return b(),window.addEventListener("beforeinstallprompt",x),window.addEventListener("appinstalled",m),()=>{window.removeEventListener("beforeinstallprompt",x),window.removeEventListener("appinstalled",m)}},[]);const c=async()=>{if(!s)return;s.prompt();const{outcome:b}=await s.userChoice;console.log(b==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),o(null),n(!1)},d=()=>{l(!1)};return a?i.jsxs("div",{style:{position:"fixed",top:"20px",right:"20px",background:e?"#F0FDF4":"#FEF3C7",border:`1px solid ${e?"#BBF7D0":"#FDE68A"}`,color:e?"#166534":"#92400E",padding:"0.75rem 1rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",zIndex:9999,display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:500,maxWidth:"300px"},children:[e?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{size:16}),i.jsx("span",{children:"Nesto is installed!"})]}):r?i.jsxs(i.Fragment,{children:[i.jsx(Bn,{size:16}),i.jsx("span",{children:"Install Nesto for better experience"}),i.jsx("button",{onClick:c,style:{background:"#075B5E",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",cursor:"pointer",marginLeft:"auto"},children:"Install"})]}):i.jsxs(i.Fragment,{children:[i.jsx(eu,{size:16}),i.jsx("span",{children:"PWA features available"})]}),i.jsx("button",{onClick:d,style:{background:"none",border:"none",color:"inherit",cursor:"pointer",padding:"0.25rem",marginLeft:"auto",opacity:.7},onMouseEnter:b=>b.target.style.opacity="1",onMouseLeave:b=>b.target.style.opacity="0.7",children:i.jsx(ot,{size:14})})]}):null}function H3({children:e}){const t=Yt();if(!t)return i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.125rem",color:"#6b7280"},children:"Initializing authentication..."});const{isAuthenticated:r,isLoading:n}=t;return n?i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.125rem",color:"#6b7280"},children:"Loading..."}):r?e:i.jsx(PS,{to:"/",replace:!0})}function q3(){return i.jsx(G8,{children:i.jsx(q8,{children:i.jsx(wk,{children:i.jsx(I3,{children:i.jsx(ak,{children:i.jsxs("div",{className:"App",children:[i.jsxs(OS,{children:[i.jsx(dh,{path:"/",element:i.jsx(w3,{})}),i.jsx(dh,{path:"/dashboard",element:i.jsx(H3,{children:i.jsx(U3,{})})})]}),i.jsx(W3,{}),i.jsx(V3,{})]})})})})})})}function I3({children:e}){const t=Yr();return T.useEffect(()=>(window.notificationContext=t,()=>{delete window.notificationContext}),[t]),e}var V2={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ni,function(){return function(r){function n(o){if(s[o])return s[o].exports;var a=s[o]={exports:{},id:o,loaded:!1};return r[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var s={};return n.m=r,n.c=s,n.p="dist/",n(0)}([function(r,n,s){function o(U){return U&&U.__esModule?U:{default:U}}var a=Object.assign||function(U){for(var V=1;V<arguments.length;V++){var K=arguments[V];for(var te in K)Object.prototype.hasOwnProperty.call(K,te)&&(U[te]=K[te])}return U},l=s(1),c=(o(l),s(6)),d=o(c),b=s(7),x=o(b),m=s(8),h=o(m),y=s(9),N=o(y),W=s(10),w=o(W),k=s(11),j=o(k),P=s(14),C=o(P),B=[],R=!1,H={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},X=function(){var U=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(U&&(R=!0),R)return B=(0,j.default)(B,H),(0,w.default)(B,H.once),B},$=function(){B=(0,C.default)(),X()},Y=function(){B.forEach(function(U,V){U.node.removeAttribute("data-aos"),U.node.removeAttribute("data-aos-easing"),U.node.removeAttribute("data-aos-duration"),U.node.removeAttribute("data-aos-delay")})},J=function(U){return U===!0||U==="mobile"&&N.default.mobile()||U==="phone"&&N.default.phone()||U==="tablet"&&N.default.tablet()||typeof U=="function"&&U()===!0},A=function(U){H=a(H,U),B=(0,C.default)();var V=document.all&&!window.atob;return J(H.disable)||V?Y():(H.disableMutationObserver||h.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),H.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",H.easing),document.querySelector("body").setAttribute("data-aos-duration",H.duration),document.querySelector("body").setAttribute("data-aos-delay",H.delay),H.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?X(!0):H.startEvent==="load"?window.addEventListener(H.startEvent,function(){X(!0)}):document.addEventListener(H.startEvent,function(){X(!0)}),window.addEventListener("resize",(0,x.default)(X,H.debounceDelay,!0)),window.addEventListener("orientationchange",(0,x.default)(X,H.debounceDelay,!0)),window.addEventListener("scroll",(0,d.default)(function(){(0,w.default)(B,H.once)},H.throttleDelay)),H.disableMutationObserver||h.default.ready("[data-aos]",$),B)};r.exports={init:A,refresh:X,refreshHard:$}},function(r,n){},,,,,function(r,n){(function(s){function o(J,A,U){function V(Z){var D=F,S=ke;return F=ke=void 0,M=Z,ye=J.apply(S,D)}function K(Z){return M=Z,pe=setTimeout(ne,A),q?V(Z):ye}function te(Z){var D=Z-me,S=Z-M,f=A-D;return L?$(f,xe-S):f}function Q(Z){var D=Z-me,S=Z-M;return me===void 0||D>=A||D<0||L&&S>=xe}function ne(){var Z=Y();return Q(Z)?ue(Z):void(pe=setTimeout(ne,te(Z)))}function ue(Z){return pe=void 0,re&&F?V(Z):(F=ke=void 0,ye)}function de(){pe!==void 0&&clearTimeout(pe),M=0,F=me=ke=pe=void 0}function le(){return pe===void 0?ye:ue(Y())}function fe(){var Z=Y(),D=Q(Z);if(F=arguments,ke=this,me=Z,D){if(pe===void 0)return K(me);if(L)return pe=setTimeout(ne,A),V(me)}return pe===void 0&&(pe=setTimeout(ne,A)),ye}var F,ke,xe,ye,pe,me,M=0,q=!1,L=!1,re=!0;if(typeof J!="function")throw new TypeError(m);return A=b(A)||0,l(U)&&(q=!!U.leading,L="maxWait"in U,xe=L?X(b(U.maxWait)||0,A):xe,re="trailing"in U?!!U.trailing:re),fe.cancel=de,fe.flush=le,fe}function a(J,A,U){var V=!0,K=!0;if(typeof J!="function")throw new TypeError(m);return l(U)&&(V="leading"in U?!!U.leading:V,K="trailing"in U?!!U.trailing:K),o(J,A,{leading:V,maxWait:A,trailing:K})}function l(J){var A=typeof J>"u"?"undefined":x(J);return!!J&&(A=="object"||A=="function")}function c(J){return!!J&&(typeof J>"u"?"undefined":x(J))=="object"}function d(J){return(typeof J>"u"?"undefined":x(J))=="symbol"||c(J)&&H.call(J)==y}function b(J){if(typeof J=="number")return J;if(d(J))return h;if(l(J)){var A=typeof J.valueOf=="function"?J.valueOf():J;J=l(A)?A+"":A}if(typeof J!="string")return J===0?J:+J;J=J.replace(N,"");var U=w.test(J);return U||k.test(J)?j(J.slice(2),U?2:8):W.test(J)?h:+J}var x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},m="Expected a function",h=NaN,y="[object Symbol]",N=/^\s+|\s+$/g,W=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,k=/^0o[0-7]+$/i,j=parseInt,P=(typeof s>"u"?"undefined":x(s))=="object"&&s&&s.Object===Object&&s,C=(typeof self>"u"?"undefined":x(self))=="object"&&self&&self.Object===Object&&self,B=P||C||Function("return this")(),R=Object.prototype,H=R.toString,X=Math.max,$=Math.min,Y=function(){return B.Date.now()};r.exports=a}).call(n,function(){return this}())},function(r,n){(function(s){function o(Y,J,A){function U(re){var Z=fe,D=F;return fe=F=void 0,me=re,xe=Y.apply(D,Z)}function V(re){return me=re,ye=setTimeout(Q,J),M?U(re):xe}function K(re){var Z=re-pe,D=re-me,S=J-Z;return q?X(S,ke-D):S}function te(re){var Z=re-pe,D=re-me;return pe===void 0||Z>=J||Z<0||q&&D>=ke}function Q(){var re=$();return te(re)?ne(re):void(ye=setTimeout(Q,K(re)))}function ne(re){return ye=void 0,L&&fe?U(re):(fe=F=void 0,xe)}function ue(){ye!==void 0&&clearTimeout(ye),me=0,fe=pe=F=ye=void 0}function de(){return ye===void 0?xe:ne($())}function le(){var re=$(),Z=te(re);if(fe=arguments,F=this,pe=re,Z){if(ye===void 0)return V(pe);if(q)return ye=setTimeout(Q,J),U(pe)}return ye===void 0&&(ye=setTimeout(Q,J)),xe}var fe,F,ke,xe,ye,pe,me=0,M=!1,q=!1,L=!0;if(typeof Y!="function")throw new TypeError(x);return J=d(J)||0,a(A)&&(M=!!A.leading,q="maxWait"in A,ke=q?H(d(A.maxWait)||0,J):ke,L="trailing"in A?!!A.trailing:L),le.cancel=ue,le.flush=de,le}function a(Y){var J=typeof Y>"u"?"undefined":b(Y);return!!Y&&(J=="object"||J=="function")}function l(Y){return!!Y&&(typeof Y>"u"?"undefined":b(Y))=="object"}function c(Y){return(typeof Y>"u"?"undefined":b(Y))=="symbol"||l(Y)&&R.call(Y)==h}function d(Y){if(typeof Y=="number")return Y;if(c(Y))return m;if(a(Y)){var J=typeof Y.valueOf=="function"?Y.valueOf():Y;Y=a(J)?J+"":J}if(typeof Y!="string")return Y===0?Y:+Y;Y=Y.replace(y,"");var A=W.test(Y);return A||w.test(Y)?k(Y.slice(2),A?2:8):N.test(Y)?m:+Y}var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},x="Expected a function",m=NaN,h="[object Symbol]",y=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,w=/^0o[0-7]+$/i,k=parseInt,j=(typeof s>"u"?"undefined":b(s))=="object"&&s&&s.Object===Object&&s,P=(typeof self>"u"?"undefined":b(self))=="object"&&self&&self.Object===Object&&self,C=j||P||Function("return this")(),B=Object.prototype,R=B.toString,H=Math.max,X=Math.min,$=function(){return C.Date.now()};r.exports=o}).call(n,function(){return this}())},function(r,n){function s(b){var x=void 0,m=void 0;for(x=0;x<b.length;x+=1)if(m=b[x],m.dataset&&m.dataset.aos||m.children&&s(m.children))return!0;return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!o()}function l(b,x){var m=window.document,h=o(),y=new h(c);d=x,y.observe(m.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function c(b){b&&b.forEach(function(x){var m=Array.prototype.slice.call(x.addedNodes),h=Array.prototype.slice.call(x.removedNodes),y=m.concat(h);if(s(y))return d()})}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){};n.default={isSupported:a,ready:l}},function(r,n){function s(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(h,y){for(var N=0;N<y.length;N++){var W=y[N];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(h,W.key,W)}}return function(h,y,N){return y&&m(h.prototype,y),N&&m(h,N),h}}(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,d=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,b=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,x=function(){function m(){s(this,m)}return a(m,[{key:"phone",value:function(){var h=o();return!(!l.test(h)&&!c.test(h.substr(0,4)))}},{key:"mobile",value:function(){var h=o();return!(!d.test(h)&&!b.test(h.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),m}();n.default=new x},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var s=function(a,l,c){var d=a.node.getAttribute("data-aos-once");l>a.position?a.node.classList.add("aos-animate"):typeof d<"u"&&(d==="false"||!c&&d!=="true")&&a.node.classList.remove("aos-animate")},o=function(a,l){var c=window.pageYOffset,d=window.innerHeight;a.forEach(function(b,x){s(b,d+c,l)})};n.default=o},function(r,n,s){function o(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(n,"__esModule",{value:!0});var a=s(12),l=o(a),c=function(d,b){return d.forEach(function(x,m){x.node.classList.add("aos-init"),x.position=(0,l.default)(x.node,b.offset)}),d};n.default=c},function(r,n,s){function o(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(n,"__esModule",{value:!0});var a=s(13),l=o(a),c=function(d,b){var x=0,m=0,h=window.innerHeight,y={offset:d.getAttribute("data-aos-offset"),anchor:d.getAttribute("data-aos-anchor"),anchorPlacement:d.getAttribute("data-aos-anchor-placement")};switch(y.offset&&!isNaN(y.offset)&&(m=parseInt(y.offset)),y.anchor&&document.querySelectorAll(y.anchor)&&(d=document.querySelectorAll(y.anchor)[0]),x=(0,l.default)(d).top,y.anchorPlacement){case"top-bottom":break;case"center-bottom":x+=d.offsetHeight/2;break;case"bottom-bottom":x+=d.offsetHeight;break;case"top-center":x+=h/2;break;case"bottom-center":x+=h/2+d.offsetHeight;break;case"center-center":x+=h/2+d.offsetHeight/2;break;case"top-top":x+=h;break;case"bottom-top":x+=d.offsetHeight+h;break;case"center-top":x+=d.offsetHeight/2+h}return y.anchorPlacement||y.offset||isNaN(b)||(m=b),x+m};n.default=c},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var s=function(o){for(var a=0,l=0;o&&!isNaN(o.offsetLeft)&&!isNaN(o.offsetTop);)a+=o.offsetLeft-(o.tagName!="BODY"?o.scrollLeft:0),l+=o.offsetTop-(o.tagName!="BODY"?o.scrollTop:0),o=o.offsetParent;return{top:l,left:a}};n.default=s},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var s=function(o){return o=o||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(o,function(a){return{node:a}})};n.default=s}])})})(V2);var G3=V2.exports;const Y3=Oh(G3);typeof global>"u"&&(window.global=window);const K3=document.getElementById("root"),Z3=J1(K3);function X3(){return T.useEffect(()=>{Y3.init({duration:800,once:!0})},[]),i.jsx(q3,{})}Z3.render(i.jsx(X3,{}));
